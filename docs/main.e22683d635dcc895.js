"use strict";(self.webpackChunktransfer_pricing_digital=self.webpackChunktransfer_pricing_digital||[]).push([[179],{2011:(at,De,P)=>{P.d(De,{Dh:()=>fe,GT:()=>he,cc:()=>Me,hO:()=>Be,on:()=>$,pX:()=>oe,xv:()=>ge});var c=P(4650),te=P(127),N=P(5813);at=P.hmd(at);const le=["ngOnDestroy"],oe=(me,Xe,st,Ae={})=>new Proxy(me,{get:(be,Ie)=>st.runOutsideAngular(()=>{var He;if(me[Ie])return!(null===(He=Ae?.spy)||void 0===He)&&He.get&&Ae.spy.get(Ie,me[Ie]),me[Ie];if(le.indexOf(Ie)>-1)return()=>{};const $e=Xe.toPromise().then(j=>{const ye=j&&j[Ie];return"function"==typeof ye?ye.bind(j):ye&&ye.then?ye.then(Q=>st.run(()=>Q)):st.run(()=>ye)});return new Proxy(()=>{},{get:(j,ye)=>$e[ye],apply:(j,ye,Q)=>$e.then(ne=>{var ae;const se=ne&&ne(...Q);return!(null===(ae=Ae?.spy)||void 0===ae)&&ae.apply&&Ae.spy.apply(Ie,Q,se),se})})})}),he=(me,Xe)=>{Xe.forEach(st=>{Object.getOwnPropertyNames(st.prototype||st).forEach(Ae=>{Object.defineProperty(me.prototype,Ae,Object.getOwnPropertyDescriptor(st.prototype||st,Ae))})})};class ie{constructor(Xe){return Xe}}const fe=new c.OlP("angularfire2.app.options"),ge=new c.OlP("angularfire2.app.name");function $(me,Xe,st){const be="object"==typeof st&&st||{};be.name=be.name||"string"==typeof st&&st||"[DEFAULT]";const He=te.Z.apps.filter($e=>$e&&$e.name===be.name)[0]||Xe.runOutsideAngular(()=>te.Z.initializeApp(me,be));try{JSON.stringify(me)!==JSON.stringify(He.options)&&z("error",`${He.name} Firebase App already initialized with different options${at.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new ie(He)}const z=(me,...Xe)=>{(0,c.X6Q)()&&typeof console<"u"&&console[me](...Xe)},X={provide:ie,useFactory:$,deps:[fe,c.R0b,[new c.FiY,ge]]};let Be=(()=>{class me{constructor(st){te.Z.registerVersion("angularfire",N.q4.full,"core"),te.Z.registerVersion("angularfire",N.q4.full,"app-compat"),te.Z.registerVersion("angular",c.q4F.full,st.toString())}static initializeApp(st,Ae){return{ngModule:me,providers:[{provide:fe,useValue:st},{provide:ge,useValue:Ae}]}}}return me.\u0275fac=function(st){return new(st||me)(c.LFG(c.Lbi))},me.\u0275mod=c.oAB({type:me}),me.\u0275inj=c.cJS({providers:[X]}),me})();function Me(me,Xe,st,Ae,be){const[,Ie,He]=globalThis.\u0275AngularfireInstanceCache.find($e=>$e[0]===me)||[];if(Ie)return function Ce(me,Xe){try{return me.toString()===Xe.toString()}catch{return me===Xe}}(be,He)||(ve("error",`${Xe} was already initialized on the ${st} Firebase App with different settings.${et?" You may need to reload as Firebase is not HMR aware.":""}`),ve("warn",{is:be,was:He})),Ie;{const $e=Ae();return globalThis.\u0275AngularfireInstanceCache.push([me,$e,be]),$e}}const et=!!at.hot,ve=(me,...Xe)=>{(0,c.X6Q)()&&typeof console<"u"&&console[me](...Xe)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(at,De,P)=>{P.d(De,{q4:()=>Pi,iC:()=>bs,HU:()=>ec,vb:()=>Qi,JM:()=>Ga});var c=P(4650),te=P(5867),N=P(5861),le=P(9681),oe=P(2090),he=P(4859),ie=P(1877),fe=P(8766);const ge="@firebase/installations",$="0.5.12",X=`w:${$}`,Be="FIS_v2",Xe=new oe.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function st(D){return D instanceof oe.ZR&&D.code.includes("request-failed")}function Ae({projectId:D}){return`https://firebaseinstallations.googleapis.com/v1/projects/${D}/installations`}function be(D){return{token:D.token,requestStatus:2,expiresIn:ne(D.expiresIn),creationTime:Date.now()}}function Ie(D,T){return He.apply(this,arguments)}function He(){return(He=(0,N.Z)(function*(D,T){const V=(yield T.json()).error;return Xe.create("request-failed",{requestName:D,serverCode:V.code,serverMessage:V.message,serverStatus:V.status})})).apply(this,arguments)}function $e({apiKey:D}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":D})}function j(D,{refreshToken:T}){const k=$e(D);return k.append("Authorization",function ae(D){return`${Be} ${D}`}(T)),k}function ye(D){return Q.apply(this,arguments)}function Q(){return(Q=(0,N.Z)(function*(D){const T=yield D();return T.status>=500&&T.status<600?D():T})).apply(this,arguments)}function ne(D){return Number(D.replace("s","000"))}function se(D,T){return Ne.apply(this,arguments)}function Ne(){return(Ne=(0,N.Z)(function*({appConfig:D,heartbeatServiceProvider:T},{fid:k}){const V=Ae(D),J=$e(D),ce=T.getImmediate({optional:!0});if(ce){const vt=yield ce.getHeartbeatsHeader();vt&&J.append("x-firebase-client",vt)}const je={method:"POST",headers:J,body:JSON.stringify({fid:k,authVersion:Be,appId:D.appId,sdkVersion:X})},ut=yield ye(()=>fetch(V,je));if(ut.ok){const vt=yield ut.json();return{fid:vt.fid||k,registrationStatus:2,refreshToken:vt.refreshToken,authToken:be(vt.authToken)}}throw yield Ie("Create Installation",ut)})).apply(this,arguments)}function Oe(D){return new Promise(T=>{setTimeout(T,D)})}const Wt=/^[cdef][\w-]{21}$/;function qe(){try{const D=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(D),D[0]=112+D[0]%16;const k=function an(D){return function ht(D){return btoa(String.fromCharCode(...D)).replace(/\+/g,"-").replace(/\//g,"_")}(D).substr(0,22)}(D);return Wt.test(k)?k:""}catch{return""}}function On(D){return`${D.appName}!${D.appId}`}const Yt=new Map;function Qt(D,T){const k=On(D);rn(k,T),function Ca(D,T){const k=function Ei(){return!$i&&"BroadcastChannel"in self&&($i=new BroadcastChannel("[Firebase] FID Change"),$i.onmessage=D=>{rn(D.data.key,D.data.fid)}),$i}();k&&k.postMessage({key:D,fid:T}),function Gi(){0===Yt.size&&$i&&($i.close(),$i=null)}()}(k,T)}function rn(D,T){const k=Yt.get(D);if(k)for(const V of k)V(T)}let $i=null;const zi="firebase-installations-store";let Dr=null;function Vo(){return Dr||(Dr=(0,fe.X3)("firebase-installations-database",1,{upgrade:(D,T)=>{0===T&&D.createObjectStore(zi)}})),Dr}function Ke(D,T){return qi.apply(this,arguments)}function qi(){return(qi=(0,N.Z)(function*(D,T){const k=On(D),J=(yield Vo()).transaction(zi,"readwrite"),ce=J.objectStore(zi),Se=yield ce.get(k);return yield ce.put(T,k),yield J.done,(!Se||Se.fid!==T.fid)&&Qt(D,T.fid),T})).apply(this,arguments)}function os(D){return Pn.apply(this,arguments)}function Pn(){return(Pn=(0,N.Z)(function*(D){const T=On(D),V=(yield Vo()).transaction(zi,"readwrite");yield V.objectStore(zi).delete(T),yield V.done})).apply(this,arguments)}function Tr(D,T){return or.apply(this,arguments)}function or(){return(or=(0,N.Z)(function*(D,T){const k=On(D),J=(yield Vo()).transaction(zi,"readwrite"),ce=J.objectStore(zi),Se=yield ce.get(k),je=T(Se);return void 0===je?yield ce.delete(k):yield ce.put(je,k),yield J.done,je&&(!Se||Se.fid!==je.fid)&&Qt(D,je.fid),je})).apply(this,arguments)}function Nn(D){return Kn.apply(this,arguments)}function Kn(){return(Kn=(0,N.Z)(function*(D){let T;const k=yield Tr(D.appConfig,V=>{const J=gn(V),ce=mt(D,J);return T=ce.registrationPromise,ce.installationEntry});return""===k.fid?{installationEntry:yield T}:{installationEntry:k,registrationPromise:T}})).apply(this,arguments)}function gn(D){return It(D||{fid:qe(),registrationStatus:0})}function mt(D,T){if(0===T.registrationStatus){if(!navigator.onLine)return{installationEntry:T,registrationPromise:Promise.reject(Xe.create("app-offline"))};const k={fid:T.fid,registrationStatus:1,registrationTime:Date.now()},V=function ct(D,T){return ln.apply(this,arguments)}(D,k);return{installationEntry:k,registrationPromise:V}}return 1===T.registrationStatus?{installationEntry:T,registrationPromise:li(D)}:{installationEntry:T}}function ln(){return(ln=(0,N.Z)(function*(D,T){try{const k=yield se(D,T);return Ke(D.appConfig,k)}catch(k){throw st(k)&&409===k.customData.serverCode?yield os(D.appConfig):yield Ke(D.appConfig,{fid:T.fid,registrationStatus:0}),k}})).apply(this,arguments)}function li(D){return ci.apply(this,arguments)}function ci(){return(ci=(0,N.Z)(function*(D){let T=yield Ai(D.appConfig);for(;1===T.registrationStatus;)yield Oe(100),T=yield Ai(D.appConfig);if(0===T.registrationStatus){const{installationEntry:k,registrationPromise:V}=yield Nn(D);return V||k}return T})).apply(this,arguments)}function Ai(D){return Tr(D,T=>{if(!T)throw Xe.create("installation-not-found");return It(T)})}function It(D){return function as(D){return 1===D.registrationStatus&&D.registrationTime+1e4<Date.now()}(D)?{fid:D.fid,registrationStatus:0}:D}function Xt(D,T){return Sr.apply(this,arguments)}function Sr(){return(Sr=(0,N.Z)(function*({appConfig:D,heartbeatServiceProvider:T},k){const V=Kt(D,k),J=j(D,k),ce=T.getImmediate({optional:!0});if(ce){const vt=yield ce.getHeartbeatsHeader();vt&&J.append("x-firebase-client",vt)}const je={method:"POST",headers:J,body:JSON.stringify({installation:{sdkVersion:X,appId:D.appId}})},ut=yield ye(()=>fetch(V,je));if(ut.ok)return be(yield ut.json());throw yield Ie("Generate Auth Token",ut)})).apply(this,arguments)}function Kt(D,{fid:T}){return`${Ae(D)}/${T}/authTokens:generate`}function Y(D){return G.apply(this,arguments)}function G(){return(G=(0,N.Z)(function*(D,T=!1){let k;const V=yield Tr(D.appConfig,ce=>{if(!lt(ce))throw Xe.create("not-registered");const Se=ce.authToken;if(!T&&hn(Se))return ce;if(1===Se.requestStatus)return k=H(D,T),ce;{if(!navigator.onLine)throw Xe.create("app-offline");const je=Yn(ce);return k=Te(D,je),je}});return k?yield k:V.authToken})).apply(this,arguments)}function H(D,T){return q.apply(this,arguments)}function q(){return(q=(0,N.Z)(function*(D,T){let k=yield W(D.appConfig);for(;1===k.authToken.requestStatus;)yield Oe(100),k=yield W(D.appConfig);const V=k.authToken;return 0===V.requestStatus?Y(D,T):V})).apply(this,arguments)}function W(D){return Tr(D,T=>{if(!lt(T))throw Xe.create("not-registered");return function Bt(D){return 1===D.requestStatus&&D.requestTime+1e4<Date.now()}(T.authToken)?Object.assign(Object.assign({},T),{authToken:{requestStatus:0}}):T})}function Te(D,T){return Ue.apply(this,arguments)}function Ue(){return(Ue=(0,N.Z)(function*(D,T){try{const k=yield Xt(D,T),V=Object.assign(Object.assign({},T),{authToken:k});return yield Ke(D.appConfig,V),k}catch(k){if(!st(k)||401!==k.customData.serverCode&&404!==k.customData.serverCode){const V=Object.assign(Object.assign({},T),{authToken:{requestStatus:0}});yield Ke(D.appConfig,V)}else yield os(D.appConfig);throw k}})).apply(this,arguments)}function lt(D){return void 0!==D&&2===D.registrationStatus}function hn(D){return 2===D.requestStatus&&!function Jt(D){const T=Date.now();return T<D.creationTime||D.creationTime+D.expiresIn<T+36e5}(D)}function Yn(D){const T={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},D),{authToken:T})}function yn(){return(yn=(0,N.Z)(function*(D){const T=D,{installationEntry:k,registrationPromise:V}=yield Nn(T);return V?V.catch(console.error):Y(T).catch(console.error),k.fid})).apply(this,arguments)}function Hr(){return(Hr=(0,N.Z)(function*(D,T=!1){const k=D;return yield Mi(k),(yield Y(k,T)).token})).apply(this,arguments)}function Mi(D){return Hn.apply(this,arguments)}function Hn(){return(Hn=(0,N.Z)(function*(D){const{registrationPromise:T}=yield Nn(D);T&&(yield T)})).apply(this,arguments)}function Ps(D){return Xe.create("missing-app-config-values",{valueName:D})}const ro="installations",bn=D=>{const T=D.getProvider("app").getImmediate(),k=function vn(D){if(!D||!D.options)throw Ps("App Configuration");if(!D.name)throw Ps("App Name");const T=["projectId","apiKey","appId"];for(const k of T)if(!D.options[k])throw Ps(k);return{appName:D.name,projectId:D.options.projectId,apiKey:D.options.apiKey,appId:D.options.appId}}(T);return{app:T,appConfig:k,heartbeatServiceProvider:(0,le._getProvider)(T,"heartbeat"),_delete:()=>Promise.resolve()}},so=D=>{const T=D.getProvider("app").getImmediate(),k=(0,le._getProvider)(T,ro).getImmediate();return{getId:()=>function Ot(D){return yn.apply(this,arguments)}(k),getToken:J=>function Un(D){return Hr.apply(this,arguments)}(k,J)}};(function xc(){(0,le._registerComponent)(new he.wA(ro,bn,"PUBLIC")),(0,le._registerComponent)(new he.wA("installations-internal",so,"PRIVATE"))})(),(0,le.registerVersion)(ge,$),(0,le.registerVersion)(ge,$,"esm2017");const jr="@firebase/remote-config",$n=new oe.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Yu{constructor(T,k,V,J){this.client=T,this.storage=k,this.storageCache=V,this.logger=J}isCachedDataFresh(T,k){if(!k)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const V=Date.now()-k,J=V<=T;return this.logger.debug(`Config fetch cache check. Cache age millis: ${V}. Cache max age millis (minimumFetchIntervalMillis setting): ${T}. Is cache hit: ${J}.`),J}fetch(T){var k=this;return(0,N.Z)(function*(){const[V,J]=yield Promise.all([k.storage.getLastSuccessfulFetchTimestampMillis(),k.storage.getLastSuccessfulFetchResponse()]);if(J&&k.isCachedDataFresh(T.cacheMaxAgeMillis,V))return J;T.eTag=J&&J.eTag;const ce=yield k.client.fetch(T),Se=[k.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===ce.status&&Se.push(k.storage.setLastSuccessfulFetchResponse(ce)),yield Promise.all(Se),ce})()}}function Oc(D=navigator){return D.languages&&D.languages[0]||D.language}class Pc{constructor(T,k,V,J,ce,Se){this.firebaseInstallations=T,this.sdkVersion=k,this.namespace=V,this.projectId=J,this.apiKey=ce,this.appId=Se}fetch(T){var k=this;return(0,N.Z)(function*(){var V,J,ce;const[Se,je]=yield Promise.all([k.firebaseInstallations.getId(),k.firebaseInstallations.getToken()]),vt=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${k.projectId}/namespaces/${k.namespace}:fetch?key=${k.apiKey}`,xt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":T.eTag||"*"},ft={sdk_version:k.sdkVersion,app_instance_id:Se,app_instance_id_token:je,app_id:k.appId,language_code:Oc()},wn={method:"POST",headers:xt,body:JSON.stringify(ft)},fi=fetch(vt,wn),qs=new Promise((Xi,Ws)=>{T.signal.addEventListener(()=>{const rf=new Error("The operation was aborted.");rf.name="AbortError",Ws(rf)})});let ws;try{yield Promise.race([fi,qs]),ws=yield fi}catch(Xi){let Ws="fetch-client-network";throw"AbortError"===(null===(V=Xi)||void 0===V?void 0:V.name)&&(Ws="fetch-timeout"),$n.create(Ws,{originalErrorMessage:null===(J=Xi)||void 0===J?void 0:J.message})}let Zs=ws.status;const Io=ws.headers.get("ETag")||void 0;let Cs,kn;if(200===ws.status){let Xi;try{Xi=yield ws.json()}catch(Ws){throw $n.create("fetch-client-parse",{originalErrorMessage:null===(ce=Ws)||void 0===ce?void 0:ce.message})}Cs=Xi.entries,kn=Xi.state}if("INSTANCE_STATE_UNSPECIFIED"===kn?Zs=500:"NO_CHANGE"===kn?Zs=304:("NO_TEMPLATE"===kn||"EMPTY_CONFIG"===kn)&&(Cs={}),304!==Zs&&200!==Zs)throw $n.create("fetch-status",{httpStatus:Zs});return{status:Zs,eTag:Io,config:Cs}})()}}class Kp{constructor(T,k){this.client=T,this.storage=k}fetch(T){var k=this;return(0,N.Z)(function*(){const V=(yield k.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return k.attemptFetch(T,V)})()}attemptFetch(T,{throttleEndTimeMillis:k,backoffCount:V}){var J=this;return(0,N.Z)(function*(){yield function Xn(D,T){return new Promise((k,V)=>{const J=Math.max(T-Date.now(),0),ce=setTimeout(k,J);D.addEventListener(()=>{clearTimeout(ce),V($n.create("fetch-throttle",{throttleEndTimeMillis:T}))})})}(T.signal,k);try{const ce=yield J.client.fetch(T);return yield J.storage.deleteThrottleMetadata(),ce}catch(ce){if(!function Qu(D){if(!(D instanceof oe.ZR&&D.customData))return!1;const T=Number(D.customData.httpStatus);return 429===T||500===T||503===T||504===T}(ce))throw ce;const Se={throttleEndTimeMillis:Date.now()+(0,oe.$s)(V),backoffCount:V+1};return yield J.storage.setThrottleMetadata(Se),J.attemptFetch(T,Se)}})()}}class Xu{constructor(T,k,V,J,ce){this.app=T,this._client=k,this._storageCache=V,this._storage=J,this._logger=ce,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Nc(D,T){var k;const V=D.target.error||void 0;return $n.create(T,{originalErrorMessage:V&&(null===(k=V)||void 0===k?void 0:k.message)})}const Vs="app_namespace_store";class Jp{constructor(T,k,V,J=function Xp(){return new Promise((D,T)=>{var k;try{const V=indexedDB.open("firebase_remote_config",1);V.onerror=J=>{T(Nc(J,"storage-open"))},V.onsuccess=J=>{D(J.target.result)},V.onupgradeneeded=J=>{0===J.oldVersion&&J.target.result.createObjectStore(Vs,{keyPath:"compositeKey"})}}catch(V){T($n.create("storage-open",{originalErrorMessage:null===(k=V)||void 0===k?void 0:k.message}))}})}()){this.appId=T,this.appName=k,this.namespace=V,this.openDbPromise=J}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(T){return this.set("last_fetch_status",T)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(T){return this.set("last_successful_fetch_timestamp_millis",T)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(T){return this.set("last_successful_fetch_response",T)}getActiveConfig(){return this.get("active_config")}setActiveConfig(T){return this.set("active_config",T)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(T){return this.set("active_config_etag",T)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(T){return this.set("throttle_metadata",T)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(T){var k=this;return(0,N.Z)(function*(){const V=yield k.openDbPromise;return new Promise((J,ce)=>{var Se;const ut=V.transaction([Vs],"readonly").objectStore(Vs),vt=k.createCompositeKey(T);try{const xt=ut.get(vt);xt.onerror=ft=>{ce(Nc(ft,"storage-get"))},xt.onsuccess=ft=>{const wn=ft.target.result;J(wn?wn.value:void 0)}}catch(xt){ce($n.create("storage-get",{originalErrorMessage:null===(Se=xt)||void 0===Se?void 0:Se.message}))}})})()}set(T,k){var V=this;return(0,N.Z)(function*(){const J=yield V.openDbPromise;return new Promise((ce,Se)=>{var je;const vt=J.transaction([Vs],"readwrite").objectStore(Vs),xt=V.createCompositeKey(T);try{const ft=vt.put({compositeKey:xt,value:k});ft.onerror=wn=>{Se(Nc(wn,"storage-set"))},ft.onsuccess=()=>{ce()}}catch(ft){Se($n.create("storage-set",{originalErrorMessage:null===(je=ft)||void 0===je?void 0:je.message}))}})})()}delete(T){var k=this;return(0,N.Z)(function*(){const V=yield k.openDbPromise;return new Promise((J,ce)=>{var Se;const ut=V.transaction([Vs],"readwrite").objectStore(Vs),vt=k.createCompositeKey(T);try{const xt=ut.delete(vt);xt.onerror=ft=>{ce(Nc(ft,"storage-delete"))},xt.onsuccess=()=>{J()}}catch(xt){ce($n.create("storage-delete",{originalErrorMessage:null===(Se=xt)||void 0===Se?void 0:Se.message}))}})})()}createCompositeKey(T){return[this.appId,this.appName,this.namespace,T].join()}}class ed{constructor(T){this.storage=T}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var T=this;return(0,N.Z)(function*(){const k=T.storage.getLastFetchStatus(),V=T.storage.getLastSuccessfulFetchTimestampMillis(),J=T.storage.getActiveConfig(),ce=yield k;ce&&(T.lastFetchStatus=ce);const Se=yield V;Se&&(T.lastSuccessfulFetchTimestampMillis=Se);const je=yield J;je&&(T.activeConfig=je)})()}setLastFetchStatus(T){return this.lastFetchStatus=T,this.storage.setLastFetchStatus(T)}setLastSuccessfulFetchTimestampMillis(T){return this.lastSuccessfulFetchTimestampMillis=T,this.storage.setLastSuccessfulFetchTimestampMillis(T)}setActiveConfig(T){return this.activeConfig=T,this.storage.setActiveConfig(T)}}function Cl(){return Zh.apply(this,arguments)}function Zh(){return(Zh=(0,N.Z)(function*(){if(!(0,oe.hl)())return!1;try{return yield(0,oe.eu)()}catch{return!1}})).apply(this,arguments)}!function Bs(){(0,le._registerComponent)(new he.wA("remote-config",function D(T,{instanceIdentifier:k}){const V=T.getProvider("app").getImmediate(),J=T.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw $n.create("registration-window");if(!(0,oe.hl)())throw $n.create("indexed-db-unavailable");const{projectId:ce,apiKey:Se,appId:je}=V.options;if(!ce)throw $n.create("registration-project-id");if(!Se)throw $n.create("registration-api-key");if(!je)throw $n.create("registration-app-id");const ut=new Jp(je,V.name,k=k||"firebase"),vt=new ed(ut),xt=new ie.Yd(jr);xt.logLevel=ie.in.ERROR;const ft=new Pc(J,le.SDK_VERSION,k,ce,Se,je),wn=new Kp(ft,ut),fi=new Yu(wn,ut,vt,xt),qs=new Xu(V,fi,vt,ut,xt);return function Dn(D){const T=(0,oe.m9)(D);T._initializePromise||(T._initializePromise=T._storageCache.loadFromStorage().then(()=>{T._isInitializationComplete=!0}))}(qs),qs},"PUBLIC").setMultipleInstances(!0)),(0,le.registerVersion)(jr,"0.3.11"),(0,le.registerVersion)(jr,"0.3.11","esm2017")}();const $r="/firebase-messaging-sw.js",us="/firebase-cloud-messaging-push-scope",ds="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Ta="google.c.a.c_id",El="google.c.a.c_l",Fc="google.c.a.ts",Wh="google.c.a.e";var hs=(()=>{return(D=hs||(hs={})).PUSH_RECEIVED="push-received",D.NOTIFICATION_CLICKED="notification-clicked",hs;var D})();function cr(D){const T=new Uint8Array(D);return btoa(String.fromCharCode(...T)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Zi(D){const k=(D+"=".repeat((4-D.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),V=atob(k),J=new Uint8Array(V.length);for(let ce=0;ce<V.length;++ce)J[ce]=V.charCodeAt(ce);return J}const Bo="fcm_token_details_db",yi="fcm_token_object_Store";function Kh(D){return Yh.apply(this,arguments)}function Yh(){return Yh=(0,N.Z)(function*(D){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(ce=>ce.name).includes(Bo))return null;let T=null;return(yield(0,fe.X3)(Bo,5,{upgrade:(V=(0,N.Z)(function*(J,ce,Se,je){var ut;if(ce<2||!J.objectStoreNames.contains(yi))return;const vt=je.objectStore(yi),xt=yield vt.index("fcmSenderId").get(D);if(yield vt.clear(),xt)if(2===ce){const ft=xt;if(!ft.auth||!ft.p256dh||!ft.endpoint)return;T={token:ft.fcmToken,createTime:null!==(ut=ft.createTime)&&void 0!==ut?ut:Date.now(),subscriptionOptions:{auth:ft.auth,p256dh:ft.p256dh,endpoint:ft.endpoint,swScope:ft.swScope,vapidKey:"string"==typeof ft.vapidKey?ft.vapidKey:cr(ft.vapidKey)}}}else if(3===ce){const ft=xt;T={token:ft.fcmToken,createTime:ft.createTime,subscriptionOptions:{auth:cr(ft.auth),p256dh:cr(ft.p256dh),endpoint:ft.endpoint,swScope:ft.swScope,vapidKey:cr(ft.vapidKey)}}}else if(4===ce){const ft=xt;T={token:ft.fcmToken,createTime:ft.createTime,subscriptionOptions:{auth:cr(ft.auth),p256dh:cr(ft.p256dh),endpoint:ft.endpoint,swScope:ft.swScope,vapidKey:cr(ft.vapidKey)}}}}),function(ce,Se,je,ut){return V.apply(this,arguments)})})).close(),yield(0,fe.Lj)(Bo),yield(0,fe.Lj)("fcm_vapid_details_db"),yield(0,fe.Lj)("undefined"),Tn(T)?T:null;var V}),Yh.apply(this,arguments)}function Tn(D){if(!D||!D.subscriptionOptions)return!1;const{subscriptionOptions:T}=D;return"number"==typeof D.createTime&&D.createTime>0&&"string"==typeof D.token&&D.token.length>0&&"string"==typeof T.auth&&T.auth.length>0&&"string"==typeof T.p256dh&&T.p256dh.length>0&&"string"==typeof T.endpoint&&T.endpoint.length>0&&"string"==typeof T.swScope&&T.swScope.length>0&&"string"==typeof T.vapidKey&&T.vapidKey.length>0}const ur="firebase-messaging-store";let Ri=null;function Dl(){return Ri||(Ri=(0,fe.X3)("firebase-messaging-database",1,{upgrade:(D,T)=>{0===T&&D.createObjectStore(ur)}})),Ri}function lo(D){return fs.apply(this,arguments)}function fs(){return(fs=(0,N.Z)(function*(D){const T=Mr(D),V=yield(yield Dl()).transaction(ur).objectStore(ur).get(T);if(V)return V;{const J=yield Kh(D.appConfig.senderId);if(J)return yield Zt(D,J),J}})).apply(this,arguments)}function Zt(D,T){return Sa.apply(this,arguments)}function Sa(){return(Sa=(0,N.Z)(function*(D,T){const k=Mr(D),J=(yield Dl()).transaction(ur,"readwrite");return yield J.objectStore(ur).put(T,k),yield J.done,T})).apply(this,arguments)}function co(D){return Tl.apply(this,arguments)}function Tl(){return(Tl=(0,N.Z)(function*(D){const T=Mr(D),V=(yield Dl()).transaction(ur,"readwrite");yield V.objectStore(ur).delete(T),yield V.done})).apply(this,arguments)}function Mr({appConfig:D}){return D.appId}const En=new oe.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Dt(D,T){return xl.apply(this,arguments)}function xl(){return(xl=(0,N.Z)(function*(D,T){var k;const V=yield Bc(D),J=xe(T),ce={method:"POST",headers:V,body:JSON.stringify(J)};let Se;try{Se=yield(yield fetch(ps(D.appConfig),ce)).json()}catch(je){throw En.create("token-subscribe-failed",{errorInfo:null===(k=je)||void 0===k?void 0:k.toString()})}if(Se.error)throw En.create("token-subscribe-failed",{errorInfo:Se.error.message});if(!Se.token)throw En.create("token-subscribe-no-token");return Se.token})).apply(this,arguments)}function Xh(D,T){return Al.apply(this,arguments)}function Al(){return(Al=(0,N.Z)(function*(D,T){var k;const V=yield Bc(D),J=xe(T.subscriptionOptions),ce={method:"PATCH",headers:V,body:JSON.stringify(J)};let Se;try{Se=yield(yield fetch(`${ps(D.appConfig)}/${T.token}`,ce)).json()}catch(je){throw En.create("token-update-failed",{errorInfo:null===(k=je)||void 0===k?void 0:k.toString()})}if(Se.error)throw En.create("token-update-failed",{errorInfo:Se.error.message});if(!Se.token)throw En.create("token-update-no-token");return Se.token})).apply(this,arguments)}function Ml(D,T){return Vc.apply(this,arguments)}function Vc(){return(Vc=(0,N.Z)(function*(D,T){var k;const J={method:"DELETE",headers:yield Bc(D)};try{const Se=yield(yield fetch(`${ps(D.appConfig)}/${T}`,J)).json();if(Se.error)throw En.create("token-unsubscribe-failed",{errorInfo:Se.error.message})}catch(ce){throw En.create("token-unsubscribe-failed",{errorInfo:null===(k=ce)||void 0===k?void 0:k.toString()})}})).apply(this,arguments)}function ps({projectId:D}){return`https://fcmregistrations.googleapis.com/v1/projects/${D}/registrations`}function Bc(D){return xa.apply(this,arguments)}function xa(){return(xa=(0,N.Z)(function*({appConfig:D,installations:T}){const k=yield T.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":D.apiKey,"x-goog-firebase-installations-auth":`FIS ${k}`})})).apply(this,arguments)}function xe({p256dh:D,auth:T,endpoint:k,vapidKey:V}){const J={web:{endpoint:k,auth:T,p256dh:D}};return V!==ds&&(J.web.applicationPubKey=V),J}const Ut=6048e5;function kl(D){return Rl.apply(this,arguments)}function Rl(){return(Rl=(0,N.Z)(function*(D){const T=yield Uc(D.swRegistration,D.vapidKey),k={vapidKey:D.vapidKey,swScope:D.swRegistration.scope,endpoint:T.endpoint,auth:cr(T.getKey("auth")),p256dh:cr(T.getKey("p256dh"))},V=yield lo(D.firebaseDependencies);if(V){if(id(V.subscriptionOptions,k))return Date.now()>=V.createTime+Ut?Uo(D,{token:V.token,createTime:Date.now(),subscriptionOptions:k}):V.token;try{yield Ml(D.firebaseDependencies,V.token)}catch(J){console.warn(J)}return Aa(D.firebaseDependencies,k)}return Aa(D.firebaseDependencies,k)})).apply(this,arguments)}function Sn(D){return Ol.apply(this,arguments)}function Ol(){return(Ol=(0,N.Z)(function*(D){const T=yield lo(D.firebaseDependencies);T&&(yield Ml(D.firebaseDependencies,T.token),yield co(D.firebaseDependencies));const k=yield D.swRegistration.pushManager.getSubscription();return!k||k.unsubscribe()})).apply(this,arguments)}function Uo(D,T){return dr.apply(this,arguments)}function dr(){return(dr=(0,N.Z)(function*(D,T){try{const k=yield Xh(D.firebaseDependencies,T),V=Object.assign(Object.assign({},T),{token:k,createTime:Date.now()});return yield Zt(D.firebaseDependencies,V),k}catch(k){throw yield Sn(D),k}})).apply(this,arguments)}function Aa(D,T){return Ma.apply(this,arguments)}function Ma(){return(Ma=(0,N.Z)(function*(D,T){const V={token:yield Dt(D,T),createTime:Date.now(),subscriptionOptions:T};return yield Zt(D,V),V.token})).apply(this,arguments)}function Uc(D,T){return Hc.apply(this,arguments)}function Hc(){return(Hc=(0,N.Z)(function*(D,T){return(yield D.pushManager.getSubscription())||D.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Zi(T)})})).apply(this,arguments)}function id(D,T){return T.vapidKey===D.vapidKey&&T.endpoint===D.endpoint&&T.auth===D.auth&&T.p256dh===D.p256dh}function uo(D){const T={from:D.from,collapseKey:D.collapse_key,messageId:D.fcmMessageId};return function xn(D,T){if(!T.notification)return;D.notification={};const k=T.notification.title;k&&(D.notification.title=k);const V=T.notification.body;V&&(D.notification.body=V);const J=T.notification.image;J&&(D.notification.image=J)}(T,D),function Gr(D,T){!T.data||(D.data=T.data)}(T,D),function jc(D,T){var k,V,J,ce,Se;if(!(T.fcmOptions||null!==(k=T.notification)&&void 0!==k&&k.click_action))return;D.fcmOptions={};const je=null!==(J=null===(V=T.fcmOptions)||void 0===V?void 0:V.link)&&void 0!==J?J:null===(ce=T.notification)||void 0===ce?void 0:ce.click_action;je&&(D.fcmOptions.link=je);const ut=null===(Se=T.fcmOptions)||void 0===Se?void 0:Se.analytics_label;ut&&(D.fcmOptions.analyticsLabel=ut)}(T,D),T}function ho(D){return"object"==typeof D&&!!D&&Ta in D}function ms(D,T){const k=[];for(let V=0;V<D.length;V++)k.push(D.charAt(V)),V<T.length&&k.push(T.charAt(V));return k.join("")}function ka(D){return En.create("missing-app-config-values",{valueName:D})}ms("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),ms("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class tm{constructor(T,k,V){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const J=function em(D){if(!D||!D.options)throw ka("App Configuration Object");if(!D.name)throw ka("App Name");const T=["projectId","apiKey","appId","messagingSenderId"],{options:k}=D;for(const V of T)if(!k[V])throw ka(V);return{appName:D.name,projectId:k.projectId,apiKey:k.apiKey,appId:k.appId,senderId:k.messagingSenderId}}(T);this.firebaseDependencies={app:T,appConfig:J,installations:k,analyticsProvider:V}}_delete(){return Promise.resolve()}}function $c(D){return Pl.apply(this,arguments)}function Pl(){return(Pl=(0,N.Z)(function*(D){var T;try{D.swRegistration=yield navigator.serviceWorker.register($r,{scope:us}),D.swRegistration.update().catch(()=>{})}catch(k){throw En.create("failed-service-worker-registration",{browserErrorMessage:null===(T=k)||void 0===T?void 0:T.message})}})).apply(this,arguments)}function Ra(D,T){return Gc.apply(this,arguments)}function Gc(){return(Gc=(0,N.Z)(function*(D,T){if(!T&&!D.swRegistration&&(yield $c(D)),T||!D.swRegistration){if(!(T instanceof ServiceWorkerRegistration))throw En.create("invalid-sw-registration");D.swRegistration=T}})).apply(this,arguments)}function Oa(D,T){return zc.apply(this,arguments)}function zc(){return(zc=(0,N.Z)(function*(D,T){T?D.vapidKey=T:D.vapidKey||(D.vapidKey=ds)})).apply(this,arguments)}function Fl(){return(Fl=(0,N.Z)(function*(D,T){if(!navigator)throw En.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw En.create("permission-blocked");return yield Oa(D,T?.vapidKey),yield Ra(D,T?.serviceWorkerRegistration),kl(D)})).apply(this,arguments)}function qc(D,T,k){return Zc.apply(this,arguments)}function Zc(){return(Zc=(0,N.Z)(function*(D,T,k){const V=Wc(T);(yield D.firebaseDependencies.analyticsProvider.get()).logEvent(V,{message_id:k[Ta],message_name:k[El],message_time:k[Fc],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Wc(D){switch(D){case hs.NOTIFICATION_CLICKED:return"notification_open";case hs.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function fo(){return(fo=(0,N.Z)(function*(D,T){const k=T.data;if(!k.isFirebaseMessaging)return;D.onMessageHandler&&k.messageType===hs.PUSH_RECEIVED&&("function"==typeof D.onMessageHandler?D.onMessageHandler(uo(k)):D.onMessageHandler.next(uo(k)));const V=k.data;ho(V)&&"1"===V[Wh]&&(yield qc(D,k.messageType,V))})).apply(this,arguments)}const po="@firebase/messaging",Jn=D=>{const T=new tm(D.getProvider("app").getImmediate(),D.getProvider("installations-internal").getImmediate(),D.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",k=>function rd(D,T){return fo.apply(this,arguments)}(T,k)),T},Wi=D=>{const T=D.getProvider("messaging").getImmediate();return{getToken:V=>function Nl(D,T){return Fl.apply(this,arguments)}(T,V)}};function sd(){return Kc.apply(this,arguments)}function Kc(){return(Kc=(0,N.Z)(function*(){try{yield(0,oe.eu)()}catch{return!1}return typeof window<"u"&&(0,oe.hl)()&&(0,oe.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function _n(){(0,le._registerComponent)(new he.wA("messaging",Jn,"PUBLIC")),(0,le._registerComponent)(new he.wA("messaging-internal",Wi,"PRIVATE")),(0,le.registerVersion)(po,"0.9.16"),(0,le.registerVersion)(po,"0.9.16","esm2017")}();const $o="analytics",ld="firebase_id",mo="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Bl="https://www.googletagmanager.com/gtag/js",An=new ie.Yd("@firebase/analytics");function Ul(D){return Promise.all(D.map(T=>T.catch(k=>k)))}function Hl(D,T){const k=document.createElement("script");k.src=`${Bl}?l=${D}&id=${T}`,k.async=!0,document.head.appendChild(k)}function ef(D,T,k,V,J,ce){return go.apply(this,arguments)}function go(){return(go=(0,N.Z)(function*(D,T,k,V,J,ce){const Se=V[J];try{if(Se)yield T[Se];else{const ut=(yield Ul(k)).find(vt=>vt.measurementId===J);ut&&(yield T[ut.appId])}}catch(je){An.error(je)}D("config",J,ce)})).apply(this,arguments)}function Go(D,T,k,V,J){return _o.apply(this,arguments)}function _o(){return(_o=(0,N.Z)(function*(D,T,k,V,J){try{let ce=[];if(J&&J.send_to){let Se=J.send_to;Array.isArray(Se)||(Se=[Se]);const je=yield Ul(k);for(const ut of Se){const vt=je.find(ft=>ft.measurementId===ut),xt=vt&&T[vt.appId];if(!xt){ce=[];break}ce.push(xt)}}0===ce.length&&(ce=Object.values(T)),yield Promise.all(ce),D("event",V,J||{})}catch(ce){An.error(ce)}})).apply(this,arguments)}function ud(){const D=window.document.getElementsByTagName("script");for(const T of Object.values(D))if(T.src&&T.src.includes(Bl))return T;return null}const di=new oe.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),La=new class zr{constructor(T={},k=1e3){this.throttleMetadata=T,this.intervalMillis=k}getThrottleMetadata(T){return this.throttleMetadata[T]}setThrottleMetadata(T,k){this.throttleMetadata[T]=k}deleteThrottleMetadata(T){delete this.throttleMetadata[T]}};function hd(D){return new Headers({Accept:"application/json","x-goog-api-key":D})}function Va(D){return Xc.apply(this,arguments)}function Xc(){return(Xc=(0,N.Z)(function*(D){var T;const{appId:k,apiKey:V}=D,J={method:"GET",headers:hd(V)},ce=mo.replace("{app-id}",k),Se=yield fetch(ce,J);if(200!==Se.status&&304!==Se.status){let je="";try{const ut=yield Se.json();null!==(T=ut.error)&&void 0!==T&&T.message&&(je=ut.error.message)}catch{}throw di.create("config-fetch-failed",{httpStatus:Se.status,responseMessage:je})}return Se.json()})).apply(this,arguments)}function Fn(D){return kr.apply(this,arguments)}function kr(){return(kr=(0,N.Z)(function*(D,T=La,k){const{appId:V,apiKey:J,measurementId:ce}=D.options;if(!V)throw di.create("no-app-id");if(!J){if(ce)return{measurementId:ce,appId:V};throw di.create("no-api-key")}const Se=T.getThrottleMetadata(V)||{backoffCount:0,throttleEndTimeMillis:Date.now()},je=new zl;return setTimeout((0,N.Z)(function*(){je.abort()}),void 0!==k?k:6e4),$l({appId:V,apiKey:J,measurementId:ce},Se,je,T)})).apply(this,arguments)}function $l(D,T,k){return yo.apply(this,arguments)}function yo(){return(yo=(0,N.Z)(function*(D,{throttleEndTimeMillis:T,backoffCount:k},V,J=La){var ce,Se;const{appId:je,measurementId:ut}=D;try{yield Ba(V,T)}catch(vt){if(ut)return An.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${ut} provided in the "measurementId" field in the local Firebase config. [${null===(ce=vt)||void 0===ce?void 0:ce.message}]`),{appId:je,measurementId:ut};throw vt}try{const vt=yield Va(D);return J.deleteThrottleMetadata(je),vt}catch(vt){const xt=vt;if(!Gl(xt)){if(J.deleteThrottleMetadata(je),ut)return An.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${ut} provided in the "measurementId" field in the local Firebase config. [${xt?.message}]`),{appId:je,measurementId:ut};throw vt}const ft=503===Number(null===(Se=xt?.customData)||void 0===Se?void 0:Se.httpStatus)?(0,oe.$s)(k,J.intervalMillis,30):(0,oe.$s)(k,J.intervalMillis),wn={throttleEndTimeMillis:Date.now()+ft,backoffCount:k+1};return J.setThrottleMetadata(je,wn),An.debug(`Calling attemptFetch again in ${ft} millis`),$l(D,wn,V,J)}})).apply(this,arguments)}function Ba(D,T){return new Promise((k,V)=>{const J=Math.max(T-Date.now(),0),ce=setTimeout(k,J);D.addEventListener(()=>{clearTimeout(ce),V(di.create("fetch-throttle",{throttleEndTimeMillis:T}))})})}function Gl(D){if(!(D instanceof oe.ZR&&D.customData))return!1;const T=Number(D.customData.httpStatus);return 429===T||500===T||503===T||504===T}class zl{constructor(){this.listeners=[]}addEventListener(T){this.listeners.push(T)}abort(){this.listeners.forEach(T=>T())}}let js,Ha;function $s(){return($s=(0,N.Z)(function*(D,T,k,V,J){if(J&&J.global)D("event",k,V);else{const ce=yield T;D("event",k,Object.assign(Object.assign({},V),{send_to:ce}))}})).apply(this,arguments)}function bo(D){Ha=D}function eu(D){js=D}function _s(){return Wl.apply(this,arguments)}function Wl(){return(Wl=(0,N.Z)(function*(){var D;if(!(0,oe.hl)())return An.warn(di.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,oe.eu)()}catch(T){return An.warn(di.create("indexeddb-unavailable",{errorInfo:null===(D=T)||void 0===D?void 0:D.toString()}).message),!1}return!0})).apply(this,arguments)}function Zo(){return(Zo=(0,N.Z)(function*(D,T,k,V,J,ce,Se){var je;const ut=Fn(D);ut.then(fi=>{k[fi.measurementId]=fi.appId,D.options.measurementId&&fi.measurementId!==D.options.measurementId&&An.warn(`The measurement ID in the local Firebase config (${D.options.measurementId}) does not match the measurement ID fetched from the server (${fi.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(fi=>An.error(fi)),T.push(ut);const vt=_s().then(fi=>{if(fi)return V.getId()}),[xt,ft]=yield Promise.all([ut,vt]);ud()||Hl(ce,xt.measurementId),Ha&&(J("consent","default",Ha),bo(void 0)),J("js",new Date);const wn=null!==(je=Se?.config)&&void 0!==je?je:{};return wn.origin="firebase",wn.update=!0,null!=ft&&(wn[ld]=ft),J("config",xt.measurementId,wn),js&&(J("set",js),eu(void 0)),xt.measurementId})).apply(this,arguments)}class Kl{constructor(T){this.app=T}_delete(){return delete Ki[this.app.options.appId],Promise.resolve()}}let Ki={},Gs=[];const Wo={};let Yo,wo,Ko="dataLayer",ja=!1;function O_(D,T,k){!function nm(){const D=[];if((0,oe.ru)()&&D.push("This is a browser extension environment."),(0,oe.zI)()||D.push("Cookies are not available."),D.length>0){const T=D.map((V,J)=>`(${J+1}) ${V}`).join(" "),k=di.create("invalid-analytics-context",{errorInfo:T});An.warn(k.message)}}();const V=D.options.appId;if(!V)throw di.create("no-app-id");if(!D.options.apiKey){if(!D.options.measurementId)throw di.create("no-api-key");An.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${D.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Ki[V])throw di.create("already-exists",{id:V});if(!ja){!function cd(D){let T=[];Array.isArray(window[D])?T=window[D]:window[D]=T}(Ko);const{wrappedGtag:ce,gtagCore:Se}=function Pa(D,T,k,V,J){let ce=function(...Se){window[V].push(arguments)};return window[J]&&"function"==typeof window[J]&&(ce=window[J]),window[J]=function jl(D,T,k,V){function ce(){return(ce=(0,N.Z)(function*(Se,je,ut){try{"event"===Se?yield Go(D,T,k,je,ut):"config"===Se?yield ef(D,T,k,V,je,ut):"consent"===Se?D("consent","update",ut):D("set",je)}catch(vt){An.error(vt)}})).apply(this,arguments)}return function J(Se,je,ut){return ce.apply(this,arguments)}}(ce,D,T,k),{gtagCore:ce,wrappedGtag:window[J]}}(Ki,Gs,Wo,Ko,"gtag");wo=ce,Yo=Se,ja=!0}return Ki[V]=function qo(D,T,k,V,J,ce,Se){return Zo.apply(this,arguments)}(D,Gs,Wo,T,Yo,Ko,k),new Kl(D)}function N_(){return tf.apply(this,arguments)}function tf(){return(tf=(0,N.Z)(function*(){if((0,oe.ru)()||!(0,oe.zI)()||!(0,oe.hl)())return!1;try{return yield(0,oe.eu)()}catch{return!1}})).apply(this,arguments)}const nf="@firebase/analytics";!function Yi(){(0,le._registerComponent)(new he.wA($o,(T,{options:k})=>O_(T.getProvider("app").getImmediate(),T.getProvider("installations-internal").getImmediate(),k),"PUBLIC")),(0,le._registerComponent)(new he.wA("analytics-internal",function D(T){try{const k=T.getProvider($o).getImmediate();return{logEvent:(V,J,ce)=>function un(D,T,k,V){D=(0,oe.m9)(D),function fd(D,T,k,V,J){return $s.apply(this,arguments)}(wo,Ki[D.app.options.appId],T,k,V).catch(J=>An.error(J))}(k,V,J,ce)}}catch(k){throw di.create("interop-component-reg-failed",{reason:k})}},"PRIVATE")),(0,le.registerVersion)(nf,"0.8.0"),(0,le.registerVersion)(nf,"0.8.0","esm2017")}();var Rr=P(4408),Qo=P(7565);const ys=new class Oi extends Qo.v{}(class tu extends Rr.o{constructor(T,k){super(T,k),this.scheduler=T,this.work=k}schedule(T,k=0){return k>0?super.schedule(T,k):(this.delay=k,this.state=T,this.scheduler.flush(this),this)}execute(T,k){return k>0||this.closed?super.execute(T,k):this._execute(T,k)}requestAsyncId(T,k,V=0){return null!=V&&V>0||null==V&&this.delay>0?super.requestAsyncId(T,k,V):T.flush(this)}});var nt=P(4986),Xl=P(8505),Xo=P(9468),Jo=P(5363);const Pi=new c.GfV("7.4.1"),ea="__angularfire_symbol__analyticsIsSupportedValue",vs="__angularfire_symbol__analyticsIsSupported",qr="__angularfire_symbol__remoteConfigIsSupportedValue",Ni="__angularfire_symbol__remoteConfigIsSupported",nu="__angularfire_symbol__messagingIsSupportedValue",Jl="__angularfire_symbol__messagingIsSupported";function Ga(D,T,k){if(T){if(1===T.length)return T[0];const ce=T.filter(Se=>Se.app===k);if(1===ce.length)return ce[0]}return k.container.getProvider(D).getImmediate({optional:!0})}globalThis[vs]||(globalThis[vs]=N_().then(D=>globalThis[ea]=D).catch(()=>globalThis[ea]=!1)),globalThis[Jl]||(globalThis[Jl]=sd().then(D=>globalThis[nu]=D).catch(()=>globalThis[nu]=!1)),globalThis[Ni]||(globalThis[Ni]=Cl().then(D=>globalThis[qr]=D).catch(()=>globalThis[qr]=!1));const Qi=(D,T)=>{const k=T?[T]:(0,te.C6)(),V=[];return k.forEach(J=>{J.container.getProvider(D).instances.forEach(Se=>{V.includes(Se)||V.push(Se)})}),V};function ta(){}class pn{constructor(T,k=ys){this.zone=T,this.delegate=k}now(){return this.delegate.now()}schedule(T,k,V){const J=this.zone;return this.delegate.schedule(function(Se){J.runGuarded(()=>{T.apply(this,[Se])})},k,V)}}class Zr{constructor(T){this.zone=T,this.task=null}call(T,k){const V=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ta,{},ta,ta)),k.pipe((0,Xl.b)({next:V,complete:V,error:V})).subscribe(T).add(V)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let ec=(()=>{class D{constructor(k){this.ngZone=k,this.outsideAngular=k.runOutsideAngular(()=>new pn(Zone.current)),this.insideAngular=k.run(()=>new pn(Zone.current,nt.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return D.\u0275fac=function(k){return new(k||D)(c.LFG(c.R0b))},D.\u0275prov=c.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})();function zs(){const D=globalThis.\u0275AngularFireScheduler;if(!D)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return D}function bs(D){return zs(),function ru(D){return function(k){return(k=k.lift(new Zr(D.ngZone))).pipe((0,Xo.R)(D.outsideAngular),(0,Jo.Q)(D.insideAngular))}}(zs())(D)}},2090:(at,De,P)=>{P.d(De,{$s:()=>as,BH:()=>Be,G6:()=>$e,L:()=>fe,LL:()=>Ne,Mn:()=>Ie,Sg:()=>Me,UG:()=>ve,US:()=>he,ZB:()=>z,ZR:()=>se,b$:()=>st,d:()=>Ae,eu:()=>ye,hl:()=>j,jU:()=>me,m9:()=>Kt,ne:()=>Vo,pd:()=>zi,r3:()=>xi,ru:()=>Xe,tV:()=>ge,uI:()=>et,vZ:()=>$i,w1:()=>be,xO:()=>Os,xb:()=>rn,z$:()=>Ce,zI:()=>Q,zd:()=>Ur});const le=function(Y){const G=[];let H=0;for(let q=0;q<Y.length;q++){let W=Y.charCodeAt(q);W<128?G[H++]=W:W<2048?(G[H++]=W>>6|192,G[H++]=63&W|128):55296==(64512&W)&&q+1<Y.length&&56320==(64512&Y.charCodeAt(q+1))?(W=65536+((1023&W)<<10)+(1023&Y.charCodeAt(++q)),G[H++]=W>>18|240,G[H++]=W>>12&63|128,G[H++]=W>>6&63|128,G[H++]=63&W|128):(G[H++]=W>>12|224,G[H++]=W>>6&63|128,G[H++]=63&W|128)}return G},he={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Y,G){if(!Array.isArray(Y))throw Error("encodeByteArray takes an array as a parameter");this.init_();const H=G?this.byteToCharMapWebSafe_:this.byteToCharMap_,q=[];for(let W=0;W<Y.length;W+=3){const Te=Y[W],Ue=W+1<Y.length,lt=Ue?Y[W+1]:0,hn=W+2<Y.length,Jt=hn?Y[W+2]:0;let Ot=(15&lt)<<2|Jt>>6,yn=63&Jt;hn||(yn=64,Ue||(Ot=64)),q.push(H[Te>>2],H[(3&Te)<<4|lt>>4],H[Ot],H[yn])}return q.join("")},encodeString(Y,G){return this.HAS_NATIVE_SUPPORT&&!G?btoa(Y):this.encodeByteArray(le(Y),G)},decodeString(Y,G){return this.HAS_NATIVE_SUPPORT&&!G?atob(Y):function(Y){const G=[];let H=0,q=0;for(;H<Y.length;){const W=Y[H++];if(W<128)G[q++]=String.fromCharCode(W);else if(W>191&&W<224){const Te=Y[H++];G[q++]=String.fromCharCode((31&W)<<6|63&Te)}else if(W>239&&W<365){const hn=((7&W)<<18|(63&Y[H++])<<12|(63&Y[H++])<<6|63&Y[H++])-65536;G[q++]=String.fromCharCode(55296+(hn>>10)),G[q++]=String.fromCharCode(56320+(1023&hn))}else{const Te=Y[H++],Ue=Y[H++];G[q++]=String.fromCharCode((15&W)<<12|(63&Te)<<6|63&Ue)}}return G.join("")}(this.decodeStringToByteArray(Y,G))},decodeStringToByteArray(Y,G){this.init_();const H=G?this.charToByteMapWebSafe_:this.charToByteMap_,q=[];for(let W=0;W<Y.length;){const Te=H[Y.charAt(W++)],lt=W<Y.length?H[Y.charAt(W)]:0;++W;const Jt=W<Y.length?H[Y.charAt(W)]:64;++W;const Bt=W<Y.length?H[Y.charAt(W)]:64;if(++W,null==Te||null==lt||null==Jt||null==Bt)throw Error();q.push(Te<<2|lt>>4),64!==Jt&&(q.push(lt<<4&240|Jt>>2),64!==Bt&&q.push(Jt<<6&192|Bt))}return q},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Y=0;Y<this.ENCODED_VALS.length;Y++)this.byteToCharMap_[Y]=this.ENCODED_VALS.charAt(Y),this.charToByteMap_[this.byteToCharMap_[Y]]=Y,this.byteToCharMapWebSafe_[Y]=this.ENCODED_VALS_WEBSAFE.charAt(Y),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Y]]=Y,Y>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Y)]=Y,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Y)]=Y)}}},fe=function(Y){return function(Y){const G=le(Y);return he.encodeByteArray(G,!0)}(Y).replace(/\./g,"")},ge=function(Y){try{return he.decodeString(Y,!0)}catch(G){console.error("base64Decode failed: ",G)}return null};function z(Y,G){if(!(G instanceof Object))return G;switch(G.constructor){case Date:return new Date(G.getTime());case Object:void 0===Y&&(Y={});break;case Array:Y=[];break;default:return G}for(const H in G)!G.hasOwnProperty(H)||!X(H)||(Y[H]=z(Y[H],G[H]));return Y}function X(Y){return"__proto__"!==Y}class Be{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((G,H)=>{this.resolve=G,this.reject=H})}wrapCallback(G){return(H,q)=>{H?this.reject(H):this.resolve(q),"function"==typeof G&&(this.promise.catch(()=>{}),1===G.length?G(H):G(H,q))}}}function Me(Y,G){if(Y.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const q=G||"demo-project",W=Y.iat||0,Te=Y.sub||Y.user_id;if(!Te)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Ue=Object.assign({iss:`https://securetoken.google.com/${q}`,aud:q,iat:W,exp:W+3600,auth_time:W,sub:Te,user_id:Te,firebase:{sign_in_provider:"custom",identities:{}}},Y);return[fe(JSON.stringify({alg:"none",type:"JWT"})),fe(JSON.stringify(Ue)),""].join(".")}function Ce(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function et(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ce())}function ve(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function me(){return"object"==typeof self&&self.self===self}function Xe(){const Y="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Y&&void 0!==Y.id}function st(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ae(){return Ce().indexOf("Electron/")>=0}function be(){const Y=Ce();return Y.indexOf("MSIE ")>=0||Y.indexOf("Trident/")>=0}function Ie(){return Ce().indexOf("MSAppHost/")>=0}function $e(){return!ve()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function j(){return"object"==typeof indexedDB}function ye(){return new Promise((Y,G)=>{try{let H=!0;const q="validate-browser-context-for-indexeddb-analytics-module",W=self.indexedDB.open(q);W.onsuccess=()=>{W.result.close(),H||self.indexedDB.deleteDatabase(q),Y(!0)},W.onupgradeneeded=()=>{H=!1},W.onerror=()=>{var Te;G((null===(Te=W.error)||void 0===Te?void 0:Te.message)||"")}}catch(H){G(H)}})}function Q(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class se extends Error{constructor(G,H,q){super(H),this.code=G,this.customData=q,this.name="FirebaseError",Object.setPrototypeOf(this,se.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ne.prototype.create)}}class Ne{constructor(G,H,q){this.service=G,this.serviceName=H,this.errors=q}create(G,...H){const q=H[0]||{},W=`${this.service}/${G}`,Te=this.errors[G],Ue=Te?function Oe(Y,G){return Y.replace(ht,(H,q)=>{const W=G[q];return null!=W?String(W):`<${q}?>`})}(Te,q):"Error";return new se(W,`${this.serviceName}: ${Ue} (${W}).`,q)}}const ht=/\{\$([^}]+)}/g;function xi(Y,G){return Object.prototype.hasOwnProperty.call(Y,G)}function rn(Y){for(const G in Y)if(Object.prototype.hasOwnProperty.call(Y,G))return!1;return!0}function $i(Y,G){if(Y===G)return!0;const H=Object.keys(Y),q=Object.keys(G);for(const W of H){if(!q.includes(W))return!1;const Te=Y[W],Ue=G[W];if(Ei(Te)&&Ei(Ue)){if(!$i(Te,Ue))return!1}else if(Te!==Ue)return!1}for(const W of q)if(!H.includes(W))return!1;return!0}function Ei(Y){return null!==Y&&"object"==typeof Y}function Os(Y){const G=[];for(const[H,q]of Object.entries(Y))Array.isArray(q)?q.forEach(W=>{G.push(encodeURIComponent(H)+"="+encodeURIComponent(W))}):G.push(encodeURIComponent(H)+"="+encodeURIComponent(q));return G.length?"&"+G.join("&"):""}function Ur(Y){const G={};return Y.replace(/^\?/,"").split("&").forEach(q=>{if(q){const[W,Te]=q.split("=");G[decodeURIComponent(W)]=decodeURIComponent(Te)}}),G}function zi(Y){const G=Y.indexOf("?");if(!G)return"";const H=Y.indexOf("#",G);return Y.substring(G,H>0?H:void 0)}function Vo(Y,G){const H=new Ke(Y,G);return H.subscribe.bind(H)}class Ke{constructor(G,H){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=H,this.task.then(()=>{G(this)}).catch(q=>{this.error(q)})}next(G){this.forEachObserver(H=>{H.next(G)})}error(G){this.forEachObserver(H=>{H.error(G)}),this.close(G)}complete(){this.forEachObserver(G=>{G.complete()}),this.close()}subscribe(G,H,q){let W;if(void 0===G&&void 0===H&&void 0===q)throw new Error("Missing Observer.");W=function os(Y,G){if("object"!=typeof Y||null===Y)return!1;for(const H of G)if(H in Y&&"function"==typeof Y[H])return!0;return!1}(G,["next","error","complete"])?G:{next:G,error:H,complete:q},void 0===W.next&&(W.next=Pn),void 0===W.error&&(W.error=Pn),void 0===W.complete&&(W.complete=Pn);const Te=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?W.error(this.finalError):W.complete()}catch{}}),this.observers.push(W),Te}unsubscribeOne(G){void 0===this.observers||void 0===this.observers[G]||(delete this.observers[G],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(G){if(!this.finalized)for(let H=0;H<this.observers.length;H++)this.sendOne(H,G)}sendOne(G,H){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[G])try{H(this.observers[G])}catch(q){typeof console<"u"&&console.error&&console.error(q)}})}close(G){this.finalized||(this.finalized=!0,void 0!==G&&(this.finalError=G),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Pn(){}function as(Y,G=1e3,H=2){const q=G*Math.pow(H,Y),W=Math.round(.5*q*(Math.random()-.5)*2);return Math.min(144e5,q+W)}function Kt(Y){return Y&&Y._delegate?Y._delegate:Y}},6725:(at,De,P)=>{var c=P(4650);let te=null;function N(){return te}const ie=new c.OlP("DocumentToken");let fe=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return function ge(){return(0,c.LFG)(z)}()},providedIn:"platform"}),n})();const $=new c.OlP("Location Initialized");let z=(()=>{class n extends fe{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return N().getBaseHref(this._doc)}onPopState(t){const i=N().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",t,!1),()=>i.removeEventListener("popstate",t)}onHashChange(t){const i=N().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",t,!1),()=>i.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,i,r){X()?this._history.pushState(t,i,r):this.location.hash=r}replaceState(t,i,r){X()?this._history.replaceState(t,i,r):this.location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ie))},n.\u0275prov=c.Yz7({token:n,factory:function(){return function Be(){return new z((0,c.LFG)(ie))}()},providedIn:"platform"}),n})();function X(){return!!window.history.pushState}function Me(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Ce(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function et(n){return n&&"?"!==n[0]?"?"+n:n}let ve=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return(0,c.f3M)(Xe)},providedIn:"root"}),n})();const me=new c.OlP("appBaseHref");let Xe=(()=>{class n extends ve{constructor(t,i){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??(0,c.f3M)(ie).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Me(this._baseHref,t)}path(t=!1){const i=this._platformLocation.pathname+et(this._platformLocation.search),r=this._platformLocation.hash;return r&&t?`${i}${r}`:i}pushState(t,i,r,a){const u=this.prepareExternalUrl(r+et(a));this._platformLocation.pushState(t,i,u)}replaceState(t,i,r,a){const u=this.prepareExternalUrl(r+et(a));this._platformLocation.replaceState(t,i,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(fe),c.LFG(me,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),st=(()=>{class n extends ve{constructor(t,i){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(t){const i=Me(this._baseHref,t);return i.length>0?"#"+i:i}pushState(t,i,r,a){let u=this.prepareExternalUrl(r+et(a));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.pushState(t,i,u)}replaceState(t,i,r,a){let u=this.prepareExternalUrl(r+et(a));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.replaceState(t,i,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(fe),c.LFG(me,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),Ae=(()=>{class n{constructor(t){this._subject=new c.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const i=this._locationStrategy.getBaseHref();this._baseHref=Ce(He(i)),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,i=""){return this.path()==this.normalize(t+et(i))}normalize(t){return n.stripTrailingSlash(function Ie(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,He(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,i="",r=null){this._locationStrategy.pushState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+et(i)),r)}replaceState(t,i="",r=null){this._locationStrategy.replaceState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+et(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",i){this._urlChangeListeners.forEach(r=>r(t,i))}subscribe(t,i,r){return this._subject.subscribe({next:t,error:i,complete:r})}}return n.normalizeQueryParams=et,n.joinWithSlash=Me,n.stripTrailingSlash=Ce,n.\u0275fac=function(t){return new(t||n)(c.LFG(ve))},n.\u0275prov=c.Yz7({token:n,factory:function(){return function be(){return new Ae((0,c.LFG)(ve))}()},providedIn:"root"}),n})();function He(n){return n.replace(/\/index.html$/,"")}function Ea(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const i=t.indexOf("="),[r,a]=-1==i?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===e)return decodeURIComponent(a)}return null}class Ia{constructor(e,t,i,r){this.$implicit=e,this.ngForOf=t,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ls=(()=>{class n{constructor(t,i,r){this._viewContainer=t,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const i=this._viewContainer;t.forEachOperation((r,a,u)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new Ia(r.item,this._ngForOf,-1,-1),null===u?void 0:u);else if(null==u)i.remove(null===a?void 0:a);else if(null!==a){const f=i.get(a);i.move(f,u),Ls(f,r)}});for(let r=0,a=i.length;r<a;r++){const f=i.get(r).context;f.index=r,f.count=a,f.ngForOf=this._ngForOf}t.forEachIdentityChange(r=>{Ls(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.s_b),c.Y36(c.Rgc),c.Y36(c.ZZ4))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function Ls(n,e){n.context.$implicit=e.item}let Dn=(()=>{class n{constructor(t,i){this._viewContainer=t,this._context=new kc,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){ui("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){ui("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.s_b),c.Y36(c.Rgc))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class kc{constructor(){this.$implicit=null,this.ngIf=null}}function ui(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,c.AaK)(e)}'.`)}let Yu=(()=>{class n{constructor(t,i,r){this._ngEl=t,this._differs=i,this._renderer=r,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,i){const[r,a]=t.split("."),u=-1===r.indexOf("-")?void 0:c.JOm.DashCase;null!=i?this._renderer.setStyle(this._ngEl.nativeElement,r,a?`${i}${a}`:i,u):this._renderer.removeStyle(this._ngEl.nativeElement,r,u)}_applyChanges(t){t.forEachRemovedItem(i=>this._setStyle(i.key,null)),t.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),t.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(c.aQg),c.Y36(c.Qsj))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),n})(),lr=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();const hs="browser";function yi(n){return"server"===n}let Il=(()=>{class n{}return n.\u0275prov=(0,c.Yz7)({token:n,providedIn:"root",factory:()=>new Qh((0,c.LFG)(ie),window)}),n})();class Qh{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function Ri(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const a=r.shadowRoot;if(a){const u=a.getElementById(e)||a.querySelector(`[name="${e}"]`);if(u)return u}r=i.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),i=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,a=this.offset();this.window.scrollTo(i-a[0],r-a[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=ur(this.window.history)||ur(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function ur(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class lo{}class fo extends class rd extends class he{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function oe(n){te||(te=n)}(new fo)}onAndCancel(e,t,i){return e.addEventListener(t,i,!1),()=>{e.removeEventListener(t,i,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function Ll(){return po=po||document.querySelector("base"),po?po.getAttribute("href"):null}();return null==t?null:function Wi(n){Jn=Jn||document.createElement("a"),Jn.setAttribute("href",n);const e=Jn.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){po=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Ea(document.cookie,e)}}let Jn,po=null;const _n=new c.OlP("TRANSITION_ID"),Kc=[{provide:c.ip1,useFactory:function sd(n,e,t){return()=>{t.get(c.CZH).donePromise.then(()=>{const i=N(),r=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let a=0;a<r.length;a++)i.remove(r[a])})}},deps:[_n,ie,c.zs3],multi:!0}];let Yc=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const Vl=new c.OlP("EventManagerPlugins");let od=(()=>{class n{constructor(t,i){this._zone=i,this._eventNameToPlugin=new Map,t.forEach(r=>r.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,i,r){return this._findPluginFor(i).addEventListener(t,i,r)}addGlobalEventListener(t,i,r){return this._findPluginFor(i).addGlobalEventListener(t,i,r)}getZone(){return this._zone}_findPluginFor(t){const i=this._eventNameToPlugin.get(t);if(i)return i;const r=this._plugins;for(let a=0;a<r.length;a++){const u=r[a];if(u.supports(t))return this._eventNameToPlugin.set(t,u),u}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Vl),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class Qc{constructor(e){this._doc=e}addGlobalEventListener(e,t,i){const r=N().getGlobalEventTarget(this._doc,e);if(!r)throw new Error(`Unsupported event target ${r} for event ${t}`);return this.addEventListener(r,t,i)}}let Ho=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const i=new Set;t.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),i.add(r))}),this.onStylesAdded(i)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),jo=(()=>{class n extends Ho{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,i,r){t.forEach(a=>{const u=this._doc.createElement("style");u.textContent=a,r.push(i.appendChild(u))})}addHost(t){const i=[];this._addStylesToHost(this._stylesSet,t,i),this._hostNodes.set(t,i)}removeHost(t){const i=this._hostNodes.get(t);i&&i.forEach(ad),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((i,r)=>{this._addStylesToHost(t,r,i)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(ad))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ie))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function ad(n){N().remove(n)}const $o={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},ld=/%COMP%/g;function Hl(n,e,t){for(let i=0;i<e.length;i++){let r=e[i];Array.isArray(r)?Hl(n,r,t):(r=r.replace(ld,n),t.push(r))}return t}function cd(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let go=(()=>{class n{constructor(t,i,r){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new Go(t)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;switch(i.encapsulation){case c.ifc.Emulated:{let r=this.rendererByCompId.get(i.id);return r||(r=new ud(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,r)),r.applyToHost(t),r}case 1:case c.ifc.ShadowDom:return new dd(this.eventManager,this.sharedStylesHost,t,i);default:if(!this.rendererByCompId.has(i.id)){const r=Hl(i.id,i.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(od),c.LFG(jo),c.LFG(c.AFp))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class Go{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS($o[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(Pa(e)?e.content:e).appendChild(t)}insertBefore(e,t,i){e&&(Pa(e)?e.content:e).insertBefore(t,i)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let i="string"==typeof e?document.querySelector(e):e;if(!i)throw new Error(`The selector "${e}" did not match any elements`);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,r){if(r){t=r+":"+t;const a=$o[r];a?e.setAttributeNS(a,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){const r=$o[i];r?e.removeAttributeNS(r,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,r){r&(c.JOm.DashCase|c.JOm.Important)?e.style.setProperty(t,i,r&c.JOm.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&c.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e[t]=i}setValue(e,t){e.nodeValue=t}listen(e,t,i){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,cd(i)):this.eventManager.addEventListener(e,t,cd(i))}}function Pa(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class ud extends Go{constructor(e,t,i,r){super(e),this.component=i;const a=Hl(r+"-"+i.id,i.styles,[]);t.addStyles(a),this.contentAttr=function An(n){return"_ngcontent-%COMP%".replace(ld,n)}(r+"-"+i.id),this.hostAttr=function Ul(n){return"_nghost-%COMP%".replace(ld,n)}(r+"-"+i.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}}class dd extends Go{constructor(e,t,i,r){super(e),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const a=Hl(r.id,r.styles,[]);for(let u=0;u<a.length;u++){const f=document.createElement("style");f.textContent=a[u],this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let di=(()=>{class n extends Qc{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r){return t.addEventListener(i,r,!1),()=>this.removeEventListener(t,i,r)}removeEventListener(t,i,r){return t.removeEventListener(i,r)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ie))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const Na=["alt","control","meta","shift"],Fa={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},zr={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let La=(()=>{class n extends Qc{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,i,r){const a=n.parseEventName(i),u=n.eventCallback(a.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>N().onAndCancel(t,a.domEventName,u))}static parseEventName(t){const i=t.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const a=n._normalizeKey(i.pop());let u="",f=i.indexOf("code");if(f>-1&&(i.splice(f,1),u="code."),Na.forEach(b=>{const I=i.indexOf(b);I>-1&&(i.splice(I,1),u+=b+".")}),u+=a,0!=i.length||0===a.length)return null;const _={};return _.domEventName=r,_.fullKey=u,_}static matchEventFullKeyCode(t,i){let r=Fa[t.key]||t.key,a="";return i.indexOf("code.")>-1&&(r=t.code,a="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),Na.forEach(u=>{u!==r&&(0,zr[u])(t)&&(a+=u+".")}),a+=r,a===i)}static eventCallback(t,i,r){return a=>{n.matchEventFullKeyCode(a,t)&&r.runGuarded(()=>i(a))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ie))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const zl=(0,c.eFA)(c._c5,"browser",[{provide:c.Lbi,useValue:hs},{provide:c.g9A,useValue:function $l(){fo.makeCurrent()},multi:!0},{provide:ie,useFactory:function Ba(){return(0,c.RDi)(document),document},deps:[]}]),js=new c.OlP(""),fd=[{provide:c.rWj,useClass:class Jh{addToWindow(e){c.dqk.getAngularTestability=(i,r=!0)=>{const a=e.findTestabilityInTree(i,r);if(null==a)throw new Error("Could not find testability for element.");return a},c.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),c.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),c.dqk.frameworkStabilizers||(c.dqk.frameworkStabilizers=[]),c.dqk.frameworkStabilizers.push(i=>{const r=c.dqk.getAllAngularTestabilities();let a=r.length,u=!1;const f=function(_){u=u||_,a--,0==a&&i(u)};r.forEach(function(_){_.whenStable(f)})})}findTestabilityInTree(e,t,i){return null==t?null:e.getTestability(t)??(i?N().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:c.lri,useClass:c.dDg,deps:[c.R0b,c.eoX,c.rWj]},{provide:c.dDg,useClass:c.dDg,deps:[c.R0b,c.eoX,c.rWj]}],$s=[{provide:c.zSh,useValue:"root"},{provide:c.qLn,useFactory:function yo(){return new c.qLn},deps:[]},{provide:Vl,useClass:di,multi:!0,deps:[ie,c.R0b,c.Lbi]},{provide:Vl,useClass:La,multi:!0,deps:[ie]},{provide:go,useClass:go,deps:[od,jo,c.AFp]},{provide:c.FYo,useExisting:go},{provide:Ho,useExisting:jo},{provide:jo,useClass:jo,deps:[ie]},{provide:od,useClass:od,deps:[Vl,c.R0b]},{provide:lo,useClass:Yc,deps:[]},[]];let ql=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:c.AFp,useValue:t.appId},{provide:_n,useExisting:c.AFp},Kc]}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(js,12))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[...$s,...fd],imports:[lr,c.hGG]}),n})(),gs=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ie))},n.\u0275prov=c.Yz7({token:n,factory:function(t){let i=null;return i=t?new t:function zo(){return new gs((0,c.LFG)(ie))}(),i},providedIn:"root"}),n})();typeof window<"u"&&window;let Co=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(t){let i=null;return i=t?new(t||n):c.LFG(sm),i},providedIn:"root"}),n})(),sm=(()=>{class n extends Co{constructor(t){super(),this._doc=t}sanitize(t,i){if(null==i)return null;switch(t){case c.q3G.NONE:return i;case c.q3G.HTML:return(0,c.qzn)(i,"HTML")?(0,c.z3N)(i):(0,c.EiD)(this._doc,String(i)).toString();case c.q3G.STYLE:return(0,c.qzn)(i,"Style")?(0,c.z3N)(i):i;case c.q3G.SCRIPT:if((0,c.qzn)(i,"Script"))return(0,c.z3N)(i);throw new Error("unsafe value used in a script context");case c.q3G.URL:return(0,c.qzn)(i,"URL")?(0,c.z3N)(i):(0,c.mCW)(String(i));case c.q3G.RESOURCE_URL:if((0,c.qzn)(i,"ResourceURL"))return(0,c.z3N)(i);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return(0,c.JVY)(t)}bypassSecurityTrustStyle(t){return(0,c.L6k)(t)}bypassSecurityTrustScript(t){return(0,c.eBb)(t)}bypassSecurityTrustUrl(t){return(0,c.LAX)(t)}bypassSecurityTrustResourceUrl(t){return(0,c.pB0)(t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ie))},n.\u0275prov=c.Yz7({token:n,factory:function(t){let i=null;return i=t?new t:function rm(n){return new sm(n.get(ie))}(c.LFG(c.zs3)),i},providedIn:"root"}),n})();var un=P(8996),Ln=P(9751);const{isArray:nf}=Array,{getPrototypeOf:Ql,prototype:Yi,keys:Rr}=Object;function tu(n){if(1===n.length){const e=n[0];if(nf(e))return{args:e,keys:null};if(function Qo(n){return n&&"object"==typeof n&&Ql(n)===Yi}(e)){const t=Rr(e);return{args:t.map(i=>e[i]),keys:t}}}return{args:n,keys:null}}var Oi=P(8421),ys=P(3269),Gn=P(5403),nt=P(4004);const{isArray:Xl}=Array;function Jo(n){return(0,nt.U)(e=>function Xo(n,e){return Xl(e)?n(...e):n(e)}(n,e))}function Pi(n,e){return n.reduce((t,i,r)=>(t[i]=e[r],t),{})}function ea(...n){const e=(0,ys.jO)(n),{args:t,keys:i}=tu(n),r=new Ln.y(a=>{const{length:u}=t;if(!u)return void a.complete();const f=new Array(u);let _=u,b=u;for(let I=0;I<u;I++){let x=!1;(0,Oi.Xf)(t[I]).subscribe((0,Gn.x)(a,L=>{x||(x=!0,b--),f[I]=L},()=>_--,void 0,()=>{(!_||!x)&&(b||a.next(i?Pi(i,f):f),a.complete())}))}});return e?r.pipe(Jo(e)):r}let vs=(()=>{class n{constructor(t,i){this._renderer=t,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.Qsj),c.Y36(c.SBq))},n.\u0275dir=c.lG2({type:n}),n})(),qr=(()=>{class n extends vs{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=c.n5z(n)))(i||n)}}(),n.\u0275dir=c.lG2({type:n,features:[c.qOj]}),n})();const Ni=new c.OlP("NgValueAccessor"),$a={provide:Ni,useExisting:(0,c.Gpc)(()=>iu),multi:!0},md=new c.OlP("CompositionEventMode");let iu=(()=>{class n extends vs{constructor(t,i,r){super(t,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function om(){const n=N()?N().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.Qsj),c.Y36(c.SBq),c.Y36(md,8))},n.\u0275dir=c.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,i){1&t&&c.NdJ("input",function(a){return i._handleInput(a.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(a){return i._compositionEnd(a.target.value)})},features:[c._Bn([$a]),c.qOj]}),n})();const pn=new c.OlP("NgValidators"),Zr=new c.OlP("NgAsyncValidators");function T(n){return null!=n}function k(n){return(0,c.QGY)(n)?(0,un.D)(n):n}function V(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function J(n,e){return e.map(t=>t(n))}function Se(n){return n.map(e=>function ce(n){return!n.validate}(e)?e:t=>e.validate(t))}function ut(n){return null!=n?function je(n){if(!n)return null;const e=n.filter(T);return 0==e.length?null:function(t){return V(J(t,e))}}(Se(n)):null}function xt(n){return null!=n?function vt(n){if(!n)return null;const e=n.filter(T);return 0==e.length?null:function(t){return ea(J(t,e).map(k)).pipe((0,nt.U)(V))}}(Se(n)):null}function ft(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function qs(n){return n?Array.isArray(n)?n:[n]:[]}function ws(n,e){return Array.isArray(n)?n.includes(e):n===e}function Zs(n,e){const t=qs(e);return qs(n).forEach(r=>{ws(t,r)||t.push(r)}),t}function Io(n,e){return qs(e).filter(t=>!ws(n,t))}class Cs{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=ut(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=xt(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class kn extends Cs{get formDirective(){return null}get path(){return null}}class Xi extends Cs{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}let sf=(()=>{class n extends class Ws{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Xi,2))},n.\u0275dir=c.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,i){2&t&&c.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[c.qOj]}),n})();const Wa="VALID",au="INVALID",Ka="PENDING",nc="DISABLED";function cm(n){return Array.isArray(n)?ut(n):n||null}function um(n){return Array.isArray(n)?xt(n):n||null}function cu(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function Yr(n,e){(function df(n,e){const t=function wn(n){return n._rawValidators}(n);null!==e.validator?n.setValidators(ft(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const i=function fi(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators(ft(i,e.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();wd(e._rawValidators,r),wd(e._rawAsyncValidators,r)})(n,e),e.valueAccessor.writeValue(n.value),n.disabled&&e.valueAccessor.setDisabledState?.(!0),function hm(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&na(n,e)})}(n,e),function fm(n,e){const t=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function Ys(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&na(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function uf(n,e){if(e.valueAccessor.setDisabledState){const t=i=>{e.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function wd(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function na(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function ic(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function hu(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const Z_={provide:Xi,useExisting:(0,c.Gpc)(()=>Id)},wm=(()=>Promise.resolve())();let Id=(()=>{class n extends Xi{constructor(t,i,r,a,u){super(),this._changeDetectorRef=u,this.control=new class extends class Ya{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=cm(this._rawValidators),this._composedAsyncValidatorFn=um(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Wa}get invalid(){return this.status===au}get pending(){return this.status==Ka}get disabled(){return this.status===nc}get enabled(){return this.status!==nc}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=cm(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=um(e)}addValidators(e){this.setValidators(Zs(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Zs(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Io(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Io(e,this._rawAsyncValidators))}hasValidator(e){return ws(this._rawValidators,e)}hasAsyncValidator(e){return ws(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Ka,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=nc,this.errors=null,this._forEachChild(i=>{i.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Wa,this._forEachChild(i=>{i.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Wa||this.status===Ka)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?nc:Wa}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Ka,this._hasOwnPendingAsyncValidator=!0;const t=k(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((i,r)=>i&&i._find(r),this)}getError(e,t){const i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new c.vpe,this.statusChanges=new c.vpe}_calculateStatus(){return this._allControlsDisabled()?nc:this.errors?au:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ka)?Ka:this._anyControlsHaveStatus(au)?au:Wa}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){cu(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}}{constructor(e=null,t,i){super(function Es(n){return(cu(n)?n.validators:n)||null}(t),function lu(n,e){return(cu(e)?e.asyncValidators:n)||null}(i,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),cu(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=hu(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){ic(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){ic(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){hu(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},this._registered=!1,this.update=new c.vpe,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=function mm(n,e){if(!e)return null;let t,i,r;return Array.isArray(e),e.forEach(a=>{a.constructor===iu?t=a:function Ed(n){return Object.getPrototypeOf(n.constructor)===qr}(a)?i=a:r=a}),r||i||t||null}(0,a)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const i=t.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function uu(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Yr(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){wm.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const i=t.isDisabled.currentValue,r=0!==i&&(0,c.D6c)(i);wm.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?function cf(n,e){return[...e.path,n]}(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(kn,9),c.Y36(pn,10),c.Y36(Zr,10),c.Y36(Ni,10),c.Y36(c.sBO,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[c._Bn([Z_]),c.qOj,c.TTD]}),n})(),yf=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();const yu={provide:Ni,useExisting:(0,c.Gpc)(()=>sa),multi:!0};function zn(n,e){return null==n?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let sa=(()=>{class n extends qr{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const r=zn(this._getOptionId(t),t);this.setProperty("value",r)}registerOnChange(t){this.onChange=i=>{this.value=this._getOptionValue(i),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const i of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(i),t))return i;return null}_getOptionValue(t){const i=function Ad(n){return n.split(":")[0]}(t);return this._optionMap.has(i)?this._optionMap.get(i):t}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=c.n5z(n)))(i||n)}}(),n.\u0275dir=c.lG2({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,i){1&t&&c.NdJ("change",function(a){return i.onChange(a.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[c._Bn([yu]),c.qOj]}),n})(),Im=(()=>{class n{constructor(t,i,r){this._element=t,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(zn(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(c.Qsj),c.Y36(sa,9))},n.\u0275dir=c.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();const To={provide:Ni,useExisting:(0,c.Gpc)(()=>bf),multi:!0};function Xa(n,e){return null==n?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let bf=(()=>{class n extends qr{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let i;if(this.value=t,Array.isArray(t)){const r=t.map(a=>this._getOptionId(a));i=(a,u)=>{a._setSelected(r.indexOf(u.toString())>-1)}}else i=(r,a)=>{r._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(t){this.onChange=i=>{const r=[],a=i.selectedOptions;if(void 0!==a){const u=a;for(let f=0;f<u.length;f++){const b=this._getOptionValue(u[f].value);r.push(b)}}else{const u=i.options;for(let f=0;f<u.length;f++){const _=u[f];if(_.selected){const b=this._getOptionValue(_.value);r.push(b)}}}this.value=r,t(r)}}_registerOption(t){const i=(this._idCounter++).toString();return this._optionMap.set(i,t),i}_getOptionId(t){for(const i of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(i)._value,t))return i;return null}_getOptionValue(t){const i=function Ja(n){return n.split(":")[0]}(t);return this._optionMap.has(i)?this._optionMap.get(i)._value:t}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=c.n5z(n)))(i||n)}}(),n.\u0275dir=c.lG2({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,i){1&t&&c.NdJ("change",function(a){return i.onChange(a.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[c._Bn([To]),c.qOj]}),n})(),Md=(()=>{class n{constructor(t,i,r){this._element=t,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(Xa(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(Xa(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(c.Qsj),c.Y36(bf,9))},n.\u0275dir=c.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})(),xm=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[yf]}),n})(),vu=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[xm]}),n})();function tt(...n){const e=(0,ys.yG)(n);return(0,un.D)(n,e)}var Nt=P(7579);class Ds extends Nt.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:i}=this;if(e)throw t;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}}const wf=(0,P(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var bu=P(4671),QI=P(9672);function Cf(...n){const e=(0,ys.yG)(n),t=(0,ys.jO)(n),{args:i,keys:r}=tu(n);if(0===i.length)return(0,un.D)([],e);const a=new Ln.y(function Ef(n,e,t=bu.y){return i=>{w0(e,()=>{const{length:r}=n,a=new Array(r);let u=r,f=r;for(let _=0;_<r;_++)w0(e,()=>{const b=(0,un.D)(n[_],e);let I=!1;b.subscribe((0,Gn.x)(i,x=>{a[_]=x,I||(I=!0,f--),f||i.next(t(a.slice()))},()=>{--u||i.complete()}))},i)},i)}}(i,e,r?u=>Pi(r,u):bu.y));return t?a.pipe(Jo(t)):a}function w0(n,e,t){n?(0,QI.f)(t,n,e):e()}var If=P(8189);function Df(...n){return function XI(){return(0,If.J)(1)}()((0,un.D)(n,(0,ys.yG)(n)))}function C0(n){return new Ln.y(e=>{(0,Oi.Xf)(n()).subscribe(e)})}var JI=P(9635),oa=P(576);function Pd(n,e){const t=(0,oa.m)(n)?n:()=>n,i=r=>r.error(t());return new Ln.y(e?r=>e.schedule(i,0,r):i)}var aa=P(515),tl=P(727),Fi=P(4482);function ey(){return(0,Fi.e)((n,e)=>{let t=null;n._refCount++;const i=(0,Gn.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const r=n._connection,a=t;t=null,r&&(!a||r===a)&&r.unsubscribe(),e.unsubscribe()});n.subscribe(i),i.closed||(t=n.connect())})}class ty extends Ln.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,Fi.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new tl.w0;const t=this.getSubject();e.add(this.source.subscribe((0,Gn.x)(t,void 0,()=>{this._teardown(),t.complete()},i=>{this._teardown(),t.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=tl.w0.EMPTY)}return e}refCount(){return ey()(this)}}function Li(n,e){return(0,Fi.e)((t,i)=>{let r=null,a=0,u=!1;const f=()=>u&&!r&&i.complete();t.subscribe((0,Gn.x)(i,_=>{r?.unsubscribe();let b=0;const I=a++;(0,Oi.Xf)(n(_,I)).subscribe(r=(0,Gn.x)(i,x=>i.next(e?e(_,x,I,b++):x),()=>{r=null,f()}))},()=>{u=!0,f()}))})}function Qs(n){return n<=0?()=>aa.E:(0,Fi.e)((e,t)=>{let i=0;e.subscribe((0,Gn.x)(t,r=>{++i<=n&&(t.next(r),n<=i&&t.complete())}))})}function qn(...n){const e=(0,ys.yG)(n);return(0,Fi.e)((t,i)=>{(e?Df(n,t,e):Df(n,t)).subscribe(i)})}function Cn(n,e){return(0,Fi.e)((t,i)=>{let r=0;t.subscribe((0,Gn.x)(i,a=>n.call(e,a,r++)&&i.next(a)))})}var Ji=P(5577);function Nd(n){return(0,Fi.e)((e,t)=>{let i=!1;e.subscribe((0,Gn.x)(t,r=>{i=!0,t.next(r)},()=>{i||t.next(n),t.complete()}))})}function er(n=Tf){return(0,Fi.e)((e,t)=>{let i=!1;e.subscribe((0,Gn.x)(t,r=>{i=!0,t.next(r)},()=>i?t.complete():t.error(n())))})}function Tf(){return new wf}function So(n,e){const t=arguments.length>=2;return i=>i.pipe(n?Cn((r,a)=>n(r,a,i)):bu.y,Qs(1),t?Nd(e):er(()=>new wf))}function oc(n,e){return(0,oa.m)(e)?(0,Ji.z)(n,e,1):(0,Ji.z)(n,1)}var pi=P(8505);function la(n){return(0,Fi.e)((e,t)=>{let a,i=null,r=!1;i=e.subscribe((0,Gn.x)(t,void 0,void 0,u=>{a=(0,Oi.Xf)(n(u,la(n)(e))),i?(i.unsubscribe(),i=null,a.subscribe(t)):r=!0})),r&&(i.unsubscribe(),i=null,a.subscribe(t))})}function eD(n,e,t,i,r){return(a,u)=>{let f=t,_=e,b=0;a.subscribe((0,Gn.x)(u,I=>{const x=b++;_=f?n(_,I,x):(f=!0,I),i&&u.next(_)},r&&(()=>{f&&u.next(_),u.complete()})))}}function Fd(n,e){return(0,Fi.e)(eD(n,e,arguments.length>=2,!0))}function ny(n){return n<=0?()=>aa.E:(0,Fi.e)((e,t)=>{let i=[];e.subscribe((0,Gn.x)(t,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)t.next(r);t.complete()},void 0,()=>{i=null}))})}function iy(n,e){const t=arguments.length>=2;return i=>i.pipe(n?Cn((r,a)=>n(r,a,i)):bu.y,ny(1),t?Nd(e):er(()=>new wf))}function ry(n){return(0,nt.U)(()=>n)}function Am(n){return(0,Fi.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const Gt="primary",Sf=Symbol("RouteTitle");class Ld{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Qr(n){return new Ld(n)}function nD(n,e,t){const i=t.path.split("/");if(i.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||i.length<n.length))return null;const r={};for(let a=0;a<i.length;a++){const u=i[a],f=n[a];if(u.startsWith(":"))r[u.substring(1)]=f;else if(u!==f.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function nl(n,e){const t=n?Object.keys(n):void 0,i=e?Object.keys(e):void 0;if(!t||!i||t.length!=i.length)return!1;let r;for(let a=0;a<t.length;a++)if(r=t[a],!rD(n[r],e[r]))return!1;return!0}function rD(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),i=[...e].sort();return t.every((r,a)=>i[a]===r)}return n===e}function sy(n){return Array.prototype.concat.apply([],n)}function sD(n){return n.length>0?n[n.length-1]:null}function Di(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function ca(n){return(0,c.CqO)(n)?n:(0,c.QGY)(n)?(0,un.D)(Promise.resolve(n)):tt(n)}const oD={exact:function Mm(n,e,t){if(!wu(n.segments,e.segments)||!rl(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const i in e.children)if(!n.children[i]||!Mm(n.children[i],e.children[i],t))return!1;return!0},subset:ly},Vd={exact:function aD(n,e){return nl(n,e)},subset:function ay(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>rD(n[t],e[t]))},ignored:()=>!0};function I0(n,e,t){return oD[t.paths](n.root,e.root,t.matrixParams)&&Vd[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function ly(n,e,t){return lD(n,e,e.segments,t)}function lD(n,e,t,i){if(n.segments.length>t.length){const r=n.segments.slice(0,t.length);return!(!wu(r,t)||e.hasChildren()||!rl(r,t,i))}if(n.segments.length===t.length){if(!wu(n.segments,t)||!rl(n.segments,t,i))return!1;for(const r in e.children)if(!n.children[r]||!ly(n.children[r],e.children[r],i))return!1;return!0}{const r=t.slice(0,n.segments.length),a=t.slice(n.segments.length);return!!(wu(n.segments,r)&&rl(n.segments,r,i)&&n.children[Gt])&&lD(n.children[Gt],e,a,i)}}function rl(n,e,t){return e.every((i,r)=>Vd[t](n[r].parameters,i.parameters))}class sl{constructor(e,t,i){this.root=e,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Qr(this.queryParams)),this._queryParamMap}toString(){return uD.serialize(this)}}class zt{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Di(t,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return km(this)}}class xf{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Qr(this.parameters)),this._parameterMap}toString(){return py(this)}}function wu(n,e){return n.length===e.length&&n.every((t,i)=>t.path===e[i].path)}let D0=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return new uy},providedIn:"root"}),n})();class uy{parse(e){const t=new A0(e);return new sl(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Bd(e.root,!0)}`,i=function T0(n){const e=Object.keys(n).map(t=>{const i=n[t];return Array.isArray(i)?i.map(r=>`${Af(t)}=${Af(r)}`).join("&"):`${Af(t)}=${Af(i)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${i}${"string"==typeof e.fragment?`#${function dy(n){return encodeURI(n)}(e.fragment)}`:""}`}}const uD=new uy;function km(n){return n.segments.map(e=>py(e)).join("/")}function Bd(n,e){if(!n.hasChildren())return km(n);if(e){const t=n.children[Gt]?Bd(n.children[Gt],!1):"",i=[];return Di(n.children,(r,a)=>{a!==Gt&&i.push(`${a}:${Bd(r,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}{const t=function cD(n,e){let t=[];return Di(n.children,(i,r)=>{r===Gt&&(t=t.concat(e(i,r)))}),Di(n.children,(i,r)=>{r!==Gt&&(t=t.concat(e(i,r)))}),t}(n,(i,r)=>r===Gt?[Bd(n.children[Gt],!1)]:[`${r}:${Bd(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Gt]?`${km(n)}/${t[0]}`:`${km(n)}/(${t.join("//")})`}}function Rm(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Af(n){return Rm(n).replace(/%3B/gi,";")}function hy(n){return Rm(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Om(n){return decodeURIComponent(n)}function fy(n){return Om(n.replace(/\+/g,"%20"))}function py(n){return`${hy(n.path)}${function Cu(n){return Object.keys(n).map(e=>`;${hy(e)}=${hy(n[e])}`).join("")}(n.parameters)}`}const S0=/^[^\/()?;=#]+/;function Pm(n){const e=n.match(S0);return e?e[0]:""}const Zk=/^[^=?&#]+/,dD=/^[^&#]+/;class A0{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new zt([],{}):new zt([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(i[Gt]=new zt(e,t)),i}parseSegment(){const e=Pm(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new c.vHH(4009,!1);return this.capture(e),new xf(Om(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Pm(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const r=Pm(this.remaining);r&&(i=r,this.capture(i))}e[Om(t)]=Om(i)}parseQueryParam(e){const t=function Nm(n){const e=n.match(Zk);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const u=function x0(n){const e=n.match(dD);return e?e[0]:""}(this.remaining);u&&(i=u,this.capture(i))}const r=fy(t),a=fy(i);if(e.hasOwnProperty(r)){let u=e[r];Array.isArray(u)||(u=[u],e[r]=u),u.push(a)}else e[r]=a}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=Pm(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new c.vHH(4010,!1);let a;i.indexOf(":")>-1?(a=i.slice(0,i.indexOf(":")),this.capture(a),this.capture(":")):e&&(a=Gt);const u=this.parseChildren();t[a]=1===Object.keys(u).length?u[Gt]:new zt([],u),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new c.vHH(4011,!1)}}function Fm(n){return n.segments.length>0?new zt([],{[Gt]:n}):n}function Ud(n){const e={};for(const i of Object.keys(n.children)){const a=Ud(n.children[i]);(a.segments.length>0||a.hasChildren())&&(e[i]=a)}return function M0(n){if(1===n.numberOfChildren&&n.children[Gt]){const e=n.children[Gt];return new zt(n.segments.concat(e.segments),e.children)}return n}(new zt(n.segments,e))}function ua(n){return n instanceof sl}function gy(n,e,t,i,r){if(0===t.length)return Eu(e.root,e.root,e.root,i,r);const a=function _y(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new O0(!0,0,n);let e=0,t=!1;const i=n.reduce((r,a,u)=>{if("object"==typeof a&&null!=a){if(a.outlets){const f={};return Di(a.outlets,(_,b)=>{f[b]="string"==typeof _?_.split("/"):_}),[...r,{outlets:f}]}if(a.segmentPath)return[...r,a.segmentPath]}return"string"!=typeof a?[...r,a]:0===u?(a.split("/").forEach((f,_)=>{0==_&&"."===f||(0==_&&""===f?t=!0:".."===f?e++:""!=f&&r.push(f))}),r):[...r,a]},[]);return new O0(t,e,i)}(t);return a.toRoot()?Eu(e.root,e.root,new zt([],{}),i,r):function u(_){const b=function Wk(n,e,t,i){if(n.isAbsolute)return new ac(e.root,!0,0);if(-1===i)return new ac(t,t===e.root,0);return function yy(n,e,t){let i=n,r=e,a=t;for(;a>r;){if(a-=r,i=i.parent,!i)throw new c.vHH(4005,!1);r=i.segments.length}return new ac(i,!1,r-a)}(t,i+(ol(n.commands[0])?0:1),n.numberOfDoubleDots)}(a,e,n.snapshot?._urlSegment,_),I=b.processChildren?kf(b.segmentGroup,b.index,a.commands):Lm(b.segmentGroup,b.index,a.commands);return Eu(e.root,b.segmentGroup,I,i,r)}(n.snapshot?._lastPathIndex)}function ol(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Mf(n){return"object"==typeof n&&null!=n&&n.outlets}function Eu(n,e,t,i,r){let u,a={};i&&Di(i,(_,b)=>{a[b]=Array.isArray(_)?_.map(I=>`${I}`):`${_}`}),u=n===e?t:R0(n,e,t);const f=Fm(Ud(u));return new sl(f,a,r)}function R0(n,e,t){const i={};return Di(n.children,(r,a)=>{i[a]=r===e?t:R0(r,e,t)}),new zt(n.segments,i)}class O0{constructor(e,t,i){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=i,e&&i.length>0&&ol(i[0]))throw new c.vHH(4003,!1);const r=i.find(Mf);if(r&&r!==sD(i))throw new c.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class ac{constructor(e,t,i){this.segmentGroup=e,this.processChildren=t,this.index=i}}function Lm(n,e,t){if(n||(n=new zt([],{})),0===n.segments.length&&n.hasChildren())return kf(n,e,t);const i=function pD(n,e,t){let i=0,r=e;const a={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=t.length)return a;const u=n.segments[r],f=t[i];if(Mf(f))break;const _=`${f}`,b=i<t.length-1?t[i+1]:null;if(r>0&&void 0===_)break;if(_&&b&&"object"==typeof b&&void 0===b.outlets){if(!N0(_,b,u))return a;i+=2}else{if(!N0(_,{},u))return a;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,e,t),r=t.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const a=new zt(n.segments.slice(0,i.pathIndex),{});return a.children[Gt]=new zt(n.segments.slice(i.pathIndex),n.children),kf(a,0,r)}return i.match&&0===r.length?new zt(n.segments,{}):i.match&&!n.hasChildren()?Ts(n,e,t):i.match?kf(n,0,r):Ts(n,e,t)}function kf(n,e,t){if(0===t.length)return new zt(n.segments,{});{const i=function fD(n){return Mf(n[0])?n[0].outlets:{[Gt]:n}}(t),r={};return Di(i,(a,u)=>{"string"==typeof a&&(a=[a]),null!==a&&(r[u]=Lm(n.children[u],e,a))}),Di(n.children,(a,u)=>{void 0===i[u]&&(r[u]=a)}),new zt(n.segments,r)}}function Ts(n,e,t){const i=n.segments.slice(0,e);let r=0;for(;r<t.length;){const a=t[r];if(Mf(a)){const _=mD(a.outlets);return new zt(i,_)}if(0===r&&ol(t[0])){i.push(new xf(n.segments[e].path,vy(t[0]))),r++;continue}const u=Mf(a)?a.outlets[Gt]:`${a}`,f=r<t.length-1?t[r+1]:null;u&&f&&ol(f)?(i.push(new xf(u,vy(f))),r+=2):(i.push(new xf(u,{})),r++)}return new zt(i,{})}function mD(n){const e={};return Di(n,(t,i)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[i]=Ts(new zt([],{}),0,t))}),e}function vy(n){const e={};return Di(n,(t,i)=>e[i]=`${t}`),e}function N0(n,e,t){return n==t.path&&nl(e,t.parameters)}class al{constructor(e,t){this.id=e,this.url=t}}class by extends al{constructor(e,t,i="imperative",r=null){super(e,t),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Iu extends al{constructor(e,t,i){super(e,t),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Rf extends al{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class F0 extends al{constructor(e,t,i,r){super(e,t),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class gD extends al{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class _D extends al{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ft extends al{constructor(e,t,i,r,a){super(e,t),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=a,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class L0 extends al{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class V0 extends al{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class B0{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class yD{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class vD{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class U0{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class bD{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class H0{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class j0{constructor(e,t,i){this.routerEvent=e,this.position=t,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class CD{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Vm(e,this._root);return t?t.children.map(i=>i.value):[]}firstChild(e){const t=Vm(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Bm(e,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return Bm(e,this._root).map(t=>t.value)}}function Vm(n,e){if(n===e.value)return e;for(const t of e.children){const i=Vm(n,t);if(i)return i}return null}function Bm(n,e){if(n===e.value)return[e];for(const t of e.children){const i=Bm(n,t);if(i.length)return i.unshift(e),i}return[]}class Or{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function jd(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class Um extends CD{constructor(e,t){super(e),this.snapshot=t,$0(this,e)}toString(){return this.snapshot.toString()}}function Hm(n,e){const t=function ED(n,e){const u=new jm([],{},{},"",{},Gt,e,null,n.root,-1,{});return new wy("",new Or(u,[]))}(n,e),i=new Ds([new xf("",{})]),r=new Ds({}),a=new Ds({}),u=new Ds({}),f=new Ds(""),_=new Du(i,r,u,f,a,Gt,e,t.root);return _.snapshot=t.root,new Um(new Or(_,[]),t)}class Du{constructor(e,t,i,r,a,u,f,_){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=a,this.outlet=u,this.component=f,this.title=this.data?.pipe((0,nt.U)(b=>b[Sf]))??tt(void 0),this._futureSnapshot=_}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,nt.U)(e=>Qr(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,nt.U)(e=>Qr(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function ID(n,e="emptyOnly"){const t=n.pathFromRoot;let i=0;if("always"!==e)for(i=t.length-1;i>=1;){const r=t[i],a=t[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(a.component)break;i--}}return function Kk(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(i))}class jm{constructor(e,t,i,r,a,u,f,_,b,I,x,L){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=a,this.outlet=u,this.component=f,this.title=this.data?.[Sf],this.routeConfig=_,this._urlSegment=b,this._lastPathIndex=I,this._correctedLastPathIndex=L??I,this._resolve=x}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Qr(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Qr(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class wy extends CD{constructor(e,t){super(t),this.url=e,$0(this,t)}toString(){return G0(this._root)}}function $0(n,e){e.value._routerState=n,e.children.forEach(t=>$0(n,t))}function G0(n){const e=n.children.length>0?` { ${n.children.map(G0).join(", ")} } `:"";return`${n.value}${e}`}function lc(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,nl(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),nl(e.params,t.params)||n.params.next(t.params),function iD(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!nl(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),nl(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Cy(n,e){const t=nl(n.params,e.params)&&function cy(n,e){return wu(n,e)&&n.every((t,i)=>nl(t.parameters,e[i].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||Cy(n.parent,e.parent))}function cc(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const i=t.value;i._futureSnapshot=e.value;const r=function DD(n,e,t){return e.children.map(i=>{for(const r of t.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return cc(n,i,r);return cc(n,i)})}(n,e,t);return new Or(i,r)}{if(n.shouldAttach(e.value)){const a=n.retrieve(e.value);if(null!==a){const u=a.route;return u.value._futureSnapshot=e.value,u.children=e.children.map(f=>cc(n,f)),u}}const i=function q0(n){return new Du(new Ds(n.url),new Ds(n.params),new Ds(n.queryParams),new Ds(n.fragment),new Ds(n.data),n.outlet,n.component,n)}(e.value),r=e.children.map(a=>cc(n,a));return new Or(i,r)}}const Ey="ngNavigationCancelingError";function Z0(n,e){const{redirectTo:t,navigationBehaviorOptions:i}=ua(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=W0(!1,0,e);return r.url=t,r.navigationBehaviorOptions=i,r}function W0(n,e,t){const i=new Error("NavigationCancelingError: "+(n||""));return i[Ey]=!0,i.cancellationCode=e,t&&(i.url=t),i}function K0(n){return Y0(n)&&ua(n.url)}function Y0(n){return n&&n[Ey]}class Q0{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Of,this.attachRef=null}}let Of=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,i){const r=this.getOrCreateContext(t);r.outlet=i,this.contexts.set(t,r)}onChildOutletDestroyed(t){const i=this.getContext(t);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let i=this.getContext(t);return i||(i=new Q0,this.contexts.set(t,i)),i}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Pf=!1;let Nf=(()=>{class n{constructor(t,i,r,a,u){this.parentContexts=t,this.location=i,this.changeDetector=a,this.environmentInjector=u,this.activated=null,this._activatedRoute=null,this.activateEvents=new c.vpe,this.deactivateEvents=new c.vpe,this.attachEvents=new c.vpe,this.detachEvents=new c.vpe,this.name=r||Gt,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new c.vHH(4012,Pf);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new c.vHH(4012,Pf);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new c.vHH(4012,Pf);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new c.vHH(4013,Pf);this._activatedRoute=t;const r=this.location,u=t._futureSnapshot.component,f=this.parentContexts.getOrCreateContext(this.name).children,_=new Iy(t,f,r.injector);if(i&&function Yk(n){return!!n.resolveComponentFactory}(i)){const b=i.resolveComponentFactory(u);this.activated=r.createComponent(b,r.length,_)}else this.activated=r.createComponent(u,{index:r.length,injector:_,environmentInjector:i??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Of),c.Y36(c.s_b),c.$8M("name"),c.Y36(c.sBO),c.Y36(c.lqb))},n.\u0275dir=c.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),n})();class Iy{constructor(e,t,i){this.route=e,this.childContexts=t,this.parent=i}get(e,t){return e===Du?this.route:e===Of?this.childContexts:this.parent.get(e,t)}}let Ff=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[c.jDz],decls:1,vars:0,template:function(t,i){1&t&&c._UZ(0,"router-outlet")},dependencies:[Nf],encapsulation:2}),n})();function X0(n,e){return n.providers&&!n._injector&&(n._injector=(0,c.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}function Vf(n){const e=n.children&&n.children.map(Vf),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Gt&&(t.component=Ff),t}function vi(n){return n.outlet||Gt}function $m(n,e){const t=n.filter(i=>vi(i)===e);return t.push(...n.filter(i=>vi(i)!==e)),t}function Gd(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class Qk{constructor(e,t,i,r){this.routeReuseStrategy=e,this.futureState=t,this.currState=i,this.forwardEvent=r}activate(e){const t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,e),lc(this.futureState.root),this.activateChildRoutes(t,i,e)}deactivateChildRoutes(e,t,i){const r=jd(t);e.children.forEach(a=>{const u=a.value.outlet;this.deactivateRoutes(a,r[u],i),delete r[u]}),Di(r,(a,u)=>{this.deactivateRouteAndItsChildren(a,i)})}deactivateRoutes(e,t,i){const r=e.value,a=t?t.value:null;if(r===a)if(r.component){const u=i.getContext(r.outlet);u&&this.deactivateChildRoutes(e,t,u.children)}else this.deactivateChildRoutes(e,t,i);else a&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,a=jd(e);for(const u of Object.keys(a))this.deactivateRouteAndItsChildren(a[u],r);if(i&&i.outlet){const u=i.outlet.detach(),f=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:u,route:e,contexts:f})}}deactivateRouteAndOutlet(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,a=jd(e);for(const u of Object.keys(a))this.deactivateRouteAndItsChildren(a[u],r);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(e,t,i){const r=jd(t);e.children.forEach(a=>{this.activateRoutes(a,r[a.value.outlet],i),this.forwardEvent(new H0(a.value.snapshot))}),e.children.length&&this.forwardEvent(new U0(e.value.snapshot))}activateRoutes(e,t,i){const r=e.value,a=t?t.value:null;if(lc(r),r===a)if(r.component){const u=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,u.children)}else this.activateChildRoutes(e,t,i);else if(r.component){const u=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const f=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),u.children.onOutletReAttached(f.contexts),u.attachRef=f.componentRef,u.route=f.route.value,u.outlet&&u.outlet.attach(f.componentRef,f.route.value),lc(f.route.value),this.activateChildRoutes(e,null,u.children)}else{const f=Gd(r.snapshot),_=f?.get(c._Vd)??null;u.attachRef=null,u.route=r,u.resolver=_,u.injector=f,u.outlet&&u.outlet.activateWith(r,u.injector),this.activateChildRoutes(e,null,u.children)}}else this.activateChildRoutes(e,null,i)}}class Ty{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Sy{constructor(e,t){this.component=e,this.route=t}}function Gm(n,e,t){const i=n._root;return Tu(i,e?e._root:null,t,[i.value])}function uc(n,e){const t=Symbol(),i=e.get(n,t);return i===t?"function"!=typeof n||(0,c.Z0I)(n)?e.get(n):n:i}function Tu(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const a=jd(e);return n.children.forEach(u=>{(function xy(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const a=n.value,u=e?e.value:null,f=t?t.getContext(n.value.outlet):null;if(u&&a.routeConfig===u.routeConfig){const _=function Xk(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!wu(n.url,e.url);case"pathParamsOrQueryParamsChange":return!wu(n.url,e.url)||!nl(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Cy(n,e)||!nl(n.queryParams,e.queryParams);default:return!Cy(n,e)}}(u,a,a.routeConfig.runGuardsAndResolvers);_?r.canActivateChecks.push(new Ty(i)):(a.data=u.data,a._resolvedData=u._resolvedData),Tu(n,e,a.component?f?f.children:null:t,i,r),_&&f&&f.outlet&&f.outlet.isActivated&&r.canDeactivateChecks.push(new Sy(f.outlet.component,u))}else u&&Bf(e,f,r),r.canActivateChecks.push(new Ty(i)),Tu(n,null,a.component?f?f.children:null:t,i,r)})(u,a[u.value.outlet],t,i.concat([u.value]),r),delete a[u.value.outlet]}),Di(a,(u,f)=>Bf(u,t.getContext(f),r)),r}function Bf(n,e,t){const i=jd(n),r=n.value;Di(i,(a,u)=>{Bf(a,r.component?e?e.children.getContext(u):null:e,t)}),t.canDeactivateChecks.push(new Sy(r.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,r))}function Uf(n){return"function"==typeof n}function Ay(n){return n instanceof wf||"EmptyError"===n?.name}const zd=Symbol("INITIAL_VALUE");function Hf(){return Li(n=>Cf(n.map(e=>e.pipe(Qs(1),qn(zd)))).pipe((0,nt.U)(e=>{for(const t of e)if(!0!==t){if(t===zd)return zd;if(!1===t||t instanceof sl)return t}return!0}),Cn(e=>e!==zd),Qs(1)))}function ll(n){return(0,JI.z)((0,pi.b)(e=>{if(ua(e))throw Z0(0,e)}),(0,nt.U)(e=>!0===e))}const ky={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Ry(n,e,t,i,r){const a=jf(n,e,t);return a.matched?function My(n,e,t,i){const r=e.canMatch;return r&&0!==r.length?tt(r.map(u=>{const f=uc(u,n);return ca(function eR(n){return n&&Uf(n.canMatch)}(f)?f.canMatch(e,t):n.runInContext(()=>f(e,t)))})).pipe(Hf(),ll()):tt(!0)}(i=X0(e,i),e,t).pipe((0,nt.U)(u=>!0===u?a:{...ky})):tt(a)}function jf(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...ky}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const r=(e.matcher||nD)(t,n,e);if(!r)return{...ky};const a={};Di(r.posParams,(f,_)=>{a[_]=f.path});const u=r.consumed.length>0?{...a,...r.consumed[r.consumed.length-1].parameters}:a;return{matched:!0,consumedSegments:r.consumed,remainingSegments:t.slice(r.consumed.length),parameters:u,positionalParamSegments:r.posParams??{}}}function $f(n,e,t,i,r="corrected"){if(t.length>0&&function dc(n,e,t){return t.some(i=>qm(n,e,i)&&vi(i)!==Gt)}(n,t,i)){const u=new zt(e,function OD(n,e,t,i){const r={};r[Gt]=i,i._sourceSegment=n,i._segmentIndexShift=e.length;for(const a of t)if(""===a.path&&vi(a)!==Gt){const u=new zt([],{});u._sourceSegment=n,u._segmentIndexShift=e.length,r[vi(a)]=u}return r}(n,e,i,new zt(t,n.children)));return u._sourceSegment=n,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:[]}}if(0===t.length&&function nw(n,e,t){return t.some(i=>qm(n,e,i))}(n,t,i)){const u=new zt(n.segments,function Oy(n,e,t,i,r,a){const u={};for(const f of i)if(qm(n,t,f)&&!r[vi(f)]){const _=new zt([],{});_._sourceSegment=n,_._segmentIndexShift="legacy"===a?n.segments.length:e.length,u[vi(f)]=_}return{...r,...u}}(n,e,t,i,n.children,r));return u._sourceSegment=n,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:t}}const a=new zt(n.segments,n.children);return a._sourceSegment=n,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:t}}function qm(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function iw(n,e,t,i){return!!(vi(n)===i||i!==Gt&&qm(e,t,n))&&("**"===n.path||jf(e,n,t).matched)}function Py(n,e,t){return 0===e.length&&!n.children[t]}const Zm=!1;class Wm{constructor(e){this.segmentGroup=e||null}}class Gf{constructor(e){this.urlTree=e}}function da(n){return Pd(new Wm(n))}function Km(n){return Pd(new Gf(n))}class PD{constructor(e,t,i,r,a){this.injector=e,this.configLoader=t,this.urlSerializer=i,this.urlTree=r,this.config=a,this.allowRedirects=!0}apply(){const e=$f(this.urlTree.root,[],[],this.config).segmentGroup,t=new zt(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,Gt).pipe((0,nt.U)(a=>this.createUrlTree(Ud(a),this.urlTree.queryParams,this.urlTree.fragment))).pipe(la(a=>{if(a instanceof Gf)return this.allowRedirects=!1,this.match(a.urlTree);throw a instanceof Wm?this.noMatchError(a):a}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,Gt).pipe((0,nt.U)(r=>this.createUrlTree(Ud(r),e.queryParams,e.fragment))).pipe(la(r=>{throw r instanceof Wm?this.noMatchError(r):r}))}noMatchError(e){return new c.vHH(4002,Zm)}createUrlTree(e,t,i){const r=Fm(e);return new sl(r,t,i)}expandSegmentGroup(e,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(e,t,i).pipe((0,nt.U)(a=>new zt([],a))):this.expandSegment(e,i,t,i.segments,r,!0)}expandChildren(e,t,i){const r=[];for(const a of Object.keys(i.children))"primary"===a?r.unshift(a):r.push(a);return(0,un.D)(r).pipe(oc(a=>{const u=i.children[a],f=$m(t,a);return this.expandSegmentGroup(e,f,u,a).pipe((0,nt.U)(_=>({segment:_,outlet:a})))}),Fd((a,u)=>(a[u.outlet]=u.segment,a),{}),iy())}expandSegment(e,t,i,r,a,u){return(0,un.D)(i).pipe(oc(f=>this.expandSegmentAgainstRoute(e,t,i,f,r,a,u).pipe(la(b=>{if(b instanceof Wm)return tt(null);throw b}))),So(f=>!!f),la((f,_)=>{if(Ay(f))return Py(t,r,a)?tt(new zt([],{})):da(t);throw f}))}expandSegmentAgainstRoute(e,t,i,r,a,u,f){return iw(r,t,a,u)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,t,r,a,u):f&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,i,r,a,u):da(t):da(t)}expandSegmentAgainstRouteUsingRedirect(e,t,i,r,a,u){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,i,r,u):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,a,u)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,i,r){const a=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?Km(a):this.lineralizeSegments(i,a).pipe((0,Ji.z)(u=>{const f=new zt(u,{});return this.expandSegment(e,f,t,u,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,a,u){const{matched:f,consumedSegments:_,remainingSegments:b,positionalParamSegments:I}=jf(t,r,a);if(!f)return da(t);const x=this.applyRedirectCommands(_,r.redirectTo,I);return r.redirectTo.startsWith("/")?Km(x):this.lineralizeSegments(r,x).pipe((0,Ji.z)(L=>this.expandSegment(e,t,i,L.concat(b),u,!1)))}matchSegmentAgainstRoute(e,t,i,r,a){return"**"===i.path?(e=X0(i,e),i.loadChildren?(i._loadedRoutes?tt({routes:i._loadedRoutes,injector:i._loadedInjector}):this.configLoader.loadChildren(e,i)).pipe((0,nt.U)(f=>(i._loadedRoutes=f.routes,i._loadedInjector=f.injector,new zt(r,{})))):tt(new zt(r,{}))):Ry(t,i,r,e).pipe(Li(({matched:u,consumedSegments:f,remainingSegments:_})=>u?this.getChildConfig(e=i._injector??e,i,r).pipe((0,Ji.z)(I=>{const x=I.injector??e,L=I.routes,{segmentGroup:B,slicedSegments:U}=$f(t,f,_,L),ee=new zt(B.segments,B.children);if(0===U.length&&ee.hasChildren())return this.expandChildren(x,L,ee).pipe((0,nt.U)(pt=>new zt(f,pt)));if(0===L.length&&0===U.length)return tt(new zt(f,{}));const _e=vi(i)===a;return this.expandSegment(x,ee,L,U,_e?Gt:a,!0).pipe((0,nt.U)(Qe=>new zt(f.concat(Qe.segments),Qe.children)))})):da(t)))}getChildConfig(e,t,i){return t.children?tt({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?tt({routes:t._loadedRoutes,injector:t._loadedInjector}):function cR(n,e,t,i){const r=e.canLoad;return void 0===r||0===r.length?tt(!0):tt(r.map(u=>{const f=uc(u,n);return ca(function MD(n){return n&&Uf(n.canLoad)}(f)?f.canLoad(e,t):n.runInContext(()=>f(e,t)))})).pipe(Hf(),ll())}(e,t,i).pipe((0,Ji.z)(r=>r?this.configLoader.loadChildren(e,t).pipe((0,pi.b)(a=>{t._loadedRoutes=a.routes,t._loadedInjector=a.injector})):function Ym(n){return Pd(W0(Zm,3))}())):tt({routes:[],injector:e})}lineralizeSegments(e,t){let i=[],r=t.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return tt(i);if(r.numberOfChildren>1||!r.children[Gt])return Pd(new c.vHH(4e3,Zm));r=r.children[Gt]}}applyRedirectCommands(e,t,i){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,i)}applyRedirectCreateUrlTree(e,t,i,r){const a=this.createSegmentGroup(e,t.root,i,r);return new sl(a,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const i={};return Di(e,(r,a)=>{if("string"==typeof r&&r.startsWith(":")){const f=r.substring(1);i[a]=t[f]}else i[a]=r}),i}createSegmentGroup(e,t,i,r){const a=this.createSegments(e,t.segments,i,r);let u={};return Di(t.children,(f,_)=>{u[_]=this.createSegmentGroup(e,f,i,r)}),new zt(a,u)}createSegments(e,t,i,r){return t.map(a=>a.path.startsWith(":")?this.findPosParam(e,a,r):this.findOrReturn(a,i))}findPosParam(e,t,i){const r=i[t.path.substring(1)];if(!r)throw new c.vHH(4001,Zm);return r}findOrReturn(e,t){let i=0;for(const r of t){if(r.path===e.path)return t.splice(i),r;i++}return e}}class Ny{}class Ly{constructor(e,t,i,r,a,u,f,_){this.injector=e,this.rootComponentType=t,this.config=i,this.urlTree=r,this.url=a,this.paramsInheritanceStrategy=u,this.relativeLinkResolution=f,this.urlSerializer=_}recognize(){const e=$f(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,Gt).pipe((0,nt.U)(t=>{if(null===t)return null;const i=new jm([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Gt,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Or(i,t),a=new wy(this.url,r);return this.inheritParamsAndData(a._root),a}))}inheritParamsAndData(e){const t=e.value,i=ID(t,this.paramsInheritanceStrategy);t.params=Object.freeze(i.params),t.data=Object.freeze(i.data),e.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(e,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(e,t,i):this.processSegment(e,t,i,i.segments,r)}processChildren(e,t,i){return(0,un.D)(Object.keys(i.children)).pipe(oc(r=>{const a=i.children[r],u=$m(t,r);return this.processSegmentGroup(e,u,a,r)}),Fd((r,a)=>r&&a?(r.push(...a),r):null),function tD(n,e=!1){return(0,Fi.e)((t,i)=>{let r=0;t.subscribe((0,Gn.x)(i,a=>{const u=n(a,r++);(u||e)&&i.next(a),!u&&i.complete()}))})}(r=>null!==r),Nd(null),iy(),(0,nt.U)(r=>{if(null===r)return null;const a=Vy(r);return function ND(n){n.sort((e,t)=>e.value.outlet===Gt?-1:t.value.outlet===Gt?1:e.value.outlet.localeCompare(t.value.outlet))}(a),a}))}processSegment(e,t,i,r,a){return(0,un.D)(t).pipe(oc(u=>this.processSegmentAgainstRoute(u._injector??e,u,i,r,a)),So(u=>!!u),la(u=>{if(Ay(u))return Py(i,r,a)?tt([]):tt(null);throw u}))}processSegmentAgainstRoute(e,t,i,r,a){if(t.redirectTo||!iw(t,i,r,a))return tt(null);let u;if("**"===t.path){const f=r.length>0?sD(r).parameters:{},_=Uy(i)+r.length;u=tt({snapshot:new jm(r,f,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Xr(t),vi(t),t.component??t._loadedComponent??null,t,By(i),_,Hy(t),_),consumedSegments:[],remainingSegments:[]})}else u=Ry(i,t,r,e).pipe((0,nt.U)(({matched:f,consumedSegments:_,remainingSegments:b,parameters:I})=>{if(!f)return null;const x=Uy(i)+_.length;return{snapshot:new jm(_,I,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Xr(t),vi(t),t.component??t._loadedComponent??null,t,By(i),x,Hy(t),x),consumedSegments:_,remainingSegments:b}}));return u.pipe(Li(f=>{if(null===f)return tt(null);const{snapshot:_,consumedSegments:b,remainingSegments:I}=f;e=t._injector??e;const x=t._loadedInjector??e,L=function uR(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:B,slicedSegments:U}=$f(i,b,I,L.filter(_e=>void 0===_e.redirectTo),this.relativeLinkResolution);if(0===U.length&&B.hasChildren())return this.processChildren(x,L,B).pipe((0,nt.U)(_e=>null===_e?null:[new Or(_,_e)]));if(0===L.length&&0===U.length)return tt([new Or(_,[])]);const ee=vi(t)===a;return this.processSegment(x,L,B,U,ee?Gt:a).pipe((0,nt.U)(_e=>null===_e?null:[new Or(_,_e)]))}))}}function FD(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function Vy(n){const e=[],t=new Set;for(const i of n){if(!FD(i)){e.push(i);continue}const r=e.find(a=>i.value.routeConfig===a.value.routeConfig);void 0!==r?(r.children.push(...i.children),t.add(r)):e.push(i)}for(const i of t){const r=Vy(i.children);e.push(new Or(i.value,r))}return e.filter(i=>!t.has(i))}function By(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Uy(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function Xr(n){return n.data||{}}function Hy(n){return n.resolve||{}}function lw(n){return"string"==typeof n.title||null===n.title}function $y(n){return Li(e=>{const t=n(e);return t?(0,un.D)(t).pipe((0,nt.U)(()=>e)):tt(e)})}let Gy=(()=>{class n{buildTitle(t){let i,r=t.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(a=>a.outlet===Gt);return i}getResolvedTitleForRoute(t){return t.data[Sf]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return(0,c.f3M)(cw)},providedIn:"root"}),n})(),cw=(()=>{class n extends Gy{constructor(t){super(),this.title=t}updateTitle(t){const i=this.buildTitle(t);void 0!==i&&this.title.setTitle(i)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(gs))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class jD{}class uw extends class $D{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const Qm=new c.OlP("",{providedIn:"root",factory:()=>({})}),Zf=new c.OlP("ROUTES");let zy=(()=>{class n{constructor(t,i){this.injector=t,this.compiler=i,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return tt(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const i=ca(t.loadComponent()).pipe((0,pi.b)(a=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=a}),Am(()=>{this.componentLoaders.delete(t)})),r=new ty(i,()=>new Nt.x).pipe(ey());return this.componentLoaders.set(t,r),r}loadChildren(t,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return tt({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const a=this.loadModuleFactoryOrRoutes(i.loadChildren).pipe((0,nt.U)(f=>{this.onLoadEndListener&&this.onLoadEndListener(i);let _,b,I=!1;Array.isArray(f)?b=f:(_=f.create(t).injector,b=sy(_.get(Zf,[],c.XFs.Self|c.XFs.Optional)));return{routes:b.map(Vf),injector:_}}),Am(()=>{this.childrenLoaders.delete(i)})),u=new ty(a,()=>new Nt.x).pipe(ey());return this.childrenLoaders.set(i,u),u}loadModuleFactoryOrRoutes(t){return ca(t()).pipe((0,Ji.z)(i=>i instanceof c.YKP||Array.isArray(i)?tt(i):(0,un.D)(this.compiler.compileModuleAsync(i))))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.zs3),c.LFG(c.Sil))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class GD{}class hR{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function zD(n){throw n}function qD(n,e,t){return e.parse("/")}const ZD={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},qy={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function hw(){const n=(0,c.f3M)(D0),e=(0,c.f3M)(Of),t=(0,c.f3M)(Ae),i=(0,c.f3M)(c.zs3),r=(0,c.f3M)(c.Sil),a=(0,c.f3M)(Zf,{optional:!0})??[],u=(0,c.f3M)(Qm,{optional:!0})??{},f=(0,c.f3M)(cw),_=(0,c.f3M)(Gy,{optional:!0}),b=(0,c.f3M)(GD,{optional:!0}),I=(0,c.f3M)(jD,{optional:!0}),x=new ti(null,n,e,t,i,r,sy(a));return b&&(x.urlHandlingStrategy=b),I&&(x.routeReuseStrategy=I),x.titleStrategy=_??f,function WD(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(u,x),x}let ti=(()=>{class n{constructor(t,i,r,a,u,f,_){this.rootComponentType=t,this.urlSerializer=i,this.rootContexts=r,this.location=a,this.config=_,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Nt.x,this.errorHandler=zD,this.malformedUriErrorHandler=qD,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>tt(void 0),this.urlHandlingStrategy=new hR,this.routeReuseStrategy=new uw,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=u.get(zy),this.configLoader.onLoadEndListener=L=>this.triggerEvent(new yD(L)),this.configLoader.onLoadStartListener=L=>this.triggerEvent(new B0(L)),this.ngModule=u.get(c.h0i),this.console=u.get(c.c2e);const x=u.get(c.R0b);this.isNgZoneEnabled=x instanceof c.R0b&&c.R0b.isInAngularZone(),this.resetConfig(_),this.currentUrlTree=function E0(){return new sl(new zt([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Hm(this.currentUrlTree,this.rootComponentType),this.transitions=new Ds({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(t){const i=this.events;return t.pipe(Cn(r=>0!==r.id),(0,nt.U)(r=>({...r,extractedUrl:this.urlHandlingStrategy.extract(r.rawUrl)})),Li(r=>{let a=!1,u=!1;return tt(r).pipe((0,pi.b)(f=>{this.currentNavigation={id:f.id,initialUrl:f.rawUrl,extractedUrl:f.extractedUrl,trigger:f.source,extras:f.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Li(f=>{const _=this.browserUrlTree.toString(),b=!this.navigated||f.extractedUrl.toString()!==_||_!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||b)&&this.urlHandlingStrategy.shouldProcessUrl(f.rawUrl))return fw(f.source)&&(this.browserUrlTree=f.extractedUrl),tt(f).pipe(Li(x=>{const L=this.transitions.getValue();return i.next(new by(x.id,this.serializeUrl(x.extractedUrl),x.source,x.restoredState)),L!==this.transitions.getValue()?aa.E:Promise.resolve(x)}),function rw(n,e,t,i){return Li(r=>function zf(n,e,t,i,r){return new PD(n,e,t,i,r).apply()}(n,e,t,r.extractedUrl,i).pipe((0,nt.U)(a=>({...r,urlAfterRedirects:a}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,pi.b)(x=>{this.currentNavigation={...this.currentNavigation,finalUrl:x.urlAfterRedirects},r.urlAfterRedirects=x.urlAfterRedirects}),function VD(n,e,t,i,r,a){return(0,Ji.z)(u=>function sw(n,e,t,i,r,a,u="emptyOnly",f="legacy"){return new Ly(n,e,t,i,r,u,f,a).recognize().pipe(Li(_=>null===_?function Fy(n){return new Ln.y(e=>e.error(n))}(new Ny):tt(_)))}(n,e,t,u.urlAfterRedirects,i.serialize(u.urlAfterRedirects),i,r,a).pipe((0,nt.U)(f=>({...u,targetSnapshot:f}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,pi.b)(x=>{if(r.targetSnapshot=x.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!x.extras.skipLocationChange){const B=this.urlHandlingStrategy.merge(x.urlAfterRedirects,x.rawUrl);this.setBrowserUrl(B,x)}this.browserUrlTree=x.urlAfterRedirects}const L=new gD(x.id,this.serializeUrl(x.extractedUrl),this.serializeUrl(x.urlAfterRedirects),x.targetSnapshot);i.next(L)}));if(b&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:L,extractedUrl:B,source:U,restoredState:ee,extras:_e}=f,Le=new by(L,this.serializeUrl(B),U,ee);i.next(Le);const Qe=Hm(B,this.rootComponentType).snapshot;return tt(r={...f,targetSnapshot:Qe,urlAfterRedirects:B,extras:{..._e,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=f.rawUrl,f.resolve(null),aa.E}),(0,pi.b)(f=>{const _=new _D(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot);this.triggerEvent(_)}),(0,nt.U)(f=>r={...f,guards:Gm(f.targetSnapshot,f.currentSnapshot,this.rootContexts)}),function tR(n,e){return(0,Ji.z)(t=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:a,canDeactivateChecks:u}}=t;return 0===u.length&&0===a.length?tt({...t,guardsResult:!0}):function nR(n,e,t,i){return(0,un.D)(n).pipe((0,Ji.z)(r=>function lR(n,e,t,i,r){const a=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return a&&0!==a.length?tt(a.map(f=>{const _=Gd(e)??r,b=uc(f,_);return ca(function kD(n){return n&&Uf(n.canDeactivate)}(b)?b.canDeactivate(n,e,t,i):_.runInContext(()=>b(n,e,t,i))).pipe(So())})).pipe(Hf()):tt(!0)}(r.component,r.route,t,e,i)),So(r=>!0!==r,!0))}(u,i,r,n).pipe((0,Ji.z)(f=>f&&function AD(n){return"boolean"==typeof n}(f)?function iR(n,e,t,i){return(0,un.D)(e).pipe(oc(r=>Df(function sR(n,e){return null!==n&&e&&e(new vD(n)),tt(!0)}(r.route.parent,i),function rR(n,e){return null!==n&&e&&e(new bD(n)),tt(!0)}(r.route,i),function aR(n,e,t){const i=e[e.length-1],a=e.slice(0,e.length-1).reverse().map(u=>function zm(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(u)).filter(u=>null!==u).map(u=>C0(()=>tt(u.guards.map(_=>{const b=Gd(u.node)??t,I=uc(_,b);return ca(function Jk(n){return n&&Uf(n.canActivateChild)}(I)?I.canActivateChild(i,n):b.runInContext(()=>I(i,n))).pipe(So())})).pipe(Hf())));return tt(a).pipe(Hf())}(n,r.path,t),function oR(n,e,t){const i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||0===i.length)return tt(!0);const r=i.map(a=>C0(()=>{const u=Gd(e)??t,f=uc(a,u);return ca(function ew(n){return n&&Uf(n.canActivate)}(f)?f.canActivate(e,n):u.runInContext(()=>f(e,n))).pipe(So())}));return tt(r).pipe(Hf())}(n,r.route,t))),So(r=>!0!==r,!0))}(i,a,n,e):tt(f)),(0,nt.U)(f=>({...t,guardsResult:f})))})}(this.ngModule.injector,f=>this.triggerEvent(f)),(0,pi.b)(f=>{if(r.guardsResult=f.guardsResult,ua(f.guardsResult))throw Z0(0,f.guardsResult);const _=new Ft(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot,!!f.guardsResult);this.triggerEvent(_)}),Cn(f=>!!f.guardsResult||(this.restoreHistory(f),this.cancelNavigationTransition(f,"",3),!1)),$y(f=>{if(f.guards.canActivateChecks.length)return tt(f).pipe((0,pi.b)(_=>{const b=new L0(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot);this.triggerEvent(b)}),Li(_=>{let b=!1;return tt(_).pipe(function dR(n,e){return(0,Ji.z)(t=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=t;if(!r.length)return tt(t);let a=0;return(0,un.D)(r).pipe(oc(u=>function BD(n,e,t,i){const r=n.routeConfig,a=n._resolve;return void 0!==r?.title&&!lw(r)&&(a[Sf]=r.title),function jy(n,e,t,i){const r=function aw(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===r.length)return tt({});const a={};return(0,un.D)(r).pipe((0,Ji.z)(u=>function UD(n,e,t,i){const r=Gd(e)??i,a=uc(n,r);return ca(a.resolve?a.resolve(e,t):r.runInContext(()=>a(e,t)))}(n[u],e,t,i).pipe(So(),(0,pi.b)(f=>{a[u]=f}))),ny(1),ry(a),la(u=>Ay(u)?aa.E:Pd(u)))}(a,n,e,i).pipe((0,nt.U)(u=>(n._resolvedData=u,n.data=ID(n,t).resolve,r&&lw(r)&&(n.data[Sf]=r.title),null)))}(u.route,i,n,e)),(0,pi.b)(()=>a++),ny(1),(0,Ji.z)(u=>a===r.length?tt(t):aa.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,pi.b)({next:()=>b=!0,complete:()=>{b||(this.restoreHistory(_),this.cancelNavigationTransition(_,"",2))}}))}),(0,pi.b)(_=>{const b=new V0(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot);this.triggerEvent(b)}))}),$y(f=>{const _=b=>{const I=[];b.routeConfig?.loadComponent&&!b.routeConfig._loadedComponent&&I.push(this.configLoader.loadComponent(b.routeConfig).pipe((0,pi.b)(x=>{b.component=x}),(0,nt.U)(()=>{})));for(const x of b.children)I.push(..._(x));return I};return Cf(_(f.targetSnapshot.root)).pipe(Nd(),Qs(1))}),$y(()=>this.afterPreactivation()),(0,nt.U)(f=>{const _=function z0(n,e,t){const i=cc(n,e._root,t?t._root:void 0);return new Um(i,e)}(this.routeReuseStrategy,f.targetSnapshot,f.currentRouterState);return r={...f,targetRouterState:_}}),(0,pi.b)(f=>{this.currentUrlTree=f.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(f.urlAfterRedirects,f.rawUrl),this.routerState=f.targetRouterState,"deferred"===this.urlUpdateStrategy&&(f.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,f),this.browserUrlTree=f.urlAfterRedirects)}),((n,e,t)=>(0,nt.U)(i=>(new Qk(e,i.targetRouterState,i.currentRouterState,t).activate(n),i)))(this.rootContexts,this.routeReuseStrategy,f=>this.triggerEvent(f)),(0,pi.b)({next(){a=!0},complete(){a=!0}}),Am(()=>{a||u||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),la(f=>{if(u=!0,Y0(f)){K0(f)||(this.navigated=!0,this.restoreHistory(r,!0));const _=new Rf(r.id,this.serializeUrl(r.extractedUrl),f.message,f.cancellationCode);if(i.next(_),K0(f)){const b=this.urlHandlingStrategy.merge(f.url,this.rawUrlTree),I={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||fw(r.source)};this.scheduleNavigation(b,"imperative",null,I,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{this.restoreHistory(r,!0);const _=new F0(r.id,this.serializeUrl(r.extractedUrl),f,r.targetSnapshot??void 0);i.next(_);try{r.resolve(this.errorHandler(f))}catch(b){r.reject(b)}}return aa.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next({...this.transitions.value,...t})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const i="popstate"===t.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{const r={replaceUrl:!0},a=t.state?.navigationId?t.state:null;if(a){const f={...a};delete f.navigationId,delete f.\u0275routerPageId,0!==Object.keys(f).length&&(r.state=f)}const u=this.parseUrl(t.url);this.scheduleNavigation(u,i,a,r)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){this.config=t.map(Vf),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,i={}){const{relativeTo:r,queryParams:a,fragment:u,queryParamsHandling:f,preserveFragment:_}=i,b=r||this.routerState.root,I=_?this.currentUrlTree.fragment:u;let x=null;switch(f){case"merge":x={...this.currentUrlTree.queryParams,...a};break;case"preserve":x=this.currentUrlTree.queryParams;break;default:x=a||null}return null!==x&&(x=this.removeEmptyProps(x)),gy(b,this.currentUrlTree,t,x,I??null)}navigateByUrl(t,i={skipLocationChange:!1}){const r=ua(t)?t:this.parseUrl(t),a=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(a,"imperative",null,i)}navigate(t,i={skipLocationChange:!1}){return function Zy(n){for(let e=0;e<n.length;e++){if(null==n[e])throw new c.vHH(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let i;try{i=this.urlSerializer.parse(t)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,t)}return i}isActive(t,i){let r;if(r=!0===i?{...ZD}:!1===i?{...qy}:i,ua(t))return I0(this.currentUrlTree,t,r);const a=this.parseUrl(t);return I0(this.currentUrlTree,a,r)}removeEmptyProps(t){return Object.keys(t).reduce((i,r)=>{const a=t[r];return null!=a&&(i[r]=a),i},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new Iu(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,i,r,a,u){if(this.disposed)return Promise.resolve(!1);let f,_,b;u?(f=u.resolve,_=u.reject,b=u.promise):b=new Promise((L,B)=>{f=L,_=B});const I=++this.navigationId;let x;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(r=this.location.getState()),x=r&&r.\u0275routerPageId?r.\u0275routerPageId:a.replaceUrl||a.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):x=0,this.setTransition({id:I,targetPageId:x,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:a,resolve:f,reject:_,promise:b,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),b.catch(L=>Promise.reject(L))}setBrowserUrl(t,i){const r=this.urlSerializer.serialize(t),a={...i.extras.state,...this.generateNgRouterState(i.id,i.targetPageId)};this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl?this.location.replaceState(r,"",a):this.location.go(r,"",a)}restoreHistory(t,i=!1){if("computed"===this.canceledNavigationResolution){const r=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===r?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===r&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(r)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,i,r){const a=new Rf(t.id,this.serializeUrl(t.extractedUrl),i,r);this.triggerEvent(a),t.resolve(!1)}generateNgRouterState(t,i){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}}return n.\u0275fac=function(t){c.$Z()},n.\u0275prov=c.Yz7({token:n,factory:function(){return hw()},providedIn:"root"}),n})();function fw(n){return"imperative"!==n}let cl=(()=>{class n{constructor(t,i,r,a,u){this.router=t,this.route=i,this.tabIndexAttribute=r,this.renderer=a,this.el=u,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.onChanges=new Nt.x,this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(t){this._preserveFragment=(0,c.D6c)(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=(0,c.D6c)(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=(0,c.D6c)(t)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(t){if(null!=this.tabIndexAttribute)return;const i=this.renderer,r=this.el.nativeElement;null!==t?i.setAttribute(r,"tabindex",t):i.removeAttribute(r,"tabindex")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){return null===this.urlTree||this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(ti),c.Y36(Du),c.$8M("tabindex"),c.Y36(c.Qsj),c.Y36(c.SBq))},n.\u0275dir=c.lG2({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,i){1&t&&c.NdJ("click",function(){return i.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[c.TTD]}),n})(),Xm=(()=>{class n{constructor(t,i,r){this.router=t,this.route=i,this.locationStrategy=r,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.href=null,this.onChanges=new Nt.x,this.subscription=t.events.subscribe(a=>{a instanceof Iu&&this.updateTargetUrlAndHref()})}set preserveFragment(t){this._preserveFragment=(0,c.D6c)(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=(0,c.D6c)(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=(0,c.D6c)(t)}get replaceUrl(){return this._replaceUrl}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:null}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,i,r,a,u){return!!(0!==t||i||r||a||u||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!1)}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(ti),c.Y36(Du),c.Y36(ve))},n.\u0275dir=c.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,i){1&t&&c.NdJ("click",function(a){return i.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),2&t&&c.uIk("target",i.target)("href",i.href,c.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[c.TTD]}),n})(),KD=(()=>{class n{constructor(t,i,r,a,u,f){this.router=t,this.element=i,this.renderer=r,this.cdr=a,this.link=u,this.linkWithHref=f,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new c.vpe,this.routerEventsSubscription=t.events.subscribe(_=>{_ instanceof Iu&&this.update()})}ngAfterContentInit(){tt(this.links.changes,this.linksWithHrefs.changes,tt(null)).pipe((0,If.J)()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const t=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(i=>!!i).map(i=>i.onChanges);this.linkInputChangesSubscription=(0,un.D)(t).pipe((0,If.J)()).subscribe(i=>{this.isActive!==this.isLinkActive(this.router)(i)&&this.update()})}set routerLinkActive(t){const i=Array.isArray(t)?t:t.split(" ");this.classes=i.filter(r=>!!r)}ngOnChanges(t){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const t=this.hasActiveLinks();this.isActive!==t&&(this.isActive=t,this.cdr.markForCheck(),this.classes.forEach(i=>{t?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}),t&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(t))})}isLinkActive(t){const i=function fR(n){return!!n.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return r=>!!r.urlTree&&t.isActive(r.urlTree,i)}hasActiveLinks(){const t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.linkWithHref&&t(this.linkWithHref)||this.links.some(t)||this.linksWithHrefs.some(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(ti),c.Y36(c.SBq),c.Y36(c.Qsj),c.Y36(c.sBO),c.Y36(cl,8),c.Y36(Xm,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(t,i,r){if(1&t&&(c.Suo(r,cl,5),c.Suo(r,Xm,5)),2&t){let a;c.iGM(a=c.CRH())&&(i.links=a),c.iGM(a=c.CRH())&&(i.linksWithHrefs=a)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[c.TTD]}),n})();class Jm{}let pw=(()=>{class n{constructor(t,i,r,a,u){this.router=t,this.injector=r,this.preloadingStrategy=a,this.loader=u}setUpPreloading(){this.subscription=this.router.events.pipe(Cn(t=>t instanceof Iu),oc(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,i){const r=[];for(const a of i){a.providers&&!a._injector&&(a._injector=(0,c.MMx)(a.providers,t,`Route: ${a.path}`));const u=a._injector??t,f=a._loadedInjector??u;a.loadChildren&&!a._loadedRoutes&&void 0===a.canLoad||a.loadComponent&&!a._loadedComponent?r.push(this.preloadConfig(u,a)):(a.children||a._loadedRoutes)&&r.push(this.processRoutes(f,a.children??a._loadedRoutes))}return(0,un.D)(r).pipe((0,If.J)())}preloadConfig(t,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(t,i):tt(null);const a=r.pipe((0,Ji.z)(u=>null===u?tt(void 0):(i._loadedRoutes=u.routes,i._loadedInjector=u.injector,this.processRoutes(u.injector??t,u.routes))));if(i.loadComponent&&!i._loadedComponent){const u=this.loader.loadComponent(i);return(0,un.D)([a,u]).pipe((0,If.J)())}return a})}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ti),c.LFG(c.Sil),c.LFG(c.lqb),c.LFG(Jm),c.LFG(zy))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const eg=new c.OlP("");let Wy=(()=>{class n{constructor(t,i,r={}){this.router=t,this.viewportScroller=i,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof by?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Iu&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof j0&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,i){this.router.triggerEvent(new j0(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){c.$Z()},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function ul(n,e){return{\u0275kind:n,\u0275providers:e}}function Su(n){return[{provide:Zf,multi:!0,useValue:n}]}function tg(){const n=(0,c.f3M)(c.zs3);return e=>{const t=n.get(c.z2F);if(e!==t.components[0])return;const i=n.get(ti),r=n.get(Ky);1===n.get(Yy)&&i.initialNavigation(),n.get(JD,null,c.XFs.Optional)?.setUpPreloading(),n.get(eg,null,c.XFs.Optional)?.init(),i.resetRootComponentType(t.componentTypes[0]),r.next(),r.complete()}}const Ky=new c.OlP("",{factory:()=>new Nt.x}),Yy=new c.OlP("",{providedIn:"root",factory:()=>1});const JD=new c.OlP("");function eT(n){return ul(0,[{provide:JD,useExisting:pw},{provide:Jm,useExisting:n}])}const mw=new c.OlP("ROUTER_FORROOT_GUARD"),tT=[Ae,{provide:D0,useClass:uy},{provide:ti,useFactory:hw},Of,{provide:Du,useFactory:function Kf(n){return n.routerState.root},deps:[ti]},zy];function gw(){return new c.PXZ("Router",ti)}let ig=(()=>{class n{constructor(t){}static forRoot(t,i){return{ngModule:n,providers:[tT,[],Su(t),{provide:mw,useFactory:rT,deps:[[ti,new c.FiY,new c.tp0]]},{provide:Qm,useValue:i||{}},i?.useHash?{provide:ve,useClass:st}:{provide:ve,useClass:Xe},{provide:eg,useFactory:()=>{const n=(0,c.f3M)(ti),e=(0,c.f3M)(Il),t=(0,c.f3M)(Qm);return t.scrollOffset&&e.setOffset(t.scrollOffset),new Wy(n,e,t)}},i?.preloadingStrategy?eT(i.preloadingStrategy).\u0275providers:[],{provide:c.PXZ,multi:!0,useFactory:gw},i?.initialNavigation?sT(i):[],[{provide:_w,useFactory:tg},{provide:c.tb,multi:!0,useExisting:_w}]]}}static forChild(t){return{ngModule:n,providers:[Su(t)]}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(mw,8))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[Ff]}),n})();function rT(n){return"guarded"}function sT(n){return["disabled"===n.initialNavigation?ul(3,[{provide:c.ip1,multi:!0,useFactory:()=>{const e=(0,c.f3M)(ti);return()=>{e.setUpLocationChangeListener()}}},{provide:Yy,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?ul(2,[{provide:Yy,useValue:0},{provide:c.ip1,multi:!0,deps:[c.zs3],useFactory:e=>{const t=e.get($,Promise.resolve());let i=!1;return()=>t.then(()=>new Promise(a=>{const u=e.get(ti),f=e.get(Ky);(function r(a){e.get(ti).events.pipe(Cn(f=>f instanceof Iu||f instanceof Rf||f instanceof F0),(0,nt.U)(f=>f instanceof Iu||f instanceof Rf&&(0===f.code||1===f.code)&&null),Cn(f=>null!==f),Qs(1)).subscribe(()=>{a()})})(()=>{a(!0),i=!0}),u.afterPreactivation=()=>(a(!0),i||f.closed?tt(void 0):f),u.initialNavigation()}))}}]).\u0275providers:[]]}const _w=new c.OlP(""),rg=function(n,e,t){return{background:n,color:e,"border-color":t}},xu=["*"];let _R=(()=>{class n{constructor(){this.themes=[],this.themes.push({background:"BlanchedAlmond",color:"black"}),this.themes.push({background:"Aqua",color:"black"}),this.themes.push({background:"HoneyDew",color:"black"}),this.themes.push({background:"Ivory",color:"black"}),this.themes.push({background:"LightBlue",color:"black"}),this.themes.push({background:"LightGreen",color:"black"}),this.themes.push({background:"LightSeaGreen",color:"white"}),this.themes.push({background:"SteelBlue",color:"white"}),this.themes.push({background:"Tomato",color:"white"}),this.themes.push({background:"SeaGreen",color:"white"}),this.themes.push({background:"MediumVioletRed",color:"white"}),this.themes.push({background:"SlateGrey",color:"white"});let t=this.themes[Math.floor(Math.random()*this.themes.length)];null==this.background&&(this.background=t.background),null==this.color&&(this.color=t.color)}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-card"]],inputs:{background:"background",color:"color"},ngContentSelectors:xu,decls:2,vars:5,consts:[[1,"custom-card",3,"ngStyle"]],template:function(t,i){1&t&&(c.F$t(),c.TgZ(0,"div",0),c.Hsn(1),c.qZA()),2&t&&c.Q6J("ngStyle",c.kEZ(1,rg,i.background,i.color,i.color))},dependencies:[Yu],styles:[".custom-card[_ngcontent-%COMP%]{border-radius:10px;display:inline-block;position:relative;padding:10px;width:100%}.custom-card[_ngcontent-%COMP%]{box-shadow:0 1px 3px #fff,0 1px 2px #fff;transition:all .3s cubic-bezier(.25,.8,.25,1)}.custom-card[_ngcontent-%COMP%]:hover{box-shadow:0 10px 20px #fff,0 10px 10px #fff}"]}),n})(),tr=(()=>{class n{constructor(){this._listeners=[]}notify(t,i){for(let r of this._listeners)r(t,i)}listen(t){return this._listeners.push(t),()=>{this._listeners=this._listeners.filter(i=>t!==i)}}ngOnDestroy(){this._listeners=[]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function fr(n){return null!=n&&"false"!=`${n}`}function hl(n){return Array.isArray(n)?n:[n]}function Rn(n){return null==n?"":"string"==typeof n?n:`${n}px`}function Mo(n){return n instanceof c.SBq?n.nativeElement:n}let Kd=0;const fc=new c.OlP("CdkAccordion");let Yd=(()=>{class n{constructor(){this._stateChanges=new Nt.x,this._openCloseAllActions=new Nt.x,this.id="cdk-accordion-"+Kd++,this._multi=!1}get multi(){return this._multi}set multi(t){this._multi=fr(t)}openAll(){this._multi&&this._openCloseAllActions.next(!0)}closeAll(){this._openCloseAllActions.next(!1)}ngOnChanges(t){this._stateChanges.next(t)}ngOnDestroy(){this._stateChanges.complete(),this._openCloseAllActions.complete()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["cdk-accordion"],["","cdkAccordion",""]],inputs:{multi:"multi"},exportAs:["cdkAccordion"],features:[c._Bn([{provide:fc,useExisting:n}]),c.TTD]}),n})(),Qd=0,Xd=(()=>{class n{constructor(t,i,r){this.accordion=t,this._changeDetectorRef=i,this._expansionDispatcher=r,this._openCloseAllSubscription=tl.w0.EMPTY,this.closed=new c.vpe,this.opened=new c.vpe,this.destroyed=new c.vpe,this.expandedChange=new c.vpe,this.id="cdk-accordion-child-"+Qd++,this._expanded=!1,this._disabled=!1,this._removeUniqueSelectionListener=()=>{},this._removeUniqueSelectionListener=r.listen((a,u)=>{this.accordion&&!this.accordion.multi&&this.accordion.id===u&&this.id!==a&&(this.expanded=!1)}),this.accordion&&(this._openCloseAllSubscription=this._subscribeToOpenCloseAllActions())}get expanded(){return this._expanded}set expanded(t){t=fr(t),this._expanded!==t&&(this._expanded=t,this.expandedChange.emit(t),t?(this.opened.emit(),this._expansionDispatcher.notify(this.id,this.accordion?this.accordion.id:this.id)):this.closed.emit(),this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(t){this._disabled=fr(t)}ngOnDestroy(){this.opened.complete(),this.closed.complete(),this.destroyed.emit(),this.destroyed.complete(),this._removeUniqueSelectionListener(),this._openCloseAllSubscription.unsubscribe()}toggle(){this.disabled||(this.expanded=!this.expanded)}close(){this.disabled||(this.expanded=!1)}open(){this.disabled||(this.expanded=!0)}_subscribeToOpenCloseAllActions(){return this.accordion._openCloseAllActions.subscribe(t=>{this.disabled||(this.expanded=t)})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(fc,12),c.Y36(c.sBO),c.Y36(tr))},n.\u0275dir=c.lG2({type:n,selectors:[["cdk-accordion-item"],["","cdkAccordionItem",""]],inputs:{expanded:"expanded",disabled:"disabled"},outputs:{closed:"closed",opened:"opened",destroyed:"destroyed",expandedChange:"expandedChange"},exportAs:["cdkAccordionItem"],features:[c._Bn([{provide:fc,useValue:void 0}])]}),n})(),vw=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();class ag{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class bw extends ag{constructor(e,t,i,r){super(),this.component=e,this.viewContainerRef=t,this.injector=i,this.componentFactoryResolver=r}}class ww extends ag{constructor(e,t,i,r){super(),this.templateRef=e,this.viewContainerRef=t,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class fT extends ag{constructor(e){super(),this.element=e instanceof c.SBq?e.nativeElement:e}}class Jy{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof bw?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof ww?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof fT?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class Cw extends Jy{constructor(e,t,i,r,a){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=u=>{const f=u.element,_=this._document.createComment("dom-portal");f.parentNode.insertBefore(_,f),this.outletElement.appendChild(f),this._attachedPortal=u,super.setDisposeFn(()=>{_.parentNode&&_.parentNode.replaceChild(f,_)})},this._document=a}attachComponentPortal(e){const i=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let r;return e.viewContainerRef?(r=e.viewContainerRef.createComponent(i,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector),this.setDisposeFn(()=>r.destroy())):(r=i.create(e.injector||this._defaultInjector||c.zs3.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=e,r}attachTemplatePortal(e){let t=e.viewContainerRef,i=t.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=t.indexOf(i);-1!==r&&t.remove(r)}),this._attachedPortal=e,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let Jd,lg=(()=>{class n extends Jy{constructor(t,i,r){super(),this._componentFactoryResolver=t,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new c.vpe,this.attachDomPortal=a=>{const u=a.element,f=this._document.createComment("dom-portal");a.setAttachedHost(this),u.parentNode.insertBefore(f,u),this._getRootNode().appendChild(u),this._attachedPortal=a,super.setDisposeFn(()=>{f.parentNode&&f.parentNode.replaceChild(u,f)})},this._document=r}get portal(){return this._attachedPortal}set portal(t){this.hasAttached()&&!t&&!this._isInitialized||(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(t){t.setAttachedHost(this);const i=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,a=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),u=i.createComponent(a,i.length,t.injector||i.injector);return i!==this._viewContainerRef&&this._getRootNode().appendChild(u.hostView.rootNodes[0]),super.setDisposeFn(()=>u.destroy()),this._attachedPortal=t,this._attachedRef=u,this.attached.emit(u),u}attachTemplatePortal(t){t.setAttachedHost(this);const i=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c._Vd),c.Y36(c.s_b),c.Y36(ie))},n.\u0275dir=c.lG2({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[c.qOj]}),n})(),Xf=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();try{Jd=typeof Intl<"u"&&Intl.v8BreakIterator}catch{Jd=!1}let eh,ug,pc,dg,pr=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?function Lc(n){return n===hs}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Jd)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.Lbi))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function th(n){return function tv(){if(null==eh&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>eh=!0}))}finally{eh=eh||!1}return eh}()?n:!!n.capture}function nv(){if(null==pc){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return pc=!1,pc;if("scrollBehavior"in document.documentElement.style)pc=!0;else{const n=Element.prototype.scrollTo;pc=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return pc}function nh(){if("object"!=typeof document||!document)return 0;if(null==ug){const n=document.createElement("div"),e=n.style;n.dir="rtl",e.width="1px",e.overflow="auto",e.visibility="hidden",e.pointerEvents="none",e.position="absolute";const t=document.createElement("div"),i=t.style;i.width="2px",i.height="1px",n.appendChild(t),document.body.appendChild(n),ug=0,0===n.scrollLeft&&(n.scrollLeft=1,ug=0===n.scrollLeft?1:2),n.remove()}return ug}function mc(n){return n.composedPath?n.composedPath()[0]:n.target}function Jf(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function av(n,...e){return e.length?e.some(t=>n[t]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}var fg=P(4986);function lv(n,e=fg.z){return(0,Fi.e)((t,i)=>{let r=null,a=null,u=null;const f=()=>{if(r){r.unsubscribe(),r=null;const b=a;a=null,i.next(b)}};function _(){const b=u+n,I=e.now();if(I<b)return r=this.schedule(void 0,b-I),void i.add(r);f()}t.subscribe((0,Gn.x)(i,b=>{a=b,u=e.now(),r||(r=e.schedule(_,n),i.add(r))},()=>{f(),i.complete()},void 0,()=>{a=r=null}))})}function rh(n){return Cn((e,t)=>n<=t)}function pg(n,e=bu.y){return n=n??cS,(0,Fi.e)((t,i)=>{let r,a=!0;t.subscribe((0,Gn.x)(i,u=>{const f=e(u);(a||!n(r,f))&&(a=!1,r=f,i.next(u))}))})}function cS(n,e){return n===e}var uS=P(5032);function mr(n){return(0,Fi.e)((e,t)=>{(0,Oi.Xf)(n).subscribe((0,Gn.x)(t,()=>t.complete(),uS.Z)),!t.closed&&e.subscribe(t)})}let $w=(()=>{class n{create(t){return typeof MutationObserver>"u"?null:new MutationObserver(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),cv=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[$w]}),n})();const sh=new Set;let oh,fS=(()=>{class n{constructor(t){this._platform=t,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):Gw}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function pS(n){if(!sh.has(n))try{oh||(oh=document.createElement("style"),oh.setAttribute("type","text/css"),document.head.appendChild(oh)),oh.sheet&&(oh.sheet.insertRule(`@media ${n} {body{ }}`,0),sh.add(n))}catch(e){console.error(e)}}(t),this._matchMedia(t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(pr))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Gw(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let zw=(()=>{class n{constructor(t,i){this._mediaMatcher=t,this._zone=i,this._queries=new Map,this._destroySubject=new Nt.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return uv(hl(t)).some(r=>this._registerQuery(r).mql.matches)}observe(t){let a=Cf(uv(hl(t)).map(u=>this._registerQuery(u).observable));return a=Df(a.pipe(Qs(1)),a.pipe(rh(1),lv(0))),a.pipe((0,nt.U)(u=>{const f={matches:!1,breakpoints:{}};return u.forEach(({matches:_,query:b})=>{f.matches=f.matches||_,f.breakpoints[b]=_}),f}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const i=this._mediaMatcher.matchMedia(t),a={observable:new Ln.y(u=>{const f=_=>this._zone.run(()=>u.next(_));return i.addListener(f),()=>{i.removeListener(f)}}).pipe(qn(i),(0,nt.U)(({matches:u})=>({query:t,matches:u})),mr(this._destroySubject)),mql:i};return this._queries.set(t,a),a}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(fS),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function uv(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}class gS extends class Zw{constructor(e){this._items=e,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new Nt.x,this._typeaheadSubscription=tl.w0.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=t=>t.disabled,this._pressedLetters=[],this.tabOut=new Nt.x,this.change=new Nt.x,e instanceof c.n_E&&e.changes.subscribe(t=>{if(this._activeItem){const r=t.toArray().indexOf(this._activeItem);r>-1&&r!==this._activeItemIndex&&(this._activeItemIndex=r)}})}skipPredicate(e){return this._skipPredicateFn=e,this}withWrap(e=!0){return this._wrap=e,this}withVerticalOrientation(e=!0){return this._vertical=e,this}withHorizontalOrientation(e){return this._horizontal=e,this}withAllowedModifierKeys(e){return this._allowedModifierKeys=e,this}withTypeAhead(e=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,pi.b)(t=>this._pressedLetters.push(t)),lv(e),Cn(()=>this._pressedLetters.length>0),(0,nt.U)(()=>this._pressedLetters.join(""))).subscribe(t=>{const i=this._getItemsArray();for(let r=1;r<i.length+1;r++){const a=(this._activeItemIndex+r)%i.length,u=i[a];if(!this._skipPredicateFn(u)&&0===u.getLabel().toUpperCase().trim().indexOf(t)){this.setActiveItem(a);break}}this._pressedLetters=[]}),this}withHomeAndEnd(e=!0){return this._homeAndEnd=e,this}setActiveItem(e){const t=this._activeItem;this.updateActiveItem(e),this._activeItem!==t&&this.change.next(this._activeItemIndex)}onKeydown(e){const t=e.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every(a=>!e[a]||this._allowedModifierKeys.indexOf(a)>-1);switch(t){case 9:return void this.tabOut.next();case 40:if(this._vertical&&r){this.setNextItemActive();break}return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&r){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&r){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&r){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&r){this.setLastItemActive();break}return;default:return void((r||av(e,"shiftKey"))&&(e.key&&1===e.key.length?this._letterKeyStream.next(e.key.toLocaleUpperCase()):(t>=65&&t<=90||t>=48&&t<=57)&&this._letterKeyStream.next(String.fromCharCode(t))))}this._pressedLetters=[],e.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(e){const t=this._getItemsArray(),i="number"==typeof e?e:t.indexOf(e);this._activeItem=t[i]??null,this._activeItemIndex=i}_setActiveItemByDelta(e){this._wrap?this._setActiveInWrapMode(e):this._setActiveInDefaultMode(e)}_setActiveInWrapMode(e){const t=this._getItemsArray();for(let i=1;i<=t.length;i++){const r=(this._activeItemIndex+e*i+t.length)%t.length;if(!this._skipPredicateFn(t[r]))return void this.setActiveItem(r)}}_setActiveInDefaultMode(e){this._setActiveItemByIndex(this._activeItemIndex+e,e)}_setActiveItemByIndex(e,t){const i=this._getItemsArray();if(i[e]){for(;this._skipPredicateFn(i[e]);)if(!i[e+=t])return;this.setActiveItem(e)}}_getItemsArray(){return this._items instanceof c.n_E?this._items.toArray():this._items}}{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(e){return this._origin=e,this}setActiveItem(e){super.setActiveItem(e),this.activeItem&&this.activeItem.focus(this._origin)}}let Ww=(()=>{class n{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function yS(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const i=function _S(n){try{return n.frameElement}catch{return null}}(function Xw(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(t));if(i&&(-1===Yw(i)||!this.isVisible(i)))return!1;let r=t.nodeName.toLowerCase(),a=Yw(t);return t.hasAttribute("contenteditable")?-1!==a:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function Qw(n){let e=n.nodeName.toLowerCase(),t="input"===e&&n.type;return"text"===t||"password"===t||"select"===e||"textarea"===e}(t))&&("audio"===r?!!t.hasAttribute("controls")&&-1!==a:"video"===r?-1!==a&&(null!==a||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}isFocusable(t,i){return function CS(n){return!function vS(n){return function ah(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function Kw(n){let e=n.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(n)||function bS(n){return function wS(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||fv(n))}(t)&&!this.isDisabled(t)&&(i?.ignoreVisibility||this.isVisible(t))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(pr))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function fv(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let e=n.getAttribute("tabindex");return!(!e||isNaN(parseInt(e,10)))}function Yw(n){if(!fv(n))return null;const e=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}class ES{constructor(e,t,i,r,a=!1){this._element=e,this._checker=t,this._ngZone=i,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,a||this.attachAnchors()}get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}destroy(){const e=this._startAnchor,t=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.remove()),t&&(t.removeEventListener("focus",this.endAnchorListener),t.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement(e)))})}focusFirstTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement(e)))})}focusLastTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement(e)))})}_getRegionBoundary(e){const t=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);return"start"==e?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(e){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(!this._checker.isFocusable(t)){const i=this._getFirstTabbableElement(t);return i?.focus(e),!!i}return t.focus(e),!0}return this.focusFirstTabbableElement(e)}focusFirstTabbableElement(e){const t=this._getRegionBoundary("start");return t&&t.focus(e),!!t}focusLastTabbableElement(e){const t=this._getRegionBoundary("end");return t&&t.focus(e),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let i=0;i<t.length;i++){const r=t[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[i]):null;if(r)return r}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let i=t.length-1;i>=0;i--){const r=t[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[i]):null;if(r)return r}return null}_createAnchor(){const e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,t){e?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._ngZone.isStable?e():this._ngZone.onStable.pipe(Qs(1)).subscribe(e)}}let pv=(()=>{class n{constructor(t,i,r){this._checker=t,this._ngZone=i,this._document=r}create(t,i=!1){return new ES(t,this._checker,this._ngZone,this._document,i)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Ww),c.LFG(c.R0b),c.LFG(ie))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function _g(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function Jw(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const eC=new c.OlP("cdk-input-modality-detector-options"),TS={ignoreKeys:[18,17,224,91,16]},lh=th({passive:!0,capture:!0});let SS=(()=>{class n{constructor(t,i,r,a){this._platform=t,this._mostRecentTarget=null,this._modality=new Ds(null),this._lastTouchMs=0,this._onKeydown=u=>{this._options?.ignoreKeys?.some(f=>f===u.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=mc(u))},this._onMousedown=u=>{Date.now()-this._lastTouchMs<650||(this._modality.next(_g(u)?"keyboard":"mouse"),this._mostRecentTarget=mc(u))},this._onTouchstart=u=>{Jw(u)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=mc(u))},this._options={...TS,...a},this.modalityDetected=this._modality.pipe(rh(1)),this.modalityChanged=this.modalityDetected.pipe(pg()),t.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,lh),r.addEventListener("mousedown",this._onMousedown,lh),r.addEventListener("touchstart",this._onTouchstart,lh)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,lh),document.removeEventListener("mousedown",this._onMousedown,lh),document.removeEventListener("touchstart",this._onTouchstart,lh))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(pr),c.LFG(c.R0b),c.LFG(ie),c.LFG(eC,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const nC=new c.OlP("cdk-focus-monitor-default-options"),yg=th({passive:!0,capture:!0});let mv=(()=>{class n{constructor(t,i,r,a,u){this._ngZone=t,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Nt.x,this._rootNodeFocusAndBlurListener=f=>{for(let b=mc(f);b;b=b.parentElement)"focus"===f.type?this._onFocus(f,b):this._onBlur(f,b)},this._document=a,this._detectionMode=u?.detectionMode||0}monitor(t,i=!1){const r=Mo(t);if(!this._platform.isBrowser||1!==r.nodeType)return tt(null);const a=function Dw(n){if(function gT(){if(null==dg){const n=typeof document<"u"?document.head:null;dg=!(!n||!n.createShadowRoot&&!n.attachShadow)}return dg}()){const e=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(r)||this._getDocument(),u=this._elementInfo.get(r);if(u)return i&&(u.checkChildren=!0),u.subject;const f={checkChildren:i,subject:new Nt.x,rootNode:a};return this._elementInfo.set(r,f),this._registerGlobalListeners(f),f.subject}stopMonitoring(t){const i=Mo(t),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(t,i,r){const a=Mo(t);a===this._getDocument().activeElement?this._getClosestElementsInfo(a).forEach(([f,_])=>this._originChanged(f,i,_)):(this._setOrigin(i),"function"==typeof a.focus&&a.focus(r))}ngOnDestroy(){this._elementInfo.forEach((t,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:t&&this._isLastInteractionFromInputLabel(t)?"mouse":"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!t?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(t,i){t.classList.toggle("cdk-focused",!!i),t.classList.toggle("cdk-touch-focused","touch"===i),t.classList.toggle("cdk-keyboard-focused","keyboard"===i),t.classList.toggle("cdk-mouse-focused","mouse"===i),t.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(t,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,i){const r=this._elementInfo.get(i),a=mc(t);!r||!r.checkChildren&&i!==a||this._originChanged(i,this._getFocusOrigin(a),r)}_onBlur(t,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&t.relatedTarget instanceof Node&&i.contains(t.relatedTarget)||(this._setClasses(i),this._emitOrigin(r,null))}_emitOrigin(t,i){t.subject.observers.length&&this._ngZone.run(()=>t.subject.next(i))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const i=t.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,yg),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,yg)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(mr(this._stopInputModalityDetector)).subscribe(a=>{this._setOrigin(a,!0)}))}_removeGlobalListeners(t){const i=t.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,yg),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,yg),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,i,r){this._setClasses(t,i),this._emitOrigin(r,i),this._lastFocusOrigin=i}_getClosestElementsInfo(t){const i=[];return this._elementInfo.forEach((r,a)=>{(a===t||r.checkChildren&&a.contains(t))&&i.push([a,r])}),i}_isLastInteractionFromInputLabel(t){const{_mostRecentTarget:i,mostRecentModality:r}=this._inputModalityDetector;if("mouse"!==r||!i||i===t||"INPUT"!==t.nodeName&&"TEXTAREA"!==t.nodeName||t.disabled)return!1;const a=t.labels;if(a)for(let u=0;u<a.length;u++)if(a[u].contains(i))return!0;return!1}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.R0b),c.LFG(pr),c.LFG(SS),c.LFG(ie,8),c.LFG(nC,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const iC="cdk-high-contrast-black-on-white",rC="cdk-high-contrast-white-on-black",gv="cdk-high-contrast-active";let vg=(()=>{class n{constructor(t,i){this._platform=t,this._document=i,this._breakpointSubscription=(0,c.f3M)(zw).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(t):null,a=(r&&r.backgroundColor||"").replace(/ /g,"");switch(t.remove(),a){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(gv,iC,rC),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?t.add(gv,iC):2===i&&t.add(gv,rC)}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(pr),c.LFG(ie))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),_v=(()=>{class n{constructor(t){t._applyBodyHighContrastModeCssClasses()}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(vg))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[cv]}),n})();const sC=new c.OlP("cdk-dir-doc",{providedIn:"root",factory:function yv(){return(0,c.f3M)(ie)}}),kS=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let ip=(()=>{class n{constructor(t){if(this.value="ltr",this.change=new c.vpe,t){const r=t.documentElement?t.documentElement.dir:null;this.value=function RS(n){const e=n?.toLowerCase()||"";return"auto"===e&&typeof navigator<"u"&&navigator?.language?kS.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||r||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(sC,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ch=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();const vv=new c.OlP("mat-sanity-checks",{providedIn:"root",factory:function cC(){return!0}});let ni=(()=>{class n{constructor(t,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!Jf()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(vg),c.LFG(vv,8),c.LFG(ie))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[ch,ch]}),n})();function VS(n){return class extends n{constructor(...e){super(...e),this._disabled=!1}get disabled(){return this._disabled}set disabled(e){this._disabled=fr(e)}}}function bv(n,e){return class extends n{constructor(...t){super(...t),this.defaultColor=e,this.color=e}get color(){return this._color}set color(t){const i=t||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}}}function BS(n){return class extends n{constructor(...e){super(...e),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=fr(e)}}}function US(n,e=0){return class extends n{constructor(...t){super(...t),this._tabIndex=e,this.defaultTabIndex=e}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(t){this._tabIndex=null!=t?function Xs(n,e=0){return function Xy(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):e}(t):this.defaultTabIndex}}}class zS{constructor(e,t,i,r=!1){this._renderer=e,this.element=t,this.config=i,this._animationForciblyDisabledThroughCss=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const uh={enterDuration:225,exitDuration:150},bg=th({passive:!0}),wv=["mousedown","touchstart"],Cv=["mouseup","mouseleave","touchend","touchcancel"];class dC{constructor(e,t,i,r){this._target=e,this._ngZone=t,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=Mo(i))}fadeInRipple(e,t,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),a={...uh,...i.animation};i.centered&&(e=r.left+r.width/2,t=r.top+r.height/2);const u=i.radius||function qS(n,e,t){const i=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),r=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(i*i+r*r)}(e,t,r),f=e-r.left,_=t-r.top,b=a.enterDuration,I=document.createElement("div");I.classList.add("mat-ripple-element"),I.style.left=f-u+"px",I.style.top=_-u+"px",I.style.height=2*u+"px",I.style.width=2*u+"px",null!=i.color&&(I.style.backgroundColor=i.color),I.style.transitionDuration=`${b}ms`,this._containerElement.appendChild(I);const x=window.getComputedStyle(I),B=x.transitionDuration,U="none"===x.transitionProperty||"0s"===B||"0s, 0s"===B,ee=new zS(this,I,i,U);I.style.transform="scale3d(1, 1, 1)",ee.state=0,i.persistent||(this._mostRecentTransientRipple=ee);let _e=null;return!U&&(b||a.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const Le=()=>this._finishRippleTransition(ee),Qe=()=>this._destroyRipple(ee);I.addEventListener("transitionend",Le),I.addEventListener("transitioncancel",Qe),_e={onTransitionEnd:Le,onTransitionCancel:Qe}}),this._activeRipples.set(ee,_e),(U||!b)&&this._finishRippleTransition(ee),ee}fadeOutRipple(e){if(2===e.state||3===e.state)return;const t=e.element,i={...uh,...e.config.animation};t.style.transitionDuration=`${i.exitDuration}ms`,t.style.opacity="0",e.state=2,(e._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=Mo(e);!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,this._registerEvents(wv))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(Cv),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){0===e.state?this._startFadeOutTransition(e):2===e.state&&this._destroyRipple(e)}_startFadeOutTransition(e){const t=e===this._mostRecentTransientRipple,{persistent:i}=e.config;e.state=1,!i&&(!t||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){const t=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=3,null!==t&&(e.element.removeEventListener("transitionend",t.onTransitionEnd),e.element.removeEventListener("transitioncancel",t.onTransitionCancel)),e.element.remove()}_onMousedown(e){const t=_g(e),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!i&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!Jw(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;for(let i=0;i<t.length;i++)this.fadeInRipple(t[i].clientX,t[i].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_registerEvents(e){this._ngZone.runOutsideAngular(()=>{e.forEach(t=>{this._triggerElement.addEventListener(t,this,bg)})})}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){this._triggerElement&&(wv.forEach(e=>{this._triggerElement.removeEventListener(e,this,bg)}),this._pointerUpEventsRegistered&&Cv.forEach(e=>{this._triggerElement.removeEventListener(e,this,bg)}))}}const ZS=new c.OlP("mat-ripple-global-options");let WS=(()=>{class n{constructor(t,i,r,a,u){this._elementRef=t,this._animationMode=u,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=a||{},this._rippleRenderer=new dC(this,i,t,r)}get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,i=0,r){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,i,{...this.rippleConfig,...r}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...t})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(c.R0b),c.Y36(pr),c.Y36(ZS,8),c.Y36(c.QbO,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,i){2&t&&c.ekj("mat-ripple-unbounded",i.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),Ev=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[ni,ni]}),n})(),KS=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[ni]}),n})(),sp=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[Ev,lr,ni,KS]}),n})();var ku=P(6451);class fC{}const ma="*";function ml(n,e){return{type:7,name:n,definitions:e,options:{}}}function Jr(n,e=null){return{type:4,styles:e,timings:n}}function pC(n,e=null){return{type:2,steps:n,options:e}}function ii(n){return{type:6,styles:n,offset:null}}function Pr(n,e,t){return{type:0,name:n,styles:e,options:t}}function Nr(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function _C(n){Promise.resolve().then(n)}class op{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){_C(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class Tv{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,i=0,r=0;const a=this.players.length;0==a?_C(()=>this._onFinish()):this.players.forEach(u=>{u.onDone(()=>{++t==a&&this._onFinish()}),u.onDestroy(()=>{++i==a&&this._onDestroy()}),u.onStart(()=>{++r==a&&this._onStart()})}),this.totalTime=this.players.reduce((u,f)=>Math.max(u,f.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,t/i.totalTime):1;i.setPosition(r)})}getPosition(){const e=this.players.reduce((t,i)=>null===t||i.totalTime>t.totalTime?i:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}const yC=["body"];function vC(n,e){}const bC=[[["mat-expansion-panel-header"]],"*",[["mat-action-row"]]],wC=["mat-expansion-panel-header","*","mat-action-row"];function ex(n,e){if(1&n&&c._UZ(0,"span",2),2&n){const t=c.oxw();c.Q6J("@indicatorRotate",t._getExpandedState())}}const CC=[[["mat-panel-title"]],[["mat-panel-description"]],"*"],EC=["mat-panel-title","mat-panel-description","*"],Sv=new c.OlP("MAT_ACCORDION"),xv="225ms cubic-bezier(0.4,0.0,0.2,1)",IC={indicatorRotate:ml("indicatorRotate",[Pr("collapsed, void",ii({transform:"rotate(0deg)"})),Pr("expanded",ii({transform:"rotate(180deg)"})),Nr("expanded <=> collapsed, void => collapsed",Jr(xv))]),bodyExpansion:ml("bodyExpansion",[Pr("collapsed, void",ii({height:"0px",visibility:"hidden"})),Pr("expanded",ii({height:"*",visibility:"visible"})),Nr("expanded <=> collapsed, void => collapsed",Jr(xv))])},gr=new c.OlP("MAT_EXPANSION_PANEL");let dh=(()=>{class n{constructor(t,i){this._template=t,this._expansionPanel=i}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.Rgc),c.Y36(gr,8))},n.\u0275dir=c.lG2({type:n,selectors:[["ng-template","matExpansionPanelContent",""]]}),n})(),tx=0;const DC=new c.OlP("MAT_EXPANSION_PANEL_DEFAULT_OPTIONS");let TC=(()=>{class n extends Xd{constructor(t,i,r,a,u,f,_){super(t,i,r),this._viewContainerRef=a,this._animationMode=f,this._hideToggle=!1,this.afterExpand=new c.vpe,this.afterCollapse=new c.vpe,this._inputChanges=new Nt.x,this._headerId="mat-expansion-panel-header-"+tx++,this._bodyAnimationDone=new Nt.x,this.accordion=t,this._document=u,this._bodyAnimationDone.pipe(pg((b,I)=>b.fromState===I.fromState&&b.toState===I.toState)).subscribe(b=>{"void"!==b.fromState&&("expanded"===b.toState?this.afterExpand.emit():"collapsed"===b.toState&&this.afterCollapse.emit())}),_&&(this.hideToggle=_.hideToggle)}get hideToggle(){return this._hideToggle||this.accordion&&this.accordion.hideToggle}set hideToggle(t){this._hideToggle=fr(t)}get togglePosition(){return this._togglePosition||this.accordion&&this.accordion.togglePosition}set togglePosition(t){this._togglePosition=t}_hasSpacing(){return!!this.accordion&&this.expanded&&"default"===this.accordion.displayMode}_getExpandedState(){return this.expanded?"expanded":"collapsed"}toggle(){this.expanded=!this.expanded}close(){this.expanded=!1}open(){this.expanded=!0}ngAfterContentInit(){this._lazyContent&&this._lazyContent._expansionPanel===this&&this.opened.pipe(qn(null),Cn(()=>this.expanded&&!this._portal),Qs(1)).subscribe(()=>{this._portal=new ww(this._lazyContent._template,this._viewContainerRef)})}ngOnChanges(t){this._inputChanges.next(t)}ngOnDestroy(){super.ngOnDestroy(),this._bodyAnimationDone.complete(),this._inputChanges.complete()}_containsFocus(){if(this._body){const t=this._document.activeElement,i=this._body.nativeElement;return t===i||i.contains(t)}return!1}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Sv,12),c.Y36(c.sBO),c.Y36(tr),c.Y36(c.s_b),c.Y36(ie),c.Y36(c.QbO,8),c.Y36(DC,8))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-expansion-panel"]],contentQueries:function(t,i,r){if(1&t&&c.Suo(r,dh,5),2&t){let a;c.iGM(a=c.CRH())&&(i._lazyContent=a.first)}},viewQuery:function(t,i){if(1&t&&c.Gf(yC,5),2&t){let r;c.iGM(r=c.CRH())&&(i._body=r.first)}},hostAttrs:[1,"mat-expansion-panel"],hostVars:6,hostBindings:function(t,i){2&t&&c.ekj("mat-expanded",i.expanded)("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-expansion-panel-spacing",i._hasSpacing())},inputs:{disabled:"disabled",expanded:"expanded",hideToggle:"hideToggle",togglePosition:"togglePosition"},outputs:{opened:"opened",closed:"closed",expandedChange:"expandedChange",afterExpand:"afterExpand",afterCollapse:"afterCollapse"},exportAs:["matExpansionPanel"],features:[c._Bn([{provide:Sv,useValue:void 0},{provide:gr,useExisting:n}]),c.qOj,c.TTD],ngContentSelectors:wC,decls:7,vars:4,consts:[["role","region",1,"mat-expansion-panel-content",3,"id"],["body",""],[1,"mat-expansion-panel-body"],[3,"cdkPortalOutlet"]],template:function(t,i){1&t&&(c.F$t(bC),c.Hsn(0),c.TgZ(1,"div",0,1),c.NdJ("@bodyExpansion.done",function(a){return i._bodyAnimationDone.next(a)}),c.TgZ(3,"div",2),c.Hsn(4,1),c.YNc(5,vC,0,0,"ng-template",3),c.qZA(),c.Hsn(6,2),c.qZA()),2&t&&(c.xp6(1),c.Q6J("@bodyExpansion",i._getExpandedState())("id",i.id),c.uIk("aria-labelledby",i._headerId),c.xp6(4),c.Q6J("cdkPortalOutlet",i._portal))},dependencies:[lg],styles:['.mat-expansion-panel{box-sizing:content-box;display:block;margin:0;border-radius:4px;overflow:hidden;transition:margin 225ms cubic-bezier(0.4, 0, 0.2, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);position:relative}.mat-accordion .mat-expansion-panel:not(.mat-expanded),.mat-accordion .mat-expansion-panel:not(.mat-expansion-panel-spacing){border-radius:0}.mat-accordion .mat-expansion-panel:first-of-type{border-top-right-radius:4px;border-top-left-radius:4px}.mat-accordion .mat-expansion-panel:last-of-type{border-bottom-right-radius:4px;border-bottom-left-radius:4px}.cdk-high-contrast-active .mat-expansion-panel{outline:solid 1px}.mat-expansion-panel.ng-animate-disabled,.ng-animate-disabled .mat-expansion-panel,.mat-expansion-panel._mat-animation-noopable{transition:none}.mat-expansion-panel-content{display:flex;flex-direction:column;overflow:visible}.mat-expansion-panel-content[style*="visibility: hidden"] *{visibility:hidden !important}.mat-expansion-panel-body{padding:0 24px 16px}.mat-expansion-panel-spacing{margin:16px 0}.mat-accordion>.mat-expansion-panel-spacing:first-child,.mat-accordion>*:first-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-top:0}.mat-accordion>.mat-expansion-panel-spacing:last-child,.mat-accordion>*:last-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-bottom:0}.mat-action-row{border-top-style:solid;border-top-width:1px;display:flex;flex-direction:row;justify-content:flex-end;padding:16px 8px 16px 24px}.mat-action-row .mat-button-base,.mat-action-row .mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-action-row .mat-button-base,[dir=rtl] .mat-action-row .mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2,data:{animation:[IC.bodyExpansion]},changeDetection:0}),n})();class SC{}const xC=US(SC);let Ru=(()=>{class n extends xC{constructor(t,i,r,a,u,f,_){super(),this.panel=t,this._element=i,this._focusMonitor=r,this._changeDetectorRef=a,this._animationMode=f,this._parentChangeSubscription=tl.w0.EMPTY;const b=t.accordion?t.accordion._stateChanges.pipe(Cn(I=>!(!I.hideToggle&&!I.togglePosition))):aa.E;this.tabIndex=parseInt(_||"")||0,this._parentChangeSubscription=(0,ku.T)(t.opened,t.closed,b,t._inputChanges.pipe(Cn(I=>!!(I.hideToggle||I.disabled||I.togglePosition)))).subscribe(()=>this._changeDetectorRef.markForCheck()),t.closed.pipe(Cn(()=>t._containsFocus())).subscribe(()=>r.focusVia(i,"program")),u&&(this.expandedHeight=u.expandedHeight,this.collapsedHeight=u.collapsedHeight)}get disabled(){return this.panel.disabled}_toggle(){this.disabled||this.panel.toggle()}_isExpanded(){return this.panel.expanded}_getExpandedState(){return this.panel._getExpandedState()}_getPanelId(){return this.panel.id}_getTogglePosition(){return this.panel.togglePosition}_showToggle(){return!this.panel.hideToggle&&!this.panel.disabled}_getHeaderHeight(){const t=this._isExpanded();return t&&this.expandedHeight?this.expandedHeight:!t&&this.collapsedHeight?this.collapsedHeight:null}_keydown(t){switch(t.keyCode){case 32:case 13:av(t)||(t.preventDefault(),this._toggle());break;default:return void(this.panel.accordion&&this.panel.accordion._handleHeaderKeydown(t))}}focus(t,i){t?this._focusMonitor.focusVia(this._element,t,i):this._element.nativeElement.focus(i)}ngAfterViewInit(){this._focusMonitor.monitor(this._element).subscribe(t=>{t&&this.panel.accordion&&this.panel.accordion._handleHeaderFocus(this)})}ngOnDestroy(){this._parentChangeSubscription.unsubscribe(),this._focusMonitor.stopMonitoring(this._element)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(TC,1),c.Y36(c.SBq),c.Y36(mv),c.Y36(c.sBO),c.Y36(DC,8),c.Y36(c.QbO,8),c.$8M("tabindex"))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-expansion-panel-header"]],hostAttrs:["role","button",1,"mat-expansion-panel-header","mat-focus-indicator"],hostVars:15,hostBindings:function(t,i){1&t&&c.NdJ("click",function(){return i._toggle()})("keydown",function(a){return i._keydown(a)}),2&t&&(c.uIk("id",i.panel._headerId)("tabindex",i.tabIndex)("aria-controls",i._getPanelId())("aria-expanded",i._isExpanded())("aria-disabled",i.panel.disabled),c.Udp("height",i._getHeaderHeight()),c.ekj("mat-expanded",i._isExpanded())("mat-expansion-toggle-indicator-after","after"===i._getTogglePosition())("mat-expansion-toggle-indicator-before","before"===i._getTogglePosition())("_mat-animation-noopable","NoopAnimations"===i._animationMode))},inputs:{tabIndex:"tabIndex",expandedHeight:"expandedHeight",collapsedHeight:"collapsedHeight"},features:[c.qOj],ngContentSelectors:EC,decls:5,vars:3,consts:[[1,"mat-content"],["class","mat-expansion-indicator",4,"ngIf"],[1,"mat-expansion-indicator"]],template:function(t,i){1&t&&(c.F$t(CC),c.TgZ(0,"span",0),c.Hsn(1),c.Hsn(2,1),c.Hsn(3,2),c.qZA(),c.YNc(4,ex,1,1,"span",1)),2&t&&(c.ekj("mat-content-hide-toggle",!i._showToggle()),c.xp6(4),c.Q6J("ngIf",i._showToggle()))},dependencies:[Dn],styles:['.mat-expansion-panel-header{display:flex;flex-direction:row;align-items:center;padding:0 24px;border-radius:inherit;transition:height 225ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-expansion-panel-header._mat-animation-noopable{transition:none}.mat-expansion-panel-header:focus,.mat-expansion-panel-header:hover{outline:none}.mat-expansion-panel-header.mat-expanded:focus,.mat-expansion-panel-header.mat-expanded:hover{background:inherit}.mat-expansion-panel-header:not([aria-disabled=true]){cursor:pointer}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before{flex-direction:row-reverse}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 16px 0 0}[dir=rtl] .mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 0 0 16px}.mat-content{display:flex;flex:1;flex-direction:row;overflow:hidden}.mat-content.mat-content-hide-toggle{margin-right:8px}[dir=rtl] .mat-content.mat-content-hide-toggle{margin-right:0;margin-left:8px}.mat-expansion-toggle-indicator-before .mat-content.mat-content-hide-toggle{margin-left:24px;margin-right:0}[dir=rtl] .mat-expansion-toggle-indicator-before .mat-content.mat-content-hide-toggle{margin-right:24px;margin-left:0}.mat-expansion-panel-header-title,.mat-expansion-panel-header-description{display:flex;flex-grow:1;flex-basis:0;margin-right:16px;align-items:center}[dir=rtl] .mat-expansion-panel-header-title,[dir=rtl] .mat-expansion-panel-header-description{margin-right:0;margin-left:16px}.mat-expansion-panel-header-description{flex-grow:2}.mat-expansion-indicator::after{border-style:solid;border-width:0 2px 2px 0;content:"";display:inline-block;padding:3px;transform:rotate(45deg);vertical-align:middle}.cdk-high-contrast-active .mat-expansion-panel-content{border-top:1px solid;border-top-left-radius:0;border-top-right-radius:0}'],encapsulation:2,data:{animation:[IC.indicatorRotate]},changeDetection:0}),n})(),Eg=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["mat-panel-title"]],hostAttrs:[1,"mat-expansion-panel-header-title"]}),n})(),AC=(()=>{class n extends Yd{constructor(){super(...arguments),this._ownHeaders=new c.n_E,this._hideToggle=!1,this.displayMode="default",this.togglePosition="after"}get hideToggle(){return this._hideToggle}set hideToggle(t){this._hideToggle=fr(t)}ngAfterContentInit(){this._headers.changes.pipe(qn(this._headers)).subscribe(t=>{this._ownHeaders.reset(t.filter(i=>i.panel.accordion===this)),this._ownHeaders.notifyOnChanges()}),this._keyManager=new gS(this._ownHeaders).withWrap().withHomeAndEnd()}_handleHeaderKeydown(t){this._keyManager.onKeydown(t)}_handleHeaderFocus(t){this._keyManager.updateActiveItem(t)}ngOnDestroy(){super.ngOnDestroy(),this._ownHeaders.destroy()}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=c.n5z(n)))(i||n)}}(),n.\u0275dir=c.lG2({type:n,selectors:[["mat-accordion"]],contentQueries:function(t,i,r){if(1&t&&c.Suo(r,Ru,5),2&t){let a;c.iGM(a=c.CRH())&&(i._headers=a)}},hostAttrs:[1,"mat-accordion"],hostVars:2,hostBindings:function(t,i){2&t&&c.ekj("mat-accordion-multi",i.multi)},inputs:{multi:"multi",hideToggle:"hideToggle",displayMode:"displayMode",togglePosition:"togglePosition"},exportAs:["matAccordion"],features:[c._Bn([{provide:Sv,useExisting:n}]),c.qOj]}),n})(),MC=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[lr,ni,vw,Xf]}),n})(),kC=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-our-services"]],decls:140,vars:0,consts:[[1,"container","p-5"],[1,"mt-1"],[1,"mt-2"]],template:function(t,i){1&t&&(c.TgZ(0,"div",0)(1,"div",1)(2,"h2"),c._uU(3,"Our Services"),c.qZA(),c.TgZ(4,"mat-accordion")(5,"mat-expansion-panel",2)(6,"mat-expansion-panel-header")(7,"mat-panel-title"),c._uU(8," Transfer Pricing Compliances "),c.qZA()(),c.TgZ(9,"ul")(10,"li"),c._uU(11,"Transfer Pricing Compliances"),c.qZA(),c.TgZ(12,"li"),c._uU(13,"Transfer Pricing Documentation"),c.qZA(),c.TgZ(14,"li"),c._uU(15,"Accountant's Report - Form No. 3CEB"),c.qZA(),c.TgZ(16,"li"),c._uU(17,"Master File"),c.qZA(),c.TgZ(18,"li"),c._uU(19,"Country-by-Country Report"),c.qZA(),c.TgZ(20,"li"),c._uU(21,"Global Transfer Pricing Compliance - Regional/Country comparable studies & filings adhering to OECD guidelines and local regulations. (SBC has access to all major Indian and Global databases/software - Prowess, CapitalineTP, AceTP, Amadeus, Compustat, Kt-Mine, RoyaltyRange, RoyaltyStat, Orbis, Osiris, IBISWorld, Factiva, One Source, Loan Connector, etc.)"),c.qZA(),c.TgZ(22,"li"),c._uU(23,"Transfer Pricing Comfort Letters/Memos for Statutory Auditors"),c.qZA(),c.TgZ(24,"li"),c._uU(25,"FIN 48 Assistance - Quantification & Opinion on Transfer Pricing exposure and uncertain tax positions"),c.qZA(),c.TgZ(26,"li"),c._uU(27,"Transfer Pricing analysis and Board meeting presentations for Listed Companies from SEBI Regulations and Companies Act perspective."),c.qZA()()(),c.TgZ(28,"mat-expansion-panel",2)(29,"mat-expansion-panel-header")(30,"mat-panel-title"),c._uU(31," Transfer Pricing Advisory On "),c.qZA()(),c.TgZ(32,"ul")(33,"li"),c._uU(34,"Transfer Pricing Policy & Price Setting"),c.qZA(),c.TgZ(35,"li"),c._uU(36,"Drafting/Review of Inter-Company Agreements"),c.qZA(),c.TgZ(37,"li"),c._uU(38,"Alternative Business and Remuneration Models that are sustainable"),c.qZA(),c.TgZ(39,"li"),c._uU(40,"Comparable Studies and Benchmarking analyses"),c.qZA(),c.TgZ(41,"li"),c._uU(42,"Operational Transfer Pricing"),c.qZA(),c.TgZ(43,"li"),c._uU(44,"Group Profit & Effective Tax Planning"),c.qZA(),c.TgZ(45,"li"),c._uU(46,"Tax efficient structuring of international transactions & transaction flows"),c.qZA(),c.TgZ(47,"li"),c._uU(48,"Supplementary analyses to strengthen the documentation from litigation perspective"),c.qZA(),c.TgZ(49,"li"),c._uU(50,"Voluntary Transfer Pricing Adjustments"),c.qZA(),c.TgZ(51,"li"),c._uU(52,"Secondary Adjustments"),c.qZA(),c.TgZ(53,"li"),c._uU(54,"Transfer Pricing Health Check-Up to avoid/mitigate risks"),c.qZA(),c.TgZ(55,"li"),c._uU(56,"Transfer Pricing Due Diligence"),c.qZA(),c.TgZ(57,"li"),c._uU(58,"Drawing Segmental P&L for Transfer Pricing Purposes"),c.qZA(),c.TgZ(59,"li"),c._uU(60,"Economic adjustments computation - Risk, Working Capital, Forex, Capacity Utilisation, Depreciation, Cash PLI adjustments"),c.qZA()()(),c.TgZ(61,"mat-expansion-panel",2)(62,"mat-expansion-panel-header")(63,"mat-panel-title"),c._uU(64," Complex inter-company transactions - Planning, Implementation & Compliance support for: "),c.qZA()(),c.TgZ(65,"ul")(66,"li"),c._uU(67,"Intangibles - Structuring, Royalty & Licencing rates, Withholding implications, Agreements "),c.qZA(),c.TgZ(68,"li"),c._uU(69,"Financial Transactions - Interest rates, Withholding implications, Agreements"),c.qZA(),c.TgZ(70,"li"),c._uU(71,"Intra-Group Services, Management Charges, Cost Contribution Arrangements - Charging/mark-up rates, Agreements, Cost pooling & allocation"),c.qZA(),c.TgZ(72,"li"),c._uU(73,"Business Restructurings - Transfer Pricing implications, Agreements & Contracts review"),c.qZA(),c.TgZ(74,"li"),c._uU(75,"General Anti Avoidance Rules (GAAR) implications"),c.qZA(),c.TgZ(76,"li"),c._uU(77,"Permanent Establishment (PE) Exposure for existing/proposed transactions"),c.qZA()()(),c.TgZ(78,"mat-expansion-panel",2)(79,"mat-expansion-panel-header")(80,"mat-panel-title"),c._uU(81," Transfer Pricing Litigation support & Representations before "),c.qZA()(),c.TgZ(82,"ul")(83,"li"),c._uU(84,"First level authorities - Transfer Pricing Officers (TPO)/ Assessing Officers (AO)"),c.qZA(),c.TgZ(85,"li"),c._uU(86,"Dispute Resolution Panel (DRP)"),c.qZA(),c.TgZ(87,"li"),c._uU(88,"Appellate authorities - Commissioner of Income Tax (Appeals) [CIT(A)], Income Tax Appellate Tribunals (ITAT), High Court, Supreme Court"),c.qZA(),c.TgZ(89,"li"),c._uU(90,"Penalty, Rectification, Re-assessment, Revision, Remand, Order giving effect, Stay of demand proceedings"),c.qZA()()(),c.TgZ(91,"mat-expansion-panel",2)(92,"mat-expansion-panel-header")(93,"mat-panel-title"),c._uU(94," Alternate Dispute Resolution Routes - Advance Pricing Agreement (APA), Mutual Agreement Procedure (MAP), Safe Harbour Rules (SHR) "),c.qZA()(),c.TgZ(95,"ul")(96,"li"),c._uU(97,"Cost Benefit Analysis for decision making"),c.qZA(),c.TgZ(98,"li"),c._uU(99,"Filing of Applications in prescribed Forms"),c.qZA(),c.TgZ(100,"li"),c._uU(101,"Representations & Submissions"),c.qZA(),c.TgZ(102,"li"),c._uU(103,"Application Renewals"),c.qZA(),c.TgZ(104,"li"),c._uU(105,"APAs - both unilateral & bilateral"),c.qZA()()(),c.TgZ(106,"mat-expansion-panel",2)(107,"mat-expansion-panel-header")(108,"mat-panel-title"),c._uU(109," BEPS Advisory - Readiness, Implementation, Impact on International Tax Structures: "),c.qZA()(),c.TgZ(110,"ul")(111,"li"),c._uU(112,"BEPS Contract Analysis"),c.qZA(),c.TgZ(113,"li"),c._uU(114,"Value Chain Analysis and Management"),c.qZA(),c.TgZ(115,"li"),c._uU(116,"OECD Pillar 1 & 2 \u2013 Readiness, Implementation & Impact"),c.qZA(),c.TgZ(117,"li"),c._uU(118,"Supply Chain Restructuring"),c.qZA(),c.TgZ(119,"li"),c._uU(120,"Three Tier Documentation support in line with Action 13"),c.qZA(),c.TgZ(121,"li"),c._uU(122,"IP Structuring /DEMPE analysis in view of Action 8"),c.qZA(),c.TgZ(123,"li"),c._uU(124,"Financial Transactions planning factoring in Action 4 and 9 and OECD guidelines on Financial Transactions"),c.qZA(),c.TgZ(125,"li"),c._uU(126,"High risk transactions structuring in coherence with Action 10"),c.qZA(),c.TgZ(127,"li"),c._uU(128,"Profit Split Method \u2013 applicability, implementation, splitting factors, projections, segmentation, planning/price setting as per BEPS"),c.qZA()()(),c.TgZ(129,"mat-expansion-panel",2)(130,"mat-expansion-panel-header")(131,"mat-panel-title"),c._uU(132," Valuations for arm's length determination for Transfer Pricing purposes: "),c.qZA()(),c.TgZ(133,"ul")(134,"li"),c._uU(135,"Assets (tangibles & intangibles) transfer between related parties"),c.qZA(),c.TgZ(136,"li"),c._uU(137,"Capital/financial transactions (equity, debt & hybrid instruments, guarantees) - issue, sale, buybacks between related parties"),c.qZA(),c.TgZ(138,"li"),c._uU(139,"Mergers & Acquisitions transactions - selling, buying, combining, restructuring involving related parties "),c.qZA()()()()()())},dependencies:[AC,TC,Ru,Eg],styles:[".container[_ngcontent-%COMP%]{text-align:left;background:#efefef;margin-top:2em}h2[_ngcontent-%COMP%]{font-size:30px;color:gray;text-decoration:underline}.mat-expansion-panel-header-title[_ngcontent-%COMP%]{font-size:20px;font-weight:500}  .mat-expansion-panel-body{background:white;color:#000;padding-top:25px!important}"]}),n})(),RC=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-workflow"]],decls:51,vars:0,consts:[[1,"container",2,"position","relative","padding-left","1rem","padding-right","1rem","padding-top","4rem","padding-bottom","4rem"],[1,"h1",2,"text-align","center"],[1,"text-center"],[2,"text-align","center"],["id","s8-templatessection5",1,"content-services","s8-templates-section"],[1,"s8-templates-section-background"],[1,"s8-templates-section-content","s8-templates-section-contentsize-md","s8-templates-section-content-paddingleft","s8-templates-section-content-paddingright",2,"position","relative","padding-left","1rem","padding-right","1rem","padding-top","2rem","padding-bottom","1rem"],[1,"row"],[1,"services-box","col-sm-3"],[1,"price-box"],[1,"price-details"],[1,"services-box","prices-box","col-sm-3"]],template:function(t,i){1&t&&(c.TgZ(0,"div",0)(1,"h1",1),c._uU(2,"Our Workflow"),c.qZA(),c.TgZ(3,"div",2)(4,"p",3),c._uU(5," The benchmarking process starts after the analysis of identifying and characterising the international related party transaction has already be performed. Please contact us if you require assistance with this area and we can quote separately. If you have already performed this analysis, you are ready for benchmarking. Our benchmarking process can be summarised as follows: "),c.qZA()(),c.TgZ(6,"section",4),c._UZ(7,"div",5),c.TgZ(8,"div",6)(9,"div",7)(10,"div",8)(11,"h3"),c._uU(12,"Step One"),c.qZA(),c.TgZ(13,"div",9)(14,"h4"),c._uU(15,"Data Gathering"),c.qZA(),c.TgZ(16,"div",10)(17,"p"),c._uU(18," Complete the online questionnaire regarding the company, industry and transaction information. We are willing to sign confidentiality agreements if required. "),c.qZA()()()(),c.TgZ(19,"div",11)(20,"h3"),c._uU(21,"Step Two"),c.qZA(),c.TgZ(22,"div",9)(23,"h4"),c._uU(24,"Benchmarking Analysis"),c.qZA(),c.TgZ(25,"div",10)(26,"p"),c._uU(27," Transfer Pricing Benchmarking performs the benchmarking analysis. The analysis itself has many steps in the process before a final comparable set is identified. "),c.qZA()()()(),c.TgZ(28,"div",11)(29,"h3"),c._uU(30,"Step Three"),c.qZA(),c.TgZ(31,"div",9)(32,"h4"),c._uU(33,"Draft Report"),c.qZA(),c.TgZ(34,"div",10)(35,"p"),c._uU(36,"Transfer Pricing Solutions finalises the benchmarking analysis and provides a draft report for discussion."),c.qZA(),c.TgZ(37,"p"),c._UZ(38,"br"),c.qZA(),c._UZ(39,"p"),c.qZA()()(),c.TgZ(40,"div",11)(41,"h3"),c._uU(42,"Step Four"),c.qZA(),c.TgZ(43,"div",9)(44,"h4"),c._uU(45,"Final Report"),c.qZA(),c.TgZ(46,"div",10)(47,"p"),c._uU(48," The final report includes the full search write up, the benchmarking analysis, the elimination chart and financials of the final comparable companies."),c._UZ(49,"br")(50,"br"),c.qZA()()()()()()()())},styles:["div.container[_ngcontent-%COMP%]{background:#efefef;margin-top:2em}div.container[_ngcontent-%COMP%] > div.text-center[_ngcontent-%COMP%]{padding:30px;font-size:16px}div.container[_ngcontent-%COMP%] > div.text-center[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{padding:0 5%}h1.h1[_ngcontent-%COMP%]{font-size:36px;color:#071f4d}.services-box[_ngcontent-%COMP%] > h3[_ngcontent-%COMP%]{text-align:center;font-size:20px;font-weight:500;margin-bottom:5px}div.price-box[_ngcontent-%COMP%]{padding-bottom:20px;background:indianred;color:#fff;text-align:center;min-height:200px}div.price-box[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{text-align:center;text-transform:uppercase;font-size:15px;font-weight:500;background:lightgray;color:#000;padding-top:5px}"]}),n})();function nx(n,e){if(1&n&&(c.TgZ(0,"div",2)(1,"div",3)(2,"div",4),c._UZ(3,"img",5),c.qZA(),c.TgZ(4,"div",6)(5,"h4"),c._uU(6),c.qZA()(),c.TgZ(7,"div",7)(8,"button",8),c._uU(9),c.qZA()()()()),2&n){const t=e.$implicit;c.xp6(3),c.Q6J("src",t.image,c.LSH),c.xp6(3),c.Oqu(t.head),c.xp6(2),c.Q6J("routerLink",t.route),c.xp6(1),c.Oqu(t.action)}}let Av=(()=>{class n{constructor(){this.cards=[],this.cards.push({image:"assets/icons/company.png",head:"Are you company",content:"",action:"Get Started",route:"/register/company"}),this.cards.push({image:"assets/icons/consultant.png",head:"Are you consultant",content:"",action:"Get Started",route:"/register/consultant"}),this.cards.push({image:"assets/icons/support.png",head:"Talk to our Team",content:"",action:"Get Started",route:"/contact-us"})}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-section-cards"]],decls:2,vars:1,consts:[[1,"row",2,"justify-content","center"],["class","col-xs-12 col-sm-4 col-md-3 mx-3",4,"ngFor","ngForOf"],[1,"col-xs-12","col-sm-4","col-md-3","mx-3"],[1,"card"],[1,"card-image"],["height","200","width","auto",3,"src"],[1,"card-content"],[1,"card-actions"],[1,"btn-action",3,"routerLink"]],template:function(t,i){1&t&&(c.TgZ(0,"div",0),c.YNc(1,nx,10,4,"div",1),c.qZA()),2&t&&(c.xp6(1),c.Q6J("ngForOf",i.cards))},dependencies:[ls,cl],styles:[".card[_ngcontent-%COMP%]{box-shadow:0 4px 6px #000b281a;width:100%;display:inline-block;margin:10px}.card-content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-weight:600;font-size:22px}.btn-action[_ngcontent-%COMP%]{color:#b64b4d;border-width:1px!important;border-color:#b64b4d;border-radius:50px;margin-bottom:10px;padding:10px 30px!important;border:2px solid}.btn-action[_ngcontent-%COMP%]:hover{color:#fff!important;background-color:#b64b4d!important;border-color:#b64b4d!important;border-radius:50px}"]}),n})(),OC=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-home"]],decls:14,vars:0,consts:[[1,"container"],["color","black","background","transparent"],[1,"main","text-center"],[1,"top"],[1,"head1"],[1,"head2"],[1,"bottom"]],template:function(t,i){1&t&&(c.TgZ(0,"div",0)(1,"app-card",1)(2,"div",2)(3,"div",3)(4,"div",4),c._uU(5,"All-in-One Transfer Pricing Documentation Software"),c.qZA(),c.TgZ(6,"div",5),c._uU(7," For more than a decade TPGenie transfer pricing software is the one-stop solution for creating & managing Transfer Pricing documentation, including Local Files, Master Files, Benchmarks, IC-Agreements, CbC Reporting and much more. Hundreds of Multinationals, Tax Advisors and Local Entities are using TPGenie to increase efficiency and reduce costs. "),c.qZA()(),c.TgZ(8,"div",6),c._UZ(9,"app-section-cards"),c.qZA()(),c.TgZ(10,"div"),c._UZ(11,"app-our-services"),c.qZA(),c.TgZ(12,"div"),c._UZ(13,"app-workflow"),c.qZA()()())},dependencies:[_R,kC,RC,Av],styles:["h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%]{color:#071f4d}h2[_ngcontent-%COMP%], .h2[_ngcontent-%COMP%]{font-size:30px}h1[_ngcontent-%COMP%], .h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], .h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], .h3[_ngcontent-%COMP%]{margin-top:20px;margin-bottom:10px}.main[_ngcontent-%COMP%]{background:ghostwhite;padding:20px;margin-top:2%}.main[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]{display:inline-block;max-width:700px}.main[_ngcontent-%COMP%]   .bottom[_ngcontent-%COMP%]{margin-top:20px}.proceed-login[_ngcontent-%COMP%]{font-size:20px}.head1[_ngcontent-%COMP%]{font-family:Montserrat,Helvetica,Arial,Lucida,sans-serif;font-weight:700;font-size:44px;line-height:1.5em}.head2[_ngcontent-%COMP%]{font-size:16px;line-height:35px}"]}),n})();var nr=P(5813);function hh(){return(0,Fi.e)((n,e)=>{let t,i=!1;n.subscribe((0,Gn.x)(e,r=>{const a=t;t=r,i&&e.next([a,r]),i=!0}))})}var it,Ss=P(2011),PC=(P(2274),P(3942)),we=P(5861),gc=P(9681),gl=P(4859),_c=P(1877),qt=P(2090),Mv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},yc={},NC=NC||{},Rt=Mv||self;function Ig(){}function kv(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function fh(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var Rv="closure_uid_"+(1e9*Math.random()>>>0),LC=0;function VC(n,e,t){return n.call.apply(n.bind,arguments)}function ix(n,e,t){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(e,r)}}return function(){return n.apply(e,arguments)}}function ir(n,e,t){return(ir=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?VC:ix).apply(null,arguments)}function lp(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var i=t.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function rr(n,e){function t(){}t.prototype=e.prototype,n.Z=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(i,r,a){for(var u=Array(arguments.length-2),f=2;f<arguments.length;f++)u[f-2]=arguments[f];return e.prototype[r].apply(i,u)}}function _l(){this.s=this.s,this.o=this.o}var UC={};_l.prototype.s=!1,_l.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function FC(n){return Object.prototype.hasOwnProperty.call(n,Rv)&&n[Rv]||(n[Rv]=++LC)}(this);delete UC[n]}},_l.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Ov=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1},HC=Array.prototype.forEach?function(n,e,t){Array.prototype.forEach.call(n,e,t)}:function(n,e,t){const i=n.length,r="string"==typeof n?n.split(""):n;for(let a=0;a<i;a++)a in r&&e.call(t,r[a],a,n)};function sx(n){return Array.prototype.concat.apply([],arguments)}function Dg(n){const e=n.length;if(0<e){const t=Array(e);for(let i=0;i<e;i++)t[i]=n[i];return t}return[]}function Pv(n){return/^[\s\xa0]*$/.test(n)}var ts,ox=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function es(n,e){return-1!=n.indexOf(e)}function jC(n,e){return n<e?-1:n>e?1:0}e:{var ax=Rt.navigator;if(ax){var lx=ax.userAgent;if(lx){ts=lx;break e}}ts=""}function $C(n,e,t){for(const i in n)e.call(t,n[i],i,n)}function cp(n){const e={};for(const t in n)e[t]=n[t];return e}var cx="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Nv(n,e){let t,i;for(let r=1;r<arguments.length;r++){for(t in i=arguments[r],i)n[t]=i[t];for(let a=0;a<cx.length;a++)t=cx[a],Object.prototype.hasOwnProperty.call(i,t)&&(n[t]=i[t])}}function ph(n){return ph[" "](n),n}ph[" "]=Ig;var xg,n,zC=es(ts,"Opera"),up=es(ts,"Trident")||es(ts,"MSIE"),Tg=es(ts,"Edge"),Sg=Tg||up,qC=es(ts,"Gecko")&&!(es(ts.toLowerCase(),"webkit")&&!es(ts,"Edge"))&&!(es(ts,"Trident")||es(ts,"MSIE"))&&!es(ts,"Edge"),ZC=es(ts.toLowerCase(),"webkit")&&!es(ts,"Edge");function ux(){var n=Rt.document;return n?n.documentMode:void 0}e:{var Fv="",Lv=(n=ts,qC?/rv:([^\);]+)(\)|;)/.exec(n):Tg?/Edge\/([\d\.]+)/.exec(n):up?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):ZC?/WebKit\/(\S+)/.exec(n):zC?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(Lv&&(Fv=Lv?Lv[1]:""),up){var mh=ux();if(null!=mh&&mh>parseFloat(Fv)){xg=String(mh);break e}}xg=Fv}var dx={};var fx=Rt.document&&up&&(ux()||parseInt(xg,10))||void 0,px=function(){if(!Rt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Rt.addEventListener("test",Ig,e),Rt.removeEventListener("test",Ig,e)}catch{}return n}();function _r(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}function Ag(n,e){if(_r.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(qC){e:{try{ph(e.nodeName);var r=!0;break e}catch{}r=!1}r||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:mx[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Ag.Z.h.call(this)}}_r.prototype.h=function(){this.defaultPrevented=!0},rr(Ag,_r);var mx={2:"touch",3:"pen",4:"mouse"};Ag.prototype.h=function(){Ag.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var gh="closure_listenable_"+(1e6*Math.random()|0),KC=0;function $O(n,e,t,i,r){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!i,this.ia=r,this.key=++KC,this.ca=this.fa=!1}function ns(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function Mg(n){this.src=n,this.g={},this.h=0}function dp(n,e){var t=e.type;if(t in n.g){var a,i=n.g[t],r=Ov(i,e);(a=0<=r)&&Array.prototype.splice.call(i,r,1),a&&(ns(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function Vv(n,e,t,i){for(var r=0;r<n.length;++r){var a=n[r];if(!a.ca&&a.listener==e&&a.capture==!!t&&a.ia==i)return r}return-1}Mg.prototype.add=function(n,e,t,i,r){var a=n.toString();(n=this.g[a])||(n=this.g[a]=[],this.h++);var u=Vv(n,e,i,r);return-1<u?(e=n[u],t||(e.fa=!1)):((e=new $O(e,this.src,a,!!i,r)).fa=t,n.push(e)),e};var is="closure_lm_"+(1e6*Math.random()|0),Bv={};function kg(n,e,t,i,r){if(i&&i.once)return Rg(n,e,t,i,r);if(Array.isArray(e)){for(var a=0;a<e.length;a++)kg(n,e[a],t,i,r);return null}return t=Ng(t),n&&n[gh]?n.N(e,t,fh(i)?!!i.capture:!!i,r):YC(n,e,t,!1,i,r)}function YC(n,e,t,i,r,a){if(!e)throw Error("Invalid event type");var u=fh(r)?!!r.capture:!!r,f=Pg(n);if(f||(n[is]=f=new Mg(n)),(t=f.add(e,t,i,u,a)).proxy)return t;if(i=function gx(){var e=XC;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=i,i.src=n,i.listener=t,n.addEventListener)px||(r=u),void 0===r&&(r=!1),n.addEventListener(e.toString(),i,r);else if(n.attachEvent)n.attachEvent(QC(e.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return t}function Rg(n,e,t,i,r){if(Array.isArray(e)){for(var a=0;a<e.length;a++)Rg(n,e[a],t,i,r);return null}return t=Ng(t),n&&n[gh]?n.O(e,t,fh(i)?!!i.capture:!!i,r):YC(n,e,t,!0,i,r)}function Uv(n,e,t,i,r){if(Array.isArray(e))for(var a=0;a<e.length;a++)Uv(n,e[a],t,i,r);else i=fh(i)?!!i.capture:!!i,t=Ng(t),n&&n[gh]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=Vv(a=n.g[e],t,i,r))&&(ns(a[t]),Array.prototype.splice.call(a,t,1),0==a.length&&(delete n.g[e],n.h--))):n&&(n=Pg(n))&&(e=n.g[e.toString()],n=-1,e&&(n=Vv(e,t,i,r)),(t=-1<n?e[n]:null)&&Og(t))}function Og(n){if("number"!=typeof n&&n&&!n.ca){var e=n.src;if(e&&e[gh])dp(e.i,n);else{var t=n.type,i=n.proxy;e.removeEventListener?e.removeEventListener(t,i,n.capture):e.detachEvent?e.detachEvent(QC(t),i):e.addListener&&e.removeListener&&e.removeListener(i),(t=Pg(e))?(dp(t,n),0==t.h&&(t.src=null,e[is]=null)):ns(n)}}}function QC(n){return n in Bv?Bv[n]:Bv[n]="on"+n}function XC(n,e){if(n.ca)n=!0;else{e=new Ag(e,this);var t=n.listener,i=n.ia||n.src;n.fa&&Og(n),n=t.call(i,e)}return n}function Pg(n){return(n=n[is])instanceof Mg?n:null}var Hv="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ng(n){return"function"==typeof n?n:(n[Hv]||(n[Hv]=function(e){return n.handleEvent(e)}),n[Hv])}function Bi(){_l.call(this),this.i=new Mg(this),this.P=this,this.I=null}function Ti(n,e){var t,i=n.I;if(i)for(t=[];i;i=i.I)t.push(i);if(n=n.P,i=e.type||e,"string"==typeof e)e=new _r(e,n);else if(e instanceof _r)e.target=e.target||n;else{var r=e;Nv(e=new _r(i,n),r)}if(r=!0,t)for(var a=t.length-1;0<=a;a--){var u=e.g=t[a];r=ko(u,i,!0,e)&&r}if(r=ko(u=e.g=n,i,!0,e)&&r,r=ko(u,i,!1,e)&&r,t)for(a=0;a<t.length;a++)r=ko(u=e.g=t[a],i,!1,e)&&r}function ko(n,e,t,i){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var r=!0,a=0;a<e.length;++a){var u=e[a];if(u&&!u.ca&&u.capture==t){var f=u.listener,_=u.ia||u.src;u.fa&&dp(n.i,u),r=!1!==f.call(_,i)&&r}}return r&&!i.defaultPrevented}rr(Bi,_l),Bi.prototype[gh]=!0,Bi.prototype.removeEventListener=function(n,e,t,i){Uv(this,n,e,t,i)},Bi.prototype.M=function(){if(Bi.Z.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],i=0;i<t.length;i++)ns(t[i]);delete n.g[e],n.h--}}this.I=null},Bi.prototype.N=function(n,e,t,i){return this.i.add(String(n),e,!1,t,i)},Bi.prototype.O=function(n,e,t,i){return this.i.add(String(n),e,!0,t,i)};var Fg=Rt.JSON.stringify;function jv(){var n=vx;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var Gv,JC=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new GO,n=>n.reset());class GO{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function _x(n){Rt.setTimeout(()=>{throw n},0)}function $v(n,e){Gv||function yx(){var n=Rt.Promise.resolve(void 0);Gv=function(){n.then(eE)}}(),Lg||(Gv(),Lg=!0),vx.add(n,e)}var Lg=!1,vx=new class yl{constructor(){this.h=this.g=null}add(e,t){const i=JC.get();i.set(e,t),this.h?this.h.next=i:this.g=i,this.h=i}};function eE(){for(var n;n=jv();){try{n.h.call(n.g)}catch(t){_x(t)}var e=JC;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Lg=!1}function Vg(n,e){Bi.call(this),this.h=n||1,this.g=e||Rt,this.j=ir(this.kb,this),this.l=Date.now()}function Bg(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function tE(n,e,t){if("function"==typeof n)t&&(n=ir(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=ir(n.handleEvent,n)}return 2147483647<Number(e)?-1:Rt.setTimeout(n,e||0)}function Ug(n){n.g=tE(()=>{n.g=null,n.i&&(n.i=!1,Ug(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}rr(Vg,Bi),(it=Vg.prototype).da=!1,it.S=null,it.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Ti(this,"tick"),this.da&&(Bg(this),this.start()))}},it.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},it.M=function(){Vg.Z.M.call(this),Bg(this),delete this.g};class nE extends _l{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Ug(this)}M(){super.M(),this.g&&(Rt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function _h(n){_l.call(this),this.h=n,this.g={}}rr(_h,_l);var zv=[];function qv(n,e,t,i){Array.isArray(t)||(t&&(zv[0]=t.toString()),t=zv);for(var r=0;r<t.length;r++){var a=kg(e,t[r],i||n.handleEvent,!1,n.h||n);if(!a)break;n.g[a.key]=a}}function Zv(n){$C(n.g,function(e,t){this.g.hasOwnProperty(t)&&Og(e)},n),n.g={}}function Ou(){this.g=!0}function yh(n,e,t,i){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function sE(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var i=t[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var a=r[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var u=1;u<r.length;u++)r[u]=""}}}return Fg(t)}catch{return e}}(n,t)+(i?" "+i:"")})}_h.prototype.M=function(){_h.Z.M.call(this),Zv(this)},_h.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Ou.prototype.Aa=function(){this.g=!1},Ou.prototype.info=function(){};var Pu={},oE=null;function Wv(){return oE=oE||new Bi}function bx(n){_r.call(this,Pu.Ma,n)}function vh(n){const e=Wv();Ti(e,new bx(e,n))}function aE(n,e){_r.call(this,Pu.STAT_EVENT,n),this.stat=e}function Fr(n){const e=Wv();Ti(e,new aE(e,n))}function lE(n,e){_r.call(this,Pu.Na,n),this.size=e}function jg(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Rt.setTimeout(function(){n()},e)}Pu.Ma="serverreachability",rr(bx,_r),Pu.STAT_EVENT="statevent",rr(aE,_r),Pu.Na="timingevent",rr(lE,_r);var Kv={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},wx={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function cE(){}function uE(){}cE.prototype.h=null;var $g,vc={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Yv(){_r.call(this,"d")}function Qv(){_r.call(this,"c")}function ga(){}function bh(n,e,t,i){this.l=n,this.j=e,this.m=t,this.X=i||1,this.V=new _h(this),this.P=Xv,this.W=new Vg(n=Sg?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Gg}function Gg(){this.i=null,this.g="",this.h=!1}rr(Yv,_r),rr(Qv,_r),rr(ga,cE),ga.prototype.g=function(){return new XMLHttpRequest},ga.prototype.i=function(){return{}},$g=new ga;var Xv=45e3,Jv={},wh={};function hp(n,e,t){n.K=1,n.v=Yg(_a(e)),n.s=t,n.U=!0,fp(n,null)}function fp(n,e){n.F=Date.now(),zg(n),n.A=_a(n.v);var t=n.A,i=n.X;Array.isArray(i)||(i=[String(i)]),s(t.h,"t",i),n.C=0,t=n.l.H,n.h=new Gg,n.g=lP(n.l,t?e:null,!n.s),0<n.O&&(n.L=new nE(ir(n.Ia,n,n.g),n.O)),qv(n.V,n.g,"readystatechange",n.gb),e=n.H?cp(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,e)):(n.u="GET",n.g.ea(n.A,n.u,null,e)),vh(1),function Hg(n,e,t,i,r,a){n.info(function(){if(n.g)if(a)for(var u="",f=a.split("&"),_=0;_<f.length;_++){var b=f[_].split("=");if(1<b.length){var I=b[0];b=b[1];var x=I.split("_");u=2<=x.length&&"type"==x[1]?u+(I+"=")+b+"&":u+(I+"=redacted&")}}else u=null;else u=a;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+e+"\n"+t+"\n"+u})}(n.j,n.u,n.A,n.m,n.X,n.s)}function Ex(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function Ix(n,e,t){let r,i=!0;for(;!n.I&&n.C<t.length;){if(r=zO(n,t),r==wh){4==e&&(n.o=4,Fr(14),i=!1),yh(n.j,n.m,null,"[Incomplete Response]");break}if(r==Jv){n.o=4,Fr(15),yh(n.j,n.m,t,"[Invalid Chunk]"),i=!1;break}yh(n.j,n.m,r,null),tb(n,r)}Ex(n)&&r!=wh&&r!=Jv&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Fr(16),i=!1),n.i=n.i&&i,i?0<t.length&&!n.aa&&(n.aa=!0,(e=n.l).g==n&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),Fx(e),e.L=!0,Fr(11))):(yh(n.j,n.m,t,"[Invalid Chunked Response]"),Nu(n),pp(n))}function zO(n,e){var t=n.C,i=e.indexOf("\n",t);return-1==i?wh:(t=Number(e.substring(t,i)),isNaN(t)?Jv:(i+=1)+t>e.length?wh:(e=e.substr(i,t),n.C=i+t,e))}function zg(n){n.Y=Date.now()+n.P,eb(n,n.P)}function eb(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=jg(ir(n.eb,n),e)}function qg(n){n.B&&(Rt.clearTimeout(n.B),n.B=null)}function pp(n){0==n.l.G||n.I||rP(n.l,n)}function Nu(n){qg(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,Bg(n.W),Zv(n.V),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function tb(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||E(t.i,n)))if(t.I=n.N,!n.J&&E(t.i,n)&&3==t.G){try{var i=t.Ca.g.parse(e)}catch{i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<n.F))break e;mE(t),fE(t)}Nx(t),Fr(18)}}else t.ta=r[1],0<t.ta-t.U&&37500>r[2]&&t.N&&0==t.A&&!t.v&&(t.v=jg(ir(t.ab,t),6e3));if(1>=C(t.i)&&t.ka){try{t.ka()}catch{}t.ka=void 0}}else mp(t,11)}else if((n.J||t.g==n)&&mE(t),!Pv(e))for(r=t.Ca.g.parse(e),e=0;e<r.length;e++){let b=r[e];if(t.U=b[0],b=b[1],2==t.G)if("c"==b[0]){t.J=b[1],t.la=b[2];const I=b[3];null!=I&&(t.ma=I,t.h.info("VER="+t.ma));const x=b[4];null!=x&&(t.za=x,t.h.info("SVER="+t.za));const L=b[5];null!=L&&"number"==typeof L&&0<L&&(t.K=i=1.5*L,t.h.info("backChannelRequestTimeoutMs_="+i)),i=t;const B=n.g;if(B){const U=B.g?B.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(U){var a=i.i;!a.g&&(es(U,"spdy")||es(U,"quic")||es(U,"h2"))&&(a.j=a.l,a.g=new Set,a.h&&(S(a,a.h),a.h=null))}if(i.D){const ee=B.g?B.g.getResponseHeader("X-HTTP-Session-Id"):null;ee&&(i.sa=ee,Zn(i.F,i.D,ee))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-n.F,t.h.info("Handshake RTT: "+t.O+"ms"));var u=n;if((i=t).oa=aP(i,i.H?i.la:null,i.W),u.J){R(i.i,u);var f=u,_=i.K;_&&f.setTimeout(_),f.B&&(qg(f),zg(f)),i.g=u}else nP(i);0<t.l.length&&pE(t)}else"stop"!=b[0]&&"close"!=b[0]||mp(t,7);else 3==t.G&&("stop"==b[0]||"close"==b[0]?"stop"==b[0]?mp(t,7):Ox(t):"noop"!=b[0]&&t.j&&t.j.wa(b),t.A=0)}vh(4)}catch{}}function Zg(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(kv(n)||"string"==typeof n)HC(n,e,void 0);else{if(n.T&&"function"==typeof n.T)var t=n.T();else if(n.R&&"function"==typeof n.R)t=void 0;else if(kv(n)||"string"==typeof n){t=[];for(var i=n.length,r=0;r<i;r++)t.push(r)}else for(r in t=[],i=0,n)t[i++]=r;i=function dE(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(kv(n)){for(var e=[],t=n.length,i=0;i<t;i++)e.push(n[i]);return e}for(i in e=[],t=0,n)e[t++]=n[i];return e}(n),r=i.length;for(var a=0;a<r;a++)e.call(void 0,i[a],t&&t[a],n)}}function Fu(n,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var i=0;i<t;i+=2)this.set(arguments[i],arguments[i+1])}else if(n)if(n instanceof Fu)for(t=n.T(),i=0;i<t.length;i++)this.set(t[i],n.get(t[i]));else for(i in n)this.set(i,n[i])}function nb(n){if(n.i!=n.g.length){for(var e=0,t=0;e<n.g.length;){var i=n.g[e];Lu(n.h,i)&&(n.g[t++]=i),e++}n.g.length=t}if(n.i!=n.g.length){var r={};for(t=e=0;e<n.g.length;)Lu(r,i=n.g[e])||(n.g[t++]=i,r[i]=1),e++;n.g.length=t}}function Lu(n,e){return Object.prototype.hasOwnProperty.call(n,e)}(it=bh.prototype).setTimeout=function(n){this.P=n},it.gb=function(n){n=n.target;const e=this.L;e&&3==Uu(n)?e.l():this.Ia(n)},it.Ia=function(n){try{if(n==this.g)e:{const I=Uu(this.g);var e=this.g.Da();const x=this.g.ba();if(!(3>I)&&(3!=I||Sg||this.g&&(this.h.h||this.g.ga()||QO(this.g)))){this.I||4!=I||7==e||vh(8==e||0>=x?3:2),qg(this);var t=this.g.ba();this.N=t;t:if(Ex(this)){var i=QO(this.g);n="";var r=i.length,a=4==Uu(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Nu(this),pp(this);var u="";break t}this.h.i=new Rt.TextDecoder}for(e=0;e<r;e++)this.h.h=!0,n+=this.h.i.decode(i[e],{stream:a&&e==r-1});i.splice(0,r),this.h.g+=n,this.C=0,u=this.h.g}else u=this.g.ga();if(this.i=200==t,function iE(n,e,t,i,r,a,u){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+e+"\n"+t+"\n"+a+" "+u})}(this.j,this.u,this.A,this.m,this.X,I,t),this.i){if(this.$&&!this.J){t:{if(this.g){var f,_=this.g;if((f=_.g?_.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Pv(f)){var b=f;break t}}b=null}if(!(t=b)){this.i=!1,this.o=3,Fr(12),Nu(this),pp(this);break e}yh(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,tb(this,t)}this.U?(Ix(this,I,u),Sg&&this.i&&3==I&&(qv(this.V,this.W,"tick",this.fb),this.W.start())):(yh(this.j,this.m,u,null),tb(this,u)),4==I&&Nu(this),this.i&&!this.I&&(4==I?rP(this.l,this):(this.i=!1,zg(this)))}else 400==t&&0<u.indexOf("Unknown SID")?(this.o=3,Fr(12)):(this.o=0,Fr(13)),Nu(this),pp(this)}}}catch{}},it.fb=function(){if(this.g){var n=Uu(this.g),e=this.g.ga();this.C<e.length&&(qg(this),Ix(this,n,e),this.i&&4!=n&&zg(this))}},it.cancel=function(){this.I=!0,Nu(this)},it.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function rE(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(vh(3),Fr(17)),Nu(this),this.o=2,pp(this)):eb(this,this.Y-n)},(it=Fu.prototype).R=function(){nb(this);for(var n=[],e=0;e<this.g.length;e++)n.push(this.h[this.g[e]]);return n},it.T=function(){return nb(this),this.g.concat()},it.get=function(n,e){return Lu(this.h,n)?this.h[n]:e},it.set=function(n,e){Lu(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=e},it.forEach=function(n,e){for(var t=this.T(),i=0;i<t.length;i++){var r=t[i],a=this.get(r);n.call(e,a,r,this)}};var ib=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Ch(n,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof Ch){this.g=void 0!==e?e:n.g,Eh(this,n.j),this.s=n.s,Wg(this,n.i),Kg(this,n.m),this.l=n.l,e=n.h;var t=new Jg;t.i=e.i,e.g&&(t.g=new Fu(e.g),t.h=e.h),Dx(this,t),this.o=n.o}else n&&(t=String(n).match(ib))?(this.g=!!e,Eh(this,t[1]||"",!0),this.s=Qg(t[2]||""),Wg(this,t[3]||"",!0),Kg(this,t[4]),this.l=Qg(t[5]||"",!0),Dx(this,t[6]||"",!0),this.o=Qg(t[7]||"")):(this.g=!!e,this.h=new Jg(null,this.g))}function _a(n){return new Ch(n)}function Eh(n,e,t){n.j=t?Qg(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Wg(n,e,t){n.i=t?Qg(e,!0):e}function Kg(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function Dx(n,e,t){e instanceof Jg?(n.h=e,function l(n,e){e&&!n.j&&(Vu(n),n.i=null,n.g.forEach(function(t,i){var r=i.toLowerCase();i!=r&&(Mx(this,i),s(this,r,t))},n)),n.j=e}(n.h,n.g)):(t||(e=Xg(e,WO)),n.h=new Jg(e,n.g))}function Zn(n,e,t){n.h.set(e,t)}function Yg(n){return Zn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Qg(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Xg(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,qO),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function qO(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Ch.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Xg(e,xx,!0),":");var t=this.i;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Xg(e,xx,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&n.push("/"),n.push(Xg(t,"/"==t.charAt(0)?Ax:ZO,!0))),(t=this.h.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Xg(t,KO)),n.join("")};var xx=/[#\/\?@]/g,ZO=/[#\?:]/g,Ax=/[#\?]/g,WO=/[#\?@]/g,KO=/#/g;function Jg(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Vu(n){n.g||(n.g=new Fu,n.h=0,n.i&&function rb(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var i=n[t].indexOf("="),r=null;if(0<=i){var a=n[t].substring(0,i);r=n[t].substring(i+1)}else a=n[t];e(a,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function Mx(n,e){Vu(n),e=o(n,e),Lu(n.g.h,e)&&(n.i=null,n.h-=n.g.get(e).length,Lu((n=n.g).h,e)&&(delete n.h[e],n.i--,n.g.length>2*n.i&&nb(n)))}function kx(n,e){return Vu(n),e=o(n,e),Lu(n.g.h,e)}function s(n,e,t){Mx(n,e),0<t.length&&(n.i=null,n.g.set(o(n,e),Dg(t)),n.h+=t.length)}function o(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function h(n){this.l=n||m,n=Rt.PerformanceNavigationTiming?0<(n=Rt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Rt.g&&Rt.g.Ea&&Rt.g.Ea()&&Rt.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(it=Jg.prototype).add=function(n,e){Vu(this),this.i=null,n=o(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},it.forEach=function(n,e){Vu(this),this.g.forEach(function(t,i){HC(t,function(r){n.call(e,r,i,this)},this)},this)},it.T=function(){Vu(this);for(var n=this.g.R(),e=this.g.T(),t=[],i=0;i<e.length;i++)for(var r=n[i],a=0;a<r.length;a++)t.push(e[i]);return t},it.R=function(n){Vu(this);var e=[];if("string"==typeof n)kx(this,n)&&(e=sx(e,this.g.get(o(this,n))));else{n=this.g.R();for(var t=0;t<n.length;t++)e=sx(e,n[t])}return e},it.set=function(n,e){return Vu(this),this.i=null,kx(this,n=o(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},it.get=function(n,e){return n&&0<(n=this.R(n)).length?String(n[0]):e},it.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],e=this.g.T(),t=0;t<e.length;t++){var i=e[t],r=encodeURIComponent(String(i));i=this.R(i);for(var a=0;a<i.length;a++){var u=r;""!==i[a]&&(u+="="+encodeURIComponent(String(i[a]))),n.push(u)}}return this.i=n.join("&")};var m=10;function v(n){return!!n.h||!!n.g&&n.g.size>=n.j}function C(n){return n.h?1:n.g?n.g.size:0}function E(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function S(n,e){n.g?n.g.add(e):n.h=e}function R(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function F(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return Dg(n.i)}function Z(){}function re(){this.g=new Z}function Ee(n,e,t){const i=t||"";try{Zg(n,function(r,a){let u=r;fh(r)&&(u=Fg(r)),e.push(i+a+"="+encodeURIComponent(u))})}catch(r){throw e.push(i+"type="+encodeURIComponent("_badmap")),r}}function ze(n,e,t,i,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(i)}catch{}}function Ye(n){this.l=n.$b||null,this.j=n.ib||!1}function bt(n,e){Bi.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=ke,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}h.prototype.cancel=function(){if(this.i=F(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},Z.prototype.stringify=function(n){return Rt.JSON.stringify(n,void 0)},Z.prototype.parse=function(n){return Rt.JSON.parse(n,void 0)},rr(Ye,cE),Ye.prototype.g=function(){return new bt(this.l,this.j)},Ye.prototype.i=function(n){return function(){return n}}({}),rr(bt,Bi);var ke=0;function _t(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function Ht(n){n.readyState=4,n.l=null,n.j=null,n.A=null,mn(n)}function mn(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(it=bt.prototype).open=function(n,e){if(this.readyState!=ke)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,mn(this)},it.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||Rt).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},it.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Ht(this)),this.readyState=ke},it.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,mn(this)),this.g&&(this.readyState=3,mn(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(typeof Rt.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;_t(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},it.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Ht(this):mn(this),3==this.readyState&&_t(this)}},it.Ua=function(n){this.g&&(this.response=this.responseText=n,Ht(this))},it.Ta=function(n){this.g&&(this.response=n,Ht(this))},it.ha=function(){this.g&&Ht(this)},it.setRequestHeader=function(n,e){this.v.append(n,e)},it.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},it.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(bt.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var Bu=Rt.JSON.parse;function ri(n){Bi.call(this),this.headers=new Fu,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=e_,this.K=this.L=!1}rr(ri,Bi);var e_="",sb=/^https?$/i,ob=["POST","PUT"];function lb(n){return"content-type"==n.toLowerCase()}function t_(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,n_(n),hE(n)}function n_(n){n.D||(n.D=!0,Ti(n,"complete"),Ti(n,"error"))}function i_(n){if(n.h&&typeof NC<"u"&&(!n.C[1]||4!=Uu(n)||2!=n.ba()))if(n.v&&4==Uu(n))tE(n.Fa,0,n);else if(Ti(n,"readystatechange"),4==Uu(n)){n.h=!1;try{const f=n.ba();e:switch(f){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var i;if(i=0===f){var r=String(n.H).match(ib)[1]||null;if(!r&&Rt.self&&Rt.self.location){var a=Rt.self.location.protocol;r=a.substr(0,a.length-1)}i=!sb.test(r?r.toLowerCase():"")}t=i}if(t)Ti(n,"complete"),Ti(n,"success");else{n.m=6;try{var u=2<Uu(n)?n.g.statusText:""}catch{u=""}n.j=u+" ["+n.ba()+"]",n_(n)}}finally{hE(n)}}}function hE(n,e){if(n.g){YO(n);const t=n.g,i=n.C[0]?Ig:null;n.g=null,n.C=null,e||Ti(n,"ready");try{t.onreadystatechange=i}catch{}}}function YO(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Rt.clearTimeout(n.A),n.A=null)}function Uu(n){return n.g?n.g.readyState:0}function QO(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case e_:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function Rx(n,e,t){e:{for(i in t){var i=!1;break e}i=!0}i||(t=function cB(n){let e="";return $C(n,function(t,i){e+=i,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Zn(n,e,t))}function cb(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function XO(n){this.za=0,this.l=[],this.h=new Ou,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=cb("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=cb("baseRetryDelayMs",5e3,n),this.$a=cb("retryDelaySeedMs",1e4,n),this.Ya=cb("forwardChannelMaxRetries",2,n),this.ra=cb("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new h(n&&n.concurrentRequestLimit),this.Ca=new re,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function Ox(n){if(JO(n),3==n.G){var e=n.V++,t=_a(n.F);Zn(t,"SID",n.J),Zn(t,"RID",e),Zn(t,"TYPE","terminate"),ub(n,t),(e=new bh(n,n.h,e,void 0)).K=2,e.v=Yg(_a(t)),t=!1,Rt.navigator&&Rt.navigator.sendBeacon&&(t=Rt.navigator.sendBeacon(e.v.toString(),"")),!t&&Rt.Image&&((new Image).src=e.v,t=!0),t||(e.g=lP(e.l,null),e.g.ea(e.v)),e.F=Date.now(),zg(e)}oP(n)}function fE(n){n.g&&(Fx(n),n.g.cancel(),n.g=null)}function JO(n){fE(n),n.u&&(Rt.clearTimeout(n.u),n.u=null),mE(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Rt.clearTimeout(n.m),n.m=null)}function Px(n,e){n.l.push(new class{constructor(n,e){this.h=n,this.g=e}}(n.Za++,e)),3==n.G&&pE(n)}function pE(n){v(n.i)||n.m||(n.m=!0,$v(n.Ha,n),n.C=0)}function eP(n,e){var t;t=e?e.m:n.V++;const i=_a(n.F);Zn(i,"SID",n.J),Zn(i,"RID",t),Zn(i,"AID",n.U),ub(n,i),n.o&&n.s&&Rx(i,n.o,n.s),t=new bh(n,n.h,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.l=e.D.concat(n.l)),e=tP(n,t,1e3),t.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),S(n.i,t),hp(t,i,e)}function ub(n,e){n.j&&Zg({},function(t,i){Zn(e,i,t)})}function tP(n,e,t){t=Math.min(n.l.length,t);var i=n.j?ir(n.j.Oa,n.j,n):null;e:{var r=n.l;let a=-1;for(;;){const u=["count="+t];-1==a?0<t?(a=r[0].h,u.push("ofs="+a)):a=0:u.push("ofs="+a);let f=!0;for(let _=0;_<t;_++){let b=r[_].h;const I=r[_].g;if(b-=a,0>b)a=Math.max(0,r[_].h-100),f=!1;else try{Ee(I,u,"req"+b+"_")}catch{i&&i(I)}}if(f){i=u.join("&");break e}}}return n=n.l.splice(0,t),e.D=n,i}function nP(n){n.g||n.u||(n.Y=1,$v(n.Ga,n),n.A=0)}function Nx(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=jg(ir(n.Ga,n),sP(n,n.A)),n.A++,0))}function Fx(n){null!=n.B&&(Rt.clearTimeout(n.B),n.B=null)}function iP(n){n.g=new bh(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var e=_a(n.oa);Zn(e,"RID","rpc"),Zn(e,"SID",n.J),Zn(e,"CI",n.N?"0":"1"),Zn(e,"AID",n.U),ub(n,e),Zn(e,"TYPE","xmlhttp"),n.o&&n.s&&Rx(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.la,t.K=1,t.v=Yg(_a(e)),t.s=null,t.U=!0,fp(t,n)}function mE(n){null!=n.v&&(Rt.clearTimeout(n.v),n.v=null)}function rP(n,e){var t=null;if(n.g==e){mE(n),Fx(n),n.g=null;var i=2}else{if(!E(n.i,e))return;t=e.D,R(n.i,e),i=1}if(n.I=e.N,0!=n.G)if(e.i)if(1==i){t=e.s?e.s.length:0,e=Date.now()-e.F;var r=n.C;Ti(i=Wv(),new lE(i,t,e,r)),pE(n)}else nP(n);else if(3==(r=e.o)||0==r&&0<n.I||!(1==i&&function uB(n,e){return!(C(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=e.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=jg(ir(n.Ha,n,e),sP(n,n.C)),n.C++,0)))}(n,e)||2==i&&Nx(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),r){case 1:mp(n,5);break;case 4:mp(n,10);break;case 3:mp(n,6);break;default:mp(n,2)}}function sP(n,e){let t=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(t*=2),t*e}function mp(n,e){if(n.h.info("Error code "+e),2==e){var t=null;n.j&&(t=null);var i=ir(n.jb,n);t||(t=new Ch("//www.google.com/images/cleardot.gif"),Rt.location&&"http"==Rt.location.protocol||Eh(t,"https"),Yg(t)),function Pe(n,e){const t=new Ou;if(Rt.Image){const i=new Image;i.onload=lp(ze,t,i,"TestLoadImage: loaded",!0,e),i.onerror=lp(ze,t,i,"TestLoadImage: error",!1,e),i.onabort=lp(ze,t,i,"TestLoadImage: abort",!1,e),i.ontimeout=lp(ze,t,i,"TestLoadImage: timeout",!1,e),Rt.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else e(!1)}(t.toString(),i)}else Fr(2);n.G=0,n.j&&n.j.va(e),oP(n),JO(n)}function oP(n){n.G=0,n.I=-1,n.j&&((0!=F(n.i).length||0!=n.l.length)&&(n.i.i.length=0,Dg(n.l),n.l.length=0),n.j.ua())}function aP(n,e,t){let i=function Tx(n){return n instanceof Ch?_a(n):new Ch(n,void 0)}(t);if(""!=i.i)e&&Wg(i,e+"."+i.i),Kg(i,i.m);else{const r=Rt.location;i=function Sx(n,e,t,i){var r=new Ch(null,void 0);return n&&Eh(r,n),e&&Wg(r,e),t&&Kg(r,t),i&&(r.l=i),r}(r.protocol,e?e+"."+r.hostname:r.hostname,+r.port,t)}return n.aa&&$C(n.aa,function(r,a){Zn(i,a,r)}),t=n.sa,(e=n.D)&&t&&Zn(i,e,t),Zn(i,"VER",n.ma),ub(n,i),i}function lP(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new ri(t&&n.Ba&&!n.qa?new Ye({ib:!0}):n.qa)).L=n.H,e}function cP(){}function gE(){if(up&&!(10<=Number(fx)))throw Error("Environmental error: no available transport.")}function Ro(n,e){Bi.call(this),this.g=new XO(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.P=n,(n=e&&e.httpHeadersOverwriteParam)&&!Pv(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Pv(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new r_(this)}function uP(n){Yv.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function dP(){Qv.call(this),this.status=1}function r_(n){this.g=n}(it=ri.prototype).ea=function(n,e,t,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():$g.g(),this.C=function Cx(n){return n.h||(n.h=n.i())}(this.u?this.u:$g),this.g.onreadystatechange=ir(this.Fa,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(a){return void t_(this,a)}n=t||"";const r=new Fu(this.headers);i&&Zg(i,function(a,u){r.set(u,a)}),i=function rx(n){e:{var e=lb;const t=n.length,i="string"==typeof n?n.split(""):n;for(let r=0;r<t;r++)if(r in i&&e.call(void 0,i[r],r,n)){e=r;break e}e=-1}return 0>e?null:"string"==typeof n?n.charAt(e):n[e]}(r.T()),t=Rt.FormData&&n instanceof Rt.FormData,!(0<=Ov(ob,e))||i||t||r.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),r.forEach(function(a,u){this.g.setRequestHeader(u,a)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{YO(this),0<this.B&&((this.K=function ab(n){return up&&function jO(){return function GC(n){var e=dx;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=ox(String(xg)).split("."),t=ox("9").split("."),i=Math.max(e.length,t.length);for(let u=0;0==n&&u<i;u++){var r=e[u]||"",a=t[u]||"";do{if(r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==r[0].length&&0==a[0].length)break;n=jC(0==r[1].length?0:parseInt(r[1],10),0==a[1].length?0:parseInt(a[1],10))||jC(0==r[2].length,0==a[2].length)||jC(r[2],a[2]),r=r[3],a=a[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ir(this.pa,this)):this.A=tE(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(a){t_(this,a)}},it.pa=function(){typeof NC<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ti(this,"timeout"),this.abort(8))},it.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Ti(this,"complete"),Ti(this,"abort"),hE(this))},it.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),hE(this,!0)),ri.Z.M.call(this)},it.Fa=function(){this.s||(this.F||this.v||this.l?i_(this):this.cb())},it.cb=function(){i_(this)},it.ba=function(){try{return 2<Uu(this)?this.g.status:-1}catch{return-1}},it.ga=function(){try{return this.g?this.g.responseText:""}catch{return""}},it.Qa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),Bu(e)}},it.Da=function(){return this.m},it.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(it=XO.prototype).ma=8,it.G=1,it.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch{}},it.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const r=new bh(this,this.h,n,void 0);let a=this.s;if(this.P&&(a?(a=cp(a),Nv(a,this.P)):a=this.P),null===this.o&&(r.H=a),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var i=this.l[t];if(void 0===(i="__data__"in i.g&&"string"==typeof(i=i.g.__data__)?i.length:void 0))break;if(4096<(e+=i)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=tP(this,r,e),Zn(t=_a(this.F),"RID",n),Zn(t,"CVER",22),this.D&&Zn(t,"X-HTTP-Session-Id",this.D),ub(this,t),this.o&&a&&Rx(t,this.o,a),S(this.i,r),this.Ra&&Zn(t,"TYPE","init"),this.ja?(Zn(t,"$req",e),Zn(t,"SID","null"),r.$=!0,hp(r,t,null)):hp(r,t,e),this.G=2}}else 3==this.G&&(n?eP(this,n):0==this.l.length||v(this.i)||eP(this))},it.Ga=function(){if(this.u=null,iP(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=jg(ir(this.bb,this),n)}},it.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Fr(10),fE(this),iP(this))},it.ab=function(){null!=this.v&&(this.v=null,fE(this),Nx(this),Fr(19))},it.jb=function(n){n?(this.h.info("Successfully pinged google.com"),Fr(2)):(this.h.info("Failed to ping google.com"),Fr(1))},(it=cP.prototype).xa=function(){},it.wa=function(){},it.va=function(){},it.ua=function(){},it.Oa=function(){},gE.prototype.g=function(n,e){return new Ro(n,e)},rr(Ro,Bi),Ro.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),$v(ir(n.hb,n,e))),Fr(0),n.W=e,n.aa=t||{},n.N=n.X,n.F=aP(n,null,n.W),pE(n)},Ro.prototype.close=function(){Ox(this.g)},Ro.prototype.u=function(n){if("string"==typeof n){var e={};e.__data__=n,Px(this.g,e)}else this.v?((e={}).__data__=Fg(n),Px(this.g,e)):Px(this.g,n)},Ro.prototype.M=function(){this.g.j=null,delete this.j,Ox(this.g),delete this.g,Ro.Z.M.call(this)},rr(uP,Yv),rr(dP,Qv),rr(r_,cP),r_.prototype.xa=function(){Ti(this.g,"a")},r_.prototype.wa=function(n){Ti(this.g,new uP(n))},r_.prototype.va=function(n){Ti(this.g,new dP(n))},r_.prototype.ua=function(){Ti(this.g,"b")},gE.prototype.createWebChannel=gE.prototype.g,Ro.prototype.send=Ro.prototype.u,Ro.prototype.open=Ro.prototype.m,Ro.prototype.close=Ro.prototype.close,Kv.NO_ERROR=0,Kv.TIMEOUT=8,Kv.HTTP_ERROR=6,wx.COMPLETE="complete",uE.EventType=vc,vc.OPEN="a",vc.CLOSE="b",vc.ERROR="c",vc.MESSAGE="d",Bi.prototype.listen=Bi.prototype.N,ri.prototype.listenOnce=ri.prototype.O,ri.prototype.getLastError=ri.prototype.La,ri.prototype.getLastErrorCode=ri.prototype.Da,ri.prototype.getStatus=ri.prototype.ba,ri.prototype.getResponseJson=ri.prototype.Qa,ri.prototype.getResponseText=ri.prototype.ga,ri.prototype.send=ri.prototype.ea;var dB=yc.createWebChannelTransport=function(){return new gE},hB=yc.getStatEventTarget=function(){return Wv()},Lx=yc.ErrorCode=Kv,fB=yc.EventType=wx,pB=yc.Event=Pu,hP=yc.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},mB=yc.FetchXmlHttpFactory=Ye,_E=yc.WebChannel=uE,gB=yc.XhrIo=ri;const fP="@firebase/firestore";class yr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}yr.UNAUTHENTICATED=new yr(null),yr.GOOGLE_CREDENTIALS=new yr("google-credentials-uid"),yr.FIRST_PARTY=new yr("first-party-uid"),yr.MOCK_USER=new yr("mock-user");let s_="9.9.4";const Ih=new _c.Yd("@firebase/firestore");function Vx(){return Ih.logLevel}function Fe(n,...e){if(Ih.logLevel<=_c.in.DEBUG){const t=e.map(Bx);Ih.debug(`Firestore (${s_}): ${n}`,...t)}}function Si(n,...e){if(Ih.logLevel<=_c.in.ERROR){const t=e.map(Bx);Ih.error(`Firestore (${s_}): ${n}`,...t)}}function gp(n,...e){if(Ih.logLevel<=_c.in.WARN){const t=e.map(Bx);Ih.warn(`Firestore (${s_}): ${n}`,...t)}}function Bx(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function ot(n="Unexpected state"){const e=`FIRESTORE (${s_}) INTERNAL ASSERTION FAILED: `+n;throw Si(e),new Error(e)}function kt(n,e){n||ot()}function We(n,e){return n}const pe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Re extends qt.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class vr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class pP{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class vB{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(yr.UNAUTHENTICATED))}shutdown(){}}class bB{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class wB{constructor(e){this.t=e,this.currentUser=yr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var i=this;let r=this.i;const a=b=>this.i!==r?(r=this.i,t(b)):Promise.resolve();let u=new vr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new vr,e.enqueueRetryable(()=>a(this.currentUser))};const f=()=>{const b=u;e.enqueueRetryable((0,we.Z)(function*(){yield b.promise,yield a(i.currentUser)}))},_=b=>{Fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=b,this.auth.addAuthTokenListener(this.o),f()};this.t.onInit(b=>_(b)),setTimeout(()=>{if(!this.auth){const b=this.t.getImmediate({optional:!0});b?_(b):(Fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new vr)}},0),f()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(Fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(kt("string"==typeof i.accessToken),new pP(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return kt(null===e||"string"==typeof e),new yr(e)}}class CB{constructor(e,t,i,r){this.h=e,this.l=t,this.m=i,this.g=r,this.type="FirstParty",this.user=yr.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(kt(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class EB{constructor(e,t,i,r){this.h=e,this.l=t,this.m=i,this.g=r}getToken(){return Promise.resolve(new CB(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable(()=>t(yr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class mP{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class IB{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){const i=a=>{null!=a.error&&Fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const u=a.token!==this.A;return this.A=a.token,Fe("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>i(a))};const r=a=>{Fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.appCheck.addTokenListener(this.o)};this.T.onInit(a=>r(a)),setTimeout(()=>{if(!this.appCheck){const a=this.T.getImmediate({optional:!0});a?r(a):Fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(kt("string"==typeof t.token),this.A=t.token,new mP(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function DB(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}class gP{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const r=DB(40);for(let a=0;a<r.length;++a)i.length<20&&r[a]<t&&(i+=e.charAt(r[a]%e.length))}return i}}function Vt(n,e){return n<e?-1:n>e?1:0}function o_(n,e,t){return n.length===e.length&&n.every((i,r)=>t(i,e[r]))}function _P(n){return n+"\0"}class si{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Re(pe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Re(pe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Re(pe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Re(pe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return si.fromMillis(Date.now())}static fromDate(e){return si.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new si(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Vt(this.nanoseconds,e.nanoseconds):Vt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class St{constructor(e){this.timestamp=e}static fromTimestamp(e){return new St(e)}static min(){return new St(new si(0,0))}static max(){return new St(new si(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class db{constructor(e,t,i){void 0===t?t=0:t>e.length&&ot(),void 0===i?i=e.length-t:i>e.length-t&&ot(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return 0===db.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof db?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let r=0;r<i;r++){const a=e.get(r),u=t.get(r);if(a<u)return-1;if(a>u)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class sn extends db{construct(e,t,i){return new sn(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new Re(pe.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(r=>r.length>0))}return new sn(t)}static emptyPath(){return new sn([])}}const TB=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class bi extends db{construct(e,t,i){return new bi(e,t,i)}static isValidIdentifier(e){return TB.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),bi.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new bi(["__name__"])}static fromServerFormat(e){const t=[];let i="",r=0;const a=()=>{if(0===i.length)throw new Re(pe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let u=!1;for(;r<e.length;){const f=e[r];if("\\"===f){if(r+1===e.length)throw new Re(pe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[r+1];if("\\"!==_&&"."!==_&&"`"!==_)throw new Re(pe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=_,r+=2}else"`"===f?(u=!u,r++):"."!==f||u?(i+=f,r++):(a(),r++)}if(a(),u)throw new Re(pe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new bi(t)}static emptyPath(){return new bi([])}}class Ze{constructor(e){this.path=e}static fromPath(e){return new Ze(sn.fromString(e))}static fromName(e){return new Ze(sn.fromString(e).popFirst(5))}static empty(){return new Ze(sn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===sn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return sn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ze(new sn(e.slice()))}}class yE{constructor(e,t,i,r){this.indexId=e,this.collectionGroup=t,this.fields=i,this.indexState=r}}function Ux(n){return n.fields.find(e=>2===e.kind)}function _p(n){return n.fields.filter(e=>2!==e.kind)}yE.UNKNOWN_ID=-1;class vE{constructor(e,t){this.fieldPath=e,this.kind=t}}class hb{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new hb(0,Oo.min())}}function yP(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=St.fromTimestamp(1e9===i?new si(t+1,0):new si(t,i));return new Oo(r,Ze.empty(),e)}function vP(n){return new Oo(n.readTime,n.key,-1)}class Oo{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new Oo(St.min(),Ze.empty(),-1)}static max(){return new Oo(St.max(),Ze.empty(),-1)}}function Hx(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=Ze.comparator(n.documentKey,e.documentKey),0!==t?t:Vt(n.largestBatchId,e.largestBatchId))}const bP="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class wP{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Dh(n){return jx.apply(this,arguments)}function jx(){return jx=(0,we.Z)(function*(n){if(n.code!==pe.FAILED_PRECONDITION||n.message!==bP)throw n;Fe("LocalStore","Unexpectedly lost primary lease")}),jx.apply(this,arguments)}class ue{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ot(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ue((i,r)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(i,r)},this.catchCallback=a=>{this.wrapFailure(t,a).next(i,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ue?t:ue.resolve(t)}catch(t){return ue.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ue.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ue.reject(t)}static resolve(e){return new ue((t,i)=>{t(e)})}static reject(e){return new ue((t,i)=>{i(e)})}static waitFor(e){return new ue((t,i)=>{let r=0,a=0,u=!1;e.forEach(f=>{++r,f.next(()=>{++a,u&&a===r&&t()},_=>i(_))}),u=!0,a===r&&t()})}static or(e){let t=ue.resolve(!1);for(const i of e)t=t.next(r=>r?ue.resolve(r):i());return t}static forEach(e,t){const i=[];return e.forEach((r,a)=>{i.push(t.call(this,r,a))}),this.waitFor(i)}static mapArray(e,t){return new ue((i,r)=>{const a=e.length,u=new Array(a);let f=0;for(let _=0;_<a;_++){const b=_;t(e[b]).next(I=>{u[b]=I,++f,f===a&&i(u)},I=>r(I))}})}static doWhile(e,t){return new ue((i,r)=>{const a=()=>{!0===e()?t().next(()=>{a()},r):i()};a()})}}class bE{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.P=new vr,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{t.error?this.P.reject(new fb(e,t.error)):this.P.resolve()},this.transaction.onerror=i=>{const r=$x(i.target.error);this.P.reject(new fb(e,r))}}static open(e,t,i,r){try{return new bE(t,e.transaction(r,i))}catch(a){throw new fb(t,a)}}get v(){return this.P.promise}abort(e){e&&this.P.reject(e),this.aborted||(Fe("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new MB(t)}}class vl{constructor(e,t,i){this.name=e,this.version=t,this.S=i,12.2===vl.D((0,qt.z$)())&&Si("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Fe("SimpleDb","Removing database:",e),yp(window.indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!(0,qt.hl)())return!1;if(vl.N())return!0;const e=(0,qt.z$)(),t=vl.D(e),i=0<t&&t<10,r=vl.k(e),a=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||i||a)}static N(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.M)}static O(e,t){return e.store(t)}static D(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static k(e){const t=e.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}F(e){var t=this;return(0,we.Z)(function*(){return t.db||(Fe("SimpleDb","Opening database:",t.name),t.db=yield new Promise((i,r)=>{const a=indexedDB.open(t.name,t.version);a.onsuccess=u=>{i(u.target.result)},a.onblocked=()=>{r(new fb(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=u=>{const f=u.target.error;r("VersionError"===f.name?new Re(pe.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===f.name?new Re(pe.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+f):new fb(e,f))},a.onupgradeneeded=u=>{Fe("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',u.oldVersion),t.S.$(u.target.result,a.transaction,u.oldVersion,t.version).next(()=>{Fe("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.B&&(t.db.onversionchange=i=>t.B(i)),t.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,i,r){var a=this;return(0,we.Z)(function*(){const u="readonly"===t;let f=0;for(;;){++f;try{a.db=yield a.F(e);const _=bE.open(a.db,e,u?"readonly":"readwrite",i),b=r(_).next(I=>(_.V(),I)).catch(I=>(_.abort(I),ue.reject(I))).toPromise();return b.catch(()=>{}),yield _.v,b}catch(_){const b=_,I="FirebaseError"!==b.name&&f<3;if(Fe("SimpleDb","Transaction failed with error:",b.message,"Retrying:",I),a.close(),!I)return Promise.reject(b)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class AB{constructor(e){this.U=e,this.q=!1,this.K=null}get isDone(){return this.q}get G(){return this.K}set cursor(e){this.U=e}done(){this.q=!0}j(e){this.K=e}delete(){return yp(this.U.delete())}}class fb extends Re{constructor(e,t){super(pe.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Th(n){return"IndexedDbTransactionError"===n.name}class MB{constructor(e){this.store=e}put(e,t){let i;return void 0!==t?(Fe("SimpleDb","PUT",this.store.name,e,t),i=this.store.put(t,e)):(Fe("SimpleDb","PUT",this.store.name,"<auto-key>",e),i=this.store.put(e)),yp(i)}add(e){return Fe("SimpleDb","ADD",this.store.name,e,e),yp(this.store.add(e))}get(e){return yp(this.store.get(e)).next(t=>(void 0===t&&(t=null),Fe("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Fe("SimpleDb","DELETE",this.store.name,e),yp(this.store.delete(e))}count(){return Fe("SimpleDb","COUNT",this.store.name),yp(this.store.count())}W(e,t){const i=this.options(e,t);if(i.index||"function"!=typeof this.store.getAll){const r=this.cursor(i),a=[];return this.H(r,(u,f)=>{a.push(f)}).next(()=>a)}{const r=this.store.getAll(i.range);return new ue((a,u)=>{r.onerror=f=>{u(f.target.error)},r.onsuccess=f=>{a(f.target.result)}})}}J(e,t){const i=this.store.getAll(e,null===t?void 0:t);return new ue((r,a)=>{i.onerror=u=>{a(u.target.error)},i.onsuccess=u=>{r(u.target.result)}})}Y(e,t){Fe("SimpleDb","DELETE ALL",this.store.name);const i=this.options(e,t);i.X=!1;const r=this.cursor(i);return this.H(r,(a,u,f)=>f.delete())}Z(e,t){let i;t?i=e:(i={},t=e);const r=this.cursor(i);return this.H(r,t)}tt(e){const t=this.cursor({});return new ue((i,r)=>{t.onerror=a=>{const u=$x(a.target.error);r(u)},t.onsuccess=a=>{const u=a.target.result;u?e(u.primaryKey,u.value).next(f=>{f?u.continue():i()}):i()}})}H(e,t){const i=[];return new ue((r,a)=>{e.onerror=u=>{a(u.target.error)},e.onsuccess=u=>{const f=u.target.result;if(!f)return void r();const _=new AB(f),b=t(f.primaryKey,f.value,_);if(b instanceof ue){const I=b.catch(x=>(_.done(),ue.reject(x)));i.push(I)}_.isDone?r():null===_.G?f.continue():f.continue(_.G)}}).next(()=>ue.waitFor(i))}options(e,t){let i;return void 0!==e&&("string"==typeof e?i=e:t=e),{index:i,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const i=this.store.index(e.index);return e.X?i.openKeyCursor(e.range,t):i.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function yp(n){return new ue((e,t)=>{n.onsuccess=i=>{e(i.target.result)},n.onerror=i=>{const r=$x(i.target.error);t(r)}})}let CP=!1;function $x(n){const e=vl.D((0,qt.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const i=new Re("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return CP||(CP=!0,setTimeout(()=>{throw i},0)),i}}return n}class kB{constructor(e,t){this.asyncQueue=e,this.et=t,this.task=null}start(){this.nt(15)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(e){var t=this;Fe("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,we.Z)(function*(){t.task=null;try{Fe("IndexBackiller",`Documents written: ${yield t.et.st()}`)}catch(i){Th(i)?Fe("IndexBackiller","Ignoring IndexedDB error during index backfill: ",i):yield Dh(i)}yield t.nt(1)}))}}class RB{constructor(e,t){this.localStore=e,this.persistence=t}st(e=50){var t=this;return(0,we.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",i=>t.it(i,e))})()}it(e,t){const i=new Set;let r=t,a=!0;return ue.doWhile(()=>!0===a&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(u=>{if(null!==u&&!i.has(u))return Fe("IndexBackiller",`Processing collection: ${u}`),this.rt(e,u,r).next(f=>{r-=f,i.add(u)});a=!1})).next(()=>t-r)}rt(e,t,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(r=>this.localStore.localDocuments.getNextDocuments(e,t,r,i).next(a=>{const u=a.changes;return this.localStore.indexManager.updateIndexEntries(e,u).next(()=>this.ot(r,a)).next(f=>(Fe("IndexBackiller",`Updating offset: ${f}`),this.localStore.indexManager.updateCollectionGroup(e,t,f))).next(()=>u.size)}))}ot(e,t){let i=e;return t.changes.forEach((r,a)=>{const u=vP(a);Hx(u,i)>0&&(i=u)}),new Oo(i.readTime,i.documentKey,Math.max(t.batchId,e.largestBatchId))}}class Js{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ut(i),this.ct=i=>t.writeSequenceNumber(i))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ct&&this.ct(e),e}}function EP(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function vp(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function IP(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}Js.at=-1;class wi{constructor(e,t){this.comparator=e,this.root=t||Lr.EMPTY}insert(e,t){return new wi(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Lr.BLACK,null,null))}remove(e){return new wi(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Lr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(0===i)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(0===r)return t+i.left.size;r<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new wE(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new wE(this.root,e,this.comparator,!1)}getReverseIterator(){return new wE(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new wE(this.root,e,this.comparator,!0)}}class wE{constructor(e,t,i,r){this.isReverse=r,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?i(e.key,t):1,t&&r&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(0===a){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Lr{constructor(e,t,i,r,a){this.key=e,this.value=t,this.color=i??Lr.RED,this.left=r??Lr.EMPTY,this.right=a??Lr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,r,a){return new Lr(e??this.key,t??this.value,i??this.color,r??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let r=this;const a=i(e,r.key);return r=a<0?r.copy(null,null,null,r.left.insert(e,t,i),null):0===a?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Lr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Lr.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Lr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Lr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ot();const e=this.left.check();if(e!==this.right.check())throw ot();return e+(this.isRed()?0:1)}}Lr.EMPTY=null,Lr.RED=!0,Lr.BLACK=!1,Lr.EMPTY=new class{constructor(){this.size=0}get key(){throw ot()}get value(){throw ot()}get color(){throw ot()}get left(){throw ot()}get right(){throw ot()}copy(n,e,t,i,r){return this}insert(n,e,t){return new Lr(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class In{constructor(e){this.comparator=e,this.data=new wi(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let i;for(i=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new DP(this.data.getIterator())}getIteratorFrom(e){return new DP(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof In)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const r=t.getNext().key,a=i.getNext().key;if(0!==this.comparator(r,a))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new In(this.comparator);return t.data=e,t}}class DP{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function a_(n){return n.hasNext()?n.getNext():void 0}class Po{constructor(e){this.fields=e,e.sort(bi.comparator)}static empty(){return new Po([])}unionWith(e){let t=new In(bi.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Po(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return o_(this.fields,e.fields,(t,i)=>t.isEqual(i))}}class sr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new sr(t)}static fromUint8Array(e){const t=function(i){let r="";for(let a=0;a<i.length;++a)r+=String.fromCharCode(i[a]);return r}(e);return new sr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let i=0;i<e.length;i++)t[i]=e.charCodeAt(i);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Vt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}sr.EMPTY_BYTE_STRING=new sr("");const PB=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Sh(n){if(kt(!!n),"string"==typeof n){let e=0;const t=PB.exec(n);if(kt(!!t),t[1]){let r=t[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Ci(n.seconds),nanos:Ci(n.nanos)}}function Ci(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function bp(n){return"string"==typeof n?sr.fromBase64String(n):sr.fromUint8Array(n)}function Gx(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function TP(n){const e=n.mapValue.fields.__previous_value__;return Gx(e)?TP(e):e}function pb(n){const e=Sh(n.mapValue.fields.__local_write_time__.timestampValue);return new si(e.seconds,e.nanos)}class NB{constructor(e,t,i,r,a,u,f,_){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=r,this.ssl=a,this.forceLongPolling=u,this.autoDetectLongPolling=f,this.useFetchStreams=_}}class xh{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new xh("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof xh&&e.projectId===this.projectId&&e.database===this.database}}function mb(n){return null==n}function gb(n){return 0===n&&1/n==-1/0}function SP(n){return"number"==typeof n&&Number.isInteger(n)&&!gb(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const Ah={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},CE={nullValue:"NULL_VALUE"};function wp(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Gx(n)?4:kP(n)?9007199254740991:10:ot()}function bc(n,e){if(n===e)return!0;const t=wp(n);if(t!==wp(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return pb(n).isEqual(pb(e));case 3:return function(i,r){if("string"==typeof i.timestampValue&&"string"==typeof r.timestampValue&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const a=Sh(i.timestampValue),u=Sh(r.timestampValue);return a.seconds===u.seconds&&a.nanos===u.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return r=e,bp(n.bytesValue).isEqual(bp(r.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,r){return Ci(i.geoPointValue.latitude)===Ci(r.geoPointValue.latitude)&&Ci(i.geoPointValue.longitude)===Ci(r.geoPointValue.longitude)}(n,e);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return Ci(i.integerValue)===Ci(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const a=Ci(i.doubleValue),u=Ci(r.doubleValue);return a===u?gb(a)===gb(u):isNaN(a)&&isNaN(u)}return!1}(n,e);case 9:return o_(n.arrayValue.values||[],e.arrayValue.values||[],bc);case 10:return function(i,r){const a=i.mapValue.fields||{},u=r.mapValue.fields||{};if(EP(a)!==EP(u))return!1;for(const f in a)if(a.hasOwnProperty(f)&&(void 0===u[f]||!bc(a[f],u[f])))return!1;return!0}(n,e);default:return ot()}var r}function _b(n,e){return void 0!==(n.values||[]).find(t=>bc(t,e))}function Mh(n,e){if(n===e)return 0;const t=wp(n),i=wp(e);if(t!==i)return Vt(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Vt(n.booleanValue,e.booleanValue);case 2:return function(r,a){const u=Ci(r.integerValue||r.doubleValue),f=Ci(a.integerValue||a.doubleValue);return u<f?-1:u>f?1:u===f?0:isNaN(u)?isNaN(f)?0:-1:1}(n,e);case 3:return xP(n.timestampValue,e.timestampValue);case 4:return xP(pb(n),pb(e));case 5:return Vt(n.stringValue,e.stringValue);case 6:return function(r,a){const u=bp(r),f=bp(a);return u.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(r,a){const u=r.split("/"),f=a.split("/");for(let _=0;_<u.length&&_<f.length;_++){const b=Vt(u[_],f[_]);if(0!==b)return b}return Vt(u.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(r,a){const u=Vt(Ci(r.latitude),Ci(a.latitude));return 0!==u?u:Vt(Ci(r.longitude),Ci(a.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(r,a){const u=r.values||[],f=a.values||[];for(let _=0;_<u.length&&_<f.length;++_){const b=Mh(u[_],f[_]);if(b)return b}return Vt(u.length,f.length)}(n.arrayValue,e.arrayValue);case 10:return function(r,a){if(r===Ah.mapValue&&a===Ah.mapValue)return 0;if(r===Ah.mapValue)return 1;if(a===Ah.mapValue)return-1;const u=r.fields||{},f=Object.keys(u),_=a.fields||{},b=Object.keys(_);f.sort(),b.sort();for(let I=0;I<f.length&&I<b.length;++I){const x=Vt(f[I],b[I]);if(0!==x)return x;const L=Mh(u[f[I]],_[b[I]]);if(0!==L)return L}return Vt(f.length,b.length)}(n.mapValue,e.mapValue);default:throw ot()}}function xP(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Vt(n,e);const t=Sh(n),i=Sh(e),r=Vt(t.seconds,i.seconds);return 0!==r?r:Vt(t.nanos,i.nanos)}function l_(n){return zx(n)}function zx(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const r=Sh(i);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?bp(n.bytesValue).toBase64():"referenceValue"in n?Ze.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(i){let r="[",a=!0;for(const u of i.values||[])a?a=!1:r+=",",r+=zx(u);return r+"]"}(n.arrayValue):"mapValue"in n?function(i){const r=Object.keys(i.fields||{}).sort();let a="{",u=!0;for(const f of r)u?u=!1:a+=",",a+=`${f}:${zx(i.fields[f])}`;return a+"}"}(n.mapValue):ot();var e}function Cp(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function qx(n){return!!n&&"integerValue"in n}function yb(n){return!!n&&"arrayValue"in n}function AP(n){return!!n&&"nullValue"in n}function MP(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function EE(n){return!!n&&"mapValue"in n}function vb(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return vp(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=vb(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=vb(n.arrayValue.values[t]);return e}return Object.assign({},n)}function kP(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function FB(n){return"nullValue"in n?CE:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Cp(xh.empty(),Ze.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:ot()}function LB(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Cp(xh.empty(),Ze.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?Ah:ot()}function RP(n,e){const t=Mh(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function OP(n,e){const t=Mh(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class Vr{constructor(e){this.value=e}static empty(){return new Vr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!EE(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=vb(t)}setAll(e){let t=bi.emptyPath(),i={},r=[];e.forEach((u,f)=>{if(!t.isImmediateParentOf(f)){const _=this.getFieldsMap(t);this.applyChanges(_,i,r),i={},r=[],t=f.popLast()}u?i[f.lastSegment()]=vb(u):r.push(f.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,i,r)}delete(e){const t=this.field(e.popLast());EE(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return bc(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=t.mapValue.fields[e.get(i)];EE(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,i){vp(t,(r,a)=>e[r]=a);for(const r of i)delete e[r]}clone(){return new Vr(vb(this.value))}}function PP(n){const e=[];return vp(n.fields,(t,i)=>{const r=new bi([t]);if(EE(i)){const a=PP(i.mapValue).fields;if(0===a.length)e.push(r);else for(const u of a)e.push(r.child(u))}else e.push(r)}),new Po(e)}class Bn{constructor(e,t,i,r,a,u){this.key=e,this.documentType=t,this.version=i,this.readTime=r,this.data=a,this.documentState=u}static newInvalidDocument(e){return new Bn(e,0,St.min(),St.min(),Vr.empty(),0)}static newFoundDocument(e,t,i){return new Bn(e,1,t,St.min(),i,0)}static newNoDocument(e,t){return new Bn(e,2,t,St.min(),Vr.empty(),0)}static newUnknownDocument(e,t){return new Bn(e,3,t,St.min(),Vr.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Vr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Vr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=St.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Bn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Bn(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class VB{constructor(e,t=null,i=[],r=[],a=null,u=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=r,this.limit=a,this.startAt=u,this.endAt=f,this.ht=null}}function NP(n,e=null,t=[],i=[],r=null,a=null,u=null){return new VB(n,e,t,i,r,a,u)}function Ep(n){const e=We(n);if(null===e.ht){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>{return(r=i).field.canonicalString()+r.op.toString()+l_(r.value);var r}).join(","),t+="|ob:",t+=e.orderBy.map(i=>{return(r=i).field.canonicalString()+r.dir;var r}).join(","),mb(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>l_(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>l_(i)).join(",")),e.ht=t}return e.ht}function bb(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<n.orderBy.length;r++)if(!ZB(n.orderBy[r],e.orderBy[r]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let r=0;r<n.filters.length;r++)if((t=n.filters[r]).op!==(i=e.filters[r]).op||!t.field.isEqual(i.field)||!bc(t.value,i.value))return!1;var t,i;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!UP(n.startAt,e.startAt)&&UP(n.endAt,e.endAt)}function IE(n){return Ze.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function DE(n,e){return n.filters.filter(t=>t instanceof Br&&t.field.isEqual(e))}function FP(n,e,t){let i=CE,r=!0;for(const a of DE(n,e)){let u=CE,f=!0;switch(a.op){case"<":case"<=":u=FB(a.value);break;case"==":case"in":case">=":u=a.value;break;case">":u=a.value,f=!1;break;case"!=":case"not-in":u=CE}RP({value:i,inclusive:r},{value:u,inclusive:f})<0&&(i=u,r=f)}if(null!==t)for(let a=0;a<n.orderBy.length;++a)if(n.orderBy[a].field.isEqual(e)){const u=t.position[a];RP({value:i,inclusive:r},{value:u,inclusive:t.inclusive})<0&&(i=u,r=t.inclusive);break}return{value:i,inclusive:r}}function LP(n,e,t){let i=Ah,r=!0;for(const a of DE(n,e)){let u=Ah,f=!0;switch(a.op){case">=":case">":u=LB(a.value),f=!1;break;case"==":case"in":case"<=":u=a.value;break;case"<":u=a.value,f=!1;break;case"!=":case"not-in":u=Ah}OP({value:i,inclusive:r},{value:u,inclusive:f})>0&&(i=u,r=f)}if(null!==t)for(let a=0;a<n.orderBy.length;++a)if(n.orderBy[a].field.isEqual(e)){const u=t.position[a];OP({value:i,inclusive:r},{value:u,inclusive:t.inclusive})>0&&(i=u,r=t.inclusive);break}return{value:i,inclusive:r}}class Br extends class{}{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?"in"===t||"not-in"===t?this.lt(e,t,i):new UB(e,t,i):"array-contains"===t?new $B(e,i):"in"===t?new GB(e,i):"not-in"===t?new zB(e,i):"array-contains-any"===t?new qB(e,i):new Br(e,t,i)}static lt(e,t,i){return"in"===t?new HB(e,i):new jB(e,i)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.ft(Mh(t,this.value)):null!==t&&wp(this.value)===wp(t)&&this.ft(Mh(t,this.value))}ft(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return ot()}}dt(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class UB extends Br{constructor(e,t,i){super(e,t,i),this.key=Ze.fromName(i.referenceValue)}matches(e){const t=Ze.comparator(e.key,this.key);return this.ft(t)}}class HB extends Br{constructor(e,t){super(e,"in",t),this.keys=VP(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class jB extends Br{constructor(e,t){super(e,"not-in",t),this.keys=VP(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function VP(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(i=>Ze.fromName(i.referenceValue))}class $B extends Br{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return yb(t)&&_b(t.arrayValue,this.value)}}class GB extends Br{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&_b(this.value.arrayValue,t)}}class zB extends Br{constructor(e,t){super(e,"not-in",t)}matches(e){if(_b(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!_b(this.value.arrayValue,t)}}class qB extends Br{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!yb(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>_b(this.value.arrayValue,i))}}class kh{constructor(e,t){this.position=e,this.inclusive=t}}class c_{constructor(e,t="asc"){this.field=e,this.dir=t}}function ZB(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function BP(n,e,t){let i=0;for(let r=0;r<n.position.length;r++){const a=e[r],u=n.position[r];if(i=a.field.isKeyField()?Ze.comparator(Ze.fromName(u.referenceValue),t.key):Mh(u,t.data.field(a.field)),"desc"===a.dir&&(i*=-1),0!==i)break}return i}function UP(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!bc(n.position[t],e.position[t]))return!1;return!0}class Hu{constructor(e,t=null,i=[],r=[],a=null,u="F",f=null,_=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=r,this.limit=a,this.limitType=u,this.startAt=f,this.endAt=_,this._t=null,this.wt=null}}function HP(n,e,t,i,r,a,u,f){return new Hu(n,e,t,i,r,a,u,f)}function u_(n){return new Hu(n)}function jP(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function Zx(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function Wx(n){for(const e of n.filters)if(e.dt())return e.field;return null}function Kx(n){return null!==n.collectionGroup}function d_(n){const e=We(n);if(null===e._t){e._t=[];const t=Wx(e),i=Zx(e);if(null!==t&&null===i)t.isKeyField()||e._t.push(new c_(t)),e._t.push(new c_(bi.keyField(),"asc"));else{let r=!1;for(const a of e.explicitOrderBy)e._t.push(a),a.field.isKeyField()&&(r=!0);if(!r){const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e._t.push(new c_(bi.keyField(),a))}}}return e._t}function eo(n){const e=We(n);if(!e.wt)if("F"===e.limitType)e.wt=NP(e.path,e.collectionGroup,d_(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const a of d_(e))t.push(new c_(a.field,"desc"===a.dir?"asc":"desc"));const i=e.endAt?new kh(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new kh(e.startAt.position,e.startAt.inclusive):null;e.wt=NP(e.path,e.collectionGroup,t,e.filters,e.limit,i,r)}return e.wt}function TE(n,e,t){return new Hu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function wb(n,e){return bb(eo(n),eo(e))&&n.limitType===e.limitType}function $P(n){return`${Ep(eo(n))}|lt:${n.limitType}`}function Yx(n){return`Query(target=${function BB(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(i=t).field.canonicalString()} ${i.op} ${l_(i.value)}`;var i}).join(", ")}]`),mb(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(i=t).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>l_(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>l_(t)).join(",")),`Target(${e})`}(eo(n))}; limitType=${n.limitType})`}function Qx(n,e){return e.isFoundDocument()&&function(t,i){const r=i.key.path;return null!==t.collectionGroup?i.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(r):Ze.isDocumentKey(t.path)?t.path.isEqual(r):t.path.isImmediateParentOf(r)}(n,e)&&function(t,i){for(const r of t.explicitOrderBy)if(!r.field.isKeyField()&&null===i.data.field(r.field))return!1;return!0}(n,e)&&function(t,i){for(const r of t.filters)if(!r.matches(i))return!1;return!0}(n,e)&&(i=e,!((t=n).startAt&&!function(r,a,u){const f=BP(r,a,u);return r.inclusive?f<=0:f<0}(t.startAt,d_(t),i)||t.endAt&&!function(r,a,u){const f=BP(r,a,u);return r.inclusive?f>=0:f>0}(t.endAt,d_(t),i)));var t,i}function GP(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function zP(n){return(e,t)=>{let i=!1;for(const r of d_(n)){const a=WB(r,e,t);if(0!==a)return a;i=i||r.field.isKeyField()}return 0}}function WB(n,e,t){const i=n.field.isKeyField()?Ze.comparator(e.key,t.key):function(r,a,u){const f=a.data.field(r),_=u.data.field(r);return null!==f&&null!==_?Mh(f,_):ot()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return ot()}}function qP(n,e){if(n.gt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:gb(e)?"-0":e}}function ZP(n){return{integerValue:""+n}}function WP(n,e){return SP(e)?ZP(e):qP(n,e)}class SE{constructor(){this._=void 0}}function KB(n,e,t){return n instanceof h_?function(i,r){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&(a.fields.__previous_value__=r),{mapValue:a}}(t,e):n instanceof Ip?YP(n,e):n instanceof Dp?QP(n,e):function(i,r){const a=KP(i,r),u=XP(a)+XP(i.yt);return qx(a)&&qx(i.yt)?ZP(u):qP(i.It,u)}(n,e)}function YB(n,e,t){return n instanceof Ip?YP(n,e):n instanceof Dp?QP(n,e):t}function KP(n,e){return n instanceof f_?qx(t=e)||(i=t)&&"doubleValue"in i?e:{integerValue:0}:null;var i,t}class h_ extends SE{}class Ip extends SE{constructor(e){super(),this.elements=e}}function YP(n,e){const t=JP(e);for(const i of n.elements)t.some(r=>bc(r,i))||t.push(i);return{arrayValue:{values:t}}}class Dp extends SE{constructor(e){super(),this.elements=e}}function QP(n,e){let t=JP(e);for(const i of n.elements)t=t.filter(r=>!bc(r,i));return{arrayValue:{values:t}}}class f_ extends SE{constructor(e,t){super(),this.It=e,this.yt=t}}function XP(n){return Ci(n.integerValue||n.doubleValue)}function JP(n){return yb(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Cb{constructor(e,t){this.field=e,this.transform=t}}class XB{constructor(e,t){this.version=e,this.transformResults=t}}class oi{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new oi}static exists(e){return new oi(void 0,e)}static updateTime(e){return new oi(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function xE(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class AE{}function e1(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new m_(n.key,oi.none()):new p_(n.key,n.data,oi.none());{const t=n.data,i=Vr.empty();let r=new In(bi.comparator);for(let a of e.fields)if(!r.has(a)){let u=t.field(a);null===u&&a.length>1&&(a=a.popLast(),u=t.field(a)),null===u?i.delete(a):i.set(a,u),r=r.add(a)}return new ju(n.key,i,new Po(r.toArray()),oi.none())}}function JB(n,e,t){n instanceof p_?function(i,r,a){const u=i.value.clone(),f=r1(i.fieldTransforms,r,a.transformResults);u.setAll(f),r.convertToFoundDocument(a.version,u).setHasCommittedMutations()}(n,e,t):n instanceof ju?function(i,r,a){if(!xE(i.precondition,r))return void r.convertToUnknownDocument(a.version);const u=r1(i.fieldTransforms,r,a.transformResults),f=r.data;f.setAll(n1(i)),f.setAll(u),r.convertToFoundDocument(a.version,f).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Eb(n,e,t,i){return n instanceof p_?function(r,a,u,f){if(!xE(r.precondition,a))return u;const _=r.value.clone(),b=s1(r.fieldTransforms,f,a);return _.setAll(b),a.convertToFoundDocument(a.version,_).setHasLocalMutations(),null}(n,e,t,i):n instanceof ju?function(r,a,u,f){if(!xE(r.precondition,a))return u;const _=s1(r.fieldTransforms,f,a),b=a.data;return b.setAll(n1(r)),b.setAll(_),a.convertToFoundDocument(a.version,b).setHasLocalMutations(),null===u?null:u.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(I=>I.field))}(n,e,t,i):(u=t,xE(n.precondition,a=e)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):u);var a,u}function e2(n,e){let t=null;for(const i of n.fieldTransforms){const r=e.data.field(i.field),a=KP(i.transform,r||null);null!=a&&(null===t&&(t=Vr.empty()),t.set(i.field,a))}return t||null}function t1(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===i||t&&i&&o_(t,i,(r,a)=>function QB(n,e){return n.field.isEqual(e.field)&&(i=e.transform,(t=n.transform)instanceof Ip&&i instanceof Ip||t instanceof Dp&&i instanceof Dp?o_(t.elements,i.elements,bc):t instanceof f_&&i instanceof f_?bc(t.yt,i.yt):t instanceof h_&&i instanceof h_);var t,i}(r,a))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,i}class p_ extends AE{constructor(e,t,i,r=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class ju extends AE{constructor(e,t,i,r,a=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=r,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function n1(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function r1(n,e,t){const i=new Map;kt(n.length===t.length);for(let r=0;r<t.length;r++){const a=n[r],u=a.transform,f=e.data.field(a.field);i.set(a.field,YB(u,f,t[r]))}return i}function s1(n,e,t){const i=new Map;for(const r of n){const a=r.transform,u=t.data.field(r.field);i.set(r.field,KB(a,u,e))}return i}class m_ extends AE{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Xx extends AE{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class t2{constructor(e){this.count=e}}var Ui,on;function o1(n){switch(n){default:return ot();case pe.CANCELLED:case pe.UNKNOWN:case pe.DEADLINE_EXCEEDED:case pe.RESOURCE_EXHAUSTED:case pe.INTERNAL:case pe.UNAVAILABLE:case pe.UNAUTHENTICATED:return!1;case pe.INVALID_ARGUMENT:case pe.NOT_FOUND:case pe.ALREADY_EXISTS:case pe.PERMISSION_DENIED:case pe.FAILED_PRECONDITION:case pe.ABORTED:case pe.OUT_OF_RANGE:case pe.UNIMPLEMENTED:case pe.DATA_LOSS:return!0}}function a1(n){if(void 0===n)return Si("GRPC error has no .code"),pe.UNKNOWN;switch(n){case Ui.OK:return pe.OK;case Ui.CANCELLED:return pe.CANCELLED;case Ui.UNKNOWN:return pe.UNKNOWN;case Ui.DEADLINE_EXCEEDED:return pe.DEADLINE_EXCEEDED;case Ui.RESOURCE_EXHAUSTED:return pe.RESOURCE_EXHAUSTED;case Ui.INTERNAL:return pe.INTERNAL;case Ui.UNAVAILABLE:return pe.UNAVAILABLE;case Ui.UNAUTHENTICATED:return pe.UNAUTHENTICATED;case Ui.INVALID_ARGUMENT:return pe.INVALID_ARGUMENT;case Ui.NOT_FOUND:return pe.NOT_FOUND;case Ui.ALREADY_EXISTS:return pe.ALREADY_EXISTS;case Ui.PERMISSION_DENIED:return pe.PERMISSION_DENIED;case Ui.FAILED_PRECONDITION:return pe.FAILED_PRECONDITION;case Ui.ABORTED:return pe.ABORTED;case Ui.OUT_OF_RANGE:return pe.OUT_OF_RANGE;case Ui.UNIMPLEMENTED:return pe.UNIMPLEMENTED;case Ui.DATA_LOSS:return pe.DATA_LOSS;default:return ot()}}(on=Ui||(Ui={}))[on.OK=0]="OK",on[on.CANCELLED=1]="CANCELLED",on[on.UNKNOWN=2]="UNKNOWN",on[on.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",on[on.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",on[on.NOT_FOUND=5]="NOT_FOUND",on[on.ALREADY_EXISTS=6]="ALREADY_EXISTS",on[on.PERMISSION_DENIED=7]="PERMISSION_DENIED",on[on.UNAUTHENTICATED=16]="UNAUTHENTICATED",on[on.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",on[on.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",on[on.ABORTED=10]="ABORTED",on[on.OUT_OF_RANGE=11]="OUT_OF_RANGE",on[on.UNIMPLEMENTED=12]="UNIMPLEMENTED",on[on.INTERNAL=13]="INTERNAL",on[on.UNAVAILABLE=14]="UNAVAILABLE",on[on.DATA_LOSS=15]="DATA_LOSS";class Rh{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0!==i)for(const[r,a]of i)if(this.equalsFn(r,e))return a}has(e){return void 0!==this.get(e)}set(e,t){const i=this.mapKeyFn(e),r=this.inner[i];if(void 0===r)return this.inner[i]=[[e,t]],void this.innerSize++;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return void(r[a]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return 1===i.length?delete this.inner[t]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){vp(this.inner,(t,i)=>{for(const[r,a]of i)e(r,a)})}isEmpty(){return IP(this.inner)}size(){return this.innerSize}}const n2=new wi(Ze.comparator);function to(){return n2}const l1=new wi(Ze.comparator);function Ib(...n){let e=l1;for(const t of n)e=e.insert(t.key,t);return e}function c1(n){let e=l1;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function wc(){return Db()}function u1(){return Db()}function Db(){return new Rh(n=>n.toString(),(n,e)=>n.isEqual(e))}const r2=new wi(Ze.comparator),s2=new In(Ze.comparator);function jt(...n){let e=s2;for(const t of n)e=e.add(t);return e}const o2=new In(Vt);function ME(){return o2}class Tb{constructor(e,t,i,r,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t){const i=new Map;return i.set(e,Sb.createSynthesizedTargetChangeForCurrentChange(e,t)),new Tb(St.min(),i,ME(),to(),jt())}}class Sb{constructor(e,t,i,r,a){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t){return new Sb(sr.EMPTY_BYTE_STRING,t,jt(),jt(),jt())}}class kE{constructor(e,t,i,r){this.Tt=e,this.removedTargetIds=t,this.key=i,this.Et=r}}class d1{constructor(e,t){this.targetId=e,this.At=t}}class h1{constructor(e,t,i=sr.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=r}}class f1{constructor(){this.Rt=0,this.bt=m1(),this.Pt=sr.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}get current(){return this.vt}get resumeToken(){return this.Pt}get St(){return 0!==this.Rt}get Dt(){return this.Vt}Ct(e){e.approximateByteSize()>0&&(this.Vt=!0,this.Pt=e)}xt(){let e=jt(),t=jt(),i=jt();return this.bt.forEach((r,a)=>{switch(a){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:i=i.add(r);break;default:ot()}}),new Sb(this.Pt,this.vt,e,t,i)}Nt(){this.Vt=!1,this.bt=m1()}kt(e,t){this.Vt=!0,this.bt=this.bt.insert(e,t)}Mt(e){this.Vt=!0,this.bt=this.bt.remove(e)}Ot(){this.Rt+=1}Ft(){this.Rt-=1}$t(){this.Vt=!0,this.vt=!0}}class a2{constructor(e){this.Bt=e,this.Lt=new Map,this.Ut=to(),this.qt=p1(),this.Kt=new In(Vt)}Gt(e){for(const t of e.Tt)e.Et&&e.Et.isFoundDocument()?this.Qt(t,e.Et):this.jt(t,e.key,e.Et);for(const t of e.removedTargetIds)this.jt(t,e.key,e.Et)}Wt(e){this.forEachTarget(e,t=>{const i=this.zt(t);switch(e.state){case 0:this.Ht(t)&&i.Ct(e.resumeToken);break;case 1:i.Ft(),i.St||i.Nt(),i.Ct(e.resumeToken);break;case 2:i.Ft(),i.St||this.removeTarget(t);break;case 3:this.Ht(t)&&(i.$t(),i.Ct(e.resumeToken));break;case 4:this.Ht(t)&&(this.Jt(t),i.Ct(e.resumeToken));break;default:ot()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Lt.forEach((i,r)=>{this.Ht(r)&&t(r)})}Yt(e){const t=e.targetId,i=e.At.count,r=this.Xt(t);if(r){const a=r.target;if(IE(a))if(0===i){const u=new Ze(a.path);this.jt(t,u,Bn.newNoDocument(u,St.min()))}else kt(1===i);else this.Zt(t)!==i&&(this.Jt(t),this.Kt=this.Kt.add(t))}}te(e){const t=new Map;this.Lt.forEach((a,u)=>{const f=this.Xt(u);if(f){if(a.current&&IE(f.target)){const _=new Ze(f.target.path);null!==this.Ut.get(_)||this.ee(u,_)||this.jt(u,_,Bn.newNoDocument(_,e))}a.Dt&&(t.set(u,a.xt()),a.Nt())}});let i=jt();this.qt.forEach((a,u)=>{let f=!0;u.forEachWhile(_=>{const b=this.Xt(_);return!b||2===b.purpose||(f=!1,!1)}),f&&(i=i.add(a))}),this.Ut.forEach((a,u)=>u.setReadTime(e));const r=new Tb(e,t,this.Kt,this.Ut,i);return this.Ut=to(),this.qt=p1(),this.Kt=new In(Vt),r}Qt(e,t){if(!this.Ht(e))return;const i=this.ee(e,t.key)?2:0;this.zt(e).kt(t.key,i),this.Ut=this.Ut.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ne(t.key).add(e))}jt(e,t,i){if(!this.Ht(e))return;const r=this.zt(e);this.ee(e,t)?r.kt(t,1):r.Mt(t),this.qt=this.qt.insert(t,this.ne(t).delete(e)),i&&(this.Ut=this.Ut.insert(t,i))}removeTarget(e){this.Lt.delete(e)}Zt(e){const t=this.zt(e).xt();return this.Bt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ot(e){this.zt(e).Ot()}zt(e){let t=this.Lt.get(e);return t||(t=new f1,this.Lt.set(e,t)),t}ne(e){let t=this.qt.get(e);return t||(t=new In(Vt),this.qt=this.qt.insert(e,t)),t}Ht(e){const t=null!==this.Xt(e);return t||Fe("WatchChangeAggregator","Detected inactive target",e),t}Xt(e){const t=this.Lt.get(e);return t&&t.St?null:this.Bt.se(e)}Jt(e){this.Lt.set(e,new f1),this.Bt.getRemoteKeysForTarget(e).forEach(t=>{this.jt(e,t,null)})}ee(e,t){return this.Bt.getRemoteKeysForTarget(e).has(t)}}function p1(){return new wi(Ze.comparator)}function m1(){return new wi(Ze.comparator)}const l2={asc:"ASCENDING",desc:"DESCENDING"},c2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class u2{constructor(e,t){this.databaseId=e,this.gt=t}}function xb(n,e){return n.gt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function g1(n,e){return n.gt?e.toBase64():e.toUint8Array()}function d2(n,e){return xb(n,e.toTimestamp())}function br(n){return kt(!!n),St.fromTimestamp(function(e){const t=Sh(e);return new si(t.seconds,t.nanos)}(n))}function Jx(n,e){return(t=n,new sn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function _1(n){const e=sn.fromString(n);return kt(T1(e)),e}function Ab(n,e){return Jx(n.databaseId,e.path)}function Cc(n,e){const t=_1(e);if(t.get(1)!==n.databaseId.projectId)throw new Re(pe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Re(pe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ze(v1(t))}function eA(n,e){return Jx(n.databaseId,e)}function y1(n){const e=_1(n);return 4===e.length?sn.emptyPath():v1(e)}function Mb(n){return new sn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function v1(n){return kt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function b1(n,e,t){return{name:Ab(n,e),fields:t.value.mapValue.fields}}function w1(n,e,t){const i=Cc(n,e.name),r=br(e.updateTime),a=new Vr({mapValue:{fields:e.fields}}),u=Bn.newFoundDocument(i,r,a);return t&&u.setHasCommittedMutations(),t?u.setHasCommittedMutations():u}function kb(n,e){let t;if(e instanceof p_)t={update:b1(n,e.key,e.value)};else if(e instanceof m_)t={delete:Ab(n,e.key)};else if(e instanceof ju)t={update:b1(n,e.key,e.data),updateMask:b2(e.fieldMask)};else{if(!(e instanceof Xx))return ot();t={verify:Ab(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(r,a){const u=a.transform;if(u instanceof h_)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof Ip)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof Dp)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof f_)return{fieldPath:a.field.canonicalString(),increment:u.yt};throw ot()}(0,i))),e.precondition.isNone||(t.currentDocument=void 0!==(r=e.precondition).updateTime?{updateTime:d2(n,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:ot()),t;var r}function tA(n,e){const t=e.currentDocument?void 0!==(r=e.currentDocument).updateTime?oi.updateTime(br(r.updateTime)):void 0!==r.exists?oi.exists(r.exists):oi.none():oi.none(),i=e.updateTransforms?e.updateTransforms.map(r=>function(a,u){let f=null;"setToServerValue"in u?(kt("REQUEST_TIME"===u.setToServerValue),f=new h_):"appendMissingElements"in u?f=new Ip(u.appendMissingElements.values||[]):"removeAllFromArray"in u?f=new Dp(u.removeAllFromArray.values||[]):"increment"in u?f=new f_(a,u.increment):ot();const _=bi.fromServerFormat(u.fieldPath);return new Cb(_,f)}(n,r)):[];var r;if(e.update){const r=Cc(n,e.update.name),a=new Vr({mapValue:{fields:e.update.fields}});if(e.updateMask){const u=new Po((e.updateMask.fieldPaths||[]).map(b=>bi.fromServerFormat(b)));return new ju(r,a,u,t,i)}return new p_(r,a,t,i)}if(e.delete){const r=Cc(n,e.delete);return new m_(r,t)}if(e.verify){const r=Cc(n,e.verify);return new Xx(r,t)}return ot()}function C1(n,e){return{documents:[eA(n,e.path)]}}function E1(n,e){const t={structuredQuery:{}},i=e.path;null!==e.collectionGroup?(t.parent=eA(n,i),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=eA(n,i.popLast()),t.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(_){if(0===_.length)return;const b=_.map(I=>function(x){if("=="===x.op){if(MP(x.value))return{unaryFilter:{field:g_(x.field),op:"IS_NAN"}};if(AP(x.value))return{unaryFilter:{field:g_(x.field),op:"IS_NULL"}}}else if("!="===x.op){if(MP(x.value))return{unaryFilter:{field:g_(x.field),op:"IS_NOT_NAN"}};if(AP(x.value))return{unaryFilter:{field:g_(x.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:g_(x.field),op:_2(x.op),value:x.value}}}(I));return 1===b.length?b[0]:{compositeFilter:{op:"AND",filters:b}}}(e.filters);r&&(t.structuredQuery.where=r);const a=function(_){if(0!==_.length)return _.map(b=>{return{field:g_((I=b).field),direction:g2(I.dir)};var I})}(e.orderBy);a&&(t.structuredQuery.orderBy=a);const u=(b=e.limit,n.gt||mb(b)?b:{value:b});var b,f,_;return null!==u&&(t.structuredQuery.limit=u),e.startAt&&(t.structuredQuery.startAt={before:(f=e.startAt).inclusive,values:f.position}),e.endAt&&(t.structuredQuery.endAt={before:!(_=e.endAt).inclusive,values:_.position}),t}function I1(n){let e=y1(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let r=null;if(i>0){kt(1===i);const I=t.from[0];I.allDescendants?r=I.collectionId:e=e.child(I.collectionId)}let a=[];t.where&&(a=D1(t.where));let u=[];t.orderBy&&(u=t.orderBy.map(I=>{return new c_(__((x=I).field),function(L){switch(L){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction));var x}));let f=null;t.limit&&(f=function(I){let x;return x="object"==typeof I?I.value:I,mb(x)?null:x}(t.limit));let _=null;var I;t.startAt&&(_=new kh((I=t.startAt).values||[],!!I.before));let b=null;return t.endAt&&(b=function(I){return new kh(I.values||[],!I.before)}(t.endAt)),HP(e,r,u,a,f,"F",_,b)}function D1(n){return n?void 0!==n.unaryFilter?[v2(n)]:void 0!==n.fieldFilter?[y2(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>D1(e)).reduce((e,t)=>e.concat(t)):ot():[]}function g2(n){return l2[n]}function _2(n){return c2[n]}function g_(n){return{fieldPath:n.canonicalString()}}function __(n){return bi.fromServerFormat(n.fieldPath)}function y2(n){return Br.create(__(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ot()}}(n.fieldFilter.op),n.fieldFilter.value)}function v2(n){switch(n.unaryFilter.op){case"IS_NAN":const e=__(n.unaryFilter.field);return Br.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=__(n.unaryFilter.field);return Br.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=__(n.unaryFilter.field);return Br.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const r=__(n.unaryFilter.field);return Br.create(r,"!=",{nullValue:"NULL_VALUE"});default:return ot()}}function b2(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function T1(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function xs(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=S1(e)),e=w2(n.get(t),e);return S1(e)}function w2(n,e){let t=e;const i=n.length;for(let r=0;r<i;r++){const a=n.charAt(r);switch(a){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=a}}return t}function S1(n){return n+"\x01\x01"}function Ec(n){const e=n.length;if(kt(e>=2),2===e)return kt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),sn.emptyPath();const t=e-2,i=[];let r="";for(let a=0;a<e;){const u=n.indexOf("\x01",a);switch((u<0||u>t)&&ot(),n.charAt(u+1)){case"\x01":const f=n.substring(a,u);let _;0===r.length?_=f:(r+=f,_=r,r=""),i.push(_);break;case"\x10":r+=n.substring(a,u),r+="\0";break;case"\x11":r+=n.substring(a,u+1);break;default:ot()}a=u+2}return new sn(i)}const x1=["userId","batchId"];function RE(n,e){return[n,xs(e)]}function A1(n,e,t){return[n,xs(e),t]}const C2={},E2=["prefixPath","collectionGroup","readTime","documentId"],I2=["prefixPath","collectionGroup","documentId"],D2=["collectionGroup","readTime","prefixPath","documentId"],T2=["canonicalId","targetId"],S2=["targetId","path"],x2=["path","targetId"],A2=["collectionId","parent"],M2=["indexId","uid"],k2=["uid","sequenceNumber"],R2=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],O2=["indexId","uid","orderedDocumentKey"],P2=["userId","collectionPath","documentId"],N2=["userId","collectionPath","largestBatchId"],F2=["userId","collectionGroup","largestBatchId"],M1=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],L2=[...M1,"documentOverlays"],k1=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],R1=k1,V2=[...R1,"indexConfiguration","indexState","indexEntries"];class nA extends wP{constructor(e,t){super(),this.ie=e,this.currentSequenceNumber=t}}function wr(n,e){const t=We(n);return vl.O(t.ie,e)}class iA{constructor(e,t,i,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const a=this.mutations[r];a.key.isEqual(e.key)&&JB(a,e,i[r])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=Eb(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=Eb(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=u1();return this.mutations.forEach(r=>{const a=e.get(r.key),u=a.overlayedDocument;let f=this.applyToLocalView(u,a.mutatedFields);f=t.has(r.key)?null:f;const _=e1(u,f);null!==_&&i.set(r.key,_),u.isValidDocument()||u.convertToNoDocument(St.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),jt())}isEqual(e){return this.batchId===e.batchId&&o_(this.mutations,e.mutations,(t,i)=>t1(t,i))&&o_(this.baseMutations,e.baseMutations,(t,i)=>t1(t,i))}}class rA{constructor(e,t,i,r){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=r}static from(e,t,i){kt(e.mutations.length===i.length);let r=r2;const a=e.mutations;for(let u=0;u<a.length;u++)r=r.insert(a[u].key,i[u].version);return new rA(e,t,i,r)}}class sA{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Oh{constructor(e,t,i,r,a=St.min(),u=St.min(),f=sr.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=f}withSequenceNumber(e){return new Oh(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Oh(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Oh(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class O1{constructor(e){this.re=e}}function P1(n,e){const t=e.key,i={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:OE(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())i.document={name:Ab(r=n.re,(a=e).key),fields:a.data.value.mapValue.fields,updateTime:xb(r,a.version.toTimestamp())};else if(e.isNoDocument())i.noDocument={path:t.path.toArray(),readTime:Tp(e.version)};else{if(!e.isUnknownDocument())return ot();i.unknownDocument={path:t.path.toArray(),version:Tp(e.version)}}var r,a;return i}function OE(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Tp(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Sp(n){const e=new si(n.seconds,n.nanoseconds);return St.fromTimestamp(e)}function xp(n,e){const t=(e.baseMutations||[]).map(a=>tA(n.re,a));for(let a=0;a<e.mutations.length-1;++a){const u=e.mutations[a];a+1<e.mutations.length&&void 0!==e.mutations[a+1].transform&&(u.updateTransforms=e.mutations[a+1].transform.fieldTransforms,e.mutations.splice(a+1,1),++a)}const i=e.mutations.map(a=>tA(n.re,a)),r=si.fromMillis(e.localWriteTimeMs);return new iA(e.batchId,r,t,i)}function Rb(n){const e=Sp(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?Sp(n.lastLimboFreeSnapshotVersion):St.min();let i;var r;return void 0!==n.query.documents?(kt(1===(r=n.query).documents.length),i=eo(u_(y1(r.documents[0])))):i=eo(I1(n.query)),new Oh(i,n.targetId,0,n.lastListenSequenceNumber,e,t,sr.fromBase64String(n.resumeToken))}function N1(n,e){const t=Tp(e.snapshotVersion),i=Tp(e.lastLimboFreeSnapshotVersion);let r;r=IE(e.target)?C1(n.re,e.target):E1(n.re,e.target);const a=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Ep(e.target),readTime:t,resumeToken:a,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function oA(n){const e=I1({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?TE(e,e.limit,"L"):e}function aA(n,e){return new sA(e.largestBatchId,tA(n.re,e.overlayMutation))}function F1(n,e){const t=e.path.lastSegment();return[n,xs(e.path.popLast()),t]}function L1(n,e,t,i){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:Tp(i.readTime),documentKey:xs(i.documentKey.path),largestBatchId:i.largestBatchId}}class U2{getBundleMetadata(e,t){return V1(e).get(t).next(i=>{if(i)return{id:(r=i).bundleId,createTime:Sp(r.createTime),version:r.version};var r})}saveBundleMetadata(e,t){return V1(e).put({bundleId:(i=t).id,createTime:Tp(br(i.createTime)),version:i.version});var i}getNamedQuery(e,t){return B1(e).get(t).next(i=>{if(i)return{name:(r=i).name,query:oA(r.bundledQuery),readTime:Sp(r.readTime)};var r})}saveNamedQuery(e,t){return B1(e).put({name:(i=t).name,readTime:Tp(br(i.readTime)),bundledQuery:i.bundledQuery});var i}}function V1(n){return wr(n,"bundles")}function B1(n){return wr(n,"namedQueries")}class PE{constructor(e,t){this.It=e,this.userId=t}static oe(e,t){return new PE(e,t.uid||"")}getOverlay(e,t){return Ob(e).get(F1(this.userId,t)).next(i=>i?aA(this.It,i):null)}getOverlays(e,t){const i=wc();return ue.forEach(t,r=>this.getOverlay(e,r).next(a=>{null!==a&&i.set(r,a)})).next(()=>i)}saveOverlays(e,t,i){const r=[];return i.forEach((a,u)=>{const f=new sA(t,u);r.push(this.ue(e,f))}),ue.waitFor(r)}removeOverlaysForBatchId(e,t,i){const r=new Set;t.forEach(u=>r.add(xs(u.getCollectionPath())));const a=[];return r.forEach(u=>{const f=IDBKeyRange.bound([this.userId,u,i],[this.userId,u,i+1],!1,!0);a.push(Ob(e).Y("collectionPathOverlayIndex",f))}),ue.waitFor(a)}getOverlaysForCollection(e,t,i){const r=wc(),a=xs(t),u=IDBKeyRange.bound([this.userId,a,i],[this.userId,a,Number.POSITIVE_INFINITY],!0);return Ob(e).W("collectionPathOverlayIndex",u).next(f=>{for(const _ of f){const b=aA(this.It,_);r.set(b.getKey(),b)}return r})}getOverlaysForCollectionGroup(e,t,i,r){const a=wc();let u;const f=IDBKeyRange.bound([this.userId,t,i],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Ob(e).Z({index:"collectionGroupOverlayIndex",range:f},(_,b,I)=>{const x=aA(this.It,b);a.size()<r||x.largestBatchId===u?(a.set(x.getKey(),x),u=x.largestBatchId):I.done()}).next(()=>a)}ue(e,t){return Ob(e).put(function(i,r,a){const[u,f,_]=F1(r,a.mutation.key);return{userId:r,collectionPath:f,documentId:_,collectionGroup:a.mutation.key.getCollectionGroup(),largestBatchId:a.largestBatchId,overlayMutation:kb(i.re,a.mutation)}}(this.It,this.userId,t))}}function Ob(n){return wr(n,"documentOverlays")}class Ap{constructor(){}ce(e,t){this.ae(e,t),t.he()}ae(e,t){if("nullValue"in e)this.le(t,5);else if("booleanValue"in e)this.le(t,10),t.fe(e.booleanValue?1:0);else if("integerValue"in e)this.le(t,15),t.fe(Ci(e.integerValue));else if("doubleValue"in e){const i=Ci(e.doubleValue);isNaN(i)?this.le(t,13):(this.le(t,15),gb(i)?t.fe(0):t.fe(i))}else if("timestampValue"in e){const i=e.timestampValue;this.le(t,20),"string"==typeof i?t.de(i):(t.de(`${i.seconds||""}`),t.fe(i.nanos||0))}else if("stringValue"in e)this._e(e.stringValue,t),this.we(t);else if("bytesValue"in e)this.le(t,30),t.me(bp(e.bytesValue)),this.we(t);else if("referenceValue"in e)this.ge(e.referenceValue,t);else if("geoPointValue"in e){const i=e.geoPointValue;this.le(t,45),t.fe(i.latitude||0),t.fe(i.longitude||0)}else"mapValue"in e?kP(e)?this.le(t,Number.MAX_SAFE_INTEGER):(this.ye(e.mapValue,t),this.we(t)):"arrayValue"in e?(this.pe(e.arrayValue,t),this.we(t)):ot()}_e(e,t){this.le(t,25),this.Ie(e,t)}Ie(e,t){t.de(e)}ye(e,t){const i=e.fields||{};this.le(t,55);for(const r of Object.keys(i))this._e(r,t),this.ae(i[r],t)}pe(e,t){const i=e.values||[];this.le(t,50);for(const r of i)this.ae(r,t)}ge(e,t){this.le(t,37),Ze.fromName(e).path.forEach(i=>{this.le(t,60),this.Ie(i,t)})}le(e,t){e.fe(t)}we(e){e.fe(2)}}function H2(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function U1(n){const e=64-function(t){let i=0;for(let r=0;r<8;++r){const a=H2(255&t[r]);if(i+=a,8!==a)break}return i}(n);return Math.ceil(e/8)}Ap.Te=new Ap;class j2{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ee(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.Ae(i.value),i=t.next();this.Re()}be(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.Pe(i.value),i=t.next();this.ve()}Ve(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.Ae(i);else if(i<2048)this.Ae(960|i>>>6),this.Ae(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.Ae(480|i>>>12),this.Ae(128|63&i>>>6),this.Ae(128|63&i);else{const r=t.codePointAt(0);this.Ae(240|r>>>18),this.Ae(128|63&r>>>12),this.Ae(128|63&r>>>6),this.Ae(128|63&r)}}this.Re()}Se(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.Pe(i);else if(i<2048)this.Pe(960|i>>>6),this.Pe(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.Pe(480|i>>>12),this.Pe(128|63&i>>>6),this.Pe(128|63&i);else{const r=t.codePointAt(0);this.Pe(240|r>>>18),this.Pe(128|63&r>>>12),this.Pe(128|63&r>>>6),this.Pe(128|63&r)}}this.ve()}De(e){const t=this.Ce(e),i=U1(t);this.xe(1+i),this.buffer[this.position++]=255&i;for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=255&t[r]}Ne(e){const t=this.Ce(e),i=U1(t);this.xe(1+i),this.buffer[this.position++]=~(255&i);for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}ke(){this.Me(255),this.Me(255)}Oe(){this.Fe(255),this.Fe(255)}reset(){this.position=0}seed(e){this.xe(e.length),this.buffer.set(e,this.position),this.position+=e.length}$e(){return this.buffer.slice(0,this.position)}Ce(e){const t=function(r){const a=new DataView(new ArrayBuffer(8));return a.setFloat64(0,r,!1),new Uint8Array(a.buffer)}(e),i=0!=(128&t[0]);t[0]^=i?255:128;for(let r=1;r<t.length;++r)t[r]^=i?255:0;return t}Ae(e){const t=255&e;0===t?(this.Me(0),this.Me(255)):255===t?(this.Me(255),this.Me(0)):this.Me(t)}Pe(e){const t=255&e;0===t?(this.Fe(0),this.Fe(255)):255===t?(this.Fe(255),this.Fe(0)):this.Fe(e)}Re(){this.Me(0),this.Me(1)}ve(){this.Fe(0),this.Fe(1)}Me(e){this.xe(1),this.buffer[this.position++]=e}Fe(e){this.xe(1),this.buffer[this.position++]=~e}xe(e){const t=e+this.position;if(t<=this.buffer.length)return;let i=2*this.buffer.length;i<t&&(i=t);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class $2{constructor(e){this.Be=e}me(e){this.Be.Ee(e)}de(e){this.Be.Ve(e)}fe(e){this.Be.De(e)}he(){this.Be.ke()}}class G2{constructor(e){this.Be=e}me(e){this.Be.be(e)}de(e){this.Be.Se(e)}fe(e){this.Be.Ne(e)}he(){this.Be.Oe()}}class Pb{constructor(){this.Be=new j2,this.Le=new $2(this.Be),this.Ue=new G2(this.Be)}seed(e){this.Be.seed(e)}qe(e){return 0===e?this.Le:this.Ue}$e(){return this.Be.$e()}reset(){this.Be.reset()}}class Mp{constructor(e,t,i,r){this.indexId=e,this.documentKey=t,this.arrayValue=i,this.directionalValue=r}Ke(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,i=new Uint8Array(t);return i.set(this.directionalValue,0),t!==e?i.set([0],this.directionalValue.length):++i[i.length-1],new Mp(this.indexId,this.documentKey,this.arrayValue,i)}}function kp(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=H1(n.arrayValue,e.arrayValue),0!==t?t:(t=H1(n.directionalValue,e.directionalValue),0!==t?t:Ze.comparator(n.documentKey,e.documentKey)))}function H1(n,e){for(let t=0;t<n.length&&t<e.length;++t){const i=n[t]-e[t];if(0!==i)return i}return n.length-e.length}class z2{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ge=e.orderBy,this.Qe=[];for(const t of e.filters){const i=t;i.dt()?this.je=i:this.Qe.push(i)}}We(e){const t=Ux(e);if(void 0!==t&&!this.ze(t))return!1;const i=_p(e);let r=0,a=0;for(;r<i.length&&this.ze(i[r]);++r);if(r===i.length)return!0;if(void 0!==this.je){const u=i[r];if(!this.He(this.je,u)||!this.Je(this.Ge[a++],u))return!1;++r}for(;r<i.length;++r){const u=i[r];if(a>=this.Ge.length||!this.Je(this.Ge[a++],u))return!1}return!0}ze(e){for(const t of this.Qe)if(this.He(t,e))return!0;return!1}He(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Je(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class q2{constructor(){this.Ye=new lA}addToCollectionParentIndex(e,t){return this.Ye.add(t),ue.resolve()}getCollectionParents(e,t){return ue.resolve(this.Ye.getEntries(t))}addFieldIndex(e,t){return ue.resolve()}deleteFieldIndex(e,t){return ue.resolve()}getDocumentsMatchingTarget(e,t){return ue.resolve(null)}getIndexType(e,t){return ue.resolve(0)}getFieldIndexes(e,t){return ue.resolve([])}getNextCollectionGroupToUpdate(e){return ue.resolve(null)}getMinOffset(e,t){return ue.resolve(Oo.min())}getMinOffsetFromCollectionGroup(e,t){return ue.resolve(Oo.min())}updateCollectionGroup(e,t,i){return ue.resolve()}updateIndexEntries(e,t){return ue.resolve()}}class lA{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t]||new In(sn.comparator),a=!r.has(i);return this.index[t]=r.add(i),a}has(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t];return r&&r.has(i)}getEntries(e){return(this.index[e]||new In(sn.comparator)).toArray()}}const NE=new Uint8Array(0);class Z2{constructor(e,t){this.user=e,this.databaseId=t,this.Xe=new lA,this.Ze=new Rh(i=>Ep(i),(i,r)=>bb(i,r)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Xe.has(t)){const i=t.lastSegment(),r=t.popLast();e.addOnCommittedListener(()=>{this.Xe.add(t)});const a={collectionId:i,parent:xs(r)};return j1(e).put(a)}return ue.resolve()}getCollectionParents(e,t){const i=[],r=IDBKeyRange.bound([t,""],[_P(t),""],!1,!0);return j1(e).W(r).next(a=>{for(const u of a){if(u.collectionId!==t)break;i.push(Ec(u.parent))}return i})}addFieldIndex(e,t){const i=FE(e),r={indexId:(u=t).indexId,collectionGroup:u.collectionGroup,fields:u.fields.map(f=>[f.fieldPath.canonicalString(),f.kind])};var u;delete r.indexId;const a=i.add(r);if(t.indexState){const u=Fb(e);return a.next(f=>{u.put(L1(f,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return a.next()}deleteFieldIndex(e,t){const i=FE(e),r=Fb(e),a=Nb(e);return i.delete(t.indexId).next(()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>a.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const i=Nb(e);let r=!0;const a=new Map;return ue.forEach(this.tn(t),u=>this.en(e,u).next(f=>{r&&(r=!!f),a.set(u,f)})).next(()=>{if(r){let u=jt();const f=[];return ue.forEach(a,(_,b)=>{var I;Fe("IndexedDbIndexManager",`Using index ${I=_,`id=${I.indexId}|cg=${I.collectionGroup}|f=${I.fields.map(pt=>`${pt.fieldPath}:${pt.kind}`).join(",")}`} to execute ${Ep(t)}`);const x=function(pt,rt){const Tt=Ux(rt);if(void 0===Tt)return null;for(const At of DE(pt,Tt.fieldPath))switch(At.op){case"array-contains-any":return At.value.arrayValue.values||[];case"array-contains":return[At.value]}return null}(b,_),L=function(pt,rt){const Tt=new Map;for(const At of _p(rt))for(const nn of DE(pt,At.fieldPath))switch(nn.op){case"==":case"in":Tt.set(At.fieldPath.canonicalString(),nn.value);break;case"not-in":case"!=":return Tt.set(At.fieldPath.canonicalString(),nn.value),Array.from(Tt.values())}return null}(b,_),B=function(pt,rt){const Tt=[];let At=!0;for(const nn of _p(rt)){const Rs=0===nn.kind?FP(pt,nn.fieldPath,pt.startAt):LP(pt,nn.fieldPath,pt.startAt);Tt.push(Rs.value),At&&(At=Rs.inclusive)}return new kh(Tt,At)}(b,_),U=function(pt,rt){const Tt=[];let At=!0;for(const nn of _p(rt)){const Rs=0===nn.kind?LP(pt,nn.fieldPath,pt.endAt):FP(pt,nn.fieldPath,pt.endAt);Tt.push(Rs.value),At&&(At=Rs.inclusive)}return new kh(Tt,At)}(b,_),ee=this.nn(_,b,B),_e=this.nn(_,b,U),Le=this.sn(_,b,L),Qe=this.rn(_.indexId,x,ee,B.inclusive,_e,U.inclusive,Le);return ue.forEach(Qe,pt=>i.J(pt,t.limit).next(rt=>{rt.forEach(Tt=>{const At=Ze.fromSegments(Tt.documentKey);u.has(At)||(u=u.add(At),f.push(At))})}))}).next(()=>f)}return ue.resolve(null)})}tn(e){let t=this.Ze.get(e);return t||(t=[e],this.Ze.set(e,t),t)}rn(e,t,i,r,a,u,f){const _=(null!=t?t.length:1)*Math.max(i.length,a.length),b=_/(null!=t?t.length:1),I=[];for(let x=0;x<_;++x){const L=t?this.on(t[x/b]):NE,B=this.un(e,L,i[x%b],r),U=this.cn(e,L,a[x%b],u),ee=f.map(_e=>this.un(e,L,_e,!0));I.push(...this.createRange(B,U,ee))}return I}un(e,t,i,r){const a=new Mp(e,Ze.empty(),t,i);return r?a:a.Ke()}cn(e,t,i,r){const a=new Mp(e,Ze.empty(),t,i);return r?a.Ke():a}en(e,t){const i=new z2(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next(a=>{let u=null;for(const f of a)i.We(f)&&(!u||f.fields.length>u.fields.length)&&(u=f);return u})}getIndexType(e,t){let i=2;return ue.forEach(this.tn(t),r=>this.en(e,r).next(a=>{a?0!==i&&a.fields.length<function(u){let f=new In(bi.comparator),_=!1;for(const b of u.filters){const I=b;I.field.isKeyField()||("array-contains"===I.op||"array-contains-any"===I.op?_=!0:f=f.add(I.field))}for(const b of u.orderBy)b.field.isKeyField()||(f=f.add(b.field));return f.size+(_?1:0)}(r)&&(i=1):i=0})).next(()=>i)}an(e,t){const i=new Pb;for(const r of _p(e)){const a=t.data.field(r.fieldPath);if(null==a)return null;const u=i.qe(r.kind);Ap.Te.ce(a,u)}return i.$e()}on(e){const t=new Pb;return Ap.Te.ce(e,t.qe(0)),t.$e()}hn(e,t){const i=new Pb;return Ap.Te.ce(Cp(this.databaseId,t),i.qe(function(r){const a=_p(r);return 0===a.length?0:a[a.length-1].kind}(e))),i.$e()}sn(e,t,i){if(null===i)return[];let r=[];r.push(new Pb);let a=0;for(const u of _p(e)){const f=i[a++];for(const _ of r)if(this.ln(t,u.fieldPath)&&yb(f))r=this.fn(r,u,f);else{const b=_.qe(u.kind);Ap.Te.ce(f,b)}}return this.dn(r)}nn(e,t,i){return this.sn(e,t,i.position)}dn(e){const t=[];for(let i=0;i<e.length;++i)t[i]=e[i].$e();return t}fn(e,t,i){const r=[...e],a=[];for(const u of i.arrayValue.values||[])for(const f of r){const _=new Pb;_.seed(f.$e()),Ap.Te.ce(u,_.qe(t.kind)),a.push(_)}return a}ln(e,t){return!!e.filters.find(i=>i instanceof Br&&i.field.isEqual(t)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(e,t){const i=FE(e),r=Fb(e);return(t?i.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):i.W()).next(a=>{const u=[];return ue.forEach(a,f=>r.get([f.indexId,this.uid]).next(_=>{u.push(function(b,I){const x=I?new hb(I.sequenceNumber,new Oo(Sp(I.readTime),new Ze(Ec(I.documentKey)),I.largestBatchId)):hb.empty(),L=b.fields.map(([B,U])=>new vE(bi.fromServerFormat(B),U));return new yE(b.indexId,b.collectionGroup,L,x)}(f,_))})).next(()=>u)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((i,r)=>{const a=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==a?a:Vt(i.collectionGroup,r.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,i){const r=FE(e),a=Fb(e);return this._n(e).next(u=>r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(f=>ue.forEach(f,_=>a.put(L1(_.indexId,this.user,u,i)))))}updateIndexEntries(e,t){const i=new Map;return ue.forEach(t,(r,a)=>{const u=i.get(r.collectionGroup);return(u?ue.resolve(u):this.getFieldIndexes(e,r.collectionGroup)).next(f=>(i.set(r.collectionGroup,f),ue.forEach(f,_=>this.wn(e,r,_).next(b=>{const I=this.mn(a,_);return b.isEqual(I)?ue.resolve():this.gn(e,a,_,b,I)}))))})}yn(e,t,i,r){return Nb(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.hn(i,t.key),documentKey:t.key.path.toArray()})}pn(e,t,i,r){return Nb(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.hn(i,t.key),t.key.path.toArray()])}wn(e,t,i){const r=Nb(e);let a=new In(kp);return r.Z({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.hn(i,t)])},(u,f)=>{a=a.add(new Mp(i.indexId,t,f.arrayValue,f.directionalValue))}).next(()=>a)}mn(e,t){let i=new In(kp);const r=this.an(t,e);if(null==r)return i;const a=Ux(t);if(null!=a){const u=e.data.field(a.fieldPath);if(yb(u))for(const f of u.arrayValue.values||[])i=i.add(new Mp(t.indexId,e.key,this.on(f),r))}else i=i.add(new Mp(t.indexId,e.key,NE,r));return i}gn(e,t,i,r,a){Fe("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const u=[];return function(f,_,b,I,x){const L=f.getIterator(),B=_.getIterator();let U=a_(L),ee=a_(B);for(;U||ee;){let _e=!1,Le=!1;if(U&&ee){const Qe=b(U,ee);Qe<0?Le=!0:Qe>0&&(_e=!0)}else null!=U?Le=!0:_e=!0;_e?(I(ee),ee=a_(B)):Le?(x(U),U=a_(L)):(U=a_(L),ee=a_(B))}}(r,a,kp,f=>{u.push(this.yn(e,t,i,f))},f=>{u.push(this.pn(e,t,i,f))}),ue.waitFor(u)}_n(e){let t=1;return Fb(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,a)=>{a.done(),t=r.sequenceNumber+1}).next(()=>t)}createRange(e,t,i){i=i.sort((u,f)=>kp(u,f)).filter((u,f,_)=>!f||0!==kp(u,_[f-1]));const r=[];r.push(e);for(const u of i){const f=kp(u,e),_=kp(u,t);if(0===f)r[0]=e.Ke();else if(f>0&&_<0)r.push(u),r.push(u.Ke());else if(_>0)break}r.push(t);const a=[];for(let u=0;u<r.length;u+=2)a.push(IDBKeyRange.bound([r[u].indexId,this.uid,r[u].arrayValue,r[u].directionalValue,NE,[]],[r[u+1].indexId,this.uid,r[u+1].arrayValue,r[u+1].directionalValue,NE,[]]));return a}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next($1)}getMinOffset(e,t){return ue.mapArray(this.tn(t),i=>this.en(e,i).next(r=>r||ot())).next($1)}}function j1(n){return wr(n,"collectionParents")}function Nb(n){return wr(n,"indexEntries")}function FE(n){return wr(n,"indexConfiguration")}function Fb(n){return wr(n,"indexState")}function $1(n){kt(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let i=1;i<n.length;i++){const r=n[i].indexState.offset;Hx(r,e)<0&&(e=r),t<r.largestBatchId&&(t=r.largestBatchId)}return new Oo(e.readTime,e.documentKey,t)}const G1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class no{constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new no(e,no.DEFAULT_COLLECTION_PERCENTILE,no.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function z1(n,e,t){const i=n.store("mutations"),r=n.store("documentMutations"),a=[],u=IDBKeyRange.only(t.batchId);let f=0;const _=i.Z({range:u},(I,x,L)=>(f++,L.delete()));a.push(_.next(()=>{kt(1===f)}));const b=[];for(const I of t.mutations){const x=A1(e,I.key.path,t.batchId);a.push(r.delete(x)),b.push(I.key)}return ue.waitFor(a).next(()=>b)}function LE(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw ot();e=n.noDocument}return JSON.stringify(e).length}no.DEFAULT_COLLECTION_PERCENTILE=10,no.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,no.DEFAULT=new no(41943040,no.DEFAULT_COLLECTION_PERCENTILE,no.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),no.DISABLED=new no(-1,0,0);class VE{constructor(e,t,i,r){this.userId=e,this.It=t,this.indexManager=i,this.referenceDelegate=r,this.In={}}static oe(e,t,i,r){kt(""!==e.uid);const a=e.isAuthenticated()?e.uid:"";return new VE(a,t,i,r)}checkEmpty(e){let t=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ph(e).Z({index:"userMutationsIndex",range:i},(r,a,u)=>{t=!1,u.done()}).next(()=>t)}addMutationBatch(e,t,i,r){const a=y_(e),u=Ph(e);return u.add({}).next(f=>{kt("number"==typeof f);const _=new iA(f,t,i,r),b=function(L,B,U){const ee=U.baseMutations.map(Le=>kb(L.re,Le)),_e=U.mutations.map(Le=>kb(L.re,Le));return{userId:B,batchId:U.batchId,localWriteTimeMs:U.localWriteTime.toMillis(),baseMutations:ee,mutations:_e}}(this.It,this.userId,_),I=[];let x=new In((L,B)=>Vt(L.canonicalString(),B.canonicalString()));for(const L of r){const B=A1(this.userId,L.key.path,f);x=x.add(L.key.path.popLast()),I.push(u.put(b)),I.push(a.put(B,C2))}return x.forEach(L=>{I.push(this.indexManager.addToCollectionParentIndex(e,L))}),e.addOnCommittedListener(()=>{this.In[f]=_.keys()}),ue.waitFor(I).next(()=>_)})}lookupMutationBatch(e,t){return Ph(e).get(t).next(i=>i?(kt(i.userId===this.userId),xp(this.It,i)):null)}Tn(e,t){return this.In[t]?ue.resolve(this.In[t]):this.lookupMutationBatch(e,t).next(i=>{if(i){const r=i.keys();return this.In[t]=r,r}return null})}getNextMutationBatchAfterBatchId(e,t){const i=t+1,r=IDBKeyRange.lowerBound([this.userId,i]);let a=null;return Ph(e).Z({index:"userMutationsIndex",range:r},(u,f,_)=>{f.userId===this.userId&&(kt(f.batchId>=i),a=xp(this.It,f)),_.done()}).next(()=>a)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return Ph(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(r,a,u)=>{i=a.batchId,u.done()}).next(()=>i)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Ph(e).W("userMutationsIndex",t).next(i=>i.map(r=>xp(this.It,r)))}getAllMutationBatchesAffectingDocumentKey(e,t){const i=RE(this.userId,t.path),r=IDBKeyRange.lowerBound(i),a=[];return y_(e).Z({range:r},(u,f,_)=>{const[b,I,x]=u,L=Ec(I);if(b===this.userId&&t.path.isEqual(L))return Ph(e).get(x).next(B=>{if(!B)throw ot();kt(B.userId===this.userId),a.push(xp(this.It,B))});_.done()}).next(()=>a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new In(Vt);const r=[];return t.forEach(a=>{const u=RE(this.userId,a.path),f=IDBKeyRange.lowerBound(u),_=y_(e).Z({range:f},(b,I,x)=>{const[L,B,U]=b,ee=Ec(B);L===this.userId&&a.path.isEqual(ee)?i=i.add(U):x.done()});r.push(_)}),ue.waitFor(r).next(()=>this.En(e,i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1,a=RE(this.userId,i),u=IDBKeyRange.lowerBound(a);let f=new In(Vt);return y_(e).Z({range:u},(_,b,I)=>{const[x,L,B]=_,U=Ec(L);x===this.userId&&i.isPrefixOf(U)?U.length===r&&(f=f.add(B)):I.done()}).next(()=>this.En(e,f))}En(e,t){const i=[],r=[];return t.forEach(a=>{r.push(Ph(e).get(a).next(u=>{if(null===u)throw ot();kt(u.userId===this.userId),i.push(xp(this.It,u))}))}),ue.waitFor(r).next(()=>i)}removeMutationBatch(e,t){return z1(e.ie,this.userId,t).next(i=>(e.addOnCommittedListener(()=>{this.An(t.batchId)}),ue.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(e,r))))}An(e){delete this.In[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return ue.resolve();const i=IDBKeyRange.lowerBound([this.userId]),r=[];return y_(e).Z({range:i},(a,u,f)=>{if(a[0]===this.userId){const _=Ec(a[1]);r.push(_)}else f.done()}).next(()=>{kt(0===r.length)})})}containsKey(e,t){return q1(e,this.userId,t)}Rn(e){return Z1(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function q1(n,e,t){const i=RE(e,t.path),r=i[1],a=IDBKeyRange.lowerBound(i);let u=!1;return y_(n).Z({range:a,X:!0},(f,_,b)=>{const[I,x,L]=f;I===e&&x===r&&(u=!0),b.done()}).next(()=>u)}function Ph(n){return wr(n,"mutations")}function y_(n){return wr(n,"documentMutations")}function Z1(n){return wr(n,"mutationQueues")}class Rp{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new Rp(0)}static vn(){return new Rp(-1)}}class W2{constructor(e,t){this.referenceDelegate=e,this.It=t}allocateTargetId(e){return this.Vn(e).next(t=>{const i=new Rp(t.highestTargetId);return t.highestTargetId=i.next(),this.Sn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Vn(e).next(t=>St.fromTimestamp(new si(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Vn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,i){return this.Vn(e).next(r=>(r.highestListenSequenceNumber=t,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.Sn(e,r)))}addTargetData(e,t){return this.Dn(e,t).next(()=>this.Vn(e).next(i=>(i.targetCount+=1,this.Cn(t,i),this.Sn(e,i))))}updateTargetData(e,t){return this.Dn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>v_(e).delete(t.targetId)).next(()=>this.Vn(e)).next(i=>(kt(i.targetCount>0),i.targetCount-=1,this.Sn(e,i)))}removeTargets(e,t,i){let r=0;const a=[];return v_(e).Z((u,f)=>{const _=Rb(f);_.sequenceNumber<=t&&null===i.get(_.targetId)&&(r++,a.push(this.removeTargetData(e,_)))}).next(()=>ue.waitFor(a)).next(()=>r)}forEachTarget(e,t){return v_(e).Z((i,r)=>{const a=Rb(r);t(a)})}Vn(e){return W1(e).get("targetGlobalKey").next(t=>(kt(null!==t),t))}Sn(e,t){return W1(e).put("targetGlobalKey",t)}Dn(e,t){return v_(e).put(N1(this.It,t))}Cn(e,t){let i=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,i=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,i=!0),i}getTargetCount(e){return this.Vn(e).next(t=>t.targetCount)}getTargetData(e,t){const i=Ep(t),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let a=null;return v_(e).Z({range:r,index:"queryTargetsIndex"},(u,f,_)=>{const b=Rb(f);bb(t,b.target)&&(a=b,_.done())}).next(()=>a)}addMatchingKeys(e,t,i){const r=[],a=Nh(e);return t.forEach(u=>{const f=xs(u.path);r.push(a.put({targetId:i,path:f})),r.push(this.referenceDelegate.addReference(e,i,u))}),ue.waitFor(r)}removeMatchingKeys(e,t,i){const r=Nh(e);return ue.forEach(t,a=>{const u=xs(a.path);return ue.waitFor([r.delete([i,u]),this.referenceDelegate.removeReference(e,i,a)])})}removeMatchingKeysForTargetId(e,t){const i=Nh(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(e,t){const i=IDBKeyRange.bound([t],[t+1],!1,!0),r=Nh(e);let a=jt();return r.Z({range:i,X:!0},(u,f,_)=>{const b=Ec(u[1]),I=new Ze(b);a=a.add(I)}).next(()=>a)}containsKey(e,t){const i=xs(t.path),r=IDBKeyRange.bound([i],[_P(i)],!1,!0);let a=0;return Nh(e).Z({index:"documentTargetsIndex",X:!0,range:r},([u,f],_,b)=>{0!==u&&(a++,b.done())}).next(()=>a>0)}se(e,t){return v_(e).get(t).next(i=>i?Rb(i):null)}}function v_(n){return wr(n,"targets")}function W1(n){return wr(n,"targetGlobal")}function Nh(n){return wr(n,"targetDocuments")}function K1([n,e],[t,i]){const r=Vt(n,t);return 0===r?Vt(e,i):r}class K2{constructor(e){this.xn=e,this.buffer=new In(K1),this.Nn=0}kn(){return++this.Nn}Mn(e){const t=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();K1(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Y2{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.On=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}stop(){this.On&&(this.On.cancel(),this.On=null)}get started(){return null!==this.On}Fn(e){var t=this;Fe("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.On=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,we.Z)(function*(){t.On=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(i){Th(i)?Fe("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield Dh(i)}yield t.Fn(3e5)}))}}class Q2{constructor(e,t){this.$n=e,this.params=t}calculateTargetCount(e,t){return this.$n.Bn(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(0===t)return ue.resolve(Js.at);const i=new K2(t);return this.$n.forEachTarget(e,r=>i.Mn(r.sequenceNumber)).next(()=>this.$n.Ln(e,r=>i.Mn(r))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.$n.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.$n.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Fe("LruGarbageCollector","Garbage collection skipped; disabled"),ue.resolve(G1)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(Fe("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),G1):this.Un(e,t))}getCacheSize(e){return this.$n.getCacheSize(e)}Un(e,t){let i,r,a,u,f,_,b;const I=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(x=>(x>this.params.maximumSequenceNumbersToCollect?(Fe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${x}`),r=this.params.maximumSequenceNumbersToCollect):r=x,u=Date.now(),this.nthSequenceNumber(e,r))).next(x=>(i=x,f=Date.now(),this.removeTargets(e,i,t))).next(x=>(a=x,_=Date.now(),this.removeOrphanedDocuments(e,i))).next(x=>(b=Date.now(),Vx()<=_c.in.DEBUG&&Fe("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${u-I}ms\n\tDetermined least recently used ${r} in `+(f-u)+`ms\n\tRemoved ${a} targets in `+(_-f)+`ms\n\tRemoved ${x} documents in `+(b-_)+`ms\nTotal Duration: ${b-I}ms`),ue.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:a,documentsRemoved:x})))}}class X2{constructor(e,t){this.db=e,this.garbageCollector=new Q2(this,t)}Bn(e){const t=this.qn(e);return this.db.getTargetCache().getTargetCount(e).next(i=>t.next(r=>i+r))}qn(e){let t=0;return this.Ln(e,i=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Ln(e,t){return this.Kn(e,(i,r)=>t(r))}addReference(e,t,i){return BE(e,i)}removeReference(e,t,i){return BE(e,i)}removeTargets(e,t,i){return this.db.getTargetCache().removeTargets(e,t,i)}markPotentiallyOrphaned(e,t){return BE(e,t)}Gn(e,t){return function(i,r){let a=!1;return Z1(i).tt(u=>q1(i,u,r).next(f=>(f&&(a=!0),ue.resolve(!f)))).next(()=>a)}(e,t)}removeOrphanedDocuments(e,t){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let a=0;return this.Kn(e,(u,f)=>{if(f<=t){const _=this.Gn(e,u).next(b=>{if(!b)return a++,i.getEntry(e,u).next(()=>(i.removeEntry(u,St.min()),Nh(e).delete([0,xs(u.path)])))});r.push(_)}}).next(()=>ue.waitFor(r)).next(()=>i.apply(e)).next(()=>a)}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,i)}updateLimboDocument(e,t){return BE(e,t)}Kn(e,t){const i=Nh(e);let r,a=Js.at;return i.Z({index:"documentTargetsIndex"},([u,f],{path:_,sequenceNumber:b})=>{0===u?(a!==Js.at&&t(new Ze(Ec(r)),a),a=b,r=_):a=Js.at}).next(()=>{a!==Js.at&&t(new Ze(Ec(r)),a)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function BE(n,e){return Nh(n).put((i=n.currentSequenceNumber,{targetId:0,path:xs(e.path),sequenceNumber:i}));var i}class Y1{constructor(){this.changes=new Rh(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Bn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return void 0!==i?ue.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class J2{constructor(e){this.It=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,i){return Op(e).put(i)}removeEntry(e,t,i){return Op(e).delete(function(r,a){const u=r.path.toArray();return[u.slice(0,u.length-2),u[u.length-2],OE(a),u[u.length-1]]}(t,i))}updateMetadata(e,t){return this.getMetadata(e).next(i=>(i.byteSize+=t,this.Qn(e,i)))}getEntry(e,t){let i=Bn.newInvalidDocument(t);return Op(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Lb(t))},(r,a)=>{i=this.jn(t,a)}).next(()=>i)}Wn(e,t){let i={size:0,document:Bn.newInvalidDocument(t)};return Op(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Lb(t))},(r,a)=>{i={document:this.jn(t,a),size:LE(a)}}).next(()=>i)}getEntries(e,t){let i=to();return this.zn(e,t,(r,a)=>{const u=this.jn(r,a);i=i.insert(r,u)}).next(()=>i)}Hn(e,t){let i=to(),r=new wi(Ze.comparator);return this.zn(e,t,(a,u)=>{const f=this.jn(a,u);i=i.insert(a,f),r=r.insert(a,LE(u))}).next(()=>({documents:i,Jn:r}))}zn(e,t,i){if(t.isEmpty())return ue.resolve();let r=new In(eN);t.forEach(_=>r=r.add(_));const a=IDBKeyRange.bound(Lb(r.first()),Lb(r.last())),u=r.getIterator();let f=u.getNext();return Op(e).Z({index:"documentKeyIndex",range:a},(_,b,I)=>{const x=Ze.fromSegments([...b.prefixPath,b.collectionGroup,b.documentId]);for(;f&&eN(f,x)<0;)i(f,null),f=u.getNext();f&&f.isEqual(x)&&(i(f,b),f=u.hasNext()?u.getNext():null),f?I.j(Lb(f)):I.done()}).next(()=>{for(;f;)i(f,null),f=u.hasNext()?u.getNext():null})}getAllFromCollection(e,t,i){const r=[t.popLast().toArray(),t.lastSegment(),OE(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],a=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Op(e).W(IDBKeyRange.bound(r,a,!0)).next(u=>{let f=to();for(const _ of u){const b=this.jn(Ze.fromSegments(_.prefixPath.concat(_.collectionGroup,_.documentId)),_);f=f.insert(b.key,b)}return f})}getAllFromCollectionGroup(e,t,i,r){let a=to();const u=J1(t,i),f=J1(t,Oo.max());return Op(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(u,f,!0)},(_,b,I)=>{const x=this.jn(Ze.fromSegments(b.prefixPath.concat(b.collectionGroup,b.documentId)),b);a=a.insert(x.key,x),a.size===r&&I.done()}).next(()=>a)}newChangeBuffer(e){return new eU(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return X1(e).get("remoteDocumentGlobalKey").next(t=>(kt(!!t),t))}Qn(e,t){return X1(e).put("remoteDocumentGlobalKey",t)}jn(e,t){if(t){const i=function B2(n,e){let t;if(e.document)t=w1(n.re,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const i=Ze.fromSegments(e.noDocument.path),r=Sp(e.noDocument.readTime);t=Bn.newNoDocument(i,r),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return ot();{const i=Ze.fromSegments(e.unknownDocument.path),r=Sp(e.unknownDocument.version);t=Bn.newUnknownDocument(i,r)}}return e.readTime&&t.setReadTime(function(i){const r=new si(i[0],i[1]);return St.fromTimestamp(r)}(e.readTime)),t}(this.It,t);if(!i.isNoDocument()||!i.version.isEqual(St.min()))return i}return Bn.newInvalidDocument(e)}}function Q1(n){return new J2(n)}class eU extends Y1{constructor(e,t){super(),this.Yn=e,this.trackRemovals=t,this.Xn=new Rh(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(e){const t=[];let i=0,r=new In((a,u)=>Vt(a.canonicalString(),u.canonicalString()));return this.changes.forEach((a,u)=>{const f=this.Xn.get(a);if(t.push(this.Yn.removeEntry(e,a,f.readTime)),u.isValidDocument()){const _=P1(this.Yn.It,u);r=r.add(a.path.popLast()),i+=LE(_)-f.size,t.push(this.Yn.addEntry(e,a,_))}else if(i-=f.size,this.trackRemovals){const _=P1(this.Yn.It,u.convertToNoDocument(St.min()));t.push(this.Yn.addEntry(e,a,_))}}),r.forEach(a=>{t.push(this.Yn.indexManager.addToCollectionParentIndex(e,a))}),t.push(this.Yn.updateMetadata(e,i)),ue.waitFor(t)}getFromCache(e,t){return this.Yn.Wn(e,t).next(i=>(this.Xn.set(t,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(e,t){return this.Yn.Hn(e,t).next(({documents:i,Jn:r})=>(r.forEach((a,u)=>{this.Xn.set(a,{size:u,readTime:i.get(a).readTime})}),i))}}function X1(n){return wr(n,"remoteDocumentGlobal")}function Op(n){return wr(n,"remoteDocumentsV14")}function Lb(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function J1(n,e){const t=e.documentKey.path.toArray();return[n,OE(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function eN(n,e){const t=n.path.toArray(),i=e.path.toArray();let r=0;for(let a=0;a<t.length-2&&a<i.length-2;++a)if(r=Vt(t[a],i[a]),r)return r;return r=Vt(t.length,i.length),r||(r=Vt(t[t.length-2],i[i.length-2]),r||Vt(t[t.length-1],i[i.length-1]))}class tU{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class tN{constructor(e,t,i,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(i=r,this.getBaseDocument(e,t,i))).next(r=>(null!==i&&Eb(i.mutation,r,Po.empty(),si.now()),r))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,jt()).next(()=>i))}getLocalViewOfDocuments(e,t,i=jt()){const r=wc();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,i).next(a=>{let u=Ib();return a.forEach((f,_)=>{u=u.insert(f,_.overlayedDocument)}),u}))}getOverlayedDocuments(e,t){const i=wc();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,jt()))}populateOverlays(e,t,i){const r=[];return i.forEach(a=>{t.has(a)||r.push(a)}),this.documentOverlayCache.getOverlays(e,r).next(a=>{a.forEach((u,f)=>{t.set(u,f)})})}computeViews(e,t,i,r){let a=to();const u=Db(),f=Db();return t.forEach((_,b)=>{const I=i.get(b.key);r.has(b.key)&&(void 0===I||I.mutation instanceof ju)?a=a.insert(b.key,b):void 0!==I&&(u.set(b.key,I.mutation.getFieldMask()),Eb(I.mutation,b,I.mutation.getFieldMask(),si.now()))}),this.recalculateAndSaveOverlays(e,a).next(_=>(_.forEach((b,I)=>u.set(b,I)),t.forEach((b,I)=>{var x;return f.set(b,new tU(I,null!==(x=u.get(b))&&void 0!==x?x:null))}),f))}recalculateAndSaveOverlays(e,t){const i=Db();let r=new wi((u,f)=>u-f),a=jt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(u=>{for(const f of u)f.keys().forEach(_=>{const b=t.get(_);if(null===b)return;let I=i.get(_)||Po.empty();I=f.applyToLocalView(b,I),i.set(_,I);const x=(r.get(f.batchId)||jt()).add(_);r=r.insert(f.batchId,x)})}).next(()=>{const u=[],f=r.getReverseIterator();for(;f.hasNext();){const _=f.getNext(),b=_.key,I=_.value,x=u1();I.forEach(L=>{if(!a.has(L)){const B=e1(t.get(L),i.get(L));null!==B&&x.set(L,B),a=a.add(L)}}),u.push(this.documentOverlayCache.saveOverlays(e,b,x))}return ue.waitFor(u)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i){return Ze.isDocumentKey((r=t).path)&&null===r.collectionGroup&&0===r.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):Kx(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i):this.getDocumentsMatchingCollectionQuery(e,t,i);var r}getNextDocuments(e,t,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,r).next(a=>{const u=r-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,r-a.size):ue.resolve(wc());let f=-1,_=a;return u.next(b=>ue.forEach(b,(I,x)=>(f<x.largestBatchId&&(f=x.largestBatchId),a.get(I)?ue.resolve():this.getBaseDocument(e,I,x).next(L=>{_=_.insert(I,L)}))).next(()=>this.populateOverlays(e,b,a)).next(()=>this.computeViews(e,_,b,jt())).next(I=>({batchId:f,changes:c1(I)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ze(t)).next(i=>{let r=Ib();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,t,i){const r=t.collectionGroup;let a=Ib();return this.indexManager.getCollectionParents(e,r).next(u=>ue.forEach(u,f=>{const _=(b=t,I=f.child(r),new Hu(I,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt));var b,I;return this.getDocumentsMatchingCollectionQuery(e,_,i).next(b=>{b.forEach((I,x)=>{a=a.insert(I,x)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,t,i){let r;return this.remoteDocumentCache.getAllFromCollection(e,t.path,i).next(a=>(r=a,this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId))).next(a=>{a.forEach((f,_)=>{const b=_.getKey();null===r.get(b)&&(r=r.insert(b,Bn.newInvalidDocument(b)))});let u=Ib();return r.forEach((f,_)=>{const b=a.get(f);void 0!==b&&Eb(b.mutation,_,Po.empty(),si.now()),Qx(t,_)&&(u=u.insert(f,_))}),u})}getBaseDocument(e,t,i){return null===i||1===i.mutation.type?this.remoteDocumentCache.getEntry(e,t):ue.resolve(Bn.newInvalidDocument(t))}}class nU{constructor(e){this.It=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,t){return ue.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){var i;return this.Zn.set(t.id,{id:(i=t).id,version:i.version,createTime:br(i.createTime)}),ue.resolve()}getNamedQuery(e,t){return ue.resolve(this.ts.get(t))}saveNamedQuery(e,t){return this.ts.set(t.name,{name:(i=t).name,query:oA(i.bundledQuery),readTime:br(i.readTime)}),ue.resolve();var i}}class iU{constructor(){this.overlays=new wi(Ze.comparator),this.es=new Map}getOverlay(e,t){return ue.resolve(this.overlays.get(t))}getOverlays(e,t){const i=wc();return ue.forEach(t,r=>this.getOverlay(e,r).next(a=>{null!==a&&i.set(r,a)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((r,a)=>{this.ue(e,t,a)}),ue.resolve()}removeOverlaysForBatchId(e,t,i){const r=this.es.get(i);return void 0!==r&&(r.forEach(a=>this.overlays=this.overlays.remove(a)),this.es.delete(i)),ue.resolve()}getOverlaysForCollection(e,t,i){const r=wc(),a=t.length+1,u=new Ze(t.child("")),f=this.overlays.getIteratorFrom(u);for(;f.hasNext();){const _=f.getNext().value,b=_.getKey();if(!t.isPrefixOf(b.path))break;b.path.length===a&&_.largestBatchId>i&&r.set(_.getKey(),_)}return ue.resolve(r)}getOverlaysForCollectionGroup(e,t,i,r){let a=new wi((b,I)=>b-I);const u=this.overlays.getIterator();for(;u.hasNext();){const b=u.getNext().value;if(b.getKey().getCollectionGroup()===t&&b.largestBatchId>i){let I=a.get(b.largestBatchId);null===I&&(I=wc(),a=a.insert(b.largestBatchId,I)),I.set(b.getKey(),b)}}const f=wc(),_=a.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach((b,I)=>f.set(b,I)),!(f.size()>=r)););return ue.resolve(f)}ue(e,t,i){const r=this.overlays.get(i.key);if(null!==r){const u=this.es.get(r.largestBatchId).delete(i.key);this.es.set(r.largestBatchId,u)}this.overlays=this.overlays.insert(i.key,new sA(t,i));let a=this.es.get(t);void 0===a&&(a=jt(),this.es.set(t,a)),this.es.set(t,a.add(i.key))}}class cA{constructor(){this.ns=new In(Cr.ss),this.rs=new In(Cr.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,t){const i=new Cr(e,t);this.ns=this.ns.add(i),this.rs=this.rs.add(i)}us(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.cs(new Cr(e,t))}hs(e,t){e.forEach(i=>this.removeReference(i,t))}ls(e){const t=new Ze(new sn([])),i=new Cr(t,e),r=new Cr(t,e+1),a=[];return this.rs.forEachInRange([i,r],u=>{this.cs(u),a.push(u.key)}),a}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const t=new Ze(new sn([])),i=new Cr(t,e),r=new Cr(t,e+1);let a=jt();return this.rs.forEachInRange([i,r],u=>{a=a.add(u.key)}),a}containsKey(e){const t=new Cr(e,0),i=this.ns.firstAfterOrEqual(t);return null!==i&&e.isEqual(i.key)}}class Cr{constructor(e,t){this.key=e,this._s=t}static ss(e,t){return Ze.comparator(e.key,t.key)||Vt(e._s,t._s)}static os(e,t){return Vt(e._s,t._s)||Ze.comparator(e.key,t.key)}}class rU{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this.gs=new In(Cr.ss)}checkEmpty(e){return ue.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,i,r){const a=this.ws;this.ws++;const u=new iA(a,t,i,r);this.mutationQueue.push(u);for(const f of r)this.gs=this.gs.add(new Cr(f.key,a)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return ue.resolve(u)}lookupMutationBatch(e,t){return ue.resolve(this.ys(t))}getNextMutationBatchAfterBatchId(e,t){const r=this.ps(t+1),a=r<0?0:r;return ue.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return ue.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return ue.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Cr(t,0),r=new Cr(t,Number.POSITIVE_INFINITY),a=[];return this.gs.forEachInRange([i,r],u=>{const f=this.ys(u._s);a.push(f)}),ue.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new In(Vt);return t.forEach(r=>{const a=new Cr(r,0),u=new Cr(r,Number.POSITIVE_INFINITY);this.gs.forEachInRange([a,u],f=>{i=i.add(f._s)})}),ue.resolve(this.Is(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1;let a=i;Ze.isDocumentKey(a)||(a=a.child(""));const u=new Cr(new Ze(a),0);let f=new In(Vt);return this.gs.forEachWhile(_=>{const b=_.key.path;return!!i.isPrefixOf(b)&&(b.length===r&&(f=f.add(_._s)),!0)},u),ue.resolve(this.Is(f))}Is(e){const t=[];return e.forEach(i=>{const r=this.ys(i);null!==r&&t.push(r)}),t}removeMutationBatch(e,t){kt(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();let i=this.gs;return ue.forEach(t.mutations,r=>{const a=new Cr(r.key,t.batchId);return i=i.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.gs=i})}An(e){}containsKey(e,t){const i=new Cr(t,0),r=this.gs.firstAfterOrEqual(i);return ue.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return ue.resolve()}Ts(e,t){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class sU{constructor(e){this.Es=e,this.docs=new wi(Ze.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,r=this.docs.get(i),a=r?r.size:0,u=this.Es(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:u}),this.size+=u-a,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return ue.resolve(i?i.document.mutableCopy():Bn.newInvalidDocument(t))}getEntries(e,t){let i=to();return t.forEach(r=>{const a=this.docs.get(r);i=i.insert(r,a?a.document.mutableCopy():Bn.newInvalidDocument(r))}),ue.resolve(i)}getAllFromCollection(e,t,i){let r=to();const a=new Ze(t.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:f,value:{document:_}}=u.getNext();if(!t.isPrefixOf(f.path))break;f.path.length>t.length+1||Hx(vP(_),i)<=0||(r=r.insert(_.key,_.mutableCopy()))}return ue.resolve(r)}getAllFromCollectionGroup(e,t,i,r){ot()}As(e,t){return ue.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new oU(this)}getSize(e){return ue.resolve(this.size)}}class oU extends Y1{constructor(e){super(),this.Yn=e}applyChanges(e){const t=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?t.push(this.Yn.addEntry(e,r)):this.Yn.removeEntry(i)}),ue.waitFor(t)}getFromCache(e,t){return this.Yn.getEntry(e,t)}getAllFromCache(e,t){return this.Yn.getEntries(e,t)}}class aU{constructor(e){this.persistence=e,this.Rs=new Rh(t=>Ep(t),bb),this.lastRemoteSnapshotVersion=St.min(),this.highestTargetId=0,this.bs=0,this.Ps=new cA,this.targetCount=0,this.vs=Rp.Pn()}forEachTarget(e,t){return this.Rs.forEach((i,r)=>t(r)),ue.resolve()}getLastRemoteSnapshotVersion(e){return ue.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ue.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),ue.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.bs&&(this.bs=t),ue.resolve()}Dn(e){this.Rs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.vs=new Rp(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,t){return this.Dn(t),this.targetCount+=1,ue.resolve()}updateTargetData(e,t){return this.Dn(t),ue.resolve()}removeTargetData(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,ue.resolve()}removeTargets(e,t,i){let r=0;const a=[];return this.Rs.forEach((u,f)=>{f.sequenceNumber<=t&&null===i.get(f.targetId)&&(this.Rs.delete(u),a.push(this.removeMatchingKeysForTargetId(e,f.targetId)),r++)}),ue.waitFor(a).next(()=>r)}getTargetCount(e){return ue.resolve(this.targetCount)}getTargetData(e,t){const i=this.Rs.get(t)||null;return ue.resolve(i)}addMatchingKeys(e,t,i){return this.Ps.us(t,i),ue.resolve()}removeMatchingKeys(e,t,i){this.Ps.hs(t,i);const r=this.persistence.referenceDelegate,a=[];return r&&t.forEach(u=>{a.push(r.markPotentiallyOrphaned(e,u))}),ue.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.Ps.ls(t),ue.resolve()}getMatchingKeysForTargetId(e,t){const i=this.Ps.ds(t);return ue.resolve(i)}containsKey(e,t){return ue.resolve(this.Ps.containsKey(t))}}class nN{constructor(e,t){this.Vs={},this.overlays={},this.Ss=new Js(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new aU(this),this.indexManager=new q2,this.remoteDocumentCache=new sU(i=>this.referenceDelegate.xs(i)),this.It=new O1(t),this.Ns=new nU(this.It)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new iU,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.Vs[e.toKey()];return i||(i=new rU(t,this.referenceDelegate),this.Vs[e.toKey()]=i),i}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,t,i){Fe("MemoryPersistence","Starting transaction:",e);const r=new lU(this.Ss.next());return this.referenceDelegate.ks(),i(r).next(a=>this.referenceDelegate.Ms(r).next(()=>a)).toPromise().then(a=>(r.raiseOnCommittedEvent(),a))}Os(e,t){return ue.or(Object.values(this.Vs).map(i=>()=>i.containsKey(e,t)))}}class lU extends wP{constructor(e){super(),this.currentSequenceNumber=e}}class UE{constructor(e){this.persistence=e,this.Fs=new cA,this.$s=null}static Bs(e){return new UE(e)}get Ls(){if(this.$s)return this.$s;throw ot()}addReference(e,t,i){return this.Fs.addReference(i,t),this.Ls.delete(i.toString()),ue.resolve()}removeReference(e,t,i){return this.Fs.removeReference(i,t),this.Ls.add(i.toString()),ue.resolve()}markPotentiallyOrphaned(e,t){return this.Ls.add(t.toString()),ue.resolve()}removeTarget(e,t){this.Fs.ls(t.targetId).forEach(r=>this.Ls.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(r=>{r.forEach(a=>this.Ls.add(a.toString()))}).next(()=>i.removeTargetData(e,t))}ks(){this.$s=new Set}Ms(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ue.forEach(this.Ls,i=>{const r=Ze.fromPath(i);return this.Us(e,r).next(a=>{a||t.removeEntry(r,St.min())})}).next(()=>(this.$s=null,t.apply(e)))}updateLimboDocument(e,t){return this.Us(e,t).next(i=>{i?this.Ls.delete(t.toString()):this.Ls.add(t.toString())})}xs(e){return 0}Us(e,t){return ue.or([()=>ue.resolve(this.Fs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Os(e,t)])}}class cU{constructor(e){this.It=e}$(e,t,i,r){const a=new bE("createOrUpgrade",t);var f;i<1&&r>=1&&(e.createObjectStore("owner"),(f=e).createObjectStore("mutationQueues",{keyPath:"userId"}),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",x1,{unique:!0}),f.createObjectStore("documentMutations"),iN(e),function(f){f.createObjectStore("remoteDocuments")}(e));let u=ue.resolve();return i<3&&r>=3&&(0!==i&&(function(f){f.deleteObjectStore("targetDocuments"),f.deleteObjectStore("targets"),f.deleteObjectStore("targetGlobal")}(e),iN(e)),u=u.next(()=>function(f){const _=f.store("targetGlobal"),b={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:St.min().toTimestamp(),targetCount:0};return _.put("targetGlobalKey",b)}(a))),i<4&&r>=4&&(0!==i&&(u=u.next(()=>function(f,_){return _.store("mutations").W().next(b=>{f.deleteObjectStore("mutations"),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",x1,{unique:!0});const I=_.store("mutations"),x=b.map(L=>I.put(L));return ue.waitFor(x)})}(e,a))),u=u.next(()=>{!function(f){f.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),i<5&&r>=5&&(u=u.next(()=>this.qs(a))),i<6&&r>=6&&(u=u.next(()=>(function(f){f.createObjectStore("remoteDocumentGlobal")}(e),this.Ks(a)))),i<7&&r>=7&&(u=u.next(()=>this.Gs(a))),i<8&&r>=8&&(u=u.next(()=>this.Qs(e,a))),i<9&&r>=9&&(u=u.next(()=>{!function(f){f.objectStoreNames.contains("remoteDocumentChanges")&&f.deleteObjectStore("remoteDocumentChanges")}(e)})),i<10&&r>=10&&(u=u.next(()=>this.js(a))),i<11&&r>=11&&(u=u.next(()=>{(function(f){f.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(f){f.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),i<12&&r>=12&&(u=u.next(()=>{!function(f){const _=f.createObjectStore("documentOverlays",{keyPath:P2});_.createIndex("collectionPathOverlayIndex",N2,{unique:!1}),_.createIndex("collectionGroupOverlayIndex",F2,{unique:!1})}(e)})),i<13&&r>=13&&(u=u.next(()=>function(f){const _=f.createObjectStore("remoteDocumentsV14",{keyPath:E2});_.createIndex("documentKeyIndex",I2),_.createIndex("collectionGroupIndex",D2)}(e)).next(()=>this.Ws(e,a)).next(()=>e.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(u=u.next(()=>this.zs(e,a))),i<15&&r>=15&&(u=u.next(()=>function(f){f.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),f.createObjectStore("indexState",{keyPath:M2}).createIndex("sequenceNumberIndex",k2,{unique:!1}),f.createObjectStore("indexEntries",{keyPath:R2}).createIndex("documentKeyIndex",O2,{unique:!1})}(e))),u}Ks(e){let t=0;return e.store("remoteDocuments").Z((i,r)=>{t+=LE(r)}).next(()=>{const i={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}qs(e){const t=e.store("mutationQueues"),i=e.store("mutations");return t.W().next(r=>ue.forEach(r,a=>{const u=IDBKeyRange.bound([a.userId,-1],[a.userId,a.lastAcknowledgedBatchId]);return i.W("userMutationsIndex",u).next(f=>ue.forEach(f,_=>{kt(_.userId===a.userId);const b=xp(this.It,_);return z1(e,a.userId,b).next(()=>{})}))}))}Gs(e){const t=e.store("targetDocuments"),i=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(r=>{const a=[];return i.Z((u,f)=>{const _=new sn(u),b=[0,xs(_)];a.push(t.get(b).next(I=>I?ue.resolve():t.put({targetId:0,path:xs(_),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>ue.waitFor(a))})}Qs(e,t){e.createObjectStore("collectionParents",{keyPath:A2});const i=t.store("collectionParents"),r=new lA,a=u=>{if(r.add(u)){const f=u.lastSegment(),_=u.popLast();return i.put({collectionId:f,parent:xs(_)})}};return t.store("remoteDocuments").Z({X:!0},(u,f)=>{const _=new sn(u);return a(_.popLast())}).next(()=>t.store("documentMutations").Z({X:!0},([u,f,_],b)=>{const I=Ec(f);return a(I.popLast())}))}js(e){const t=e.store("targets");return t.Z((i,r)=>{const a=Rb(r),u=N1(this.It,a);return t.put(u)})}Ws(e,t){const i=t.store("remoteDocuments"),r=[];return i.Z((a,u)=>{const f=t.store("remoteDocumentsV14"),_=(b=u,b.document?new Ze(sn.fromString(b.document.name).popFirst(5)):b.noDocument?Ze.fromSegments(b.noDocument.path):b.unknownDocument?Ze.fromSegments(b.unknownDocument.path):ot()).path.toArray();var b;const I={prefixPath:_.slice(0,_.length-2),collectionGroup:_[_.length-2],documentId:_[_.length-1],readTime:u.readTime||[0,0],unknownDocument:u.unknownDocument,noDocument:u.noDocument,document:u.document,hasCommittedMutations:!!u.hasCommittedMutations};r.push(f.put(I))}).next(()=>ue.waitFor(r))}zs(e,t){const i=t.store("mutations"),r=Q1(this.It),a=new nN(UE.Bs,this.It.re);return i.W().next(u=>{const f=new Map;return u.forEach(_=>{var b;let I=null!==(b=f.get(_.userId))&&void 0!==b?b:jt();xp(this.It,_).keys().forEach(x=>I=I.add(x)),f.set(_.userId,I)}),ue.forEach(f,(_,b)=>{const I=new yr(b),x=PE.oe(this.It,I),L=a.getIndexManager(I),B=VE.oe(I,this.It,L,a.referenceDelegate);return new tN(r,B,x,L).recalculateAndSaveOverlaysForDocumentKeys(new nA(t,Js.at),_).next()})})}}function iN(n){n.createObjectStore("targetDocuments",{keyPath:S2}).createIndex("documentTargetsIndex",x2,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",T2,{unique:!0}),n.createObjectStore("targetGlobal")}const uA="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class dA{constructor(e,t,i,r,a,u,f,_,b,I,x=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=i,this.Hs=a,this.window=u,this.document=f,this.Js=b,this.Ys=I,this.Xs=x,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=L=>Promise.resolve(),!dA.C())throw new Re(pe.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new X2(this,r),this.ii=t+"main",this.It=new O1(_),this.ri=new vl(this.ii,this.Xs,new cU(this.It)),this.Cs=new W2(this.referenceDelegate,this.It),this.remoteDocumentCache=Q1(this.It),this.Ns=new U2,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===I&&Si("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Re(pe.FAILED_PRECONDITION,uA);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Cs.getHighestSequenceNumber(e))}).then(e=>{this.Ss=new Js(e,this.Js)}).then(()=>{this.Ds=!0}).catch(e=>(this.ri&&this.ri.close(),Promise.reject(e)))}li(e){var t=this;return this.si=function(){var i=(0,we.Z)(function*(r){if(t.started)return e(r)});return function(r){return i.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ri.L(function(){var t=(0,we.Z)(function*(i){null===i.newVersion&&(yield e())});return function(i){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget((0,we.Z)(function*(){t.started&&(yield t.ui())})))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>HE(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(t=>{t||(this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)))})}).next(()=>this.di(e)).next(t=>this.isPrimary&&!t?this._i(e).next(()=>!1):!!t&&this.wi(e).next(()=>!0))).catch(e=>{if(Th(e))return Fe("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Fe("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Hs.enqueueRetryable(()=>this.si(e)),this.isPrimary=e})}fi(e){return Vb(e).get("owner").next(t=>ue.resolve(this.mi(t)))}gi(e){return HE(e).delete(this.clientId)}yi(){var e=this;return(0,we.Z)(function*(){if(e.isPrimary&&!e.pi(e.ni,18e5)){e.ni=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=wr(i,"clientMetadata");return r.W().next(a=>{const u=e.Ii(a,18e5),f=a.filter(_=>-1===u.indexOf(_));return ue.forEach(f,_=>r.delete(_.clientId)).next(()=>f)})}).catch(()=>[]);if(e.oi)for(const i of t)e.oi.removeItem(e.Ti(i.clientId))}})()}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ui().then(()=>this.yi()).then(()=>this.hi()))}mi(e){return!!e&&e.ownerId===this.clientId}di(e){return this.Ys?ue.resolve(!0):Vb(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)){if(this.mi(t)&&this.networkEnabled)return!0;if(!this.mi(t)){if(!t.allowTabSynchronization)throw new Re(pe.FAILED_PRECONDITION,uA);return!1}}return!(!this.networkEnabled||!this.inForeground)||HE(e).W().next(i=>void 0===this.Ii(i,5e3).find(r=>{if(this.clientId!==r.clientId){const u=!this.inForeground&&r.inForeground,f=this.networkEnabled===r.networkEnabled;if(!this.networkEnabled&&r.networkEnabled||u&&f)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Fe("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,we.Z)(function*(){e.Ds=!1,e.Ai(),e.ei&&(e.ei.cancel(),e.ei=null),e.Ri(),e.bi(),yield e.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const i=new nA(t,Js.at);return e._i(i).next(()=>e.gi(i))}),e.ri.close(),e.Pi()})()}Ii(e,t){return e.filter(i=>this.pi(i.updateTimeMs,t)&&!this.Ei(i.clientId))}vi(){return this.runTransaction("getActiveClients","readonly",e=>HE(e).W().next(t=>this.Ii(t,18e5).map(i=>i.clientId)))}get started(){return this.Ds}getMutationQueue(e,t){return VE.oe(e,this.It,t,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Z2(e,this.It.re.databaseId)}getDocumentOverlayCache(e){return PE.oe(this.It,e)}getBundleCache(){return this.Ns}runTransaction(e,t,i){Fe("IndexedDbPersistence","Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite",a=15===(u=this.Xs)?V2:14===u?R1:13===u?k1:12===u?L2:11===u?M1:void ot();var u;let f;return this.ri.runTransaction(e,r,a,_=>(f=new nA(_,this.Ss?this.Ss.next():Js.at),"readwrite-primary"===t?this.fi(f).next(b=>!!b||this.di(f)).next(b=>{if(!b)throw Si(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)),new Re(pe.FAILED_PRECONDITION,bP);return i(f)}).next(b=>this.wi(f).next(()=>b)):this.Vi(f).next(()=>i(f)))).then(_=>(f.raiseOnCommittedEvent(),_))}Vi(e){return Vb(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)&&!this.mi(t)&&!(this.Ys||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Re(pe.FAILED_PRECONDITION,uA)})}wi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Vb(e).put("owner",t)}static C(){return vl.C()}_i(e){const t=Vb(e);return t.get("owner").next(i=>this.mi(i)?(Fe("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):ue.resolve())}pi(e,t){const i=Date.now();return!(e<i-t||e>i&&(Si(`Detected an update time that is in the future: ${e} > ${i}`),1))}ci(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=()=>{this.Hs.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ui()))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=()=>{this.Ai(),(0,qt.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(e){var t;try{const i=null!==(null===(t=this.oi)||void 0===t?void 0:t.getItem(this.Ti(e)));return Fe("IndexedDbPersistence",`Client '${e}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return Si("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(e){Si("Failed to set zombie client id.",e)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch{}}Ti(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Vb(n){return wr(n,"owner")}function HE(n){return wr(n,"clientMetadata")}function hA(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class fA{constructor(e,t,i,r){this.targetId=e,this.fromCache=t,this.Si=i,this.Di=r}static Ci(e,t){let i=jt(),r=jt();for(const a of t.docChanges)switch(a.type){case 0:i=i.add(a.doc.key);break;case 1:r=r.add(a.doc.key)}return new fA(e,t.fromCache,i,r)}}class rN{constructor(){this.xi=!1}initialize(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}getDocumentsMatchingQuery(e,t,i,r){return this.ki(e,t).next(a=>a||this.Mi(e,t,r,i)).next(a=>a||this.Oi(e,t))}ki(e,t){if(jP(t))return ue.resolve(null);let i=eo(t);return this.indexManager.getIndexType(e,i).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=TE(t,null,"F"),i=eo(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(a=>{const u=jt(...a);return this.Ni.getDocuments(e,u).next(f=>this.indexManager.getMinOffset(e,i).next(_=>{const b=this.Fi(t,f);return this.$i(t,b,u,_.readTime)?this.ki(e,TE(t,null,"F")):this.Bi(e,b,t,_)}))})))}Mi(e,t,i,r){return jP(t)||r.isEqual(St.min())?this.Oi(e,t):this.Ni.getDocuments(e,i).next(a=>{const u=this.Fi(t,a);return this.$i(t,u,i,r)?this.Oi(e,t):(Vx()<=_c.in.DEBUG&&Fe("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Yx(t)),this.Bi(e,u,t,yP(r,-1)))})}Fi(e,t){let i=new In(zP(e));return t.forEach((r,a)=>{Qx(e,a)&&(i=i.add(a))}),i}$i(e,t,i,r){if(null===e.limit)return!1;if(i.size!==t.size)return!0;const a="F"===e.limitType?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(r)>0)}Oi(e,t){return Vx()<=_c.in.DEBUG&&Fe("QueryEngine","Using full collection scan to execute query:",Yx(t)),this.Ni.getDocumentsMatchingQuery(e,t,Oo.min())}Bi(e,t,i,r){return this.Ni.getDocumentsMatchingQuery(e,i,r).next(a=>(t.forEach(u=>{a=a.insert(u.key,u)}),a))}}class uU{constructor(e,t,i,r){this.persistence=e,this.Li=t,this.It=r,this.Ui=new wi(Vt),this.qi=new Rh(a=>Ep(a),bb),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(i)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new tN(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ui))}}function sN(n,e,t,i){return new uU(n,e,t,i)}function oN(n,e){return pA.apply(this,arguments)}function pA(){return pA=(0,we.Z)(function*(n,e){const t=We(n);return yield t.persistence.runTransaction("Handle user change","readonly",i=>{let r;return t.mutationQueue.getAllMutationBatches(i).next(a=>(r=a,t.Qi(e),t.mutationQueue.getAllMutationBatches(i))).next(a=>{const u=[],f=[];let _=jt();for(const b of r){u.push(b.batchId);for(const I of b.mutations)_=_.add(I.key)}for(const b of a){f.push(b.batchId);for(const I of b.mutations)_=_.add(I.key)}return t.localDocuments.getDocuments(i,_).next(b=>({ji:b,removedBatchIds:u,addedBatchIds:f}))})})}),pA.apply(this,arguments)}function dU(n,e){const t=We(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=e.batch.keys(),a=t.Gi.newChangeBuffer({trackRemovals:!0});return function(u,f,_,b){const I=_.batch,x=I.keys();let L=ue.resolve();return x.forEach(B=>{L=L.next(()=>b.getEntry(f,B)).next(U=>{const ee=_.docVersions.get(B);kt(null!==ee),U.version.compareTo(ee)<0&&(I.applyToRemoteDocument(U,_),U.isValidDocument()&&(U.setReadTime(_.commitVersion),b.addEntry(U)))})}),L.next(()=>u.mutationQueue.removeMutationBatch(f,I))}(t,i,e,a).next(()=>a.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(u){let f=jt();for(let _=0;_<u.mutationResults.length;++_)u.mutationResults[_].transformResults.length>0&&(f=f.add(u.batch.mutations[_].key));return f}(e))).next(()=>t.localDocuments.getDocuments(i,r))})}function aN(n){const e=We(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Cs.getLastRemoteSnapshotVersion(t))}function hU(n,e){const t=We(n),i=e.snapshotVersion;let r=t.Ui;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const u=t.Gi.newChangeBuffer({trackRemovals:!0});r=t.Ui;const f=[];e.targetChanges.forEach((I,x)=>{const L=r.get(x);if(!L)return;f.push(t.Cs.removeMatchingKeys(a,I.removedDocuments,x).next(()=>t.Cs.addMatchingKeys(a,I.addedDocuments,x)));let B=L.withSequenceNumber(a.currentSequenceNumber);var U,ee,_e;e.targetMismatches.has(x)?B=B.withResumeToken(sr.EMPTY_BYTE_STRING,St.min()).withLastLimboFreeSnapshotVersion(St.min()):I.resumeToken.approximateByteSize()>0&&(B=B.withResumeToken(I.resumeToken,i)),r=r.insert(x,B),ee=B,_e=I,(0===(U=L).resumeToken.approximateByteSize()||ee.snapshotVersion.toMicroseconds()-U.snapshotVersion.toMicroseconds()>=3e8||_e.addedDocuments.size+_e.modifiedDocuments.size+_e.removedDocuments.size>0)&&f.push(t.Cs.updateTargetData(a,B))});let _=to(),b=jt();if(e.documentUpdates.forEach(I=>{e.resolvedLimboDocuments.has(I)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(a,I))}),f.push(lN(a,u,e.documentUpdates).next(I=>{_=I.Wi,b=I.zi})),!i.isEqual(St.min())){const I=t.Cs.getLastRemoteSnapshotVersion(a).next(x=>t.Cs.setTargetsMetadata(a,a.currentSequenceNumber,i));f.push(I)}return ue.waitFor(f).next(()=>u.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,_,b)).next(()=>_)}).then(a=>(t.Ui=r,a))}function lN(n,e,t){let i=jt(),r=jt();return t.forEach(a=>i=i.add(a)),e.getEntries(n,i).next(a=>{let u=to();return t.forEach((f,_)=>{const b=a.get(f);_.isFoundDocument()!==b.isFoundDocument()&&(r=r.add(f)),_.isNoDocument()&&_.version.isEqual(St.min())?(e.removeEntry(f,_.readTime),u=u.insert(f,_)):!b.isValidDocument()||_.version.compareTo(b.version)>0||0===_.version.compareTo(b.version)&&b.hasPendingWrites?(e.addEntry(_),u=u.insert(f,_)):Fe("LocalStore","Ignoring outdated watch update for ",f,". Current version:",b.version," Watch version:",_.version)}),{Wi:u,zi:r}})}function fU(n,e){const t=We(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function b_(n,e){const t=We(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return t.Cs.getTargetData(i,e).next(a=>a?(r=a,ue.resolve(r)):t.Cs.allocateTargetId(i).next(u=>(r=new Oh(e,u,0,i.currentSequenceNumber),t.Cs.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=t.Ui.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(t.Ui=t.Ui.insert(i.targetId,i),t.qi.set(e,i.targetId)),i})}function w_(n,e,t){return mA.apply(this,arguments)}function mA(){return mA=(0,we.Z)(function*(n,e,t){const i=We(n),r=i.Ui.get(e),a=t?"readwrite":"readwrite-primary";try{t||(yield i.persistence.runTransaction("Release target",a,u=>i.persistence.referenceDelegate.removeTarget(u,r)))}catch(u){if(!Th(u))throw u;Fe("LocalStore",`Failed to update sequence numbers for target ${e}: ${u}`)}i.Ui=i.Ui.remove(e),i.qi.delete(r.target)}),mA.apply(this,arguments)}function jE(n,e,t){const i=We(n);let r=St.min(),a=jt();return i.persistence.runTransaction("Execute query","readonly",u=>function(f,_,b){const I=We(f),x=I.qi.get(b);return void 0!==x?ue.resolve(I.Ui.get(x)):I.Cs.getTargetData(_,b)}(i,u,eo(e)).next(f=>{if(f)return r=f.lastLimboFreeSnapshotVersion,i.Cs.getMatchingKeysForTargetId(u,f.targetId).next(_=>{a=_})}).next(()=>i.Li.getDocumentsMatchingQuery(u,e,t?r:St.min(),t?a:jt())).next(f=>(dN(i,GP(e),f),{documents:f,Hi:a})))}function cN(n,e){const t=We(n),i=We(t.Cs),r=t.Ui.get(e);return r?Promise.resolve(r.target):t.persistence.runTransaction("Get target data","readonly",a=>i.se(a,e).next(u=>u?u.target:null))}function uN(n,e){const t=We(n),i=t.Ki.get(e)||St.min();return t.persistence.runTransaction("Get new document changes","readonly",r=>t.Gi.getAllFromCollectionGroup(r,e,yP(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>(dN(t,e,r),r))}function dN(n,e,t){let i=St.min();t.forEach((r,a)=>{a.readTime.compareTo(i)>0&&(i=a.readTime)}),n.Ki.set(e,i)}function gA(){return gA=(0,we.Z)(function*(n,e,t,i){const r=We(n);let a=jt(),u=to();for(const b of t){const I=e.Ji(b.metadata.name);b.document&&(a=a.add(I));const x=e.Yi(b);x.setReadTime(e.Xi(b.metadata.readTime)),u=u.insert(I,x)}const f=r.Gi.newChangeBuffer({trackRemovals:!0}),_=yield b_(r,(b=i,eo(u_(sn.fromString(`__bundle__/docs/${b}`)))));var b;return r.persistence.runTransaction("Apply bundle documents","readwrite",b=>lN(b,f,u).next(I=>(f.apply(b),I)).next(I=>r.Cs.removeMatchingKeysForTargetId(b,_.targetId).next(()=>r.Cs.addMatchingKeys(b,a,_.targetId)).next(()=>r.localDocuments.getLocalViewOfDocuments(b,I.Wi,I.zi)).next(()=>I.Wi)))}),gA.apply(this,arguments)}function mU(n,e){return _A.apply(this,arguments)}function _A(){return _A=(0,we.Z)(function*(n,e,t=jt()){const i=yield b_(n,eo(oA(e.bundledQuery))),r=We(n);return r.persistence.runTransaction("Save named query","readwrite",a=>{const u=br(e.readTime);if(i.snapshotVersion.compareTo(u)>=0)return r.Ns.saveNamedQuery(a,e);const f=i.withResumeToken(sr.EMPTY_BYTE_STRING,u);return r.Ui=r.Ui.insert(f.targetId,f),r.Cs.updateTargetData(a,f).next(()=>r.Cs.removeMatchingKeysForTargetId(a,i.targetId)).next(()=>r.Cs.addMatchingKeys(a,t,i.targetId)).next(()=>r.Ns.saveNamedQuery(a,e))})}),_A.apply(this,arguments)}function hN(n,e){return`firestore_clients_${n}_${e}`}function fN(n,e,t){let i=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(i+=`_${e.uid}`),i}function yA(n,e){return`firestore_targets_${n}_${e}`}class $E{constructor(e,t,i,r){this.user=e,this.batchId=t,this.state=i,this.error=r}static Zi(e,t,i){const r=JSON.parse(i);let a,u="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return u&&r.error&&(u="string"==typeof r.error.message&&"string"==typeof r.error.code,u&&(a=new Re(r.error.code,r.error.message))),u?new $E(e,t,r.state,a):(Si("SharedClientState",`Failed to parse mutation state for ID '${t}': ${i}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Bb{constructor(e,t,i){this.targetId=e,this.state=t,this.error=i}static Zi(e,t){const i=JSON.parse(t);let r,a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&(a="string"==typeof i.error.message&&"string"==typeof i.error.code,a&&(r=new Re(i.error.code,i.error.message))),a?new Bb(e,i.state,r):(Si("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class GE{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Zi(e,t){const i=JSON.parse(t);let r="object"==typeof i&&i.activeTargetIds instanceof Array,a=ME();for(let u=0;r&&u<i.activeTargetIds.length;++u)r=SP(i.activeTargetIds[u]),a=a.add(i.activeTargetIds[u]);return r?new GE(e,a):(Si("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class vA{constructor(e,t){this.clientId=e,this.onlineState=t}static Zi(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new vA(t.clientId,t.onlineState):(Si("SharedClientState",`Failed to parse online state: ${e}`),null)}}class bA{constructor(){this.activeTargetIds=ME()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class wA{constructor(e,t,i,r,a){this.window=e,this.Hs=t,this.persistenceKey=i,this.sr=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new wi(Vt),this.started=!1,this.cr=[];const u=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.ar=hN(this.persistenceKey,this.sr),this.hr=`firestore_sequence_number_${this.persistenceKey}`,this.ur=this.ur.insert(this.sr,new bA),this.lr=new RegExp(`^firestore_clients_${u}_([^_]*)$`),this.dr=new RegExp(`^firestore_mutations_${u}_(\\d+)(?:_(.*))?$`),this._r=new RegExp(`^firestore_targets_${u}_(\\d+)$`),this.wr=`firestore_online_state_${this.persistenceKey}`,this.mr=function(f){return`firestore_bundle_loaded_v2_${f}`}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}static C(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,we.Z)(function*(){const t=yield e.syncEngine.vi();for(const r of t){if(r===e.sr)continue;const a=e.getItem(hN(e.persistenceKey,r));if(a){const u=GE.Zi(r,a);u&&(e.ur=e.ur.insert(u.clientId,u))}}e.gr();const i=e.storage.getItem(e.wr);if(i){const r=e.yr(i);r&&e.pr(r)}for(const r of e.cr)e.rr(r);e.cr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.hr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ir(this.ur)}isActiveQueryTarget(e){let t=!1;return this.ur.forEach((i,r)=>{r.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Tr(e,"pending")}updateMutationState(e,t,i){this.Tr(e,t,i),this.Er(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(yA(this.persistenceKey,e));if(i){const r=Bb.Zi(e,i);r&&(t=r.state)}}return this.Ar.er(e),this.gr(),t}removeLocalQueryTarget(e){this.Ar.nr(e),this.gr()}isLocalQueryTarget(e){return this.Ar.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(yA(this.persistenceKey,e))}updateQueryState(e,t,i){this.Rr(e,t,i)}handleUserChange(e,t,i){t.forEach(r=>{this.Er(r)}),this.currentUser=e,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(e){this.br(e)}notifyBundleLoaded(e){this.Pr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Fe("SharedClientState","READ",e,t),t}setItem(e,t){Fe("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Fe("SharedClientState","REMOVE",e),this.storage.removeItem(e)}rr(e){var t=this;const i=e;if(i.storageArea===this.storage){if(Fe("SharedClientState","EVENT",i.key,i.newValue),i.key===this.ar)return void Si("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable((0,we.Z)(function*(){if(t.started){if(null!==i.key)if(t.lr.test(i.key)){if(null==i.newValue){const r=t.vr(i.key);return t.Vr(r,null)}{const r=t.Sr(i.key,i.newValue);if(r)return t.Vr(r.clientId,r)}}else if(t.dr.test(i.key)){if(null!==i.newValue){const r=t.Dr(i.key,i.newValue);if(r)return t.Cr(r)}}else if(t._r.test(i.key)){if(null!==i.newValue){const r=t.Nr(i.key,i.newValue);if(r)return t.kr(r)}}else if(i.key===t.wr){if(null!==i.newValue){const r=t.yr(i.newValue);if(r)return t.pr(r)}}else if(i.key===t.hr){const r=function(a){let u=Js.at;if(null!=a)try{const f=JSON.parse(a);kt("number"==typeof f),u=f}catch(f){Si("SharedClientState","Failed to read sequence number from WebStorage",f)}return u}(i.newValue);r!==Js.at&&t.sequenceNumberHandler(r)}else if(i.key===t.mr){const r=t.Mr(i.newValue);yield Promise.all(r.map(a=>t.syncEngine.Or(a)))}}else t.cr.push(i)}))}}get Ar(){return this.ur.get(this.sr)}gr(){this.setItem(this.ar,this.Ar.tr())}Tr(e,t,i){const r=new $E(this.currentUser,e,t,i),a=fN(this.persistenceKey,this.currentUser,e);this.setItem(a,r.tr())}Er(e){const t=fN(this.persistenceKey,this.currentUser,e);this.removeItem(t)}br(e){this.storage.setItem(this.wr,JSON.stringify({clientId:this.sr,onlineState:e}))}Rr(e,t,i){const r=yA(this.persistenceKey,e),a=new Bb(e,t,i);this.setItem(r,a.tr())}Pr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.mr,t)}vr(e){const t=this.lr.exec(e);return t?t[1]:null}Sr(e,t){const i=this.vr(e);return GE.Zi(i,t)}Dr(e,t){const i=this.dr.exec(e),r=Number(i[1]);return $E.Zi(new yr(void 0!==i[2]?i[2]:null),r,t)}Nr(e,t){const i=this._r.exec(e),r=Number(i[1]);return Bb.Zi(r,t)}yr(e){return vA.Zi(e)}Mr(e){return JSON.parse(e)}Cr(e){var t=this;return(0,we.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Fr(e.batchId,e.state,e.error);Fe("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}kr(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}Vr(e,t){const i=t?this.ur.insert(e,t):this.ur.remove(e),r=this.Ir(this.ur),a=this.Ir(i),u=[],f=[];return a.forEach(_=>{r.has(_)||u.push(_)}),r.forEach(_=>{a.has(_)||f.push(_)}),this.syncEngine.Br(u,f).then(()=>{this.ur=i})}pr(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ir(e){let t=ME();return e.forEach((i,r)=>{t=t.unionWith(r.activeTargetIds)}),t}}class pN{constructor(){this.Lr=new bA,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e){return this.Lr.er(e),this.Ur[e]||"not-current"}updateQueryState(e,t,i){this.Ur[e]=t}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.Ur[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new bA,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class gU{qr(e){}shutdown(){}}class mN{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}qr(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){Fe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){Fe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const _U={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class yU{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class vU extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.oo=(e.ssl?"https":"http")+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}co(e,t,i,r,a){const u=this.ao(e,t);Fe("RestConnection","Sending: ",u,i);const f={};return this.ho(f,r,a),this.lo(e,u,f,i).then(_=>(Fe("RestConnection","Received: ",_),_),_=>{throw gp("RestConnection",`${e} failed with error: `,_,"url: ",u,"request:",i),_})}fo(e,t,i,r,a,u){return this.co(e,t,i,r,a)}ho(e,t,i){e["X-Goog-Api-Client"]="gl-js/ fire/"+s_,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((r,a)=>e[a]=r),i&&i.headers.forEach((r,a)=>e[a]=r)}ao(e,t){return`${this.oo}/v1/${t}:${_U[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}lo(e,t,i,r){return new Promise((a,u)=>{const f=new gB;f.listenOnce(fB.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case Lx.NO_ERROR:const b=f.getResponseJson();Fe("Connection","XHR received:",JSON.stringify(b)),a(b);break;case Lx.TIMEOUT:Fe("Connection",'RPC "'+e+'" timed out'),u(new Re(pe.DEADLINE_EXCEEDED,"Request time out"));break;case Lx.HTTP_ERROR:const I=f.getStatus();if(Fe("Connection",'RPC "'+e+'" failed with status:',I,"response text:",f.getResponseText()),I>0){const x=f.getResponseJson().error;if(x&&x.status&&x.message){const L=function(B){const U=B.toLowerCase().replace(/_/g,"-");return Object.values(pe).indexOf(U)>=0?U:pe.UNKNOWN}(x.status);u(new Re(L,x.message))}else u(new Re(pe.UNKNOWN,"Server responded with status "+f.getStatus()))}else u(new Re(pe.UNAVAILABLE,"Connection failed."));break;default:ot()}}finally{Fe("Connection",'RPC "'+e+'" completed.')}});const _=JSON.stringify(r);f.send(t,"POST",_,i,15)})}_o(e,t,i){const r=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=dB(),u=hB(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(f.xmlHttpFactory=new mB({})),this.ho(f.initMessageHeaders,t,i),(0,qt.uI)()||(0,qt.b$)()||(0,qt.d)()||(0,qt.w1)()||(0,qt.Mn)()||(0,qt.ru)()||(f.httpHeadersOverwriteParam="$httpHeaders");const _=r.join("");Fe("Connection","Creating WebChannel: "+_,f);const b=a.createWebChannel(_,f);let I=!1,x=!1;const L=new yU({Hr:U=>{x?Fe("Connection","Not sending because WebChannel is closed:",U):(I||(Fe("Connection","Opening WebChannel transport."),b.open(),I=!0),Fe("Connection","WebChannel sending:",U),b.send(U))},Jr:()=>b.close()}),B=(U,ee,_e)=>{U.listen(ee,Le=>{try{_e(Le)}catch(Qe){setTimeout(()=>{throw Qe},0)}})};return B(b,_E.EventType.OPEN,()=>{x||Fe("Connection","WebChannel transport opened.")}),B(b,_E.EventType.CLOSE,()=>{x||(x=!0,Fe("Connection","WebChannel transport closed"),L.io())}),B(b,_E.EventType.ERROR,U=>{x||(x=!0,gp("Connection","WebChannel transport errored:",U),L.io(new Re(pe.UNAVAILABLE,"The operation could not be completed")))}),B(b,_E.EventType.MESSAGE,U=>{var ee;if(!x){const _e=U.data[0];kt(!!_e);const Le=_e,Qe=Le.error||(null===(ee=Le[0])||void 0===ee?void 0:ee.error);if(Qe){Fe("Connection","WebChannel received error:",Qe);const pt=Qe.status;let rt=function(At){const nn=Ui[At];if(void 0!==nn)return a1(nn)}(pt),Tt=Qe.message;void 0===rt&&(rt=pe.INTERNAL,Tt="Unknown error status: "+pt+" with message "+Qe.message),x=!0,L.io(new Re(rt,Tt)),b.close()}else Fe("Connection","WebChannel received:",_e),L.ro(_e)}}),B(u,pB.STAT_EVENT,U=>{U.stat===hP.PROXY?Fe("Connection","Detected buffering proxy"):U.stat===hP.NOPROXY&&Fe("Connection","Detected no buffering proxy")}),setTimeout(()=>{L.so()},0),L}}function gN(){return typeof window<"u"?window:null}function zE(){return typeof document<"u"?document:null}function Ub(n){return new u2(n,!0)}class CA{constructor(e,t,i=1e3,r=1.5,a=6e4){this.Hs=e,this.timerId=t,this.wo=i,this.mo=r,this.yo=a,this.po=0,this.Io=null,this.To=Date.now(),this.reset()}reset(){this.po=0}Eo(){this.po=this.yo}Ao(e){this.cancel();const t=Math.floor(this.po+this.Ro()),i=Math.max(0,Date.now()-this.To),r=Math.max(0,t-i);r>0&&Fe("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.po} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.Io=this.Hs.enqueueAfterDelay(this.timerId,r,()=>(this.To=Date.now(),e())),this.po*=this.mo,this.po<this.wo&&(this.po=this.wo),this.po>this.yo&&(this.po=this.yo)}bo(){null!==this.Io&&(this.Io.skipDelay(),this.Io=null)}cancel(){null!==this.Io&&(this.Io.cancel(),this.Io=null)}Ro(){return(Math.random()-.5)*this.po}}class _N{constructor(e,t,i,r,a,u,f,_){this.Hs=e,this.Po=i,this.vo=r,this.Vo=a,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=f,this.listener=_,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new CA(e,t)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Mo()}stop(){var e=this;return(0,we.Z)(function*(){e.No()&&(yield e.close(0))})()}Oo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.Po,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}$o(){var e=this;return(0,we.Z)(function*(){if(e.ko())return e.close(0)})()}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}close(e,t){var i=this;return(0,we.Z)(function*(){i.Lo(),i.Uo(),i.xo.cancel(),i.So++,4!==e?i.xo.reset():t&&t.code===pe.RESOURCE_EXHAUSTED?(Si(t.toString()),Si("Using maximum backoff delay to prevent overloading the backend."),i.xo.Eo()):t&&t.code===pe.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.qo(),i.stream.close(),i.stream=null),i.state=e,yield i.listener.Zr(t)})()}qo(){}auth(){this.state=1;const e=this.Ko(this.So),t=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.So===t&&this.Go(i,r)},i=>{e(()=>{const r=new Re(pe.UNKNOWN,"Fetching auth token failed: "+i.message);return this.Qo(r)})})}Go(e,t){const i=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr(()=>{i(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(r=>{i(()=>this.Qo(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Mo(){var e=this;this.state=5,this.xo.Ao((0,we.Z)(function*(){e.state=0,e.start()}))}Qo(e){return Fe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return t=>{this.Hs.enqueueAndForget(()=>this.So===e?t():(Fe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class bU extends _N{constructor(e,t,i,r,a,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,r,u),this.It=a}jo(e,t){return this.Vo._o("Listen",e,t)}onMessage(e){this.xo.reset();const t=function f2(n,e){let t;if("targetChange"in e){const i="NO_CHANGE"===(_=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===_?1:"REMOVE"===_?2:"CURRENT"===_?3:"RESET"===_?4:ot(),r=e.targetChange.targetIds||[],a=function(_,b){return _.gt?(kt(void 0===b||"string"==typeof b),sr.fromBase64String(b||"")):(kt(void 0===b||b instanceof Uint8Array),sr.fromUint8Array(b||new Uint8Array))}(n,e.targetChange.resumeToken),u=e.targetChange.cause,f=u&&function(_){const b=void 0===_.code?pe.UNKNOWN:a1(_.code);return new Re(b,_.message||"")}(u);t=new h1(i,r,a,f||null)}else if("documentChange"in e){const i=e.documentChange,r=Cc(n,i.document.name),a=br(i.document.updateTime),u=new Vr({mapValue:{fields:i.document.fields}}),f=Bn.newFoundDocument(r,a,u);t=new kE(i.targetIds||[],i.removedTargetIds||[],f.key,f)}else if("documentDelete"in e){const i=e.documentDelete,r=Cc(n,i.document),a=i.readTime?br(i.readTime):St.min(),u=Bn.newNoDocument(r,a);t=new kE([],i.removedTargetIds||[],u.key,u)}else if("documentRemove"in e){const i=e.documentRemove,r=Cc(n,i.document);t=new kE([],i.removedTargetIds||[],r,null)}else{if(!("filter"in e))return ot();{const i=e.filter,a=new t2(i.count||0);t=new d1(i.targetId,a)}}var _;return t}(this.It,e),i=function(r){if(!("targetChange"in r))return St.min();const a=r.targetChange;return a.targetIds&&a.targetIds.length?St.min():a.readTime?br(a.readTime):St.min()}(e);return this.listener.Wo(t,i)}zo(e){const t={};t.database=Mb(this.It),t.addTarget=function(r,a){let u;const f=a.target;return u=IE(f)?{documents:C1(r,f)}:{query:E1(r,f)},u.targetId=a.targetId,a.resumeToken.approximateByteSize()>0?u.resumeToken=g1(r,a.resumeToken):a.snapshotVersion.compareTo(St.min())>0&&(u.readTime=xb(r,a.snapshotVersion.toTimestamp())),u}(this.It,e);const i=function m2(n,e){const t=function(i,r){switch(r){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return ot()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);i&&(t.labels=i),this.Bo(t)}Ho(e){const t={};t.database=Mb(this.It),t.removeTarget=e,this.Bo(t)}}class wU extends _N{constructor(e,t,i,r,a,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,r,u),this.It=a,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}qo(){this.Jo&&this.Xo([])}jo(e,t){return this.Vo._o("Write",e,t)}onMessage(e){if(kt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const t=function p2(n,e){return n&&n.length>0?(kt(void 0!==e),n.map(t=>function(i,r){let a=br(i.updateTime?i.updateTime:r);return a.isEqual(St.min())&&(a=br(r)),new XB(a,i.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),i=br(e.commitTime);return this.listener.Zo(i,t)}return kt(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=Mb(this.It),this.Bo(e)}Xo(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>kb(this.It,i))};this.Bo(t)}}class CU extends class{}{constructor(e,t,i,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.Vo=i,this.It=r,this.nu=!1}su(){if(this.nu)throw new Re(pe.FAILED_PRECONDITION,"The client has already been terminated.")}co(e,t,i){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,a])=>this.Vo.co(e,t,i,r,a)).catch(r=>{throw"FirebaseError"===r.name?(r.code===pe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new Re(pe.UNKNOWN,r.toString())})}fo(e,t,i,r){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,u])=>this.Vo.fo(e,t,i,a,u,r)).catch(a=>{throw"FirebaseError"===a.name?(a.code===pe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Re(pe.UNKNOWN,a.toString())})}terminate(){this.nu=!0}}class EU{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(Si(t),this.ou=!1):Fe("OnlineStateTracker",t)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class IU{constructor(e,t,i,r,a){var u=this;this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=a,this.mu.qr(f=>{i.enqueueAndForget((0,we.Z)(function*(){var _;Fh(u)&&(Fe("RemoteStore","Restarting streams for network reachability change."),yield(_=(0,we.Z)(function*(b){const I=We(b);I._u.add(4),yield C_(I),I.gu.set("Unknown"),I._u.delete(4),yield Hb(I)}),function(b){return _.apply(this,arguments)})(u))}))}),this.gu=new EU(i,r)}}function Hb(n){return EA.apply(this,arguments)}function EA(){return EA=(0,we.Z)(function*(n){if(Fh(n))for(const e of n.wu)yield e(!0)}),EA.apply(this,arguments)}function C_(n){return IA.apply(this,arguments)}function IA(){return IA=(0,we.Z)(function*(n){for(const e of n.wu)yield e(!1)}),IA.apply(this,arguments)}function qE(n,e){const t=We(n);t.du.has(e.targetId)||(t.du.set(e.targetId,e),SA(t)?TA(t):I_(t).ko()&&DA(t,e))}function jb(n,e){const t=We(n),i=I_(t);t.du.delete(e),i.ko()&&yN(t,e),0===t.du.size&&(i.ko()?i.Fo():Fh(t)&&t.gu.set("Unknown"))}function DA(n,e){n.yu.Ot(e.targetId),I_(n).zo(e)}function yN(n,e){n.yu.Ot(e),I_(n).Ho(e)}function TA(n){n.yu=new a2({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),se:e=>n.du.get(e)||null}),I_(n).start(),n.gu.uu()}function SA(n){return Fh(n)&&!I_(n).No()&&n.du.size>0}function Fh(n){return 0===We(n)._u.size}function vN(n){n.yu=void 0}function DU(n){return xA.apply(this,arguments)}function xA(){return xA=(0,we.Z)(function*(n){n.du.forEach((e,t)=>{DA(n,e)})}),xA.apply(this,arguments)}function TU(n,e){return AA.apply(this,arguments)}function AA(){return AA=(0,we.Z)(function*(n,e){vN(n),SA(n)?(n.gu.hu(e),TA(n)):n.gu.set("Unknown")}),AA.apply(this,arguments)}function SU(n,e,t){return MA.apply(this,arguments)}function MA(){return MA=(0,we.Z)(function*(n,e,t){if(n.gu.set("Online"),e instanceof h1&&2===e.state&&e.cause)try{yield(i=(0,we.Z)(function*(r,a){const u=a.cause;for(const f of a.targetIds)r.du.has(f)&&(yield r.remoteSyncer.rejectListen(f,u),r.du.delete(f),r.yu.removeTarget(f))}),function(r,a){return i.apply(this,arguments)})(n,e)}catch(i){Fe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield ZE(n,i)}else if(e instanceof kE?n.yu.Gt(e):e instanceof d1?n.yu.Yt(e):n.yu.Wt(e),!t.isEqual(St.min()))try{const i=yield aN(n.localStore);t.compareTo(i)>=0&&(yield function(r,a){const u=r.yu.te(a);return u.targetChanges.forEach((f,_)=>{if(f.resumeToken.approximateByteSize()>0){const b=r.du.get(_);b&&r.du.set(_,b.withResumeToken(f.resumeToken,a))}}),u.targetMismatches.forEach(f=>{const _=r.du.get(f);if(!_)return;r.du.set(f,_.withResumeToken(sr.EMPTY_BYTE_STRING,_.snapshotVersion)),yN(r,f);const b=new Oh(_.target,f,1,_.sequenceNumber);DA(r,b)}),r.remoteSyncer.applyRemoteEvent(u)}(n,t))}catch(i){Fe("RemoteStore","Failed to raise snapshot:",i),yield ZE(n,i)}var i}),MA.apply(this,arguments)}function ZE(n,e,t){return kA.apply(this,arguments)}function kA(){return kA=(0,we.Z)(function*(n,e,t){if(!Th(e))throw e;n._u.add(1),yield C_(n),n.gu.set("Offline"),t||(t=()=>aN(n.localStore)),n.asyncQueue.enqueueRetryable((0,we.Z)(function*(){Fe("RemoteStore","Retrying IndexedDB access"),yield t(),n._u.delete(1),yield Hb(n)}))}),kA.apply(this,arguments)}function bN(n,e){return e().catch(t=>ZE(n,t,e))}function E_(n){return RA.apply(this,arguments)}function RA(){return RA=(0,we.Z)(function*(n){const e=We(n),t=Lh(e);let i=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;xU(e);)try{const r=yield fU(e.localStore,i);if(null===r){0===e.fu.length&&t.Fo();break}i=r.batchId,AU(e,r)}catch(r){yield ZE(e,r)}wN(e)&&CN(e)}),RA.apply(this,arguments)}function xU(n){return Fh(n)&&n.fu.length<10}function AU(n,e){n.fu.push(e);const t=Lh(n);t.ko()&&t.Yo&&t.Xo(e.mutations)}function wN(n){return Fh(n)&&!Lh(n).No()&&n.fu.length>0}function CN(n){Lh(n).start()}function MU(n){return OA.apply(this,arguments)}function OA(){return OA=(0,we.Z)(function*(n){Lh(n).eu()}),OA.apply(this,arguments)}function kU(n){return PA.apply(this,arguments)}function PA(){return PA=(0,we.Z)(function*(n){const e=Lh(n);for(const t of n.fu)e.Xo(t.mutations)}),PA.apply(this,arguments)}function RU(n,e,t){return NA.apply(this,arguments)}function NA(){return NA=(0,we.Z)(function*(n,e,t){const i=n.fu.shift(),r=rA.from(i,e,t);yield bN(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield E_(n)}),NA.apply(this,arguments)}function OU(n,e){return FA.apply(this,arguments)}function FA(){return FA=(0,we.Z)(function*(n,e){var t;e&&Lh(n).Yo&&(yield(t=(0,we.Z)(function*(i,r){if(o1(a=r.code)&&a!==pe.ABORTED){const u=i.fu.shift();Lh(i).Oo(),yield bN(i,()=>i.remoteSyncer.rejectFailedWrite(u.batchId,r)),yield E_(i)}var a}),function(i,r){return t.apply(this,arguments)})(n,e)),wN(n)&&CN(n)}),FA.apply(this,arguments)}function EN(n,e){return LA.apply(this,arguments)}function LA(){return LA=(0,we.Z)(function*(n,e){const t=We(n);t.asyncQueue.verifyOperationInProgress(),Fe("RemoteStore","RemoteStore received new credentials");const i=Fh(t);t._u.add(3),yield C_(t),i&&t.gu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t._u.delete(3),yield Hb(t)}),LA.apply(this,arguments)}function VA(n,e){return BA.apply(this,arguments)}function BA(){return BA=(0,we.Z)(function*(n,e){const t=We(n);e?(t._u.delete(2),yield Hb(t)):e||(t._u.add(2),yield C_(t),t.gu.set("Unknown"))}),BA.apply(this,arguments)}function I_(n){return n.pu||(n.pu=function(e,t,i){const r=We(e);return r.su(),new bU(t,r.Vo,r.authCredentials,r.appCheckCredentials,r.It,i)}(n.datastore,n.asyncQueue,{Yr:DU.bind(null,n),Zr:TU.bind(null,n),Wo:SU.bind(null,n)}),n.wu.push(function(){var e=(0,we.Z)(function*(t){t?(n.pu.Oo(),SA(n)?TA(n):n.gu.set("Unknown")):(yield n.pu.stop(),vN(n))});return function(t){return e.apply(this,arguments)}}())),n.pu}function Lh(n){return n.Iu||(n.Iu=function(e,t,i){const r=We(e);return r.su(),new wU(t,r.Vo,r.authCredentials,r.appCheckCredentials,r.It,i)}(n.datastore,n.asyncQueue,{Yr:MU.bind(null,n),Zr:OU.bind(null,n),tu:kU.bind(null,n),Zo:RU.bind(null,n)}),n.wu.push(function(){var e=(0,we.Z)(function*(t){t?(n.Iu.Oo(),yield E_(n)):(yield n.Iu.stop(),n.fu.length>0&&(Fe("RemoteStore",`Stopping write stream with ${n.fu.length} pending writes`),n.fu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Iu}class UA{constructor(e,t,i,r,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=r,this.removalCallback=a,this.deferred=new vr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}static createAndSchedule(e,t,i,r,a){const u=Date.now()+i,f=new UA(e,t,u,r,a);return f.start(i),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Re(pe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function D_(n,e){if(Si("AsyncQueue",`${e}: ${n}`),Th(n))return new Re(pe.UNAVAILABLE,`${e}: ${n}`);throw n}class T_{constructor(e){this.comparator=e?(t,i)=>e(t,i)||Ze.comparator(t.key,i.key):(t,i)=>Ze.comparator(t.key,i.key),this.keyedMap=Ib(),this.sortedSet=new wi(this.comparator)}static emptySet(e){return new T_(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof T_)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const r=t.getNext().key,a=i.getNext().key;if(!r.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const i=new T_;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}class IN{constructor(){this.Tu=new wi(Ze.comparator)}track(e){const t=e.doc.key,i=this.Tu.get(t);i?0!==e.type&&3===i.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==i.type?this.Tu=this.Tu.insert(t,{type:i.type,doc:e.doc}):2===e.type&&2===i.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===i.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===i.type?this.Tu=this.Tu.remove(t):1===e.type&&2===i.type?this.Tu=this.Tu.insert(t,{type:1,doc:i.doc}):0===e.type&&1===i.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):ot():this.Tu=this.Tu.insert(t,e)}Eu(){const e=[];return this.Tu.inorderTraversal((t,i)=>{e.push(i)}),e}}class S_{constructor(e,t,i,r,a,u,f,_){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=a,this.fromCache=u,this.syncStateChanged=f,this.excludesMetadataChanges=_}static fromInitialDocuments(e,t,i,r){const a=[];return t.forEach(u=>{a.push({type:0,doc:u})}),new S_(e,t,T_.emptySet(t),a,i,r,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&wb(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==i[r].type||!t[r].doc.isEqual(i[r].doc))return!1;return!0}}class PU{constructor(){this.Au=void 0,this.listeners=[]}}class NU{constructor(){this.queries=new Rh(e=>$P(e),wb),this.onlineState="Unknown",this.Ru=new Set}}function HA(n,e){return jA.apply(this,arguments)}function jA(){return jA=(0,we.Z)(function*(n,e){const t=We(n),i=e.query;let r=!1,a=t.queries.get(i);if(a||(r=!0,a=new PU),r)try{a.Au=yield t.onListen(i)}catch(u){const f=D_(u,`Initialization of query '${Yx(e.query)}' failed`);return void e.onError(f)}t.queries.set(i,a),a.listeners.push(e),e.bu(t.onlineState),a.Au&&e.Pu(a.Au)&&zA(t)}),jA.apply(this,arguments)}function $A(n,e){return GA.apply(this,arguments)}function GA(){return GA=(0,we.Z)(function*(n,e){const t=We(n),i=e.query;let r=!1;const a=t.queries.get(i);if(a){const u=a.listeners.indexOf(e);u>=0&&(a.listeners.splice(u,1),r=0===a.listeners.length)}if(r)return t.queries.delete(i),t.onUnlisten(i)}),GA.apply(this,arguments)}function FU(n,e){const t=We(n);let i=!1;for(const r of e){const u=t.queries.get(r.query);if(u){for(const f of u.listeners)f.Pu(r)&&(i=!0);u.Au=r}}i&&zA(t)}function LU(n,e,t){const i=We(n),r=i.queries.get(e);if(r)for(const a of r.listeners)a.onError(t);i.queries.delete(e)}function zA(n){n.Ru.forEach(e=>{e.next()})}class qA{constructor(e,t,i){this.query=e,this.vu=t,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=i||{}}Pu(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)3!==r.type&&i.push(r);e=new S_(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),t=!0):this.Cu(e,this.onlineState)&&(this.xu(e),t=!0),this.Su=e,t}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}Cu(e,t){return!e.fromCache||!(this.options.Nu&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}Du(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}xu(e){e=S_.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Vu=!0,this.vu.next(e)}}class VU{constructor(e,t){this.payload=e,this.byteLength=t}ku(){return"metadata"in this.payload}}class DN{constructor(e){this.It=e}Ji(e){return Cc(this.It,e)}Yi(e){return e.metadata.exists?w1(this.It,e.document,!1):Bn.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}Xi(e){return br(e)}}class BU{constructor(e,t,i){this.Mu=e,this.localStore=t,this.It=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=TN(e)}Ou(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;const i=sn.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Fu(e){const t=new Map,i=new DN(this.It);for(const r of e)if(r.metadata.queries){const a=i.Ji(r.metadata.name);for(const u of r.metadata.queries){const f=(t.get(u)||jt()).add(a);t.set(u,f)}}return t}complete(){var e=this;return(0,we.Z)(function*(){const t=yield function pU(n,e,t,i){return gA.apply(this,arguments)}(e.localStore,new DN(e.It),e.documents,e.Mu.id),i=e.Fu(e.documents);for(const r of e.queries)yield mU(e.localStore,r,i.get(r.name));return e.progress.taskState="Success",{progress:e.progress,$u:e.collectionGroups,Bu:t}})()}}function TN(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class SN{constructor(e){this.key=e}}class xN{constructor(e){this.key=e}}class AN{constructor(e,t){this.query=e,this.Lu=t,this.Uu=null,this.current=!1,this.qu=jt(),this.mutatedKeys=jt(),this.Ku=zP(e),this.Gu=new T_(this.Ku)}get Qu(){return this.Lu}ju(e,t){const i=t?t.Wu:new IN,r=t?t.Gu:this.Gu;let a=t?t.mutatedKeys:this.mutatedKeys,u=r,f=!1;const _="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,b="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((I,x)=>{const L=r.get(I),B=Qx(this.query,x)?x:null,U=!!L&&this.mutatedKeys.has(L.key),ee=!!B&&(B.hasLocalMutations||this.mutatedKeys.has(B.key)&&B.hasCommittedMutations);let _e=!1;L&&B?L.data.isEqual(B.data)?U!==ee&&(i.track({type:3,doc:B}),_e=!0):this.zu(L,B)||(i.track({type:2,doc:B}),_e=!0,(_&&this.Ku(B,_)>0||b&&this.Ku(B,b)<0)&&(f=!0)):!L&&B?(i.track({type:0,doc:B}),_e=!0):L&&!B&&(i.track({type:1,doc:L}),_e=!0,(_||b)&&(f=!0)),_e&&(B?(u=u.add(B),a=ee?a.add(I):a.delete(I)):(u=u.delete(I),a=a.delete(I)))}),null!==this.query.limit)for(;u.size>this.query.limit;){const I="F"===this.query.limitType?u.last():u.first();u=u.delete(I.key),a=a.delete(I.key),i.track({type:1,doc:I})}return{Gu:u,Wu:i,$i:f,mutatedKeys:a}}zu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i){const r=this.Gu;this.Gu=e.Gu,this.mutatedKeys=e.mutatedKeys;const a=e.Wu.Eu();a.sort((b,I)=>function(x,L){const B=U=>{switch(U){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ot()}};return B(x)-B(L)}(b.type,I.type)||this.Ku(b.doc,I.doc)),this.Hu(i);const u=t?this.Ju():[],f=0===this.qu.size&&this.current?1:0,_=f!==this.Uu;return this.Uu=f,0!==a.length||_?{snapshot:new S_(this.query,e.Gu,r,a,e.mutatedKeys,0===f,_,!1),Yu:u}:{Yu:u}}bu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Gu:this.Gu,Wu:new IN,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Yu:[]}}Xu(e){return!this.Lu.has(e)&&!!this.Gu.has(e)&&!this.Gu.get(e).hasLocalMutations}Hu(e){e&&(e.addedDocuments.forEach(t=>this.Lu=this.Lu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Lu=this.Lu.delete(t)),this.current=e.current)}Ju(){if(!this.current)return[];const e=this.qu;this.qu=jt(),this.Gu.forEach(i=>{this.Xu(i.key)&&(this.qu=this.qu.add(i.key))});const t=[];return e.forEach(i=>{this.qu.has(i)||t.push(new xN(i))}),this.qu.forEach(i=>{e.has(i)||t.push(new SN(i))}),t}Zu(e){this.Lu=e.Hi,this.qu=jt();const t=this.ju(e.documents);return this.applyChanges(t,!0)}tc(){return S_.fromInitialDocuments(this.query,this.Gu,this.mutatedKeys,0===this.Uu)}}class UU{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class HU{constructor(e){this.key=e,this.ec=!1}}class jU{constructor(e,t,i,r,a,u){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=r,this.currentUser=a,this.maxConcurrentLimboResolutions=u,this.nc={},this.sc=new Rh(f=>$P(f),wb),this.ic=new Map,this.rc=new Set,this.oc=new wi(Ze.comparator),this.uc=new Map,this.cc=new cA,this.ac={},this.hc=new Map,this.lc=Rp.vn(),this.onlineState="Unknown",this.fc=void 0}get isPrimaryClient(){return!0===this.fc}}function $U(n,e){return ZA.apply(this,arguments)}function ZA(){return ZA=(0,we.Z)(function*(n,e){const t=gM(n);let i,r;const a=t.sc.get(e);if(a)i=a.targetId,t.sharedClientState.addLocalQueryTarget(i),r=a.view.tc();else{const u=yield b_(t.localStore,eo(e));t.isPrimaryClient&&qE(t.remoteStore,u);const f=t.sharedClientState.addLocalQueryTarget(u.targetId);i=u.targetId,r=yield WA(t,e,i,"current"===f)}return r}),ZA.apply(this,arguments)}function WA(n,e,t,i){return KA.apply(this,arguments)}function KA(){return KA=(0,we.Z)(function*(n,e,t,i){n.dc=(I,x,L)=>{return(B=(0,we.Z)(function*(U,ee,_e,Le){let Qe=ee.view.ju(_e);Qe.$i&&(Qe=yield jE(U.localStore,ee.query,!1).then(({documents:Tt})=>ee.view.ju(Tt,Qe)));const pt=Le&&Le.targetChanges.get(ee.targetId),rt=ee.view.applyChanges(Qe,U.isPrimaryClient,pt);return sM(U,ee.targetId,rt.Yu),rt.snapshot}),function(U,ee,_e,Le){return B.apply(this,arguments)})(n,I,x,L);var B};const r=yield jE(n.localStore,e,!0),a=new AN(e,r.Hi),u=a.ju(r.documents),f=Sb.createSynthesizedTargetChangeForCurrentChange(t,i&&"Offline"!==n.onlineState),_=a.applyChanges(u,n.isPrimaryClient,f);sM(n,t,_.Yu);const b=new UU(e,t,a);return n.sc.set(e,b),n.ic.has(t)?n.ic.get(t).push(e):n.ic.set(t,[e]),_.snapshot}),KA.apply(this,arguments)}function GU(n,e){return YA.apply(this,arguments)}function YA(){return YA=(0,we.Z)(function*(n,e){const t=We(n),i=t.sc.get(e),r=t.ic.get(i.targetId);if(r.length>1)return t.ic.set(i.targetId,r.filter(a=>!wb(a,e))),void t.sc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(i.targetId),t.sharedClientState.isActiveQueryTarget(i.targetId)||(yield w_(t.localStore,i.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(i.targetId),jb(t.remoteStore,i.targetId),x_(t,i.targetId)}).catch(Dh))):(x_(t,i.targetId),yield w_(t.localStore,i.targetId,!0))}),YA.apply(this,arguments)}function QA(){return QA=(0,we.Z)(function*(n,e,t){const i=_M(n);try{const r=yield function(a,u){const f=We(a),_=si.now(),b=u.reduce((L,B)=>L.add(B.key),jt());let I,x;return f.persistence.runTransaction("Locally write mutations","readwrite",L=>{let B=to(),U=jt();return f.Gi.getEntries(L,b).next(ee=>{B=ee,B.forEach((_e,Le)=>{Le.isValidDocument()||(U=U.add(_e))})}).next(()=>f.localDocuments.getOverlayedDocuments(L,B)).next(ee=>{I=ee;const _e=[];for(const Le of u){const Qe=e2(Le,I.get(Le.key).overlayedDocument);null!=Qe&&_e.push(new ju(Le.key,Qe,PP(Qe.value.mapValue),oi.exists(!0)))}return f.mutationQueue.addMutationBatch(L,_,_e,u)}).next(ee=>{x=ee;const _e=ee.applyToLocalDocumentSet(I,U);return f.documentOverlayCache.saveOverlays(L,ee.batchId,_e)})}).then(()=>({batchId:x.batchId,changes:c1(I)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(a,u,f){let _=a.ac[a.currentUser.toKey()];_||(_=new wi(Vt)),_=_.insert(u,f),a.ac[a.currentUser.toKey()]=_}(i,r.batchId,t),yield $u(i,r.changes),yield E_(i.remoteStore)}catch(r){const a=D_(r,"Failed to persist write");t.reject(a)}}),QA.apply(this,arguments)}function MN(n,e){return XA.apply(this,arguments)}function XA(){return XA=(0,we.Z)(function*(n,e){const t=We(n);try{const i=yield hU(t.localStore,e);e.targetChanges.forEach((r,a)=>{const u=t.uc.get(a);u&&(kt(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?u.ec=!0:r.modifiedDocuments.size>0?kt(u.ec):r.removedDocuments.size>0&&(kt(u.ec),u.ec=!1))}),yield $u(t,i,e)}catch(i){yield Dh(i)}}),XA.apply(this,arguments)}function kN(n,e,t){const i=We(n);if(i.isPrimaryClient&&0===t||!i.isPrimaryClient&&1===t){const r=[];i.sc.forEach((a,u)=>{const f=u.view.bu(e);f.snapshot&&r.push(f.snapshot)}),function(a,u){const f=We(a);f.onlineState=u;let _=!1;f.queries.forEach((b,I)=>{for(const x of I.listeners)x.bu(u)&&(_=!0)}),_&&zA(f)}(i.eventManager,e),r.length&&i.nc.Wo(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function qU(n,e,t){return JA.apply(this,arguments)}function JA(){return JA=(0,we.Z)(function*(n,e,t){const i=We(n);i.sharedClientState.updateQueryState(e,"rejected",t);const r=i.uc.get(e),a=r&&r.key;if(a){let u=new wi(Ze.comparator);u=u.insert(a,Bn.newNoDocument(a,St.min()));const f=jt().add(a),_=new Tb(St.min(),new Map,new In(Vt),u,f);yield MN(i,_),i.oc=i.oc.remove(a),i.uc.delete(e),oM(i)}else yield w_(i.localStore,e,!1).then(()=>x_(i,e,t)).catch(Dh)}),JA.apply(this,arguments)}function ZU(n,e){return eM.apply(this,arguments)}function eM(){return eM=(0,we.Z)(function*(n,e){const t=We(n),i=e.batch.batchId;try{const r=yield dU(t.localStore,e);rM(t,i,null),iM(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),yield $u(t,r)}catch(r){yield Dh(r)}}),eM.apply(this,arguments)}function WU(n,e,t){return tM.apply(this,arguments)}function tM(){return tM=(0,we.Z)(function*(n,e,t){const i=We(n);try{const r=yield function(a,u){const f=We(a);return f.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let b;return f.mutationQueue.lookupMutationBatch(_,u).next(I=>(kt(null!==I),b=I.keys(),f.mutationQueue.removeMutationBatch(_,I))).next(()=>f.mutationQueue.performConsistencyCheck(_)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(_,b,u)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,b)).next(()=>f.localDocuments.getDocuments(_,b))})}(i.localStore,e);rM(i,e,t),iM(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),yield $u(i,r)}catch(r){yield Dh(r)}}),tM.apply(this,arguments)}function nM(){return nM=(0,we.Z)(function*(n,e){const t=We(n);Fh(t.remoteStore)||Fe("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(a){const u=We(a);return u.persistence.runTransaction("Get highest unacknowledged batch id","readonly",f=>u.mutationQueue.getHighestUnacknowledgedBatchId(f))}(t.localStore);if(-1===i)return void e.resolve();const r=t.hc.get(i)||[];r.push(e),t.hc.set(i,r)}catch(i){const r=D_(i,"Initialization of waitForPendingWrites() operation failed");e.reject(r)}}),nM.apply(this,arguments)}function iM(n,e){(n.hc.get(e)||[]).forEach(t=>{t.resolve()}),n.hc.delete(e)}function rM(n,e,t){const i=We(n);let r=i.ac[i.currentUser.toKey()];if(r){const a=r.get(e);a&&(t?a.reject(t):a.resolve(),r=r.remove(e)),i.ac[i.currentUser.toKey()]=r}}function x_(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.ic.get(e))n.sc.delete(i),t&&n.nc._c(i,t);n.ic.delete(e),n.isPrimaryClient&&n.cc.ls(e).forEach(i=>{n.cc.containsKey(i)||RN(n,i)})}function RN(n,e){n.rc.delete(e.path.canonicalString());const t=n.oc.get(e);null!==t&&(jb(n.remoteStore,t),n.oc=n.oc.remove(e),n.uc.delete(t),oM(n))}function sM(n,e,t){for(const i of t)i instanceof SN?(n.cc.addReference(i.key,e),YU(n,i)):i instanceof xN?(Fe("SyncEngine","Document no longer in limbo: "+i.key),n.cc.removeReference(i.key,e),n.cc.containsKey(i.key)||RN(n,i.key)):ot()}function YU(n,e){const t=e.key,i=t.path.canonicalString();n.oc.get(t)||n.rc.has(i)||(Fe("SyncEngine","New document in limbo: "+t),n.rc.add(i),oM(n))}function oM(n){for(;n.rc.size>0&&n.oc.size<n.maxConcurrentLimboResolutions;){const e=n.rc.values().next().value;n.rc.delete(e);const t=new Ze(sn.fromString(e)),i=n.lc.next();n.uc.set(i,new HU(t)),n.oc=n.oc.insert(t,i),qE(n.remoteStore,new Oh(eo(u_(t.path)),i,2,Js.at))}}function $u(n,e,t){return aM.apply(this,arguments)}function aM(){return aM=(0,we.Z)(function*(n,e,t){const i=We(n),r=[],a=[],u=[];var f;i.sc.isEmpty()||(i.sc.forEach((f,_)=>{u.push(i.dc(_,e,t).then(b=>{if(b){i.isPrimaryClient&&i.sharedClientState.updateQueryState(_.targetId,b.fromCache?"not-current":"current"),r.push(b);const I=fA.Ci(_.targetId,b);a.push(I)}}))}),yield Promise.all(u),i.nc.Wo(r),yield(f=(0,we.Z)(function*(_,b){const I=We(_);try{yield I.persistence.runTransaction("notifyLocalViewChanges","readwrite",x=>ue.forEach(b,L=>ue.forEach(L.Si,B=>I.persistence.referenceDelegate.addReference(x,L.targetId,B)).next(()=>ue.forEach(L.Di,B=>I.persistence.referenceDelegate.removeReference(x,L.targetId,B)))))}catch(x){if(!Th(x))throw x;Fe("LocalStore","Failed to update sequence numbers: "+x)}for(const x of b){const L=x.targetId;if(!x.fromCache){const B=I.Ui.get(L),ee=B.withLastLimboFreeSnapshotVersion(B.snapshotVersion);I.Ui=I.Ui.insert(L,ee)}}}),function(_,b){return f.apply(this,arguments)})(i.localStore,a))}),aM.apply(this,arguments)}function QU(n,e){return lM.apply(this,arguments)}function lM(){return lM=(0,we.Z)(function*(n,e){const t=We(n);if(!t.currentUser.isEqual(e)){Fe("SyncEngine","User change. New user:",e.toKey());const i=yield oN(t.localStore,e);t.currentUser=e,(r=t).hc.forEach(u=>{u.forEach(f=>{f.reject(new Re(pe.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.hc.clear(),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield $u(t,i.ji)}var r}),lM.apply(this,arguments)}function XU(n,e){const t=We(n),i=t.uc.get(e);if(i&&i.ec)return jt().add(i.key);{let r=jt();const a=t.ic.get(e);if(!a)return r;for(const u of a){const f=t.sc.get(u);r=r.unionWith(f.view.Qu)}return r}}function JU(n,e){return cM.apply(this,arguments)}function cM(){return cM=(0,we.Z)(function*(n,e){const t=We(n),i=yield jE(t.localStore,e.query,!0),r=e.view.Zu(i);return t.isPrimaryClient&&sM(t,e.targetId,r.Yu),r}),cM.apply(this,arguments)}function eH(n,e){return uM.apply(this,arguments)}function uM(){return uM=(0,we.Z)(function*(n,e){const t=We(n);return uN(t.localStore,e).then(i=>$u(t,i))}),uM.apply(this,arguments)}function tH(n,e,t,i){return dM.apply(this,arguments)}function dM(){return dM=(0,we.Z)(function*(n,e,t,i){const r=We(n),a=yield function(u,f){const _=We(u),b=We(_.mutationQueue);return _.persistence.runTransaction("Lookup mutation documents","readonly",I=>b.Tn(I,f).next(x=>x?_.localDocuments.getDocuments(I,x):ue.resolve(null)))}(r.localStore,e);var f;null!==a?("pending"===t?yield E_(r.remoteStore):"acknowledged"===t||"rejected"===t?(rM(r,e,i||null),iM(r,e),f=e,We(We(r.localStore).mutationQueue).An(f)):ot(),yield $u(r,a)):Fe("SyncEngine","Cannot apply mutation batch with id: "+e)}),dM.apply(this,arguments)}function hM(){return hM=(0,we.Z)(function*(n,e){const t=We(n);if(gM(t),_M(t),!0===e&&!0!==t.fc){const i=t.sharedClientState.getAllActiveQueryTargets(),r=yield ON(t,i.toArray());t.fc=!0,yield VA(t.remoteStore,!0);for(const a of r)qE(t.remoteStore,a)}else if(!1===e&&!1!==t.fc){const i=[];let r=Promise.resolve();t.ic.forEach((a,u)=>{t.sharedClientState.isLocalQueryTarget(u)?i.push(u):r=r.then(()=>(x_(t,u),w_(t.localStore,u,!0))),jb(t.remoteStore,u)}),yield r,yield ON(t,i),function(a){const u=We(a);u.uc.forEach((f,_)=>{jb(u.remoteStore,_)}),u.cc.fs(),u.uc=new Map,u.oc=new wi(Ze.comparator)}(t),t.fc=!1,yield VA(t.remoteStore,!1)}}),hM.apply(this,arguments)}function ON(n,e,t){return fM.apply(this,arguments)}function fM(){return fM=(0,we.Z)(function*(n,e,t){const i=We(n),r=[],a=[];for(const u of e){let f;const _=i.ic.get(u);if(_&&0!==_.length){f=yield b_(i.localStore,eo(_[0]));for(const b of _){const I=i.sc.get(b),x=yield JU(i,I);x.snapshot&&a.push(x.snapshot)}}else{const b=yield cN(i.localStore,u);f=yield b_(i.localStore,b),yield WA(i,PN(b),u,!1)}r.push(f)}return i.nc.Wo(a),r}),fM.apply(this,arguments)}function PN(n){return HP(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function iH(n){const e=We(n);return We(We(e.localStore).persistence).vi()}function rH(n,e,t,i){return pM.apply(this,arguments)}function pM(){return pM=(0,we.Z)(function*(n,e,t,i){const r=We(n);if(r.fc)return void Fe("SyncEngine","Ignoring unexpected query state notification.");const a=r.ic.get(e);if(a&&a.length>0)switch(t){case"current":case"not-current":{const u=yield uN(r.localStore,GP(a[0])),f=Tb.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield $u(r,u,f);break}case"rejected":yield w_(r.localStore,e,!0),x_(r,e,i);break;default:ot()}}),pM.apply(this,arguments)}function sH(n,e,t){return mM.apply(this,arguments)}function mM(){return mM=(0,we.Z)(function*(n,e,t){const i=gM(n);if(i.fc){for(const r of e){if(i.ic.has(r)){Fe("SyncEngine","Adding an already active target "+r);continue}const a=yield cN(i.localStore,r),u=yield b_(i.localStore,a);yield WA(i,PN(a),u.targetId,!1),qE(i.remoteStore,u)}for(const r of t)i.ic.has(r)&&(yield w_(i.localStore,r,!1).then(()=>{jb(i.remoteStore,r),x_(i,r)}).catch(Dh))}}),mM.apply(this,arguments)}function gM(n){const e=We(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=MN.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=XU.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=qU.bind(null,e),e.nc.Wo=FU.bind(null,e.eventManager),e.nc._c=LU.bind(null,e.eventManager),e}function _M(n){const e=We(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=ZU.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=WU.bind(null,e),e}class NN{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,we.Z)(function*(){t.It=Ub(e.databaseInfo.databaseId),t.sharedClientState=t.mc(e),t.persistence=t.gc(e),yield t.persistence.start(),t.localStore=t.yc(e),t.gcScheduler=t.Ic(e,t.localStore),t.indexBackfillerScheduler=t.Tc(e,t.localStore)})()}Ic(e,t){return null}Tc(e,t){return null}yc(e){return sN(this.persistence,new rN,e.initialUser,this.It)}gc(e){return new nN(UE.Bs,this.It)}mc(e){return new pN}terminate(){var e=this;return(0,we.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class FN extends NN{constructor(e,t,i){super(),this.Ec=e,this.cacheSizeBytes=t,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,i=this;return(0,we.Z)(function*(){yield t().call(i,e),yield i.Ec.initialize(i,e),yield _M(i.Ec.syncEngine),yield E_(i.Ec.remoteStore),yield i.persistence.li(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(),i.indexBackfillerScheduler&&!i.indexBackfillerScheduler.started&&i.indexBackfillerScheduler.start(),Promise.resolve()))})()}yc(e){return sN(this.persistence,new rN,e.initialUser,this.It)}Ic(e,t){return new Y2(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}Tc(e,t){const i=new RB(t,this.persistence);return new kB(e.asyncQueue,i)}gc(e){const t=hA(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?no.withCacheSize(this.cacheSizeBytes):no.DEFAULT;return new dA(this.synchronizeTabs,t,e.clientId,i,e.asyncQueue,gN(),zE(),this.It,this.sharedClientState,!!this.forceOwnership)}mc(e){return new pN}}class aH extends FN{constructor(e,t){super(e,t,!1),this.Ec=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,i=this;return(0,we.Z)(function*(){yield t().call(i,e);const r=i.Ec.syncEngine;i.sharedClientState instanceof wA&&(i.sharedClientState.syncEngine={Fr:tH.bind(null,r),$r:rH.bind(null,r),Br:sH.bind(null,r),vi:iH.bind(null,r),Or:eH.bind(null,r)},yield i.sharedClientState.start()),yield i.persistence.li(function(){var a=(0,we.Z)(function*(u){yield function nH(n,e){return hM.apply(this,arguments)}(i.Ec.syncEngine,u),i.gcScheduler&&(u&&!i.gcScheduler.started?i.gcScheduler.start():u||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(u&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():u||i.indexBackfillerScheduler.stop())});return function(u){return a.apply(this,arguments)}}())})()}mc(e){const t=gN();if(!wA.C(t))throw new Re(pe.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=hA(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new wA(t,e.asyncQueue,i,e.clientId,e.initialUser)}}class yM{initialize(e,t){var i=this;return(0,we.Z)(function*(){i.localStore||(i.localStore=e.localStore,i.sharedClientState=e.sharedClientState,i.datastore=i.createDatastore(t),i.remoteStore=i.createRemoteStore(t),i.eventManager=i.createEventManager(t),i.syncEngine=i.createSyncEngine(t,!e.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>kN(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=QU.bind(null,i.syncEngine),yield VA(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(e){return new NU}createDatastore(e){const t=Ub(e.databaseInfo.databaseId),i=new vU(e.databaseInfo);return new CU(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return t=this.localStore,i=this.datastore,r=e.asyncQueue,a=f=>kN(this.syncEngine,f,0),u=mN.C()?new mN:new gU,new IU(t,i,r,a,u);var t,i,r,a,u}createSyncEngine(e,t){return function(i,r,a,u,f,_,b){const I=new jU(i,r,a,u,f,_);return b&&(I.fc=!0),I}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,we.Z)(function*(t){const i=We(t);Fe("RemoteStore","RemoteStore shutting down."),i._u.add(5),yield C_(i),i.mu.shutdown(),i.gu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function LN(n,e=10240){let t=0;return{read:()=>(0,we.Z)(function*(){if(t<n.byteLength){const i={value:n.slice(t,t+e),done:!1};return t+=e,i}return{done:!0}})(),cancel:()=>(0,we.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class WE{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ac(this.observer.next,e)}error(e){this.observer.error?this.Ac(this.observer.error,e):Si("Uncaught Error in snapshot listener:",e)}Rc(){this.muted=!0}Ac(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class lH{constructor(e,t){this.bc=e,this.It=t,this.metadata=new vr,this.buffer=new Uint8Array,this.Pc=new TextDecoder("utf-8"),this.vc().then(i=>{i&&i.ku()?this.metadata.resolve(i.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(i?.payload)}`))},i=>this.metadata.reject(i))}close(){return this.bc.cancel()}getMetadata(){var e=this;return(0,we.Z)(function*(){return e.metadata.promise})()}wc(){var e=this;return(0,we.Z)(function*(){return yield e.getMetadata(),e.vc()})()}vc(){var e=this;return(0,we.Z)(function*(){const t=yield e.Vc();if(null===t)return null;const i=e.Pc.decode(t),r=Number(i);isNaN(r)&&e.Sc(`length string (${i}) is not valid number`);const a=yield e.Dc(r);return new VU(JSON.parse(a),t.length+r)})()}Cc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Vc(){var e=this;return(0,we.Z)(function*(){for(;e.Cc()<0&&!(yield e.xc()););if(0===e.buffer.length)return null;const t=e.Cc();t<0&&e.Sc("Reached the end of bundle when a length string is expected.");const i=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),i})()}Dc(e){var t=this;return(0,we.Z)(function*(){for(;t.buffer.length<e;)(yield t.xc())&&t.Sc("Reached the end of bundle when more is expected.");const i=t.Pc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),i})()}Sc(e){throw this.bc.cancel(),new Error(`Invalid bundle format: ${e}`)}xc(){var e=this;return(0,we.Z)(function*(){const t=yield e.bc.read();if(!t.done){const i=new Uint8Array(e.buffer.length+t.value.length);i.set(e.buffer),i.set(t.value,e.buffer.length),e.buffer=i}return t.done})()}}class cH{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,we.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Re(pe.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(r=(0,we.Z)(function*(a,u){const f=We(a),_=Mb(f.It)+"/documents",b={documents:u.map(B=>Ab(f.It,B))},I=yield f.fo("BatchGetDocuments",_,b,u.length),x=new Map;I.forEach(B=>{const U=function h2(n,e){return"found"in e?function(t,i){kt(!!i.found);const r=Cc(t,i.found.name),a=br(i.found.updateTime),u=new Vr({mapValue:{fields:i.found.fields}});return Bn.newFoundDocument(r,a,u)}(n,e):"missing"in e?function(t,i){kt(!!i.missing),kt(!!i.readTime);const r=Cc(t,i.missing),a=br(i.readTime);return Bn.newNoDocument(r,a)}(n,e):ot()}(f.It,B);x.set(U.key.toString(),U)});const L=[];return u.forEach(B=>{const U=x.get(B.toString());kt(!!U),L.push(U)}),L}),function(a,u){return r.apply(this,arguments)})(t.datastore,e);var r;return i.forEach(r=>t.recordVersion(r)),i})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(e.toString())}delete(e){this.write(new m_(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,we.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var i;e.mutations.forEach(i=>{t.delete(i.key.toString())}),t.forEach((i,r)=>{const a=Ze.fromPath(r);e.mutations.push(new Xx(a,e.precondition(a)))}),yield(i=(0,we.Z)(function*(r,a){const u=We(r),f=Mb(u.It)+"/documents",_={writes:a.map(b=>kb(u.It,b))};yield u.co("Commit",f,_)}),function(r,a){return i.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw ot();t=St.min()}const i=this.readVersions.get(e.key.toString());if(i){if(!t.isEqual(i))throw new Re(pe.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(St.min())?oi.exists(!1):oi.updateTime(t):oi.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(St.min()))throw new Re(pe.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return oi.updateTime(t)}return oi.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class uH{constructor(e,t,i,r,a){this.asyncQueue=e,this.datastore=t,this.options=i,this.updateFunction=r,this.deferred=a,this.Nc=i.maxAttempts,this.xo=new CA(this.asyncQueue,"transaction_retry")}run(){this.Nc-=1,this.kc()}kc(){var e=this;this.xo.Ao((0,we.Z)(function*(){const t=new cH(e.datastore),i=e.Mc(t);i&&i.then(r=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(r)}).catch(a=>{e.Oc(a)}))}).catch(r=>{e.Oc(r)})}))}Mc(e){try{const t=this.updateFunction(e);return!mb(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Oc(e){this.Nc>0&&this.Fc(e)?(this.Nc-=1,this.asyncQueue.enqueueAndForget(()=>(this.kc(),Promise.resolve()))):this.deferred.reject(e)}Fc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!o1(t)}return!1}}class dH{constructor(e,t,i,r){var a=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=r,this.user=yr.UNAUTHENTICATED,this.clientId=gP.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var u=(0,we.Z)(function*(f){Fe("FirestoreClient","Received user=",f.uid),yield a.authCredentialListener(f),a.user=f});return function(f){return u.apply(this,arguments)}}()),this.appCheckCredentials.start(i,u=>(Fe("FirestoreClient","Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}getConfiguration(){var e=this;return(0,we.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Re(pe.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new vr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,we.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=D_(i,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}function VN(n,e){return vM.apply(this,arguments)}function vM(){return vM=(0,we.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Fe("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(function(){var r=(0,we.Z)(function*(a){i.isEqual(a)||(yield oN(e.localStore,a),i=a)});return function(a){return r.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),vM.apply(this,arguments)}function BN(n,e){return bM.apply(this,arguments)}function bM(){return bM=(0,we.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield wM(n);Fe("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield e.initialize(t,i),n.setCredentialChangeListener(r=>EN(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,a)=>EN(e.remoteStore,a)),n.onlineComponents=e}),bM.apply(this,arguments)}function wM(n){return CM.apply(this,arguments)}function CM(){return CM=(0,we.Z)(function*(n){return n.offlineComponents||(Fe("FirestoreClient","Using default OfflineComponentProvider"),yield VN(n,new NN)),n.offlineComponents}),CM.apply(this,arguments)}function KE(n){return EM.apply(this,arguments)}function EM(){return EM=(0,we.Z)(function*(n){return n.onlineComponents||(Fe("FirestoreClient","Using default OnlineComponentProvider"),yield BN(n,new yM)),n.onlineComponents}),EM.apply(this,arguments)}function UN(n){return wM(n).then(e=>e.persistence)}function YE(n){return wM(n).then(e=>e.localStore)}function HN(n){return KE(n).then(e=>e.remoteStore)}function IM(n){return KE(n).then(e=>e.syncEngine)}function A_(n){return DM.apply(this,arguments)}function DM(){return DM=(0,we.Z)(function*(n){const e=yield KE(n),t=e.eventManager;return t.onListen=$U.bind(null,e.syncEngine),t.onUnlisten=GU.bind(null,e.syncEngine),t}),DM.apply(this,arguments)}function jN(n,e,t={}){const i=new vr;return n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return function(r,a,u,f,_){const b=new WE({next:x=>{a.enqueueAndForget(()=>$A(r,I));const L=x.docs.has(u);!L&&x.fromCache?_.reject(new Re(pe.UNAVAILABLE,"Failed to get document because the client is offline.")):L&&x.fromCache&&f&&"server"===f.source?_.reject(new Re(pe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(x)},error:x=>_.reject(x)}),I=new qA(u_(u.path),b,{includeMetadataChanges:!0,Nu:!0});return HA(r,I)}(yield A_(n),n.asyncQueue,e,t,i)})),i.promise}function $N(n,e,t={}){const i=new vr;return n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return function(r,a,u,f,_){const b=new WE({next:x=>{a.enqueueAndForget(()=>$A(r,I)),x.fromCache&&"server"===f.source?_.reject(new Re(pe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(x)},error:x=>_.reject(x)}),I=new qA(u,b,{includeMetadataChanges:!0,Nu:!0});return HA(r,I)}(yield A_(n),n.asyncQueue,e,t,i)})),i.promise}const GN=new Map;function TM(n,e,t){if(!t)throw new Re(pe.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function zN(n,e,t,i){if(!0===e&&!0===i)throw new Re(pe.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function qN(n){if(!Ze.isDocumentKey(n))throw new Re(pe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function ZN(n){if(Ze.isDocumentKey(n))throw new Re(pe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function QE(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":ot()}function tn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Re(pe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=QE(n);throw new Re(pe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function WN(n,e){if(e<=0)throw new Re(pe.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class KN{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Re(pe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Re(pe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,zN("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class $b{constructor(e,t,i,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new KN({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Re(pe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Re(pe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new KN(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new vB;switch(t.type){case"gapi":return new EB(t.client,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Re(pe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=GN.get(e);t&&(Fe("ComponentProvider","Removing Datastore"),GN.delete(e),t.terminate())}(this),Promise.resolve()}}class Wn{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ic(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Wn(this.firestore,e,this._key)}}class rs{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new rs(this.firestore,e,this._query)}}class Ic extends rs{constructor(e,t,i){super(e,t,u_(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Wn(this.firestore,null,new Ze(e))}withConverter(e){return new Ic(this.firestore,e,this._path)}}function YN(n,e,...t){if(n=(0,qt.m9)(n),TM("collection","path",e),n instanceof $b){const i=sn.fromString(e,...t);return ZN(i),new Ic(n,null,i)}{if(!(n instanceof Wn||n instanceof Ic))throw new Re(pe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(sn.fromString(e,...t));return ZN(i),new Ic(n.firestore,null,i)}}function XE(n,e,...t){if(n=(0,qt.m9)(n),1===arguments.length&&(e=gP.R()),TM("doc","path",e),n instanceof $b){const i=sn.fromString(e,...t);return qN(i),new Wn(n,null,new Ze(i))}{if(!(n instanceof Wn||n instanceof Ic))throw new Re(pe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(sn.fromString(e,...t));return qN(i),new Wn(n.firestore,n instanceof Ic?n.converter:null,new Ze(i))}}function QN(n,e){return n=(0,qt.m9)(n),e=(0,qt.m9)(e),(n instanceof Wn||n instanceof Ic)&&(e instanceof Wn||e instanceof Ic)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function XN(n,e){return n=(0,qt.m9)(n),e=(0,qt.m9)(e),n instanceof rs&&e instanceof rs&&n.firestore===e.firestore&&wb(n._query,e._query)&&n.converter===e.converter}class CH{constructor(){this.$c=Promise.resolve(),this.Bc=[],this.Lc=!1,this.Uc=[],this.qc=null,this.Kc=!1,this.Gc=!1,this.Qc=[],this.xo=new CA(this,"async_queue_retry"),this.jc=()=>{const t=zE();t&&Fe("AsyncQueue","Visibility state changed to "+t.visibilityState),this.xo.bo()};const e=zE();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.jc)}get isShuttingDown(){return this.Lc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Wc(),this.zc(e)}enterRestrictedMode(e){if(!this.Lc){this.Lc=!0,this.Gc=e||!1;const t=zE();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.jc)}}enqueue(e){if(this.Wc(),this.Lc)return new Promise(()=>{});const t=new vr;return this.zc(()=>this.Lc&&this.Gc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Bc.push(e),this.Hc()))}Hc(){var e=this;return(0,we.Z)(function*(){if(0!==e.Bc.length){try{yield e.Bc[0](),e.Bc.shift(),e.xo.reset()}catch(t){if(!Th(t))throw t;Fe("AsyncQueue","Operation failed with retryable error: "+t)}e.Bc.length>0&&e.xo.Ao(()=>e.Hc())}})()}zc(e){const t=this.$c.then(()=>(this.Kc=!0,e().catch(i=>{throw this.qc=i,this.Kc=!1,Si("INTERNAL UNHANDLED ERROR: ",function(a){let u=a.message||"";return a.stack&&(u=a.stack.includes(a.message)?a.stack:a.message+"\n"+a.stack),u}(i)),i}).then(i=>(this.Kc=!1,i))));return this.$c=t,t}enqueueAfterDelay(e,t,i){this.Wc(),this.Qc.indexOf(e)>-1&&(t=0);const r=UA.createAndSchedule(this,e,t,i,a=>this.Jc(a));return this.Uc.push(r),r}Wc(){this.qc&&ot()}verifyOperationInProgress(){}Yc(){var e=this;return(0,we.Z)(function*(){let t;do{t=e.$c,yield t}while(t!==e.$c)})()}Xc(e){for(const t of this.Uc)if(t.timerId===e)return!0;return!1}Zc(e){return this.Yc().then(()=>{this.Uc.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.Uc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Yc()})}ta(e){this.Qc.push(e)}Jc(e){const t=this.Uc.indexOf(e);this.Uc.splice(t,1)}}function SM(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const i=e;for(const r of["next","error","complete"])if(r in i&&"function"==typeof i[r])return!0;return!1}(n)}class EH{constructor(){this._progressObserver={},this._taskCompletionResolver=new vr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,i){this._progressObserver={next:e,error:t,complete:i}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class ai extends $b{constructor(e,t,i,r){super(e,t,i,r),this.type="firestore",this._queue=new CH,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||JN(this),this._firestoreClient.terminate()}}function Hi(n){return n._firestoreClient||JN(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function JN(n){var e;const t=n._freezeSettings(),i=(a=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new NB(n._databaseId,a,n._persistenceKey,(f=t).host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,f.useFetchStreams));var a,f;n._firestoreClient=new dH(n._authCredentials,n._appCheckCredentials,n._queue,i)}function eF(n,e,t){const i=new vr;return n.asyncQueue.enqueue((0,we.Z)(function*(){try{yield VN(n,t),yield BN(n,e),i.resolve()}catch(r){const a=r;if(!("FirebaseError"===(u=a).name?u.code===pe.FAILED_PRECONDITION||u.code===pe.UNIMPLEMENTED:!(typeof DOMException<"u"&&u instanceof DOMException)||22===u.code||20===u.code||11===u.code))throw a;gp("Error enabling offline persistence. Falling back to persistence disabled: "+a),i.reject(a)}var u})).then(()=>i.promise)}function tF(n){if(n._initialized||n._terminated)throw new Re(pe.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Gu{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Re(pe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new bi(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Dc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Dc(sr.fromBase64String(e))}catch(t){throw new Re(pe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Dc(sr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Pp{constructor(e){this._methodName=e}}class JE{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Re(pe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Re(pe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Vt(this._lat,e._lat)||Vt(this._long,e._long)}}const OH=/^__.*__$/;class PH{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return null!==this.fieldMask?new ju(e,this.data,this.fieldMask,t,this.fieldTransforms):new p_(e,this.data,t,this.fieldTransforms)}}class nF{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new ju(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function iF(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ot()}}class eI{constructor(e,t,i,r,a,u){this.settings=e,this.databaseId=t,this.It=i,this.ignoreUndefinedProperties=r,void 0===a&&this.ea(),this.fieldTransforms=a||[],this.fieldMask=u||[]}get path(){return this.settings.path}get na(){return this.settings.na}sa(e){return new eI(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ia(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.sa({path:i,ra:!1});return r.oa(e),r}ua(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.sa({path:i,ra:!1});return r.ea(),r}ca(e){return this.sa({path:void 0,ra:!0})}aa(e){return iI(e,this.settings.methodName,this.settings.ha||!1,this.path,this.settings.la)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ea(){if(this.path)for(let e=0;e<this.path.length;e++)this.oa(this.path.get(e))}oa(e){if(0===e.length)throw this.aa("Document fields must not be empty");if(iF(this.na)&&OH.test(e))throw this.aa('Document fields cannot begin and end with "__"')}}class NH{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.It=i||Ub(e)}fa(e,t,i,r=!1){return new eI({na:e,methodName:t,la:i,path:bi.emptyPath(),ra:!1,ha:r},this.databaseId,this.It,this.ignoreUndefinedProperties)}}function Np(n){const e=n._freezeSettings(),t=Ub(n._databaseId);return new NH(n._databaseId,!!e.ignoreUndefinedProperties,t)}function tI(n,e,t,i,r,a={}){const u=n.fa(a.merge||a.mergeFields?2:0,e,t,r);kM("Data must be an object, but it was:",u,i);const f=oF(i,u);let _,b;if(a.merge)_=new Po(u.fieldMask),b=u.fieldTransforms;else if(a.mergeFields){const I=[];for(const x of a.mergeFields){const L=RM(e,x,t);if(!u.contains(L))throw new Re(pe.INVALID_ARGUMENT,`Field '${L}' is specified in your field mask but missing from your input data.`);lF(I,L)||I.push(L)}_=new Po(I),b=u.fieldTransforms.filter(x=>_.covers(x.field))}else _=null,b=u.fieldTransforms;return new PH(new Vr(f),_,b)}class Gb extends Pp{_toFieldTransform(e){if(2!==e.na)throw e.aa(1===e.na?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Gb}}function rF(n,e,t){return new eI({na:3,la:e.settings.la,methodName:n._methodName,ra:t},e.databaseId,e.It,e.ignoreUndefinedProperties)}class xM extends Pp{_toFieldTransform(e){return new Cb(e.path,new h_)}isEqual(e){return e instanceof xM}}class FH extends Pp{constructor(e,t){super(e),this.da=t}_toFieldTransform(e){const t=rF(this,e,!0),i=this.da.map(a=>Fp(a,t)),r=new Ip(i);return new Cb(e.path,r)}isEqual(e){return this===e}}class LH extends Pp{constructor(e,t){super(e),this.da=t}_toFieldTransform(e){const t=rF(this,e,!0),i=this.da.map(a=>Fp(a,t)),r=new Dp(i);return new Cb(e.path,r)}isEqual(e){return this===e}}class VH extends Pp{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=new f_(e.It,WP(e.It,this._a));return new Cb(e.path,t)}isEqual(e){return this===e}}function AM(n,e,t,i){const r=n.fa(1,e,t);kM("Data must be an object, but it was:",r,i);const a=[],u=Vr.empty();vp(i,(_,b)=>{const I=nI(e,_,t);b=(0,qt.m9)(b);const x=r.ua(I);if(b instanceof Gb)a.push(I);else{const L=Fp(b,x);null!=L&&(a.push(I),u.set(I,L))}});const f=new Po(a);return new nF(u,f,r.fieldTransforms)}function MM(n,e,t,i,r,a){const u=n.fa(1,e,t),f=[RM(e,i,t)],_=[r];if(a.length%2!=0)throw new Re(pe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let L=0;L<a.length;L+=2)f.push(RM(e,a[L])),_.push(a[L+1]);const b=[],I=Vr.empty();for(let L=f.length-1;L>=0;--L)if(!lF(b,f[L])){const B=f[L];let U=_[L];U=(0,qt.m9)(U);const ee=u.ua(B);if(U instanceof Gb)b.push(B);else{const _e=Fp(U,ee);null!=_e&&(b.push(B),I.set(B,_e))}}const x=new Po(b);return new nF(I,x,u.fieldTransforms)}function sF(n,e,t,i=!1){return Fp(t,n.fa(i?4:3,e))}function Fp(n,e){if(aF(n=(0,qt.m9)(n)))return kM("Unsupported field value:",e,n),oF(n,e);if(n instanceof Pp)return function(t,i){if(!iF(i.na))throw i.aa(`${t._methodName}() can only be used with update() and set()`);if(!i.path)throw i.aa(`${t._methodName}() is not currently supported inside arrays`);const r=t._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.ra&&4!==e.na)throw e.aa("Nested arrays are not supported");return function(t,i){const r=[];let a=0;for(const u of t){let f=Fp(u,i.ca(a));null==f&&(f={nullValue:"NULL_VALUE"}),r.push(f),a++}return{arrayValue:{values:r}}}(n,e)}return function(t,i){if(null===(t=(0,qt.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return WP(i.It,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const r=si.fromDate(t);return{timestampValue:xb(i.It,r)}}if(t instanceof si){const r=new si(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:xb(i.It,r)}}if(t instanceof JE)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Dc)return{bytesValue:g1(i.It,t._byteString)};if(t instanceof Wn){const r=i.databaseId,a=t.firestore._databaseId;if(!a.isEqual(r))throw i.aa(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:Jx(t.firestore._databaseId||i.databaseId,t._key.path)}}throw i.aa(`Unsupported field value: ${QE(t)}`)}(n,e)}function oF(n,e){const t={};return IP(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):vp(n,(i,r)=>{const a=Fp(r,e.ia(i));null!=a&&(t[i]=a)}),{mapValue:{fields:t}}}function aF(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof si||n instanceof JE||n instanceof Dc||n instanceof Wn||n instanceof Pp)}function kM(n,e,t){if(!aF(t)||"object"!=typeof(i=t)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=QE(t);throw e.aa("an object"===i?n+" a custom object":n+" "+i)}var i}function RM(n,e,t){if((e=(0,qt.m9)(e))instanceof Gu)return e._internalPath;if("string"==typeof e)return nI(n,e);throw iI("Field path arguments must be of type string or ",n,!1,void 0,t)}const BH=new RegExp("[~\\*/\\[\\]]");function nI(n,e,t){if(e.search(BH)>=0)throw iI(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Gu(...e.split("."))._internalPath}catch{throw iI(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function iI(n,e,t,i,r){const a=i&&!i.isEmpty(),u=void 0!==r;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let _="";return(a||u)&&(_+=" (found",a&&(_+=` in field ${i}`),u&&(_+=` in document ${r}`),_+=")"),new Re(pe.INVALID_ARGUMENT,f+n+_)}function lF(n,e){return n.some(t=>t.isEqual(e))}class zb{constructor(e,t,i,r,a){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=r,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Wn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new UH(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(rI("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class UH extends zb{data(){return super.data()}}function rI(n,e){return"string"==typeof e?nI(n,e):e instanceof Gu?e._internalPath:e._delegate._internalPath}class Lp{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class zu extends zb{constructor(e,t,i,r,a,u){super(e,t,i,r,u),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new qb(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(rI("DocumentSnapshot.get",e));if(null!==i)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class qb extends zu{data(e={}){return super.data(e)}}class Vh{constructor(e,t,i,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Lp(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new qb(this._firestore,this._userDataWriter,i.key,i,new Lp(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Re(pe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map(u=>({type:"added",doc:new qb(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Lp(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:a++}))}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(u=>r||3!==u.type).map(u=>{const f=new qb(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Lp(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let _=-1,b=-1;return 0!==u.type&&(_=a.indexOf(u.doc.key),a=a.delete(u.doc.key)),1!==u.type&&(a=a.add(u.doc),b=a.indexOf(u.doc.key)),{type:HH(u.type),doc:f,oldIndex:_,newIndex:b}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function HH(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ot()}}function cF(n,e){return n instanceof zu&&e instanceof zu?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Vh&&e instanceof Vh&&n._firestore===e._firestore&&XN(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function uF(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Re(pe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Zb{}function Bh(n,...e){for(const t of e)n=t._apply(n);return n}class jH extends Zb{constructor(e,t,i){super(),this.wa=e,this.ma=t,this.ga=i,this.type="where"}_apply(e){const t=Np(e.firestore),i=function(r,a,u,f,_,b,I){let x;if(_.isKeyField()){if("array-contains"===b||"array-contains-any"===b)throw new Re(pe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${b}' queries on documentId().`);if("in"===b||"not-in"===b){gF(I,b);const B=[];for(const U of I)B.push(mF(f,r,U));x={arrayValue:{values:B}}}else x=mF(f,r,I)}else"in"!==b&&"not-in"!==b&&"array-contains-any"!==b||gF(I,b),x=sF(u,"where",I,"in"===b||"not-in"===b);const L=Br.create(_,b,x);return function(B,U){if(U.dt()){const _e=Wx(B);if(null!==_e&&!_e.isEqual(U.field))throw new Re(pe.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${_e.toString()}' and '${U.field.toString()}'`);const Le=Zx(B);null!==Le&&_F(0,U.field,Le)}const ee=function(_e,Le){for(const Qe of _e.filters)if(Le.indexOf(Qe.op)>=0)return Qe.op;return null}(B,function(_e){switch(_e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(U.op));if(null!==ee)throw new Re(pe.INVALID_ARGUMENT,ee===U.op?`Invalid query. You cannot use more than one '${U.op.toString()}' filter.`:`Invalid query. You cannot use '${U.op.toString()}' filters with '${ee.toString()}' filters.`)}(r,L),L}(e._query,0,t,e.firestore._databaseId,this.wa,this.ma,this.ga);return new rs(e.firestore,e.converter,function(r,a){const u=r.filters.concat([a]);return new Hu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),u,r.limit,r.limitType,r.startAt,r.endAt)}(e._query,i))}}class GH extends Zb{constructor(e,t){super(),this.wa=e,this.ya=t,this.type="orderBy"}_apply(e){const t=function(i,r,a){if(null!==i.startAt)throw new Re(pe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new Re(pe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const u=new c_(r,a);return function(f,_){if(null===Zx(f)){const b=Wx(f);null!==b&&_F(0,b,_.field)}}(i,u),u}(e._query,this.wa,this.ya);return new rs(e.firestore,e.converter,function(i,r){const a=i.explicitOrderBy.concat([r]);return new Hu(i.path,i.collectionGroup,a,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}class dF extends Zb{constructor(e,t,i){super(),this.type=e,this.pa=t,this.Ia=i}_apply(e){return new rs(e.firestore,e.converter,TE(e._query,this.pa,this.Ia))}}class hF extends Zb{constructor(e,t,i){super(),this.type=e,this.Ta=t,this.Ea=i}_apply(e){const t=pF(e,this.type,this.Ta,this.Ea);return new rs(e.firestore,e.converter,(r=t,new Hu((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,r,i.endAt)));var i,r}}class fF extends Zb{constructor(e,t,i){super(),this.type=e,this.Ta=t,this.Ea=i}_apply(e){const t=pF(e,this.type,this.Ta,this.Ea);return new rs(e.firestore,e.converter,(r=t,new Hu((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,r)));var i,r}}function pF(n,e,t,i){if(t[0]=(0,qt.m9)(t[0]),t[0]instanceof zb)return function(r,a,u,f,_){if(!f)throw new Re(pe.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${u}().`);const b=[];for(const I of d_(r))if(I.field.isKeyField())b.push(Cp(a,f.key));else{const x=f.data.field(I.field);if(Gx(x))throw new Re(pe.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+I.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===x){const L=I.field.canonicalString();throw new Re(pe.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${L}' (used as the orderBy) does not exist.`)}b.push(x)}return new kh(b,_)}(n._query,n.firestore._databaseId,e,t[0]._document,i);{const r=Np(n.firestore);return function(a,u,f,_,b,I){const x=a.explicitOrderBy;if(b.length>x.length)throw new Re(pe.INVALID_ARGUMENT,`Too many arguments provided to ${_}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const L=[];for(let B=0;B<b.length;B++){const U=b[B];if(x[B].field.isKeyField()){if("string"!=typeof U)throw new Re(pe.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${_}(), but got a ${typeof U}`);if(!Kx(a)&&-1!==U.indexOf("/"))throw new Re(pe.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${_}() must be a plain document ID, but '${U}' contains a slash.`);const ee=a.path.child(sn.fromString(U));if(!Ze.isDocumentKey(ee))throw new Re(pe.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${_}() must result in a valid document path, but '${ee}' is not because it contains an odd number of segments.`);const _e=new Ze(ee);L.push(Cp(u,_e))}else{const ee=sF(f,_,U);L.push(ee)}}return new kh(L,I)}(n._query,n.firestore._databaseId,r,e,t,i)}}function mF(n,e,t){if("string"==typeof(t=(0,qt.m9)(t))){if(""===t)throw new Re(pe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Kx(e)&&-1!==t.indexOf("/"))throw new Re(pe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(sn.fromString(t));if(!Ze.isDocumentKey(i))throw new Re(pe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Cp(n,new Ze(i))}if(t instanceof Wn)return Cp(n,t._key);throw new Re(pe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${QE(t)}.`)}function gF(n,e){if(!Array.isArray(n)||0===n.length)throw new Re(pe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new Re(pe.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function _F(n,e,t){if(!t.isEqual(e))throw new Re(pe.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}const XH={maxAttempts:5};class OM{convertValue(e,t="none"){switch(wp(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ci(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(bp(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw ot()}}convertObject(e,t){const i={};return vp(e.fields,(r,a)=>{i[r]=this.convertValue(a,t)}),i}convertGeoPoint(e){return new JE(Ci(e.latitude),Ci(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=TP(e);return null==i?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(pb(e));default:return null}}convertTimestamp(e){const t=Sh(e);return new si(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=sn.fromString(e);kt(T1(i));const r=new xh(i.get(1),i.get(3)),a=new Ze(i.popFirst(5));return r.isEqual(t)||Si(`Document ${a} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}function sI(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}class JH extends OM{constructor(e){super(),this.firestore=e}convertBytes(e){return new Dc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Wn(this.firestore,null,t)}}class yF{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Np(e)}set(e,t,i){this._verifyNotCommitted();const r=Uh(e,this._firestore),a=sI(r.converter,t,i),u=tI(this._dataReader,"WriteBatch.set",r._key,a,null!==r.converter,i);return this._mutations.push(u.toMutation(r._key,oi.none())),this}update(e,t,i,...r){this._verifyNotCommitted();const a=Uh(e,this._firestore);let u;return u="string"==typeof(t=(0,qt.m9)(t))||t instanceof Gu?MM(this._dataReader,"WriteBatch.update",a._key,t,i,r):AM(this._dataReader,"WriteBatch.update",a._key,t),this._mutations.push(u.toMutation(a._key,oi.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Uh(e,this._firestore);return this._mutations=this._mutations.concat(new m_(t._key,oi.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Re(pe.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Uh(n,e){if((n=(0,qt.m9)(n)).firestore!==e)throw new Re(pe.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class Vp extends OM{constructor(e){super(),this.firestore=e}convertBytes(e){return new Dc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Wn(this.firestore,null,t)}}function vF(n,e,t){n=tn(n,Wn);const i=tn(n.firestore,ai),r=sI(n.converter,e,t);return M_(i,[tI(Np(i),"setDoc",n._key,r,null!==n.converter,t).toMutation(n._key,oi.none())])}function bF(n,e,t,...i){n=tn(n,Wn);const r=tn(n.firestore,ai),a=Np(r);let u;return u="string"==typeof(e=(0,qt.m9)(e))||e instanceof Gu?MM(a,"updateDoc",n._key,e,t,i):AM(a,"updateDoc",n._key,e),M_(r,[u.toMutation(n._key,oi.exists(!0))])}function wF(n,...e){var t,i,r;n=(0,qt.m9)(n);let a={includeMetadataChanges:!1},u=0;"object"!=typeof e[u]||SM(e[u])||(a=e[u],u++);const f={includeMetadataChanges:a.includeMetadataChanges};if(SM(e[u])){const x=e[u];e[u]=null===(t=x.next)||void 0===t?void 0:t.bind(x),e[u+1]=null===(i=x.error)||void 0===i?void 0:i.bind(x),e[u+2]=null===(r=x.complete)||void 0===r?void 0:r.bind(x)}let _,b,I;if(n instanceof Wn)b=tn(n.firestore,ai),I=u_(n._key.path),_={next:x=>{e[u]&&e[u](PM(b,n,x))},error:e[u+1],complete:e[u+2]};else{const x=tn(n,rs);b=tn(x.firestore,ai),I=x._query;const L=new Vp(b);_={next:B=>{e[u]&&e[u](new Vh(b,L,x,B))},error:e[u+1],complete:e[u+2]},uF(n._query)}return function(x,L,B,U){const ee=new WE(U),_e=new qA(L,ee,B);return x.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return HA(yield A_(x),_e)})),()=>{ee.Rc(),x.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return $A(yield A_(x),_e)}))}}(Hi(b),I,f,_)}function M_(n,e){return function(t,i){const r=new vr;return t.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return function zU(n,e,t){return QA.apply(this,arguments)}(yield IM(t),i,r)})),r.promise}(Hi(n),e)}function PM(n,e,t){const i=t.docs.get(e._key),r=new Vp(n);return new zu(n,r,e._key,i,new Lp(t.hasPendingWrites,t.fromCache),e.converter)}class cj extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Np(e)}get(e){const t=Uh(e,this._firestore),i=new JH(this._firestore);return this._transaction.lookup([t._key]).then(r=>{if(!r||1!==r.length)return ot();const a=r[0];if(a.isFoundDocument())return new zb(this._firestore,i,a.key,a,t.converter);if(a.isNoDocument())return new zb(this._firestore,i,t._key,null,t.converter);throw ot()})}set(e,t,i){const r=Uh(e,this._firestore),a=sI(r.converter,t,i),u=tI(this._dataReader,"Transaction.set",r._key,a,null!==r.converter,i);return this._transaction.set(r._key,u),this}update(e,t,i,...r){const a=Uh(e,this._firestore);let u;return u="string"==typeof(t=(0,qt.m9)(t))||t instanceof Gu?MM(this._dataReader,"Transaction.update",a._key,t,i,r):AM(this._dataReader,"Transaction.update",a._key,t),this._transaction.update(a._key,u),this}delete(e){const t=Uh(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Uh(e,this._firestore),i=new Vp(this._firestore);return super.get(e).then(r=>new zu(this._firestore,i,t._key,r._document,new Lp(!1,!1),t.converter))}}function NM(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Re("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function EF(){if(typeof Uint8Array>"u")throw new Re("unimplemented","Uint8Arrays are not available in this environment.")}function IF(){if(!function OB(){return typeof atob<"u"}())throw new Re("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){s_=gc.SDK_VERSION,(0,gc._registerComponent)(new gl.wA("firestore",(t,{instanceIdentifier:i,options:r})=>{const a=t.getProvider("app").getImmediate(),u=new ai(new wB(t.getProvider("auth-internal")),new IB(t.getProvider("app-check-internal")),function(f,_){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new Re(pe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new xh(f.options.projectId,_)}(a,i),a);return r=Object.assign({useFetchStreams:e},r),u._setSettings(r),u},"PUBLIC").setMultipleInstances(!0)),(0,gc.registerVersion)(fP,"3.4.15",n),(0,gc.registerVersion)(fP,"3.4.15","esm2017")}();class Wb{constructor(e){this._delegate=e}static fromBase64String(e){return IF(),new Wb(Dc.fromBase64String(e))}static fromUint8Array(e){return EF(),new Wb(Dc.fromUint8Array(e))}toBase64(){return IF(),this._delegate.toBase64()}toUint8Array(){return EF(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function FM(n){return function yj(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const i of e)if(i in t&&"function"==typeof t[i])return!0;return!1}(n,["next","error","complete"])}class vj{enableIndexedDbPersistence(e,t){return function DH(n,e){tF(n=tn(n,ai));const t=Hi(n),i=n._freezeSettings(),r=new yM;return eF(t,r,new FN(r,i.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function TH(n){tF(n=tn(n,ai));const e=Hi(n),t=n._freezeSettings(),i=new yM;return eF(e,i,new aH(i,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function SH(n){if(n._initialized&&!n._terminated)throw new Re(pe.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new vr;return n._queue.enqueueAndForgetEvenWhileRestricted((0,we.Z)(function*(){try{yield(t=(0,we.Z)(function*(i){if(!vl.C())return Promise.resolve();const r=i+"main";yield vl.delete(r)}),function(i){return t.apply(this,arguments)})(hA(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class DF{constructor(e,t,i){this._delegate=t,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},e instanceof xh||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&gp("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,i={}){!function bH(n,e,t,i={}){var r;const a=(n=tn(n,$b))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==e&&gp("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},a),{host:`${e}:${t}`,ssl:!1})),i.mockUserToken){let u,f;if("string"==typeof i.mockUserToken)u=i.mockUserToken,f=yr.MOCK_USER;else{u=(0,qt.Sg)(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const _=i.mockUserToken.sub||i.mockUserToken.user_id;if(!_)throw new Re(pe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new yr(_)}n._authCredentials=new bB(new pP(u,f))}}(this._delegate,e,t,i)}enableNetwork(){return function AH(n){return function hH(n){return n.asyncQueue.enqueue((0,we.Z)(function*(){const e=yield UN(n),t=yield HN(n);return e.setNetworkEnabled(!0),function(i){const r=We(i);return r._u.delete(0),Hb(r)}(t)}))}(Hi(n=tn(n,ai)))}(this._delegate)}disableNetwork(){return function MH(n){return function fH(n){return n.asyncQueue.enqueue((0,we.Z)(function*(){const e=yield UN(n),t=yield HN(n);return e.setNetworkEnabled(!1),(i=(0,we.Z)(function*(r){const a=We(r);a._u.add(0),yield C_(a),a.gu.set("Offline")}),function(r){return i.apply(this,arguments)})(t);var i}))}(Hi(n=tn(n,ai)))}(this._delegate)}enablePersistence(e){let t=!1,i=!1;return e&&(t=!!e.synchronizeTabs,i=!!e.experimentalForceOwningTab,zN("synchronizeTabs",t,"experimentalForceOwningTab",i)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function xH(n){return function(e){const t=new vr;return e.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return function KU(n,e){return nM.apply(this,arguments)}(yield IM(e),t)})),t.promise}(Hi(n=tn(n,ai)))}(this._delegate)}onSnapshotsInSync(e){return function lj(n,e){return function gH(n,e){const t=new WE(e);return n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return i=yield A_(n),r=t,We(i).Ru.add(r),void r.next();var i,r})),()=>{t.Rc(),n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return i=yield A_(n),r=t,void We(i).Ru.delete(r);var i,r}))}}(Hi(n=tn(n,ai)),SM(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Re("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new k_(this,YN(this._delegate,e))}catch(t){throw As(t,"collection()","Firestore.collection()")}}doc(e){try{return new ya(this,XE(this._delegate,e))}catch(t){throw As(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Ms(this,function wH(n,e){if(n=tn(n,$b),TM("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Re(pe.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new rs(n,null,(t=e,new Hu(sn.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw As(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function uj(n,e,t){n=tn(n,ai);const i=Object.assign(Object.assign({},XH),t);return function(r){if(r.maxAttempts<1)throw new Re(pe.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function _H(n,e,t){const i=new vr;return n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){const r=yield(a=n,KE(a).then(u=>u.datastore));var a;new uH(n.asyncQueue,r,t,e,i).run()})),i.promise}(Hi(n),r=>e(new cj(n,r)),i)}(this._delegate,t=>e(new TF(this,t)))}batch(){return Hi(this._delegate),new SF(new yF(this._delegate,e=>M_(this._delegate,e)))}loadBundle(e){return function kH(n,e){const t=Hi(n=tn(n,ai)),i=new EH;return function yH(n,e,t,i){const r=function(a,u){let f;return f="string"==typeof a?(new TextEncoder).encode(a):a,_=function(_,b){if(_ instanceof Uint8Array)return LN(_,b);if(_ instanceof ArrayBuffer)return LN(new Uint8Array(_),b);if(_ instanceof ReadableStream)return _.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(f),new lH(_,u);var _}(t,Ub(e));n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){!function oH(n,e,t){const i=We(n);var r;(r=(0,we.Z)(function*(a,u,f){try{const _=yield u.getMetadata();if(yield function(L,B){const U=We(L),ee=br(B.createTime);return U.persistence.runTransaction("hasNewerBundle","readonly",_e=>U.Ns.getBundleMetadata(_e,B.id)).then(_e=>!!_e&&_e.createTime.compareTo(ee)>=0)}(a.localStore,_))return yield u.close(),f._completeWith({taskState:"Success",documentsLoaded:(L=_).totalDocuments,bytesLoaded:L.totalBytes,totalDocuments:L.totalDocuments,totalBytes:L.totalBytes}),Promise.resolve(new Set);f._updateProgress(TN(_));const b=new BU(_,a.localStore,u.It);let I=yield u.wc();for(;I;){const L=yield b.Ou(I);L&&f._updateProgress(L),I=yield u.wc()}const x=yield b.complete();return yield $u(a,x.Bu,void 0),yield function(L,B){const U=We(L);return U.persistence.runTransaction("Save bundle","readwrite",ee=>U.Ns.saveBundleMetadata(ee,B))}(a.localStore,_),f._completeWith(x.progress),Promise.resolve(x.$u)}catch(_){return gp("SyncEngine",`Loading bundle failed with ${_}`),f._failWith(_),Promise.resolve(new Set)}var L}),function(a,u,f){return r.apply(this,arguments)})(i,e,t).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}(yield IM(n),r,i)}))}(t,n._databaseId,e,i),i}(this._delegate,e)}namedQuery(e){return function RH(n,e){return function vH(n,e){return n.asyncQueue.enqueue((0,we.Z)(function*(){return function(t,i){const r=We(t);return r.persistence.runTransaction("Get named query","readonly",a=>r.Ns.getNamedQuery(a,i))}(yield YE(n),e)}))}(Hi(n=tn(n,ai)),e).then(t=>t?new rs(n,null,t.query):null)}(this._delegate,e).then(t=>t?new Ms(this,t):null)}}class oI extends OM{constructor(e){super(),this.firestore=e}convertBytes(e){return new Wb(new Dc(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return ya.forKey(t,this.firestore,null)}}class TF{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new oI(e)}get(e){const t=Up(e);return this._delegate.get(t).then(i=>new Kb(this._firestore,new zu(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,t.converter)))}set(e,t,i){const r=Up(e);return i?(NM("Transaction.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){const a=Up(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,i,...r),this}delete(e){const t=Up(e);return this._delegate.delete(t),this}}class SF{constructor(e){this._delegate=e}set(e,t,i){const r=Up(e);return i?(NM("WriteBatch.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){const a=Up(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,i,...r),this}delete(e){const t=Up(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Bp{constructor(e,t,i){this._firestore=e,this._userDataWriter=t,this._delegate=i}fromFirestore(e,t){const i=new qb(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Yb(this._firestore,i),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const i=Bp.INSTANCES;let r=i.get(e);r||(r=new WeakMap,i.set(e,r));let a=r.get(t);return a||(a=new Bp(e,new oI(e),t),r.set(t,a)),a}}Bp.INSTANCES=new WeakMap;class ya{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new oI(e)}static forPath(e,t,i){if(e.length%2!=0)throw new Re("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new ya(t,new Wn(t._delegate,i,new Ze(e)))}static forKey(e,t,i){return new ya(t,new Wn(t._delegate,i,e))}get id(){return this._delegate.id}get parent(){return new k_(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new k_(this.firestore,YN(this._delegate,e))}catch(t){throw As(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,qt.m9)(e))instanceof Wn&&QN(this._delegate,e)}set(e,t){t=NM("DocumentReference.set",t);try{return t?vF(this._delegate,e,t):vF(this._delegate,e)}catch(i){throw As(i,"setDoc()","DocumentReference.set()")}}update(e,t,...i){try{return 1===arguments.length?bF(this._delegate,e):bF(this._delegate,e,t,...i)}catch(r){throw As(r,"updateDoc()","DocumentReference.update()")}}delete(){return function oj(n){return M_(tn(n.firestore,ai),[new m_(n._key,oi.none())])}(this._delegate)}onSnapshot(...e){const t=xF(e),i=AF(e,r=>new Kb(this.firestore,new zu(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return wF(this._delegate,t,i)}get(e){let t;return t="cache"===e?.source?function tj(n){n=tn(n,Wn);const e=tn(n.firestore,ai),t=Hi(e),i=new Vp(e);return function pH(n,e){const t=new vr;return n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return(i=(0,we.Z)(function*(r,a,u){try{const f=yield function(_,b){const I=We(_);return I.persistence.runTransaction("read document","readonly",x=>I.localDocuments.getDocument(x,b))}(r,a);f.isFoundDocument()?u.resolve(f):f.isNoDocument()?u.resolve(null):u.reject(new Re(pe.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(f){const _=D_(f,`Failed to get document '${a} from cache`);u.reject(_)}}),function(r,a,u){return i.apply(this,arguments)})(yield YE(n),e,t);var i})),t.promise}(t,n._key).then(r=>new zu(e,i,n._key,r,new Lp(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function nj(n){n=tn(n,Wn);const e=tn(n.firestore,ai);return jN(Hi(e),n._key,{source:"server"}).then(t=>PM(e,n,t))}(this._delegate):function ej(n){n=tn(n,Wn);const e=tn(n.firestore,ai);return jN(Hi(e),n._key).then(t=>PM(e,n,t))}(this._delegate),t.then(i=>new Kb(this.firestore,new zu(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(e){return new ya(this.firestore,this._delegate.withConverter(e?Bp.getInstance(this.firestore,e):null))}}function As(n,e,t){return n.message=n.message.replace(e,t),n}function xF(n){for(const e of n)if("object"==typeof e&&!FM(e))return e;return{}}function AF(n,e){var t,i;let r;return r=FM(n[0])?n[0]:FM(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:a=>{r.next&&r.next(e(a))},error:null===(t=r.error)||void 0===t?void 0:t.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class Kb{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new ya(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return cF(this._delegate,e._delegate)}}class Yb extends Kb{data(e){const t=this._delegate.data(e);return function yB(n,e){n||ot()}(void 0!==t),t}}class Ms{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new oI(e)}where(e,t,i){try{return new Ms(this.firestore,Bh(this._delegate,function $H(n,e,t){const i=e,r=rI("where",n);return new jH(r,i,t)}(e,t,i)))}catch(r){throw As(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Ms(this.firestore,Bh(this._delegate,function zH(n,e="asc"){const t=e,i=rI("orderBy",n);return new GH(i,t)}(e,t)))}catch(i){throw As(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Ms(this.firestore,Bh(this._delegate,function qH(n){return WN("limit",n),new dF("limit",n,"F")}(e)))}catch(t){throw As(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Ms(this.firestore,Bh(this._delegate,function ZH(n){return WN("limitToLast",n),new dF("limitToLast",n,"L")}(e)))}catch(t){throw As(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Ms(this.firestore,Bh(this._delegate,function WH(...n){return new hF("startAt",n,!0)}(...e)))}catch(t){throw As(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Ms(this.firestore,Bh(this._delegate,function KH(...n){return new hF("startAfter",n,!1)}(...e)))}catch(t){throw As(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Ms(this.firestore,Bh(this._delegate,function YH(...n){return new fF("endBefore",n,!1)}(...e)))}catch(t){throw As(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Ms(this.firestore,Bh(this._delegate,function QH(...n){return new fF("endAt",n,!0)}(...e)))}catch(t){throw As(t,"endAt()","Query.endAt()")}}isEqual(e){return XN(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function rj(n){n=tn(n,rs);const e=tn(n.firestore,ai),t=Hi(e),i=new Vp(e);return function mH(n,e){const t=new vr;return n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return(i=(0,we.Z)(function*(r,a,u){try{const f=yield jE(r,a,!0),_=new AN(a,f.Hi),b=_.ju(f.documents),I=_.applyChanges(b,!1);u.resolve(I.snapshot)}catch(f){const _=D_(f,`Failed to execute query '${a} against cache`);u.reject(_)}}),function(r,a,u){return i.apply(this,arguments)})(yield YE(n),e,t);var i})),t.promise}(t,n._query).then(r=>new Vh(e,i,n,r))}(this._delegate):"server"===e?.source?function sj(n){n=tn(n,rs);const e=tn(n.firestore,ai),t=Hi(e),i=new Vp(e);return $N(t,n._query,{source:"server"}).then(r=>new Vh(e,i,n,r))}(this._delegate):function ij(n){n=tn(n,rs);const e=tn(n.firestore,ai),t=Hi(e),i=new Vp(e);return uF(n._query),$N(t,n._query).then(r=>new Vh(e,i,n,r))}(this._delegate),t.then(i=>new LM(this.firestore,new Vh(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...e){const t=xF(e),i=AF(e,r=>new LM(this.firestore,new Vh(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return wF(this._delegate,t,i)}withConverter(e){return new Ms(this.firestore,this._delegate.withConverter(e?Bp.getInstance(this.firestore,e):null))}}class wj{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Yb(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class LM{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Ms(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Yb(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new wj(this._firestore,t))}forEach(e,t){this._delegate.forEach(i=>{e.call(t,new Yb(this._firestore,i))})}isEqual(e){return cF(this._delegate,e._delegate)}}class k_ extends Ms{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new ya(this.firestore,e):null}doc(e){try{return new ya(this.firestore,void 0===e?XE(this._delegate):XE(this._delegate,e))}catch(t){throw As(t,"doc()","CollectionReference.doc()")}}add(e){return function aj(n,e){const t=tn(n.firestore,ai),i=XE(n),r=sI(n.converter,e);return M_(t,[tI(Np(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,oi.exists(!1))]).then(()=>i)}(this._delegate,e).then(t=>new ya(this.firestore,t))}isEqual(e){return QN(this._delegate,e._delegate)}withConverter(e){return new k_(this.firestore,this._delegate.withConverter(e?Bp.getInstance(this.firestore,e):null))}}function Up(n){return tn(n,Wn)}class VM{constructor(...e){this._delegate=new Gu(...e)}static documentId(){return new VM(bi.keyField().canonicalString())}isEqual(e){return(e=(0,qt.m9)(e))instanceof Gu&&this._delegate._internalPath.isEqual(e._internalPath)}}class Hp{constructor(e){this._delegate=e}static serverTimestamp(){const e=function hj(){return new xM("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Hp(e)}static delete(){const e=function dj(){return new Gb("deleteField")}();return e._methodName="FieldValue.delete",new Hp(e)}static arrayUnion(...e){const t=function fj(...n){return new FH("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new Hp(t)}static arrayRemove(...e){const t=function pj(...n){return new LH("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new Hp(t)}static increment(e){const t=function mj(n){return new VH("increment",n)}(e);return t._methodName="FieldValue.increment",new Hp(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const Cj={Firestore:DF,GeoPoint:JE,Timestamp:si,Blob:Wb,Transaction:TF,WriteBatch:SF,DocumentReference:ya,DocumentSnapshot:Kb,Query:Ms,QueryDocumentSnapshot:Yb,QuerySnapshot:LM,CollectionReference:k_,FieldPath:VM,FieldValue:Hp,setLogLevel:function bj(n){!function _B(n){Ih.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function Ij(n){(function Ej(n,e){n.INTERNAL.registerComponent(new gl.wA("firestore-compat",t=>{const i=t.getProvider("app-compat").getImmediate(),r=t.getProvider("firestore").getImmediate();return e(i,r)},"PUBLIC").setServiceProps(Object.assign({},Cj)))})(n,(e,t)=>new DF(e,t,new vj)),n.registerVersion("@firebase/firestore-compat","0.1.24")}(PC.Z);var aI=P(5363),Dj=P(6063);class Tj extends Nt.x{constructor(e=1/0,t=1/0,i=Dj.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:a,_windowTime:u}=this;t||(i.push(e),!r&&i.push(a.now()+u)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:i,_buffer:r}=this,a=r.slice();for(let u=0;u<a.length&&!e.closed;u+=i?1:2)e.next(a[u]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:i,_infiniteTimeWindow:r}=this,a=(r?1:2)*e;if(e<1/0&&a<i.length&&i.splice(0,i.length-a),!r){const u=t.now();let f=0;for(let _=1;_<i.length&&i[_]<=u;_+=2)f=_;f&&i.splice(0,f+1)}}}var MF=P(3099);function kF(n,e,t){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:e=1/0,refCount:r=!1,scheduler:t}=n):i=n??1/0,(0,MF.B)({connector:()=>new Tj(i,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function RF(n,e){return(0,oa.m)(e)?Li(()=>n,e):Li(()=>n)}var BM=P(9468);P(5867);const PF=new Map,kj={activated:!1,tokenObservers:[]},Rj={initialized:!1,enabled:!1};function Er(n){return PF.get(n)||kj}function bl(n,e){PF.set(n,e)}function cI(){return Rj}class Lj{constructor(e,t,i,r,a){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=a,this.pending=null,this.nextErrorWaitInterval=r,r>a)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,we.Z)(function*(){t.stop();try{t.pending=new qt.BH,yield function Vj(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new qt.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(i){t.retryPolicy(i)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const ks=new qt.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function FF(n){if(!Er(n).activated)throw ks.create("use-before-activation",{appName:n.name})}function $M(n,e){return GM.apply(this,arguments)}function GM(){return GM=(0,we.Z)(function*({url:n,body:e},t){var i,r;const a={"Content-Type":"application/json"},u=t.getImmediate({optional:!0});if(u){const B=yield u.getHeartbeatsHeader();B&&(a["X-Firebase-Client"]=B)}const f={method:"POST",body:JSON.stringify(e),headers:a};let _,b;try{_=yield fetch(n,f)}catch(B){throw ks.create("fetch-network-error",{originalErrorMessage:null===(i=B)||void 0===i?void 0:i.message})}if(200!==_.status)throw ks.create("fetch-status-error",{httpStatus:_.status});try{b=yield _.json()}catch(B){throw ks.create("fetch-parse-error",{originalErrorMessage:null===(r=B)||void 0===r?void 0:r.message})}const I=b.ttl.match(/^([\d.]+)(s)$/);if(!I||!I[2]||isNaN(Number(I[1])))throw ks.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${b.ttl}`});const x=1e3*Number(I[1]),L=Date.now();return{token:b.token,expireTimeMillis:L+x,issuedAtTimeMillis:L}}),GM.apply(this,arguments)}function jj(n,e){const{projectId:t,appId:i,apiKey:r}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${i}:exchangeDebugToken?key=${r}`,body:{debug_token:e}}}const Qb="firebase-app-check-store";let hI=null;function VF(){return hI||(hI=new Promise((n,e)=>{var t;try{const i=indexedDB.open("firebase-app-check-database",1);i.onsuccess=r=>{n(r.target.result)},i.onerror=r=>{var a;e(ks.create("storage-open",{originalErrorMessage:null===(a=r.target.error)||void 0===a?void 0:a.message}))},i.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Qb,{keyPath:"compositeKey"})}}catch(i){e(ks.create("storage-open",{originalErrorMessage:null===(t=i)||void 0===t?void 0:t.message}))}}),hI)}function zM(){return zM=(0,we.Z)(function*(n,e){const i=(yield VF()).transaction(Qb,"readwrite"),a=i.objectStore(Qb).put({compositeKey:n,value:e});return new Promise((u,f)=>{a.onsuccess=_=>{u()},i.onerror=_=>{var b;f(ks.create("storage-set",{originalErrorMessage:null===(b=_.target.error)||void 0===b?void 0:b.message}))}})}),zM.apply(this,arguments)}const Xb=new _c.Yd("@firebase/app-check");function jF(n,e){return(0,qt.hl)()?function qj(n,e){return function BF(n,e){return zM.apply(this,arguments)}(function HF(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{Xb.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function $F(){return cI().enabled}function GF(){return KM.apply(this,arguments)}function KM(){return KM=(0,we.Z)(function*(){const n=cI();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),KM.apply(this,arguments)}const Xj={error:"UNKNOWN_ERROR"};function Jj(n){return qt.US.encodeString(JSON.stringify(n),!1)}function fI(n){return YM.apply(this,arguments)}function YM(){return YM=(0,we.Z)(function*(n,e=!1){const t=n.app;FF(t);const i=Er(t);let a,r=i.token;if(!r){const _=yield i.cachedTokenPromise;_&&pI(_)&&(r=_)}if(!e&&r&&pI(r))return{token:r.token};let f,u=!1;if($F()){i.exchangeTokenPromise||(i.exchangeTokenPromise=$M(jj(t,yield GF()),n.heartbeatServiceProvider).then(b=>(i.exchangeTokenPromise=void 0,b)),u=!0);const _=yield i.exchangeTokenPromise;return yield jF(t,_),bl(t,Object.assign(Object.assign({},i),{token:_})),{token:_.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().then(_=>(i.exchangeTokenPromise=void 0,_)),u=!0),r=yield i.exchangeTokenPromise}catch(_){"appCheck/throttled"===_.code?Xb.warn(_.message):Xb.error(_),a=_}return r?(f={token:r.token},bl(t,Object.assign(Object.assign({},i),{token:r})),yield jF(t,r)):f=t3(a),u&&qF(t,f),f}),YM.apply(this,arguments)}function XM(n,e){const t=Er(n),i=t.tokenObservers.filter(r=>r.next!==e);0===i.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),bl(n,Object.assign(Object.assign({},t),{tokenObservers:i}))}function zF(n){const{app:e}=n,t=Er(e);let i=t.tokenRefresher;i||(i=function e3(n){const{app:e}=n;return new Lj((0,we.Z)(function*(){let i;if(i=Er(e).token?yield fI(n,!0):yield fI(n),i.error)throw i.error}),()=>!0,()=>{const t=Er(e);if(t.token){let i=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,t.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},3e4,96e4)}(n),bl(e,Object.assign(Object.assign({},t),{tokenRefresher:i}))),!i.isRunning()&&t.isTokenAutoRefreshEnabled&&i.start()}function qF(n,e){const t=Er(n).tokenObservers;for(const i of t)try{"EXTERNAL"===i.type&&null!=e.error?i.error(e.error):i.next(e)}catch{}}function pI(n){return n.expireTimeMillis-Date.now()>0}function t3(n){return{token:Jj(Xj),error:n}}class n3{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Er(this.app);for(const t of e)XM(this.app,t.next);return Promise.resolve()}}const eL="app-check-internal";!function _3(){(0,gc._registerComponent)(new gl.wA("app-check",n=>function r3(n,e){return new n3(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(eL).initialize()})),(0,gc._registerComponent)(new gl.wA(eL,n=>function s3(n){return{getToken:e=>fI(n,e),addTokenListener:e=>function QM(n,e,t,i){const{app:r}=n,a=Er(r),u={next:t,error:i,type:e};if(bl(r,Object.assign(Object.assign({},a),{tokenObservers:[...a.tokenObservers,u]})),a.token&&pI(a.token)){const f=a.token;Promise.resolve().then(()=>{t({token:f.token}),zF(n)}).catch(()=>{})}a.cachedTokenPromise.then(()=>zF(n))}(n,"INTERNAL",e),removeTokenListener:e=>XM(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,gc.registerVersion)("@firebase/app-check","0.5.12")}();class nk{constructor(){return(0,nr.vb)("app-check")}}typeof window<"u"&&window,P(127);const nL=new c.OlP("angularfire2.auth.use-emulator"),iL=new c.OlP("angularfire2.auth.settings"),rL=new c.OlP("angularfire2.auth.tenant-id"),sL=new c.OlP("angularfire2.auth.langugage-code"),oL=new c.OlP("angularfire2.auth.use-device-language"),aL=new c.OlP("angularfire.auth.persistence"),lL=(n,e,t,i,r,a,u,f)=>(0,Ss.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const _=e.runOutsideAngular(()=>n.auth());if(t&&_.useEmulator(...t),i&&(_.tenantId=i),_.languageCode=r,a&&_.useDeviceLanguage(),u)for(const[b,I]of Object.entries(u))_.settings[b]=I;return f&&_.setPersistence(f),_},[t,i,r,a,u,f]);let gI=(()=>{class n{constructor(t,i,r,a,u,f,_,b,I,x,L,B){const U=new Nt.x,ee=tt(void 0).pipe((0,aI.Q)(u.outsideAngular),Li(()=>a.runOutsideAngular(()=>Promise.resolve().then(P.bind(P,2274)))),(0,nt.U)(()=>(0,Ss.on)(t,a,i)),(0,nt.U)(_e=>lL(_e,a,f,b,I,x,_,L)),kF({bufferSize:1,refCount:!1}));if(yi(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=tt(null);else{ee.pipe(So()).subscribe();const Le=ee.pipe(Li(rt=>rt.getRedirectResult().then(Tt=>Tt,()=>null)),nr.iC,kF({bufferSize:1,refCount:!1})),Qe=ee.pipe(Li(rt=>new Ln.y(Tt=>({unsubscribe:a.runOutsideAngular(()=>rt.onAuthStateChanged(At=>Tt.next(At),At=>Tt.error(At),()=>Tt.complete()))})))),pt=ee.pipe(Li(rt=>new Ln.y(Tt=>({unsubscribe:a.runOutsideAngular(()=>rt.onIdTokenChanged(At=>Tt.next(At),At=>Tt.error(At),()=>Tt.complete()))}))));this.authState=Le.pipe(RF(Qe),(0,BM.R)(u.outsideAngular),(0,aI.Q)(u.insideAngular)),this.user=Le.pipe(RF(pt),(0,BM.R)(u.outsideAngular),(0,aI.Q)(u.insideAngular)),this.idToken=this.user.pipe(Li(rt=>rt?(0,un.D)(rt.getIdToken()):tt(null))),this.idTokenResult=this.user.pipe(Li(rt=>rt?(0,un.D)(rt.getIdTokenResult()):tt(null))),this.credential=(0,ku.T)(Le,U,this.authState.pipe(Cn(rt=>!rt))).pipe((0,nt.U)(rt=>rt?.user?rt:null),(0,BM.R)(u.outsideAngular),(0,aI.Q)(u.insideAngular))}return(0,Ss.pX)(this,ee,a,{spy:{apply:(_e,Le,Qe)=>{(_e.startsWith("signIn")||_e.startsWith("createUser"))&&Qe.then(pt=>U.next(pt))}}})}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Ss.Dh),c.LFG(Ss.xv,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(nr.HU),c.LFG(nL,8),c.LFG(iL,8),c.LFG(rL,8),c.LFG(sL,8),c.LFG(oL,8),c.LFG(aL,8),c.LFG(nk,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function cL(n,e){return function E3(n,e=fg.z){return new Ln.y(t=>{let i;return null!=e?e.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},t)}):i=n.onSnapshot({includeMetadataChanges:!0},t),()=>{i?.()}})}(n,e)}function rk(n,e){return cL(n,e).pipe((0,nt.U)(t=>({payload:t,type:"query"})))}function _I(n,e){return rk(n,e).pipe(qn(void 0),hh(),(0,nt.U)(([t,i])=>{const r=i.payload.docChanges(),a=r.map(u=>({type:u.type,payload:u}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((u,f)=>{const _=r.find(I=>I.doc.ref.isEqual(u.ref)),b=t?.payload.docs.find(I=>I.ref.isEqual(u.ref));_&&JSON.stringify(_.doc.metadata)===JSON.stringify(u.metadata)||!_&&b&&JSON.stringify(b.metadata)===JSON.stringify(u.metadata)||a.push({type:"modified",payload:{oldIndex:f,newIndex:f,type:"modified",doc:u}})}),a}))}function uL(n,e,t){return _I(n,t).pipe(Fd((i,r)=>function D3(n,e,t){return e.forEach(i=>{t.indexOf(i.type)>-1&&(n=function T3(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return sk(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return sk(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return sk(n,e.oldIndex,1)}return n}(n,i))}),n}(i,r.map(a=>a.payload),e),[]),pg(),(0,nt.U)(i=>i.map(r=>({type:r.type,payload:r}))))}function sk(n,e,t,...i){const r=n.slice();return r.splice(e,t,...i),r}function dL(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class hL{constructor(e,t,i){this.ref=e,this.query=t,this.afs=i}stateChanges(e){let t=_I(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,nt.U)(i=>i.filter(r=>e.indexOf(r.type)>-1)))),t.pipe(qn(void 0),hh(),Cn(([i,r])=>r.length>0||!i),(0,nt.U)(([i,r])=>r),nr.iC)}auditTrail(e){return this.stateChanges(e).pipe(Fd((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=dL(e);return uL(this.query,t,this.afs.schedulers.outsideAngular).pipe(nr.iC)}valueChanges(e={}){return rk(this.query,this.afs.schedulers.outsideAngular).pipe((0,nt.U)(t=>t.payload.docs.map(i=>e.idField?Object.assign(Object.assign({},i.data()),{[e.idField]:i.id}):i.data())),nr.iC)}get(e){return(0,un.D)(this.query.get(e)).pipe(nr.iC)}add(e){return this.ref.add(e)}doc(e){return new fL(this.ref.doc(e),this.afs)}}class fL{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const i=this.ref.collection(e),{ref:r,query:a}=pL(i,t);return new hL(r,a,this.afs)}snapshotChanges(){return function I3(n,e){return cL(n,e).pipe(qn(void 0),hh(),(0,nt.U)(([t,i])=>i.exists?t?.exists?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(nr.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,nt.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,un.D)(this.ref.get(e)).pipe(nr.iC)}}class S3{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?_I(this.query,this.afs.schedulers.outsideAngular).pipe((0,nt.U)(t=>t.filter(i=>e.indexOf(i.type)>-1)),Cn(t=>t.length>0),nr.iC):_I(this.query,this.afs.schedulers.outsideAngular).pipe(nr.iC)}auditTrail(e){return this.stateChanges(e).pipe(Fd((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=dL(e);return uL(this.query,t,this.afs.schedulers.outsideAngular).pipe(nr.iC)}valueChanges(e={}){return rk(this.query,this.afs.schedulers.outsideAngular).pipe((0,nt.U)(i=>i.payload.docs.map(r=>e.idField?Object.assign({[e.idField]:r.id},r.data()):r.data())),nr.iC)}get(e){return(0,un.D)(this.query.get(e)).pipe(nr.iC)}}const x3=new c.OlP("angularfire2.enableFirestorePersistence"),A3=new c.OlP("angularfire2.firestore.persistenceSettings"),M3=new c.OlP("angularfire2.firestore.settings"),k3=new c.OlP("angularfire2.firestore.use-emulator");function pL(n,e=(t=>t)){return{query:e(n),ref:n}}let R3=(()=>{class n{constructor(t,i,r,a,u,f,_,b,I,x,L,B,U,ee,_e,Le,Qe){this.schedulers=_;const pt=(0,Ss.on)(t,f,i),rt=I;x&&lL(pt,f,L,U,ee,_e,B,Le),[this.firestore,this.persistenceEnabled$]=(0,Ss.cc)(`${pt.name}.firestore`,"AngularFirestore",pt.name,()=>{const Tt=f.runOutsideAngular(()=>pt.firestore());if(a&&Tt.settings(a),rt&&Tt.useEmulator(...rt),r&&!yi(u)){const At=()=>{try{return(0,un.D)(Tt.enablePersistence(b||void 0).then(()=>!0,()=>!1))}catch(nn){return typeof console<"u"&&console.warn(nn),tt(!1)}};return[Tt,f.runOutsideAngular(At)]}return[Tt,tt(!1)]},[a,rt,r])}collection(t,i){let r;r="string"==typeof t?this.firestore.collection(t):t;const{ref:a,query:u}=pL(r,i),f=this.schedulers.ngZone.run(()=>a);return new hL(f,u,this)}collectionGroup(t,i){const r=i||(u=>u),a=this.firestore.collectionGroup(t);return new S3(r(a),this)}doc(t){let i;i="string"==typeof t?this.firestore.doc(t):t;const r=this.schedulers.ngZone.run(()=>i);return new fL(r,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Ss.Dh),c.LFG(Ss.xv,8),c.LFG(x3,8),c.LFG(M3,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(nr.HU),c.LFG(A3,8),c.LFG(k3,8),c.LFG(gI,8),c.LFG(nL,8),c.LFG(iL,8),c.LFG(rL,8),c.LFG(sL,8),c.LFG(oL,8),c.LFG(aL,8),c.LFG(nk,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),yI=(()=>{class n{constructor(t){this.firestore=t}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(R3))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),O3=(()=>{class n{constructor(t){this.firestore=t}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(yI))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-dashboard"]],decls:0,vars:0,template:function(t,i){},styles:['.card-content[_ngcontent-%COMP%]{padding-bottom:10px;margin-bottom:0;border-bottom:2px solid goldenrod;text-align:center}.mat-list-base[_ngcontent-%COMP%]{padding-top:1px}.card-actions[_ngcontent-%COMP%]{padding:0}.col-12[_ngcontent-%COMP%]{padding:10px;margin:0;display:inline-block;vertical-align:top}.user-courses[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%], .user-activity[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:20px;color:#daa520}.user-courses[_ngcontent-%COMP%]   .course-count[_ngcontent-%COMP%], .user-activity[_ngcontent-%COMP%]   .course-count[_ngcontent-%COMP%]{display:block;font-size:35px;margin:10px}.user-courses[_ngcontent-%COMP%]   .course-title[_ngcontent-%COMP%], .user-activity[_ngcontent-%COMP%]   .course-title[_ngcontent-%COMP%]{display:inline-block;font-size:12px;text-decoration:underline;white-space:nowrap;max-width:150px;overflow:hidden;text-overflow:ellipsis}.user-courses[_ngcontent-%COMP%]   .course-status[_ngcontent-%COMP%], .user-activity[_ngcontent-%COMP%]   .course-status[_ngcontent-%COMP%]{display:block;font-size:15px}.gauge-wrapper[_ngcontent-%COMP%]{display:inline-block;width:auto;margin:0 auto}.gauge[_ngcontent-%COMP%]{background:#e7e7e7;box-shadow:0 -3px 6px 2px #00000080;width:200px;height:100px;border-radius:100px 100px 0 0!important;position:relative;overflow:hidden}.gauge.min-scaled[_ngcontent-%COMP%]{transform:scale(.5)}.gauge-center[_ngcontent-%COMP%]{content:"";width:60%;height:60%;background:#15222E;border-radius:100px 100px 0 0!important;position:absolute;box-shadow:0 -13px 15px -10px #00000047;right:21%;bottom:0;color:#fff;z-index:10}.gauge-center[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%], .gauge-center[_ngcontent-%COMP%]   .number[_ngcontent-%COMP%]{display:block;width:100%;text-align:center;border:0!important}.gauge-center[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:.75em;opacity:.6;margin:1.1em 0 .3em}.gauge-center[_ngcontent-%COMP%]   .number[_ngcontent-%COMP%]{font-size:1.2em}.needle[_ngcontent-%COMP%]{width:80px;height:7px;background:#15222E;border-radius:100% 5px 5px 100%!important;position:absolute;bottom:-2px;left:20px;transform-origin:100% 4px;transform:rotate(0);box-shadow:0 2px 2px 1px #00000061;display:none;z-index:9}.four.rischio1[_ngcontent-%COMP%]   .needle[_ngcontent-%COMP%]{animation:fourspeed1 2s 1 both;animation-delay:1s;display:block}.four.rischio2[_ngcontent-%COMP%]   .needle[_ngcontent-%COMP%]{animation:fourspeed2 2s 1 both;animation-delay:1s;display:block}.four.rischio3[_ngcontent-%COMP%]   .needle[_ngcontent-%COMP%]{animation:fourspeed3 2s 1 both;animation-delay:1s;display:block}.four.rischio4[_ngcontent-%COMP%]   .needle[_ngcontent-%COMP%]{animation:fourspeed4 2s 1 both;animation-delay:1s;display:block}.slice-colors[_ngcontent-%COMP%]{height:100%}.slice-colors[_ngcontent-%COMP%]   .st[_ngcontent-%COMP%]{position:absolute;bottom:0;width:0;height:0;border:50px solid transparent}.four[_ngcontent-%COMP%]   .slice-colors[_ngcontent-%COMP%]   .st.slice-item[_ngcontent-%COMP%]:nth-child(2){border-top:50px #e67e22 solid;border-right:50px #e67e22 solid;background-color:#e84c3d}.four[_ngcontent-%COMP%]   .slice-colors[_ngcontent-%COMP%]   .st.slice-item[_ngcontent-%COMP%]:nth-child(4){left:50%;border-bottom:50px #1eaa59 solid;border-right:50px #1eaa59 solid;background-color:#f1c40f}@keyframes fourspeed1{0%{transform:rotate(0)}to{transform:rotate(16deg)}}@keyframes fourspeed2{0%{transform:rotate(0)}to{transform:rotate(65deg)}}@keyframes fourspeed3{0%{transform:rotate(0)}to{transform:rotate(115deg)}}@keyframes fourspeed4{0%{transform:rotate(0)}to{transform:rotate(164deg)}}']}),n})();const mL=["toast-component",""];function P3(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"button",5),c.NdJ("click",function(){c.CHM(t);const r=c.oxw();return c.KtG(r.remove())}),c.TgZ(1,"span",6),c._uU(2,"\xd7"),c.qZA()()}}function N3(n,e){if(1&n&&(c.ynx(0),c._uU(1),c.BQk()),2&n){const t=c.oxw(2);c.xp6(1),c.hij("[",t.duplicatesCount+1,"]")}}function F3(n,e){if(1&n&&(c.TgZ(0,"div"),c._uU(1),c.YNc(2,N3,2,1,"ng-container",4),c.qZA()),2&n){const t=c.oxw();c.Tol(t.options.titleClass),c.uIk("aria-label",t.title),c.xp6(1),c.hij(" ",t.title," "),c.xp6(1),c.Q6J("ngIf",t.duplicatesCount)}}function L3(n,e){if(1&n&&c._UZ(0,"div",7),2&n){const t=c.oxw();c.Tol(t.options.messageClass),c.Q6J("innerHTML",t.message,c.oJD)}}function V3(n,e){if(1&n&&(c.TgZ(0,"div",8),c._uU(1),c.qZA()),2&n){const t=c.oxw();c.Tol(t.options.messageClass),c.uIk("aria-label",t.message),c.xp6(1),c.hij(" ",t.message," ")}}function B3(n,e){if(1&n&&(c.TgZ(0,"div"),c._UZ(1,"div",9),c.qZA()),2&n){const t=c.oxw();c.xp6(1),c.Udp("width",t.width+"%")}}class q3{constructor(e,t){this.component=e,this.injector=t}attach(e,t){return this._attachedHost=e,e.attach(this,t)}detach(){const e=this._attachedHost;if(e)return this._attachedHost=void 0,e.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class vI{constructor(e,t,i,r,a,u){this.toastId=e,this.config=t,this.message=i,this.title=r,this.toastType=a,this.toastRef=u,this._onTap=new Nt.x,this._onAction=new Nt.x,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(e){this._onAction.next(e)}onAction(){return this._onAction.asObservable()}}const _L=new c.OlP("ToastConfig");class W3{constructor(e){this._overlayRef=e,this.duplicatesCount=0,this._afterClosed=new Nt.x,this._activate=new Nt.x,this._manualClose=new Nt.x,this._resetTimeout=new Nt.x,this._countDuplicate=new Nt.x}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(e,t){e&&this._resetTimeout.next(),t&&this._countDuplicate.next(++this.duplicatesCount)}}class K3{constructor(e,t){this._toastPackage=e,this._parentInjector=t}get(e,t,i){return e===vI?this._toastPackage:this._parentInjector.get(e,t,i)}}class Y3 extends class Z3{attach(e,t){return this._attachedPortal=e,this.attachComponentPortal(e,t)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(e){this._disposeFn=e}}{constructor(e,t,i){super(),this._hostDomElement=e,this._componentFactoryResolver=t,this._appRef=i}attachComponentPortal(e,t){const i=this._componentFactoryResolver.resolveComponentFactory(e.component);let r;return r=i.create(e.injector),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.detachView(r.hostView),r.destroy()}),t?this._hostDomElement.insertBefore(this._getComponentRootNode(r),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(r)),r}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}class Q3{constructor(e){this._portalHost=e}attach(e,t=!0){return this._portalHost.attach(e,t)}detach(){return this._portalHost.detach()}}let X3=(()=>{class n{constructor(t){this._document=t}ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t=this._document.createElement("div");t.classList.add("overlay-container"),t.setAttribute("aria-live","polite"),this._document.body.appendChild(t),this._containerElement=t}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ie))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),J3=(()=>{class n{constructor(t,i,r,a){this._overlayContainer=t,this._componentFactoryResolver=i,this._appRef=r,this._document=a,this._paneElements=new Map}create(t,i){return this._createOverlayRef(this.getPaneElement(t,i))}getPaneElement(t="",i){return this._paneElements.get(i)||this._paneElements.set(i,{}),this._paneElements.get(i)[t]||(this._paneElements.get(i)[t]=this._createPaneElement(t,i)),this._paneElements.get(i)[t]}_createPaneElement(t,i){const r=this._document.createElement("div");return r.id="toast-container",r.classList.add(t),r.classList.add("toast-container"),i?i.getContainerElement().appendChild(r):this._overlayContainer.getContainerElement().appendChild(r),r}_createPortalHost(t){return new Y3(t,this._componentFactoryResolver,this._appRef)}_createOverlayRef(t){return new Q3(this._createPortalHost(t))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(X3),c.LFG(c._Vd),c.LFG(c.z2F),c.LFG(ie))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ok=(()=>{class n{constructor(t,i,r,a,u){this.overlay=i,this._injector=r,this.sanitizer=a,this.ngZone=u,this.currentlyActive=0,this.toasts=[],this.index=0,this.toastrConfig={...t.default,...t.config},t.config.iconClasses&&(this.toastrConfig.iconClasses={...t.default.iconClasses,...t.config.iconClasses})}show(t,i,r={},a=""){return this._preBuildNotification(a,t,i,this.applyConfig(r))}success(t,i,r={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",t,i,this.applyConfig(r))}error(t,i,r={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",t,i,this.applyConfig(r))}info(t,i,r={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",t,i,this.applyConfig(r))}warning(t,i,r={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",t,i,this.applyConfig(r))}clear(t){for(const i of this.toasts)if(void 0!==t){if(i.toastId===t)return void i.toastRef.manualClose()}else i.toastRef.manualClose()}remove(t){const i=this._findToast(t);if(!i||(i.activeToast.toastRef.close(),this.toasts.splice(i.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const r=this.toasts[this.currentlyActive].toastRef;r.isInactive()||(this.currentlyActive=this.currentlyActive+1,r.activate())}return!0}findDuplicate(t="",i="",r,a){const{includeTitleDuplicates:u}=this.toastrConfig;for(const f of this.toasts){const _=u&&f.title===t;if((!u||_)&&f.message===i)return f.toastRef.onDuplicate(r,a),f}return null}applyConfig(t={}){return{...this.toastrConfig,...t}}_findToast(t){for(let i=0;i<this.toasts.length;i++)if(this.toasts[i].toastId===t)return{index:i,activeToast:this.toasts[i]};return null}_preBuildNotification(t,i,r,a){return a.onActivateTick?this.ngZone.run(()=>this._buildNotification(t,i,r,a)):this._buildNotification(t,i,r,a)}_buildNotification(t,i,r,a){if(!a.toastComponent)throw new Error("toastComponent required");const u=this.findDuplicate(r,i,this.toastrConfig.resetTimeoutOnDuplicate&&a.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&r||i)&&this.toastrConfig.preventDuplicates&&null!==u)return u;this.previousToastMessage=i;let f=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(f=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const _=this.overlay.create(a.positionClass,this.overlayContainer);this.index=this.index+1;let b=i;i&&a.enableHtml&&(b=this.sanitizer.sanitize(c.q3G.HTML,i));const I=new W3(_),x=new vI(this.index,a,b,r,t,I),L=new K3(x,this._injector),B=new q3(a.toastComponent,L),U=_.attach(B,this.toastrConfig.newestOnTop);I.componentInstance=U.instance;const ee={toastId:this.index,title:r||"",message:i||"",toastRef:I,onShown:I.afterActivate(),onHidden:I.afterClosed(),onTap:x.onTap(),onAction:x.onAction(),portal:U};return f||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{ee.toastRef.activate()})),this.toasts.push(ee),ee}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(_L),c.LFG(J3),c.LFG(c.zs3),c.LFG(Co),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const e$={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing",payload:null,toastComponent:(()=>{class n{constructor(t,i,r){this.toastrService=t,this.toastPackage=i,this.ngZone=r,this.width=-1,this.toastClasses="",this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}},this.message=i.message,this.title=i.title,this.options=i.config,this.originalTimeout=i.config.timeOut,this.toastClasses=`${i.toastType} ${i.config.toastClass}`,this.sub=i.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=i.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=i.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=i.toastRef.countDuplicate().subscribe(a=>{this.duplicatesCount=a})}get displayStyle(){if("inactive"===this.state.value)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state={...this.state,value:"active"},!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const t=(new Date).getTime();this.width=(this.hideTime-t)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state={...this.state,value:"active"},this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state={...this.state,value:"removed"},this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state.value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(t,i){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(t),i)):this.timeout=setTimeout(()=>t(),i)}outsideInterval(t,i){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(t),i)):this.intervalId=setInterval(()=>t(),i)}runInsideAngular(t){this.ngZone?this.ngZone.run(()=>t()):t()}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(ok),c.Y36(vI),c.Y36(c.R0b))},n.\u0275cmp=c.Xpm({type:n,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(t,i){1&t&&c.NdJ("click",function(){return i.tapToast()})("mouseenter",function(){return i.stickAround()})("mouseleave",function(){return i.delayedHideToast()}),2&t&&(c.d8E("@flyInOut",i.state),c.Tol(i.toastClasses),c.Udp("display",i.displayStyle))},attrs:mL,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(t,i){1&t&&(c.YNc(0,P3,3,0,"button",0),c.YNc(1,F3,3,5,"div",1),c.YNc(2,L3,1,3,"div",2),c.YNc(3,V3,2,4,"div",3),c.YNc(4,B3,2,2,"div",4)),2&t&&(c.Q6J("ngIf",i.options.closeButton),c.xp6(1),c.Q6J("ngIf",i.title),c.xp6(1),c.Q6J("ngIf",i.message&&i.options.enableHtml),c.xp6(1),c.Q6J("ngIf",i.message&&!i.options.enableHtml),c.xp6(1),c.Q6J("ngIf",i.options.progressBar))},dependencies:[Dn],encapsulation:2,data:{animation:[ml("flyInOut",[Pr("inactive",ii({opacity:0})),Pr("active",ii({opacity:1})),Pr("removed",ii({opacity:0})),Nr("inactive => active",Jr("{{ easeTime }}ms {{ easing }}")),Nr("active => removed",Jr("{{ easeTime }}ms {{ easing }}"))])]}}),n})()};let t$=(()=>{class n{static forRoot(t={}){return{ngModule:n,providers:[{provide:_L,useValue:{default:e$,config:t}}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[lr]}),n})(),n$=(()=>{class n{constructor(t,i){this.firestore=t,this.toaster=i,this.editing=!1}ngOnInit(){}update(){}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(yI),c.Y36(ok))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-profile"]],decls:0,vars:0,template:function(t,i){},styles:[".header[_ngcontent-%COMP%]{text-align:center;margin:10px;font-size:23px}.content[_ngcontent-%COMP%]{padding:30px}.content[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{vertical-align:middle;text-align:center}.actions[_ngcontent-%COMP%]{text-align:center}.image[_ngcontent-%COMP%]{width:100px;height:100px;border-radius:50px!important}"]}),n})();const i$=["mat-button",""],r$=["*"],o$=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],a$=bv(VS(BS(class{constructor(n){this._elementRef=n}})));let yL=(()=>{class n extends a${constructor(t,i,r){super(t),this._focusMonitor=i,this._animationMode=r,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const a of o$)this._hasHostAttributes(a)&&this._getHostElement().classList.add(a);t.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t,i){t?this._focusMonitor.focusVia(this._getHostElement(),t,i):this._getHostElement().focus(i)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...t){return t.some(i=>this._getHostElement().hasAttribute(i))}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(mv),c.Y36(c.QbO,8))},n.\u0275cmp=c.Xpm({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(t,i){if(1&t&&c.Gf(WS,5),2&t){let r;c.iGM(r=c.CRH())&&(i.ripple=r.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(t,i){2&t&&(c.uIk("disabled",i.disabled||null),c.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-button-disabled",i.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[c.qOj],attrs:i$,ngContentSelectors:r$,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(t,i){1&t&&(c.F$t(),c.TgZ(0,"span",0),c.Hsn(1),c.qZA(),c._UZ(2,"span",1)(3,"span",2)),2&t&&(c.xp6(2),c.ekj("mat-button-ripple-round",i.isRoundButton||i.isIconButton),c.Q6J("matRippleDisabled",i._isRippleDisabled())("matRippleCentered",i.isIconButton)("matRippleTrigger",i._getHostElement()))},dependencies:[WS],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}.mat-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.mat-flat-button::before,.mat-raised-button::before,.mat-fab::before,.mat-mini-fab::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-stroked-button::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px) * -1)}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}"],encapsulation:2,changeDetection:0}),n})(),l$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[Ev,ni,ni]}),n})(),vL=(()=>{class n{constructor(t,i){this.auth=t,this.firestore=i,this.username="",this.password=""}ngOnInit(){}login(){this.auth.signInWithEmailAndPassword(this.username,this.password).catch(t=>{console.error(t),alert(t.message)})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(gI),c.Y36(yI))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-login"]],decls:19,vars:2,consts:[[1,"text-center",2,"margin","10%"],[1,"d-inline-block","p-5","col-md-4","col-sm-6","col-xs-12",2,"background-color","lavender"],[1,"mt-1","px-2",2,"font-size","20px"],[1,"mt-3","px-2"],["type","text","placeholder","Username",1,"form-control",3,"ngModel","ngModelChange"],[1,"error"],["type","password","placeholder","Password",1,"form-control",3,"ngModel","ngModelChange"],["mat-button","",2,"min-width","130px","background-color","#3f51b5","color","white","font-size","15px"],[1,"mt-2"],["href",""],["routerLink","/register/consultant",1,"navigation-link"]],template:function(t,i){1&t&&(c.TgZ(0,"div",0)(1,"div",1)(2,"div",2),c._uU(3," User Login "),c.qZA(),c.TgZ(4,"div",3)(5,"input",4),c.NdJ("ngModelChange",function(a){return i.username=a}),c.qZA(),c._UZ(6,"span",5),c.qZA(),c.TgZ(7,"div",3)(8,"input",6),c.NdJ("ngModelChange",function(a){return i.password=a}),c.qZA(),c._UZ(9,"span",5),c.qZA(),c.TgZ(10,"div",3)(11,"button",7),c._uU(12,"Login"),c.qZA()(),c.TgZ(13,"div",8)(14,"a",9),c._uU(15,"Forgot Password"),c.qZA(),c._UZ(16,"br"),c.TgZ(17,"span",10),c._uU(18,"Register Account"),c.qZA()()()()),2&t&&(c.xp6(5),c.Q6J("ngModel",i.username),c.xp6(3),c.Q6J("ngModel",i.password))},dependencies:[iu,sf,Id,cl,yL],styles:[".g-button[_ngcontent-%COMP%]{border:2px solid #4285f4;background:#4285f4;display:inline-block}.g-logo[_ngcontent-%COMP%]{float:left;width:28px;height:30px;padding:4px;background:white}.g-text[_ngcontent-%COMP%]{float:right;font-size:16px;padding:5px;color:#fff;font-family:roboto;text-align:center}"]}),n})(),c$=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-contact-us"]],decls:0,vars:0,template:function(t,i){}}),n})();function u$(n,e){if(1&n&&(c.TgZ(0,"div",2)(1,"mat-accordion")(2,"mat-expansion-panel")(3,"mat-expansion-panel-header")(4,"mat-panel-title"),c._uU(5),c.qZA()(),c.TgZ(6,"p"),c._uU(7),c.qZA()()()()),2&n){const t=e.$implicit;c.xp6(5),c.hij(" ",t.q," "),c.xp6(2),c.Oqu(t.a)}}let d$=(()=>{class n{constructor(){this.questions=h$}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-faq"]],decls:2,vars:1,consts:[[1,"container","mt-1","p-5"],["class","mt-2",4,"ngFor","ngForOf"],[1,"mt-2"]],template:function(t,i){1&t&&(c.TgZ(0,"div",0),c.YNc(1,u$,8,2,"div",1),c.qZA()),2&t&&(c.xp6(1),c.Q6J("ngForOf",i.questions))},dependencies:[ls,AC,TC,Ru,Eg],styles:["mat-expansion-panel[_ngcontent-%COMP%]{background:cadetblue;color:#fff}.mat-expansion-panel-header-title[_ngcontent-%COMP%], .mat-expansion-panel-header-description[_ngcontent-%COMP%]{color:#fffaf0;font-size:20px}.mat-expansion-indicator[_ngcontent-%COMP%]{font-size:20px}"]}),n})();const h$=[{q:"What is Transfer Pricing?",a:"Transfer pricing is an accounting practice that represents the price that one division in a company charges another division for goods and services provided"},{q:"Does your company need Transfer Pricing?",a:"Transfer pricing is an accounting practice that represents the price that one division in a company charges another division for goods and services provided"},{q:"Who will perform Benchmarking analysis?",a:"Transfer pricing is an accounting practice that represents the price that one division in a company charges another division for goods and services provided"}];class bL{}class wL{}class qu{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const i=t.indexOf(":");if(i>0){const r=t.slice(0,i),a=r.toLowerCase(),u=t.slice(i+1).trim();this.maybeSetNormalizedName(r,a),this.headers.has(a)?this.headers.get(a).push(u):this.headers.set(a,[u])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let i=e[t];const r=t.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(r,i),this.maybeSetNormalizedName(t,r))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof qu?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new qu;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof qu?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(e.name,t);const r=("a"===e.op?this.headers.get(t):void 0)||[];r.push(...i),this.headers.set(t,r);break;case"d":const a=e.value;if(a){let u=this.headers.get(t);if(!u)return;u=u.filter(f=>-1===a.indexOf(f)),0===u.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,u)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class f${encodeKey(e){return CL(e)}encodeValue(e){return CL(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const m$=/%(\d[a-f0-9])/gi,g$={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function CL(n){return encodeURIComponent(n).replace(m$,(e,t)=>g$[t]??e)}function bI(n){return`${n}`}class Hh{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new f$,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function p$(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const a=r.indexOf("="),[u,f]=-1==a?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,a)),e.decodeValue(r.slice(a+1))],_=t.get(u)||[];_.push(f),t.set(u,_)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const i=e.fromObject[t],r=Array.isArray(i)?i.map(bI):[bI(i)];this.map.set(t,r)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(i=>{const r=e[i];Array.isArray(r)?r.forEach(a=>{t.push({param:i,value:a,op:"a"})}):t.push({param:i,value:r,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(i=>t+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new Hh({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(bI(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let i=this.map.get(e.param)||[];const r=i.indexOf(bI(e.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class _${constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function EL(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function IL(n){return typeof Blob<"u"&&n instanceof Blob}function DL(n){return typeof FormData<"u"&&n instanceof FormData}class Jb{constructor(e,t,i,r){let a;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function y$(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,a=r):a=i,a&&(this.reportProgress=!!a.reportProgress,this.withCredentials=!!a.withCredentials,a.responseType&&(this.responseType=a.responseType),a.headers&&(this.headers=a.headers),a.context&&(this.context=a.context),a.params&&(this.params=a.params)),this.headers||(this.headers=new qu),this.context||(this.context=new _$),this.params){const u=this.params.toString();if(0===u.length)this.urlWithParams=t;else{const f=t.indexOf("?");this.urlWithParams=t+(-1===f?"?":f<t.length-1?"&":"")+u}}else this.params=new Hh,this.urlWithParams=t}serializeBody(){return null===this.body?null:EL(this.body)||IL(this.body)||DL(this.body)||function v$(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Hh?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||DL(this.body)?null:IL(this.body)?this.body.type||null:EL(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Hh?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,i=e.url||this.url,r=e.responseType||this.responseType,a=void 0!==e.body?e.body:this.body,u=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,f=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let _=e.headers||this.headers,b=e.params||this.params;const I=e.context??this.context;return void 0!==e.setHeaders&&(_=Object.keys(e.setHeaders).reduce((x,L)=>x.set(L,e.setHeaders[L]),_)),e.setParams&&(b=Object.keys(e.setParams).reduce((x,L)=>x.set(L,e.setParams[L]),b)),new Jb(t,i,a,{params:b,headers:_,context:I,reportProgress:f,responseType:r,withCredentials:u})}}var ji=(()=>((ji=ji||{})[ji.Sent=0]="Sent",ji[ji.UploadProgress=1]="UploadProgress",ji[ji.ResponseHeader=2]="ResponseHeader",ji[ji.DownloadProgress=3]="DownloadProgress",ji[ji.Response=4]="Response",ji[ji.User=5]="User",ji))();class ak{constructor(e,t=200,i="OK"){this.headers=e.headers||new qu,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class lk extends ak{constructor(e={}){super(e),this.type=ji.ResponseHeader}clone(e={}){return new lk({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class wI extends ak{constructor(e={}){super(e),this.type=ji.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new wI({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class TL extends ak{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function ck(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let CI=(()=>{class n{constructor(t){this.handler=t}request(t,i,r={}){let a;if(t instanceof Jb)a=t;else{let _,b;_=r.headers instanceof qu?r.headers:new qu(r.headers),r.params&&(b=r.params instanceof Hh?r.params:new Hh({fromObject:r.params})),a=new Jb(t,i,void 0!==r.body?r.body:null,{headers:_,context:r.context,params:b,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const u=tt(a).pipe(oc(_=>this.handler.handle(_)));if(t instanceof Jb||"events"===r.observe)return u;const f=u.pipe(Cn(_=>_ instanceof wI));switch(r.observe||"body"){case"body":switch(a.responseType){case"arraybuffer":return f.pipe((0,nt.U)(_=>{if(null!==_.body&&!(_.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return _.body}));case"blob":return f.pipe((0,nt.U)(_=>{if(null!==_.body&&!(_.body instanceof Blob))throw new Error("Response is not a Blob.");return _.body}));case"text":return f.pipe((0,nt.U)(_=>{if(null!==_.body&&"string"!=typeof _.body)throw new Error("Response is not a string.");return _.body}));default:return f.pipe((0,nt.U)(_=>_.body))}case"response":return f;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(t,i={}){return this.request("DELETE",t,i)}get(t,i={}){return this.request("GET",t,i)}head(t,i={}){return this.request("HEAD",t,i)}jsonp(t,i){return this.request("JSONP",t,{params:(new Hh).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,i={}){return this.request("OPTIONS",t,i)}patch(t,i,r={}){return this.request("PATCH",t,ck(r,i))}post(t,i,r={}){return this.request("POST",t,ck(r,i))}put(t,i,r={}){return this.request("PUT",t,ck(r,i))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(bL))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class SL{constructor(e,t){this.next=e,this.interceptor=t}handle(e){return this.interceptor.intercept(e,this.next)}}const xL=new c.OlP("HTTP_INTERCEPTORS");let b$=(()=>{class n{intercept(t,i){return i.handle(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const w$=/^\)\]\}',?\n/;let AL=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Ln.y(i=>{const r=this.xhrFactory.build();if(r.open(t.method,t.urlWithParams),t.withCredentials&&(r.withCredentials=!0),t.headers.forEach((B,U)=>r.setRequestHeader(B,U.join(","))),t.headers.has("Accept")||r.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const B=t.detectContentTypeHeader();null!==B&&r.setRequestHeader("Content-Type",B)}if(t.responseType){const B=t.responseType.toLowerCase();r.responseType="json"!==B?B:"text"}const a=t.serializeBody();let u=null;const f=()=>{if(null!==u)return u;const B=r.statusText||"OK",U=new qu(r.getAllResponseHeaders()),ee=function C$(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(r)||t.url;return u=new lk({headers:U,status:r.status,statusText:B,url:ee}),u},_=()=>{let{headers:B,status:U,statusText:ee,url:_e}=f(),Le=null;204!==U&&(Le=typeof r.response>"u"?r.responseText:r.response),0===U&&(U=Le?200:0);let Qe=U>=200&&U<300;if("json"===t.responseType&&"string"==typeof Le){const pt=Le;Le=Le.replace(w$,"");try{Le=""!==Le?JSON.parse(Le):null}catch(rt){Le=pt,Qe&&(Qe=!1,Le={error:rt,text:Le})}}Qe?(i.next(new wI({body:Le,headers:B,status:U,statusText:ee,url:_e||void 0})),i.complete()):i.error(new TL({error:Le,headers:B,status:U,statusText:ee,url:_e||void 0}))},b=B=>{const{url:U}=f(),ee=new TL({error:B,status:r.status||0,statusText:r.statusText||"Unknown Error",url:U||void 0});i.error(ee)};let I=!1;const x=B=>{I||(i.next(f()),I=!0);let U={type:ji.DownloadProgress,loaded:B.loaded};B.lengthComputable&&(U.total=B.total),"text"===t.responseType&&!!r.responseText&&(U.partialText=r.responseText),i.next(U)},L=B=>{let U={type:ji.UploadProgress,loaded:B.loaded};B.lengthComputable&&(U.total=B.total),i.next(U)};return r.addEventListener("load",_),r.addEventListener("error",b),r.addEventListener("timeout",b),r.addEventListener("abort",b),t.reportProgress&&(r.addEventListener("progress",x),null!==a&&r.upload&&r.upload.addEventListener("progress",L)),r.send(a),i.next({type:ji.Sent}),()=>{r.removeEventListener("error",b),r.removeEventListener("abort",b),r.removeEventListener("load",_),r.removeEventListener("timeout",b),t.reportProgress&&(r.removeEventListener("progress",x),null!==a&&r.upload&&r.upload.removeEventListener("progress",L)),r.readyState!==r.DONE&&r.abort()}})}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(lo))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const uk=new c.OlP("XSRF_COOKIE_NAME"),dk=new c.OlP("XSRF_HEADER_NAME");class ML{}let E$=(()=>{class n{constructor(t,i,r){this.doc=t,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Ea(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ie),c.LFG(c.Lbi),c.LFG(uk))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),hk=(()=>{class n{constructor(t,i){this.tokenService=t,this.headerName=i}intercept(t,i){const r=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||r.startsWith("http://")||r.startsWith("https://"))return i.handle(t);const a=this.tokenService.getToken();return null!==a&&!t.headers.has(this.headerName)&&(t=t.clone({headers:t.headers.set(this.headerName,a)})),i.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ML),c.LFG(dk))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),I$=(()=>{class n{constructor(t,i){this.backend=t,this.injector=i,this.chain=null}handle(t){if(null===this.chain){const i=this.injector.get(xL,[]);this.chain=i.reduceRight((r,a)=>new SL(r,a),this.backend)}return this.chain.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(wL),c.LFG(c.zs3))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),D$=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:hk,useClass:b$}]}}static withOptions(t={}){return{ngModule:n,providers:[t.cookieName?{provide:uk,useValue:t.cookieName}:[],t.headerName?{provide:dk,useValue:t.headerName}:[]]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[hk,{provide:xL,useExisting:hk,multi:!0},{provide:ML,useClass:E$},{provide:uk,useValue:"XSRF-TOKEN"},{provide:dk,useValue:"X-XSRF-TOKEN"}]}),n})(),T$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[CI,{provide:bL,useClass:I$},AL,{provide:wL,useExisting:AL}],imports:[D$.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]}),n})(),S$=(()=>{class n{constructor(t){this.http=t}getStateCityMap(){return null!=this.state_city_map?Promise.resolve(this.state_city_map):this.http.get("/assets/collections/state-city.json").pipe((0,pi.b)(t=>this.state_city_map=t)).toPromise()}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(CI))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function x$(n,e){if(1&n&&(c.TgZ(0,"option",28),c._uU(1),c.qZA()),2&n){const t=e.$implicit;c.Q6J("value",t),c.xp6(1),c.Oqu(t)}}function A$(n,e){if(1&n&&(c.TgZ(0,"option",28),c._uU(1),c.qZA()),2&n){const t=e.$implicit;c.Q6J("value",t),c.xp6(1),c.Oqu(t)}}function M$(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"div",1),c._UZ(1,"div",2),c.TgZ(2,"div",3)(3,"div",4)(4,"h2"),c._uU(5,"Company Registration "),c.qZA()(),c.TgZ(6,"div",4)(7,"span",5),c._uU(8,"Are you consultant? Register here"),c.qZA(),c._UZ(9,"br"),c.TgZ(10,"span",6),c._uU(11,"Already Registered? Login now"),c.qZA()()(),c.TgZ(12,"div",3)(13,"div",4)(14,"label"),c._uU(15,"Company Name"),c.TgZ(16,"span",7),c._uU(17,"*"),c.qZA()(),c._UZ(18,"input",8)(19,"span",9),c.qZA(),c.TgZ(20,"div",4)(21,"label"),c._uU(22,"Industry"),c.TgZ(23,"span",7),c._uU(24,"*"),c.qZA()(),c.TgZ(25,"select",10)(26,"option",11),c._uU(27,"Choose Industry"),c.qZA()(),c._UZ(28,"span",9),c.qZA()(),c.TgZ(29,"div",3)(30,"div",12)(31,"label"),c._uU(32,"Company Address"),c.TgZ(33,"span",7),c._uU(34,"*"),c.qZA()(),c._UZ(35,"input",13)(36,"span",9),c.qZA()(),c.TgZ(37,"div",3)(38,"div",4)(39,"label"),c._uU(40,"Country"),c.TgZ(41,"span",7),c._uU(42,"*"),c.qZA()(),c.TgZ(43,"select",14)(44,"option",15),c._uU(45,"INDIA"),c.qZA()(),c._UZ(46,"span",9),c.qZA(),c.TgZ(47,"div",4)(48,"label"),c._uU(49,"State"),c.TgZ(50,"span",7),c._uU(51,"*"),c.qZA()(),c.TgZ(52,"select",16),c.NdJ("ngModelChange",function(r){c.CHM(t);const a=c.oxw();return c.KtG(a.state=r)})("change",function(){c.CHM(t);const r=c.oxw();return c.KtG(r.cities=r.state_city_map[r.state])}),c.TgZ(53,"option",17),c._uU(54,"Choose State"),c.qZA(),c.YNc(55,x$,2,2,"option",18),c.qZA(),c._UZ(56,"span",9),c.qZA()(),c.TgZ(57,"div",3)(58,"div",4)(59,"label"),c._uU(60,"City"),c.TgZ(61,"span",7),c._uU(62,"*"),c.qZA()(),c.TgZ(63,"select",19),c.NdJ("ngModelChange",function(r){c.CHM(t);const a=c.oxw();return c.KtG(a.city=r)}),c.TgZ(64,"option",17),c._uU(65,"Choose City"),c.qZA(),c.YNc(66,A$,2,2,"option",18),c.qZA(),c._UZ(67,"span",9),c.qZA(),c.TgZ(68,"div",4)(69,"label"),c._uU(70,"Pincode"),c.TgZ(71,"span",7),c._uU(72,"*"),c.qZA()(),c._UZ(73,"input",20)(74,"span",9),c.qZA()(),c.TgZ(75,"div",3)(76,"div",4)(77,"label"),c._uU(78,"User ID"),c.TgZ(79,"span",7),c._uU(80,"*"),c.qZA()(),c._UZ(81,"input",21)(82,"span",9),c.qZA(),c.TgZ(83,"div",4)(84,"label"),c._uU(85,"Contact Number"),c.TgZ(86,"span",7),c._uU(87,"*"),c.qZA()(),c._UZ(88,"input",22)(89,"span",9),c.qZA()(),c.TgZ(90,"div",3)(91,"div",4)(92,"label"),c._uU(93,"Login Password"),c.TgZ(94,"span",7),c._uU(95,"*"),c.qZA()(),c._UZ(96,"input",23)(97,"span",9),c.qZA(),c.TgZ(98,"div",4)(99,"label"),c._uU(100,"Confirm Password"),c.TgZ(101,"span",7),c._uU(102,"*"),c.qZA()(),c._UZ(103,"input",24)(104,"span",9),c.qZA()(),c.TgZ(105,"div",25)(106,"div",26)(107,"button",27),c._uU(108,"Register"),c.qZA()()()()}if(2&n){const t=c.oxw();c.xp6(52),c.Q6J("ngModel",t.state),c.xp6(3),c.Q6J("ngForOf",t.states),c.xp6(8),c.Q6J("ngModel",t.city),c.xp6(3),c.Q6J("ngForOf",t.cities)}}function k$(n,e){if(1&n&&(c.TgZ(0,"option",28),c._uU(1),c.qZA()),2&n){const t=e.$implicit;c.Q6J("value",t),c.xp6(1),c.Oqu(t)}}function R$(n,e){if(1&n&&(c.TgZ(0,"option",28),c._uU(1),c.qZA()),2&n){const t=e.$implicit;c.Q6J("value",t),c.xp6(1),c.Oqu(t)}}function O$(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"div",1),c._UZ(1,"div",2),c.TgZ(2,"div",3)(3,"div",4)(4,"h2"),c._uU(5,"Consultant Registration "),c.qZA()(),c.TgZ(6,"div",4)(7,"span",29),c._uU(8,"Are you company? Register here"),c.qZA(),c._UZ(9,"br"),c.TgZ(10,"span",6),c._uU(11,"Already Registered? Login now"),c.qZA()()(),c.TgZ(12,"div",3)(13,"div",4)(14,"label"),c._uU(15,"First Name"),c.TgZ(16,"span",7),c._uU(17,"*"),c.qZA()(),c._UZ(18,"input",30)(19,"span",9),c.qZA(),c.TgZ(20,"div",4)(21,"label"),c._uU(22,"Last Name"),c.TgZ(23,"span",7),c._uU(24,"*"),c.qZA()(),c._UZ(25,"input",31)(26,"span",9),c.qZA()(),c.TgZ(27,"div",3)(28,"div",12)(29,"label"),c._uU(30,"Address"),c.TgZ(31,"span",7),c._uU(32,"*"),c.qZA()(),c._UZ(33,"input",13)(34,"span",9),c.qZA()(),c.TgZ(35,"div",3)(36,"div",4)(37,"label"),c._uU(38,"Country"),c.TgZ(39,"span",7),c._uU(40,"*"),c.qZA()(),c.TgZ(41,"select",14)(42,"option",15),c._uU(43,"INDIA"),c.qZA()(),c._UZ(44,"span",9),c.qZA(),c.TgZ(45,"div",4)(46,"label"),c._uU(47,"State"),c.TgZ(48,"span",7),c._uU(49,"*"),c.qZA()(),c.TgZ(50,"select",16),c.NdJ("ngModelChange",function(r){c.CHM(t);const a=c.oxw();return c.KtG(a.state=r)})("change",function(){c.CHM(t);const r=c.oxw();return c.KtG(r.cities=r.state_city_map[r.state])}),c.TgZ(51,"option",17),c._uU(52,"Choose State"),c.qZA(),c.YNc(53,k$,2,2,"option",18),c.qZA(),c._UZ(54,"span",9),c.qZA()(),c.TgZ(55,"div",3)(56,"div",4)(57,"label"),c._uU(58,"City"),c.TgZ(59,"span",7),c._uU(60,"*"),c.qZA()(),c.TgZ(61,"select",19),c.NdJ("ngModelChange",function(r){c.CHM(t);const a=c.oxw();return c.KtG(a.city=r)}),c.TgZ(62,"option",17),c._uU(63,"Choose City"),c.qZA(),c.YNc(64,R$,2,2,"option",18),c.qZA(),c._UZ(65,"span",9),c.qZA(),c.TgZ(66,"div",4)(67,"label"),c._uU(68,"Pincode"),c.TgZ(69,"span",7),c._uU(70,"*"),c.qZA()(),c._UZ(71,"input",20)(72,"span",9),c.qZA()(),c.TgZ(73,"div",3)(74,"div",4)(75,"label"),c._uU(76,"User ID"),c.TgZ(77,"span",7),c._uU(78,"*"),c.qZA()(),c._UZ(79,"input",32)(80,"span",9),c.qZA(),c.TgZ(81,"div",4)(82,"label"),c._uU(83,"Contact Number"),c.TgZ(84,"span",7),c._uU(85,"*"),c.qZA()(),c._UZ(86,"input",22)(87,"span",9),c.qZA()(),c.TgZ(88,"div",3)(89,"div",4)(90,"label"),c._uU(91,"Login Password"),c.TgZ(92,"span",7),c._uU(93,"*"),c.qZA()(),c._UZ(94,"input",23)(95,"span",9),c.qZA(),c.TgZ(96,"div",4)(97,"label"),c._uU(98,"Confirm Password"),c.TgZ(99,"span",7),c._uU(100,"*"),c.qZA()(),c._UZ(101,"input",24)(102,"span",9),c.qZA()(),c.TgZ(103,"div",25)(104,"div",26)(105,"button",27),c._uU(106,"Register"),c.qZA()()()()}if(2&n){const t=c.oxw();c.xp6(50),c.Q6J("ngModel",t.state),c.xp6(3),c.Q6J("ngForOf",t.states),c.xp6(8),c.Q6J("ngModel",t.city),c.xp6(3),c.Q6J("ngForOf",t.cities)}}const P$=[{path:"",pathMatch:"full",redirectTo:"home"},{path:"home",component:OC},{path:"our-services",component:kC},{path:"contact-us",component:c$},{path:"faq",component:d$},{path:"workflow",component:RC},{path:"register/:type",component:(()=>{class n{constructor(t,i,r){this.route=t,this.router=i,this.baseData=r,this.types=["company","consultant"],this.type="",this.states=[],this.cities=[],this.state="",this.city=""}ngOnInit(){this.route.paramMap.subscribe(t=>{this.type=t.get("type"),null!=this.type&&!this.types.includes(this.type)&&this.router.navigate(["home"])}),this.load()}load(){this.baseData.getStateCityMap().then(t=>{this.state_city_map=t,this.states=Object.keys(this.state_city_map)})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Du),c.Y36(ti),c.Y36(S$))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-register"]],decls:2,vars:2,consts:[["class","container mt-3",4,"ngIf"],[1,"container","mt-3"],[1,"image-background"],[1,"row"],[1,"col-md-6","col-sm-12","col-xs-12"],["routerLink","/register/consultant",1,"navigation-link"],["routerLink","/login",1,"navigation-link"],[1,"text-danger"],["type","text","id","companyname","placeholder","Company Name","name","companyname",1,"form-control"],[1,"error"],["id","industry","name","industry",1,"form-select"],["selected","","disabled",""],[1,"col-md-12","col-sm-12","col-xs-12"],["type","text","id","address","placeholder","Address","name","address",1,"form-control"],["id","country","name","country","disabled","",1,"form-select"],["default",""],["id","state","name","state",1,"form-select",3,"ngModel","ngModelChange","change"],["disabled","","value",""],[3,"value",4,"ngFor","ngForOf"],["id","city","name","city",1,"form-select",3,"ngModel","ngModelChange"],["type","text","id","pincode","placeholder","Pincode","name","pincode",1,"form-control"],["type","text","id","username","placeholder","Company Email","name","username",1,"form-control"],["type","text","id","contact","placeholder","XXXXXXXXX","name","contact",1,"form-control"],["type","password","id","password","name","password",1,"form-control"],["type","password","id","cpassword","name","cpassword",1,"form-control"],[1,"row","place-center"],[1,"col-md-3","col-sm-6","col-xs-12"],[1,"btn","btn-primary","w-100"],[3,"value"],["routerLink","/register/company",1,"navigation-link"],["type","text","id","firstName","placeholder","First Name","name","firstName",1,"form-control"],["type","text","id","lastName","placeholder","Last Name","name","lastName",1,"form-control"],["type","text","id","username","placeholder","User Email ID","name","username",1,"form-control"]],template:function(t,i){1&t&&(c.YNc(0,M$,109,4,"div",0),c.YNc(1,O$,107,4,"div",0)),2&t&&(c.Q6J("ngIf","company"==i.type),c.xp6(1),c.Q6J("ngIf","consultant"==i.type))},dependencies:[ls,Dn,Im,Md,sa,sf,Id,cl],styles:[".container[_ngcontent-%COMP%]{max-width:740px}label[_ngcontent-%COMP%]{margin-bottom:.2rem;margin-left:5px;font-size:16px;font-weight:500}h2[_ngcontent-%COMP%]{font-size:25px;text-decoration:underline;-webkit-text-decoration-color:black;text-decoration-color:#000;color:teal}.image-background[_ngcontent-%COMP%]{width:-webkit-fill-available;height:-webkit-fill-available;position:absolute;top:0;left:0;background:url(/assets/icons/tp-icon.png);opacity:.2;background-repeat:no-repeat;background-position:center;z-index:-1}.navigation-link[_ngcontent-%COMP%]{float:right;text-decoration:underline;font-size:12px;cursor:pointer;color:#4169e1;font-weight:400}.navigation-link[_ngcontent-%COMP%]:hover{color:#8b0000}.error[_ngcontent-%COMP%]{color:#f61e37;font-size:12px;margin-bottom:0;padding-left:3px}.btn-primary[_ngcontent-%COMP%]{min-width:130px}"]}),n})()},{path:"login",component:vL},{path:"profile",component:n$},{path:"dashboard",component:O3},{path:"login",component:vL}];let N$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[ig.forRoot(P$),ig]}),n})();var F$=P(1144);const L$=["addListener","removeListener"],V$=["addEventListener","removeEventListener"],B$=["on","off"];function e0(n,e,t,i){if((0,oa.m)(t)&&(i=t,t=void 0),i)return e0(n,e,t).pipe(Jo(i));const[r,a]=function j$(n){return(0,oa.m)(n.addEventListener)&&(0,oa.m)(n.removeEventListener)}(n)?V$.map(u=>f=>n[u](e,f,t)):function U$(n){return(0,oa.m)(n.addListener)&&(0,oa.m)(n.removeListener)}(n)?L$.map(kL(n,e)):function H$(n){return(0,oa.m)(n.on)&&(0,oa.m)(n.off)}(n)?B$.map(kL(n,e)):[];if(!r&&(0,F$.z)(n))return(0,Ji.z)(u=>e0(u,e,t))((0,Oi.Xf)(n));if(!r)throw new TypeError("Invalid event target");return new Ln.y(u=>{const f=(..._)=>u.next(1<_.length?_:_[0]);return r(f),()=>a(f)})}function kL(n,e){return t=>i=>n[t](e,i)}var RL=P(4408);const t0={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:i}=t0;i&&(e=i.requestAnimationFrame,t=i.cancelAnimationFrame);const r=e(a=>{t=void 0,n(a)});return new tl.w0(()=>t?.(r))},requestAnimationFrame(...n){const{delegate:e}=t0;return(e?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=t0;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};var OL=P(7565);new class G$ extends OL.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class $$ extends RL.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=t0.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(e,t,i);e.actions.some(r=>r.id===t)||(t0.cancelAnimationFrame(t),e._scheduled=void 0)}});let fk,q$=1;const EI={};function PL(n){return n in EI&&(delete EI[n],!0)}const Z$={setImmediate(n){const e=q$++;return EI[e]=!0,fk||(fk=Promise.resolve()),fk.then(()=>PL(e)&&n()),e},clearImmediate(n){PL(n)}},{setImmediate:W$,clearImmediate:K$}=Z$,II={setImmediate(...n){const{delegate:e}=II;return(e?.setImmediate||W$)(...n)},clearImmediate(n){const{delegate:e}=II;return(e?.clearImmediate||K$)(n)},delegate:void 0};new class Q$ extends OL.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class Y$ extends RL.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=II.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(e,t,i);e.actions.some(r=>r.id===t)||(II.clearImmediate(t),e._scheduled=void 0)}});var eG=P(3532);function NL(n,e=fg.z){return function J$(n){return(0,Fi.e)((e,t)=>{let i=!1,r=null,a=null,u=!1;const f=()=>{if(a?.unsubscribe(),a=null,i){i=!1;const b=r;r=null,t.next(b)}u&&t.complete()},_=()=>{a=null,u&&t.complete()};e.subscribe((0,Gn.x)(t,b=>{i=!0,r=b,a||(0,Oi.Xf)(n(b)).subscribe(a=(0,Gn.x)(t,f,_))},()=>{u=!0,(!i||!a||a.closed)&&t.complete()}))})}(()=>function nG(n=0,e,t=fg.P){let i=-1;return null!=e&&((0,eG.K)(e)?t=e:i=e),new Ln.y(r=>{let a=function tG(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;a<0&&(a=0);let u=0;return t.schedule(function(){r.closed||(r.next(u++),0<=i?this.schedule(void 0,i):r.complete())},a)})}(n,e))}let pk=(()=>{class n{constructor(t,i,r){this._ngZone=t,this._platform=i,this._scrolled=new Nt.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const i=this.scrollContainers.get(t);i&&(i.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new Ln.y(i=>{this._globalSubscription||this._addGlobalListener();const r=t>0?this._scrolled.pipe(NL(t)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):tt()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(t,i){const r=this.getAncestorScrollContainers(t);return this.scrolled(i).pipe(Cn(a=>!a||r.indexOf(a)>-1))}getAncestorScrollContainers(t){const i=[];return this.scrollContainers.forEach((r,a)=>{this._scrollableContainsElement(a,t)&&i.push(a)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,i){let r=Mo(i),a=t.getElementRef().nativeElement;do{if(r==a)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>e0(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.R0b),c.LFG(pr),c.LFG(ie,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),mk=(()=>{class n{constructor(t,i,r,a){this.elementRef=t,this.scrollDispatcher=i,this.ngZone=r,this.dir=a,this._destroyed=new Nt.x,this._elementScrolled=new Ln.y(u=>this.ngZone.runOutsideAngular(()=>e0(this.elementRef.nativeElement,"scroll").pipe(mr(this._destroyed)).subscribe(u)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(t){const i=this.elementRef.nativeElement,r=this.dir&&"rtl"==this.dir.value;null==t.left&&(t.left=r?t.end:t.start),null==t.right&&(t.right=r?t.start:t.end),null!=t.bottom&&(t.top=i.scrollHeight-i.clientHeight-t.bottom),r&&0!=nh()?(null!=t.left&&(t.right=i.scrollWidth-i.clientWidth-t.left),2==nh()?t.left=t.right:1==nh()&&(t.left=t.right?-t.right:t.right)):null!=t.right&&(t.left=i.scrollWidth-i.clientWidth-t.right),this._applyScrollToOptions(t)}_applyScrollToOptions(t){const i=this.elementRef.nativeElement;nv()?i.scrollTo(t):(null!=t.top&&(i.scrollTop=t.top),null!=t.left&&(i.scrollLeft=t.left))}measureScrollOffset(t){const i="left",r="right",a=this.elementRef.nativeElement;if("top"==t)return a.scrollTop;if("bottom"==t)return a.scrollHeight-a.clientHeight-a.scrollTop;const u=this.dir&&"rtl"==this.dir.value;return"start"==t?t=u?r:i:"end"==t&&(t=u?i:r),u&&2==nh()?t==i?a.scrollWidth-a.clientWidth-a.scrollLeft:a.scrollLeft:u&&1==nh()?t==i?a.scrollLeft+a.scrollWidth-a.clientWidth:-a.scrollLeft:t==i?a.scrollLeft:a.scrollWidth-a.clientWidth-a.scrollLeft}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(pk),c.Y36(c.R0b),c.Y36(ip,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]}),n})(),gk=(()=>{class n{constructor(t,i,r){this._platform=t,this._change=new Nt.x,this._changeListener=a=>{this._change.next(a)},this._document=r,i.runOutsideAngular(()=>{if(t.isBrowser){const a=this._getWindow();a.addEventListener("resize",this._changeListener),a.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+r,right:t.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,i=this._getWindow(),r=t.documentElement,a=r.getBoundingClientRect();return{top:-a.top||t.body.scrollTop||i.scrollY||r.scrollTop||0,left:-a.left||t.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(NL(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(pr),c.LFG(c.R0b),c.LFG(ie,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),n0=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})(),FL=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[ch,n0,ch,n0]}),n})();const LL=["*"],sG=["content"];function oG(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"div",2),c.NdJ("click",function(){c.CHM(t);const r=c.oxw();return c.KtG(r._onBackdropClicked())}),c.qZA()}if(2&n){const t=c.oxw();c.ekj("mat-drawer-shown",t._isShowingBackdrop())}}function aG(n,e){1&n&&(c.TgZ(0,"mat-drawer-content"),c.Hsn(1,2),c.qZA())}const lG=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],cG=["mat-drawer","mat-drawer-content","*"],uG={transformDrawer:ml("transform",[Pr("open, open-instant",ii({transform:"none",visibility:"visible"})),Pr("void",ii({"box-shadow":"none",visibility:"hidden"})),Nr("void => open-instant",Jr("0ms")),Nr("void <=> open, open-instant => void",Jr("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])},dG=new c.OlP("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function hG(){return!1}}),VL=new c.OlP("MAT_DRAWER_CONTAINER");let _k=(()=>{class n extends mk{constructor(t,i,r,a,u){super(r,a,u),this._changeDetectorRef=t,this._container=i}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.sBO),c.Y36((0,c.Gpc)(()=>UL)),c.Y36(c.SBq),c.Y36(pk),c.Y36(c.R0b))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-drawer-content"]],hostAttrs:[1,"mat-drawer-content"],hostVars:4,hostBindings:function(t,i){2&t&&c.Udp("margin-left",i._container._contentMargins.left,"px")("margin-right",i._container._contentMargins.right,"px")},features:[c._Bn([{provide:mk,useExisting:n}]),c.qOj],ngContentSelectors:LL,decls:1,vars:0,template:function(t,i){1&t&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),n})(),BL=(()=>{class n{constructor(t,i,r,a,u,f,_,b){this._elementRef=t,this._focusTrapFactory=i,this._focusMonitor=r,this._platform=a,this._ngZone=u,this._interactivityChecker=f,this._doc=_,this._container=b,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new Nt.x,this._animationEnd=new Nt.x,this._animationState="void",this.openedChange=new c.vpe(!0),this._openedStream=this.openedChange.pipe(Cn(I=>I),(0,nt.U)(()=>{})),this.openedStart=this._animationStarted.pipe(Cn(I=>I.fromState!==I.toState&&0===I.toState.indexOf("open")),ry(void 0)),this._closedStream=this.openedChange.pipe(Cn(I=>!I),(0,nt.U)(()=>{})),this.closedStart=this._animationStarted.pipe(Cn(I=>I.fromState!==I.toState&&"void"===I.toState),ry(void 0)),this._destroyed=new Nt.x,this.onPositionChanged=new c.vpe,this._modeChanged=new Nt.x,this.openedChange.subscribe(I=>{I?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus(this._openedVia||"program")}),this._ngZone.runOutsideAngular(()=>{e0(this._elementRef.nativeElement,"keydown").pipe(Cn(I=>27===I.keyCode&&!this.disableClose&&!av(I)),mr(this._destroyed)).subscribe(I=>this._ngZone.run(()=>{this.close(),I.stopPropagation(),I.preventDefault()}))}),this._animationEnd.pipe(pg((I,x)=>I.fromState===x.fromState&&I.toState===x.toState)).subscribe(I=>{const{fromState:x,toState:L}=I;(0===L.indexOf("open")&&"void"===x||"void"===L&&0===x.indexOf("open"))&&this.openedChange.emit(this._opened)})}get position(){return this._position}set position(t){(t="end"===t?"end":"start")!==this._position&&(this._isAttached&&this._updatePositionInParent(t),this._position=t,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(t){this._mode=t,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(t){this._disableClose=fr(t)}get autoFocus(){return this._autoFocus??("side"===this.mode?"dialog":"first-tabbable")}set autoFocus(t){("true"===t||"false"===t||null==t)&&(t=fr(t)),this._autoFocus=t}get opened(){return this._opened}set opened(t){this.toggle(fr(t))}_forceFocus(t,i){this._interactivityChecker.isFocusable(t)||(t.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{t.removeEventListener("blur",r),t.removeEventListener("mousedown",r),t.removeAttribute("tabindex")};t.addEventListener("blur",r),t.addEventListener("mousedown",r)})),t.focus(i)}_focusByCssSelector(t,i){let r=this._elementRef.nativeElement.querySelector(t);r&&this._forceFocus(r,i)}_takeFocus(){if(!this._focusTrap)return;const t=this._elementRef.nativeElement;switch(this.autoFocus){case!1:case"dialog":return;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{!i&&"function"==typeof this._elementRef.nativeElement.focus&&t.focus()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.autoFocus)}}_restoreFocus(t){"dialog"!==this.autoFocus&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,t):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null)}_isFocusWithinDrawer(){const t=this._doc.activeElement;return!!t&&this._elementRef.nativeElement.contains(t)}ngAfterViewInit(){this._isAttached=!0,this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState(),"end"===this._position&&this._updatePositionInParent("end")}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){this._focusTrap&&this._focusTrap.destroy(),this._anchor?.remove(),this._anchor=null,this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(t){return this.toggle(!0,t)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0,"mouse")}toggle(t=!this.opened,i){t&&i&&(this._openedVia=i);const r=this._setOpen(t,!t&&this._isFocusWithinDrawer(),this._openedVia||"program");return t||(this._openedVia=null),r}_setOpen(t,i,r){return this._opened=t,t?this._animationState=this._enableAnimations?"open":"open-instant":(this._animationState="void",i&&this._restoreFocus(r)),this._updateFocusTrapState(),new Promise(a=>{this.openedChange.pipe(Qs(1)).subscribe(u=>a(u?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=this.opened&&"side"!==this.mode)}_updatePositionInParent(t){const i=this._elementRef.nativeElement,r=i.parentNode;"end"===t?(this._anchor||(this._anchor=this._doc.createComment("mat-drawer-anchor"),r.insertBefore(this._anchor,i)),r.appendChild(i)):this._anchor&&this._anchor.parentNode.insertBefore(i,this._anchor)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(pv),c.Y36(mv),c.Y36(pr),c.Y36(c.R0b),c.Y36(Ww),c.Y36(ie,8),c.Y36(VL,8))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-drawer"]],viewQuery:function(t,i){if(1&t&&c.Gf(sG,5),2&t){let r;c.iGM(r=c.CRH())&&(i._content=r.first)}},hostAttrs:["tabIndex","-1",1,"mat-drawer"],hostVars:12,hostBindings:function(t,i){1&t&&c.WFA("@transform.start",function(a){return i._animationStarted.next(a)})("@transform.done",function(a){return i._animationEnd.next(a)}),2&t&&(c.uIk("align",null),c.d8E("@transform",i._animationState),c.ekj("mat-drawer-end","end"===i.position)("mat-drawer-over","over"===i.mode)("mat-drawer-push","push"===i.mode)("mat-drawer-side","side"===i.mode)("mat-drawer-opened",i.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],ngContentSelectors:LL,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(t,i){1&t&&(c.F$t(),c.TgZ(0,"div",0,1),c.Hsn(2),c.qZA())},dependencies:[mk],encapsulation:2,data:{animation:[uG.transformDrawer]},changeDetection:0}),n})(),UL=(()=>{class n{constructor(t,i,r,a,u,f=!1,_){this._dir=t,this._element=i,this._ngZone=r,this._changeDetectorRef=a,this._animationMode=_,this._drawers=new c.n_E,this.backdropClick=new c.vpe,this._destroyed=new Nt.x,this._doCheckSubject=new Nt.x,this._contentMargins={left:null,right:null},this._contentMarginChanges=new Nt.x,t&&t.change.pipe(mr(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),u.change().pipe(mr(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=f}get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(t){this._autosize=fr(t)}get hasBackdrop(){return this._backdropOverride??(!this._start||"side"!==this._start.mode||!this._end||"side"!==this._end.mode)}set hasBackdrop(t){this._backdropOverride=null==t?null:fr(t)}get scrollable(){return this._userContent||this._content}ngAfterContentInit(){this._allDrawers.changes.pipe(qn(this._allDrawers),mr(this._destroyed)).subscribe(t=>{this._drawers.reset(t.filter(i=>!i._container||i._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe(qn(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(t=>{this._watchDrawerToggle(t),this._watchDrawerPosition(t),this._watchDrawerMode(t)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe(lv(10),mr(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(t=>t.open())}close(){this._drawers.forEach(t=>t.close())}updateContentMargins(){let t=0,i=0;if(this._left&&this._left.opened)if("side"==this._left.mode)t+=this._left._getWidth();else if("push"==this._left.mode){const r=this._left._getWidth();t+=r,i-=r}if(this._right&&this._right.opened)if("side"==this._right.mode)i+=this._right._getWidth();else if("push"==this._right.mode){const r=this._right._getWidth();i+=r,t-=r}t=t||null,i=i||null,(t!==this._contentMargins.left||i!==this._contentMargins.right)&&(this._contentMargins={left:t,right:i},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(t){t._animationStarted.pipe(Cn(i=>i.fromState!==i.toState),mr(this._drawers.changes)).subscribe(i=>{"open-instant"!==i.toState&&"NoopAnimations"!==this._animationMode&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),"side"!==t.mode&&t.openedChange.pipe(mr(this._drawers.changes)).subscribe(()=>this._setContainerClass(t.opened))}_watchDrawerPosition(t){!t||t.onPositionChanged.pipe(mr(this._drawers.changes)).subscribe(()=>{this._ngZone.onMicrotaskEmpty.pipe(Qs(1)).subscribe(()=>{this._validateDrawers()})})}_watchDrawerMode(t){t&&t._modeChanged.pipe(mr((0,ku.T)(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(t){const i=this._element.nativeElement.classList,r="mat-drawer-container-has-open";t?i.add(r):i.remove(r)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(t=>{"end"==t.position?this._end=t:this._start=t}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(t=>t&&!t.disableClose&&this._canHaveBackdrop(t)).forEach(t=>t._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._canHaveBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._canHaveBackdrop(this._end)}_canHaveBackdrop(t){return"side"!==t.mode||!!this._backdropOverride}_isDrawerOpen(t){return null!=t&&t.opened}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(ip,8),c.Y36(c.SBq),c.Y36(c.R0b),c.Y36(c.sBO),c.Y36(gk),c.Y36(dG),c.Y36(c.QbO,8))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-drawer-container"]],contentQueries:function(t,i,r){if(1&t&&(c.Suo(r,_k,5),c.Suo(r,BL,5)),2&t){let a;c.iGM(a=c.CRH())&&(i._content=a.first),c.iGM(a=c.CRH())&&(i._allDrawers=a)}},viewQuery:function(t,i){if(1&t&&c.Gf(_k,5),2&t){let r;c.iGM(r=c.CRH())&&(i._userContent=r.first)}},hostAttrs:[1,"mat-drawer-container"],hostVars:2,hostBindings:function(t,i){2&t&&c.ekj("mat-drawer-container-explicit-backdrop",i._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],features:[c._Bn([{provide:VL,useExisting:n}])],ngContentSelectors:cG,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(t,i){1&t&&(c.F$t(lG),c.YNc(0,oG,1,2,"div",0),c.Hsn(1),c.Hsn(2,1),c.YNc(3,aG,2,0,"mat-drawer-content",1)),2&t&&(c.Q6J("ngIf",i.hasBackdrop),c.xp6(3),c.Q6J("ngIf",!i._content))},dependencies:[Dn,_k],styles:['.mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}'],encapsulation:2,changeDetection:0}),n})(),fG=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[lr,ni,n0,n0,ni]}),n})();const pG=["*"];let DI;function r0(n){return function mG(){if(void 0===DI&&(DI=null,typeof window<"u")){const n=window;void 0!==n.trustedTypes&&(DI=n.trustedTypes.createPolicy("angular#components",{createHTML:e=>e}))}return DI}()?.createHTML(n)||n}function HL(n){return Error(`Unable to find icon with the name "${n}"`)}function jL(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function $L(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class jp{constructor(e,t,i){this.url=e,this.svgText=t,this.options=i}}let TI=(()=>{class n{constructor(t,i,r,a){this._httpClient=t,this._sanitizer=i,this._errorHandler=a,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=r}addSvgIcon(t,i,r){return this.addSvgIconInNamespace("",t,i,r)}addSvgIconLiteral(t,i,r){return this.addSvgIconLiteralInNamespace("",t,i,r)}addSvgIconInNamespace(t,i,r,a){return this._addSvgIconConfig(t,i,new jp(r,null,a))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,i,r,a){const u=this._sanitizer.sanitize(c.q3G.HTML,r);if(!u)throw $L(r);const f=r0(u);return this._addSvgIconConfig(t,i,new jp("",f,a))}addSvgIconSet(t,i){return this.addSvgIconSetInNamespace("",t,i)}addSvgIconSetLiteral(t,i){return this.addSvgIconSetLiteralInNamespace("",t,i)}addSvgIconSetInNamespace(t,i,r){return this._addSvgIconSetConfig(t,new jp(i,null,r))}addSvgIconSetLiteralInNamespace(t,i,r){const a=this._sanitizer.sanitize(c.q3G.HTML,i);if(!a)throw $L(i);const u=r0(a);return this._addSvgIconSetConfig(t,new jp("",u,r))}registerFontClassAlias(t,i=t){return this._fontCssClassesByAlias.set(t,i),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(...t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const i=this._sanitizer.sanitize(c.q3G.RESOURCE_URL,t);if(!i)throw jL(t);const r=this._cachedIconsByUrl.get(i);return r?tt(SI(r)):this._loadSvgIconFromConfig(new jp(t,null)).pipe((0,pi.b)(a=>this._cachedIconsByUrl.set(i,a)),(0,nt.U)(a=>SI(a)))}getNamedSvgIcon(t,i=""){const r=GL(i,t);let a=this._svgIconConfigs.get(r);if(a)return this._getSvgFromConfig(a);if(a=this._getIconConfigFromResolvers(i,t),a)return this._svgIconConfigs.set(r,a),this._getSvgFromConfig(a);const u=this._iconSetConfigs.get(i);return u?this._getSvgFromIconSetConfigs(t,u):Pd(HL(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?tt(SI(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe((0,nt.U)(i=>SI(i)))}_getSvgFromIconSetConfigs(t,i){const r=this._extractIconWithNameFromAnySet(t,i);return r?tt(r):ea(i.filter(u=>!u.svgText).map(u=>this._loadSvgIconSetFromConfig(u).pipe(la(f=>{const b=`Loading icon set URL: ${this._sanitizer.sanitize(c.q3G.RESOURCE_URL,u.url)} failed: ${f.message}`;return this._errorHandler.handleError(new Error(b)),tt(null)})))).pipe((0,nt.U)(()=>{const u=this._extractIconWithNameFromAnySet(t,i);if(!u)throw HL(t);return u}))}_extractIconWithNameFromAnySet(t,i){for(let r=i.length-1;r>=0;r--){const a=i[r];if(a.svgText&&a.svgText.toString().indexOf(t)>-1){const u=this._svgElementFromConfig(a),f=this._extractSvgIconFromSet(u,t,a.options);if(f)return f}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe((0,pi.b)(i=>t.svgText=i),(0,nt.U)(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?tt(null):this._fetchIcon(t).pipe((0,pi.b)(i=>t.svgText=i))}_extractSvgIconFromSet(t,i,r){const a=t.querySelector(`[id="${i}"]`);if(!a)return null;const u=a.cloneNode(!0);if(u.removeAttribute("id"),"svg"===u.nodeName.toLowerCase())return this._setSvgAttributes(u,r);if("symbol"===u.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(u),r);const f=this._svgElementFromString(r0("<svg></svg>"));return f.appendChild(u),this._setSvgAttributes(f,r)}_svgElementFromString(t){const i=this._document.createElement("DIV");i.innerHTML=t;const r=i.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(t){const i=this._svgElementFromString(r0("<svg></svg>")),r=t.attributes;for(let a=0;a<r.length;a++){const{name:u,value:f}=r[a];"id"!==u&&i.setAttribute(u,f)}for(let a=0;a<t.childNodes.length;a++)t.childNodes[a].nodeType===this._document.ELEMENT_NODE&&i.appendChild(t.childNodes[a].cloneNode(!0));return i}_setSvgAttributes(t,i){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),i&&i.viewBox&&t.setAttribute("viewBox",i.viewBox),t}_fetchIcon(t){const{url:i,options:r}=t,a=r?.withCredentials??!1;if(!this._httpClient)throw function gG(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==i)throw Error(`Cannot fetch icon from URL "${i}".`);const u=this._sanitizer.sanitize(c.q3G.RESOURCE_URL,i);if(!u)throw jL(i);const f=this._inProgressUrlFetches.get(u);if(f)return f;const _=this._httpClient.get(u,{responseType:"text",withCredentials:a}).pipe((0,nt.U)(b=>r0(b)),Am(()=>this._inProgressUrlFetches.delete(u)),(0,MF.B)());return this._inProgressUrlFetches.set(u,_),_}_addSvgIconConfig(t,i,r){return this._svgIconConfigs.set(GL(t,i),r),this}_addSvgIconSetConfig(t,i){const r=this._iconSetConfigs.get(t);return r?r.push(i):this._iconSetConfigs.set(t,[i]),this}_svgElementFromConfig(t){if(!t.svgElement){const i=this._svgElementFromString(t.svgText);this._setSvgAttributes(i,t.options),t.svgElement=i}return t.svgElement}_getIconConfigFromResolvers(t,i){for(let r=0;r<this._resolvers.length;r++){const a=this._resolvers[r](i,t);if(a)return yG(a)?new jp(a.url,null,a.options):new jp(a,null)}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(CI,8),c.LFG(Co),c.LFG(ie,8),c.LFG(c.qLn))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function SI(n){return n.cloneNode(!0)}function GL(n,e){return n+":"+e}function yG(n){return!(!n.url||!n.options)}const vG=bv(class{constructor(n){this._elementRef=n}}),bG=new c.OlP("MAT_ICON_DEFAULT_OPTIONS"),wG=new c.OlP("mat-icon-location",{providedIn:"root",factory:function CG(){const n=(0,c.f3M)(ie),e=n?n.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),zL=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],EG=zL.map(n=>`[${n}]`).join(", "),IG=/^url\(['"]?#(.*?)['"]?\)$/;let DG=(()=>{class n extends vG{constructor(t,i,r,a,u,f){super(t),this._iconRegistry=i,this._location=a,this._errorHandler=u,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=tl.w0.EMPTY,f&&(f.color&&(this.color=this.defaultColor=f.color),f.fontSet&&(this.fontSet=f.fontSet)),r||t.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(t){this._inline=fr(t)}get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}get fontSet(){return this._fontSet}set fontSet(t){const i=this._cleanupFontValue(t);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(t){const i=this._cleanupFontValue(t);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}_splitIconName(t){if(!t)return["",""];const i=t.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&t.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let i=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const r=t.childNodes[i];(1!==r.nodeType||"svg"===r.nodeName.toLowerCase())&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,i=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(r=>r.length>0);this._previousFontSetClass.forEach(r=>t.classList.remove(r)),i.forEach(r=>t.classList.add(r)),this._previousFontSetClass=i,this.fontIcon!==this._previousFontIconClass&&!i.includes("mat-ligature-font")&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const i=this._elementsWithExternalReferences;i&&i.forEach((r,a)=>{r.forEach(u=>{a.setAttribute(u.name,`url('${t}#${u.value}')`)})})}_cacheChildrenWithExternalReferences(t){const i=t.querySelectorAll(EG),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let a=0;a<i.length;a++)zL.forEach(u=>{const f=i[a],_=f.getAttribute(u),b=_?_.match(IG):null;if(b){let I=r.get(f);I||(I=[],r.set(f,I)),I.push({name:u,value:b[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){const[i,r]=this._splitIconName(t);i&&(this._svgNamespace=i),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,i).pipe(Qs(1)).subscribe(a=>this._setSvgElement(a),a=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${r}! ${a.message}`))})}}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(TI),c.$8M("aria-hidden"),c.Y36(wG),c.Y36(c.qLn),c.Y36(bG,8))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(t,i){2&t&&(c.uIk("data-mat-icon-type",i._usingFontIcon()?"font":"svg")("data-mat-icon-name",i._svgName||i.fontIcon)("data-mat-icon-namespace",i._svgNamespace||i.fontSet),c.ekj("mat-icon-inline",i.inline)("mat-icon-no-color","primary"!==i.color&&"accent"!==i.color&&"warn"!==i.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[c.qOj],ngContentSelectors:pG,decls:1,vars:0,template:function(t,i){1&t&&(c.F$t(),c.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0}),n})(),TG=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[ni,ni]}),n})();const SG=["*",[["mat-toolbar-row"]]],xG=["*","mat-toolbar-row"],AG=bv(class{constructor(n){this._elementRef=n}});let MG=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),n})(),kG=(()=>{class n extends AG{constructor(t,i,r){super(t),this._platform=i,this._document=r}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(pr),c.Y36(ie))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-toolbar"]],contentQueries:function(t,i,r){if(1&t&&c.Suo(r,MG,5),2&t){let a;c.iGM(a=c.CRH())&&(i._toolbarRows=a)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(t,i){2&t&&c.ekj("mat-toolbar-multiple-rows",i._toolbarRows.length>0)("mat-toolbar-single-row",0===i._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[c.qOj],ngContentSelectors:xG,decls:2,vars:0,template:function(t,i){1&t&&(c.F$t(SG),c.Hsn(0),c.Hsn(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}"],encapsulation:2,changeDetection:0}),n})(),RG=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[ni,ni]}),n})(),OG=(()=>{class n{constructor(t,i,r){this.auth=t,this.firestore=i,this.router=r,this.title="Transfer Pricing Digital"}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(gI),c.Y36(yI),c.Y36(ti))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-header"]],decls:51,vars:1,consts:[[1,"d-block","d-md-none"],["mat-icon-button","",3,"click"],["src","assets/icons/tp-icon.png","alt","logo",1,"logo"],[1,"title-cap"],[1,"title-sm"],[1,"example-spacer"],[1,"d-none","d-md-block"],["mat-button","","routerLink","/home","routerLinkActive","active-link","aria-label","Home"],["mat-button","","routerLink","/our-services","routerLinkActive","active-link","aria-label","Services"],["mat-button","","routerLink","/workflow","routerLinkActive","active-link","aria-label","Workflow"],["mat-button","","routerLink","/contact-us","routerLinkActive","active-link","aria-label","Contact"],["mat-button","","routerLink","/faq","routerLinkActive","active-link","aria-label","Faq"],[1,"example-container",3,"hasBackdrop"],["mode","over"],["drawer",""],[2,"margin-left","10px"]],template:function(t,i){if(1&t){const r=c.EpF();c.TgZ(0,"mat-toolbar")(1,"div",0)(2,"button",1),c.NdJ("click",function(){c.CHM(r);const u=c.MAs(34);return c.KtG(u.toggle())}),c.TgZ(3,"mat-icon"),c._uU(4,"menu"),c.qZA()()(),c.TgZ(5,"span"),c._UZ(6,"img",2),c.qZA(),c.TgZ(7,"span")(8,"span",3),c._uU(9,"T"),c.qZA(),c.TgZ(10,"span",4),c._uU(11,"RANSFER "),c.qZA(),c.TgZ(12,"span",3),c._uU(13,"P"),c.qZA(),c.TgZ(14,"span",4),c._uU(15,"RICING "),c.qZA(),c.TgZ(16,"span",3),c._uU(17,".I"),c.qZA(),c.TgZ(18,"span",4),c._uU(19,"N"),c.qZA()(),c._UZ(20,"span",5),c.TgZ(21,"div",6)(22,"button",7),c._uU(23,"Home"),c.qZA(),c.TgZ(24,"button",8),c._uU(25,"Our Services"),c.qZA(),c.TgZ(26,"button",9),c._uU(27,"Our Workflow"),c.qZA(),c.TgZ(28,"button",10),c._uU(29,"Contact Us"),c.qZA(),c.TgZ(30,"button",11),c._uU(31,"FAQ"),c.qZA()()(),c.TgZ(32,"mat-drawer-container",12)(33,"mat-drawer",13,14)(35,"div",15)(36,"button",7),c._uU(37,"Home"),c.qZA(),c._UZ(38,"br"),c.TgZ(39,"button",8),c._uU(40,"Our Services"),c.qZA(),c._UZ(41,"br"),c.TgZ(42,"button",9),c._uU(43,"Our Workflow"),c.qZA(),c._UZ(44,"br"),c.TgZ(45,"button",10),c._uU(46,"Contact Us"),c.qZA(),c._UZ(47,"br"),c.TgZ(48,"button",11),c._uU(49,"FAQ"),c.qZA()()(),c._UZ(50,"router-outlet"),c.qZA()}2&t&&(c.xp6(32),c.Q6J("hasBackdrop",!0))},dependencies:[Nf,cl,KD,BL,UL,DG,kG,yL],styles:[".mat-toolbar-row[_ngcontent-%COMP%], .mat-toolbar-single-row[_ngcontent-%COMP%]{height:80px;background-color:#fff;color:#000}.logo[_ngcontent-%COMP%]{height:50px;margin-right:15px}.title-cap[_ngcontent-%COMP%]{font-size:35px;color:red}.title-sm[_ngcontent-%COMP%]{font-size:25px;color:teal}.example-spacer[_ngcontent-%COMP%]{flex:1 1 auto}.mat-drawer-container[_ngcontent-%COMP%]{height:-webkit-fill-available}.mat-drawer[_ngcontent-%COMP%]{min-width:30%}.mat-toolbar[_ngcontent-%COMP%]{box-shadow:0 3px 5px -1px #0003,0 6px 10px #00000024,0 1px 18px #0000001f}button[_ngcontent-%COMP%]{border-bottom:2px solid transparent;border-radius:0;font-weight:600}button.active-link[_ngcontent-%COMP%]{border-bottom:2px solid gold}router-outlet[_ngcontent-%COMP%]{margin-top:10px}"]}),n})(),PG=(()=>{class n{constructor(){this.title="webedu"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-root"]],decls:2,vars:0,template:function(t,i){1&t&&c._UZ(0,"app-header")(1,"router-outlet")},dependencies:[Nf,OG]}),n})();const qL_firebase={apiKey:"AIzaSyAwu8fVmyT0BOnu7-sEDuI3UY7_jdIptKk",authDomain:"eathealthy.firebaseapp.com",databaseURL:"https://eathealthy.firebaseio.com",projectId:"eathealthy",storageBucket:"eathealthy.appspot.com",messagingSenderId:"445163625376",appId:"1:445163625376:web:6f27fcfab90c01b90ae2c5"};function ZL(n){return new c.vHH(3e3,!1)}function mz(){return typeof window<"u"&&typeof window.document<"u"}function yk(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function jh(n){switch(n.length){case 0:return new op;case 1:return n[0];default:return new Tv(n)}}function WL(n,e,t,i,r=new Map,a=new Map){const u=[],f=[];let _=-1,b=null;if(i.forEach(I=>{const x=I.get("offset"),L=x==_,B=L&&b||new Map;I.forEach((U,ee)=>{let _e=ee,Le=U;if("offset"!==ee)switch(_e=e.normalizePropertyName(_e,u),Le){case"!":Le=r.get(ee);break;case ma:Le=a.get(ee);break;default:Le=e.normalizeStyleValue(ee,_e,Le,u)}B.set(_e,Le)}),L||f.push(B),b=B,_=x}),u.length)throw function iz(n){return new c.vHH(3502,!1)}();return f}function vk(n,e,t,i){switch(e){case"start":n.onStart(()=>i(t&&bk(t,"start",n)));break;case"done":n.onDone(()=>i(t&&bk(t,"done",n)));break;case"destroy":n.onDestroy(()=>i(t&&bk(t,"destroy",n)))}}function bk(n,e,t){const a=wk(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),u=n._data;return null!=u&&(a._data=u),a}function wk(n,e,t,i,r="",a=0,u){return{element:n,triggerName:e,fromState:t,toState:i,phaseName:r,totalTime:a,disabled:!!u}}function No(n,e,t){let i=n.get(e);return i||n.set(e,i=t),i}function KL(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}let Ck=(n,e)=>!1,YL=(n,e,t)=>[],QL=null;function Ek(n){const e=n.parentNode||n.host;return e===QL?null:e}(yk()||typeof Element<"u")&&(mz()?(QL=(()=>document.documentElement)(),Ck=(n,e)=>{for(;e;){if(e===n)return!0;e=Ek(e)}return!1}):Ck=(n,e)=>n.contains(e),YL=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const i=n.querySelector(e);return i?[i]:[]});let $p=null,XL=!1;const JL=Ck,eV=YL;let tV=(()=>{class n{validateStyleProperty(t){return function _z(n){$p||($p=function yz(){return typeof document<"u"?document.body:null}()||{},XL=!!$p.style&&"WebkitAppearance"in $p.style);let e=!0;return $p.style&&!function gz(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in $p.style,!e&&XL&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in $p.style)),e}(t)}matchesElement(t,i){return!1}containsElement(t,i){return JL(t,i)}getParentElement(t){return Ek(t)}query(t,i,r){return eV(t,i,r)}computeStyle(t,i,r){return r||""}animate(t,i,r,a,u,f=[],_){return new op(r,a)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),Ik=(()=>{class n{}return n.NOOP=new tV,n})();const Dk="ng-enter",xI="ng-leave",AI="ng-trigger",MI=".ng-trigger",iV="ng-animating",Tk=".ng-animating";function $h(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:Sk(parseFloat(e[1]),e[2])}function Sk(n,e){return"s"===e?1e3*n:n}function kI(n,e,t){return n.hasOwnProperty("duration")?n:function wz(n,e,t){let r,a=0,u="";if("string"==typeof n){const f=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===f)return e.push(ZL()),{duration:0,delay:0,easing:""};r=Sk(parseFloat(f[1]),f[2]);const _=f[3];null!=_&&(a=Sk(parseFloat(_),f[4]));const b=f[5];b&&(u=b)}else r=n;if(!t){let f=!1,_=e.length;r<0&&(e.push(function NG(){return new c.vHH(3100,!1)}()),f=!0),a<0&&(e.push(function FG(){return new c.vHH(3101,!1)}()),f=!0),f&&e.splice(_,0,ZL())}return{duration:r,delay:a,easing:u}}(n,e,t)}function s0(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function rV(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function Gh(n,e=new Map,t){if(t)for(let[i,r]of t)e.set(i,r);for(let[i,r]of n)e.set(i,r);return e}function oV(n,e,t){return t?e+":"+t+";":""}function aV(n){let e="";for(let t=0;t<n.style.length;t++){const i=n.style.item(t);e+=oV(0,i,n.style.getPropertyValue(i))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=oV(0,Dz(t),n.style[t]));n.setAttribute("style",e)}function Tc(n,e,t){n.style&&(e.forEach((i,r)=>{const a=Ak(r);t&&!t.has(r)&&t.set(r,n.style[a]),n.style[a]=i}),yk()&&aV(n))}function Gp(n,e){n.style&&(e.forEach((t,i)=>{const r=Ak(i);n.style[r]=""}),yk()&&aV(n))}function o0(n){return Array.isArray(n)?1==n.length?n[0]:pC(n):n}const xk=new RegExp("{{\\s*(.+?)\\s*}}","g");function lV(n){let e=[];if("string"==typeof n){let t;for(;t=xk.exec(n);)e.push(t[1]);xk.lastIndex=0}return e}function RI(n,e,t){const i=n.toString(),r=i.replace(xk,(a,u)=>{let f=e[u];return null==f&&(t.push(function VG(n){return new c.vHH(3003,!1)}()),f=""),f.toString()});return r==i?n:r}function OI(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const Iz=/-+([a-z0-9])/g;function Ak(n){return n.replace(Iz,(...e)=>e[1].toUpperCase())}function Dz(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Fo(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function BG(n){return new c.vHH(3004,!1)}()}}function cV(n,e){return window.getComputedStyle(n)[e]}function kz(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function Rz(n,e,t){if(":"==n[0]){const _=function Oz(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,i)=>parseFloat(i)>parseFloat(t);case":decrement":return(t,i)=>parseFloat(i)<parseFloat(t);default:return e.push(function JG(n){return new c.vHH(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof _)return void e.push(_);n=_}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return t.push(function XG(n){return new c.vHH(3015,!1)}()),e;const r=i[1],a=i[2],u=i[3];e.push(uV(r,u));"<"==a[0]&&!("*"==r&&"*"==u)&&e.push(uV(u,r))}(i,t,e)):t.push(n),t}const LI=new Set(["true","1"]),VI=new Set(["false","0"]);function uV(n,e){const t=LI.has(n)||VI.has(n),i=LI.has(e)||VI.has(e);return(r,a)=>{let u="*"==n||n==r,f="*"==e||e==a;return!u&&t&&"boolean"==typeof r&&(u=r?LI.has(n):VI.has(n)),!f&&i&&"boolean"==typeof a&&(f=a?LI.has(e):VI.has(e)),u&&f}}const Pz=new RegExp("s*:selfs*,?","g");function Mk(n,e,t,i){return new Nz(n).build(e,t,i)}class Nz{constructor(e){this._driver=e}build(e,t,i){const r=new Vz(t);return this._resetContextStyleTimingState(r),Fo(this,o0(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let i=t.queryCount=0,r=t.depCount=0;const a=[],u=[];return"@"==e.name.charAt(0)&&t.errors.push(function HG(){return new c.vHH(3006,!1)}()),e.definitions.forEach(f=>{if(this._resetContextStyleTimingState(t),0==f.type){const _=f,b=_.name;b.toString().split(/\s*,\s*/).forEach(I=>{_.name=I,a.push(this.visitState(_,t))}),_.name=b}else if(1==f.type){const _=this.visitTransition(f,t);i+=_.queryCount,r+=_.depCount,u.push(_)}else t.errors.push(function jG(){return new c.vHH(3007,!1)}())}),{type:7,name:e.name,states:a,transitions:u,queryCount:i,depCount:r,options:null}}visitState(e,t){const i=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(i.containsDynamicStyles){const a=new Set,u=r||{};i.styles.forEach(f=>{f instanceof Map&&f.forEach(_=>{lV(_).forEach(b=>{u.hasOwnProperty(b)||a.add(b)})})}),a.size&&(OI(a.values()),t.errors.push(function $G(n,e){return new c.vHH(3008,!1)}()))}return{type:0,name:e.name,style:i,options:r?{params:r}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const i=Fo(this,o0(e.animation),t);return{type:1,matchers:kz(e.expr,t.errors),animation:i,queryCount:t.queryCount,depCount:t.depCount,options:zp(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(i=>Fo(this,i,t)),options:zp(e.options)}}visitGroup(e,t){const i=t.currentTime;let r=0;const a=e.steps.map(u=>{t.currentTime=i;const f=Fo(this,u,t);return r=Math.max(r,t.currentTime),f});return t.currentTime=r,{type:3,steps:a,options:zp(e.options)}}visitAnimate(e,t){const i=function Uz(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return kk(kI(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(a=>"{"==a.charAt(0)&&"{"==a.charAt(1))){const a=kk(0,0,"");return a.dynamic=!0,a.strValue=t,a}const r=kI(t,e);return kk(r.duration,r.delay,r.easing)}(e.timings,t.errors);t.currentAnimateTimings=i;let r,a=e.styles?e.styles:ii({});if(5==a.type)r=this.visitKeyframes(a,t);else{let u=e.styles,f=!1;if(!u){f=!0;const b={};i.easing&&(b.easing=i.easing),u=ii(b)}t.currentTime+=i.duration+i.delay;const _=this.visitStyle(u,t);_.isEmptyStep=f,r=_}return t.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(e,t){const i=this._makeStyleAst(e,t);return this._validateStyleAst(i,t),i}_makeStyleAst(e,t){const i=[],r=Array.isArray(e.styles)?e.styles:[e.styles];for(let f of r)"string"==typeof f?f===ma?i.push(f):t.errors.push(new c.vHH(3002,!1)):i.push(rV(f));let a=!1,u=null;return i.forEach(f=>{if(f instanceof Map&&(f.has("easing")&&(u=f.get("easing"),f.delete("easing")),!a))for(let _ of f.values())if(_.toString().indexOf("{{")>=0){a=!0;break}}),{type:6,styles:i,easing:u,offset:e.offset,containsDynamicStyles:a,options:null}}_validateStyleAst(e,t){const i=t.currentAnimateTimings;let r=t.currentTime,a=t.currentTime;i&&a>0&&(a-=i.duration+i.delay),e.styles.forEach(u=>{"string"!=typeof u&&u.forEach((f,_)=>{const b=t.collectedStyles.get(t.currentQuerySelector),I=b.get(_);let x=!0;I&&(a!=r&&a>=I.startTime&&r<=I.endTime&&(t.errors.push(function zG(n,e,t,i,r){return new c.vHH(3010,!1)}()),x=!1),a=I.startTime),x&&b.set(_,{startTime:a,endTime:r}),t.options&&function Ez(n,e,t){const i=e.params||{},r=lV(n);r.length&&r.forEach(a=>{i.hasOwnProperty(a)||t.push(function LG(n){return new c.vHH(3001,!1)}())})}(f,t.options,t.errors)})})}visitKeyframes(e,t){const i={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function qG(){return new c.vHH(3011,!1)}()),i;let a=0;const u=[];let f=!1,_=!1,b=0;const I=e.steps.map(Le=>{const Qe=this._makeStyleAst(Le,t);let pt=null!=Qe.offset?Qe.offset:function Bz(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const i=t;e=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(Qe.styles),rt=0;return null!=pt&&(a++,rt=Qe.offset=pt),_=_||rt<0||rt>1,f=f||rt<b,b=rt,u.push(rt),Qe});_&&t.errors.push(function ZG(){return new c.vHH(3012,!1)}()),f&&t.errors.push(function WG(){return new c.vHH(3200,!1)}());const x=e.steps.length;let L=0;a>0&&a<x?t.errors.push(function KG(){return new c.vHH(3202,!1)}()):0==a&&(L=1/(x-1));const B=x-1,U=t.currentTime,ee=t.currentAnimateTimings,_e=ee.duration;return I.forEach((Le,Qe)=>{const pt=L>0?Qe==B?1:L*Qe:u[Qe],rt=pt*_e;t.currentTime=U+ee.delay+rt,ee.duration=rt,this._validateStyleAst(Le,t),Le.offset=pt,i.styles.push(Le)}),i}visitReference(e,t){return{type:8,animation:Fo(this,o0(e.animation),t),options:zp(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:zp(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:zp(e.options)}}visitQuery(e,t){const i=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;const[a,u]=function Fz(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(Pz,"")),n=n.replace(/@\*/g,MI).replace(/@\w+/g,t=>MI+"-"+t.slice(1)).replace(/:animating/g,Tk),[n,e]}(e.selector);t.currentQuerySelector=i.length?i+" "+a:a,No(t.collectedStyles,t.currentQuerySelector,new Map);const f=Fo(this,o0(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:11,selector:a,limit:r.limit||0,optional:!!r.optional,includeSelf:u,animation:f,originalSelector:e.selector,options:zp(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function YG(){return new c.vHH(3013,!1)}());const i="full"===e.timings?{duration:0,delay:0,easing:"full"}:kI(e.timings,t.errors,!0);return{type:12,animation:Fo(this,o0(e.animation),t),timings:i,options:null}}}class Vz{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function zp(n){return n?(n=s0(n)).params&&(n.params=function Lz(n){return n?s0(n):null}(n.params)):n={},n}function kk(n,e,t){return{duration:n,delay:e,easing:t}}function Rk(n,e,t,i,r,a,u=null,f=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:i,duration:r,delay:a,totalTime:r+a,easing:u,subTimeline:f}}class BI{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const $z=new RegExp(":enter","g"),zz=new RegExp(":leave","g");function Ok(n,e,t,i,r,a=new Map,u=new Map,f,_,b=[]){return(new qz).buildKeyframes(n,e,t,i,r,a,u,f,_,b)}class qz{buildKeyframes(e,t,i,r,a,u,f,_,b,I=[]){b=b||new BI;const x=new Pk(e,t,b,r,a,I,[]);x.options=_;const L=_.delay?$h(_.delay):0;x.currentTimeline.delayNextStep(L),x.currentTimeline.setStyles([u],null,x.errors,_),Fo(this,i,x);const B=x.timelines.filter(U=>U.containsAnimation());if(B.length&&f.size){let U;for(let ee=B.length-1;ee>=0;ee--){const _e=B[ee];if(_e.element===t){U=_e;break}}U&&!U.allowOnlyTimelineStyles()&&U.setStyles([f],null,x.errors,_)}return B.length?B.map(U=>U.buildKeyframes()):[Rk(t,[],[],[],0,L,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const i=t.subInstructions.get(t.element);if(i){const r=t.createSubContext(e.options),a=t.currentTimeline.currentTime,u=this._visitSubInstructions(i,r,r.options);a!=u&&t.transformIntoNewTimeline(u)}t.previousNode=e}visitAnimateRef(e,t){const i=t.createSubContext(e.options);i.transformIntoNewTimeline(),this.visitReference(e.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,i){let a=t.currentTimeline.currentTime;const u=null!=i.duration?$h(i.duration):null,f=null!=i.delay?$h(i.delay):null;return 0!==u&&e.forEach(_=>{const b=t.appendInstructionToTimeline(_,u,f);a=Math.max(a,b.duration+b.delay)}),a}visitReference(e,t){t.updateOptions(e.options,!0),Fo(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const i=t.subContextCount;let r=t;const a=e.options;if(a&&(a.params||a.delay)&&(r=t.createSubContext(a),r.transformIntoNewTimeline(),null!=a.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=UI);const u=$h(a.delay);r.delayNextStep(u)}e.steps.length&&(e.steps.forEach(u=>Fo(this,u,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const i=[];let r=t.currentTimeline.currentTime;const a=e.options&&e.options.delay?$h(e.options.delay):0;e.steps.forEach(u=>{const f=t.createSubContext(e.options);a&&f.delayNextStep(a),Fo(this,u,f),r=Math.max(r,f.currentTimeline.currentTime),i.push(f.currentTimeline)}),i.forEach(u=>t.currentTimeline.mergeTimelineCollectedStyles(u)),t.transformIntoNewTimeline(r),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const i=e.strValue;return kI(t.params?RI(i,t.params,t.errors):i,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const i=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),r.snapshotCurrentStyles());const a=e.style;5==a.type?this.visitKeyframes(a,t):(t.incrementTime(i.duration),this.visitStyle(a,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const i=t.currentTimeline,r=t.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const a=r&&r.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(a):i.setStyles(e.styles,a,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const i=t.currentAnimateTimings,r=t.currentTimeline.duration,a=i.duration,f=t.createSubContext().currentTimeline;f.easing=i.easing,e.styles.forEach(_=>{f.forwardTime((_.offset||0)*a),f.setStyles(_.styles,_.easing,t.errors,t.options),f.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(f),t.transformIntoNewTimeline(r+a),t.previousNode=e}visitQuery(e,t){const i=t.currentTimeline.currentTime,r=e.options||{},a=r.delay?$h(r.delay):0;a&&(6===t.previousNode.type||0==i&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=UI);let u=i;const f=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=f.length;let _=null;f.forEach((b,I)=>{t.currentQueryIndex=I;const x=t.createSubContext(e.options,b);a&&x.delayNextStep(a),b===t.element&&(_=x.currentTimeline),Fo(this,e.animation,x),x.currentTimeline.applyStylesToKeyframe(),u=Math.max(u,x.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(u),_&&(t.currentTimeline.mergeTimelineCollectedStyles(_),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const i=t.parentContext,r=t.currentTimeline,a=e.timings,u=Math.abs(a.duration),f=u*(t.currentQueryTotal-1);let _=u*t.currentQueryIndex;switch(a.duration<0?"reverse":a.easing){case"reverse":_=f-_;break;case"full":_=i.currentStaggerTime}const I=t.currentTimeline;_&&I.delayNextStep(_);const x=I.currentTime;Fo(this,e.animation,t),t.previousNode=e,i.currentStaggerTime=r.currentTime-x+(r.startTime-i.currentTimeline.startTime)}}const UI={};class Pk{constructor(e,t,i,r,a,u,f,_){this._driver=e,this.element=t,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=a,this.errors=u,this.timelines=f,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=UI,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=_||new HI(this._driver,t,0),f.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const i=e;let r=this.options;null!=i.duration&&(r.duration=$h(i.duration)),null!=i.delay&&(r.delay=$h(i.delay));const a=i.params;if(a){let u=r.params;u||(u=this.options.params={}),Object.keys(a).forEach(f=>{(!t||!u.hasOwnProperty(f))&&(u[f]=RI(a[f],u,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const i=e.params={};Object.keys(t).forEach(r=>{i[r]=t[r]})}}return e}createSubContext(e=null,t,i){const r=t||this.element,a=new Pk(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return a.previousNode=this.previousNode,a.currentAnimateTimings=this.currentAnimateTimings,a.options=this._copyOptions(),a.updateOptions(e),a.currentQueryIndex=this.currentQueryIndex,a.currentQueryTotal=this.currentQueryTotal,a.parentContext=this,this.subContextCount++,a}transformIntoNewTimeline(e){return this.previousNode=UI,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,i){const r={duration:t??e.duration,delay:this.currentTimeline.currentTime+(i??0)+e.delay,easing:""},a=new Zz(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(a),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,i,r,a,u){let f=[];if(r&&f.push(this.element),e.length>0){e=(e=e.replace($z,"."+this._enterClassName)).replace(zz,"."+this._leaveClassName);let b=this._driver.query(this.element,e,1!=i);0!==i&&(b=i<0?b.slice(b.length+i,b.length):b.slice(0,i)),f.push(...b)}return!a&&0==f.length&&u.push(function QG(n){return new c.vHH(3014,!1)}()),f}}class HI{constructor(e,t,i,r){this._driver=e,this.element=t,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new HI(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,i]of this._globalTimelineStyles)this._backFill.set(t,i||ma),this._currentKeyframe.set(t,ma);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,i,r){t&&this._previousKeyframe.set("easing",t);const a=r&&r.params||{},u=function Wz(n,e){const t=new Map;let i;return n.forEach(r=>{if("*"===r){i=i||e.keys();for(let a of i)t.set(a,ma)}else Gh(r,t)}),t}(e,this._globalTimelineStyles);for(let[f,_]of u){const b=RI(_,a,i);this._pendingStyles.set(f,b),this._localTimelineStyles.has(f)||this._backFill.set(f,this._globalTimelineStyles.get(f)??ma),this._updateStyle(f,b)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,i)=>{const r=this._styleSummary.get(i);(!r||t.time>r.time)&&this._updateStyle(i,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((f,_)=>{const b=Gh(f,new Map,this._backFill);b.forEach((I,x)=>{"!"===I?e.add(x):I===ma&&t.add(x)}),i||b.set("offset",_/this.duration),r.push(b)});const a=e.size?OI(e.values()):[],u=t.size?OI(t.values()):[];if(i){const f=r[0],_=new Map(f);f.set("offset",0),_.set("offset",1),r=[f,_]}return Rk(this.element,r,a,u,this.duration,this.startTime,this.easing,!1)}}class Zz extends HI{constructor(e,t,i,r,a,u,f=!1){super(e,t,u.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=a,this._stretchStartingKeyframe=f,this.timings={duration:u.duration,delay:u.delay,easing:u.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&t){const a=[],u=i+t,f=t/u,_=Gh(e[0]);_.set("offset",0),a.push(_);const b=Gh(e[0]);b.set("offset",fV(f)),a.push(b);const I=e.length-1;for(let x=1;x<=I;x++){let L=Gh(e[x]);const B=L.get("offset");L.set("offset",fV((t+B*i)/u)),a.push(L)}i=u,t=0,r="",e=a}return Rk(this.element,e,this.preStyleProps,this.postStyleProps,i,t,r,!0)}}function fV(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class Nk{}const Kz=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Yz extends Nk{normalizePropertyName(e,t){return Ak(e)}normalizeStyleValue(e,t,i,r){let a="";const u=i.toString().trim();if(Kz.has(t)&&0!==i&&"0"!==i)if("number"==typeof i)a="px";else{const f=i.match(/^[+-]?[\d\.]+([a-z]*)$/);f&&0==f[1].length&&r.push(function UG(n,e){return new c.vHH(3005,!1)}())}return u+a}}function pV(n,e,t,i,r,a,u,f,_,b,I,x,L){return{type:0,element:n,triggerName:e,isRemovalTransition:r,fromState:t,fromStyles:a,toState:i,toStyles:u,timelines:f,queriedElements:_,preStyleProps:b,postStyleProps:I,totalTime:x,errors:L}}const Fk={};class mV{constructor(e,t,i){this._triggerName=e,this.ast=t,this._stateStyles=i}match(e,t,i,r){return function Qz(n,e,t,i,r){return n.some(a=>a(e,t,i,r))}(this.ast.matchers,e,t,i,r)}buildStyles(e,t,i){let r=this._stateStyles.get("*");return void 0!==e&&(r=this._stateStyles.get(e?.toString())||r),r?r.buildStyles(t,i):new Map}build(e,t,i,r,a,u,f,_,b,I){const x=[],L=this.ast.options&&this.ast.options.params||Fk,U=this.buildStyles(i,f&&f.params||Fk,x),ee=_&&_.params||Fk,_e=this.buildStyles(r,ee,x),Le=new Set,Qe=new Map,pt=new Map,rt="void"===r,Tt={params:Xz(ee,L),delay:this.ast.options?.delay},At=I?[]:Ok(e,t,this.ast.animation,a,u,U,_e,Tt,b,x);let nn=0;if(At.forEach(Zu=>{nn=Math.max(Zu.duration+Zu.delay,nn)}),x.length)return pV(t,this._triggerName,i,r,rt,U,_e,[],[],Qe,pt,nn,x);At.forEach(Zu=>{const Wu=Zu.element,HV=No(Qe,Wu,new Set);Zu.preStyleProps.forEach(Zp=>HV.add(Zp));const l0=No(pt,Wu,new Set);Zu.postStyleProps.forEach(Zp=>l0.add(Zp)),Wu!==t&&Le.add(Wu)});const Rs=OI(Le.values());return pV(t,this._triggerName,i,r,rt,U,_e,At,Rs,Qe,pt,nn)}}function Xz(n,e){const t=s0(e);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(t[i]=n[i]);return t}class Jz{constructor(e,t,i){this.styles=e,this.defaultParams=t,this.normalizer=i}buildStyles(e,t){const i=new Map,r=s0(this.defaultParams);return Object.keys(e).forEach(a=>{const u=e[a];null!==u&&(r[a]=u)}),this.styles.styles.forEach(a=>{"string"!=typeof a&&a.forEach((u,f)=>{u&&(u=RI(u,r,t));const _=this.normalizer.normalizePropertyName(f,t);u=this.normalizer.normalizeStyleValue(f,_,u,t),i.set(_,u)})}),i}}class tq{constructor(e,t,i){this.name=e,this.ast=t,this._normalizer=i,this.transitionFactories=[],this.states=new Map,t.states.forEach(r=>{this.states.set(r.name,new Jz(r.style,r.options&&r.options.params||{},i))}),gV(this.states,"true","1"),gV(this.states,"false","0"),t.transitions.forEach(r=>{this.transitionFactories.push(new mV(e,r,this.states))}),this.fallbackTransition=function nq(n,e,t){return new mV(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(u,f)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,i,r){return this.transitionFactories.find(u=>u.match(e,t,i,r))||null}matchStyles(e,t,i){return this.fallbackTransition.buildStyles(e,t,i)}}function gV(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const iq=new BI;class rq{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const i=[],a=Mk(this._driver,t,i,[]);if(i.length)throw function rz(n){return new c.vHH(3503,!1)}();this._animations.set(e,a)}_buildPlayer(e,t,i){const r=e.element,a=WL(0,this._normalizer,0,e.keyframes,t,i);return this._driver.animate(r,a,e.duration,e.delay,e.easing,[],!0)}create(e,t,i={}){const r=[],a=this._animations.get(e);let u;const f=new Map;if(a?(u=Ok(this._driver,t,a,Dk,xI,new Map,new Map,i,iq,r),u.forEach(I=>{const x=No(f,I.element,new Map);I.postStyleProps.forEach(L=>x.set(L,null))})):(r.push(function sz(){return new c.vHH(3300,!1)}()),u=[]),r.length)throw function oz(n){return new c.vHH(3504,!1)}();f.forEach((I,x)=>{I.forEach((L,B)=>{I.set(B,this._driver.computeStyle(x,B,ma))})});const b=jh(u.map(I=>{const x=f.get(I.element);return this._buildPlayer(I,new Map,x)}));return this._playersById.set(e,b),b.onDestroy(()=>this.destroy(e)),this.players.push(b),b}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function az(n){return new c.vHH(3301,!1)}();return t}listen(e,t,i,r){const a=wk(t,"","","");return vk(this._getPlayer(e),i,a,r),()=>{}}command(e,t,i,r){if("register"==i)return void this.register(e,r[0]);if("create"==i)return void this.create(e,t,r[0]||{});const a=this._getPlayer(e);switch(i){case"play":a.play();break;case"pause":a.pause();break;case"reset":a.reset();break;case"restart":a.restart();break;case"finish":a.finish();break;case"init":a.init();break;case"setPosition":a.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e)}}}const _V="ng-animate-queued",Lk="ng-animate-disabled",cq=[],yV={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},uq={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},va="__ng_removed";class Vk{constructor(e,t=""){this.namespaceId=t;const i=e&&e.hasOwnProperty("value");if(this.value=function pq(n){return n??null}(i?e.value:e),i){const a=s0(e);delete a.value,this.options=a}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const i=this.options.params;Object.keys(t).forEach(r=>{null==i[r]&&(i[r]=t[r])})}}}const a0="void",Bk=new Vk(a0);class dq{constructor(e,t,i){this.id=e,this.hostElement=t,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,ba(t,this._hostClassName)}listen(e,t,i,r){if(!this._triggers.has(t))throw function lz(n,e){return new c.vHH(3302,!1)}();if(null==i||0==i.length)throw function cz(n){return new c.vHH(3303,!1)}();if(!function mq(n){return"start"==n||"done"==n}(i))throw function uz(n,e){return new c.vHH(3400,!1)}();const a=No(this._elementListeners,e,[]),u={name:t,phase:i,callback:r};a.push(u);const f=No(this._engine.statesByElement,e,new Map);return f.has(t)||(ba(e,AI),ba(e,AI+"-"+t),f.set(t,Bk)),()=>{this._engine.afterFlush(()=>{const _=a.indexOf(u);_>=0&&a.splice(_,1),this._triggers.has(t)||f.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function dz(n){return new c.vHH(3401,!1)}();return t}trigger(e,t,i,r=!0){const a=this._getTrigger(t),u=new Uk(this.id,t,e);let f=this._engine.statesByElement.get(e);f||(ba(e,AI),ba(e,AI+"-"+t),this._engine.statesByElement.set(e,f=new Map));let _=f.get(t);const b=new Vk(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&_&&b.absorbOptions(_.options),f.set(t,b),_||(_=Bk),b.value!==a0&&_.value===b.value){if(!function yq(n,e){const t=Object.keys(n),i=Object.keys(e);if(t.length!=i.length)return!1;for(let r=0;r<t.length;r++){const a=t[r];if(!e.hasOwnProperty(a)||n[a]!==e[a])return!1}return!0}(_.params,b.params)){const ee=[],_e=a.matchStyles(_.value,_.params,ee),Le=a.matchStyles(b.value,b.params,ee);ee.length?this._engine.reportError(ee):this._engine.afterFlush(()=>{Gp(e,_e),Tc(e,Le)})}return}const L=No(this._engine.playersByElement,e,[]);L.forEach(ee=>{ee.namespaceId==this.id&&ee.triggerName==t&&ee.queued&&ee.destroy()});let B=a.matchTransition(_.value,b.value,e,b.params),U=!1;if(!B){if(!r)return;B=a.fallbackTransition,U=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:B,fromState:_,toState:b,player:u,isFallbackTransition:U}),U||(ba(e,_V),u.onStart(()=>{R_(e,_V)})),u.onDone(()=>{let ee=this.players.indexOf(u);ee>=0&&this.players.splice(ee,1);const _e=this._engine.playersByElement.get(e);if(_e){let Le=_e.indexOf(u);Le>=0&&_e.splice(Le,1)}}),this.players.push(u),L.push(u),u}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,i)=>{this._elementListeners.set(i,t.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const i=this._engine.driver.query(e,MI,!0);i.forEach(r=>{if(r[va])return;const a=this._engine.fetchNamespacesByElement(r);a.size?a.forEach(u=>u.triggerLeaveAnimation(r,t,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,t,i,r){const a=this._engine.statesByElement.get(e),u=new Map;if(a){const f=[];if(a.forEach((_,b)=>{if(u.set(b,_.value),this._triggers.has(b)){const I=this.trigger(e,b,a0,r);I&&f.push(I)}}),f.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,u),i&&jh(f).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(t&&i){const r=new Set;t.forEach(a=>{const u=a.name;if(r.has(u))return;r.add(u);const _=this._triggers.get(u).fallbackTransition,b=i.get(u)||Bk,I=new Vk(a0),x=new Uk(this.id,u,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:u,transition:_,fromState:b,toState:I,player:x,isFallbackTransition:!0})})}}removeNode(e,t){const i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let r=!1;if(i.totalAnimations){const a=i.players.length?i.playersByQueriedElement.get(e):[];if(a&&a.length)r=!0;else{let u=e;for(;u=u.parentNode;)if(i.statesByElement.get(u)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)i.markElementAsRemoved(this.id,e,!1,t);else{const a=e[va];(!a||a===yV)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}insertNode(e,t){ba(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const a=i.element,u=this._elementListeners.get(a);u&&u.forEach(f=>{if(f.name==i.triggerName){const _=wk(a,i.triggerName,i.fromState.value,i.toState.value);_._data=e,vk(i.player,f.phase,_,f.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):t.push(i)}),this._queue=[],t.sort((i,r)=>{const a=i.transition.ast.depCount,u=r.transition.ast.depCount;return 0==a||0==u?a-u:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(i=>i.element===e)||t,t}}class hq{constructor(e,t,i){this.bodyNode=e,this.driver=t,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,a)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,t){const i=new dq(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,t){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let u=!1,f=this.driver.getParentElement(t);for(;f;){const _=r.get(f);if(_){const b=i.indexOf(_);i.splice(b+1,0,e),u=!0;break}f=this.driver.getParentElement(f)}u||i.unshift(e)}else i.push(e);return r.set(t,e),e}register(e,t){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,t)),i}registerTrigger(e,t,i){let r=this._namespaceLookup[e];r&&r.register(t,i)&&this.totalAnimations++}destroy(e,t){if(!e)return;const i=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[e];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,i=this.statesByElement.get(e);if(i)for(let r of i.values())if(r.namespaceId){const a=this._fetchNamespace(r.namespaceId);a&&t.add(a)}return t}trigger(e,t,i,r){if(jI(t)){const a=this._fetchNamespace(e);if(a)return a.trigger(t,i,r),!0}return!1}insertNode(e,t,i,r){if(!jI(t))return;const a=t[va];if(a&&a.setForRemoval){a.setForRemoval=!1,a.setForMove=!0;const u=this.collectedLeaveElements.indexOf(t);u>=0&&this.collectedLeaveElements.splice(u,1)}if(e){const u=this._fetchNamespace(e);u&&u.insertNode(t,i)}r&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),ba(e,Lk)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),R_(e,Lk))}removeNode(e,t,i,r){if(jI(t)){const a=e?this._fetchNamespace(e):null;if(a?a.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r),i){const u=this.namespacesByHostElement.get(t);u&&u.id!==e&&u.removeNode(t,r)}}else this._onRemovalComplete(t,r)}markElementAsRemoved(e,t,i,r,a){this.collectedLeaveElements.push(t),t[va]={namespaceId:e,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:a}}listen(e,t,i,r,a){return jI(t)?this._fetchNamespace(e).listen(t,i,r,a):()=>{}}_buildInstruction(e,t,i,r,a){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,r,e.fromState.options,e.toState.options,t,a)}destroyInnerAnimations(e){let t=this.driver.query(e,MI,!0);t.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,Tk,!0),t.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return jh(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[va];if(t&&t.setForRemoval){if(e[va]=yV,t.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(t.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(Lk)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)ba(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{t=this._flushAnimations(i,e)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],t.length?jh(t).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(e){throw function hz(n){return new c.vHH(3402,!1)}()}_flushAnimations(e,t){const i=new BI,r=[],a=new Map,u=[],f=new Map,_=new Map,b=new Map,I=new Set;this.disabledNodes.forEach(dt=>{I.add(dt);const Et=this.driver.query(dt,".ng-animate-queued",!0);for(let Mt=0;Mt<Et.length;Mt++)I.add(Et[Mt])});const x=this.bodyNode,L=Array.from(this.statesByElement.keys()),B=wV(L,this.collectedEnterElements),U=new Map;let ee=0;B.forEach((dt,Et)=>{const Mt=Dk+ee++;U.set(Et,Mt),dt.forEach(dn=>ba(dn,Mt))});const _e=[],Le=new Set,Qe=new Set;for(let dt=0;dt<this.collectedLeaveElements.length;dt++){const Et=this.collectedLeaveElements[dt],Mt=Et[va];Mt&&Mt.setForRemoval&&(_e.push(Et),Le.add(Et),Mt.hasAnimation?this.driver.query(Et,".ng-star-inserted",!0).forEach(dn=>Le.add(dn)):Qe.add(Et))}const pt=new Map,rt=wV(L,Array.from(Le));rt.forEach((dt,Et)=>{const Mt=xI+ee++;pt.set(Et,Mt),dt.forEach(dn=>ba(dn,Mt))}),e.push(()=>{B.forEach((dt,Et)=>{const Mt=U.get(Et);dt.forEach(dn=>R_(dn,Mt))}),rt.forEach((dt,Et)=>{const Mt=pt.get(Et);dt.forEach(dn=>R_(dn,Mt))}),_e.forEach(dt=>{this.processLeaveNode(dt)})});const Tt=[],At=[];for(let dt=this._namespaceList.length-1;dt>=0;dt--)this._namespaceList[dt].drainQueuedTransitions(t).forEach(Mt=>{const dn=Mt.player,Ir=Mt.element;if(Tt.push(dn),this.collectedEnterElements.length){const ss=Ir[va];if(ss&&ss.setForMove){if(ss.previousTriggersValues&&ss.previousTriggersValues.has(Mt.triggerName)){const Wp=ss.previousTriggersValues.get(Mt.triggerName),wa=this.statesByElement.get(Mt.element);if(wa&&wa.has(Mt.triggerName)){const zI=wa.get(Mt.triggerName);zI.value=Wp,wa.set(Mt.triggerName,zI)}}return void dn.destroy()}}const Sc=!x||!this.driver.containsElement(x,Ir),Lo=pt.get(Ir),zh=U.get(Ir),gi=this._buildInstruction(Mt,i,zh,Lo,Sc);if(gi.errors&&gi.errors.length)return void At.push(gi);if(Sc)return dn.onStart(()=>Gp(Ir,gi.fromStyles)),dn.onDestroy(()=>Tc(Ir,gi.toStyles)),void r.push(dn);if(Mt.isFallbackTransition)return dn.onStart(()=>Gp(Ir,gi.fromStyles)),dn.onDestroy(()=>Tc(Ir,gi.toStyles)),void r.push(dn);const GV=[];gi.timelines.forEach(ss=>{ss.stretchStartingKeyframe=!0,this.disabledNodes.has(ss.element)||GV.push(ss)}),gi.timelines=GV,i.append(Ir,gi.timelines),u.push({instruction:gi,player:dn,element:Ir}),gi.queriedElements.forEach(ss=>No(f,ss,[]).push(dn)),gi.preStyleProps.forEach((ss,Wp)=>{if(ss.size){let wa=_.get(Wp);wa||_.set(Wp,wa=new Set),ss.forEach((zI,zk)=>wa.add(zk))}}),gi.postStyleProps.forEach((ss,Wp)=>{let wa=b.get(Wp);wa||b.set(Wp,wa=new Set),ss.forEach((zI,zk)=>wa.add(zk))})});if(At.length){const dt=[];At.forEach(Et=>{dt.push(function fz(n,e){return new c.vHH(3505,!1)}())}),Tt.forEach(Et=>Et.destroy()),this.reportError(dt)}const nn=new Map,Rs=new Map;u.forEach(dt=>{const Et=dt.element;i.has(Et)&&(Rs.set(Et,Et),this._beforeAnimationBuild(dt.player.namespaceId,dt.instruction,nn))}),r.forEach(dt=>{const Et=dt.element;this._getPreviousPlayers(Et,!1,dt.namespaceId,dt.triggerName,null).forEach(dn=>{No(nn,Et,[]).push(dn),dn.destroy()})});const Zu=_e.filter(dt=>EV(dt,_,b)),Wu=new Map;bV(Wu,this.driver,Qe,b,ma).forEach(dt=>{EV(dt,_,b)&&Zu.push(dt)});const l0=new Map;B.forEach((dt,Et)=>{bV(l0,this.driver,new Set(dt),_,"!")}),Zu.forEach(dt=>{const Et=Wu.get(dt),Mt=l0.get(dt);Wu.set(dt,new Map([...Array.from(Et?.entries()??[]),...Array.from(Mt?.entries()??[])]))});const Zp=[],jV=[],$V={};u.forEach(dt=>{const{element:Et,player:Mt,instruction:dn}=dt;if(i.has(Et)){if(I.has(Et))return Mt.onDestroy(()=>Tc(Et,dn.toStyles)),Mt.disabled=!0,Mt.overrideTotalTime(dn.totalTime),void r.push(Mt);let Ir=$V;if(Rs.size>1){let Lo=Et;const zh=[];for(;Lo=Lo.parentNode;){const gi=Rs.get(Lo);if(gi){Ir=gi;break}zh.push(Lo)}zh.forEach(gi=>Rs.set(gi,Ir))}const Sc=this._buildAnimation(Mt.namespaceId,dn,nn,a,l0,Wu);if(Mt.setRealPlayer(Sc),Ir===$V)Zp.push(Mt);else{const Lo=this.playersByElement.get(Ir);Lo&&Lo.length&&(Mt.parentPlayer=jh(Lo)),r.push(Mt)}}else Gp(Et,dn.fromStyles),Mt.onDestroy(()=>Tc(Et,dn.toStyles)),jV.push(Mt),I.has(Et)&&r.push(Mt)}),jV.forEach(dt=>{const Et=a.get(dt.element);if(Et&&Et.length){const Mt=jh(Et);dt.setRealPlayer(Mt)}}),r.forEach(dt=>{dt.parentPlayer?dt.syncPlayerEvents(dt.parentPlayer):dt.destroy()});for(let dt=0;dt<_e.length;dt++){const Et=_e[dt],Mt=Et[va];if(R_(Et,xI),Mt&&Mt.hasAnimation)continue;let dn=[];if(f.size){let Sc=f.get(Et);Sc&&Sc.length&&dn.push(...Sc);let Lo=this.driver.query(Et,Tk,!0);for(let zh=0;zh<Lo.length;zh++){let gi=f.get(Lo[zh]);gi&&gi.length&&dn.push(...gi)}}const Ir=dn.filter(Sc=>!Sc.destroyed);Ir.length?gq(this,Et,Ir):this.processLeaveNode(Et)}return _e.length=0,Zp.forEach(dt=>{this.players.push(dt),dt.onDone(()=>{dt.destroy();const Et=this.players.indexOf(dt);this.players.splice(Et,1)}),dt.play()}),Zp}elementContainsData(e,t){let i=!1;const r=t[va];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(t)&&(i=!0),this.playersByQueriedElement.has(t)&&(i=!0),this.statesByElement.has(t)&&(i=!0),this._fetchNamespace(e).elementContainsData(t)||i}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,i,r,a){let u=[];if(t){const f=this.playersByQueriedElement.get(e);f&&(u=f)}else{const f=this.playersByElement.get(e);if(f){const _=!a||a==a0;f.forEach(b=>{b.queued||!_&&b.triggerName!=r||u.push(b)})}}return(i||r)&&(u=u.filter(f=>!(i&&i!=f.namespaceId||r&&r!=f.triggerName))),u}_beforeAnimationBuild(e,t,i){const a=t.element,u=t.isRemovalTransition?void 0:e,f=t.isRemovalTransition?void 0:t.triggerName;for(const _ of t.timelines){const b=_.element,I=b!==a,x=No(i,b,[]);this._getPreviousPlayers(b,I,u,f,t.toState).forEach(B=>{const U=B.getRealPlayer();U.beforeDestroy&&U.beforeDestroy(),B.destroy(),x.push(B)})}Gp(a,t.fromStyles)}_buildAnimation(e,t,i,r,a,u){const f=t.triggerName,_=t.element,b=[],I=new Set,x=new Set,L=t.timelines.map(U=>{const ee=U.element;I.add(ee);const _e=ee[va];if(_e&&_e.removedBeforeQueried)return new op(U.duration,U.delay);const Le=ee!==_,Qe=function _q(n){const e=[];return CV(n,e),e}((i.get(ee)||cq).map(nn=>nn.getRealPlayer())).filter(nn=>!!nn.element&&nn.element===ee),pt=a.get(ee),rt=u.get(ee),Tt=WL(0,this._normalizer,0,U.keyframes,pt,rt),At=this._buildPlayer(U,Tt,Qe);if(U.subTimeline&&r&&x.add(ee),Le){const nn=new Uk(e,f,ee);nn.setRealPlayer(At),b.push(nn)}return At});b.forEach(U=>{No(this.playersByQueriedElement,U.element,[]).push(U),U.onDone(()=>function fq(n,e,t){let i=n.get(e);if(i){if(i.length){const r=i.indexOf(t);i.splice(r,1)}0==i.length&&n.delete(e)}return i}(this.playersByQueriedElement,U.element,U))}),I.forEach(U=>ba(U,iV));const B=jh(L);return B.onDestroy(()=>{I.forEach(U=>R_(U,iV)),Tc(_,t.toStyles)}),x.forEach(U=>{No(r,U,[]).push(B)}),B}_buildPlayer(e,t,i){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,i):new op(e.duration,e.delay)}}class Uk{constructor(e,t,i){this.namespaceId=e,this.triggerName=t,this.element=i,this._player=new op,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,i)=>{t.forEach(r=>vk(e,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){No(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function jI(n){return n&&1===n.nodeType}function vV(n,e){const t=n.style.display;return n.style.display=e??"none",t}function bV(n,e,t,i,r){const a=[];t.forEach(_=>a.push(vV(_)));const u=[];i.forEach((_,b)=>{const I=new Map;_.forEach(x=>{const L=e.computeStyle(b,x,r);I.set(x,L),(!L||0==L.length)&&(b[va]=uq,u.push(b))}),n.set(b,I)});let f=0;return t.forEach(_=>vV(_,a[f++])),u}function wV(n,e){const t=new Map;if(n.forEach(f=>t.set(f,[])),0==e.length)return t;const r=new Set(e),a=new Map;function u(f){if(!f)return 1;let _=a.get(f);if(_)return _;const b=f.parentNode;return _=t.has(b)?b:r.has(b)?1:u(b),a.set(f,_),_}return e.forEach(f=>{const _=u(f);1!==_&&t.get(_).push(f)}),t}function ba(n,e){n.classList?.add(e)}function R_(n,e){n.classList?.remove(e)}function gq(n,e,t){jh(t).onDone(()=>n.processLeaveNode(e))}function CV(n,e){for(let t=0;t<n.length;t++){const i=n[t];i instanceof Tv?CV(i.players,e):e.push(i)}}function EV(n,e,t){const i=t.get(n);if(!i)return!1;let r=e.get(n);return r?i.forEach(a=>r.add(a)):e.set(n,i),t.delete(n),!0}class $I{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,a)=>{},this._transitionEngine=new hq(e,t,i),this._timelineEngine=new rq(e,t,i),this._transitionEngine.onRemovalComplete=(r,a)=>this.onRemovalComplete(r,a)}registerTrigger(e,t,i,r,a){const u=e+"-"+r;let f=this._triggerCache[u];if(!f){const _=[],I=Mk(this._driver,a,_,[]);if(_.length)throw function nz(n,e){return new c.vHH(3404,!1)}();f=function eq(n,e,t){return new tq(n,e,t)}(r,I,this._normalizer),this._triggerCache[u]=f}this._transitionEngine.registerTrigger(t,r,f)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,i,r){this._transitionEngine.insertNode(e,t,i,r)}onRemove(e,t,i,r){this._transitionEngine.removeNode(e,t,r||!1,i)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,i,r){if("@"==i.charAt(0)){const[a,u]=KL(i);this._timelineEngine.command(a,t,u,r)}else this._transitionEngine.trigger(e,t,i,r)}listen(e,t,i,r,a){if("@"==i.charAt(0)){const[u,f]=KL(i);return this._timelineEngine.listen(u,t,f,a)}return this._transitionEngine.listen(e,t,i,r,a)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let bq=(()=>{class n{constructor(t,i,r){this._element=t,this._startStyles=i,this._endStyles=r,this._state=0;let a=n.initialStylesByElement.get(t);a||n.initialStylesByElement.set(t,a=new Map),this._initialStyles=a}start(){this._state<1&&(this._startStyles&&Tc(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Tc(this._element,this._initialStyles),this._endStyles&&(Tc(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Gp(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Gp(this._element,this._endStyles),this._endStyles=null),Tc(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function Hk(n){let e=null;return n.forEach((t,i)=>{(function wq(n){return"display"===n||"position"===n})(i)&&(e=e||new Map,e.set(i,t))}),e}class IV{constructor(e,t,i,r){this.element=e,this.keyframes=t,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(i=>{t.push(Object.fromEntries(i))}),t}_triggerWebAnimation(e,t,i){return e.animate(this._convertKeyframesToObject(t),i)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&e.set(r,this._finished?i:cV(this.element,r))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class Cq{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return JL(e,t)}getParentElement(e){return Ek(e)}query(e,t,i){return eV(e,t,i)}computeStyle(e,t,i){return window.getComputedStyle(e)[t]}animate(e,t,i,r,a,u=[]){const _={duration:i,delay:r,fill:0==r?"both":"forwards"};a&&(_.easing=a);const b=new Map,I=u.filter(B=>B instanceof IV);(function Tz(n,e){return 0===n||0===e})(i,r)&&I.forEach(B=>{B.currentSnapshot.forEach((U,ee)=>b.set(ee,U))});let x=function Cz(n){return n.length?n[0]instanceof Map?n:n.map(e=>rV(e)):[]}(t).map(B=>Gh(B));x=function Sz(n,e,t){if(t.size&&e.length){let i=e[0],r=[];if(t.forEach((a,u)=>{i.has(u)||r.push(u),i.set(u,a)}),r.length)for(let a=1;a<e.length;a++){let u=e[a];r.forEach(f=>u.set(f,cV(n,f)))}}return e}(e,x,b);const L=function vq(n,e){let t=null,i=null;return Array.isArray(e)&&e.length?(t=Hk(e[0]),e.length>1&&(i=Hk(e[e.length-1]))):e instanceof Map&&(t=Hk(e)),t||i?new bq(n,t,i):null}(e,x);return new IV(e,x,_,L)}}let Eq=(()=>{class n extends fC{constructor(t,i){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(i.body,{id:"0",encapsulation:c.ifc.None,styles:[],data:{animation:[]}})}build(t){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(t)?pC(t):t;return DV(this._renderer,null,i,"register",[r]),new Iq(i,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.FYo),c.LFG(ie))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class Iq extends class YS{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new Dq(this._id,e,t||{},this._renderer)}}class Dq{constructor(e,t,i,r){this.id=e,this.element=t,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return DV(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function DV(n,e,t,i,r){return n.setProperty(e,`@@${t}:${i}`,r)}const TV="@.disabled";let Tq=(()=>{class n{constructor(t,i,r){this.delegate=t,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(a,u)=>{const f=u?.parentNode(a);f&&u.removeChild(f,a)}}createRenderer(t,i){const a=this.delegate.createRenderer(t,i);if(!(t&&i&&i.data&&i.data.animation)){let I=this._rendererCache.get(a);return I||(I=new SV("",a,this.engine),this._rendererCache.set(a,I)),I}const u=i.id,f=i.id+"-"+this._currentId;this._currentId++,this.engine.register(f,t);const _=I=>{Array.isArray(I)?I.forEach(_):this.engine.registerTrigger(u,f,t,I.name,I)};return i.data.animation.forEach(_),new Sq(this,f,a,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,i,r){t>=0&&t<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(a=>{const[u,f]=a;u(f)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.FYo),c.LFG($I),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class SV{constructor(e,t,i){this.namespaceId=e,this.delegate=t,this.engine=i,this.destroyNode=this.delegate.destroyNode?r=>t.destroyNode(r):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,i,r=!0){this.delegate.insertBefore(e,t,i),this.engine.onInsert(this.namespaceId,t,e,r)}removeChild(e,t,i){this.engine.onRemove(this.namespaceId,t,this.delegate,i)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,r){this.delegate.setAttribute(e,t,i,r)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,r){this.delegate.setStyle(e,t,i,r)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){"@"==t.charAt(0)&&t==TV?this.disableAnimations(e,!!i):this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i){return this.delegate.listen(e,t,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class Sq extends SV{constructor(e,t,i,r){super(t,i,r),this.factory=e,this.namespaceId=t}setProperty(e,t,i){"@"==t.charAt(0)?"."==t.charAt(1)&&t==TV?this.disableAnimations(e,i=void 0===i||!!i):this.engine.process(this.namespaceId,e,t.slice(1),i):this.delegate.setProperty(e,t,i)}listen(e,t,i){if("@"==t.charAt(0)){const r=function xq(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let a=t.slice(1),u="";return"@"!=a.charAt(0)&&([a,u]=function Aq(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(a)),this.engine.listen(this.namespaceId,r,a,u,f=>{this.factory.scheduleListenerCallback(f._data||-1,i,f)})}return this.delegate.listen(e,t,i)}}let Mq=(()=>{class n extends $I{constructor(t,i,r,a){super(t.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ie),c.LFG(Ik),c.LFG(Nk),c.LFG(c.z2F))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const xV=[{provide:fC,useClass:Eq},{provide:Nk,useFactory:function kq(){return new Yz}},{provide:$I,useClass:Mq},{provide:c.FYo,useFactory:function Rq(n,e,t){return new Tq(n,e,t)},deps:[go,$I,c.R0b]}],jk=[{provide:Ik,useFactory:()=>new Cq},{provide:c.QbO,useValue:"BrowserAnimations"},...xV],AV=[{provide:Ik,useClass:tV},{provide:c.QbO,useValue:"NoopAnimations"},...xV];let Oq=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?AV:jk}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:jk,imports:[ql]}),n})(),MV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[lr,ni,cv,ni]}),n})(),jq=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[lr,ni,Xf,Ev,cv,_v,ni]}),n})();const kV=nv();class $q{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=Rn(-this._previousScrollPosition.left),e.style.top=Rn(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,i=e.style,r=this._document.body.style,a=i.scrollBehavior||"",u=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),kV&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),kV&&(i.scrollBehavior=a,r.scrollBehavior=u)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,i=this._viewportRuler.getViewportSize();return t.scrollHeight>i.height||t.scrollWidth>i.width}}class Gq{constructor(e,t,i,r){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class RV{enable(){}disable(){}attach(){}}function $k(n,e){return e.some(t=>n.bottom<t.top||n.top>t.bottom||n.right<t.left||n.left>t.right)}function OV(n,e){return e.some(t=>n.top<t.top||n.bottom>t.bottom||n.left<t.left||n.right>t.right)}class zq{constructor(e,t,i,r){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();$k(t,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let qq=(()=>{class n{constructor(t,i,r,a){this._scrollDispatcher=t,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new RV,this.close=u=>new Gq(this._scrollDispatcher,this._ngZone,this._viewportRuler,u),this.block=()=>new $q(this._viewportRuler,this._document),this.reposition=u=>new zq(this._scrollDispatcher,this._viewportRuler,this._ngZone,u),this._document=a}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(pk),c.LFG(gk),c.LFG(c.R0b),c.LFG(ie))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Zq{constructor(e){if(this.scrollStrategy=new RV,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const i of t)void 0!==e[i]&&(this[i]=e[i])}}}class Wq{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}let PV=(()=>{class n{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const i=this._attachedOverlays.indexOf(t);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ie))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Kq=(()=>{class n extends PV{constructor(t,i){super(t),this._ngZone=i,this._keydownListener=r=>{const a=this._attachedOverlays;for(let u=a.length-1;u>-1;u--)if(a[u]._keydownEvents.observers.length>0){const f=a[u]._keydownEvents;this._ngZone?this._ngZone.run(()=>f.next(r)):f.next(r);break}}}add(t){super.add(t),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ie),c.LFG(c.R0b,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Yq=(()=>{class n extends PV{constructor(t,i,r){super(t),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=a=>{this._pointerDownEventTarget=mc(a)},this._clickListener=a=>{const u=mc(a),f="click"===a.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:u;this._pointerDownEventTarget=null;const _=this._attachedOverlays.slice();for(let b=_.length-1;b>-1;b--){const I=_[b];if(I._outsidePointerEvents.observers.length<1||!I.hasAttached())continue;if(I.overlayElement.contains(u)||I.overlayElement.contains(f))break;const x=I._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>x.next(a)):x.next(a)}}}add(t){if(super.add(t),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(t){t.addEventListener("pointerdown",this._pointerDownListener,!0),t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ie),c.LFG(pr),c.LFG(c.R0b,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),NV=(()=>{class n{constructor(t,i){this._platform=i,this._document=t}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||Jf()){const r=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let a=0;a<r.length;a++)r[a].remove()}const i=this._document.createElement("div");i.classList.add(t),Jf()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ie),c.LFG(pr))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Qq{constructor(e,t,i,r,a,u,f,_,b,I=!1){this._portalOutlet=e,this._host=t,this._pane=i,this._config=r,this._ngZone=a,this._keyboardDispatcher=u,this._document=f,this._location=_,this._outsideClickDispatcher=b,this._animationsDisabled=I,this._backdropElement=null,this._backdropClick=new Nt.x,this._attachments=new Nt.x,this._detachments=new Nt.x,this._locationChanges=tl.w0.EMPTY,this._backdropClickHandler=x=>this._backdropClick.next(x),this._backdropTransitionendHandler=x=>{this._disposeBackdrop(x.target)},this._keydownEvents=new Nt.x,this._outsidePointerEvents=new Nt.x,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const t=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Qs(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof t?.onDestroy&&t.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config={...this._config,...e},this._updateElementSize()}setDirection(e){this._config={...this._config,direction:e},this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=Rn(this._config.width),e.height=Rn(this._config.height),e.minWidth=Rn(this._config.minWidth),e.minHeight=Rn(this._config.minHeight),e.maxWidth=Rn(this._config.maxWidth),e.maxHeight=Rn(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;if(e){if(this._animationsDisabled)return void this._disposeBackdrop(e);e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500))}}_toggleClasses(e,t,i){const r=hl(t||[]).filter(a=>!!a);r.length&&(i?e.classList.add(...r):e.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(mr((0,ku.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const FV="cdk-overlay-connected-position-bounding-box",Xq=/([A-Za-z%]+)$/;class Jq{constructor(e,t,i,r,a){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=a,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Nt.x,this._resizeSubscription=tl.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}get positions(){return this._preferredPositions}attach(e){this._validatePositions(),e.hostElement.classList.add(FV),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._originRect,t=this._overlayRect,i=this._viewportRect,r=this._containerRect,a=[];let u;for(let f of this._preferredPositions){let _=this._getOriginPoint(e,r,f),b=this._getOverlayPoint(_,t,f),I=this._getOverlayFit(b,t,i,f);if(I.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(f,_);this._canFitWithFlexibleDimensions(I,b,i)?a.push({position:f,origin:_,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(_,f)}):(!u||u.overlayFit.visibleArea<I.visibleArea)&&(u={overlayFit:I,overlayPoint:b,originPoint:_,position:f,overlayRect:t})}if(a.length){let f=null,_=-1;for(const b of a){const I=b.boundingBoxRect.width*b.boundingBoxRect.height*(b.position.weight||1);I>_&&(_=I,f=b)}return this._isPushed=!1,void this._applyPosition(f.position,f.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(u.position,u.originPoint);this._applyPosition(u.position,u.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&qp(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(FV),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,i){let r,a;if("center"==i.originX)r=e.left+e.width/2;else{const u=this._isRtl()?e.right:e.left,f=this._isRtl()?e.left:e.right;r="start"==i.originX?u:f}return t.left<0&&(r-=t.left),a="center"==i.originY?e.top+e.height/2:"top"==i.originY?e.top:e.bottom,t.top<0&&(a-=t.top),{x:r,y:a}}_getOverlayPoint(e,t,i){let r,a;return r="center"==i.overlayX?-t.width/2:"start"===i.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,a="center"==i.overlayY?-t.height/2:"top"==i.overlayY?0:-t.height,{x:e.x+r,y:e.y+a}}_getOverlayFit(e,t,i,r){const a=VV(t);let{x:u,y:f}=e,_=this._getOffset(r,"x"),b=this._getOffset(r,"y");_&&(u+=_),b&&(f+=b);let L=0-f,B=f+a.height-i.height,U=this._subtractOverflows(a.width,0-u,u+a.width-i.width),ee=this._subtractOverflows(a.height,L,B),_e=U*ee;return{visibleArea:_e,isCompletelyWithinViewport:a.width*a.height===_e,fitsInViewportVertically:ee===a.height,fitsInViewportHorizontally:U==a.width}}_canFitWithFlexibleDimensions(e,t,i){if(this._hasFlexibleDimensions){const r=i.bottom-t.y,a=i.right-t.x,u=LV(this._overlayRef.getConfig().minHeight),f=LV(this._overlayRef.getConfig().minWidth),b=e.fitsInViewportHorizontally||null!=f&&f<=a;return(e.fitsInViewportVertically||null!=u&&u<=r)&&b}return!1}_pushOverlayOnScreen(e,t,i){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const r=VV(t),a=this._viewportRect,u=Math.max(e.x+r.width-a.width,0),f=Math.max(e.y+r.height-a.height,0),_=Math.max(a.top-i.top-e.y,0),b=Math.max(a.left-i.left-e.x,0);let I=0,x=0;return I=r.width<=a.width?b||-u:e.x<this._viewportMargin?a.left-i.left-e.x:0,x=r.height<=a.height?_||-f:e.y<this._viewportMargin?a.top-i.top-e.y:0,this._previousPushAmount={x:I,y:x},{x:e.x+I,y:e.y+x}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new Wq(e,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=e.overlayY;i="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let a=0;a<t.length;a++)t[a].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(e,t){const i=this._viewportRect,r=this._isRtl();let a,u,f,I,x,L;if("top"===t.overlayY)u=e.y,a=i.height-u+this._viewportMargin;else if("bottom"===t.overlayY)f=i.height-e.y+2*this._viewportMargin,a=i.height-f+this._viewportMargin;else{const B=Math.min(i.bottom-e.y+i.top,e.y),U=this._lastBoundingBoxSize.height;a=2*B,u=e.y-B,a>U&&!this._isInitialRender&&!this._growAfterOpen&&(u=e.y-U/2)}if("end"===t.overlayX&&!r||"start"===t.overlayX&&r)L=i.width-e.x+this._viewportMargin,I=e.x-this._viewportMargin;else if("start"===t.overlayX&&!r||"end"===t.overlayX&&r)x=e.x,I=i.right-e.x;else{const B=Math.min(i.right-e.x+i.left,e.x),U=this._lastBoundingBoxSize.width;I=2*B,x=e.x-B,I>U&&!this._isInitialRender&&!this._growAfterOpen&&(x=e.x-U/2)}return{top:u,left:x,bottom:f,right:L,width:I,height:a}}_setBoundingBoxStyles(e,t){const i=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const a=this._overlayRef.getConfig().maxHeight,u=this._overlayRef.getConfig().maxWidth;r.height=Rn(i.height),r.top=Rn(i.top),r.bottom=Rn(i.bottom),r.width=Rn(i.width),r.left=Rn(i.left),r.right=Rn(i.right),r.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",r.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",a&&(r.maxHeight=Rn(a)),u&&(r.maxWidth=Rn(u))}this._lastBoundingBoxSize=i,qp(this._boundingBox.style,r)}_resetBoundingBoxStyles(){qp(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){qp(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const i={},r=this._hasExactPosition(),a=this._hasFlexibleDimensions,u=this._overlayRef.getConfig();if(r){const I=this._viewportRuler.getViewportScrollPosition();qp(i,this._getExactOverlayY(t,e,I)),qp(i,this._getExactOverlayX(t,e,I))}else i.position="static";let f="",_=this._getOffset(t,"x"),b=this._getOffset(t,"y");_&&(f+=`translateX(${_}px) `),b&&(f+=`translateY(${b}px)`),i.transform=f.trim(),u.maxHeight&&(r?i.maxHeight=Rn(u.maxHeight):a&&(i.maxHeight="")),u.maxWidth&&(r?i.maxWidth=Rn(u.maxWidth):a&&(i.maxWidth="")),qp(this._pane.style,i)}_getExactOverlayY(e,t,i){let r={top:"",bottom:""},a=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(a=this._pushOverlayOnScreen(a,this._overlayRect,i)),"bottom"===e.overlayY?r.bottom=this._document.documentElement.clientHeight-(a.y+this._overlayRect.height)+"px":r.top=Rn(a.y),r}_getExactOverlayX(e,t,i){let u,r={left:"",right:""},a=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(a=this._pushOverlayOnScreen(a,this._overlayRect,i)),u=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===u?r.right=this._document.documentElement.clientWidth-(a.x+this._overlayRect.width)+"px":r.left=Rn(a.x),r}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:OV(e,i),isOriginOutsideView:$k(e,i),isOverlayClipped:OV(t,i),isOverlayOutsideView:$k(t,i)}}_subtractOverflows(e,...t){return t.reduce((i,r)=>i-Math.max(r,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+e-this._viewportMargin,bottom:i.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?e.offsetX??this._offsetX:e.offsetY??this._offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&hl(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof c.SBq)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,i=e.height||0;return{top:e.y,bottom:e.y+i,left:e.x,right:e.x+t,height:i,width:t}}}function qp(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function LV(n){if("number"!=typeof n&&null!=n){const[e,t]=n.split(Xq);return t&&"px"!==t?null:parseFloat(e)}return n||null}function VV(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const BV="cdk-global-overlay-wrapper";class eZ{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(BV),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:a,maxWidth:u,maxHeight:f}=i,_=!("100%"!==r&&"100vw"!==r||u&&"100%"!==u&&"100vw"!==u),b=!("100%"!==a&&"100vh"!==a||f&&"100%"!==f&&"100vh"!==f),I=this._xPosition,x=this._xOffset,L="rtl"===this._overlayRef.getConfig().direction;let B="",U="",ee="";_?ee="flex-start":"center"===I?(ee="center",L?U=x:B=x):L?"left"===I||"end"===I?(ee="flex-end",B=x):("right"===I||"start"===I)&&(ee="flex-start",U=x):"left"===I||"start"===I?(ee="flex-start",B=x):("right"===I||"end"===I)&&(ee="flex-end",U=x),e.position=this._cssPosition,e.marginLeft=_?"0":B,e.marginTop=b?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=_?"0":U,t.justifyContent=ee,t.alignItems=b?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,i=t.style;t.classList.remove(BV),i.justifyContent=i.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let tZ=(()=>{class n{constructor(t,i,r,a){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=a}global(){return new eZ}flexibleConnectedTo(t){return new Jq(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(gk),c.LFG(ie),c.LFG(pr),c.LFG(NV))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),nZ=0,Gk=(()=>{class n{constructor(t,i,r,a,u,f,_,b,I,x,L,B){this.scrollStrategies=t,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=a,this._keyboardDispatcher=u,this._injector=f,this._ngZone=_,this._document=b,this._directionality=I,this._location=x,this._outsideClickDispatcher=L,this._animationsModuleType=B}create(t){const i=this._createHostElement(),r=this._createPaneElement(i),a=this._createPortalOutlet(r),u=new Zq(t);return u.direction=u.direction||this._directionality.value,new Qq(a,i,r,u,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(t){const i=this._document.createElement("div");return i.id="cdk-overlay-"+nZ++,i.classList.add("cdk-overlay-pane"),t.appendChild(i),i}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(c.z2F)),new Cw(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(qq),c.LFG(NV),c.LFG(c._Vd),c.LFG(tZ),c.LFG(Kq),c.LFG(c.zs3),c.LFG(c.R0b),c.LFG(ie),c.LFG(ip),c.LFG(Ae),c.LFG(Yq),c.LFG(c.QbO,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const sZ={provide:new c.OlP("cdk-connected-overlay-scroll-strategy"),deps:[Gk],useFactory:function rZ(n){return()=>n.scrollStrategies.reposition()}};let oZ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[Gk,sZ],imports:[ch,Xf,FL,FL]}),n})();const dZ={provide:new c.OlP("mat-select-scroll-strategy"),deps:[Gk],useFactory:function uZ(n){return()=>n.scrollStrategies.reposition()}};let hZ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[dZ],imports:[lr,oZ,sp,ni,n0,MV,sp,ni]}),n})(),fZ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[ni,ni]}),n})(),pZ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[fG,TG,RG,jq,l$,MC,MV,fZ,hZ]}),n})(),mZ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n,bootstrap:[PG]}),n.\u0275inj=c.cJS({imports:[ql,vu,N$,Ss.hO.initializeApp(qL_firebase),Oq,pZ,t$.forRoot(),T$]}),n})();(0,c.G48)(),zl().bootstrapModule(mZ).catch(n=>console.error(n))},5867:(at,De,P)=>{P.d(De,{C6:()=>c.getApps,Mq:()=>c.getApp});var c=P(9681);(0,c.registerVersion)("firebase","9.9.4","app")},127:(at,De,P)=>{P.d(De,{Z:()=>c.Z});var c=P(3942);c.Z.registerVersion("firebase","9.9.4","app-compat")},2274:(at,De,P)=>{P.r(De);var c=P(5861),te=P(3942),N=P(2090),le=P(9681),oe=P(655),he=P(1877),ie=P(4859);const Ce=function Be(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},et=function Me(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},ve=new N.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Xe=new he.Yd("@firebase/auth");function st(y,...p){Xe.logLevel<=he.in.ERROR&&Xe.error(`Auth (${le.SDK_VERSION}): ${y}`,...p)}function Ae(y,...p){throw $e(y,...p)}function be(y,...p){return $e(y,...p)}function Ie(y,p,g){const w=Object.assign(Object.assign({},et()),{[p]:g});return new N.LL("auth","Firebase",w).create(p,{appName:y.name})}function He(y,p,g){if(!(p instanceof g))throw g.name!==p.constructor.name&&Ae(y,"argument-error"),Ie(y,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function $e(y,...p){if("string"!=typeof y){const g=p[0],w=[...p.slice(1)];return w[0]&&(w[0].appName=y.name),y._errorFactory.create(g,...w)}return ve.create(y,...p)}function j(y,p,...g){if(!y)throw $e(p,...g)}function ye(y){const p="INTERNAL ASSERTION FAILED: "+y;throw st(p),new Error(p)}function Q(y,p){y||ye(p)}const ne=new Map;function ae(y){Q(y instanceof Function,"Expected a class definition");let p=ne.get(y);return p?(Q(p instanceof y,"Instance stored in cache mismatched with class"),p):(p=new y,ne.set(y,p),p)}function Oe(){var y;return typeof self<"u"&&(null===(y=self.location)||void 0===y?void 0:y.href)||""}function ht(){return"http:"===Wt()||"https:"===Wt()}function Wt(){var y;return typeof self<"u"&&(null===(y=self.location)||void 0===y?void 0:y.protocol)||null}class an{constructor(p,g){this.shortDelay=p,this.longDelay=g,Q(g>p,"Short delay should be less than long delay!"),this.isMobile=(0,N.uI)()||(0,N.b$)()}get(){return function $t(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(ht()||(0,N.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function On(y,p){Q(y.emulator,"Emulator should always be set here");const{url:g}=y.emulator;return p?`${g}${p.startsWith("/")?p.slice(1):p}`:g}class Yt{static initialize(p,g,w){this.fetchImpl=p,g&&(this.headersImpl=g),w&&(this.responseImpl=w)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void ye("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void ye("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void ye("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Qt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},xi=new an(3e4,6e4);function Lt(y,p){return y.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:y.tenantId}):p}function rn(y,p,g,w){return Ca.apply(this,arguments)}function Ca(){return(Ca=(0,c.Z)(function*(y,p,g,w,M={}){return $i(y,M,(0,c.Z)(function*(){let O={},K={};w&&("GET"===p?K=w:O={body:JSON.stringify(w)});const de=(0,N.xO)(Object.assign({key:y.config.apiKey},K)).slice(1),Ve=yield y._getAdditionalHeaders();return Ve["Content-Type"]="application/json",y.languageCode&&(Ve["X-Firebase-Locale"]=y.languageCode),Yt.fetch()(Ur(y,y.config.apiHost,g,de),Object.assign({method:p,headers:Ve,referrerPolicy:"no-referrer"},O))}))})).apply(this,arguments)}function $i(y,p,g){return Ei.apply(this,arguments)}function Ei(){return(Ei=(0,c.Z)(function*(y,p,g){y._canInitEmulator=!1;const w=Object.assign(Object.assign({},Qt),p);try{const M=new zi(y),O=yield Promise.race([g(),M.promise]);M.clearNetworkTimeout();const K=yield O.json();if("needConfirmation"in K)throw Dr(y,"account-exists-with-different-credential",K);if(O.ok&&!("errorMessage"in K))return K;{const de=O.ok?K.errorMessage:K.error.message,[Ve,Je]=de.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Ve)throw Dr(y,"credential-already-in-use",K);if("EMAIL_EXISTS"===Ve)throw Dr(y,"email-already-in-use",K);if("USER_DISABLED"===Ve)throw Dr(y,"user-disabled",K);const yt=w[Ve]||Ve.toLowerCase().replace(/[_\s]+/g,"-");if(Je)throw Ie(y,yt,Je);Ae(y,yt)}}catch(M){if(M instanceof N.ZR)throw M;Ae(y,"network-request-failed")}})).apply(this,arguments)}function Gi(y,p,g,w){return Os.apply(this,arguments)}function Os(){return(Os=(0,c.Z)(function*(y,p,g,w,M={}){const O=yield rn(y,p,g,w,M);return"mfaPendingCredential"in O&&Ae(y,"multi-factor-auth-required",{_serverResponse:O}),O})).apply(this,arguments)}function Ur(y,p,g,w){const M=`${p}${g}?${w}`;return y.config.emulator?On(y.config,M):`${y.config.apiScheme}://${M}`}class zi{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((g,w)=>{this.timer=setTimeout(()=>w(be(this.auth,"network-request-failed")),xi.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Dr(y,p,g){const w={appName:y.name};g.email&&(w.email=g.email),g.phoneNumber&&(w.phoneNumber=g.phoneNumber);const M=be(y,p,w);return M.customData._tokenResponse=g,M}function Ke(){return(Ke=(0,c.Z)(function*(y,p){return rn(y,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function qi(y,p){return os.apply(this,arguments)}function os(){return(os=(0,c.Z)(function*(y,p){return rn(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Pn(y,p){return Tr.apply(this,arguments)}function Tr(){return(Tr=(0,c.Z)(function*(y,p){return rn(y,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function or(y){if(y)try{const p=new Date(Number(y));if(!isNaN(p.getTime()))return p.toUTCString()}catch{}}function gn(){return(gn=(0,c.Z)(function*(y,p=!1){const g=(0,N.m9)(y),w=yield g.getIdToken(p),M=ct(w);j(M&&M.exp&&M.auth_time&&M.iat,g.auth,"internal-error");const O="object"==typeof M.firebase?M.firebase:void 0,K=O?.sign_in_provider;return{claims:M,token:w,authTime:or(mt(M.auth_time)),issuedAtTime:or(mt(M.iat)),expirationTime:or(mt(M.exp)),signInProvider:K||null,signInSecondFactor:O?.sign_in_second_factor||null}})).apply(this,arguments)}function mt(y){return 1e3*Number(y)}function ct(y){var p;const[g,w,M]=y.split(".");if(void 0===g||void 0===w||void 0===M)return st("JWT malformed, contained fewer than 3 sections"),null;try{const O=(0,N.tV)(w);return O?JSON.parse(O):(st("Failed to decode base64 JWT payload"),null)}catch(O){return st("Caught error parsing JWT payload as JSON",null===(p=O)||void 0===p?void 0:p.toString()),null}}function li(y,p){return ci.apply(this,arguments)}function ci(){return(ci=(0,c.Z)(function*(y,p,g=!1){if(g)return p;try{return yield p}catch(w){throw w instanceof N.ZR&&Ai(w)&&y.auth.currentUser===y&&(yield y.auth.signOut()),w}})).apply(this,arguments)}function Ai({code:y}){return"auth/user-disabled"===y||"auth/user-token-expired"===y}class It{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var g;if(p){const w=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),w}{this.errorBackoff=3e4;const M=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,M)}}schedule(p=!1){var g=this;if(!this.isRunning)return;const w=this.getInterval(p);this.timerId=setTimeout((0,c.Z)(function*(){yield g.iteration()}),w)}iteration(){var p=this;return(0,c.Z)(function*(){var g;try{yield p.user.getIdToken(!0)}catch(w){return void("auth/network-request-failed"===(null===(g=w)||void 0===g?void 0:g.code)&&p.schedule(!0))}p.schedule()})()}}class as{constructor(p,g){this.createdAt=p,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=or(this.lastLoginAt),this.creationTime=or(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Xt(y){return Sr.apply(this,arguments)}function Sr(){return(Sr=(0,c.Z)(function*(y){var p;const g=y.auth,w=yield y.getIdToken(),M=yield li(y,Pn(g,{idToken:w}));j(M?.users.length,g,"internal-error");const O=M.users[0];y._notifyReloadListener(O);const K=null!==(p=O.providerUserInfo)&&void 0!==p&&p.length?H(O.providerUserInfo):[],de=G(y.providerData,K),yt=!!y.isAnonymous&&!(y.email&&O.passwordHash||de?.length),gt={uid:O.localId,displayName:O.displayName||null,photoURL:O.photoUrl||null,email:O.email||null,emailVerified:O.emailVerified||!1,phoneNumber:O.phoneNumber||null,tenantId:O.tenantId||null,providerData:de,metadata:new as(O.createdAt,O.lastLoginAt),isAnonymous:yt};Object.assign(y,gt)})).apply(this,arguments)}function Y(){return(Y=(0,c.Z)(function*(y){const p=(0,N.m9)(y);yield Xt(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function G(y,p){return[...y.filter(w=>!p.some(M=>M.providerId===w.providerId)),...p]}function H(y){return y.map(p=>{var{providerId:g}=p,w=(0,oe._T)(p,["providerId"]);return{providerId:g,uid:w.rawId||"",displayName:w.displayName||null,email:w.email||null,phoneNumber:w.phoneNumber||null,photoURL:w.photoUrl||null}})}function W(){return(W=(0,c.Z)(function*(y,p){const g=yield $i(y,{},(0,c.Z)(function*(){const w=(0,N.xO)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:M,apiKey:O}=y.config,K=Ur(y,M,"/v1/token",`key=${O}`),de=yield y._getAdditionalHeaders();return de["Content-Type"]="application/x-www-form-urlencoded",Yt.fetch()(K,{method:"POST",headers:de,body:w})}));return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}class Te{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){j(p.idToken,"internal-error"),j(typeof p.idToken<"u","internal-error"),j(typeof p.refreshToken<"u","internal-error");const g="expiresIn"in p&&typeof p.expiresIn<"u"?Number(p.expiresIn):function ln(y){const p=ct(y);return j(p,"internal-error"),j(typeof p.exp<"u","internal-error"),j(typeof p.iat<"u","internal-error"),Number(p.exp)-Number(p.iat)}(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,g)}getToken(p,g=!1){var w=this;return(0,c.Z)(function*(){return j(!w.accessToken||w.refreshToken,p,"user-token-expired"),g||!w.accessToken||w.isExpired?w.refreshToken?(yield w.refresh(p,w.refreshToken),w.accessToken):null:w.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,g){var w=this;return(0,c.Z)(function*(){const{accessToken:M,refreshToken:O,expiresIn:K}=yield function q(y,p){return W.apply(this,arguments)}(p,g);w.updateTokensAndExpiration(M,O,Number(K))})()}updateTokensAndExpiration(p,g,w){this.refreshToken=g||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*w}static fromJSON(p,g){const{refreshToken:w,accessToken:M,expirationTime:O}=g,K=new Te;return w&&(j("string"==typeof w,"internal-error",{appName:p}),K.refreshToken=w),M&&(j("string"==typeof M,"internal-error",{appName:p}),K.accessToken=M),O&&(j("number"==typeof O,"internal-error",{appName:p}),K.expirationTime=O),K}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new Te,this.toJSON())}_performRefresh(){return ye("not implemented")}}function Ue(y,p){j("string"==typeof y||typeof y>"u","internal-error",{appName:p})}class lt{constructor(p){var{uid:g,auth:w,stsTokenManager:M}=p,O=(0,oe._T)(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new It(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=w,this.stsTokenManager=M,this.accessToken=M.accessToken,this.displayName=O.displayName||null,this.email=O.email||null,this.emailVerified=O.emailVerified||!1,this.phoneNumber=O.phoneNumber||null,this.photoURL=O.photoURL||null,this.isAnonymous=O.isAnonymous||!1,this.tenantId=O.tenantId||null,this.providerData=O.providerData?[...O.providerData]:[],this.metadata=new as(O.createdAt||void 0,O.lastLoginAt||void 0)}getIdToken(p){var g=this;return(0,c.Z)(function*(){const w=yield li(g,g.stsTokenManager.getToken(g.auth,p));return j(w,g.auth,"internal-error"),g.accessToken!==w&&(g.accessToken=w,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),w})()}getIdTokenResult(p){return function Kn(y){return gn.apply(this,arguments)}(this,p)}reload(){return function Kt(y){return Y.apply(this,arguments)}(this)}_assign(p){this!==p&&(j(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(g=>Object.assign({},g)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){return new lt(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(p){j(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,g=!1){var w=this;return(0,c.Z)(function*(){let M=!1;p.idToken&&p.idToken!==w.stsTokenManager.accessToken&&(w.stsTokenManager.updateFromServerResponse(p),M=!0),g&&(yield Xt(w)),yield w.auth._persistUserIfCurrent(w),M&&w.auth._notifyListenersIfCurrent(w)})()}delete(){var p=this;return(0,c.Z)(function*(){const g=yield p.getIdToken();return yield li(p,function Vo(y,p){return Ke.apply(this,arguments)}(p.auth,{idToken:g})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,g){var w,M,O,K,de,Ve,Je,yt;const gt=null!==(w=g.displayName)&&void 0!==w?w:void 0,ei=null!==(M=g.email)&&void 0!==M?M:void 0,Is=null!==(O=g.phoneNumber)&&void 0!==O?O:void 0,sc=null!==(K=g.photoURL)&&void 0!==K?K:void 0,Sm=null!==(de=g.tenantId)&&void 0!==de?de:void 0,Rd=null!==(Ve=g._redirectEventId)&&void 0!==Ve?Ve:void 0,Q_=null!==(Je=g.createdAt)&&void 0!==Je?Je:void 0,xm=null!==(yt=g.lastLoginAt)&&void 0!==yt?yt:void 0,{uid:vu,emailVerified:y0,isAnonymous:X_,providerData:Od,stsTokenManager:v0}=g;j(vu&&v0,p,"internal-error");const KI=Te.fromJSON(this.name,v0);j("string"==typeof vu,p,"internal-error"),Ue(gt,p.name),Ue(ei,p.name),j("boolean"==typeof y0,p,"internal-error"),j("boolean"==typeof X_,p,"internal-error"),Ue(Is,p.name),Ue(sc,p.name),Ue(Sm,p.name),Ue(Rd,p.name),Ue(Q_,p.name),Ue(xm,p.name);const J_=new lt({uid:vu,auth:p,email:ei,emailVerified:y0,displayName:gt,isAnonymous:X_,photoURL:sc,phoneNumber:Is,tenantId:Sm,stsTokenManager:KI,createdAt:Q_,lastLoginAt:xm});return Od&&Array.isArray(Od)&&(J_.providerData=Od.map(YI=>Object.assign({},YI))),Rd&&(J_._redirectEventId=Rd),J_}static _fromIdTokenResponse(p,g,w=!1){return(0,c.Z)(function*(){const M=new Te;M.updateFromServerResponse(g);const O=new lt({uid:g.localId,auth:p,stsTokenManager:M,isAnonymous:w});return yield Xt(O),O})()}}const Jt=(()=>{class y{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,c.Z)(function*(){return!0})()}_set(g,w){var M=this;return(0,c.Z)(function*(){M.storage[g]=w})()}_get(g){var w=this;return(0,c.Z)(function*(){const M=w.storage[g];return void 0===M?null:M})()}_remove(g){var w=this;return(0,c.Z)(function*(){delete w.storage[g]})()}_addListener(g,w){}_removeListener(g,w){}}return y.type="NONE",y})();function Yn(y,p,g){return`firebase:${y}:${p}:${g}`}class Bt{constructor(p,g,w){this.persistence=p,this.auth=g,this.userKey=w;const{config:M,name:O}=this.auth;this.fullUserKey=Yn(this.userKey,M.apiKey,O),this.fullPersistenceKey=Yn("persistence",M.apiKey,O),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,c.Z)(function*(){const g=yield p.persistence._get(p.fullUserKey);return g?lt._fromJSON(p.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var g=this;return(0,c.Z)(function*(){if(g.persistence===p)return;const w=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=p,w?g.setCurrentUser(w):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,g,w="authUser"){return(0,c.Z)(function*(){if(!g.length)return new Bt(ae(Jt),p,w);const M=(yield Promise.all(g.map(function(){var Je=(0,c.Z)(function*(yt){if(yield yt._isAvailable())return yt});return function(yt){return Je.apply(this,arguments)}}()))).filter(Je=>Je);let O=M[0]||ae(Jt);const K=Yn(w,p.config.apiKey,p.name);let de=null;for(const Je of g)try{const yt=yield Je._get(K);if(yt){const gt=lt._fromJSON(p,yt);Je!==O&&(de=gt),O=Je;break}}catch{}const Ve=M.filter(Je=>Je._shouldAllowMigration);return O._shouldAllowMigration&&Ve.length?(O=Ve[0],de&&(yield O._set(K,de.toJSON())),yield Promise.all(g.map(function(){var Je=(0,c.Z)(function*(yt){if(yt!==O)try{yield yt._remove(K)}catch{}});return function(yt){return Je.apply(this,arguments)}}())),new Bt(O,p,w)):new Bt(O,p,w)})()}}function Ot(y){const p=y.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(Mi(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(yn(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(Ge(p))return"Blackberry";if(wt(p))return"Webos";if(Un(p))return"Safari";if((p.includes("chrome/")||Hr(p))&&!p.includes("edge/"))return"Chrome";if(Hn(p))return"Android";{const w=y.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===w?.length)return w[1]}return"Other"}function yn(y=(0,N.z$)()){return/firefox\//i.test(y)}function Un(y=(0,N.z$)()){const p=y.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function Hr(y=(0,N.z$)()){return/crios\//i.test(y)}function Mi(y=(0,N.z$)()){return/iemobile/i.test(y)}function Hn(y=(0,N.z$)()){return/android/i.test(y)}function Ge(y=(0,N.z$)()){return/blackberry/i.test(y)}function wt(y=(0,N.z$)()){return/webos/i.test(y)}function en(y=(0,N.z$)()){return/iphone|ipad|ipod/i.test(y)||/macintosh/i.test(y)&&/mobile/i.test(y)}function io(y=(0,N.z$)()){return en(y)||Hn(y)||wt(y)||Ge(y)||/windows phone/i.test(y)||Mi(y)}function Ps(y,p=[]){let g;switch(y){case"Browser":g=Ot((0,N.z$)());break;case"Worker":g=`${Ot((0,N.z$)())}-${y}`;break;default:g=y}const w=p.length?p.join(","):"FirebaseCore-web";return`${g}/JsCore/${le.SDK_VERSION}/${w}`}class ro{constructor(p){this.auth=p,this.queue=[]}pushCallback(p,g){const w=O=>new Promise((K,de)=>{try{K(p(O))}catch(Ve){de(Ve)}});w.onAbort=g,this.queue.push(w);const M=this.queue.length-1;return()=>{this.queue[M]=()=>Promise.resolve()}}runMiddleware(p){var g=this;return(0,c.Z)(function*(){var w;if(g.auth.currentUser===p)return;const M=[];try{for(const O of g.queue)yield O(p),O.onAbort&&M.push(O.onAbort)}catch(O){M.reverse();for(const K of M)try{K()}catch{}throw g.auth._errorFactory.create("login-blocked",{originalMessage:null===(w=O)||void 0===w?void 0:w.message})}})()}}class Pt{constructor(p,g,w){this.app=p,this.heartbeatServiceProvider=g,this.config=w,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new so(this),this.idTokenSubscription=new so(this),this.beforeStateQueue=new ro(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ve,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=w.sdkClientVersion}_initializeWithPersistence(p,g){var w=this;return g&&(this._popupRedirectResolver=ae(g)),this._initializationPromise=this.queue((0,c.Z)(function*(){var M,O;if(!w._deleted&&(w.persistenceManager=yield Bt.create(w,p),!w._deleted)){if(null!==(M=w._popupRedirectResolver)&&void 0!==M&&M._shouldInitProactively)try{yield w._popupRedirectResolver._initialize(w)}catch{}yield w.initializeCurrentUser(g),w.lastNotifiedUid=(null===(O=w.currentUser)||void 0===O?void 0:O.uid)||null,!w._deleted&&(w._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,c.Z)(function*(){if(p._deleted)return;const g=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||g){if(p.currentUser&&g&&p.currentUser.uid===g.uid)return p._currentUser._assign(g),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(g,!0)}})()}initializeCurrentUser(p){var g=this;return(0,c.Z)(function*(){var w;const M=yield g.assertedPersistence.getCurrentUser();let O=M,K=!1;if(p&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const de=null===(w=g.redirectUser)||void 0===w?void 0:w._redirectEventId,Ve=O?._redirectEventId,Je=yield g.tryRedirectSignIn(p);(!de||de===Ve)&&Je?.user&&(O=Je.user,K=!0)}if(!O)return g.directlySetCurrentUser(null);if(!O._redirectEventId){if(K)try{yield g.beforeStateQueue.runMiddleware(O)}catch(de){O=M,g._popupRedirectResolver._overrideRedirectResult(g,()=>Promise.reject(de))}return O?g.reloadAndSetCurrentUserOrClear(O):g.directlySetCurrentUser(null)}return j(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===O._redirectEventId?g.directlySetCurrentUser(O):g.reloadAndSetCurrentUserOrClear(O)})()}tryRedirectSignIn(p){var g=this;return(0,c.Z)(function*(){let w=null;try{w=yield g._popupRedirectResolver._completeRedirectFn(g,p,!0)}catch{yield g._setRedirectUser(null)}return w})()}reloadAndSetCurrentUserOrClear(p){var g=this;return(0,c.Z)(function*(){var w;try{yield Xt(p)}catch(M){if("auth/network-request-failed"!==(null===(w=M)||void 0===w?void 0:w.code))return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function qe(){if(typeof navigator>"u")return null;const y=navigator;return y.languages&&y.languages[0]||y.language||null}()}_delete(){var p=this;return(0,c.Z)(function*(){p._deleted=!0})()}updateCurrentUser(p){var g=this;return(0,c.Z)(function*(){const w=p?(0,N.m9)(p):null;return w&&j(w.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(w&&w._clone(g))})()}_updateCurrentUser(p,g=!1){var w=this;return(0,c.Z)(function*(){if(!w._deleted)return p&&j(w.tenantId===p.tenantId,w,"tenant-id-mismatch"),g||(yield w.beforeStateQueue.runMiddleware(p)),w.queue((0,c.Z)(function*(){yield w.directlySetCurrentUser(p),w.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,c.Z)(function*(){return yield p.beforeStateQueue.runMiddleware(null),(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null,!0)})()}setPersistence(p){var g=this;return this.queue((0,c.Z)(function*(){yield g.assertedPersistence.setPersistence(ae(p))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new N.LL("auth","Firebase",p())}onAuthStateChanged(p,g,w){return this.registerStateListener(this.authStateSubscription,p,g,w)}beforeAuthStateChanged(p,g){return this.beforeStateQueue.pushCallback(p,g)}onIdTokenChanged(p,g,w){return this.registerStateListener(this.idTokenSubscription,p,g,w)}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,g){var w=this;return(0,c.Z)(function*(){const M=yield w.getOrInitRedirectPersistenceManager(g);return null===p?M.removeCurrentUser():M.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var g=this;return(0,c.Z)(function*(){if(!g.redirectPersistenceManager){const w=p&&ae(p)||g._popupRedirectResolver;j(w,g,"argument-error"),g.redirectPersistenceManager=yield Bt.create(g,[ae(w._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(p){var g=this;return(0,c.Z)(function*(){var w,M;return g._isInitialized&&(yield g.queue((0,c.Z)(function*(){}))),(null===(w=g._currentUser)||void 0===w?void 0:w._redirectEventId)===p?g._currentUser:(null===(M=g.redirectUser)||void 0===M?void 0:M._redirectEventId)===p?g.redirectUser:null})()}_persistUserIfCurrent(p){var g=this;return(0,c.Z)(function*(){if(p===g.currentUser)return g.queue((0,c.Z)(function*(){return g.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const w=null!==(g=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==w&&(this.lastNotifiedUid=w,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,g,w,M){if(this._deleted)return()=>{};const O="function"==typeof g?g:g.next.bind(g),K=this._isInitialized?Promise.resolve():this._initializationPromise;return j(K,this,"internal-error"),K.then(()=>O(this.currentUser)),"function"==typeof g?p.addObserver(g,w,M):p.addObserver(g)}directlySetCurrentUser(p){var g=this;return(0,c.Z)(function*(){g.currentUser&&g.currentUser!==p&&g._currentUser._stopProactiveRefresh(),p&&g.isProactiveRefreshEnabled&&p._startProactiveRefresh(),g.currentUser=p,p?yield g.assertedPersistence.setCurrentUser(p):yield g.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return j(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=Ps(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var p=this;return(0,c.Z)(function*(){var g;const w={"X-Client-Version":p.clientVersion};p.app.options.appId&&(w["X-Firebase-gmpid"]=p.app.options.appId);const M=yield null===(g=p.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getHeartbeatsHeader();return M&&(w["X-Firebase-Client"]=M),w})()}}function bn(y){return(0,N.m9)(y)}class so{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,N.ne)(g=>this.observer=g)}get next(){return j(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function jr(y){const p=y.indexOf(":");return p<0?"":y.substr(0,p+1)}function Ns(y){if(!y)return null;const p=Number(y);return isNaN(p)?null:p}class _i{constructor(p,g){this.providerId=p,this.signInMethod=g}toJSON(){return ye("not implemented")}_getIdTokenResponse(p){return ye("not implemented")}_linkToIdToken(p,g){return ye("not implemented")}_getReauthenticationResolver(p){return ye("not implemented")}}function $n(y,p){return Ea.apply(this,arguments)}function Ea(){return(Ea=(0,c.Z)(function*(y,p){return rn(y,"POST","/v1/accounts:resetPassword",Lt(y,p))})).apply(this,arguments)}function cn(y,p){return Ac.apply(this,arguments)}function Ac(){return(Ac=(0,c.Z)(function*(y,p){return rn(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Mc(y,p){return oo.apply(this,arguments)}function oo(){return(oo=(0,c.Z)(function*(y,p){return rn(y,"POST","/v1/accounts:update",Lt(y,p))})).apply(this,arguments)}function ls(){return(ls=(0,c.Z)(function*(y,p){return Gi(y,"POST","/v1/accounts:signInWithPassword",Lt(y,p))})).apply(this,arguments)}function Ls(y,p){return Ar.apply(this,arguments)}function Ar(){return(Ar=(0,c.Z)(function*(y,p){return rn(y,"POST","/v1/accounts:sendOobCode",Lt(y,p))})).apply(this,arguments)}function Dn(y,p){return kc.apply(this,arguments)}function kc(){return(kc=(0,c.Z)(function*(y,p){return Ls(y,p)})).apply(this,arguments)}function ui(y,p){return ki.apply(this,arguments)}function ki(){return(ki=(0,c.Z)(function*(y,p){return Ls(y,p)})).apply(this,arguments)}function wl(y,p){return Da.apply(this,arguments)}function Da(){return(Da=(0,c.Z)(function*(y,p){return Ls(y,p)})).apply(this,arguments)}function Rc(y,p){return Ii.apply(this,arguments)}function Ii(){return(Ii=(0,c.Z)(function*(y,p){return Ls(y,p)})).apply(this,arguments)}function Ku(){return(Ku=(0,c.Z)(function*(y,p){return Gi(y,"POST","/v1/accounts:signInWithEmailLink",Lt(y,p))})).apply(this,arguments)}function Oc(){return(Oc=(0,c.Z)(function*(y,p){return Gi(y,"POST","/v1/accounts:signInWithEmailLink",Lt(y,p))})).apply(this,arguments)}class Pc extends _i{constructor(p,g,w,M=null){super("password",w),this._email=p,this._password=g,this._tenantId=M}static _fromEmailAndPassword(p,g){return new Pc(p,g,"password")}static _fromEmailAndCode(p,g,w=null){return new Pc(p,g,"emailLink",w)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p;if(g?.email&&g?.password){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(p){var g=this;return(0,c.Z)(function*(){switch(g.signInMethod){case"password":return function Ia(y,p){return ls.apply(this,arguments)}(p,{returnSecureToken:!0,email:g._email,password:g._password});case"emailLink":return function qh(y,p){return Ku.apply(this,arguments)}(p,{email:g._email,oobCode:g._password});default:Ae(p,"internal-error")}})()}_linkToIdToken(p,g){var w=this;return(0,c.Z)(function*(){switch(w.signInMethod){case"password":return cn(p,{idToken:g,returnSecureToken:!0,email:w._email,password:w._password});case"emailLink":return function Yu(y,p){return Oc.apply(this,arguments)}(p,{idToken:g,email:w._email,oobCode:w._password});default:Ae(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function Xn(y,p){return Qu.apply(this,arguments)}function Qu(){return(Qu=(0,c.Z)(function*(y,p){return Gi(y,"POST","/v1/accounts:signInWithIdp",Lt(y,p))})).apply(this,arguments)}class cs extends _i{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const g=new cs(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(g.idToken=p.idToken),p.accessToken&&(g.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(g.nonce=p.nonce),p.pendingToken&&(g.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(g.accessToken=p.oauthToken,g.secret=p.oauthTokenSecret):Ae("argument-error"),g}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p,{providerId:w,signInMethod:M}=g,O=(0,oe._T)(g,["providerId","signInMethod"]);if(!w||!M)return null;const K=new cs(w,M);return K.idToken=O.idToken||void 0,K.accessToken=O.accessToken||void 0,K.secret=O.secret,K.nonce=O.nonce,K.pendingToken=O.pendingToken||null,K}_getIdTokenResponse(p){return Xn(p,this.buildRequest())}_linkToIdToken(p,g){const w=this.buildRequest();return w.idToken=g,Xn(p,w)}_getReauthenticationResolver(p){const g=this.buildRequest();return g.autoCreate=!1,Xn(p,g)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const g={};this.idToken&&(g.id_token=this.idToken),this.accessToken&&(g.access_token=this.accessToken),this.secret&&(g.oauth_token_secret=this.secret),g.providerId=this.providerId,this.nonce&&!this.pendingToken&&(g.nonce=this.nonce),p.postBody=(0,N.xO)(g)}return p}}function Yp(y,p){return Xu.apply(this,arguments)}function Xu(){return(Xu=(0,c.Z)(function*(y,p){return rn(y,"POST","/v1/accounts:sendVerificationCode",Lt(y,p))})).apply(this,arguments)}function Vs(){return(Vs=(0,c.Z)(function*(y,p){return Gi(y,"POST","/v1/accounts:signInWithPhoneNumber",Lt(y,p))})).apply(this,arguments)}function Ju(){return(Ju=(0,c.Z)(function*(y,p){const g=yield Gi(y,"POST","/v1/accounts:signInWithPhoneNumber",Lt(y,p));if(g.temporaryProof)throw Dr(y,"account-exists-with-different-credential",g);return g})).apply(this,arguments)}const Xp={USER_NOT_FOUND:"user-not-found"};function ed(){return(ed=(0,c.Z)(function*(y,p){return Gi(y,"POST","/v1/accounts:signInWithPhoneNumber",Lt(y,Object.assign(Object.assign({},p),{operation:"REAUTH"})),Xp)})).apply(this,arguments)}class Bs extends _i{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,g){return new Bs({verificationId:p,verificationCode:g})}static _fromTokenResponse(p,g){return new Bs({phoneNumber:p,temporaryProof:g})}_getIdTokenResponse(p){return function Nc(y,p){return Vs.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,g){return function Qp(y,p){return Ju.apply(this,arguments)}(p,Object.assign({idToken:g},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function Jp(y,p){return ed.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:g,verificationId:w,verificationCode:M}=this.params;return p&&g?{temporaryProof:p,phoneNumber:g}:{sessionInfo:w,code:M}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:g,verificationCode:w,phoneNumber:M,temporaryProof:O}=p;return w||g||M||O?new Bs({verificationId:g,verificationCode:w,phoneNumber:M,temporaryProof:O}):null}}class Cl{constructor(p){var g,w,M,O,K,de;const Ve=(0,N.zd)((0,N.pd)(p)),Je=null!==(g=Ve.apiKey)&&void 0!==g?g:null,yt=null!==(w=Ve.oobCode)&&void 0!==w?w:null,gt=function td(y){switch(y){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(M=Ve.mode)&&void 0!==M?M:null);j(Je&&yt&&gt,"argument-error"),this.apiKey=Je,this.operation=gt,this.code=yt,this.continueUrl=null!==(O=Ve.continueUrl)&&void 0!==O?O:null,this.languageCode=null!==(K=Ve.languageCode)&&void 0!==K?K:null,this.tenantId=null!==(de=Ve.tenantId)&&void 0!==de?de:null}static parseLink(p){const g=function nd(y){const p=(0,N.zd)((0,N.pd)(y)).link,g=p?(0,N.zd)((0,N.pd)(p)).deep_link_id:null,w=(0,N.zd)((0,N.pd)(y)).deep_link_id;return(w?(0,N.zd)((0,N.pd)(w)).link:null)||w||g||p||y}(p);try{return new Cl(g)}catch{return null}}}let $r=(()=>{class y{constructor(){this.providerId=y.PROVIDER_ID}static credential(g,w){return Pc._fromEmailAndPassword(g,w)}static credentialWithLink(g,w){const M=Cl.parseLink(w);return j(M,"argument-error"),Pc._fromEmailAndCode(g,M.code,M.tenantId)}}return y.PROVIDER_ID="password",y.EMAIL_PASSWORD_SIGN_IN_METHOD="password",y.EMAIL_LINK_SIGN_IN_METHOD="emailLink",y})();class us{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class ds extends us{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class ao extends ds{static credentialFromJSON(p){const g="string"==typeof p?JSON.parse(p):p;return j("providerId"in g&&"signInMethod"in g,"argument-error"),cs._fromParams(g)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return j(p.idToken||p.accessToken,"argument-error"),cs._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return ao.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return ao.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:g,oauthAccessToken:w,oauthTokenSecret:M,pendingToken:O,nonce:K,providerId:de}=p;if(!w&&!M&&!g&&!O||!de)return null;try{return new ao(de)._credential({idToken:g,accessToken:w,nonce:K,pendingToken:O})}catch{return null}}}let Ta=(()=>{class y extends ds{constructor(){super("facebook.com")}static credential(g){return cs._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.FACEBOOK_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return y.credential(g.oauthAccessToken)}catch{return null}}}return y.FACEBOOK_SIGN_IN_METHOD="facebook.com",y.PROVIDER_ID="facebook.com",y})(),El=(()=>{class y extends ds{constructor(){super("google.com"),this.addScope("profile")}static credential(g,w){return cs._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:w})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:w,oauthAccessToken:M}=g;if(!w&&!M)return null;try{return y.credential(w,M)}catch{return null}}}return y.GOOGLE_SIGN_IN_METHOD="google.com",y.PROVIDER_ID="google.com",y})(),Fc=(()=>{class y extends ds{constructor(){super("github.com")}static credential(g){return cs._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GITHUB_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return y.credential(g.oauthAccessToken)}catch{return null}}}return y.GITHUB_SIGN_IN_METHOD="github.com",y.PROVIDER_ID="github.com",y})();class lr extends _i{constructor(p,g){super(p,p),this.pendingToken=g}_getIdTokenResponse(p){return Xn(p,this.buildRequest())}_linkToIdToken(p,g){const w=this.buildRequest();return w.idToken=g,Xn(p,w)}_getReauthenticationResolver(p){const g=this.buildRequest();return g.autoCreate=!1,Xn(p,g)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p,{providerId:w,signInMethod:M,pendingToken:O}=g;return w&&M&&O&&w===M?new lr(w,O):null}static _create(p,g){return new lr(p,g)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class cr extends us{constructor(p){j(p.startsWith("saml."),"argument-error"),super(p)}static credentialFromResult(p){return cr.samlCredentialFromTaggedObject(p)}static credentialFromError(p){return cr.samlCredentialFromTaggedObject(p.customData||{})}static credentialFromJSON(p){const g=lr.fromJSON(p);return j(g,"argument-error"),g}static samlCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{pendingToken:g,providerId:w}=p;if(!g||!w)return null;try{return lr._create(w,g)}catch{return null}}}let Zi=(()=>{class y extends ds{constructor(){super("twitter.com")}static credential(g,w){return cs._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.TWITTER_SIGN_IN_METHOD,oauthToken:g,oauthTokenSecret:w})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthAccessToken:w,oauthTokenSecret:M}=g;if(!w||!M)return null;try{return y.credential(w,M)}catch{return null}}}return y.TWITTER_SIGN_IN_METHOD="twitter.com",y.PROVIDER_ID="twitter.com",y})();function Bo(y,p){return Lc.apply(this,arguments)}function Lc(){return(Lc=(0,c.Z)(function*(y,p){return Gi(y,"POST","/v1/accounts:signUp",Lt(y,p))})).apply(this,arguments)}class yi{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,g,w,M=!1){return(0,c.Z)(function*(){const O=yield lt._fromIdTokenResponse(p,w,M),K=Kh(w);return new yi({user:O,providerId:K,_tokenResponse:w,operationType:g})})()}static _forOperation(p,g,w){return(0,c.Z)(function*(){yield p._updateTokensIfNecessary(w,!0);const M=Kh(w);return new yi({user:p,providerId:M,_tokenResponse:w,operationType:g})})()}}function Kh(y){return y.providerId?y.providerId:"phoneNumber"in y?"phone":null}function Tn(){return(Tn=(0,c.Z)(function*(y){var p;const g=bn(y);if(yield g._initializationPromise,null!==(p=g.currentUser)&&void 0!==p&&p.isAnonymous)return new yi({user:g.currentUser,providerId:null,operationType:"signIn"});const w=yield Bo(g,{returnSecureToken:!0}),M=yield yi._fromIdTokenResponse(g,"signIn",w,!0);return yield g._updateCurrentUser(M.user),M})).apply(this,arguments)}class Il extends N.ZR{constructor(p,g,w,M){var O;super(g.code,g.message),this.operationType=w,this.user=M,Object.setPrototypeOf(this,Il.prototype),this.customData={appName:p.name,tenantId:null!==(O=p.tenantId)&&void 0!==O?O:void 0,_serverResponse:g.customData._serverResponse,operationType:w}}static _fromErrorAndOperation(p,g,w,M){return new Il(p,g,w,M)}}function Qh(y,p,g,w){return("reauthenticate"===p?g._getReauthenticationResolver(y):g._getIdTokenResponse(y)).catch(O=>{throw"auth/multi-factor-auth-required"===O.code?Il._fromErrorAndOperation(y,O,p,w):O})}function ur(y){return new Set(y.map(({providerId:p})=>p).filter(p=>!!p))}function Dl(){return(Dl=(0,c.Z)(function*(y,p){const g=(0,N.m9)(y);yield Zt(!0,g,p);const{providerUserInfo:w}=yield qi(g.auth,{idToken:yield g.getIdToken(),deleteProvider:[p]}),M=ur(w||[]);return g.providerData=g.providerData.filter(O=>M.has(O.providerId)),M.has("phone")||(g.phoneNumber=null),yield g.auth._persistUserIfCurrent(g),g})).apply(this,arguments)}function lo(y,p){return fs.apply(this,arguments)}function fs(){return(fs=(0,c.Z)(function*(y,p,g=!1){const w=yield li(y,p._linkToIdToken(y.auth,yield y.getIdToken()),g);return yi._forOperation(y,"link",w)})).apply(this,arguments)}function Zt(y,p,g){return Sa.apply(this,arguments)}function Sa(){return(Sa=(0,c.Z)(function*(y,p,g){yield Xt(p);const M=!1===y?"provider-already-linked":"no-such-provider";j(ur(p.providerData).has(g)===y,p.auth,M)})).apply(this,arguments)}function co(y,p){return Tl.apply(this,arguments)}function Tl(){return(Tl=(0,c.Z)(function*(y,p,g=!1){var w;const{auth:M}=y,O="reauthenticate";try{const K=yield li(y,Qh(M,O,p,y),g);j(K.idToken,M,"internal-error");const de=ct(K.idToken);j(de,M,"internal-error");const{sub:Ve}=de;return j(y.uid===Ve,M,"user-mismatch"),yi._forOperation(y,O,K)}catch(K){throw"auth/user-not-found"===(null===(w=K)||void 0===w?void 0:w.code)&&Ae(M,"user-mismatch"),K}})).apply(this,arguments)}function Mr(y,p){return Sl.apply(this,arguments)}function Sl(){return(Sl=(0,c.Z)(function*(y,p,g=!1){const w="signIn",M=yield Qh(y,w,p),O=yield yi._fromIdTokenResponse(y,w,M);return g||(yield y._updateCurrentUser(O.user)),O})).apply(this,arguments)}function En(y,p){return Dt.apply(this,arguments)}function Dt(){return(Dt=(0,c.Z)(function*(y,p){return Mr(bn(y),p)})).apply(this,arguments)}function xl(y,p){return Xh.apply(this,arguments)}function Xh(){return(Xh=(0,c.Z)(function*(y,p){const g=(0,N.m9)(y);return yield Zt(!1,g,p.providerId),lo(g,p)})).apply(this,arguments)}function Al(y,p){return Ml.apply(this,arguments)}function Ml(){return(Ml=(0,c.Z)(function*(y,p){return co((0,N.m9)(y),p)})).apply(this,arguments)}function Vc(y,p){return ps.apply(this,arguments)}function ps(){return(ps=(0,c.Z)(function*(y,p){return Gi(y,"POST","/v1/accounts:signInWithCustomToken",Lt(y,p))})).apply(this,arguments)}function xa(){return(xa=(0,c.Z)(function*(y,p){const g=bn(y),w=yield Vc(g,{token:p,returnSecureToken:!0}),M=yield yi._fromIdTokenResponse(g,"signIn",w);return yield g._updateCurrentUser(M.user),M})).apply(this,arguments)}class xe{constructor(p,g){this.factorId=p,this.uid=g.mfaEnrollmentId,this.enrollmentTime=new Date(g.enrolledAt).toUTCString(),this.displayName=g.displayName}static _fromServerResponse(p,g){return"phoneInfo"in g?Ut._fromServerResponse(p,g):Ae(p,"internal-error")}}class Ut extends xe{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,g){return new Ut(g)}}function kl(y,p,g){var w;j((null===(w=g.url)||void 0===w?void 0:w.length)>0,y,"invalid-continue-uri"),j(typeof g.dynamicLinkDomain>"u"||g.dynamicLinkDomain.length>0,y,"invalid-dynamic-link-domain"),p.continueUrl=g.url,p.dynamicLinkDomain=g.dynamicLinkDomain,p.canHandleCodeInApp=g.handleCodeInApp,g.iOS&&(j(g.iOS.bundleId.length>0,y,"missing-ios-bundle-id"),p.iOSBundleId=g.iOS.bundleId),g.android&&(j(g.android.packageName.length>0,y,"missing-android-pkg-name"),p.androidInstallApp=g.android.installApp,p.androidMinimumVersionCode=g.android.minimumVersion,p.androidPackageName=g.android.packageName)}function Sn(){return(Sn=(0,c.Z)(function*(y,p,g){const w=(0,N.m9)(y),M={requestType:"PASSWORD_RESET",email:p};g&&kl(w,M,g),yield ui(w,M)})).apply(this,arguments)}function Uo(){return(Uo=(0,c.Z)(function*(y,p,g){yield $n((0,N.m9)(y),{oobCode:p,newPassword:g})})).apply(this,arguments)}function Aa(){return(Aa=(0,c.Z)(function*(y,p){yield Mc((0,N.m9)(y),{oobCode:p})})).apply(this,arguments)}function Ma(y,p){return Uc.apply(this,arguments)}function Uc(){return(Uc=(0,c.Z)(function*(y,p){const g=(0,N.m9)(y),w=yield $n(g,{oobCode:p}),M=w.requestType;switch(j(M,g,"internal-error"),M){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":j(w.newEmail,g,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":j(w.mfaInfo,g,"internal-error");default:j(w.email,g,"internal-error")}let O=null;return w.mfaInfo&&(O=xe._fromServerResponse(bn(g),w.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.newEmail:w.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.email:w.newEmail)||null,multiFactorInfo:O},operation:M}})).apply(this,arguments)}function id(){return(id=(0,c.Z)(function*(y,p){const{data:g}=yield Ma((0,N.m9)(y),p);return g.email})).apply(this,arguments)}function xn(){return(xn=(0,c.Z)(function*(y,p,g){const w=bn(y),M=yield Bo(w,{returnSecureToken:!0,email:p,password:g}),O=yield yi._fromIdTokenResponse(w,"signIn",M);return yield w._updateCurrentUser(O.user),O})).apply(this,arguments)}function ho(){return(ho=(0,c.Z)(function*(y,p,g){const w=(0,N.m9)(y),M={requestType:"EMAIL_SIGNIN",email:p};j(g.handleCodeInApp,w,"argument-error"),g&&kl(w,M,g),yield wl(w,M)})).apply(this,arguments)}function ka(){return(ka=(0,c.Z)(function*(y,p,g){const w=(0,N.m9)(y),M=$r.credentialWithLink(p,g||Oe());return j(M._tenantId===(w.tenantId||null),w,"tenant-id-mismatch"),En(w,M)})).apply(this,arguments)}function tm(y,p){return $c.apply(this,arguments)}function $c(){return($c=(0,c.Z)(function*(y,p){return rn(y,"POST","/v1/accounts:createAuthUri",Lt(y,p))})).apply(this,arguments)}function Ra(){return(Ra=(0,c.Z)(function*(y,p){const w={identifier:p,continueUri:ht()?Oe():"http://localhost"},{signinMethods:M}=yield tm((0,N.m9)(y),w);return M||[]})).apply(this,arguments)}function Oa(){return(Oa=(0,c.Z)(function*(y,p){const g=(0,N.m9)(y),M={requestType:"VERIFY_EMAIL",idToken:yield y.getIdToken()};p&&kl(g.auth,M,p);const{email:O}=yield Dn(g.auth,M);O!==y.email&&(yield y.reload())})).apply(this,arguments)}function Nl(){return(Nl=(0,c.Z)(function*(y,p,g){const w=(0,N.m9)(y),O={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield y.getIdToken(),newEmail:p};g&&kl(w.auth,O,g);const{email:K}=yield Rc(w.auth,O);K!==y.email&&(yield y.reload())})).apply(this,arguments)}function Fl(y,p){return qc.apply(this,arguments)}function qc(){return(qc=(0,c.Z)(function*(y,p){return rn(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Wc(){return(Wc=(0,c.Z)(function*(y,{displayName:p,photoURL:g}){if(void 0===p&&void 0===g)return;const w=(0,N.m9)(y),O={idToken:yield w.getIdToken(),displayName:p,photoUrl:g,returnSecureToken:!0},K=yield li(w,Fl(w.auth,O));w.displayName=K.displayName||null,w.photoURL=K.photoUrl||null;const de=w.providerData.find(({providerId:Ve})=>"password"===Ve);de&&(de.displayName=w.displayName,de.photoURL=w.photoURL),yield w._updateTokensIfNecessary(K)})).apply(this,arguments)}function po(y,p,g){return Ll.apply(this,arguments)}function Ll(){return(Ll=(0,c.Z)(function*(y,p,g){const{auth:w}=y,O={idToken:yield y.getIdToken(),returnSecureToken:!0};p&&(O.email=p),g&&(O.password=g);const K=yield li(y,cn(w,O));yield y._updateTokensIfNecessary(K,!0)})).apply(this,arguments)}class Wi{constructor(p,g,w={}){this.isNewUser=p,this.providerId=g,this.profile=w}}class _n extends Wi{constructor(p,g,w,M){super(p,g,w),this.username=M}}class sd extends Wi{constructor(p,g){super(p,"facebook.com",g)}}class Kc extends _n{constructor(p,g){super(p,"github.com",g,"string"==typeof g?.login?g?.login:null)}}class Jh extends Wi{constructor(p,g){super(p,"google.com",g)}}class Yc extends _n{constructor(p,g,w){super(p,"twitter.com",g,w)}}function Vl(y){const{user:p,_tokenResponse:g}=y;return p.isAnonymous&&!g?{providerId:null,isNewUser:!1,profile:null}:function Jn(y){var p,g;if(!y)return null;const{providerId:w}=y,M=y.rawUserInfo?JSON.parse(y.rawUserInfo):{},O=y.isNewUser||"identitytoolkit#SignupNewUserResponse"===y.kind;if(!w&&y?.idToken){const K=null===(g=null===(p=ct(y.idToken))||void 0===p?void 0:p.firebase)||void 0===g?void 0:g.sign_in_provider;if(K)return new Wi(O,"anonymous"!==K&&"custom"!==K?K:null)}if(!w)return null;switch(w){case"facebook.com":return new sd(O,M);case"github.com":return new Kc(O,M);case"google.com":return new Jh(O,M);case"twitter.com":return new Yc(O,M,y.screenName||null);case"custom":case"anonymous":return new Wi(O,null);default:return new Wi(O,w,M)}}(g)}class mo{constructor(p,g){this.type=p,this.credential=g}static _fromIdtoken(p){return new mo("enroll",p)}static _fromMfaPendingCredential(p){return new mo("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var g,w;if(p?.multiFactorSession){if(null!==(g=p.multiFactorSession)&&void 0!==g&&g.pendingCredential)return mo._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null!==(w=p.multiFactorSession)&&void 0!==w&&w.idToken)return mo._fromIdtoken(p.multiFactorSession.idToken)}return null}}class Bl{constructor(p,g,w){this.session=p,this.hints=g,this.signInResolver=w}static _fromError(p,g){const w=bn(p),M=g.customData._serverResponse,O=(M.mfaInfo||[]).map(de=>xe._fromServerResponse(w,de));j(M.mfaPendingCredential,w,"internal-error");const K=mo._fromMfaPendingCredential(M.mfaPendingCredential);return new Bl(K,O,function(){var de=(0,c.Z)(function*(Ve){const Je=yield Ve._process(w,K);delete M.mfaInfo,delete M.mfaPendingCredential;const yt=Object.assign(Object.assign({},M),{idToken:Je.idToken,refreshToken:Je.refreshToken});switch(g.operationType){case"signIn":const gt=yield yi._fromIdTokenResponse(w,g.operationType,yt);return yield w._updateCurrentUser(gt.user),gt;case"reauthenticate":return j(g.user,w,"internal-error"),yi._forOperation(g.user,g.operationType,yt);default:Ae(w,"internal-error")}});return function(Ve){return de.apply(this,arguments)}}())}resolveSignIn(p){var g=this;return(0,c.Z)(function*(){return g.signInResolver(p)})()}}function Ul(y,p){return rn(y,"POST","/v2/accounts/mfaEnrollment:start",Lt(y,p))}class ef{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(g=>{g.mfaInfo&&(this.enrolledFactors=g.mfaInfo.map(w=>xe._fromServerResponse(p.auth,w)))})}static _fromUser(p){return new ef(p)}getSession(){var p=this;return(0,c.Z)(function*(){return mo._fromIdtoken(yield p.user.getIdToken())})()}enroll(p,g){var w=this;return(0,c.Z)(function*(){const M=p,O=yield w.getSession(),K=yield li(w.user,M._process(w.user.auth,O,g));return yield w.user._updateTokensIfNecessary(K),w.user.reload()})()}unenroll(p){var g=this;return(0,c.Z)(function*(){var w;const M="string"==typeof p?p:p.uid,O=yield g.user.getIdToken(),K=yield li(g.user,function cd(y,p){return rn(y,"POST","/v2/accounts/mfaEnrollment:withdraw",Lt(y,p))}(g.user.auth,{idToken:O,mfaEnrollmentId:M}));g.enrolledFactors=g.enrolledFactors.filter(({uid:de})=>de!==M),yield g.user._updateTokensIfNecessary(K);try{yield g.user.reload()}catch(de){if("auth/user-token-expired"!==(null===(w=de)||void 0===w?void 0:w.code))throw de}})()}}const go=new WeakMap,_o="__sak";class jl{constructor(p,g){this.storageRetriever=p,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(_o,"1"),this.storage.removeItem(_o),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(p,g){return this.storage.setItem(p,JSON.stringify(g)),Promise.resolve()}_get(p){const g=this.storage.getItem(p);return Promise.resolve(g?JSON.parse(g):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const Na=(()=>{class y extends jl{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(g,w)=>this.onStorageEvent(g,w),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Pa(){const y=(0,N.z$)();return Un(y)||en(y)}()&&function vn(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=io(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const w of Object.keys(this.listeners)){const M=this.storage.getItem(w),O=this.localCache[w];M!==O&&g(w,O,M)}}onStorageEvent(g,w=!1){if(!g.key)return void this.forAllChangedKeys((de,Ve,Je)=>{this.notifyListeners(de,Je)});const M=g.key;if(w?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const de=this.storage.getItem(M);if(g.newValue!==de)null!==g.newValue?this.storage.setItem(M,g.newValue):this.storage.removeItem(M);else if(this.localCache[M]===g.newValue&&!w)return}const O=()=>{const de=this.storage.getItem(M);!w&&this.localCache[M]===de||this.notifyListeners(M,de)},K=this.storage.getItem(M);!function Qn(){return(0,N.w1)()&&10===document.documentMode}()||K===g.newValue||g.newValue===g.oldValue?O():setTimeout(O,10)}notifyListeners(g,w){this.localCache[g]=w;const M=this.listeners[g];if(M)for(const O of Array.from(M))O(w&&JSON.parse(w))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,w,M)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:w,newValue:M}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,w){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(w)}_removeListener(g,w){this.listeners[g]&&(this.listeners[g].delete(w),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,w){var M=()=>super._set,O=this;return(0,c.Z)(function*(){yield M().call(O,g,w),O.localCache[g]=JSON.stringify(w)})()}_get(g){var w=()=>super._get,M=this;return(0,c.Z)(function*(){const O=yield w().call(M,g);return M.localCache[g]=JSON.stringify(O),O})()}_remove(g){var w=()=>super._remove,M=this;return(0,c.Z)(function*(){yield w().call(M,g),delete M.localCache[g]})()}}return y.type="LOCAL",y})(),zr=(()=>{class y extends jl{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(g,w){}_removeListener(g,w){}}return y.type="SESSION",y})();let hd=(()=>{class y{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const w=this.receivers.find(O=>O.isListeningto(g));if(w)return w;const M=new y(g);return this.receivers.push(M),M}isListeningto(g){return this.eventTarget===g}handleEvent(g){var w=this;return(0,c.Z)(function*(){const M=g,{eventId:O,eventType:K,data:de}=M.data,Ve=w.handlersMap[K];if(!Ve?.size)return;M.ports[0].postMessage({status:"ack",eventId:O,eventType:K});const Je=Array.from(Ve).map(function(){var gt=(0,c.Z)(function*(ei){return ei(M.origin,de)});return function(ei){return gt.apply(this,arguments)}}()),yt=yield function La(y){return Promise.all(y.map(function(){var p=(0,c.Z)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(w){return{fulfilled:!1,reason:w}}});return function(g){return p.apply(this,arguments)}}()))}(Je);M.ports[0].postMessage({status:"done",eventId:O,eventType:K,response:yt})})()}_subscribe(g,w){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(w)}_unsubscribe(g,w){this.handlersMap[g]&&w&&this.handlersMap[g].delete(w),(!w||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return y.receivers=[],y})();function Va(y="",p=10){let g="";for(let w=0;w<p;w++)g+=Math.floor(10*Math.random());return y+g}class Xc{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,g,w=50){var M=this;return(0,c.Z)(function*(){const O=typeof MessageChannel<"u"?new MessageChannel:null;if(!O)throw new Error("connection_unavailable");let K,de;return new Promise((Ve,Je)=>{const yt=Va("",20);O.port1.start();const gt=setTimeout(()=>{Je(new Error("unsupported_event"))},w);de={messageChannel:O,onMessage(ei){const Is=ei;if(Is.data.eventId===yt)switch(Is.data.status){case"ack":clearTimeout(gt),K=setTimeout(()=>{Je(new Error("timeout"))},3e3);break;case"done":clearTimeout(K),Ve(Is.data.response);break;default:clearTimeout(gt),clearTimeout(K),Je(new Error("invalid_response"))}}},M.handlers.add(de),O.port1.addEventListener("message",de.onMessage),M.target.postMessage({eventType:p,eventId:yt,data:g},[O.port2])}).finally(()=>{de&&M.removeMessageHandler(de)})})()}}function Fn(){return window}function $l(){return typeof Fn().WorkerGlobalScope<"u"&&"function"==typeof Fn().importScripts}function Ba(){return(Ba=(0,c.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const js="firebaseLocalStorageDb",$s="firebaseLocalStorage",ql="fbase_key";class vo{constructor(p){this.request=p}toPromise(){return new Promise((p,g)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function Ua(y,p){return y.transaction([$s],p?"readwrite":"readonly").objectStore($s)}function zo(){const y=indexedDB.open(js,1);return new Promise((p,g)=>{y.addEventListener("error",()=>{g(y.error)}),y.addEventListener("upgradeneeded",()=>{const w=y.result;try{w.createObjectStore($s,{keyPath:ql})}catch(M){g(M)}}),y.addEventListener("success",(0,c.Z)(function*(){const w=y.result;w.objectStoreNames.contains($s)?p(w):(w.close(),yield function pd(){const y=indexedDB.deleteDatabase(js);return new vo(y).toPromise()}(),p(yield zo()))}))})}function gs(y,p,g){return Jc.apply(this,arguments)}function Jc(){return(Jc=(0,c.Z)(function*(y,p,g){const w=Ua(y,!0).put({[ql]:p,value:g});return new vo(w).toPromise()})).apply(this,arguments)}function Ha(){return(Ha=(0,c.Z)(function*(y,p){const g=Ua(y,!1).get(p),w=yield new vo(g).toPromise();return void 0===w?null:w.value})).apply(this,arguments)}function bo(y,p){const g=Ua(y,!0).delete(p);return new vo(g).toPromise()}const qo=(()=>{class y{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,c.Z)(function*(){return g.db||(g.db=yield zo()),g.db})()}_withRetries(g){var w=this;return(0,c.Z)(function*(){let M=0;for(;;)try{const O=yield w._openDb();return yield g(O)}catch(O){if(M++>3)throw O;w.db&&(w.db.close(),w.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,c.Z)(function*(){return $l()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,c.Z)(function*(){g.receiver=hd._getInstance(function zl(){return $l()?self:null}()),g.receiver._subscribe("keyChanged",function(){var w=(0,c.Z)(function*(M,O){return{keyProcessed:(yield g._poll()).includes(O.key)}});return function(M,O){return w.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var w=(0,c.Z)(function*(M,O){return["keyChanged"]});return function(M,O){return w.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,c.Z)(function*(){var w,M;if(g.activeServiceWorker=yield function yo(){return Ba.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new Xc(g.activeServiceWorker);const O=yield g.sender._send("ping",{},800);!O||(null===(w=O[0])||void 0===w?void 0:w.fulfilled)&&(null===(M=O[0])||void 0===M?void 0:M.value.includes("keyChanged"))&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var w=this;return(0,c.Z)(function*(){if(w.sender&&w.activeServiceWorker&&function Gl(){var y;return(null===(y=navigator?.serviceWorker)||void 0===y?void 0:y.controller)||null}()===w.activeServiceWorker)try{yield w.sender._send("keyChanged",{key:g},w.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,c.Z)(function*(){try{if(!indexedDB)return!1;const g=yield zo();return yield gs(g,_o,"1"),yield bo(g,_o),!0}catch{}return!1})()}_withPendingWrite(g){var w=this;return(0,c.Z)(function*(){w.pendingWrites++;try{yield g()}finally{w.pendingWrites--}})()}_set(g,w){var M=this;return(0,c.Z)(function*(){return M._withPendingWrite((0,c.Z)(function*(){return yield M._withRetries(O=>gs(O,g,w)),M.localCache[g]=w,M.notifyServiceWorker(g)}))})()}_get(g){var w=this;return(0,c.Z)(function*(){const M=yield w._withRetries(O=>function Zl(y,p){return Ha.apply(this,arguments)}(O,g));return w.localCache[g]=M,M})()}_remove(g){var w=this;return(0,c.Z)(function*(){return w._withPendingWrite((0,c.Z)(function*(){return yield w._withRetries(M=>bo(M,g)),delete w.localCache[g],w.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,c.Z)(function*(){const w=yield g._withRetries(K=>{const de=Ua(K,!1).getAll();return new vo(de).toPromise()});if(!w)return[];if(0!==g.pendingWrites)return[];const M=[],O=new Set;for(const{fbase_key:K,value:de}of w)O.add(K),JSON.stringify(g.localCache[K])!==JSON.stringify(de)&&(g.notifyListeners(K,de),M.push(K));for(const K of Object.keys(g.localCache))g.localCache[K]&&!O.has(K)&&(g.notifyListeners(K,null),M.push(K));return M})()}notifyListeners(g,w){this.localCache[g]=w;const M=this.listeners[g];if(M)for(const O of Array.from(M))O(w)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,c.Z)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,w){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(w)}_removeListener(g,w){this.listeners[g]&&(this.listeners[g].delete(w),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return y.type="LOCAL",y})();function Zo(y,p){return rn(y,"POST","/v2/accounts/mfaSignIn:start",Lt(y,p))}function Gs(){return(Gs=(0,c.Z)(function*(y){return(yield rn(y,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Ko(y){return new Promise((p,g)=>{const w=document.createElement("script");w.setAttribute("src",y),w.onload=p,w.onerror=M=>{const O=be("internal-error");O.customData=M,g(O)},w.type="text/javascript",w.charset="UTF-8",function Wo(){var y,p;return null!==(p=null===(y=document.getElementsByTagName("head"))||void 0===y?void 0:y[0])&&void 0!==p?p:document}().appendChild(w)})}function Yl(y){return`__${y}${Math.floor(1e6*Math.random())}`}const ja=1e12;class fn{constructor(p){this.auth=p,this.counter=ja,this._widgets=new Map}render(p,g){const w=this.counter;return this._widgets.set(w,new nm(p,this.auth.name,g||{})),this.counter++,w}reset(p){var g;const w=p||ja;null===(g=this._widgets.get(w))||void 0===g||g.delete(),this._widgets.delete(w)}getResponse(p){var g;return(null===(g=this._widgets.get(p||ja))||void 0===g?void 0:g.getResponse())||""}execute(p){var g=this;return(0,c.Z)(function*(){var w;return null===(w=g._widgets.get(p||ja))||void 0===w||w.execute(),""})()}}class nm{constructor(p,g,w){this.params=w,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const M="string"==typeof p?document.getElementById(p):p;j(M,"argument-error",{appName:g}),this.container=M,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function O_(y){const p=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let w=0;w<y;w++)p.push(g.charAt(Math.floor(Math.random()*g.length)));return p.join("")}(50);const{callback:p,"expired-callback":g}=this.params;if(p)try{p(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,g)try{g()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const im=Yl("rcb"),P_=new an(3e4,6e4);class tf{constructor(){var p;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(p=Fn().grecaptcha)||void 0===p||!p.render)}load(p,g=""){return j(function c0(y){return y.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(y)}(g),p,"argument-error"),this.shouldResolveImmediately(g)?Promise.resolve(Fn().grecaptcha):new Promise((w,M)=>{const O=Fn().setTimeout(()=>{M(be(p,"network-request-failed"))},P_.get());Fn()[im]=()=>{Fn().clearTimeout(O),delete Fn()[im];const de=Fn().grecaptcha;if(!de)return void M(be(p,"internal-error"));const Ve=de.render;de.render=(Je,yt)=>{const gt=Ve(Je,yt);return this.counter++,gt},this.hostLanguage=g,w(de)},Ko(`https://www.google.com/recaptcha/api.js??${(0,N.xO)({onload:im,render:"explicit",hl:g})}`).catch(()=>{clearTimeout(O),M(be(p,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){var g;return!(null===(g=Fn().grecaptcha)||void 0===g||!g.render)&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Co{load(p){return(0,c.Z)(function*(){return new fn(p)})()}clearedOneInstance(){}}const rm="recaptcha",sm={theme:"light",type:"image"};class hi{constructor(p,g=Object.assign({},sm),w){this.parameters=g,this.type=rm,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=bn(w),this.isInvisible="invisible"===this.parameters.size,j(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const M="string"==typeof p?document.getElementById(p):p;j(M,this.auth,"argument-error"),this.container=M,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Co:new tf,this.validateStartingState()}verify(){var p=this;return(0,c.Z)(function*(){p.assertNotDestroyed();const g=yield p.render(),w=p.getAssertedRecaptcha();return w.getResponse(g)||new Promise(O=>{const K=de=>{!de||(p.tokenChangeListeners.delete(K),O(de))};p.tokenChangeListeners.add(K),p.isInvisible&&w.execute(g)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){j(!this.parameters.sitekey,this.auth,"argument-error"),j(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),j(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return g=>{if(this.tokenChangeListeners.forEach(w=>w(g)),"function"==typeof p)p(g);else if("string"==typeof p){const w=Fn()[p];"function"==typeof w&&w(g)}}}assertNotDestroyed(){j(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,c.Z)(function*(){if(yield p.init(),!p.widgetId){let g=p.container;if(!p.isInvisible){const w=document.createElement("div");g.appendChild(w),g=w}p.widgetId=p.getAssertedRecaptcha().render(g,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,c.Z)(function*(){j(ht()&&!$l(),p.auth,"internal-error"),yield function un(){let y=null;return new Promise(p=>{"complete"!==document.readyState?(y=()=>p(),window.addEventListener("load",y)):p()}).catch(p=>{throw y&&window.removeEventListener("load",y),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const g=yield function Ki(y){return Gs.apply(this,arguments)}(p.auth);j(g,p.auth,"internal-error"),p.parameters.sitekey=g})()}getAssertedRecaptcha(){return j(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Ln{constructor(p,g){this.verificationId=p,this.onConfirmation=g}confirm(p){const g=Bs._fromVerification(this.verificationId,p);return this.onConfirmation(g)}}function Ql(){return(Ql=(0,c.Z)(function*(y,p,g){const w=bn(y),M=yield Oi(w,p,(0,N.m9)(g));return new Ln(M,O=>En(w,O))})).apply(this,arguments)}function Rr(){return(Rr=(0,c.Z)(function*(y,p,g){const w=(0,N.m9)(y);yield Zt(!1,w,"phone");const M=yield Oi(w.auth,p,(0,N.m9)(g));return new Ln(M,O=>xl(w,O))})).apply(this,arguments)}function Qo(){return(Qo=(0,c.Z)(function*(y,p,g){const w=(0,N.m9)(y),M=yield Oi(w.auth,p,(0,N.m9)(g));return new Ln(M,O=>Al(w,O))})).apply(this,arguments)}function Oi(y,p,g){return ys.apply(this,arguments)}function ys(){return(ys=(0,c.Z)(function*(y,p,g){var w;const M=yield g.verify();try{let O;if(j("string"==typeof M,y,"argument-error"),j(g.type===rm,y,"argument-error"),O="string"==typeof p?{phoneNumber:p}:p,"session"in O){const K=O.session;if("phoneNumber"in O)return j("enroll"===K.type,y,"internal-error"),(yield Ul(y,{idToken:K.credential,phoneEnrollmentInfo:{phoneNumber:O.phoneNumber,recaptchaToken:M}})).phoneSessionInfo.sessionInfo;{j("signin"===K.type,y,"internal-error");const de=(null===(w=O.multiFactorHint)||void 0===w?void 0:w.uid)||O.multiFactorUid;return j(de,y,"missing-multi-factor-info"),(yield Zo(y,{mfaPendingCredential:K.credential,mfaEnrollmentId:de,phoneSignInInfo:{recaptchaToken:M}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:K}=yield Yp(y,{phoneNumber:O.phoneNumber,recaptchaToken:M});return K}}finally{g._reset()}})).apply(this,arguments)}function nt(){return(nt=(0,c.Z)(function*(y,p){yield lo((0,N.m9)(y),p)})).apply(this,arguments)}let Xl=(()=>{class y{constructor(g){this.providerId=y.PROVIDER_ID,this.auth=bn(g)}verifyPhoneNumber(g,w){return Oi(this.auth,g,(0,N.m9)(w))}static credential(g,w){return Bs._fromVerification(g,w)}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{phoneNumber:w,temporaryProof:M}=g;return w&&M?Bs._fromTokenResponse(w,M):null}}return y.PROVIDER_ID="phone",y.PHONE_SIGN_IN_METHOD="phone",y})();function Xo(y,p){return p?ae(p):(j(y._popupRedirectResolver,y,"argument-error"),y._popupRedirectResolver)}class Jo extends _i{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return Xn(p,this._buildIdpRequest())}_linkToIdToken(p,g){return Xn(p,this._buildIdpRequest(g))}_getReauthenticationResolver(p){return Xn(p,this._buildIdpRequest())}_buildIdpRequest(p){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(g.idToken=p),g}}function Pi(y){return Mr(y.auth,new Jo(y),y.bypassAuthState)}function ea(y){const{auth:p,user:g}=y;return j(g,p,"internal-error"),co(g,new Jo(y),y.bypassAuthState)}function vs(y){return qr.apply(this,arguments)}function qr(){return(qr=(0,c.Z)(function*(y){const{auth:p,user:g}=y;return j(g,p,"internal-error"),lo(g,new Jo(y),y.bypassAuthState)})).apply(this,arguments)}class Ni{constructor(p,g,w,M,O=!1){this.auth=p,this.resolver=w,this.user=M,this.bypassAuthState=O,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var p=this;return new Promise(function(){var g=(0,c.Z)(function*(w,M){p.pendingPromise={resolve:w,reject:M};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(O){p.reject(O)}});return function(w,M){return g.apply(this,arguments)}}())}onAuthEvent(p){var g=this;return(0,c.Z)(function*(){const{urlResponse:w,sessionId:M,postBody:O,tenantId:K,error:de,type:Ve}=p;if(de)return void g.reject(de);const Je={auth:g.auth,requestUri:w,sessionId:M,tenantId:K||void 0,postBody:O||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask(Ve)(Je))}catch(yt){g.reject(yt)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return Pi;case"linkViaPopup":case"linkViaRedirect":return vs;case"reauthViaPopup":case"reauthViaRedirect":return ea;default:Ae(this.auth,"internal-error")}}resolve(p){Q(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){Q(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const nu=new an(2e3,1e4);function $a(){return($a=(0,c.Z)(function*(y,p,g){const w=bn(y);He(y,p,us);const M=Xo(w,g);return new Qi(w,"signInViaPopup",p,M).executeNotNull()})).apply(this,arguments)}function md(){return(md=(0,c.Z)(function*(y,p,g){const w=(0,N.m9)(y);He(w.auth,p,us);const M=Xo(w.auth,g);return new Qi(w.auth,"reauthViaPopup",p,M,w).executeNotNull()})).apply(this,arguments)}function Ga(){return(Ga=(0,c.Z)(function*(y,p,g){const w=(0,N.m9)(y);He(w.auth,p,us);const M=Xo(w.auth,g);return new Qi(w.auth,"linkViaPopup",p,M,w).executeNotNull()})).apply(this,arguments)}let Qi=(()=>{class y extends Ni{constructor(g,w,M,O,K){super(g,w,O,K),this.provider=M,this.authWindow=null,this.pollId=null,y.currentPopupAction&&y.currentPopupAction.cancel(),y.currentPopupAction=this}executeNotNull(){var g=this;return(0,c.Z)(function*(){const w=yield g.execute();return j(w,g.auth,"internal-error"),w})()}onExecution(){var g=this;return(0,c.Z)(function*(){Q(1===g.filter.length,"Popup operations only handle one event");const w=Va();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],w),g.authWindow.associatedEvent=w,g.resolver._originValidation(g.auth).catch(M=>{g.reject(M)}),g.resolver._isIframeWebStorageSupported(g.auth,M=>{M||g.reject(be(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(be(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,y.currentPopupAction=null}pollUserCancellation(){const g=()=>{var w,M;this.pollId=null!==(M=null===(w=this.authWindow)||void 0===w?void 0:w.window)&&void 0!==M&&M.closed?window.setTimeout(()=>{this.pollId=null,this.reject(be(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(g,nu.get())};g()}}return y.currentPopupAction=null,y})();const pn=new Map;class Zr extends Ni{constructor(p,g,w=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,w),this.eventId=null}execute(){var p=()=>super.execute,g=this;return(0,c.Z)(function*(){let w=pn.get(g.auth._key());if(!w){try{const O=(yield function ec(y,p){return zs.apply(this,arguments)}(g.resolver,g.auth))?yield p().call(g):null;w=()=>Promise.resolve(O)}catch(M){w=()=>Promise.reject(M)}pn.set(g.auth._key(),w)}return g.bypassAuthState||pn.set(g.auth._key(),()=>Promise.resolve(null)),w()})()}onAuthEvent(p){var g=()=>super.onAuthEvent,w=this;return(0,c.Z)(function*(){if("signInViaRedirect"===p.type)return g().call(w,p);if("unknown"!==p.type){if(p.eventId){const M=yield w.auth._redirectUserForId(p.eventId);if(M)return w.user=M,g().call(w,p);w.resolve(null)}}else w.resolve(null)})()}onExecution(){return(0,c.Z)(function*(){})()}cleanUp(){}}function zs(){return(zs=(0,c.Z)(function*(y,p){const g=ru(p),w=bs(y);if(!(yield w._isAvailable()))return!1;const M="true"===(yield w._get(g));return yield w._remove(g),M})).apply(this,arguments)}function tc(y,p){return Wr.apply(this,arguments)}function Wr(){return(Wr=(0,c.Z)(function*(y,p){return bs(y)._set(ru(p),"true")})).apply(this,arguments)}function Eo(y,p){pn.set(y._key(),p)}function bs(y){return ae(y._redirectPersistence)}function ru(y){return Yn("pendingRedirect",y.config.apiKey,y.name)}function D(){return(D=(0,c.Z)(function*(y,p,g){const w=bn(y);He(y,p,us);const M=Xo(w,g);return yield tc(M,w),M._openRedirect(w,p,"signInViaRedirect")})).apply(this,arguments)}function V(){return(V=(0,c.Z)(function*(y,p,g){const w=(0,N.m9)(y);He(w.auth,p,us);const M=Xo(w.auth,g);yield tc(M,w.auth);const O=yield ft(w);return M._openRedirect(w.auth,p,"reauthViaRedirect",O)})).apply(this,arguments)}function Se(){return(Se=(0,c.Z)(function*(y,p,g){const w=(0,N.m9)(y);He(w.auth,p,us);const M=Xo(w.auth,g);yield Zt(!1,w,p.providerId),yield tc(M,w.auth);const O=yield ft(w);return M._openRedirect(w.auth,p,"linkViaRedirect",O)})).apply(this,arguments)}function ut(){return(ut=(0,c.Z)(function*(y,p){return yield bn(y)._initializationPromise,vt(y,p,!1)})).apply(this,arguments)}function vt(y,p){return xt.apply(this,arguments)}function xt(){return(xt=(0,c.Z)(function*(y,p,g=!1){const w=bn(y),M=Xo(w,p),K=yield new Zr(w,M,g).execute();return K&&!g&&(delete K.user._redirectEventId,yield w._persistUserIfCurrent(K.user),yield w._setRedirectUser(null,p)),K})).apply(this,arguments)}function ft(y){return wn.apply(this,arguments)}function wn(){return(wn=(0,c.Z)(function*(y){const p=Va(`${y.uid}:::`);return y._redirectEventId=p,yield y.auth._setRedirectUser(y),yield y.auth._persistUserIfCurrent(y),p})).apply(this,arguments)}class qs{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let g=!1;return this.consumers.forEach(w=>{this.isEventForConsumer(p,w)&&(g=!0,this.sendToConsumer(p,w),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function Io(y){switch(y.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Zs(y);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=p,g=!0)),g}sendToConsumer(p,g){var w;if(p.error&&!Zs(p)){const M=(null===(w=p.error.code)||void 0===w?void 0:w.split("auth/")[1])||"internal-error";g.onError(be(this.auth,M))}else g.onAuthEvent(p)}isEventForConsumer(p,g){const w=null===g.eventId||!!p.eventId&&p.eventId===g.eventId;return g.filter.includes(p.type)&&w}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(ws(p))}saveEventToCache(p){this.cachedEventUids.add(ws(p)),this.lastProcessedEventTime=Date.now()}}function ws(y){return[y.type,y.eventId,y.sessionId,y.tenantId].filter(p=>p).join("-")}function Zs({type:y,error:p}){return"unknown"===y&&"auth/no-auth-event"===p?.code}function Cs(y){return kn.apply(this,arguments)}function kn(){return(kn=(0,c.Z)(function*(y,p={}){return rn(y,"GET","/v1/projects",p)})).apply(this,arguments)}const Xi=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ws=/^https?/;function F_(){return(F_=(0,c.Z)(function*(y){if(y.config.emulator)return;const{authorizedDomains:p}=yield Cs(y);for(const g of p)try{if(sf(g))return}catch{}Ae(y,"unauthorized-domain")})).apply(this,arguments)}function sf(y){const p=Oe(),{protocol:g,hostname:w}=new URL(p);if(y.startsWith("chrome-extension://")){const K=new URL(y);return""===K.hostname&&""===w?"chrome-extension:"===g&&y.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===g&&K.hostname===w}if(!Ws.test(g))return!1;if(Xi.test(y))return w===y;const M=y.replace(/\./g,"\\.");return new RegExp("^(.+\\."+M+"|"+M+")$","i").test(w)}const L_=new an(3e4,6e4);function yd(){const y=Fn().___jsl;if(y?.H)for(const p of Object.keys(y.H))if(y.H[p].r=y.H[p].r||[],y.H[p].L=y.H[p].L||[],y.H[p].r=[...y.H[p].L],y.CP)for(let g=0;g<y.CP.length;g++)y.CP[g]=null}let su=null;function af(y){return su=su||function za(y){return new Promise((p,g)=>{var w,M,O;function K(){yd(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{yd(),g(be(y,"network-request-failed"))},timeout:L_.get()})}if(null!==(M=null===(w=Fn().gapi)||void 0===w?void 0:w.iframes)&&void 0!==M&&M.Iframe)p(gapi.iframes.getContext());else{if(null===(O=Fn().gapi)||void 0===O||!O.load){const de=Yl("iframefcb");return Fn()[de]=()=>{gapi.load?K():g(be(y,"network-request-failed"))},Ko(`https://apis.google.com/js/api.js?onload=${de}`).catch(Ve=>g(Ve))}K()}}).catch(p=>{throw su=null,p})}(y),su}const am=new an(5e3,15e3),ZI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},lm=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function u0(y){const p=y.config;j(p.authDomain,y,"auth-domain-config-required");const g=p.emulator?On(p,"emulator/auth/iframe"):`https://${y.config.authDomain}/__/auth/iframe`,w={apiKey:p.apiKey,appName:y.name,v:le.SDK_VERSION},M=lm.get(y.config.apiHost);M&&(w.eid=M);const O=y._getFrameworks();return O.length&&(w.fw=O.join(",")),`${g}?${(0,N.xO)(w).slice(1)}`}function ou(){return ou=(0,c.Z)(function*(y){const p=yield af(y),g=Fn().gapi;return j(g,y,"internal-error"),p.open({where:document.body,url:u0(y),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ZI,dontclear:!0},w=>new Promise(function(){var M=(0,c.Z)(function*(O,K){yield w.restyle({setHideOnLeave:!1});const de=be(y,"network-request-failed"),Ve=Fn().setTimeout(()=>{K(de)},am.get());function Je(){Fn().clearTimeout(Ve),O(w)}w.ping(Je).then(Je,()=>{K(de)})});return function(O,K){return M.apply(this,arguments)}}()))}),ou.apply(this,arguments)}const lf={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Za{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Es(y,p,g,w,M,O){j(y.config.authDomain,y,"auth-domain-config-required"),j(y.config.apiKey,y,"invalid-api-key");const K={apiKey:y.config.apiKey,appName:y.name,authType:g,redirectUrl:w,v:le.SDK_VERSION,eventId:M};if(p instanceof us){p.setDefaultLanguage(y.languageCode),K.providerId=p.providerId||"",(0,N.xb)(p.getCustomParameters())||(K.customParameters=JSON.stringify(p.getCustomParameters()));for(const[Ve,Je]of Object.entries(O||{}))K[Ve]=Je}if(p instanceof ds){const Ve=p.getScopes().filter(Je=>""!==Je);Ve.length>0&&(K.scopes=Ve.join(","))}y.tenantId&&(K.tid=y.tenantId);const de=K;for(const Ve of Object.keys(de))void 0===de[Ve]&&delete de[Ve];return`${function cm({config:y}){return y.emulator?On(y,"emulator/auth/handler"):`https://${y.authDomain}/__/auth/handler`}(y)}?${(0,N.xO)(de).slice(1)}`}const lu="webStorageSupport";class Kr extends class dm{constructor(p){this.factorId=p}_process(p,g,w){switch(g.type){case"enroll":return this._finalizeEnroll(p,g.credential,w);case"signin":return this._finalizeSignIn(p,g.credential);default:return ye("unexpected MultiFactorSessionType")}}}{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new Kr(p)}_finalizeEnroll(p,g,w){return function Hl(y,p){return rn(y,"POST","/v2/accounts/mfaEnrollment:finalize",Lt(y,p))}(p,{idToken:g,displayName:w,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,g){return function Kl(y,p){return rn(y,"POST","/v2/accounts/mfaSignIn:finalize",Lt(y,p))}(p,{mfaPendingCredential:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Ya=(()=>{class y{constructor(){}static assertion(g){return Kr._fromCredential(g)}}return y.FACTOR_ID="phone",y})();var vd="@firebase/auth";class h0{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var g=this;return(0,c.Z)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const g=this.auth.onIdTokenChanged(w=>{var M;p((null===(M=w)||void 0===M?void 0:M.stsTokenManager.accessToken)||null)});this.internalListeners.set(p,g),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const g=this.internalListeners.get(p);!g||(this.internalListeners.delete(p),g(),this.updateProactiveRefresh())}assertAuthConfigured(){j(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Yr(){return window}function uf(){return(uf=(0,c.Z)(function*(y,p,g){var w;const{BuildInfo:M}=Yr();Q(p.sessionId,"AuthEvent did not contain a session ID");const O=yield hf(p.sessionId),K={};return en()?K.ibi=M.packageName:Hn()?K.apn=M.packageName:Ae(y,"operation-not-supported-in-this-environment"),M.displayName&&(K.appDisplayName=M.displayName),K.sessionId=O,Es(y,g,p.type,void 0,null!==(w=p.eventId)&&void 0!==w?w:void 0,K)})).apply(this,arguments)}function Ks(){return(Ks=(0,c.Z)(function*(y){const{BuildInfo:p}=Yr(),g={};en()?g.iosBundleId=p.packageName:Hn()?g.androidPackageName=p.packageName:Ae(y,"operation-not-supported-in-this-environment"),yield Cs(y,g)})).apply(this,arguments)}function na(){return(na=(0,c.Z)(function*(y,p,g){const{cordova:w}=Yr();let M=()=>{};try{yield new Promise((O,K)=>{let de=null;function Ve(){var gt;O();const ei=null===(gt=w.plugins.browsertab)||void 0===gt?void 0:gt.close;"function"==typeof ei&&ei(),"function"==typeof g?.close&&g.close()}function Je(){de||(de=window.setTimeout(()=>{K(be(y,"redirect-cancelled-by-user"))},2e3))}function yt(){"visible"===document?.visibilityState&&Je()}p.addPassiveListener(Ve),document.addEventListener("resume",Je,!1),Hn()&&document.addEventListener("visibilitychange",yt,!1),M=()=>{p.removePassiveListener(Ve),document.removeEventListener("resume",Je,!1),document.removeEventListener("visibilitychange",yt,!1),de&&window.clearTimeout(de)}})}finally{M()}})).apply(this,arguments)}function hf(y){return Cd.apply(this,arguments)}function Cd(){return(Cd=(0,c.Z)(function*(y){const p=WI(y),g=yield crypto.subtle.digest("SHA-256",p);return Array.from(new Uint8Array(g)).map(M=>M.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function WI(y){if(Q(/[0-9a-zA-Z]+/.test(y),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(y);const p=new ArrayBuffer(y.length),g=new Uint8Array(p);for(let w=0;w<y.length;w++)g[w]=y.charCodeAt(w);return g}!function f0(y){(0,le._registerComponent)(new ie.wA("auth",(p,{options:g})=>{const w=p.getProvider("app").getImmediate(),M=p.getProvider("heartbeat"),{apiKey:O,authDomain:K}=w.options;return((de,Ve)=>{j(O&&!O.includes(":"),"invalid-api-key",{appName:de.name}),j(!K?.includes(":"),"argument-error",{appName:de.name});const Je={apiKey:O,authDomain:K,clientPlatform:y,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ps(y)},yt=new Pt(de,Ve,Je);return function Ne(y,p){const g=p?.persistence||[],w=(Array.isArray(g)?g:[g]).map(ae);p?.errorMap&&y._updateErrorMap(p.errorMap),y._initializeWithPersistence(w,p?.popupRedirectResolver)}(yt,g),yt})(w,M)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,g,w)=>{p.getProvider("auth-internal").initialize()})),(0,le._registerComponent)(new ie.wA("auth-internal",p=>{const g=bn(p.getProvider("auth").getImmediate());return new h0(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,le.registerVersion)(vd,"0.20.6",function $_(y){switch(y){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(y)),(0,le.registerVersion)(vd,"0.20.6","esm2017")}("Browser");class G_ extends qs{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(p=>{this.resolveInialized=p})}addPassiveListener(p){this.passiveListeners.add(p)}removePassiveListener(p){this.passiveListeners.delete(p)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(p){return this.resolveInialized(),this.passiveListeners.forEach(g=>g(p)),super.onEvent(p)}initialized(){var p=this;return(0,c.Z)(function*(){yield p.initPromise})()}}function Ed(y){return ff.apply(this,arguments)}function ff(){return(ff=(0,c.Z)(function*(y){const p=yield _m()._get(pf(y));return p&&(yield _m()._remove(pf(y))),p})).apply(this,arguments)}function gm(){const y=[],p="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let g=0;g<20;g++){const w=Math.floor(Math.random()*p.length);y.push(p.charAt(w))}return y.join("")}function _m(){return ae(Na)}function pf(y){return Yn("authEvent",y.config.apiKey,y.name)}function ic(y){if(!y?.includes("?"))return{};const[p,...g]=y.split("?");return(0,N.zd)(g.join("?"))}function vm(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:be("no-auth-event")}}function fu(){var y;return(null===(y=self?.location)||void 0===y?void 0:y.protocol)||null}function _f(y=(0,N.z$)()){return!("file:"!==fu()&&"ionic:"!==fu()&&"capacitor:"!==fu()||!y.toLowerCase().match(/iphone|ipad|ipod|android/))}function W_(){try{const y=self.localStorage,p=Va();if(y)return y.setItem(p,"1"),y.removeItem(p),!function g0(y=(0,N.z$)()){return function wm(){return(0,N.w1)()&&11===document?.documentMode}()||function Id(y=(0,N.z$)()){return/Edge\/\d+/.test(y)}(y)}()||(0,N.hl)()}catch{return ia()&&(0,N.hl)()}return!1}function ia(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function pu(){return(function q_(){return"http:"===fu()||"https:"===fu()}()||(0,N.ru)()||_f())&&!function Z_(){return(0,N.b$)()||(0,N.UG)()}()&&W_()&&!ia()}function Cm(){return _f()&&typeof document<"u"}function Dd(){return(Dd=(0,c.Z)(function*(){return!!Cm()&&new Promise(y=>{const p=setTimeout(()=>{y(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(p),y(!0)})})})).apply(this,arguments)}const hr={LOCAL:"local",NONE:"none",SESSION:"session"},Qa=j,mu="persistence";function Td(y){return gu.apply(this,arguments)}function gu(){return(gu=(0,c.Z)(function*(y){yield y._initializationPromise;const p=vf(),g=Yn(mu,y.config.apiKey,y.name);p&&p.setItem(g,y._getPersistence())})).apply(this,arguments)}function vf(){var y;try{return(null===(y=function Em(){return typeof window<"u"?window:null}())||void 0===y?void 0:y.sessionStorage)||null}catch{return null}}const Do=j;class ra{constructor(){this.browserResolver=ae(class um{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=zr,this._completeRedirectFn=vt,this._overrideRedirectResult=Eo}_openPopup(p,g,w,M){var O=this;return(0,c.Z)(function*(){var K;Q(null===(K=O.eventManagers[p._key()])||void 0===K?void 0:K.manager,"_initialize() not called before _openPopup()");const de=Es(p,g,w,Oe(),M);return function Wa(y,p,g,w=500,M=600){const O=Math.max((window.screen.availHeight-M)/2,0).toString(),K=Math.max((window.screen.availWidth-w)/2,0).toString();let de="";const Ve=Object.assign(Object.assign({},lf),{width:w.toString(),height:M.toString(),top:O,left:K}),Je=(0,N.z$)().toLowerCase();g&&(de=Hr(Je)?"_blank":g),yn(Je)&&(p=p||"http://localhost",Ve.scrollbars="yes");const yt=Object.entries(Ve).reduce((ei,[Is,sc])=>`${ei}${Is}=${sc},`,"");if(function xr(y=(0,N.z$)()){var p;return en(y)&&!(null===(p=window.navigator)||void 0===p||!p.standalone)}(Je)&&"_self"!==de)return function au(y,p){const g=document.createElement("a");g.href=y,g.target=p;const w=document.createEvent("MouseEvent");w.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(w)}(p||"",de),new Za(null);const gt=window.open(p||"",de,yt);j(gt,y,"popup-blocked");try{gt.focus()}catch{}return new Za(gt)}(p,de,Va())})()}_openRedirect(p,g,w,M){var O=this;return(0,c.Z)(function*(){return yield O._originValidation(p),function kr(y){Fn().location.href=y}(Es(p,g,w,Oe(),M)),new Promise(()=>{})})()}_initialize(p){const g=p._key();if(this.eventManagers[g]){const{manager:M,promise:O}=this.eventManagers[g];return M?Promise.resolve(M):(Q(O,"If manager is not set, promise should be"),O)}const w=this.initAndGetManager(p);return this.eventManagers[g]={promise:w},w.catch(()=>{delete this.eventManagers[g]}),w}initAndGetManager(p){var g=this;return(0,c.Z)(function*(){const w=yield function B_(y){return ou.apply(this,arguments)}(p),M=new qs(p);return w.register("authEvent",O=>(j(O?.authEvent,p,"invalid-auth-event"),{status:M.onEvent(O.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[p._key()]={manager:M},g.iframes[p._key()]=w,M})()}_isIframeWebStorageSupported(p,g){this.iframes[p._key()].send(lu,{type:lu},M=>{var O;const K=null===(O=M?.[0])||void 0===O?void 0:O[lu];void 0!==K&&g(!!K),Ae(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const g=p._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function rf(y){return F_.apply(this,arguments)}(p)),this.originValidationPromises[g]}get _shouldInitProactively(){return io()||Un()||en()}}),this.cordovaResolver=ae(class gf{constructor(){this._redirectPersistence=zr,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=vt,this._overrideRedirectResult=Eo}_initialize(p){var g=this;return(0,c.Z)(function*(){const w=p._key();let M=g.eventManagers.get(w);return M||(M=new G_(p),g.eventManagers.set(w,M),g.attachCallbackListeners(p,M)),M})()}_openPopup(p){Ae(p,"operation-not-supported-in-this-environment")}_openRedirect(p,g,w,M){var O=this;return(0,c.Z)(function*(){!function fm(y){var p,g,w,M,O,K,de,Ve,Je,yt;const gt=Yr();j("function"==typeof(null===(p=gt?.universalLinks)||void 0===p?void 0:p.subscribe),y,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),j(typeof(null===(g=gt?.BuildInfo)||void 0===g?void 0:g.packageName)<"u",y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),j("function"==typeof(null===(O=null===(M=null===(w=gt?.cordova)||void 0===w?void 0:w.plugins)||void 0===M?void 0:M.browsertab)||void 0===O?void 0:O.openUrl),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),j("function"==typeof(null===(Ve=null===(de=null===(K=gt?.cordova)||void 0===K?void 0:K.plugins)||void 0===de?void 0:de.browsertab)||void 0===Ve?void 0:Ve.isAvailable),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),j("function"==typeof(null===(yt=null===(Je=gt?.cordova)||void 0===Je?void 0:Je.InAppBrowser)||void 0===yt?void 0:yt.open),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(p);const K=yield O._initialize(p);yield K.initialized(),K.resetRedirect(),function gd(){pn.clear()}(),yield O._originValidation(p);const de=function pm(y,p,g=null){return{type:p,eventId:g,urlResponse:null,sessionId:gm(),postBody:null,tenantId:y.tenantId,error:be(y,"no-auth-event")}}(p,w,M);yield function uu(y,p){return _m()._set(pf(y),p)}(p,de);const Ve=yield function wd(y,p,g){return uf.apply(this,arguments)}(p,de,g),Je=yield function hm(y){const{cordova:p}=Yr();return new Promise(g=>{p.plugins.browsertab.isAvailable(w=>{let M=null;w?p.plugins.browsertab.openUrl(y):M=p.InAppBrowser.open(y,function ar(y=(0,N.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(y)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(y)}()?"_blank":"_system","location=yes"),g(M)})})}(Ve);return function Ys(y,p,g){return na.apply(this,arguments)}(p,K,Je)})()}_isIframeWebStorageSupported(p,g){throw new Error("Method not implemented.")}_originValidation(p){const g=p._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function df(y){return Ks.apply(this,arguments)}(p)),this.originValidationPromises[g]}attachCallbackListeners(p,g){const{universalLinks:w,handleOpenURL:M,BuildInfo:O}=Yr(),K=setTimeout((0,c.Z)(function*(){yield Ed(p),g.onEvent(vm())}),500),de=function(){var yt=(0,c.Z)(function*(gt){clearTimeout(K);const ei=yield Ed(p);let Is=null;ei&&gt?.url&&(Is=function mm(y,p){var g,w;const M=function mf(y){const p=ic(y),g=p.link?decodeURIComponent(p.link):void 0,w=ic(g).link,M=p.deep_link_id?decodeURIComponent(p.deep_link_id):void 0;return ic(M).link||M||w||g||y}(p);if(M.includes("/__/auth/callback")){const O=ic(M),K=O.firebaseError?function du(y){try{return JSON.parse(y)}catch{return null}}(decodeURIComponent(O.firebaseError)):null,de=null===(w=null===(g=K?.code)||void 0===g?void 0:g.split("auth/"))||void 0===w?void 0:w[1],Ve=de?be(de):null;return Ve?{type:y.type,eventId:y.eventId,tenantId:y.tenantId,error:Ve,urlResponse:null,sessionId:null,postBody:null}:{type:y.type,eventId:y.eventId,tenantId:y.tenantId,sessionId:y.sessionId,urlResponse:M,postBody:null}}return null}(ei,gt.url)),g.onEvent(Is||vm())});return function(ei){return yt.apply(this,arguments)}}();typeof w<"u"&&"function"==typeof w.subscribe&&w.subscribe(null,de);const Ve=M,Je=`${O.packageName.toLowerCase()}://`;Yr().handleOpenURL=function(){var yt=(0,c.Z)(function*(gt){if(gt.toLowerCase().startsWith(Je)&&de({url:gt}),"function"==typeof Ve)try{Ve(gt)}catch(ei){console.error(ei)}});return function(gt){return yt.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=zr,this._completeRedirectFn=vt,this._overrideRedirectResult=Eo}_initialize(p){var g=this;return(0,c.Z)(function*(){return yield g.selectUnderlyingResolver(),g.assertedUnderlyingResolver._initialize(p)})()}_openPopup(p,g,w,M){var O=this;return(0,c.Z)(function*(){return yield O.selectUnderlyingResolver(),O.assertedUnderlyingResolver._openPopup(p,g,w,M)})()}_openRedirect(p,g,w,M){var O=this;return(0,c.Z)(function*(){return yield O.selectUnderlyingResolver(),O.assertedUnderlyingResolver._openRedirect(p,g,w,M)})()}_isIframeWebStorageSupported(p,g){this.assertedUnderlyingResolver._isIframeWebStorageSupported(p,g)}_originValidation(p){return this.assertedUnderlyingResolver._originValidation(p)}get _shouldInitProactively(){return Cm()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Do(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var p=this;return(0,c.Z)(function*(){if(p.underlyingResolver)return;const g=yield function yf(){return Dd.apply(this,arguments)}();p.underlyingResolver=g?p.cordovaResolver:p.browserResolver})()}}function rc(y){return y.unwrap()}function K_(y){return yu(y)}function yu(y){const{_tokenResponse:p}=y instanceof N.ZR?y.customData:y;if(!p)return null;if(!(y instanceof N.ZR)&&"temporaryProof"in p&&"phoneNumber"in p)return Xl.credentialFromResult(y);const g=p.providerId;if(!g||"password"===g)return null;let w;switch(g){case"google.com":w=El;break;case"facebook.com":w=Ta;break;case"github.com":w=Fc;break;case"twitter.com":w=Zi;break;default:const{oauthIdToken:M,oauthAccessToken:O,oauthTokenSecret:K,pendingToken:de,nonce:Ve}=p;return O||K||M||de?de?g.startsWith("saml.")?lr._create(g,de):cs._fromParams({providerId:g,signInMethod:g,pendingToken:de,idToken:M,accessToken:O}):new ao(g).credential({idToken:M,accessToken:O,rawNonce:Ve}):null}return y instanceof N.ZR?w.credentialFromError(y):w.credentialFromResult(y)}function zn(y,p){return p.catch(g=>{throw g instanceof N.ZR&&function xd(y,p){var g,w;const M=null===(g=p.customData)||void 0===g?void 0:g._tokenResponse;if("auth/multi-factor-auth-required"===(null===(w=p)||void 0===w?void 0:w.code))p.resolver=new Im(y,function An(y,p){var g;const w=(0,N.m9)(y),M=p;return j(p.customData.operationType,w,"argument-error"),j(null===(g=M.customData._serverResponse)||void 0===g?void 0:g.mfaPendingCredential,w,"argument-error"),Bl._fromError(w,M)}(y,p));else if(M){const O=yu(p),K=p;O&&(K.credential=O,K.tenantId=M.tenantId||void 0,K.email=M.email||void 0,K.phoneNumber=M.phoneNumber||void 0)}}(y,g),g}).then(g=>{const M=g.user;return{operationType:g.operationType,credential:K_(g),additionalUserInfo:Vl(g),user:To.getOrCreate(M)}})}function Ad(y,p){return sa.apply(this,arguments)}function sa(){return(sa=(0,c.Z)(function*(y,p){const g=yield p;return{verificationId:g.verificationId,confirm:w=>zn(y,g.confirm(w))}})).apply(this,arguments)}class Im{constructor(p,g){this.resolver=g,this.auth=function _u(y){return y.wrapped()}(p)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(p){return zn(rc(this.auth),this.resolver.resolveSignIn(p))}}class To{constructor(p){this._delegate=p,this.multiFactor=function Go(y){const p=(0,N.m9)(y);return go.has(p)||go.set(p,ef._fromUser(p)),go.get(p)}(p)}static getOrCreate(p){return To.USER_MAP.has(p)||To.USER_MAP.set(p,new To(p)),To.USER_MAP.get(p)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(p){return this._delegate.getIdTokenResult(p)}getIdToken(p){return this._delegate.getIdToken(p)}linkAndRetrieveDataWithCredential(p){return this.linkWithCredential(p)}linkWithCredential(p){var g=this;return(0,c.Z)(function*(){return zn(g.auth,xl(g._delegate,p))})()}linkWithPhoneNumber(p,g){var w=this;return(0,c.Z)(function*(){return Ad(w.auth,function Yi(y,p,g){return Rr.apply(this,arguments)}(w._delegate,p,g))})()}linkWithPopup(p){var g=this;return(0,c.Z)(function*(){return zn(g.auth,function iu(y,p,g){return Ga.apply(this,arguments)}(g._delegate,p,ra))})()}linkWithRedirect(p){var g=this;return(0,c.Z)(function*(){return yield Td(bn(g.auth)),function J(y,p,g){return function ce(y,p,g){return Se.apply(this,arguments)}(y,p,g)}(g._delegate,p,ra)})()}reauthenticateAndRetrieveDataWithCredential(p){return this.reauthenticateWithCredential(p)}reauthenticateWithCredential(p){var g=this;return(0,c.Z)(function*(){return zn(g.auth,Al(g._delegate,p))})()}reauthenticateWithPhoneNumber(p,g){return Ad(this.auth,function tu(y,p,g){return Qo.apply(this,arguments)}(this._delegate,p,g))}reauthenticateWithPopup(p){return zn(this.auth,function om(y,p,g){return md.apply(this,arguments)}(this._delegate,p,ra))}reauthenticateWithRedirect(p){var g=this;return(0,c.Z)(function*(){return yield Td(bn(g.auth)),function T(y,p,g){return function k(y,p,g){return V.apply(this,arguments)}(y,p,g)}(g._delegate,p,ra)})()}sendEmailVerification(p){return function Gc(y,p){return Oa.apply(this,arguments)}(this._delegate,p)}unlink(p){var g=this;return(0,c.Z)(function*(){return yield function Ri(y,p){return Dl.apply(this,arguments)}(g._delegate,p),g})()}updateEmail(p){return function rd(y,p){return po((0,N.m9)(y),p,null)}(this._delegate,p)}updatePassword(p){return function fo(y,p){return po((0,N.m9)(y),null,p)}(this._delegate,p)}updatePhoneNumber(p){return function Gn(y,p){return nt.apply(this,arguments)}(this._delegate,p)}updateProfile(p){return function Zc(y,p){return Wc.apply(this,arguments)}(this._delegate,p)}verifyBeforeUpdateEmail(p,g){return function zc(y,p,g){return Nl.apply(this,arguments)}(this._delegate,p,g)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}To.USER_MAP=new WeakMap;const Xa=j;let Ja=(()=>{class y{constructor(g,w){if(this.app=g,w.isInitialized())return this._delegate=w.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:M}=g.options;Xa(M,"invalid-api-key",{appName:g.name}),Xa(M,"invalid-api-key",{appName:g.name});const O=typeof window<"u"?ra:void 0;this._delegate=w.initialize({options:{persistence:bf(M,g.name),popupRedirectResolver:O}}),this._delegate._updateErrorMap(Ce),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?To.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(g){this._delegate.languageCode=g}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(g){this._delegate.tenantId=g}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(g,w){!function xc(y,p,g){const w=bn(y);j(w._canInitEmulator,w,"emulator-config-failed"),j(/^https?:\/\//.test(p),w,"invalid-emulator-scheme");const M=!!g?.disableWarnings,O=jr(p),{host:K,port:de}=function jn(y){const p=jr(y),g=/(\/\/)?([^?#/]+)/.exec(y.substr(p.length));if(!g)return{host:"",port:null};const w=g[2].split("@").pop()||"",M=/^(\[[^\]]+\])(:|$)/.exec(w);if(M){const O=M[1];return{host:O,port:Ns(w.substr(O.length+1))}}{const[O,K]=w.split(":");return{host:O,port:Ns(K)}}}(p);w.config.emulator={url:`${O}//${K}${null===de?"":`:${de}`}/`},w.settings.appVerificationDisabledForTesting=!0,w.emulatorConfig=Object.freeze({host:K,port:de,protocol:O.replace(":",""),options:Object.freeze({disableWarnings:M})}),M||function Fs(){function y(){const p=document.createElement("p"),g=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",y):y())}()}(this._delegate,g,w)}applyActionCode(g){return function dr(y,p){return Aa.apply(this,arguments)}(this._delegate,g)}checkActionCode(g){return Ma(this._delegate,g)}confirmPasswordReset(g,w){return function Ol(y,p,g){return Uo.apply(this,arguments)}(this._delegate,g,w)}createUserWithEmailAndPassword(g,w){var M=this;return(0,c.Z)(function*(){return zn(M._delegate,function uo(y,p,g){return xn.apply(this,arguments)}(M._delegate,g,w))})()}fetchProvidersForEmail(g){return this.fetchSignInMethodsForEmail(g)}fetchSignInMethodsForEmail(g){return function Pl(y,p){return Ra.apply(this,arguments)}(this._delegate,g)}isSignInWithEmailLink(g){return function ms(y,p){return"EMAIL_SIGNIN"===Cl.parseLink(p)?.operation}(0,g)}getRedirectResult(){var g=this;return(0,c.Z)(function*(){Xa(pu(),g._delegate,"operation-not-supported-in-this-environment");const w=yield function je(y,p){return ut.apply(this,arguments)}(g._delegate,ra);return w?zn(g._delegate,Promise.resolve(w)):{credential:null,user:null}})()}addFrameworkForLogging(g){!function Vn(y,p){bn(y)._logFramework(p)}(this._delegate,g)}onAuthStateChanged(g,w,M){const{next:O,error:K,complete:de}=Y_(g,w,M);return this._delegate.onAuthStateChanged(O,K,de)}onIdTokenChanged(g,w,M){const{next:O,error:K,complete:de}=Y_(g,w,M);return this._delegate.onIdTokenChanged(O,K,de)}sendSignInLinkToEmail(g,w){return function jc(y,p,g){return ho.apply(this,arguments)}(this._delegate,g,w)}sendPasswordResetEmail(g,w){return function Rl(y,p,g){return Sn.apply(this,arguments)}(this._delegate,g,w||void 0)}setPersistence(g){var w=this;return(0,c.Z)(function*(){let M;switch(function _0(y,p){Qa(Object.values(hr).includes(p),y,"invalid-persistence-type"),(0,N.b$)()?Qa(p!==hr.SESSION,y,"unsupported-persistence-type"):(0,N.UG)()?Qa(p===hr.NONE,y,"unsupported-persistence-type"):ia()?Qa(p===hr.NONE||p===hr.LOCAL&&(0,N.hl)(),y,"unsupported-persistence-type"):Qa(p===hr.NONE||W_(),y,"unsupported-persistence-type")}(w._delegate,g),g){case hr.SESSION:M=zr;break;case hr.LOCAL:M=(yield ae(qo)._isAvailable())?qo:Na;break;case hr.NONE:M=Jt;break;default:return Ae("argument-error",{appName:w._delegate.name})}return w._delegate.setPersistence(M)})()}signInAndRetrieveDataWithCredential(g){return this.signInWithCredential(g)}signInAnonymously(){return zn(this._delegate,function Yh(y){return Tn.apply(this,arguments)}(this._delegate))}signInWithCredential(g){return zn(this._delegate,En(this._delegate,g))}signInWithCustomToken(g){return zn(this._delegate,function Bc(y,p){return xa.apply(this,arguments)}(this._delegate,g))}signInWithEmailAndPassword(g,w){return zn(this._delegate,function Gr(y,p,g){return En((0,N.m9)(y),$r.credential(p,g))}(this._delegate,g,w))}signInWithEmailLink(g,w){return zn(this._delegate,function em(y,p,g){return ka.apply(this,arguments)}(this._delegate,g,w))}signInWithPhoneNumber(g,w){return Ad(this._delegate,function nf(y,p,g){return Ql.apply(this,arguments)}(this._delegate,g,w))}signInWithPopup(g){var w=this;return(0,c.Z)(function*(){return Xa(pu(),w._delegate,"operation-not-supported-in-this-environment"),zn(w._delegate,function Jl(y,p,g){return $a.apply(this,arguments)}(w._delegate,g,ra))})()}signInWithRedirect(g){var w=this;return(0,c.Z)(function*(){return Xa(pu(),w._delegate,"operation-not-supported-in-this-environment"),yield Td(w._delegate),function Mn(y,p,g){return function _d(y,p,g){return D.apply(this,arguments)}(y,p,g)}(w._delegate,g,ra)})()}updateCurrentUser(g){return this._delegate.updateCurrentUser(g)}verifyPasswordResetCode(g){return function Hc(y,p){return id.apply(this,arguments)}(this._delegate,g)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return y.Persistence=hr,y})();function Y_(y,p,g){let w=y;"function"!=typeof y&&({next:w,error:p,complete:g}=y);const M=w;return{next:K=>M(K&&To.getOrCreate(K)),error:p,complete:g}}function bf(y,p){const g=function Sd(y,p){const g=vf();if(!g)return[];const w=Yn(mu,y,p);switch(g.getItem(w)){case hr.NONE:return[Jt];case hr.LOCAL:return[qo,zr];case hr.SESSION:return[zr];default:return[]}}(y,p);if(typeof self<"u"&&!g.includes(qo)&&g.push(qo),typeof window<"u")for(const w of[Na,zr])g.includes(w)||g.push(w);return g.includes(Jt)||g.push(Jt),g}class Md{constructor(){this.providerId="phone",this._delegate=new Xl(rc(te.Z.auth()))}static credential(p,g){return Xl.credential(p,g)}verifyPhoneNumber(p,g){return this._delegate.verifyPhoneNumber(p,g)}unwrap(){return this._delegate}}Md.PHONE_SIGN_IN_METHOD=Xl.PHONE_SIGN_IN_METHOD,Md.PROVIDER_ID=Xl.PROVIDER_ID;const Dm=j;class kd{constructor(p,g,w=te.Z.app()){var M;Dm(null===(M=w.options)||void 0===M?void 0:M.apiKey,"invalid-api-key",{appName:w.name}),this._delegate=new hi(p,g,w.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Tm(y){y.INTERNAL.registerComponent(new ie.wA("auth-compat",p=>{const g=p.getProvider("app-compat").getImmediate(),w=p.getProvider("auth");return new Ja(g,w)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:$r,FacebookAuthProvider:Ta,GithubAuthProvider:Fc,GoogleAuthProvider:El,OAuthProvider:ao,SAMLAuthProvider:cr,PhoneAuthProvider:Md,PhoneMultiFactorGenerator:Ya,RecaptchaVerifier:kd,TwitterAuthProvider:Zi,Auth:Ja,AuthCredential:_i,Error:N.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),y.registerVersion("@firebase/auth-compat","0.2.19")}(te.Z)},9751:(at,De,P)=>{P.d(De,{y:()=>fe});var c=P(930),te=P(727),N=P(8822),le=P(9635),oe=P(2416),he=P(576),ie=P(2806);let fe=(()=>{class X{constructor(Me){Me&&(this._subscribe=Me)}lift(Me){const Ce=new X;return Ce.source=this,Ce.operator=Me,Ce}subscribe(Me,Ce,et){const ve=function z(X){return X&&X instanceof c.Lv||function $(X){return X&&(0,he.m)(X.next)&&(0,he.m)(X.error)&&(0,he.m)(X.complete)}(X)&&(0,te.Nn)(X)}(Me)?Me:new c.Hp(Me,Ce,et);return(0,ie.x)(()=>{const{operator:me,source:Xe}=this;ve.add(me?me.call(ve,Xe):Xe?this._subscribe(ve):this._trySubscribe(ve))}),ve}_trySubscribe(Me){try{return this._subscribe(Me)}catch(Ce){Me.error(Ce)}}forEach(Me,Ce){return new(Ce=ge(Ce))((et,ve)=>{const me=new c.Hp({next:Xe=>{try{Me(Xe)}catch(st){ve(st),me.unsubscribe()}},error:ve,complete:et});this.subscribe(me)})}_subscribe(Me){var Ce;return null===(Ce=this.source)||void 0===Ce?void 0:Ce.subscribe(Me)}[N.L](){return this}pipe(...Me){return(0,le.U)(Me)(this)}toPromise(Me){return new(Me=ge(Me))((Ce,et)=>{let ve;this.subscribe(me=>ve=me,me=>et(me),()=>Ce(ve))})}}return X.create=Be=>new X(Be),X})();function ge(X){var Be;return null!==(Be=X??oe.v.Promise)&&void 0!==Be?Be:Promise}},7579:(at,De,P)=>{P.d(De,{x:()=>ie});var c=P(9751),te=P(727);const le=(0,P(3888).d)(ge=>function(){ge(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var oe=P(8737),he=P(2806);let ie=(()=>{class ge extends c.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(z){const X=new fe(this,this);return X.operator=z,X}_throwIfClosed(){if(this.closed)throw new le}next(z){(0,he.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const X of this.currentObservers)X.next(z)}})}error(z){(0,he.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=z;const{observers:X}=this;for(;X.length;)X.shift().error(z)}})}complete(){(0,he.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:z}=this;for(;z.length;)z.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var z;return(null===(z=this.observers)||void 0===z?void 0:z.length)>0}_trySubscribe(z){return this._throwIfClosed(),super._trySubscribe(z)}_subscribe(z){return this._throwIfClosed(),this._checkFinalizedStatuses(z),this._innerSubscribe(z)}_innerSubscribe(z){const{hasError:X,isStopped:Be,observers:Me}=this;return X||Be?te.Lc:(this.currentObservers=null,Me.push(z),new te.w0(()=>{this.currentObservers=null,(0,oe.P)(Me,z)}))}_checkFinalizedStatuses(z){const{hasError:X,thrownError:Be,isStopped:Me}=this;X?z.error(Be):Me&&z.complete()}asObservable(){const z=new c.y;return z.source=this,z}}return ge.create=($,z)=>new fe($,z),ge})();class fe extends ie{constructor($,z){super(),this.destination=$,this.source=z}next($){var z,X;null===(X=null===(z=this.destination)||void 0===z?void 0:z.next)||void 0===X||X.call(z,$)}error($){var z,X;null===(X=null===(z=this.destination)||void 0===z?void 0:z.error)||void 0===X||X.call(z,$)}complete(){var $,z;null===(z=null===($=this.destination)||void 0===$?void 0:$.complete)||void 0===z||z.call($)}_subscribe($){var z,X;return null!==(X=null===(z=this.source)||void 0===z?void 0:z.subscribe($))&&void 0!==X?X:te.Lc}}},930:(at,De,P)=>{P.d(De,{Hp:()=>et,Lv:()=>X});var c=P(576),te=P(727),N=P(2416),le=P(7849),oe=P(5032);const he=ge("C",void 0,void 0);function ge(Ae,be,Ie){return{kind:Ae,value:be,error:Ie}}var $=P(3410),z=P(2806);class X extends te.w0{constructor(be){super(),this.isStopped=!1,be?(this.destination=be,(0,te.Nn)(be)&&be.add(this)):this.destination=st}static create(be,Ie,He){return new et(be,Ie,He)}next(be){this.isStopped?Xe(function fe(Ae){return ge("N",Ae,void 0)}(be),this):this._next(be)}error(be){this.isStopped?Xe(function ie(Ae){return ge("E",void 0,Ae)}(be),this):(this.isStopped=!0,this._error(be))}complete(){this.isStopped?Xe(he,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(be){this.destination.next(be)}_error(be){try{this.destination.error(be)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Be=Function.prototype.bind;function Me(Ae,be){return Be.call(Ae,be)}class Ce{constructor(be){this.partialObserver=be}next(be){const{partialObserver:Ie}=this;if(Ie.next)try{Ie.next(be)}catch(He){ve(He)}}error(be){const{partialObserver:Ie}=this;if(Ie.error)try{Ie.error(be)}catch(He){ve(He)}else ve(be)}complete(){const{partialObserver:be}=this;if(be.complete)try{be.complete()}catch(Ie){ve(Ie)}}}class et extends X{constructor(be,Ie,He){let $e;if(super(),(0,c.m)(be)||!be)$e={next:be??void 0,error:Ie??void 0,complete:He??void 0};else{let j;this&&N.v.useDeprecatedNextContext?(j=Object.create(be),j.unsubscribe=()=>this.unsubscribe(),$e={next:be.next&&Me(be.next,j),error:be.error&&Me(be.error,j),complete:be.complete&&Me(be.complete,j)}):$e=be}this.destination=new Ce($e)}}function ve(Ae){N.v.useDeprecatedSynchronousErrorHandling?(0,z.O)(Ae):(0,le.h)(Ae)}function Xe(Ae,be){const{onStoppedNotification:Ie}=N.v;Ie&&$.z.setTimeout(()=>Ie(Ae,be))}const st={closed:!0,next:oe.Z,error:function me(Ae){throw Ae},complete:oe.Z}},727:(at,De,P)=>{P.d(De,{Lc:()=>he,w0:()=>oe,Nn:()=>ie});var c=P(576);const N=(0,P(3888).d)(ge=>function(z){ge(this),this.message=z?`${z.length} errors occurred during unsubscription:\n${z.map((X,Be)=>`${Be+1}) ${X.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=z});var le=P(8737);class oe{constructor($){this.initialTeardown=$,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let $;if(!this.closed){this.closed=!0;const{_parentage:z}=this;if(z)if(this._parentage=null,Array.isArray(z))for(const Me of z)Me.remove(this);else z.remove(this);const{initialTeardown:X}=this;if((0,c.m)(X))try{X()}catch(Me){$=Me instanceof N?Me.errors:[Me]}const{_finalizers:Be}=this;if(Be){this._finalizers=null;for(const Me of Be)try{fe(Me)}catch(Ce){$=$??[],Ce instanceof N?$=[...$,...Ce.errors]:$.push(Ce)}}if($)throw new N($)}}add($){var z;if($&&$!==this)if(this.closed)fe($);else{if($ instanceof oe){if($.closed||$._hasParent(this))return;$._addParent(this)}(this._finalizers=null!==(z=this._finalizers)&&void 0!==z?z:[]).push($)}}_hasParent($){const{_parentage:z}=this;return z===$||Array.isArray(z)&&z.includes($)}_addParent($){const{_parentage:z}=this;this._parentage=Array.isArray(z)?(z.push($),z):z?[z,$]:$}_removeParent($){const{_parentage:z}=this;z===$?this._parentage=null:Array.isArray(z)&&(0,le.P)(z,$)}remove($){const{_finalizers:z}=this;z&&(0,le.P)(z,$),$ instanceof oe&&$._removeParent(this)}}oe.EMPTY=(()=>{const ge=new oe;return ge.closed=!0,ge})();const he=oe.EMPTY;function ie(ge){return ge instanceof oe||ge&&"closed"in ge&&(0,c.m)(ge.remove)&&(0,c.m)(ge.add)&&(0,c.m)(ge.unsubscribe)}function fe(ge){(0,c.m)(ge)?ge():ge.unsubscribe()}},2416:(at,De,P)=>{P.d(De,{v:()=>c});const c={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(at,De,P)=>{P.d(De,{E:()=>te});const te=new(P(9751).y)(oe=>oe.complete())},8996:(at,De,P)=>{P.d(De,{D:()=>be});var c=P(8421),te=P(5363),N=P(9468),he=P(9751),fe=P(2202),ge=P(576),$=P(9672);function X(Ie,He){if(!Ie)throw new Error("Iterable cannot be null");return new he.y($e=>{(0,$.f)($e,He,()=>{const j=Ie[Symbol.asyncIterator]();(0,$.f)($e,He,()=>{j.next().then(ye=>{ye.done?$e.complete():$e.next(ye.value)})},0,!0)})})}var Be=P(3670),Me=P(8239),Ce=P(1144),et=P(6495),ve=P(2206),me=P(4532),Xe=P(3260);function be(Ie,He){return He?function Ae(Ie,He){if(null!=Ie){if((0,Be.c)(Ie))return function le(Ie,He){return(0,c.Xf)(Ie).pipe((0,N.R)(He),(0,te.Q)(He))}(Ie,He);if((0,Ce.z)(Ie))return function ie(Ie,He){return new he.y($e=>{let j=0;return He.schedule(function(){j===Ie.length?$e.complete():($e.next(Ie[j++]),$e.closed||this.schedule())})})}(Ie,He);if((0,Me.t)(Ie))return function oe(Ie,He){return(0,c.Xf)(Ie).pipe((0,N.R)(He),(0,te.Q)(He))}(Ie,He);if((0,ve.D)(Ie))return X(Ie,He);if((0,et.T)(Ie))return function z(Ie,He){return new he.y($e=>{let j;return(0,$.f)($e,He,()=>{j=Ie[fe.h](),(0,$.f)($e,He,()=>{let ye,Q;try{({value:ye,done:Q}=j.next())}catch(ne){return void $e.error(ne)}Q?$e.complete():$e.next(ye)},0,!0)}),()=>(0,ge.m)(j?.return)&&j.return()})}(Ie,He);if((0,Xe.L)(Ie))return function st(Ie,He){return X((0,Xe.Q)(Ie),He)}(Ie,He)}throw(0,me.z)(Ie)}(Ie,He):(0,c.Xf)(Ie)}},8421:(at,De,P)=>{P.d(De,{Xf:()=>Be});var c=P(655),te=P(1144),N=P(8239),le=P(9751),oe=P(3670),he=P(2206),ie=P(4532),fe=P(6495),ge=P(3260),$=P(576),z=P(7849),X=P(8822);function Be(Ae){if(Ae instanceof le.y)return Ae;if(null!=Ae){if((0,oe.c)(Ae))return function Me(Ae){return new le.y(be=>{const Ie=Ae[X.L]();if((0,$.m)(Ie.subscribe))return Ie.subscribe(be);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ae);if((0,te.z)(Ae))return function Ce(Ae){return new le.y(be=>{for(let Ie=0;Ie<Ae.length&&!be.closed;Ie++)be.next(Ae[Ie]);be.complete()})}(Ae);if((0,N.t)(Ae))return function et(Ae){return new le.y(be=>{Ae.then(Ie=>{be.closed||(be.next(Ie),be.complete())},Ie=>be.error(Ie)).then(null,z.h)})}(Ae);if((0,he.D)(Ae))return me(Ae);if((0,fe.T)(Ae))return function ve(Ae){return new le.y(be=>{for(const Ie of Ae)if(be.next(Ie),be.closed)return;be.complete()})}(Ae);if((0,ge.L)(Ae))return function Xe(Ae){return me((0,ge.Q)(Ae))}(Ae)}throw(0,ie.z)(Ae)}function me(Ae){return new le.y(be=>{(function st(Ae,be){var Ie,He,$e,j;return(0,c.mG)(this,void 0,void 0,function*(){try{for(Ie=(0,c.KL)(Ae);!(He=yield Ie.next()).done;)if(be.next(He.value),be.closed)return}catch(ye){$e={error:ye}}finally{try{He&&!He.done&&(j=Ie.return)&&(yield j.call(Ie))}finally{if($e)throw $e.error}}be.complete()})})(Ae,be).catch(Ie=>be.error(Ie))})}},6451:(at,De,P)=>{P.d(De,{T:()=>he});var c=P(8189),te=P(8421),N=P(515),le=P(3269),oe=P(8996);function he(...ie){const fe=(0,le.yG)(ie),ge=(0,le._6)(ie,1/0),$=ie;return $.length?1===$.length?(0,te.Xf)($[0]):(0,c.J)(ge)((0,oe.D)($,fe)):N.E}},5403:(at,De,P)=>{P.d(De,{x:()=>te});var c=P(930);function te(le,oe,he,ie,fe){return new N(le,oe,he,ie,fe)}class N extends c.Lv{constructor(oe,he,ie,fe,ge,$){super(oe),this.onFinalize=ge,this.shouldUnsubscribe=$,this._next=he?function(z){try{he(z)}catch(X){oe.error(X)}}:super._next,this._error=fe?function(z){try{fe(z)}catch(X){oe.error(X)}finally{this.unsubscribe()}}:super._error,this._complete=ie?function(){try{ie()}catch(z){oe.error(z)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var oe;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:he}=this;super.unsubscribe(),!he&&(null===(oe=this.onFinalize)||void 0===oe||oe.call(this))}}}},4004:(at,De,P)=>{P.d(De,{U:()=>N});var c=P(4482),te=P(5403);function N(le,oe){return(0,c.e)((he,ie)=>{let fe=0;he.subscribe((0,te.x)(ie,ge=>{ie.next(le.call(oe,ge,fe++))}))})}},8189:(at,De,P)=>{P.d(De,{J:()=>N});var c=P(5577),te=P(4671);function N(le=1/0){return(0,c.z)(te.y,le)}},5577:(at,De,P)=>{P.d(De,{z:()=>fe});var c=P(4004),te=P(8421),N=P(4482),le=P(9672),oe=P(5403),ie=P(576);function fe(ge,$,z=1/0){return(0,ie.m)($)?fe((X,Be)=>(0,c.U)((Me,Ce)=>$(X,Me,Be,Ce))((0,te.Xf)(ge(X,Be))),z):("number"==typeof $&&(z=$),(0,N.e)((X,Be)=>function he(ge,$,z,X,Be,Me,Ce,et){const ve=[];let me=0,Xe=0,st=!1;const Ae=()=>{st&&!ve.length&&!me&&$.complete()},be=He=>me<X?Ie(He):ve.push(He),Ie=He=>{Me&&$.next(He),me++;let $e=!1;(0,te.Xf)(z(He,Xe++)).subscribe((0,oe.x)($,j=>{Be?.(j),Me?be(j):$.next(j)},()=>{$e=!0},void 0,()=>{if($e)try{for(me--;ve.length&&me<X;){const j=ve.shift();Ce?(0,le.f)($,Ce,()=>Ie(j)):Ie(j)}Ae()}catch(j){$.error(j)}}))};return ge.subscribe((0,oe.x)($,be,()=>{st=!0,Ae()})),()=>{et?.()}}(X,Be,ge,z)))}},5363:(at,De,P)=>{P.d(De,{Q:()=>le});var c=P(9672),te=P(4482),N=P(5403);function le(oe,he=0){return(0,te.e)((ie,fe)=>{ie.subscribe((0,N.x)(fe,ge=>(0,c.f)(fe,oe,()=>fe.next(ge),he),()=>(0,c.f)(fe,oe,()=>fe.complete(),he),ge=>(0,c.f)(fe,oe,()=>fe.error(ge),he)))})}},3099:(at,De,P)=>{P.d(De,{B:()=>oe});var c=P(8421),te=P(7579),N=P(930),le=P(4482);function oe(ie={}){const{connector:fe=(()=>new te.x),resetOnError:ge=!0,resetOnComplete:$=!0,resetOnRefCountZero:z=!0}=ie;return X=>{let Be,Me,Ce,et=0,ve=!1,me=!1;const Xe=()=>{Me?.unsubscribe(),Me=void 0},st=()=>{Xe(),Be=Ce=void 0,ve=me=!1},Ae=()=>{const be=Be;st(),be?.unsubscribe()};return(0,le.e)((be,Ie)=>{et++,!me&&!ve&&Xe();const He=Ce=Ce??fe();Ie.add(()=>{et--,0===et&&!me&&!ve&&(Me=he(Ae,z))}),He.subscribe(Ie),!Be&&et>0&&(Be=new N.Hp({next:$e=>He.next($e),error:$e=>{me=!0,Xe(),Me=he(st,ge,$e),He.error($e)},complete:()=>{ve=!0,Xe(),Me=he(st,$),He.complete()}}),(0,c.Xf)(be).subscribe(Be))})(X)}}function he(ie,fe,...ge){if(!0===fe)return void ie();if(!1===fe)return;const $=new N.Hp({next:()=>{$.unsubscribe(),ie()}});return fe(...ge).subscribe($)}},9468:(at,De,P)=>{P.d(De,{R:()=>te});var c=P(4482);function te(N,le=0){return(0,c.e)((oe,he)=>{he.add(N.schedule(()=>oe.subscribe(he),le))})}},8505:(at,De,P)=>{P.d(De,{b:()=>oe});var c=P(576),te=P(4482),N=P(5403),le=P(4671);function oe(he,ie,fe){const ge=(0,c.m)(he)||ie||fe?{next:he,error:ie,complete:fe}:he;return ge?(0,te.e)(($,z)=>{var X;null===(X=ge.subscribe)||void 0===X||X.call(ge);let Be=!0;$.subscribe((0,N.x)(z,Me=>{var Ce;null===(Ce=ge.next)||void 0===Ce||Ce.call(ge,Me),z.next(Me)},()=>{var Me;Be=!1,null===(Me=ge.complete)||void 0===Me||Me.call(ge),z.complete()},Me=>{var Ce;Be=!1,null===(Ce=ge.error)||void 0===Ce||Ce.call(ge,Me),z.error(Me)},()=>{var Me,Ce;Be&&(null===(Me=ge.unsubscribe)||void 0===Me||Me.call(ge)),null===(Ce=ge.finalize)||void 0===Ce||Ce.call(ge)}))}):le.y}},4408:(at,De,P)=>{P.d(De,{o:()=>oe});var c=P(727);class te extends c.w0{constructor(ie,fe){super()}schedule(ie,fe=0){return this}}const N={setInterval(he,ie,...fe){const{delegate:ge}=N;return ge?.setInterval?ge.setInterval(he,ie,...fe):setInterval(he,ie,...fe)},clearInterval(he){const{delegate:ie}=N;return(ie?.clearInterval||clearInterval)(he)},delegate:void 0};var le=P(8737);class oe extends te{constructor(ie,fe){super(ie,fe),this.scheduler=ie,this.work=fe,this.pending=!1}schedule(ie,fe=0){if(this.closed)return this;this.state=ie;const ge=this.id,$=this.scheduler;return null!=ge&&(this.id=this.recycleAsyncId($,ge,fe)),this.pending=!0,this.delay=fe,this.id=this.id||this.requestAsyncId($,this.id,fe),this}requestAsyncId(ie,fe,ge=0){return N.setInterval(ie.flush.bind(ie,this),ge)}recycleAsyncId(ie,fe,ge=0){if(null!=ge&&this.delay===ge&&!1===this.pending)return fe;N.clearInterval(fe)}execute(ie,fe){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ge=this._execute(ie,fe);if(ge)return ge;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ie,fe){let $,ge=!1;try{this.work(ie)}catch(z){ge=!0,$=z||new Error("Scheduled action threw falsy error")}if(ge)return this.unsubscribe(),$}unsubscribe(){if(!this.closed){const{id:ie,scheduler:fe}=this,{actions:ge}=fe;this.work=this.state=this.scheduler=null,this.pending=!1,(0,le.P)(ge,this),null!=ie&&(this.id=this.recycleAsyncId(fe,ie,null)),this.delay=null,super.unsubscribe()}}}},7565:(at,De,P)=>{P.d(De,{v:()=>N});var c=P(6063);class te{constructor(oe,he=te.now){this.schedulerActionCtor=oe,this.now=he}schedule(oe,he=0,ie){return new this.schedulerActionCtor(this,oe).schedule(ie,he)}}te.now=c.l.now;class N extends te{constructor(oe,he=te.now){super(oe,he),this.actions=[],this._active=!1,this._scheduled=void 0}flush(oe){const{actions:he}=this;if(this._active)return void he.push(oe);let ie;this._active=!0;do{if(ie=oe.execute(oe.state,oe.delay))break}while(oe=he.shift());if(this._active=!1,ie){for(;oe=he.shift();)oe.unsubscribe();throw ie}}}},4986:(at,De,P)=>{P.d(De,{P:()=>le,z:()=>N});var c=P(4408);const N=new(P(7565).v)(c.o),le=N},6063:(at,De,P)=>{P.d(De,{l:()=>c});const c={now:()=>(c.delegate||Date).now(),delegate:void 0}},3410:(at,De,P)=>{P.d(De,{z:()=>c});const c={setTimeout(te,N,...le){const{delegate:oe}=c;return oe?.setTimeout?oe.setTimeout(te,N,...le):setTimeout(te,N,...le)},clearTimeout(te){const{delegate:N}=c;return(N?.clearTimeout||clearTimeout)(te)},delegate:void 0}},2202:(at,De,P)=>{P.d(De,{h:()=>te});const te=function c(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(at,De,P)=>{P.d(De,{L:()=>c});const c="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(at,De,P)=>{P.d(De,{_6:()=>he,jO:()=>le,yG:()=>oe});var c=P(576),te=P(3532);function N(ie){return ie[ie.length-1]}function le(ie){return(0,c.m)(N(ie))?ie.pop():void 0}function oe(ie){return(0,te.K)(N(ie))?ie.pop():void 0}function he(ie,fe){return"number"==typeof N(ie)?ie.pop():fe}},8737:(at,De,P)=>{function c(te,N){if(te){const le=te.indexOf(N);0<=le&&te.splice(le,1)}}P.d(De,{P:()=>c})},3888:(at,De,P)=>{function c(te){const le=te(oe=>{Error.call(oe),oe.stack=(new Error).stack});return le.prototype=Object.create(Error.prototype),le.prototype.constructor=le,le}P.d(De,{d:()=>c})},2806:(at,De,P)=>{P.d(De,{O:()=>le,x:()=>N});var c=P(2416);let te=null;function N(oe){if(c.v.useDeprecatedSynchronousErrorHandling){const he=!te;if(he&&(te={errorThrown:!1,error:null}),oe(),he){const{errorThrown:ie,error:fe}=te;if(te=null,ie)throw fe}}else oe()}function le(oe){c.v.useDeprecatedSynchronousErrorHandling&&te&&(te.errorThrown=!0,te.error=oe)}},9672:(at,De,P)=>{function c(te,N,le,oe=0,he=!1){const ie=N.schedule(function(){le(),he?te.add(this.schedule(null,oe)):this.unsubscribe()},oe);if(te.add(ie),!he)return ie}P.d(De,{f:()=>c})},4671:(at,De,P)=>{function c(te){return te}P.d(De,{y:()=>c})},1144:(at,De,P)=>{P.d(De,{z:()=>c});const c=te=>te&&"number"==typeof te.length&&"function"!=typeof te},2206:(at,De,P)=>{P.d(De,{D:()=>te});var c=P(576);function te(N){return Symbol.asyncIterator&&(0,c.m)(N?.[Symbol.asyncIterator])}},576:(at,De,P)=>{function c(te){return"function"==typeof te}P.d(De,{m:()=>c})},3670:(at,De,P)=>{P.d(De,{c:()=>N});var c=P(8822),te=P(576);function N(le){return(0,te.m)(le[c.L])}},6495:(at,De,P)=>{P.d(De,{T:()=>N});var c=P(2202),te=P(576);function N(le){return(0,te.m)(le?.[c.h])}},8239:(at,De,P)=>{P.d(De,{t:()=>te});var c=P(576);function te(N){return(0,c.m)(N?.then)}},3260:(at,De,P)=>{P.d(De,{L:()=>le,Q:()=>N});var c=P(655),te=P(576);function N(oe){return(0,c.FC)(this,arguments,function*(){const ie=oe.getReader();try{for(;;){const{value:fe,done:ge}=yield(0,c.qq)(ie.read());if(ge)return yield(0,c.qq)(void 0);yield yield(0,c.qq)(fe)}}finally{ie.releaseLock()}})}function le(oe){return(0,te.m)(oe?.getReader)}},3532:(at,De,P)=>{P.d(De,{K:()=>te});var c=P(576);function te(N){return N&&(0,c.m)(N.schedule)}},4482:(at,De,P)=>{P.d(De,{A:()=>te,e:()=>N});var c=P(576);function te(le){return(0,c.m)(le?.lift)}function N(le){return oe=>{if(te(oe))return oe.lift(function(he){try{return le(he,this)}catch(ie){this.error(ie)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(at,De,P)=>{function c(){}P.d(De,{Z:()=>c})},9635:(at,De,P)=>{P.d(De,{U:()=>N,z:()=>te});var c=P(4671);function te(...le){return N(le)}function N(le){return 0===le.length?c.y:1===le.length?le[0]:function(he){return le.reduce((ie,fe)=>fe(ie),he)}}},7849:(at,De,P)=>{P.d(De,{h:()=>N});var c=P(2416),te=P(3410);function N(le){te.z.setTimeout(()=>{const{onUnhandledError:oe}=c.v;if(!oe)throw le;oe(le)})}},4532:(at,De,P)=>{function c(te){return new TypeError(`You provided ${null!==te&&"object"==typeof te?"an invalid object":`'${te}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}P.d(De,{z:()=>c})},655:(at,De,P)=>{function le(Q,ne){var ae={};for(var se in Q)Object.prototype.hasOwnProperty.call(Q,se)&&ne.indexOf(se)<0&&(ae[se]=Q[se]);if(null!=Q&&"function"==typeof Object.getOwnPropertySymbols){var Ne=0;for(se=Object.getOwnPropertySymbols(Q);Ne<se.length;Ne++)ne.indexOf(se[Ne])<0&&Object.prototype.propertyIsEnumerable.call(Q,se[Ne])&&(ae[se[Ne]]=Q[se[Ne]])}return ae}function fe(Q,ne,ae,se){return new(ae||(ae=Promise))(function(Oe,ht){function Wt(an){try{qe(se.next(an))}catch(On){ht(On)}}function $t(an){try{qe(se.throw(an))}catch(On){ht(On)}}function qe(an){an.done?Oe(an.value):function Ne(Oe){return Oe instanceof ae?Oe:new ae(function(ht){ht(Oe)})}(an.value).then(Wt,$t)}qe((se=se.apply(Q,ne||[])).next())})}function ve(Q){return this instanceof ve?(this.v=Q,this):new ve(Q)}function me(Q,ne,ae){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ne,se=ae.apply(Q,ne||[]),Oe=[];return Ne={},ht("next"),ht("throw"),ht("return"),Ne[Symbol.asyncIterator]=function(){return this},Ne;function ht(Yt){se[Yt]&&(Ne[Yt]=function(Qt){return new Promise(function(xi,Lt){Oe.push([Yt,Qt,xi,Lt])>1||Wt(Yt,Qt)})})}function Wt(Yt,Qt){try{!function $t(Yt){Yt.value instanceof ve?Promise.resolve(Yt.value.v).then(qe,an):On(Oe[0][2],Yt)}(se[Yt](Qt))}catch(xi){On(Oe[0][3],xi)}}function qe(Yt){Wt("next",Yt)}function an(Yt){Wt("throw",Yt)}function On(Yt,Qt){Yt(Qt),Oe.shift(),Oe.length&&Wt(Oe[0][0],Oe[0][1])}}function st(Q){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ae,ne=Q[Symbol.asyncIterator];return ne?ne.call(Q):(Q=function X(Q){var ne="function"==typeof Symbol&&Symbol.iterator,ae=ne&&Q[ne],se=0;if(ae)return ae.call(Q);if(Q&&"number"==typeof Q.length)return{next:function(){return Q&&se>=Q.length&&(Q=void 0),{value:Q&&Q[se++],done:!Q}}};throw new TypeError(ne?"Object is not iterable.":"Symbol.iterator is not defined.")}(Q),ae={},se("next"),se("throw"),se("return"),ae[Symbol.asyncIterator]=function(){return this},ae);function se(Oe){ae[Oe]=Q[Oe]&&function(ht){return new Promise(function(Wt,$t){!function Ne(Oe,ht,Wt,$t){Promise.resolve($t).then(function(qe){Oe({value:qe,done:Wt})},ht)}(Wt,$t,(ht=Q[Oe](ht)).done,ht.value)})}}}P.d(De,{FC:()=>me,KL:()=>st,_T:()=>le,mG:()=>fe,qq:()=>ve})},4650:(at,De,P)=>{P.d(De,{$8M:()=>Kl,$Z:()=>TD,AFp:()=>GC,AaK:()=>fe,BQk:()=>pr,CHM:()=>kl,CRH:()=>wC,CZH:()=>ph,CqO:()=>eh,D6c:()=>Sx,EJc:()=>dx,EiD:()=>gf,EpF:()=>Au,F$t:()=>Dw,F4k:()=>mT,FYo:()=>yt,FiY:()=>je,G48:()=>oE,Gf:()=>vC,GfV:()=>sc,Gpc:()=>z,Hsn:()=>_T,JOm:()=>il,JVY:()=>j_,KtG:()=>Rl,L6k:()=>h0,LAX:()=>f0,LFG:()=>Mn,LSH:()=>bm,Lbi:()=>qC,Lck:()=>bO,MAs:()=>Cw,MMx:()=>lC,NdJ:()=>tv,OlP:()=>fn,Oqu:()=>Bw,PXZ:()=>$v,Q6J:()=>Ew,QGY:()=>cg,QP$:()=>Hr,QbO:()=>xg,Qsj:()=>gt,R0b:()=>is,RDi:()=>u0,Rgc:()=>Cg,SBq:()=>de,Sil:()=>px,Suo:()=>bC,TTD:()=>ds,TgZ:()=>lg,Tol:()=>ST,Udp:()=>Fw,WFA:()=>th,X6Q:()=>Pu,XFs:()=>Ke,Xpm:()=>q,Xts:()=>pu,Y36:()=>Lf,YKP:()=>OS,YNc:()=>Jy,Yjl:()=>Bt,Yz7:()=>Qt,Z0I:()=>Ca,ZZ4:()=>rb,_Bn:()=>ch,_UZ:()=>Xf,_Vd:()=>M,_c5:()=>Yg,_uU:()=>NT,aQg:()=>Eh,c2e:()=>Fv,cJS:()=>Lt,cg1:()=>Hw,d8E:()=>Uw,dDg:()=>Hv,dqk:()=>ln,eBb:()=>$_,eFA:()=>eE,ekj:()=>Lw,eoX:()=>Ng,f3M:()=>D,g9A:()=>Sg,h0i:()=>Mu,hGG:()=>Tx,hij:()=>rv,iGM:()=>yC,ifc:()=>ct,ip1:()=>Nv,jDz:()=>cC,kEZ:()=>GS,kL8:()=>nS,lG2:()=>Yn,lqb:()=>zn,lri:()=>XC,mCW:()=>Ks,n5z:()=>_s,n_E:()=>Iv,oAB:()=>lt,oJD:()=>z_,oxw:()=>dg,pB0:()=>cf,q3G:()=>Vn,q4F:()=>Sm,qLn:()=>Ef,qOj:()=>ig,qZA:()=>ev,qzn:()=>Ya,rWj:()=>Pg,sBO:()=>aE,sIi:()=>sg,s_b:()=>ku,soG:()=>mh,tb:()=>ZC,tp0:()=>vt,uIk:()=>Xy,vHH:()=>Ce,vpe:()=>pl,wAp:()=>Ct,xp6:()=>L0,ynx:()=>Jd,z2F:()=>Ou,z3N:()=>Kr,zSh:()=>rc,zs3:()=>Or});var c=P(7579),te=P(727),N=P(9751),le=P(6451),oe=P(3099);function he(s){for(let o in s)if(s[o]===he)return o;throw Error("Could not find renamed property on target object.")}function ie(s,o){for(const l in o)o.hasOwnProperty(l)&&!s.hasOwnProperty(l)&&(s[l]=o[l])}function fe(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(fe).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const o=s.toString();if(null==o)return""+o;const l=o.indexOf("\n");return-1===l?o:o.substring(0,l)}function ge(s,o){return null==s||""===s?null===o?"":o:null==o||""===o?s:s+" "+o}const $=he({__forward_ref__:he});function z(s){return s.__forward_ref__=z,s.toString=function(){return fe(this())},s}function X(s){return Be(s)?s():s}function Be(s){return"function"==typeof s&&s.hasOwnProperty($)&&s.__forward_ref__===z}class Ce extends Error{constructor(o,l){super(function et(s,o){return`NG0${Math.abs(s)}${o?": "+o.trim():""}`}(o,l)),this.code=o}}function ve(s){return"string"==typeof s?s:null==s?"":String(s)}function be(s,o){throw new Ce(-201,!1)}function $t(s,o){null==s&&function qe(s,o,l,d){throw new Error(`ASSERTION ERROR: ${s}`+(null==d?"":` [Expected=> ${l} ${d} ${o} <=Actual]`))}(o,s,null,"!=")}function Qt(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function Lt(s){return{providers:s.providers||[],imports:s.imports||[]}}function rn(s){return $i(s,Ur)||$i(s,Dr)}function Ca(s){return null!==rn(s)}function $i(s,o){return s.hasOwnProperty(o)?s[o]:null}function Os(s){return s&&(s.hasOwnProperty(zi)||s.hasOwnProperty(Vo))?s[zi]:null}const Ur=he({\u0275prov:he}),zi=he({\u0275inj:he}),Dr=he({ngInjectableDef:he}),Vo=he({ngInjectorDef:he});var Ke=(()=>((Ke=Ke||{})[Ke.Default=0]="Default",Ke[Ke.Host=1]="Host",Ke[Ke.Self=2]="Self",Ke[Ke.SkipSelf=4]="SkipSelf",Ke[Ke.Optional=8]="Optional",Ke))();let qi;function Pn(s){const o=qi;return qi=s,o}function Tr(s,o,l){const d=rn(s);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:l&Ke.Optional?null:void 0!==o?o:void be(fe(s))}function Nn(s){return{toString:s}.toString()}var Kn=(()=>((Kn=Kn||{})[Kn.OnPush=0]="OnPush",Kn[Kn.Default=1]="Default",Kn))(),ct=(()=>{return(s=ct||(ct={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",ct;var s})();const ln=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Ai={},It=[],as=he({\u0275cmp:he}),Xt=he({\u0275dir:he}),Sr=he({\u0275pipe:he}),Kt=he({\u0275mod:he}),Y=he({\u0275fac:he}),G=he({__NG_ELEMENT_ID__:he});let H=0;function q(s){return Nn(()=>{const l=!0===s.standalone,d={},h={type:s.type,providersResolver:null,decls:s.decls,vars:s.vars,factory:null,template:s.template||null,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:d,inputs:null,outputs:null,exportAs:s.exportAs||null,onPush:s.changeDetection===Kn.OnPush,directiveDefs:null,pipeDefs:null,standalone:l,dependencies:l&&s.dependencies||null,getStandaloneInjector:null,selectors:s.selectors||It,viewQuery:s.viewQuery||null,features:s.features||null,data:s.data||{},encapsulation:s.encapsulation||ct.Emulated,id:"c"+H++,styles:s.styles||It,_:null,setInput:null,schemas:s.schemas||null,tView:null},m=s.dependencies,v=s.features;return h.inputs=Jt(s.inputs,d),h.outputs=Jt(s.outputs),v&&v.forEach(C=>C(h)),h.directiveDefs=m?()=>("function"==typeof m?m():m).map(Te).filter(Ue):null,h.pipeDefs=m?()=>("function"==typeof m?m():m).map(Un).filter(Ue):null,h})}function Te(s){return Ot(s)||yn(s)}function Ue(s){return null!==s}function lt(s){return Nn(()=>({type:s.type,bootstrap:s.bootstrap||It,declarations:s.declarations||It,imports:s.imports||It,exports:s.exports||It,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null}))}function Jt(s,o){if(null==s)return Ai;const l={};for(const d in s)if(s.hasOwnProperty(d)){let h=s[d],m=h;Array.isArray(h)&&(m=h[1],h=h[0]),l[h]=d,o&&(o[h]=m)}return l}const Yn=q;function Bt(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,standalone:!0===s.standalone,onDestroy:s.type.prototype.ngOnDestroy||null}}function Ot(s){return s[as]||null}function yn(s){return s[Xt]||null}function Un(s){return s[Sr]||null}function Hr(s){const o=Ot(s)||yn(s)||Un(s);return null!==o&&o.standalone}function Mi(s,o){const l=s[Kt]||null;if(!l&&!0===o)throw new Error(`Type ${fe(s)} does not have '\u0275mod' property.`);return l}function ui(s){return Array.isArray(s)&&"object"==typeof s[1]}function ki(s){return Array.isArray(s)&&!0===s[1]}function wl(s){return 0!=(8&s.flags)}function Da(s){return 2==(2&s.flags)}function Rc(s){return 1==(1&s.flags)}function Ii(s){return null!==s.template}function qh(s){return 0!=(256&s[2])}function $r(s,o){return s.hasOwnProperty(Y)?s[Y]:null}class us{constructor(o,l,d){this.previousValue=o,this.currentValue=l,this.firstChange=d}isFirstChange(){return this.firstChange}}function ds(){return ao}function ao(s){return s.type.prototype.ngOnChanges&&(s.setInput=El),Ta}function Ta(){const s=Wh(this),o=s?.current;if(o){const l=s.previous;if(l===Ai)s.previous=o;else for(let d in o)l[d]=o[d];s.current=null,this.ngOnChanges(o)}}function El(s,o,l,d){const h=Wh(s)||function lr(s,o){return s[Fc]=o}(s,{previous:Ai,current:null}),m=h.current||(h.current={}),v=h.previous,C=this.declaredInputs[l],E=v[C];m[C]=new us(E&&E.currentValue,o,v===Ai),s[d]=o}ds.ngInherit=!0;const Fc="__ngSimpleChanges__";function Wh(s){return s[Fc]||null}function Tn(s){for(;Array.isArray(s);)s=s[0];return s}function ur(s,o){return Tn(o[s])}function Ri(s,o){return Tn(o[s.index])}function lo(s,o){return s.data[o]}function Zt(s,o){const l=o[s];return ui(l)?l:l[0]}function Sa(s){return 4==(4&s[2])}function co(s){return 64==(64&s[2])}function Mr(s,o){return null==o?null:s[o]}function Sl(s){s[18]=0}function En(s,o){s[5]+=o;let l=s,d=s[3];for(;null!==d&&(1===o&&1===l[5]||-1===o&&0===l[5]);)d[5]+=o,l=d,d=d[3]}const Dt={lFrame:Zc(null),bindingsEnabled:!0};function ps(){return Dt.bindingsEnabled}function xe(){return Dt.lFrame.lView}function Ut(){return Dt.lFrame.tView}function kl(s){return Dt.lFrame.contextLView=s,s[8]}function Rl(s){return Dt.lFrame.contextLView=null,s}function Sn(){let s=Ol();for(;null!==s&&64===s.type;)s=s.parent;return s}function Ol(){return Dt.lFrame.currentTNode}function dr(s,o){const l=Dt.lFrame;l.currentTNode=s,l.isParent=o}function Aa(){return Dt.lFrame.isParent}function Ma(){Dt.lFrame.isParent=!1}function ho(){return Dt.lFrame.bindingIndex++}function ms(s){const o=Dt.lFrame,l=o.bindingIndex;return o.bindingIndex=o.bindingIndex+s,l}function tm(s,o){const l=Dt.lFrame;l.bindingIndex=l.bindingRootIndex=s,Pl(o)}function Pl(s){Dt.lFrame.currentDirectiveIndex=s}function Ra(s){const o=Dt.lFrame.currentDirectiveIndex;return-1===o?null:s[o]}function Gc(){return Dt.lFrame.currentQueryIndex}function Oa(s){Dt.lFrame.currentQueryIndex=s}function zc(s){const o=s[1];return 2===o.type?o.declTNode:1===o.type?s[6]:null}function Nl(s,o,l){if(l&Ke.SkipSelf){let h=o,m=s;for(;!(h=h.parent,null!==h||l&Ke.Host||(h=zc(m),null===h||(m=m[15],10&h.type))););if(null===h)return!1;o=h,s=m}const d=Dt.lFrame=qc();return d.currentTNode=o,d.lView=s,!0}function Fl(s){const o=qc(),l=s[1];Dt.lFrame=o,o.currentTNode=l.firstChild,o.lView=s,o.tView=l,o.contextLView=s,o.bindingIndex=l.bindingStartIndex,o.inI18n=!1}function qc(){const s=Dt.lFrame,o=null===s?null:s.child;return null===o?Zc(s):o}function Zc(s){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=o),o}function Wc(){const s=Dt.lFrame;return Dt.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const rd=Wc;function fo(){const s=Wc();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function Jn(){return Dt.lFrame.selectedIndex}function Wi(s){Dt.lFrame.selectedIndex=s}function _n(){const s=Dt.lFrame;return lo(s.tView,s.selectedIndex)}function Qc(s,o){for(let l=o.directiveStart,d=o.directiveEnd;l<d;l++){const m=s.data[l].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:C,ngAfterViewInit:E,ngAfterViewChecked:S,ngOnDestroy:R}=m;v&&(s.contentHooks||(s.contentHooks=[])).push(-l,v),C&&((s.contentHooks||(s.contentHooks=[])).push(l,C),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(l,C)),E&&(s.viewHooks||(s.viewHooks=[])).push(-l,E),S&&((s.viewHooks||(s.viewHooks=[])).push(l,S),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(l,S)),null!=R&&(s.destroyHooks||(s.destroyHooks=[])).push(l,R)}}function Ho(s,o,l){$o(s,o,3,l)}function jo(s,o,l,d){(3&s[2])===l&&$o(s,o,l,d)}function ad(s,o){let l=s[2];(3&l)===o&&(l&=2047,l+=1,s[2]=l)}function $o(s,o,l,d){const m=d??-1,v=o.length-1;let C=0;for(let E=void 0!==d?65535&s[18]:0;E<v;E++)if("number"==typeof o[E+1]){if(C=o[E],null!=d&&C>=d)break}else o[E]<0&&(s[18]+=65536),(C<m||-1==m)&&(ld(s,l,o,E),s[18]=(4294901760&s[18])+E+2),E++}function ld(s,o,l,d){const h=l[d]<0,m=l[d+1],C=s[h?-l[d]:l[d]];if(h){if(s[2]>>11<s[18]>>16&&(3&s[2])===o){s[2]+=2048;try{m.call(C)}finally{}}}else try{m.call(C)}finally{}}class Hs{constructor(o,l,d){this.factory=o,this.resolving=!1,this.canSeeViewProviders=l,this.injectImpl=d}}function Go(s,o,l){let d=0;for(;d<l.length;){const h=l[d];if("number"==typeof h){if(0!==h)break;d++;const m=l[d++],v=l[d++],C=l[d++];s.setAttribute(o,v,C,m)}else{const m=h,v=l[++d];jl(m)?s.setProperty(o,m,v):s.setAttribute(o,m,v),d++}}return d}function _o(s){return 3===s||4===s||6===s}function jl(s){return 64===s.charCodeAt(0)}function Pa(s,o){if(null!==o&&0!==o.length)if(null===s||0===s.length)s=o.slice();else{let l=-1;for(let d=0;d<o.length;d++){const h=o[d];"number"==typeof h?l=h:0===l||ud(s,l,h,null,-1===l||2===l?o[++d]:null)}}return s}function ud(s,o,l,d,h){let m=0,v=s.length;if(-1===o)v=-1;else for(;m<s.length;){const C=s[m++];if("number"==typeof C){if(C===o){v=-1;break}if(C>o){v=m-1;break}}}for(;m<s.length;){const C=s[m];if("number"==typeof C)break;if(C===l){if(null===d)return void(null!==h&&(s[m+1]=h));if(d===s[m+1])return void(s[m+2]=h)}m++,null!==d&&m++,null!==h&&m++}-1!==v&&(s.splice(v,0,o),m=v+1),s.splice(m++,0,l),null!==d&&s.splice(m++,0,d),null!==h&&s.splice(m++,0,h)}function dd(s){return-1!==s}function di(s){return 32767&s}function Fa(s,o){let l=function Na(s){return s>>16}(s),d=o;for(;l>0;)d=d[15],l--;return d}let zr=!0;function La(s){const o=zr;return zr=s,o}let Fn=0;const kr={};function yo(s,o){const l=Gl(s,o);if(-1!==l)return l;const d=o[1];d.firstCreatePass&&(s.injectorIndex=o.length,Ba(d.data,s),Ba(o,null),Ba(d.blueprint,null));const h=zl(s,o),m=s.injectorIndex;if(dd(h)){const v=di(h),C=Fa(h,o),E=C[1].data;for(let S=0;S<8;S++)o[m+S]=C[v+S]|E[v+S]}return o[m+8]=h,m}function Ba(s,o){s.push(0,0,0,0,0,0,0,0,o)}function Gl(s,o){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===o[s.injectorIndex+8]?-1:s.injectorIndex}function zl(s,o){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let l=0,d=null,h=o;for(;null!==h;){if(d=Zo(h),null===d)return-1;if(l++,h=h[15],-1!==d.injectorIndex)return d.injectorIndex|l<<16}return-1}function js(s,o,l){!function $l(s,o,l){let d;"string"==typeof l?d=l.charCodeAt(0)||0:l.hasOwnProperty(G)&&(d=l[G]),null==d&&(d=l[G]=Fn++);const h=255&d;o.data[s+(h>>5)]|=1<<h}(s,o,l)}function $s(s,o,l){if(l&Ke.Optional)return s;be()}function ql(s,o,l,d){if(l&Ke.Optional&&void 0===d&&(d=null),0==(l&(Ke.Self|Ke.Host))){const h=s[9],m=Pn(void 0);try{return h?h.get(o,d,l&Ke.Optional):Tr(o,d,l&Ke.Optional)}finally{Pn(m)}}return $s(d,0,l)}function vo(s,o,l,d=Ke.Default,h){if(null!==s){if(1024&o[2]){const v=function qo(s,o,l,d,h){let m=s,v=o;for(;null!==m&&null!==v&&1024&v[2]&&!(256&v[2]);){const C=Ua(m,v,l,d|Ke.Self,kr);if(C!==kr)return C;let E=m.parent;if(!E){const S=v[21];if(S){const R=S.get(l,kr,d);if(R!==kr)return R}E=Zo(v),v=v[15]}m=E}return h}(s,o,l,d,kr);if(v!==kr)return v}const m=Ua(s,o,l,d,kr);if(m!==kr)return m}return ql(o,l,d,h)}function Ua(s,o,l,d,h){const m=function Jc(s){if("string"==typeof s)return s.charCodeAt(0)||0;const o=s.hasOwnProperty(G)?s[G]:void 0;return"number"==typeof o?o>=0?255&o:eu:o}(l);if("function"==typeof m){if(!Nl(o,s,d))return d&Ke.Host?$s(h,0,d):ql(o,l,d,h);try{const v=m(d);if(null!=v||d&Ke.Optional)return v;be()}finally{rd()}}else if("number"==typeof m){let v=null,C=Gl(s,o),E=-1,S=d&Ke.Host?o[16][6]:null;for((-1===C||d&Ke.SkipSelf)&&(E=-1===C?zl(s,o):o[C+8],-1!==E&&Ha(d,!1)?(v=o[1],C=di(E),o=Fa(E,o)):C=-1);-1!==C;){const R=o[1];if(Zl(m,C,R.data)){const F=pd(C,o,l,v,d,S);if(F!==kr)return F}E=o[C+8],-1!==E&&Ha(d,o[1].data[C+8]===S)&&Zl(m,C,o)?(v=R,C=di(E),o=Fa(E,o)):C=-1}}return h}function pd(s,o,l,d,h,m){const v=o[1],C=v.data[s+8],R=zo(C,v,l,null==d?Da(C)&&zr:d!=v&&0!=(3&C.type),h&Ke.Host&&m===C);return null!==R?gs(o,v,R,C):kr}function zo(s,o,l,d,h){const m=s.providerIndexes,v=o.data,C=1048575&m,E=s.directiveStart,R=m>>20,Z=h?C+R:s.directiveEnd;for(let re=d?C:C+R;re<Z;re++){const Ee=v[re];if(re<E&&l===Ee||re>=E&&Ee.type===l)return re}if(h){const re=v[E];if(re&&Ii(re)&&re.type===l)return E}return null}function gs(s,o,l,d){let h=s[l];const m=o.data;if(function mo(s){return s instanceof Hs}(h)){const v=h;v.resolving&&function Xe(s,o){const l=o?`. Dependency path: ${o.join(" > ")} > ${s}`:"";throw new Ce(-200,`Circular dependency in DI detected for ${s}${l}`)}(function me(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():ve(s)}(m[l]));const C=La(v.canSeeViewProviders);v.resolving=!0;const E=v.injectImpl?Pn(v.injectImpl):null;Nl(s,d,Ke.Default);try{h=s[l]=v.factory(void 0,m,s,d),o.firstCreatePass&&l>=d.directiveStart&&function od(s,o,l){const{ngOnChanges:d,ngOnInit:h,ngDoCheck:m}=o.type.prototype;if(d){const v=ao(o);(l.preOrderHooks||(l.preOrderHooks=[])).push(s,v),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(s,v)}h&&(l.preOrderHooks||(l.preOrderHooks=[])).push(0-s,h),m&&((l.preOrderHooks||(l.preOrderHooks=[])).push(s,m),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(s,m))}(l,m[l],o)}finally{null!==E&&Pn(E),La(C),v.resolving=!1,rd()}}return h}function Zl(s,o,l){return!!(l[o+(s>>5)]&1<<s)}function Ha(s,o){return!(s&Ke.Self||s&Ke.Host&&o)}class bo{constructor(o,l){this._tNode=o,this._lView=l}get(o,l,d){return vo(this._tNode,this._lView,o,d,l)}}function eu(){return new bo(Sn(),xe())}function _s(s){return Nn(()=>{const o=s.prototype.constructor,l=o[Y]||Wl(o),d=Object.prototype;let h=Object.getPrototypeOf(s.prototype).constructor;for(;h&&h!==d;){const m=h[Y]||Wl(h);if(m&&m!==l)return m;h=Object.getPrototypeOf(h)}return m=>new m})}function Wl(s){return Be(s)?()=>{const o=Wl(X(s));return o&&o()}:$r(s)}function Zo(s){const o=s[1],l=o.type;return 2===l?o.declTNode:1===l?s[6]:null}function Kl(s){return function fd(s,o){if("class"===o)return s.classes;if("style"===o)return s.styles;const l=s.attrs;if(l){const d=l.length;let h=0;for(;h<d;){const m=l[h];if(_o(m))break;if(0===m)h+=2;else if("number"==typeof m)for(h++;h<d&&"string"==typeof l[h];)h++;else{if(m===o)return l[h+1];h+=2}}}return null}(Sn(),s)}const Gs="__parameters__";function Yo(s,o,l){return Nn(()=>{const d=function Yl(s){return function(...l){if(s){const d=s(...l);for(const h in d)this[h]=d[h]}}}(o);function h(...m){if(this instanceof h)return d.apply(this,m),this;const v=new h(...m);return C.annotation=v,C;function C(E,S,R){const F=E.hasOwnProperty(Gs)?E[Gs]:Object.defineProperty(E,Gs,{value:[]})[Gs];for(;F.length<=R;)F.push(null);return(F[R]=F[R]||[]).push(v),E}}return l&&(h.prototype=Object.create(l.prototype)),h.prototype.ngMetadataName=s,h.annotationCls=h,h})}class fn{constructor(o,l){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof l?this.__NG_ELEMENT_ID__=l:void 0!==l&&(this.\u0275prov=Qt({token:this,providedIn:l.providedIn||"root",factory:l.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Yi(s,o){void 0===o&&(o=s);for(let l=0;l<s.length;l++){let d=s[l];Array.isArray(d)?(o===s&&(o=s.slice(0,l)),Yi(d,o)):o!==s&&o.push(d)}return o}function Rr(s,o){s.forEach(l=>Array.isArray(l)?Rr(l,o):o(l))}function tu(s,o,l){o>=s.length?s.push(l):s.splice(o,0,l)}function Qo(s,o){return o>=s.length-1?s.pop():s.splice(o,1)[0]}function Oi(s,o){const l=[];for(let d=0;d<s;d++)l.push(o);return l}function Pi(s,o,l){let d=vs(s,o);return d>=0?s[1|d]=l:(d=~d,function nt(s,o,l,d){let h=s.length;if(h==o)s.push(l,d);else if(1===h)s.push(d,s[0]),s[0]=l;else{for(h--,s.push(s[h-1],s[h]);h>o;)s[h]=s[h-2],h--;s[o]=l,s[o+1]=d}}(s,d,o,l)),d}function ea(s,o){const l=vs(s,o);if(l>=0)return s[1|l]}function vs(s,o){return function Ni(s,o,l){let d=0,h=s.length>>l;for(;h!==d;){const m=d+(h-d>>1),v=s[m<<l];if(o===v)return m<<l;v>o?h=m:d=m+1}return~(h<<l)}(s,o,1)}const pn={},Zr="__NG_DI_FLAG__",ec="ngTempTokenPath",tc=/\n/gm,gd="__source";let Eo;function bs(s){const o=Eo;return Eo=s,o}function ru(s,o=Ke.Default){if(void 0===Eo)throw new Ce(-203,!1);return null===Eo?Tr(s,void 0,o):Eo.get(s,o&Ke.Optional?null:void 0,o)}function Mn(s,o=Ke.Default){return(function os(){return qi}()||ru)(X(s),o)}function D(s,o=Ke.Default){return"number"!=typeof o&&(o=0|(o.optional&&8)|(o.host&&1)|(o.self&&2)|(o.skipSelf&&4)),Mn(s,o)}function T(s){const o=[];for(let l=0;l<s.length;l++){const d=X(s[l]);if(Array.isArray(d)){if(0===d.length)throw new Ce(900,!1);let h,m=Ke.Default;for(let v=0;v<d.length;v++){const C=d[v],E=V(C);"number"==typeof E?-1===E?h=C.token:m|=E:h=C}o.push(Mn(h,m))}else o.push(Mn(d))}return o}function k(s,o){return s[Zr]=o,s.prototype[Zr]=o,s}function V(s){return s[Zr]}const je=k(Yo("Optional"),8),vt=k(Yo("SkipSelf"),4);let lm,ou,Za;function u0(s){lm=s}function qa(s){return function lf(){if(void 0===ou&&(ou=null,ln.trustedTypes))try{ou=ln.trustedTypes.createPolicy("angular",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return ou}()?.createHTML(s)||s}function au(s){return function Wa(){if(void 0===Za&&(Za=null,ln.trustedTypes))try{Za=ln.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return Za}()?.createHTML(s)||s}class Es{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class cm extends Es{getTypeName(){return"HTML"}}class lu extends Es{getTypeName(){return"Style"}}class um extends Es{getTypeName(){return"Script"}}class cu extends Es{getTypeName(){return"URL"}}class dm extends Es{getTypeName(){return"ResourceURL"}}function Kr(s){return s instanceof Es?s.changingThisBreaksApplicationSecurity:s}function Ya(s,o){const l=function vd(s){return s instanceof Es&&s.getTypeName()||null}(s);if(null!=l&&l!==o){if("ResourceURL"===l&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${l} (see https://g.co/ng/security#xss)`)}return l===o}function j_(s){return new cm(s)}function h0(s){return new lu(s)}function $_(s){return new um(s)}function f0(s){return new cu(s)}function cf(s){return new dm(s)}class bd{constructor(o){this.inertDocumentHelper=o}getInertBodyElement(o){o="<body><remove></remove>"+o;try{const l=(new window.DOMParser).parseFromString(qa(o),"text/html").body;return null===l?this.inertDocumentHelper.getInertBodyElement(o):(l.removeChild(l.firstChild),l)}catch{return null}}}class wd{constructor(o){if(this.defaultDoc=o,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const l=this.inertDocument.createElement("html");this.inertDocument.appendChild(l);const d=this.inertDocument.createElement("body");l.appendChild(d)}}getInertBodyElement(o){const l=this.inertDocument.createElement("template");if("content"in l)return l.innerHTML=qa(o),l;const d=this.inertDocument.createElement("body");return d.innerHTML=qa(o),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(d),d}stripCustomNsAttrs(o){const l=o.attributes;for(let h=l.length-1;0<h;h--){const v=l.item(h).name;("xmlns:ns1"===v||0===v.indexOf("ns1:"))&&o.removeAttribute(v)}let d=o.firstChild;for(;d;)d.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(d),d=d.nextSibling}}const df=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function Ks(s){return(s=String(s)).match(df)?s:"unsafe:"+s}function Ys(s){const o={};for(const l of s.split(","))o[l]=!0;return o}function na(...s){const o={};for(const l of s)for(const d in l)l.hasOwnProperty(d)&&(o[d]=!0);return o}const fm=Ys("area,br,col,hr,img,wbr"),hf=Ys("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Cd=Ys("rp,rt"),pm=na(fm,na(hf,Ys("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),na(Cd,Ys("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),na(Cd,hf)),uu=Ys("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Ed=Ys("srcset"),gm=na(uu,Ed,Ys("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ys("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),_m=Ys("script,style,template");class pf{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(o){let l=o.firstChild,d=!0;for(;l;)if(l.nodeType===Node.ELEMENT_NODE?d=this.startElement(l):l.nodeType===Node.TEXT_NODE?this.chars(l.nodeValue):this.sanitizedSomething=!0,d&&l.firstChild)l=l.firstChild;else for(;l;){l.nodeType===Node.ELEMENT_NODE&&this.endElement(l);let h=this.checkClobberedElement(l,l.nextSibling);if(h){l=h;break}l=this.checkClobberedElement(l,l.parentNode)}return this.buf.join("")}startElement(o){const l=o.nodeName.toLowerCase();if(!pm.hasOwnProperty(l))return this.sanitizedSomething=!0,!_m.hasOwnProperty(l);this.buf.push("<"),this.buf.push(l);const d=o.attributes;for(let h=0;h<d.length;h++){const m=d.item(h),v=m.name,C=v.toLowerCase();if(!gm.hasOwnProperty(C)){this.sanitizedSomething=!0;continue}let E=m.value;uu[C]&&(E=Ks(E)),Ed[C]&&(s=E,E=(s=String(s)).split(",").map(o=>Ks(o.trim())).join(", ")),this.buf.push(" ",v,'="',ic(E),'"')}var s;return this.buf.push(">"),!0}endElement(o){const l=o.nodeName.toLowerCase();pm.hasOwnProperty(l)&&!fm.hasOwnProperty(l)&&(this.buf.push("</"),this.buf.push(l),this.buf.push(">"))}chars(o){this.buf.push(ic(o))}checkClobberedElement(o,l){if(l&&(o.compareDocumentPosition(l)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${o.outerHTML}`);return l}}const du=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,mf=/([^\#-~ |!])/g;function ic(s){return s.replace(/&/g,"&amp;").replace(du,function(o){return"&#"+(1024*(o.charCodeAt(0)-55296)+(o.charCodeAt(1)-56320)+65536)+";"}).replace(mf,function(o){return"&#"+o.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let hu;function gf(s,o){let l=null;try{hu=hu||function Yr(s){const o=new wd(s);return function uf(){try{return!!(new window.DOMParser).parseFromString(qa(""),"text/html")}catch{return!1}}()?new bd(o):o}(s);let d=o?String(o):"";l=hu.getInertBodyElement(d);let h=5,m=d;do{if(0===h)throw new Error("Failed to sanitize html because the input is unstable");h--,d=m,m=l.innerHTML,l=hu.getInertBodyElement(d)}while(d!==m);return qa((new pf).sanitizeChildren(ym(l)||l))}finally{if(l){const d=ym(l)||l;for(;d.firstChild;)d.removeChild(d.firstChild)}}}function ym(s){return"content"in s&&function vm(s){return s.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===s.nodeName}(s)?s.content:null}var Vn=(()=>((Vn=Vn||{})[Vn.NONE=0]="NONE",Vn[Vn.HTML=1]="HTML",Vn[Vn.STYLE=2]="STYLE",Vn[Vn.SCRIPT=3]="SCRIPT",Vn[Vn.URL=4]="URL",Vn[Vn.RESOURCE_URL=5]="RESOURCE_URL",Vn))();function z_(s){const o=ia();return o?au(o.sanitize(Vn.HTML,s)||""):Ya(s,"HTML")?au(Kr(s)):gf(function B_(){return void 0!==lm?lm:typeof document<"u"?document:void 0}(),ve(s))}function bm(s){const o=ia();return o?o.sanitize(Vn.URL,s)||"":Ya(s,"URL")?Kr(s):Ks(ve(s))}function ia(){const s=xe();return s&&s[12]}const pu=new fn("ENVIRONMENT_INITIALIZER"),Cm=new fn("INJECTOR",-1),yf=new fn("INJECTOR_DEF_TYPES");class Dd{get(o,l=pn){if(l===pn){const d=new Error(`NullInjectorError: No provider for ${fe(o)}!`);throw d.name="NullInjectorError",d}return l}}function Em(...s){return{\u0275providers:hr(0,s)}}function hr(s,...o){const l=[],d=new Set;let h;return Rr(o,m=>{const v=m;mu(v,l,[],d)&&(h||(h=[]),h.push(v))}),void 0!==h&&Qa(h,l),l}function Qa(s,o){for(let l=0;l<s.length;l++){const{providers:h}=s[l];Rr(h,m=>{o.push(m)})}}function mu(s,o,l,d){if(!(s=X(s)))return!1;let h=null,m=Os(s);const v=!m&&Ot(s);if(m||v){if(v&&!v.standalone)return!1;h=s}else{const E=s.ngModule;if(m=Os(E),!m)return!1;h=E}const C=d.has(h);if(v){if(C)return!1;if(d.add(h),v.dependencies){const E="function"==typeof v.dependencies?v.dependencies():v.dependencies;for(const S of E)mu(S,o,l,d)}}else{if(!m)return!1;{if(null!=m.imports&&!C){let S;d.add(h);try{Rr(m.imports,R=>{mu(R,o,l,d)&&(S||(S=[]),S.push(R))})}finally{}void 0!==S&&Qa(S,o)}if(!C){const S=$r(h)||(()=>new h);o.push({provide:h,useFactory:S,deps:It},{provide:yf,useValue:h,multi:!0},{provide:pu,useValue:()=>Mn(h),multi:!0})}const E=m.providers;null==E||C||Rr(E,R=>{o.push(R)})}}return h!==s&&void 0!==s.providers}const Td=he({provide:String,useValue:he});function gu(s){return null!==s&&"object"==typeof s&&Td in s}function Do(s){return"function"==typeof s}const rc=new fn("Set Injector scope."),_u={},K_={};let xd;function yu(){return void 0===xd&&(xd=new Dd),xd}class zn{}class Ad extends zn{constructor(o,l,d,h){super(),this.parent=l,this.source=d,this.scopes=h,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,kd(o,v=>this.processProvider(v)),this.records.set(Cm,Ja(void 0,this)),h.has("environment")&&this.records.set(zn,Ja(void 0,this));const m=this.records.get(rc);null!=m&&"string"==typeof m.value&&this.scopes.add(m.value),this.injectorDefTypes=new Set(this.get(yf.multi,It,Ke.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();for(const o of this._onDestroyHooks)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(o){this._onDestroyHooks.push(o)}runInContext(o){this.assertNotDestroyed();const l=bs(this),d=Pn(void 0);try{return o()}finally{bs(l),Pn(d)}}get(o,l=pn,d=Ke.Default){this.assertNotDestroyed();const h=bs(this),m=Pn(void 0);try{if(!(d&Ke.SkipSelf)){let C=this.records.get(o);if(void 0===C){const E=function Md(s){return"function"==typeof s||"object"==typeof s&&s instanceof fn}(o)&&rn(o);C=E&&this.injectableDefInScope(E)?Ja(sa(o),_u):null,this.records.set(o,C)}if(null!=C)return this.hydrate(o,C)}return(d&Ke.Self?yu():this.parent).get(o,l=d&Ke.Optional&&l===pn?null:l)}catch(v){if("NullInjectorError"===v.name){if((v[ec]=v[ec]||[]).unshift(fe(o)),h)throw v;return function J(s,o,l,d){const h=s[ec];throw o[gd]&&h.unshift(o[gd]),s.message=function ce(s,o,l,d=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.slice(2):s;let h=fe(o);if(Array.isArray(o))h=o.map(fe).join(" -> ");else if("object"==typeof o){let m=[];for(let v in o)if(o.hasOwnProperty(v)){let C=o[v];m.push(v+":"+("string"==typeof C?JSON.stringify(C):fe(C)))}h=`{${m.join(", ")}}`}return`${l}${d?"("+d+")":""}[${h}]: ${s.replace(tc,"\n  ")}`}("\n"+s.message,h,l,d),s.ngTokenPath=h,s[ec]=null,s}(v,o,"R3InjectorError",this.source)}throw v}finally{Pn(m),bs(h)}}resolveInjectorInitializers(){const o=bs(this),l=Pn(void 0);try{const d=this.get(pu.multi,It,Ke.Self);for(const h of d)h()}finally{bs(o),Pn(l)}}toString(){const o=[],l=this.records;for(const d of l.keys())o.push(fe(d));return`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ce(205,!1)}processProvider(o){let l=Do(o=X(o))?o:X(o&&o.provide);const d=function To(s){return gu(s)?Ja(void 0,s.useValue):Ja(Xa(s),_u)}(o);if(Do(o)||!0!==o.multi)this.records.get(l);else{let h=this.records.get(l);h||(h=Ja(void 0,_u,!0),h.factory=()=>T(h.multi),this.records.set(l,h)),l=o,h.multi.push(o)}this.records.set(l,d)}hydrate(o,l){return l.value===_u&&(l.value=K_,l.value=l.factory()),"object"==typeof l.value&&l.value&&function bf(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(l.value)&&this._ngOnDestroyHooks.add(l.value),l.value}injectableDefInScope(o){if(!o.providedIn)return!1;const l=X(o.providedIn);return"string"==typeof l?"any"===l||this.scopes.has(l):this.injectorDefTypes.has(l)}}function sa(s){const o=rn(s),l=null!==o?o.factory:$r(s);if(null!==l)return l;if(s instanceof fn)throw new Ce(204,!1);if(s instanceof Function)return function Im(s){const o=s.length;if(o>0)throw Oi(o,"?"),new Ce(204,!1);const l=function Ei(s){const o=s&&(s[Ur]||s[Dr]);if(o){const l=function Gi(s){if(s.hasOwnProperty("name"))return s.name;const o=(""+s).match(/^function\s*([^\s(]+)/);return null===o?"":o[1]}(s);return console.warn(`DEPRECATED: DI is instantiating a token "${l}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${l}" class.`),o}return null}(s);return null!==l?()=>l.factory(s):()=>new s}(s);throw new Ce(204,!1)}function Xa(s,o,l){let d;if(Do(s)){const h=X(s);return $r(h)||sa(h)}if(gu(s))d=()=>X(s.useValue);else if(function vf(s){return!(!s||!s.useFactory)}(s))d=()=>s.useFactory(...T(s.deps||[]));else if(function Sd(s){return!(!s||!s.useExisting)}(s))d=()=>Mn(X(s.useExisting));else{const h=X(s&&(s.useClass||s.provide));if(!function Y_(s){return!!s.deps}(s))return $r(h)||sa(h);d=()=>new h(...T(s.deps))}return d}function Ja(s,o,l=!1){return{factory:s,value:o,multi:l?[]:void 0}}function Dm(s){return!!s.\u0275providers}function kd(s,o){for(const l of s)Array.isArray(l)?kd(l,o):Dm(l)?kd(l.\u0275providers,o):o(l)}class Tm{}class w{resolveComponentFactory(o){throw function y(s){const o=Error(`No component factory found for ${fe(s)}. Did you add it to @NgModule.entryComponents?`);return o.ngComponent=s,o}(o)}}let M=(()=>{class s{}return s.NULL=new w,s})();function O(){return K(Sn(),xe())}function K(s,o){return new de(Ri(s,o))}let de=(()=>{class s{constructor(l){this.nativeElement=l}}return s.__NG_ELEMENT_ID__=O,s})();function Ve(s){return s instanceof de?s.nativeElement:s}class yt{}let gt=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function ei(){const s=xe(),l=Zt(Sn().index,s);return(ui(l)?l:s)[11]}(),s})(),Is=(()=>{class s{}return s.\u0275prov=Qt({token:s,providedIn:"root",factory:()=>null}),s})();class sc{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const Sm=new sc("14.2.1"),Rd={};function Cf(s){return s.ngOriginalError}class Ef{constructor(){this._console=console}handleError(o){const l=this._findOriginalError(o);this._console.error("ERROR",o),l&&this._console.error("ORIGINAL ERROR",l)}_findOriginalError(o){let l=o&&Cf(o);for(;l&&Cf(l);)l=Cf(l);return l||null}}const aa=new Map;let tl=0;const Nd="__ngContext__";function er(s,o){ui(o)?(s[Nd]=o[20],function ey(s){aa.set(s[20],s)}(o)):s[Nd]=o}function Tf(s){const o=s[Nd];return"number"==typeof o?function ty(s){return aa.get(s)||null}(o):o||null}function So(s){const o=Tf(s);return o?ui(o)?o:o.lView:null}function Qr(s){return s instanceof Function?s():s}var il=(()=>((il=il||{})[il.Important=1]="Important",il[il.DashCase=2]="DashCase",il))();function ca(s,o){return undefined(s,o)}function Vd(s){const o=s[3];return ki(o)?o[3]:o}function Mm(s){return ly(s[13])}function ay(s){return ly(s[4])}function ly(s){for(;null!==s&&!ki(s);)s=s[4];return s}function rl(s,o,l,d,h){if(null!=d){let m,v=!1;ki(d)?m=d:ui(d)&&(v=!0,d=d[0]);const C=Tn(d);0===s&&null!==l?null==h?T0(o,l,C):Cu(o,l,C,h||null,!0):1===s&&null!==l?Cu(o,l,C,h||null,!0):2===s?function k0(s,o,l){const d=Nm(s,o);d&&function Pm(s,o,l,d){s.removeChild(o,l,d)}(s,d,o,l)}(o,C,v):3===s&&o.destroyNode(C),null!=m&&function R0(s,o,l,d,h){const m=l[7];m!==Tn(l)&&rl(o,s,d,m,h);for(let C=10;C<l.length;C++){const E=l[C];ol(E[1],E,s,o,d,m)}}(o,s,m,l,h)}}function cy(s,o,l){return s.createElement(o,l)}function Bd(s,o){const l=s[9],d=l.indexOf(o),h=o[3];512&o[2]&&(o[2]&=-513,En(h,-1)),l.splice(d,1)}function Rm(s,o){if(s.length<=10)return;const l=10+o,d=s[l];if(d){const h=d[17];null!==h&&h!==s&&Bd(h,d),o>0&&(s[l-1][4]=d[4]);const m=Qo(s,10+o);!function wu(s,o){ol(s,o,o[11],2,null,null),o[0]=null,o[6]=null}(d[1],d);const v=m[19];null!==v&&v.detachView(m[1]),d[3]=null,d[4]=null,d[2]&=-65}return d}function Af(s,o){if(!(128&o[2])){const l=o[11];l.destroyNode&&ol(s,o,l,3,null,null),function uy(s){let o=s[13];if(!o)return dy(s[1],s);for(;o;){let l=null;if(ui(o))l=o[13];else{const d=o[10];d&&(l=d)}if(!l){for(;o&&!o[4]&&o!==s;)ui(o)&&dy(o[1],o),o=o[3];null===o&&(o=s),ui(o)&&dy(o[1],o),l=o&&o[4]}o=l}}(o)}}function dy(s,o){if(!(128&o[2])){o[2]&=-65,o[2]|=128,function Om(s,o){let l;if(null!=s&&null!=(l=s.destroyHooks))for(let d=0;d<l.length;d+=2){const h=o[l[d]];if(!(h instanceof Hs)){const m=l[d+1];if(Array.isArray(m))for(let v=0;v<m.length;v+=2){const C=h[m[v]],E=m[v+1];try{E.call(C)}finally{}}else try{m.call(h)}finally{}}}}(s,o),function hy(s,o){const l=s.cleanup,d=o[7];let h=-1;if(null!==l)for(let m=0;m<l.length-1;m+=2)if("string"==typeof l[m]){const v=l[m+1],C="function"==typeof v?v(o):Tn(o[v]),E=d[h=l[m+2]],S=l[m+3];"boolean"==typeof S?C.removeEventListener(l[m],E,S):S>=0?d[h=S]():d[h=-S].unsubscribe(),m+=2}else{const v=d[h=l[m+1]];l[m].call(v)}if(null!==d){for(let m=h+1;m<d.length;m++)(0,d[m])();o[7]=null}}(s,o),1===o[1].type&&o[11].destroy();const l=o[17];if(null!==l&&ki(o[3])){l!==o[3]&&Bd(l,o);const d=o[19];null!==d&&d.detachView(s)}!function Li(s){aa.delete(s[20])}(o)}}function fy(s,o,l){return function py(s,o,l){let d=o;for(;null!==d&&40&d.type;)d=(o=d).parent;if(null===d)return l[0];if(2&d.flags){const h=s.data[d.directiveStart].encapsulation;if(h===ct.None||h===ct.Emulated)return null}return Ri(d,l)}(s,o.parent,l)}function Cu(s,o,l,d,h){s.insertBefore(o,l,d,h)}function T0(s,o,l){s.appendChild(o,l)}function S0(s,o,l,d,h){null!==d?Cu(s,o,l,d,h):T0(s,o,l)}function Nm(s,o){return s.parentNode(o)}function x0(s,o,l){return Fm(s,o,l)}let Fm=function A0(s,o,l){return 40&s.type?Ri(s,l):null};function ua(s,o,l,d){const h=fy(s,d,o),m=o[11],C=x0(d.parent||o[6],d,o);if(null!=h)if(Array.isArray(l))for(let E=0;E<l.length;E++)S0(m,h,l[E],C,!1);else S0(m,h,l,C,!1)}function Hd(s,o){if(null!==o){const l=o.type;if(3&l)return Ri(o,s);if(4&l)return my(-1,s[o.index]);if(8&l){const d=o.child;if(null!==d)return Hd(s,d);{const h=s[o.index];return ki(h)?my(-1,h):Tn(h)}}if(32&l)return ca(o,s)()||Tn(s[o.index]);{const d=hD(s,o);return null!==d?Array.isArray(d)?d[0]:Hd(Vd(s[16]),d):Hd(s,o.next)}}return null}function hD(s,o){return null!==o?s[16][6].projection[o.projection]:null}function my(s,o){const l=10+s+1;if(l<o.length){const d=o[l],h=d[1].firstChild;if(null!==h)return Hd(d,h)}return o[7]}function gy(s,o,l,d,h,m,v){for(;null!=l;){const C=d[l.index],E=l.type;if(v&&0===o&&(C&&er(Tn(C),d),l.flags|=4),64!=(64&l.flags))if(8&E)gy(s,o,l.child,d,h,m,!1),rl(o,s,h,C,m);else if(32&E){const S=ca(l,d);let R;for(;R=S();)rl(o,s,h,R,m);rl(o,s,h,C,m)}else 16&E?Eu(s,o,d,l,h,m):rl(o,s,h,C,m);l=v?l.projectionNext:l.next}}function ol(s,o,l,d,h,m){gy(l,d,s.firstChild,o,h,m,!1)}function Eu(s,o,l,d,h,m){const v=l[16],E=v[6].projection[d.projection];if(Array.isArray(E))for(let S=0;S<E.length;S++)rl(o,s,h,E[S],m);else gy(s,o,E,v[3],h,m,!0)}function _y(s,o,l){s.setAttribute(o,"style",l)}function ac(s,o,l){""===l?s.removeAttribute(o,"class"):s.setAttribute(o,"class",l)}function P0(s,o,l){let d=s.length;for(;;){const h=s.indexOf(o,l);if(-1===h)return h;if(0===h||s.charCodeAt(h-1)<=32){const m=o.length;if(h+m===d||s.charCodeAt(h+m)<=32)return h}l=h+1}}const yy="ng-template";function fD(s,o,l){let d=0;for(;d<s.length;){let h=s[d++];if(l&&"class"===h){if(h=s[d],-1!==P0(h.toLowerCase(),o,0))return!0}else if(1===h){for(;d<s.length&&"string"==typeof(h=s[d++]);)if(h.toLowerCase()===o)return!0;return!1}}return!1}function Lm(s){return 4===s.type&&s.value!==yy}function kf(s,o,l){return o===(4!==s.type||l?s.value:yy)}function pD(s,o,l){let d=4;const h=s.attrs||[],m=function al(s){for(let o=0;o<s.length;o++)if(_o(s[o]))return o;return s.length}(h);let v=!1;for(let C=0;C<o.length;C++){const E=o[C];if("number"!=typeof E){if(!v)if(4&d){if(d=2|1&d,""!==E&&!kf(s,E,l)||""===E&&1===o.length){if(Ts(d))return!1;v=!0}}else{const S=8&d?E:o[++C];if(8&d&&null!==s.attrs){if(!fD(s.attrs,S,l)){if(Ts(d))return!1;v=!0}continue}const F=mD(8&d?"class":E,h,Lm(s),l);if(-1===F){if(Ts(d))return!1;v=!0;continue}if(""!==S){let Z;Z=F>m?"":h[F+1].toLowerCase();const re=8&d?Z:null;if(re&&-1!==P0(re,S,0)||2&d&&S!==Z){if(Ts(d))return!1;v=!0}}}}else{if(!v&&!Ts(d)&&!Ts(E))return!1;if(v&&Ts(E))continue;v=!1,d=E|1&d}}return Ts(d)||v}function Ts(s){return 0==(1&s)}function mD(s,o,l,d){if(null===o)return-1;let h=0;if(d||!l){let m=!1;for(;h<o.length;){const v=o[h];if(v===s)return h;if(3===v||6===v)m=!0;else{if(1===v||2===v){let C=o[++h];for(;"string"==typeof C;)C=o[++h];continue}if(4===v)break;if(0===v){h+=4;continue}}h+=m?1:2}return-1}return function by(s,o){let l=s.indexOf(4);if(l>-1)for(l++;l<s.length;){const d=s[l];if("number"==typeof d)return-1;if(d===o)return l;l++}return-1}(o,s)}function vy(s,o,l=!1){for(let d=0;d<o.length;d++)if(pD(s,o[d],l))return!0;return!1}function Iu(s,o){e:for(let l=0;l<o.length;l++){const d=o[l];if(s.length===d.length){for(let h=0;h<s.length;h++)if(s[h]!==d[h])continue e;return!0}}return!1}function Rf(s,o){return s?":not("+o.trim()+")":o}function F0(s){let o=s[0],l=1,d=2,h="",m=!1;for(;l<s.length;){let v=s[l];if("string"==typeof v)if(2&d){const C=s[++l];h+="["+v+(C.length>0?'="'+C+'"':"")+"]"}else 8&d?h+="."+v:4&d&&(h+=" "+v);else""!==h&&!Ts(v)&&(o+=Rf(m,h),h=""),d=v,m=m||!Ts(d);l++}return""!==h&&(o+=Rf(m,h)),o}const Ft={};function L0(s){V0(Ut(),xe(),Jn()+s,!1)}function V0(s,o,l,d){if(!d)if(3==(3&o[2])){const m=s.preOrderCheckHooks;null!==m&&Ho(o,m,l)}else{const m=s.preOrderHooks;null!==m&&jo(o,m,0,l)}Wi(l)}function Vm(s,o=null,l=null,d){const h=Bm(s,o,l,d);return h.resolveInjectorInitializers(),h}function Bm(s,o=null,l=null,d,h=new Set){const m=[l||It,Em(s)];return d=d||("object"==typeof s?void 0:fe(s)),new Ad(m,o||yu(),d||null,h)}let Or=(()=>{class s{static create(l,d){if(Array.isArray(l))return Vm({name:""},d,l,"");{const h=l.name??"";return Vm({name:h},l.parent,l.providers,h)}}}return s.THROW_IF_NOT_FOUND=pn,s.NULL=new Dd,s.\u0275prov=Qt({token:s,providedIn:"any",factory:()=>Mn(Cm)}),s.__NG_ELEMENT_ID__=-1,s})();function Lf(s,o=Ke.Default){const l=xe();return null===l?Mn(s,o):vo(Sn(),l,X(s),o)}function TD(){throw new Error("invalid")}function $d(s,o){return s<<17|o<<2}function xo(s){return s>>17&32767}function Vf(s){return 2|s}function vi(s){return(131068&s)>>2}function $m(s,o){return-131069&s|o<<2}function Dy(s){return 1|s}function Py(s,o){const l=s.contentQueries;if(null!==l)for(let d=0;d<l.length;d+=2){const h=l[d],m=l[d+1];if(-1!==m){const v=s.data[m];Oa(h),v.contentQueries(2,o[m],m)}}}function Gf(s,o,l,d,h,m,v,C,E,S,R){const F=o.blueprint.slice();return F[0]=h,F[2]=76|d,(null!==R||s&&1024&s[2])&&(F[2]|=1024),Sl(F),F[3]=F[15]=s,F[8]=l,F[10]=v||s&&s[10],F[11]=C||s&&s[11],F[12]=E||s&&s[12]||null,F[9]=S||s&&s[9]||null,F[6]=m,F[20]=function Fi(){return tl++}(),F[21]=R,F[16]=2==o.type?s[16]:F,F}function da(s,o,l,d,h){let m=s.data[o];if(null===m)m=function Km(s,o,l,d,h){const m=Ol(),v=Aa(),E=s.data[o]=function LD(s,o,l,d,h,m){return{type:l,index:d,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:m,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?m:m&&m.parent,l,o,d,h);return null===s.firstChild&&(s.firstChild=E),null!==m&&(v?null==m.child&&null!==E.parent&&(m.child=E):null===m.next&&(m.next=E)),E}(s,o,l,d,h),function em(){return Dt.lFrame.inI18n}()&&(m.flags|=64);else if(64&m.type){m.type=l,m.value=d,m.attrs=h;const v=function Uo(){const s=Dt.lFrame,o=s.currentTNode;return s.isParent?o:o.parent}();m.injectorIndex=null===v?-1:v.injectorIndex}return dr(m,!0),m}function qd(s,o,l,d){if(0===l)return-1;const h=o.length;for(let m=0;m<l;m++)o.push(d),s.blueprint.push(d),s.data.push(null);return h}function Ym(s,o,l){Fl(o);try{const d=s.viewQuery;null!==d&&Jm(1,d,l);const h=s.template;null!==h&&rw(s,o,h,1,l),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&Py(s,o),s.staticViewQueries&&Jm(2,s.viewQuery,l);const m=s.components;null!==m&&function Wm(s,o){for(let l=0;l<o.length;l++)WD(s,o[l])}(o,m)}catch(d){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),d}finally{o[2]&=-5,fo()}}function zf(s,o,l,d){const h=o[2];if(128!=(128&h)){Fl(o);try{Sl(o),function jc(s){return Dt.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==l&&rw(s,o,l,2,d);const v=3==(3&h);if(v){const S=s.preOrderCheckHooks;null!==S&&Ho(o,S,null)}else{const S=s.preOrderHooks;null!==S&&jo(o,S,0,null),ad(o,0)}if(function qD(s){for(let o=Mm(s);null!==o;o=ay(o)){if(!o[2])continue;const l=o[9];for(let d=0;d<l.length;d++){const h=l[d],m=h[3];0==(512&h[2])&&En(m,1),h[2]|=512}}}(o),function zD(s){for(let o=Mm(s);null!==o;o=ay(o))for(let l=10;l<o.length;l++){const d=o[l],h=d[1];co(d)&&zf(h,d,h.template,d[8])}}(o),null!==s.contentQueries&&Py(s,o),v){const S=s.contentCheckHooks;null!==S&&Ho(o,S)}else{const S=s.contentHooks;null!==S&&jo(o,S,1),ad(o,1)}!function iw(s,o){const l=s.hostBindingOpCodes;if(null!==l)try{for(let d=0;d<l.length;d++){const h=l[d];if(h<0)Wi(~h);else{const m=h,v=l[++d],C=l[++d];tm(v,m),C(2,o[m])}}}finally{Wi(-1)}}(s,o);const C=s.components;null!==C&&function Zm(s,o){for(let l=0;l<o.length;l++)ZD(s,o[l])}(o,C);const E=s.viewQuery;if(null!==E&&Jm(2,E,d),v){const S=s.viewCheckHooks;null!==S&&Ho(o,S)}else{const S=s.viewHooks;null!==S&&jo(o,S,2),ad(o,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),o[2]&=-41,512&o[2]&&(o[2]&=-513,En(o[3],-1))}finally{fo()}}}function PD(s,o,l,d){const h=o[10],v=Sa(o);try{!v&&h.begin&&h.begin(),v&&Ym(s,o,d),zf(s,o,l,d)}finally{!v&&h.end&&h.end()}}function rw(s,o,l,d,h){const m=Jn(),v=2&d;try{Wi(-1),v&&o.length>22&&V0(s,o,22,!1),l(d,h)}finally{Wi(m)}}function qf(s,o,l){if(wl(o)){const h=o.directiveEnd;for(let m=o.directiveStart;m<h;m++){const v=s.data[m];v.contentQueries&&v.contentQueries(1,l[m],m)}}}function Ny(s,o,l){!ps()||(function lw(s,o,l,d){const h=l.directiveStart,m=l.directiveEnd;s.firstCreatePass||yo(l,o),er(d,o);const v=l.initialInputs;for(let C=h;C<m;C++){const E=s.data[C],S=Ii(E);S&&Qm(o,l,E);const R=gs(o,s,C,l);er(R,o),null!==v&&zy(0,C-h,R,E,0,v),S&&(Zt(l.index,o)[8]=R)}}(s,o,l,Ri(l,o)),128==(128&l.flags)&&function $y(s,o,l){const d=l.directiveStart,h=l.directiveEnd,m=l.index,v=function $c(){return Dt.lFrame.currentDirectiveIndex}();try{Wi(m);for(let C=d;C<h;C++){const E=s.data[C],S=o[C];Pl(C),(null!==E.hostBindings||0!==E.hostVars||null!==E.hostAttrs)&&Gy(E,S)}}finally{Wi(-1),Pl(v)}}(s,o,l))}function Fy(s,o,l=Ri){const d=o.localNames;if(null!==d){let h=o.index+1;for(let m=0;m<d.length;m+=2){const v=d[m+1],C=-1===v?l(o,s):s[v];s[h++]=C}}}function sw(s){const o=s.tView;return null===o||o.incompleteFirstPass?s.tView=Ly(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):o}function Ly(s,o,l,d,h,m,v,C,E,S){const R=22+d,F=R+h,Z=function ND(s,o){const l=[];for(let d=0;d<o;d++)l.push(d<s?null:Ft);return l}(R,F),re="function"==typeof S?S():S;return Z[1]={type:s,blueprint:Z,template:l,queries:null,viewQuery:C,declTNode:o,data:Z.slice().fill(null,R),bindingStartIndex:R,expandoStartIndex:F,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof m?m():m,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:E,consts:re,incompleteFirstPass:!1}}function Vy(s,o,l,d){const h=YD(o);null===l?h.push(d):(h.push(l),s.firstCreatePass&&pw(s).push(d,h.length-1))}function By(s,o,l){for(let d in s)if(s.hasOwnProperty(d)){const h=s[d];(l=null===l?{}:l).hasOwnProperty(d)?l[d].push(o,h):l[d]=[o,h]}return l}function Uy(s,o){const d=o.directiveEnd,h=s.data,m=o.attrs,v=[];let C=null,E=null;for(let S=o.directiveStart;S<d;S++){const R=h[S],F=R.inputs,Z=null===m||Lm(o)?null:GD(F,m);v.push(Z),C=By(F,S,C),E=By(R.outputs,S,E)}null!==C&&(C.hasOwnProperty("class")&&(o.flags|=16),C.hasOwnProperty("style")&&(o.flags|=32)),o.initialInputs=v,o.inputs=C,o.outputs=E}function Xr(s,o,l,d,h,m,v,C){const E=Ri(o,l);let R,S=o.inputs;!C&&null!=S&&(R=S[d])?(Zd(s,l,R,d,h),Da(o)&&Hy(l,o.index)):3&o.type&&(d=function ow(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(d),h=null!=v?v(h,o.value||"",d):h,m.setProperty(E,d,h))}function Hy(s,o){const l=Zt(o,s);16&l[2]||(l[2]|=32)}function jy(s,o,l,d){let h=!1;if(ps()){const m=function cw(s,o,l){const d=s.directiveRegistry;let h=null;if(d)for(let m=0;m<d.length;m++){const v=d[m];vy(l,v.selectors,!1)&&(h||(h=[]),js(yo(l,o),s,v.type),Ii(v)?(HD(s,l),h.unshift(v)):h.push(v))}return h}(s,o,l),v=null===d?null:{"":-1};if(null!==m){h=!0,uw(l,s.data.length,m.length);for(let R=0;R<m.length;R++){const F=m[R];F.providersResolver&&F.providersResolver(F)}let C=!1,E=!1,S=qd(s,o,m.length,null);for(let R=0;R<m.length;R++){const F=m[R];l.mergedAttrs=Pa(l.mergedAttrs,F.hostAttrs),dw(s,l,o,S,F),$D(S,F,v),null!==F.contentQueries&&(l.flags|=8),(null!==F.hostBindings||null!==F.hostAttrs||0!==F.hostVars)&&(l.flags|=128);const Z=F.type.prototype;!C&&(Z.ngOnChanges||Z.ngOnInit||Z.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(l.index),C=!0),!E&&(Z.ngOnChanges||Z.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(l.index),E=!0),S++}Uy(s,l)}v&&function jD(s,o,l){if(o){const d=s.localNames=[];for(let h=0;h<o.length;h+=2){const m=l[o[h+1]];if(null==m)throw new Ce(-301,!1);d.push(o[h],m)}}}(l,d,v)}return l.mergedAttrs=Pa(l.mergedAttrs,l.attrs),h}function aw(s,o,l,d,h,m){const v=m.hostBindings;if(v){let C=s.hostBindingOpCodes;null===C&&(C=s.hostBindingOpCodes=[]);const E=~o.index;(function UD(s){let o=s.length;for(;o>0;){const l=s[--o];if("number"==typeof l&&l<0)return l}return 0})(C)!=E&&C.push(E),C.push(d,h,v)}}function Gy(s,o){null!==s.hostBindings&&s.hostBindings(1,o)}function HD(s,o){o.flags|=2,(s.components||(s.components=[])).push(o.index)}function $D(s,o,l){if(l){if(o.exportAs)for(let d=0;d<o.exportAs.length;d++)l[o.exportAs[d]]=s;Ii(o)&&(l[""]=s)}}function uw(s,o,l){s.flags|=1,s.directiveStart=o,s.directiveEnd=o+l,s.providerIndexes=o}function dw(s,o,l,d,h){s.data[d]=h;const m=h.factory||(h.factory=$r(h.type)),v=new Hs(m,Ii(h),Lf);s.blueprint[d]=v,l[d]=v,aw(s,o,0,d,qd(s,l,h.hostVars,Ft),h)}function Qm(s,o,l){const d=Ri(o,s),h=sw(l),m=s[10],v=ti(s,Gf(s,h,null,l.onPush?32:16,d,o,m,m.createRenderer(d,l),null,null,null));s[o.index]=v}function Ao(s,o,l,d,h,m){const v=Ri(s,o);!function Zf(s,o,l,d,h,m,v){if(null==m)s.removeAttribute(o,h,l);else{const C=null==v?ve(m):v(m,d||"",h);s.setAttribute(o,h,C,l)}}(o[11],v,m,s.value,l,d,h)}function zy(s,o,l,d,h,m){const v=m[o];if(null!==v){const C=d.setInput;for(let E=0;E<v.length;){const S=v[E++],R=v[E++],F=v[E++];null!==C?d.setInput(l,F,S,R):l[R]=F}}}function GD(s,o){let l=null,d=0;for(;d<o.length;){const h=o[d];if(0!==h)if(5!==h){if("number"==typeof h)break;s.hasOwnProperty(h)&&(null===l&&(l=[]),l.push(h,s[h],o[d+1])),d+=2}else d+=2;else d+=4}return l}function Wf(s,o,l,d){return new Array(s,!0,!1,o,null,0,d,l,null,null)}function ZD(s,o){const l=Zt(o,s);if(co(l)){const d=l[1];48&l[2]?zf(d,l,d.template,l[8]):l[5]>0&&qy(l)}}function qy(s){for(let d=Mm(s);null!==d;d=ay(d))for(let h=10;h<d.length;h++){const m=d[h];if(co(m))if(512&m[2]){const v=m[1];zf(v,m,v.template,m[8])}else m[5]>0&&qy(m)}const l=s[1].components;if(null!==l)for(let d=0;d<l.length;d++){const h=Zt(l[d],s);co(h)&&h[5]>0&&qy(h)}}function WD(s,o){const l=Zt(o,s),d=l[1];(function hw(s,o){for(let l=o.length;l<s.blueprint.length;l++)o.push(s.blueprint[l])})(d,l),Ym(d,l,l[8])}function ti(s,o){return s[13]?s[14][4]=o:s[13]=o,s[14]=o,o}function Zy(s){for(;s;){s[2]|=32;const o=Vd(s);if(qh(s)&&!o)return s;s=o}return null}function Jm(s,o,l){Oa(0),o(s,l)}function YD(s){return s[7]||(s[7]=[])}function pw(s){return s.cleanup||(s.cleanup=[])}function eg(s,o,l){return(null===s||Ii(s))&&(l=function Il(s){for(;Array.isArray(s);){if("object"==typeof s[1])return s;s=s[0]}return null}(l[o.index])),l[11]}function Wy(s,o){const l=s[9],d=l?l.get(Ef,null):null;d&&d.handleError(o)}function Zd(s,o,l,d,h){for(let m=0;m<l.length;){const v=l[m++],C=l[m++],E=o[v],S=s.data[v];null!==S.setInput?S.setInput(E,h,d,C):E[C]=h}}function Kf(s,o,l){let d=l?s.styles:null,h=l?s.classes:null,m=0;if(null!==o)for(let v=0;v<o.length;v++){const C=o[v];"number"==typeof C?m=C:1==m?h=ge(h,C):2==m&&(d=ge(d,C+": "+o[++v]+";"))}l?s.styles=d:s.stylesWithoutHost=d,l?s.classes=h:s.classesWithoutHost=h}function ul(s,o,l,d,h=!1){for(;null!==l;){const m=o[l.index];if(null!==m&&d.push(Tn(m)),ki(m))for(let C=10;C<m.length;C++){const E=m[C],S=E[1].firstChild;null!==S&&ul(E[1],E,S,d)}const v=l.type;if(8&v)ul(s,o,l.child,d);else if(32&v){const C=ca(l,o);let E;for(;E=C();)d.push(E)}else if(16&v){const C=hD(o,l);if(Array.isArray(C))d.push(...C);else{const E=Vd(o[16]);ul(E[1],E,C,d,!0)}}l=h?l.projectionNext:l.next}return d}class Su{constructor(o,l){this._lView=o,this._cdRefInjectingView=l,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const o=this._lView,l=o[1];return ul(l,o,l.firstChild,[])}get context(){return this._lView[8]}set context(o){this._lView[8]=o}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[3];if(ki(o)){const l=o[8],d=l?l.indexOf(this):-1;d>-1&&(Rm(o,d),Qo(l,d))}this._attachedToViewContainer=!1}Af(this._lView[1],this._lView)}onDestroy(o){Vy(this._lView[1],this._lView,null,o)}markForCheck(){Zy(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){!function cl(s,o,l){const d=o[10];d.begin&&d.begin();try{zf(s,o,s.template,l)}catch(h){throw Wy(o,h),h}finally{d.end&&d.end()}}(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ce(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function D0(s,o){ol(s,o,o[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new Ce(902,!1);this._appRef=o}}class pR extends Su{constructor(o){super(o),this._view=o}detectChanges(){!function Xm(s){!function fw(s){for(let o=0;o<s.components.length;o++){const l=s.components[o],d=So(l);if(null!==d){const h=d[1];PD(h,d,h.template,l)}}}(s[8])}(this._view)}checkNoChanges(){}get context(){return null}}class tg extends M{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const l=Ot(o);return new Yf(l,this.ngModule)}}function Ky(s){const o=[];for(let l in s)s.hasOwnProperty(l)&&o.push({propName:s[l],templateName:l});return o}class QD{constructor(o,l){this.injector=o,this.parentInjector=l}get(o,l,d){const h=this.injector.get(o,Rd,d);return h!==Rd||l===Rd?h:this.parentInjector.get(o,l,d)}}class Yf extends Tm{constructor(o,l){super(),this.componentDef=o,this.ngModule=l,this.componentType=o.type,this.selector=function gD(s){return s.map(F0).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!l}get inputs(){return Ky(this.componentDef.inputs)}get outputs(){return Ky(this.componentDef.outputs)}create(o,l,d,h){let m=(h=h||this.ngModule)instanceof zn?h:h?.injector;m&&null!==this.componentDef.getStandaloneInjector&&(m=this.componentDef.getStandaloneInjector(m)||m);const v=m?new QD(o,m):o,C=v.get(yt,null);if(null===C)throw new Ce(407,!1);const E=v.get(Is,null),S=C.createRenderer(null,this.componentDef),R=this.componentDef.selectors[0][0]||"div",F=d?function FD(s,o,l){return s.selectRootElement(o,l===ct.ShadowDom)}(S,d,this.componentDef.encapsulation):cy(C.createRenderer(null,this.componentDef),R,function Yy(s){const o=s.toLowerCase();return"svg"===o?"svg":"math"===o?"math":null}(R)),Z=this.componentDef.onPush?288:272,re={components:[]},Ee=Ly(0,null,null,1,0,null,null,null,null,null),Pe=Gf(null,Ee,re,Z,null,null,C,S,E,v,null);let ze,Ye;Fl(Pe);try{const bt=function ng(s,o,l,d,h,m){const v=l[1];l[22]=s;const E=da(v,22,2,"#host",null),S=E.mergedAttrs=o.hostAttrs;null!==S&&(Kf(E,S,!0),null!==s&&(Go(h,s,S),null!==E.classes&&ac(h,s,E.classes),null!==E.styles&&_y(h,s,E.styles)));const R=d.createRenderer(s,o),F=Gf(l,sw(o),null,o.onPush?32:16,l[22],E,d,R,m||null,null,null);return v.firstCreatePass&&(js(yo(E,l),v,o.type),HD(v,E),uw(E,l.length,1)),ti(l,F),l[22]=F}(F,this.componentDef,Pe,C,S);if(F)if(d)Go(S,F,["ng-version",Sm.full]);else{const{attrs:ke,classes:_t}=function _D(s){const o=[],l=[];let d=1,h=2;for(;d<s.length;){let m=s[d];if("string"==typeof m)2===h?""!==m&&o.push(m,s[++d]):8===h&&l.push(m);else{if(!Ts(h))break;h=m}d++}return{attrs:o,classes:l}}(this.componentDef.selectors[0]);ke&&Go(S,F,ke),_t&&_t.length>0&&ac(S,F,_t.join(" "))}if(Ye=lo(Ee,22),void 0!==l){const ke=Ye.projection=[];for(let _t=0;_t<this.ngContentSelectors.length;_t++){const Ht=l[_t];ke.push(null!=Ht?Array.from(Ht):null)}}ze=function mR(s,o,l,d,h){const m=l[1],v=function BD(s,o,l){const d=Sn();s.firstCreatePass&&(l.providersResolver&&l.providersResolver(l),dw(s,d,o,qd(s,o,1,null),l),Uy(s,d));const h=gs(o,s,d.directiveStart,d);er(h,o);const m=Ri(d,o);return m&&er(m,o),h}(m,l,o);if(d.components.push(v),s[8]=v,null!==h)for(const E of h)E(v,o);if(o.contentQueries){const E=Sn();o.contentQueries(1,v,E.directiveStart)}const C=Sn();return!m.firstCreatePass||null===o.hostBindings&&null===o.hostAttrs||(Wi(C.index),aw(l[1],C,0,C.directiveStart,C.directiveEnd,o),Gy(o,v)),v}(bt,this.componentDef,Pe,re,[tT]),Ym(Ee,Pe,null)}finally{fo()}return new eT(this.componentType,ze,K(Ye,Pe),Pe,Ye)}}class eT extends class el{}{constructor(o,l,d,h,m){super(),this.location=d,this._rootLView=h,this._tNode=m,this.instance=l,this.hostView=this.changeDetectorRef=new pR(h),this.componentType=o}setInput(o,l){const d=this._tNode.inputs;let h;if(null!==d&&(h=d[o])){const m=this._rootLView;Zd(m[1],m,h,o,l),Hy(m,this._tNode.index)}}get injector(){return new bo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}function tT(){const s=Sn();Qc(xe()[1],s)}function ig(s){let o=function gw(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),l=!0;const d=[s];for(;o;){let h;if(Ii(s))h=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new Ce(903,!1);h=o.\u0275dir}if(h){if(l){d.push(h);const v=s;v.inputs=Qy(s.inputs),v.declaredInputs=Qy(s.declaredInputs),v.outputs=Qy(s.outputs);const C=h.hostBindings;C&&sT(s,C);const E=h.viewQuery,S=h.contentQueries;if(E&&iT(s,E),S&&rT(s,S),ie(s.inputs,h.inputs),ie(s.declaredInputs,h.declaredInputs),ie(s.outputs,h.outputs),Ii(h)&&h.data.animation){const R=s.data;R.animation=(R.animation||[]).concat(h.data.animation)}}const m=h.features;if(m)for(let v=0;v<m.length;v++){const C=m[v];C&&C.ngInherit&&C(s),C===ig&&(l=!1)}}o=Object.getPrototypeOf(o)}!function nT(s){let o=0,l=null;for(let d=s.length-1;d>=0;d--){const h=s[d];h.hostVars=o+=h.hostVars,h.hostAttrs=Pa(h.hostAttrs,l=Pa(l,h.hostAttrs))}}(d)}function Qy(s){return s===Ai?{}:s===It?[]:s}function iT(s,o){const l=s.viewQuery;s.viewQuery=l?(d,h)=>{o(d,h),l(d,h)}:o}function rT(s,o){const l=s.contentQueries;s.contentQueries=l?(d,h,m)=>{o(d,h,m),l(d,h,m)}:o}function sT(s,o){const l=s.hostBindings;s.hostBindings=l?(d,h)=>{o(d,h),l(d,h)}:o}let rg=null;function xu(){if(!rg){const s=ln.Symbol;if(s&&s.iterator)rg=s.iterator;else{const o=Object.getOwnPropertyNames(Map.prototype);for(let l=0;l<o.length;++l){const d=o[l];"entries"!==d&&"size"!==d&&Map.prototype[d]===Map.prototype.entries&&(rg=d)}}}return rg}function sg(s){return!!yw(s)&&(Array.isArray(s)||!(s instanceof Map)&&xu()in s)}function yw(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function tr(s,o,l){return!Object.is(s[o],l)&&(s[o]=l,!0)}function fr(s,o,l,d,h){const m=function Wd(s,o,l,d){const h=tr(s,o,l);return tr(s,o+1,d)||h}(s,o,l,d);return tr(s,o+2,h)||m}function Xy(s,o,l,d){const h=xe();return tr(h,ho(),o)&&(Ut(),Ao(_n(),h,s,o,l,d)),Xy}function Jy(s,o,l,d,h,m,v,C){const E=xe(),S=Ut(),R=s+22,F=S.firstCreatePass?function fT(s,o,l,d,h,m,v,C,E){const S=o.consts,R=da(o,s,4,v||null,Mr(S,C));jy(o,l,R,Mr(S,E)),Qc(o,R);const F=R.tViews=Ly(2,R,d,h,m,o.directiveRegistry,o.pipeRegistry,null,o.schemas,S);return null!==o.queries&&(o.queries.template(o,R),F.queries=o.queries.embeddedTView(R)),R}(R,S,E,o,l,d,h,m,v):S.data[R];dr(F,!1);const Z=E[11].createComment("");ua(S,E,Z,F),er(Z,E),ti(E,E[R]=Wf(Z,E,Z,F)),Rc(F)&&Ny(S,E,F),null!=v&&Fy(E,F,C)}function Cw(s){return function fs(s,o){return s[o]}(function Hc(){return Dt.lFrame.contextLView}(),22+s)}function Ew(s,o,l){const d=xe();return tr(d,ho(),o)&&Xr(Ut(),_n(),d,s,o,d[11],l,!1),Ew}function Iw(s,o,l,d,h){const v=h?"class":"style";Zd(s,l,o.inputs[v],v,d)}function lg(s,o,l,d){const h=xe(),m=Ut(),v=22+s,C=h[11],E=h[v]=cy(C,o,function Vl(){return Dt.lFrame.currentNamespace}()),S=m.firstCreatePass?function CR(s,o,l,d,h,m,v){const C=o.consts,S=da(o,s,2,h,Mr(C,m));return jy(o,l,S,Mr(C,v)),null!==S.attrs&&Kf(S,S.attrs,!1),null!==S.mergedAttrs&&Kf(S,S.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,S),S}(v,m,h,0,o,l,d):m.data[v];dr(S,!0);const R=S.mergedAttrs;null!==R&&Go(C,E,R);const F=S.classes;null!==F&&ac(C,E,F);const Z=S.styles;return null!==Z&&_y(C,E,Z),64!=(64&S.flags)&&ua(m,h,E,S),0===function Al(){return Dt.lFrame.elementDepthCount}()&&er(E,h),function Ml(){Dt.lFrame.elementDepthCount++}(),Rc(S)&&(Ny(m,h,S),qf(m,S,h)),null!==d&&Fy(h,S),lg}function ev(){let s=Sn();Aa()?Ma():(s=s.parent,dr(s,!1));const o=s;!function Vc(){Dt.lFrame.elementDepthCount--}();const l=Ut();return l.firstCreatePass&&(Qc(l,s),wl(s)&&l.queries.elementEnd(s)),null!=o.classesWithoutHost&&function Hl(s){return 0!=(16&s.flags)}(o)&&Iw(l,o,xe(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function cd(s){return 0!=(32&s.flags)}(o)&&Iw(l,o,xe(),o.stylesWithoutHost,!1),ev}function Xf(s,o,l,d){return lg(s,o,l,d),ev(),Xf}function Jd(s,o,l){const d=xe(),h=Ut(),m=s+22,v=h.firstCreatePass?function ER(s,o,l,d,h){const m=o.consts,v=Mr(m,d),C=da(o,s,8,"ng-container",v);return null!==v&&Kf(C,v,!0),jy(o,l,C,Mr(m,h)),null!==o.queries&&o.queries.elementStart(o,C),C}(m,h,d,o,l):h.data[m];dr(v,!0);const C=d[m]=d[11].createComment("");return ua(h,d,C,v),er(C,d),Rc(v)&&(Ny(h,d,v),qf(h,v,d)),null!=l&&Fy(d,v),Jd}function pr(){let s=Sn();const o=Ut();return Aa()?Ma():(s=s.parent,dr(s,!1)),o.firstCreatePass&&(Qc(o,s),wl(s)&&o.queries.elementEnd(s)),pr}function Au(){return xe()}function cg(s){return!!s&&"function"==typeof s.then}function mT(s){return!!s&&"function"==typeof s.subscribe}const eh=mT;function tv(s,o,l,d){const h=xe(),m=Ut(),v=Sn();return pc(m,h,h[11],v,s,o,0,d),tv}function th(s,o){const l=Sn(),d=xe(),h=Ut();return pc(h,d,eg(Ra(h.data),l,d),l,s,o),th}function pc(s,o,l,d,h,m,v,C){const E=Rc(d),R=s.firstCreatePass&&pw(s),F=o[8],Z=YD(o);let re=!0;if(3&d.type||C){const ze=Ri(d,o),Ye=C?C(ze):ze,bt=Z.length,ke=C?Ht=>C(Tn(Ht[d.index])):d.index;let _t=null;if(!C&&E&&(_t=function ug(s,o,l,d){const h=s.cleanup;if(null!=h)for(let m=0;m<h.length-1;m+=2){const v=h[m];if(v===l&&h[m+1]===d){const C=o[7],E=h[m+2];return C.length>E?C[E]:null}"string"==typeof v&&(m+=2)}return null}(s,o,h,d.index)),null!==_t)(_t.__ngLastListenerFn__||_t).__ngNextListenerFn__=m,_t.__ngLastListenerFn__=m,re=!1;else{m=nh(d,o,F,m,!1);const Ht=l.listen(Ye,h,m);Z.push(m,Ht),R&&R.push(h,ke,bt,bt+1)}}else m=nh(d,o,F,m,!1);const Ee=d.outputs;let Pe;if(re&&null!==Ee&&(Pe=Ee[h])){const ze=Pe.length;if(ze)for(let Ye=0;Ye<ze;Ye+=2){const mn=o[Pe[Ye]][Pe[Ye+1]].subscribe(m),Bu=Z.length;Z.push(m,mn),R&&R.push(h,d.index,Bu,-(Bu+1))}}}function nv(s,o,l,d){try{return!1!==l(d)}catch(h){return Wy(s,h),!1}}function nh(s,o,l,d,h){return function m(v){if(v===Function)return d;Zy(2&s.flags?Zt(s.index,o):o);let E=nv(o,0,d,v),S=m.__ngNextListenerFn__;for(;S;)E=nv(o,0,S,v)&&E,S=S.__ngNextListenerFn__;return h&&!1===E&&(v.preventDefault(),v.returnValue=!1),E}}function dg(s=1){return function po(s){return(Dt.lFrame.contextLView=function Ll(s,o){for(;s>0;)o=o[15],s--;return o}(s,Dt.lFrame.contextLView))[8]}(s)}function gT(s,o){let l=null;const d=function N0(s){const o=s.attrs;if(null!=o){const l=o.indexOf(5);if(0==(1&l))return o[l+1]}return null}(s);for(let h=0;h<o.length;h++){const m=o[h];if("*"!==m){if(null===d?vy(s,m,!0):Iu(d,m))return h}else l=h}return l}function Dw(s){const o=xe()[16][6];if(!o.projection){const d=o.projection=Oi(s?s.length:1,null),h=d.slice();let m=o.child;for(;null!==m;){const v=s?gT(m,s):0;null!==v&&(h[v]?h[v].projectionNext=m:d[v]=m,h[v]=m),m=m.next}}}function _T(s,o=0,l){const d=xe(),h=Ut(),m=da(h,22+s,16,null,l||null);null===m.projection&&(m.projection=o),Ma(),64!=(64&m.flags)&&function Mf(s,o,l){Eu(o[11],0,o,l,fy(s,l,o),x0(l.parent||o[6],l,o))}(h,d,m)}function kw(s,o,l,d,h){const m=s[l+1],v=null===o;let C=d?xo(m):vi(m),E=!1;for(;0!==C&&(!1===E||v);){const R=s[C+1];DR(s[C],o)&&(E=!0,s[C+1]=d?Dy(R):Vf(R)),C=d?xo(R):vi(R)}E&&(s[l+1]=d?Vf(m):Dy(m))}function DR(s,o){return null===s||null==o||(Array.isArray(s)?s[1]:s)===o||!(!Array.isArray(s)||"string"!=typeof o)&&vs(s,o)>=0}const Vi={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Rw(s){return s.substring(Vi.key,Vi.keyEnd)}function Ow(s,o){const l=Vi.textEnd;return l===o?-1:(o=Vi.keyEnd=function TR(s,o,l){for(;o<l&&s.charCodeAt(o)>32;)o++;return o}(s,Vi.key=o,l),ep(s,o,l))}function ep(s,o,l){for(;o<l&&s.charCodeAt(o)<=32;)o++;return o}function Fw(s,o,l){return fa(s,o,l,!1),Fw}function Lw(s,o){return fa(s,o,null,!0),Lw}function ST(s){!function pa(s,o,l,d){const h=Ut(),m=ms(2);h.firstUpdatePass&&AT(h,null,m,d);const v=xe();if(l!==Ft&&tr(v,m,l)){const C=h.data[Jn()];if(PT(C,d)&&!xT(h,m)){let E=d?C.classesWithoutHost:C.stylesWithoutHost;null!==E&&(l=ge(E,l||"")),Iw(h,C,v,l,d)}else!function PR(s,o,l,d,h,m,v,C){h===Ft&&(h=It);let E=0,S=0,R=0<h.length?h[0]:null,F=0<m.length?m[0]:null;for(;null!==R||null!==F;){const Z=E<h.length?h[E+1]:void 0,re=S<m.length?m[S+1]:void 0;let Pe,Ee=null;R===F?(E+=2,S+=2,Z!==re&&(Ee=F,Pe=re)):null===F||null!==R&&R<F?(E+=2,Ee=R):(S+=2,Ee=F,Pe=re),null!==Ee&&RT(s,o,l,d,Ee,Pe,v,C),R=E<h.length?h[E]:null,F=S<m.length?m[S]:null}}(h,C,v,v[11],v[m+1],v[m+1]=function OR(s,o,l){if(null==l||""===l)return It;const d=[],h=Kr(l);if(Array.isArray(h))for(let m=0;m<h.length;m++)s(d,h[m],!0);else if("object"==typeof h)for(const m in h)h.hasOwnProperty(m)&&s(d,m,h[m]);else"string"==typeof h&&o(d,h);return d}(s,o,l),d,m)}}(Pi,ha,s,!0)}function ha(s,o){for(let l=function ET(s){return function DT(s){Vi.key=0,Vi.keyEnd=0,Vi.value=0,Vi.valueEnd=0,Vi.textEnd=s.length}(s),Ow(s,ep(s,0,Vi.textEnd))}(o);l>=0;l=Ow(o,l))Pi(s,Rw(o),!0)}function fa(s,o,l,d){const h=xe(),m=Ut(),v=ms(2);m.firstUpdatePass&&AT(m,s,v,d),o!==Ft&&tr(h,v,o)&&RT(m,m.data[Jn()],h,h[11],s,h[v+1]=function NR(s,o){return null==s||("string"==typeof o?s+=o:"object"==typeof s&&(s=fe(Kr(s)))),s}(o,l),d,v)}function xT(s,o){return o>=s.expandoStartIndex}function AT(s,o,l,d){const h=s.data;if(null===h[l+1]){const m=h[Jn()],v=xT(s,l);PT(m,d)&&null===o&&!v&&(o=!1),o=function MT(s,o,l,d){const h=Ra(s);let m=d?o.residualClasses:o.residualStyles;if(null===h)0===(d?o.classBindings:o.styleBindings)&&(l=hg(l=Vw(null,s,o,l,d),o.attrs,d),m=null);else{const v=o.directiveStylingLast;if(-1===v||s[v]!==h)if(l=Vw(h,s,o,l,d),null===m){let E=function MR(s,o,l){const d=l?o.classBindings:o.styleBindings;if(0!==vi(d))return s[xo(d)]}(s,o,d);void 0!==E&&Array.isArray(E)&&(E=Vw(null,s,o,E[1],d),E=hg(E,o.attrs,d),function kR(s,o,l,d){s[xo(l?o.classBindings:o.styleBindings)]=d}(s,o,d,E))}else m=function RR(s,o,l){let d;const h=o.directiveEnd;for(let m=1+o.directiveStylingLast;m<h;m++)d=hg(d,s[m].hostAttrs,l);return hg(d,o.attrs,l)}(s,o,d)}return void 0!==m&&(d?o.residualClasses=m:o.residualStyles=m),l}(h,m,o,d),function IR(s,o,l,d,h,m){let v=m?o.classBindings:o.styleBindings,C=xo(v),E=vi(v);s[d]=l;let R,S=!1;if(Array.isArray(l)){const F=l;R=F[1],(null===R||vs(F,R)>0)&&(S=!0)}else R=l;if(h)if(0!==E){const Z=xo(s[C+1]);s[d+1]=$d(Z,C),0!==Z&&(s[Z+1]=$m(s[Z+1],d)),s[C+1]=function xD(s,o){return 131071&s|o<<17}(s[C+1],d)}else s[d+1]=$d(C,0),0!==C&&(s[C+1]=$m(s[C+1],d)),C=d;else s[d+1]=$d(E,0),0===C?C=d:s[E+1]=$m(s[E+1],d),E=d;S&&(s[d+1]=Vf(s[d+1])),kw(s,R,d,!0),kw(s,R,d,!1),function wT(s,o,l,d,h){const m=h?s.residualClasses:s.residualStyles;null!=m&&"string"==typeof o&&vs(m,o)>=0&&(l[d+1]=Dy(l[d+1]))}(o,R,s,d,m),v=$d(C,E),m?o.classBindings=v:o.styleBindings=v}(h,m,o,l,v,d)}}function Vw(s,o,l,d,h){let m=null;const v=l.directiveEnd;let C=l.directiveStylingLast;for(-1===C?C=l.directiveStart:C++;C<v&&(m=o[C],d=hg(d,m.hostAttrs,h),m!==s);)C++;return null!==s&&(l.directiveStylingLast=C),d}function hg(s,o,l){const d=l?1:2;let h=-1;if(null!==o)for(let m=0;m<o.length;m++){const v=o[m];"number"==typeof v?h=v:h===d&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),Pi(s,v,!!l||o[++m]))}return void 0===s?null:s}function RT(s,o,l,d,h,m,v,C){if(!(3&o.type))return;const E=s.data,S=E[C+1];iv(function Gd(s){return 1==(1&s)}(S)?OT(E,o,l,h,vi(S),v):void 0)||(iv(m)||function J0(s){return 2==(2&s)}(S)&&(m=OT(E,null,l,h,C,v)),function O0(s,o,l,d,h){if(o)h?s.addClass(l,d):s.removeClass(l,d);else{let m=-1===d.indexOf("-")?void 0:il.DashCase;null==h?s.removeStyle(l,d,m):("string"==typeof h&&h.endsWith("!important")&&(h=h.slice(0,-10),m|=il.Important),s.setStyle(l,d,h,m))}}(d,v,ur(Jn(),l),h,m))}function OT(s,o,l,d,h,m){const v=null===o;let C;for(;h>0;){const E=s[h],S=Array.isArray(E),R=S?E[1]:E,F=null===R;let Z=l[h+1];Z===Ft&&(Z=F?It:void 0);let re=F?ea(Z,d):R===d?Z:void 0;if(S&&!iv(re)&&(re=ea(E,d)),iv(re)&&(C=re,v))return C;const Ee=s[h+1];h=v?xo(Ee):vi(Ee)}if(null!==o){let E=m?o.residualClasses:o.residualStyles;null!=E&&(C=ea(E,d))}return C}function iv(s){return void 0!==s}function PT(s,o){return 0!=(s.flags&(o?16:32))}function NT(s,o=""){const l=xe(),d=Ut(),h=s+22,m=d.firstCreatePass?da(d,h,1,o,null):d.data[h],v=l[h]=function sl(s,o){return s.createText(o)}(l[11],o);ua(d,l,v,m),dr(m,!1)}function Bw(s){return rv("",s,""),Bw}function rv(s,o,l){const d=xe(),h=function Rn(s,o,l,d){return tr(s,ho(),l)?o+ve(l)+d:Ft}(d,s,o,l);return h!==Ft&&function hc(s,o,l){const d=ur(o,s);!function zt(s,o,l){s.setValue(o,l)}(s[11],d,l)}(d,Jn(),h),rv}function Uw(s,o,l){const d=xe();if(tr(d,ho(),o)){const m=Ut(),v=_n();Xr(m,v,d,s,o,eg(Ra(m.data),v,d),l,!0)}return Uw}const ih=void 0;var JR=["en",[["a","p"],["AM","PM"],ih],[["AM","PM"],ih,ih],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ih,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ih,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ih,"{1} 'at' {0}",ih],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function XR(s){const l=Math.floor(Math.abs(s)),d=s.toString().replace(/^[^.]*\.?/,"").length;return 1===l&&0===d?1:5}];let tp={};function Hw(s){const o=function eO(s){return s.toLowerCase().replace(/_/g,"-")}(s);let l=iS(o);if(l)return l;const d=o.split("-")[0];if(l=iS(d),l)return l;if("en"===d)return JR;throw new Ce(701,!1)}function nS(s){return Hw(s)[Ct.PluralCase]}function iS(s){return s in tp||(tp[s]=ln.ng&&ln.ng.common&&ln.ng.common.locales&&ln.ng.common.locales[s]),tp[s]}var Ct=(()=>((Ct=Ct||{})[Ct.LocaleId=0]="LocaleId",Ct[Ct.DayPeriodsFormat=1]="DayPeriodsFormat",Ct[Ct.DayPeriodsStandalone=2]="DayPeriodsStandalone",Ct[Ct.DaysFormat=3]="DaysFormat",Ct[Ct.DaysStandalone=4]="DaysStandalone",Ct[Ct.MonthsFormat=5]="MonthsFormat",Ct[Ct.MonthsStandalone=6]="MonthsStandalone",Ct[Ct.Eras=7]="Eras",Ct[Ct.FirstDayOfWeek=8]="FirstDayOfWeek",Ct[Ct.WeekendRange=9]="WeekendRange",Ct[Ct.DateFormat=10]="DateFormat",Ct[Ct.TimeFormat=11]="TimeFormat",Ct[Ct.DateTimeFormat=12]="DateTimeFormat",Ct[Ct.NumberSymbols=13]="NumberSymbols",Ct[Ct.NumberFormats=14]="NumberFormats",Ct[Ct.CurrencyCode=15]="CurrencyCode",Ct[Ct.CurrencySymbol=16]="CurrencySymbol",Ct[Ct.CurrencyName=17]="CurrencyName",Ct[Ct.Currencies=18]="Currencies",Ct[Ct.Directionality=19]="Directionality",Ct[Ct.PluralCase=20]="PluralCase",Ct[Ct.ExtraData=21]="ExtraData",Ct))();const np="en-US";let rS=np;function vg(s,o,l,d,h){if(s=X(s),Array.isArray(s))for(let m=0;m<s.length;m++)vg(s[m],o,l,d,h);else{const m=Ut(),v=xe();let C=Do(s)?s:X(s.provide),E=Xa(s);const S=Sn(),R=1048575&S.providerIndexes,F=S.directiveStart,Z=S.providerIndexes>>20;if(Do(s)||!s.multi){const re=new Hs(E,h,Lf),Ee=yv(C,o,h?R:R+Z,F);-1===Ee?(js(yo(S,v),m,C),_v(m,s,o.length),o.push(C),S.directiveStart++,S.directiveEnd++,h&&(S.providerIndexes+=1048576),l.push(re),v.push(re)):(l[Ee]=re,v[Ee]=re)}else{const re=yv(C,o,R+Z,F),Ee=yv(C,o,R,R+Z),Pe=re>=0&&l[re],ze=Ee>=0&&l[Ee];if(h&&!ze||!h&&!Pe){js(yo(S,v),m,C);const Ye=function vO(s,o,l,d,h){const m=new Hs(s,l,Lf);return m.multi=[],m.index=o,m.componentProviders=0,sC(m,h,d&&!l),m}(h?RS:kS,l.length,h,d,E);!h&&ze&&(l[Ee].providerFactory=Ye),_v(m,s,o.length,0),o.push(C),S.directiveStart++,S.directiveEnd++,h&&(S.providerIndexes+=1048576),l.push(Ye),v.push(Ye)}else _v(m,s,re>-1?re:Ee,sC(l[h?Ee:re],E,!h&&d));!h&&d&&ze&&l[Ee].componentProviders++}}}function _v(s,o,l,d){const h=Do(o),m=function ra(s){return!!s.useClass}(o);if(h||m){const E=(m?X(o.useClass):o).prototype.ngOnDestroy;if(E){const S=s.destroyHooks||(s.destroyHooks=[]);if(!h&&o.multi){const R=S.indexOf(l);-1===R?S.push(l,[d,E]):S[R+1].push(d,E)}else S.push(l,E)}}}function sC(s,o,l){return l&&s.componentProviders++,s.multi.push(o)-1}function yv(s,o,l,d){for(let h=l;h<d;h++)if(o[h]===s)return h;return-1}function kS(s,o,l,d){return ip(this.multi,[])}function RS(s,o,l,d){const h=this.multi;let m;if(this.providerFactory){const v=this.providerFactory.componentProviders,C=gs(l,l[1],this.providerFactory.index,d);m=C.slice(0,v),ip(h,m);for(let E=v;E<C.length;E++)m.push(C[E])}else m=[],ip(h,m);return m}function ip(s,o){for(let l=0;l<s.length;l++)o.push((0,s[l])());return o}function ch(s,o=[]){return l=>{l.providersResolver=(d,h)=>function gv(s,o,l){const d=Ut();if(d.firstCreatePass){const h=Ii(s);vg(l,d.data,d.blueprint,h,!0),vg(o,d.data,d.blueprint,h,!1)}}(d,h?h(s):s,o)}}class Mu{}class OS{}function bO(s,o){return new PS(s,o??null)}class PS extends Mu{constructor(o,l){super(),this._parent=l,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new tg(this);const d=Mi(o);this._bootstrapComponents=Qr(d.bootstrap),this._r3Injector=Bm(o,l,[{provide:Mu,useValue:this},{provide:M,useValue:this.componentFactoryResolver}],fe(o),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(o)}get injector(){return this._r3Injector}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(l=>l()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class oC extends OS{constructor(o){super(),this.moduleType=o}create(o){return new PS(this.moduleType,o)}}class aC extends Mu{constructor(o,l,d){super(),this.componentFactoryResolver=new tg(this),this.instance=null;const h=new Ad([...o,{provide:Mu,useValue:this},{provide:M,useValue:this.componentFactoryResolver}],l||yu(),d,new Set(["environment"]));this.injector=h,h.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(o){this.injector.onDestroy(o)}}function lC(s,o,l=null){return new aC(s,o,l).injector}let wO=(()=>{class s{constructor(l){this._injector=l,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(l){if(!l.standalone)return null;if(!this.cachedInjectors.has(l.id)){const d=hr(0,l.type),h=d.length>0?lC([d],this._injector,`Standalone[${l.type.name}]`):null;this.cachedInjectors.set(l.id,h)}return this.cachedInjectors.get(l.id)}ngOnDestroy(){try{for(const l of this.cachedInjectors.values())null!==l&&l.destroy()}finally{this.cachedInjectors.clear()}}}return s.\u0275prov=Qt({token:s,providedIn:"environment",factory:()=>new s(Mn(zn))}),s})();function cC(s){s.getStandaloneInjector=o=>o.get(wO).getOrCreateStandaloneInjector(s)}function GS(s,o,l,d,h,m){return function wv(s,o,l,d,h,m,v,C){const E=o+l;return fr(s,E,h,m,v)?function dl(s,o,l){return s[o]=l}(s,E+3,C?d.call(C,h,m,v):d(h,m,v)):function uh(s,o){const l=s[o];return l===Ft?void 0:l}(s,E+3)}(xe(),function xn(){const s=Dt.lFrame;let o=s.bindingRootIndex;return-1===o&&(o=s.bindingRootIndex=s.tView.bindingStartIndex),o}(),s,o,l,d,h,m)}function hC(s){return o=>{setTimeout(s,void 0,o)}}const pl=class NO extends c.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,l,d){let h=o,m=l||(()=>null),v=d;if(o&&"object"==typeof o){const E=o;h=E.next?.bind(E),m=E.error?.bind(E),v=E.complete?.bind(E)}this.__isAsync&&(m=hC(m),h&&(h=hC(h)),v&&(v=hC(v)));const C=super.subscribe({next:h,error:m,complete:v});return o instanceof te.w0&&o.add(C),C}};function FO(){return this._results[xu()]()}class Iv{constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const l=xu(),d=Iv.prototype;d[l]||(d[l]=FO)}get changes(){return this._changes||(this._changes=new pl)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,l){return this._results.reduce(o,l)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,l){const d=this;d.dirty=!1;const h=Yi(o);(this._changesDetected=!function Ql(s,o,l){if(s.length!==o.length)return!1;for(let d=0;d<s.length;d++){let h=s[d],m=o[d];if(l&&(h=l(h),m=l(m)),m!==h)return!1}return!0}(d._results,h,l))&&(d._results=h,d.length=h.length,d.last=h[this.length-1],d.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Cg=(()=>{class s{}return s.__NG_ELEMENT_ID__=BO,s})();const LO=Cg,VO=class extends LO{constructor(o,l,d){super(),this._declarationLView=o,this._declarationTContainer=l,this.elementRef=d}createEmbeddedView(o,l){const d=this._declarationTContainer.tViews,h=Gf(this._declarationLView,d,o,16,null,d.declTNode,null,null,null,null,l||null);h[17]=this._declarationLView[this._declarationTContainer.index];const v=this._declarationLView[19];return null!==v&&(h[19]=v.createEmbeddedView(d)),Ym(d,h,o),new Su(h)}};function BO(){return sp(Sn(),xe())}function sp(s,o){return 4&s.type?new VO(o,s,K(s,o)):null}let ku=(()=>{class s{}return s.__NG_ELEMENT_ID__=fC,s})();function fC(){return QS(Sn(),xe())}const YS=ku,ma=class extends YS{constructor(o,l,d){super(),this._lContainer=o,this._hostTNode=l,this._hostLView=d}get element(){return K(this._hostTNode,this._hostLView)}get injector(){return new bo(this._hostTNode,this._hostLView)}get parentInjector(){const o=zl(this._hostTNode,this._hostLView);if(dd(o)){const l=Fa(o,this._hostLView),d=di(o);return new bo(l[1].data[d+8],l)}return new bo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const l=ml(this._lContainer);return null!==l&&l[o]||null}get length(){return this._lContainer.length-10}createEmbeddedView(o,l,d){let h,m;"number"==typeof d?h=d:null!=d&&(h=d.index,m=d.injector);const v=o.createEmbeddedView(l||{},m);return this.insert(v,h),v}createComponent(o,l,d,h,m){const v=o&&!function Ln(s){return"function"==typeof s}(o);let C;if(v)C=l;else{const F=l||{};C=F.index,d=F.injector,h=F.projectableNodes,m=F.environmentInjector||F.ngModuleRef}const E=v?o:new Yf(Ot(o)),S=d||this.parentInjector;if(!m&&null==E.ngModule){const Z=(v?S:this.parentInjector).get(zn,null);Z&&(m=Z)}const R=E.create(S,h,void 0,m);return this.insert(R.hostView,C),R}insert(o,l){const d=o._lView,h=d[1];if(function Tl(s){return ki(s[3])}(d)){const R=this.indexOf(o);if(-1!==R)this.detach(R);else{const F=d[3],Z=new ma(F,F[6],F[3]);Z.detach(Z.indexOf(o))}}const m=this._adjustIndex(l),v=this._lContainer;!function uD(s,o,l,d){const h=10+d,m=l.length;d>0&&(l[h-1][4]=o),d<m-10?(o[4]=l[h],tu(l,10+d,o)):(l.push(o),o[4]=null),o[3]=l;const v=o[17];null!==v&&l!==v&&function km(s,o){const l=s[9];o[16]!==o[3][3][16]&&(s[2]=!0),null===l?s[9]=[o]:l.push(o)}(v,o);const C=o[19];null!==C&&C.insertView(s),o[2]|=64}(h,d,v,m);const C=my(m,v),E=d[11],S=Nm(E,v[7]);return null!==S&&function cD(s,o,l,d,h,m){d[0]=h,d[6]=o,ol(s,d,l,1,h,m)}(h,v[6],E,d,S,C),o.attachToViewContainerRef(),tu(Jr(v),m,o),o}move(o,l){return this.insert(o,l)}indexOf(o){const l=ml(this._lContainer);return null!==l?l.indexOf(o):-1}remove(o){const l=this._adjustIndex(o,-1),d=Rm(this._lContainer,l);d&&(Qo(Jr(this._lContainer),l),Af(d[1],d))}detach(o){const l=this._adjustIndex(o,-1),d=Rm(this._lContainer,l);return d&&null!=Qo(Jr(this._lContainer),l)?new Su(d):null}_adjustIndex(o,l=0){return o??this.length+l}};function ml(s){return s[8]}function Jr(s){return s[8]||(s[8]=[])}function QS(s,o){let l;const d=o[s.index];if(ki(d))l=d;else{let h;if(8&s.type)h=Tn(d);else{const m=o[11];h=m.createComment("");const v=Ri(s,o);Cu(m,Nm(m,v),h,function dD(s,o){return s.nextSibling(o)}(m,v),!1)}o[s.index]=l=Wf(d,o,h,s),ti(o,l)}return new ma(l,s,o)}class mC{constructor(o){this.queryList=o,this.matches=null}clone(){return new mC(this.queryList)}setDirty(){this.queryList.setDirty()}}class Nr{constructor(o=[]){this.queries=o}createEmbeddedView(o){const l=o.queries;if(null!==l){const d=null!==o.contentQueries?o.contentQueries[0]:l.length,h=[];for(let m=0;m<d;m++){const v=l.getByIndex(m);h.push(this.queries[v.indexInDeclarationView].clone())}return new Nr(h)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let l=0;l<this.queries.length;l++)null!==xv(o,l).matches&&this.queries[l].setDirty()}}class XS{constructor(o,l,d=null){this.predicate=o,this.flags=l,this.read=d}}class Dv{constructor(o=[]){this.queries=o}elementStart(o,l){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(o,l)}elementEnd(o){for(let l=0;l<this.queries.length;l++)this.queries[l].elementEnd(o)}embeddedTView(o){let l=null;for(let d=0;d<this.length;d++){const h=null!==l?l.length:0,m=this.getByIndex(d).embeddedTView(o,h);m&&(m.indexInDeclarationView=d,null!==l?l.push(m):l=[m])}return null!==l?new Dv(l):null}template(o,l){for(let d=0;d<this.queries.length;d++)this.queries[d].template(o,l)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class gC{constructor(o,l=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=l}elementStart(o,l){this.isApplyingToNode(l)&&this.matchTNode(o,l)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,l){this.elementStart(o,l)}embeddedTView(o,l){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,l),new gC(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const l=this._declarationNodeIndex;let d=o.parent;for(;null!==d&&8&d.type&&d.index!==l;)d=d.parent;return l===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(o,l){const d=this.metadata.predicate;if(Array.isArray(d))for(let h=0;h<d.length;h++){const m=d[h];this.matchTNodeWithReadOption(o,l,JS(l,m)),this.matchTNodeWithReadOption(o,l,zo(l,o,m,!1,!1))}else d===Cg?4&l.type&&this.matchTNodeWithReadOption(o,l,-1):this.matchTNodeWithReadOption(o,l,zo(l,o,d,!1,!1))}matchTNodeWithReadOption(o,l,d){if(null!==d){const h=this.metadata.read;if(null!==h)if(h===de||h===ku||h===Cg&&4&l.type)this.addMatch(l.index,-2);else{const m=zo(l,o,h,!1,!1);null!==m&&this.addMatch(l.index,m)}else this.addMatch(l.index,d)}}addMatch(o,l){null===this.matches?this.matches=[o,l]:this.matches.push(o,l)}}function JS(s,o){const l=s.localNames;if(null!==l)for(let d=0;d<l.length;d+=2)if(l[d]===o)return l[d+1];return null}function _C(s,o,l,d){return-1===l?function UO(s,o){return 11&s.type?K(s,o):4&s.type?sp(s,o):null}(o,s):-2===l?function op(s,o,l){return l===de?K(o,s):l===Cg?sp(o,s):l===ku?QS(o,s):void 0}(s,o,d):gs(s,s[1],l,o)}function Tv(s,o,l,d){const h=o[19].queries[d];if(null===h.matches){const m=s.data,v=l.matches,C=[];for(let E=0;E<v.length;E+=2){const S=v[E];C.push(S<0?null:_C(o,m[S],v[E+1],l.metadata.read))}h.matches=C}return h.matches}function ap(s,o,l,d){const h=s.queries.getByIndex(l),m=h.matches;if(null!==m){const v=Tv(s,o,h,l);for(let C=0;C<m.length;C+=2){const E=m[C];if(E>0)d.push(v[C/2]);else{const S=m[C+1],R=o[-E];for(let F=10;F<R.length;F++){const Z=R[F];Z[17]===Z[3]&&ap(Z[1],Z,S,d)}if(null!==R[9]){const F=R[9];for(let Z=0;Z<F.length;Z++){const re=F[Z];ap(re[1],re,S,d)}}}}}return d}function yC(s){const o=xe(),l=Ut(),d=Gc();Oa(d+1);const h=xv(l,d);if(s.dirty&&Sa(o)===(2==(2&h.metadata.flags))){if(null===h.matches)s.reset([]);else{const m=h.crossesNgTemplate?ap(l,o,d,[]):Tv(l,o,h,d);s.reset(m,Ve),s.notifyOnChanges()}return!0}return!1}function vC(s,o,l){const d=Ut();d.firstCreatePass&&(EC(d,new XS(s,o,l),-1),2==(2&o)&&(d.staticViewQueries=!0)),CC(d,xe(),o)}function bC(s,o,l,d){const h=Ut();if(h.firstCreatePass){const m=Sn();EC(h,new XS(o,l,d),m.index),function Sv(s,o){const l=s.contentQueries||(s.contentQueries=[]);o!==(l.length?l[l.length-1]:-1)&&l.push(s.queries.length-1,o)}(h,s),2==(2&l)&&(h.staticContentQueries=!0)}CC(h,xe(),l)}function wC(){return function ex(s,o){return s[19].queries[o].queryList}(xe(),Gc())}function CC(s,o,l){const d=new Iv(4==(4&l));Vy(s,o,d,d.destroy),null===o[19]&&(o[19]=new Nr),o[19].queries.push(new mC(d))}function EC(s,o,l){null===s.queries&&(s.queries=new Dv),s.queries.track(new gC(o,l))}function xv(s,o){return s.queries.getByIndex(o)}function cp(...s){}const Nv=new fn("Application Initializer");let ph=(()=>{class s{constructor(l){this.appInits=l,this.resolve=cp,this.reject=cp,this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,h)=>{this.resolve=d,this.reject=h})}runInitializers(){if(this.initialized)return;const l=[],d=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const m=this.appInits[h]();if(cg(m))l.push(m);else if(eh(m)){const v=new Promise((C,E)=>{m.subscribe({complete:C,error:E})});l.push(v)}}Promise.all(l).then(()=>{d()}).catch(h=>{this.reject(h)}),0===l.length&&d(),this.initialized=!0}}return s.\u0275fac=function(l){return new(l||s)(Mn(Nv,8))},s.\u0275prov=Qt({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const GC=new fn("AppId",{providedIn:"root",factory:function zC(){return`${Tg()}${Tg()}${Tg()}`}});function Tg(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Sg=new fn("Platform Initializer"),qC=new fn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),ZC=new fn("appBootstrapListener"),xg=new fn("AnimationModuleType");let Fv=(()=>{class s{log(l){console.log(l)}warn(l){console.warn(l)}}return s.\u0275fac=function(l){return new(l||s)},s.\u0275prov=Qt({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();const mh=new fn("LocaleId",{providedIn:"root",factory:()=>D(mh,Ke.Optional|Ke.SkipSelf)||function Lv(){return typeof $localize<"u"&&$localize.locale||np}()}),dx=new fn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class fx{constructor(o,l){this.ngModuleFactory=o,this.componentFactories=l}}let px=(()=>{class s{compileModuleSync(l){return new oC(l)}compileModuleAsync(l){return Promise.resolve(this.compileModuleSync(l))}compileModuleAndAllComponentsSync(l){const d=this.compileModuleSync(l),m=Qr(Mi(l).declarations).reduce((v,C)=>{const E=Ot(C);return E&&v.push(new Yf(E)),v},[]);return new fx(d,m)}compileModuleAndAllComponentsAsync(l){return Promise.resolve(this.compileModuleAndAllComponentsSync(l))}clearCache(){}clearCacheFor(l){}getModuleId(l){}}return s.\u0275fac=function(l){return new(l||s)},s.\u0275prov=Qt({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const Mg=(()=>Promise.resolve(0))();function dp(s){typeof Zone>"u"?Mg.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class is{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:l=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new pl(!1),this.onMicrotaskEmpty=new pl(!1),this.onStable=new pl(!1),this.onError=new pl(!1),typeof Zone>"u")throw new Ce(908,!1);Zone.assertZonePatched();const h=this;if(h._nesting=0,h._outer=h._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const m=Zone.AsyncStackTaggingZoneSpec;h._inner=h._inner.fork(new m("Angular"))}Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!d&&l,h.shouldCoalesceRunChangeDetection=d,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function Vv(){let s=ln.requestAnimationFrame,o=ln.cancelAnimationFrame;if(typeof Zone<"u"&&s&&o){const l=s[Zone.__symbol__("OriginalDelegate")];l&&(s=l);const d=o[Zone.__symbol__("OriginalDelegate")];d&&(o=d)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function gx(s){const o=()=>{!function YC(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(ln,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,Rg(s),s.isCheckStableRunning=!0,kg(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),Rg(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(l,d,h,m,v,C)=>{try{return Uv(s),l.invokeTask(h,m,v,C)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===m.type||s.shouldCoalesceRunChangeDetection)&&o(),Og(s)}},onInvoke:(l,d,h,m,v,C,E)=>{try{return Uv(s),l.invoke(h,m,v,C,E)}finally{s.shouldCoalesceRunChangeDetection&&o(),Og(s)}},onHasTask:(l,d,h,m)=>{l.hasTask(h,m),d===h&&("microTask"==m.change?(s._hasPendingMicrotasks=m.microTask,Rg(s),kg(s)):"macroTask"==m.change&&(s.hasPendingMacrotasks=m.macroTask))},onHandleError:(l,d,h,m)=>(l.handleError(h,m),s.runOutsideAngular(()=>s.onError.emit(m)),!1)})}(h)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!is.isInAngularZone())throw new Ce(909,!1)}static assertNotInAngularZone(){if(is.isInAngularZone())throw new Ce(909,!1)}run(o,l,d){return this._inner.run(o,l,d)}runTask(o,l,d,h){const m=this._inner,v=m.scheduleEventTask("NgZoneEvent: "+h,o,Bv,cp,cp);try{return m.runTask(v,l,d)}finally{m.cancelTask(v)}}runGuarded(o,l,d){return this._inner.runGuarded(o,l,d)}runOutsideAngular(o){return this._outer.run(o)}}const Bv={};function kg(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function Rg(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function Uv(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function Og(s){s._nesting--,kg(s)}class QC{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new pl,this.onMicrotaskEmpty=new pl,this.onStable=new pl,this.onError=new pl}run(o,l,d){return o.apply(l,d)}runGuarded(o,l,d){return o.apply(l,d)}runOutsideAngular(o){return o()}runTask(o,l,d,h){return o.apply(l,d)}}const XC=new fn(""),Pg=new fn("");let Ti,Hv=(()=>{class s{constructor(l,d,h){this._ngZone=l,this.registry=d,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Ti||(function Bi(s){Ti=s}(h),h.addToWindow(d)),this._watchAngularEvents(),l.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{is.assertNotInAngularZone(),dp(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())dp(()=>{for(;0!==this._callbacks.length;){let l=this._callbacks.pop();clearTimeout(l.timeoutId),l.doneCb(this._didWork)}this._didWork=!1});else{let l=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(l)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(l=>({source:l.source,creationLocation:l.creationLocation,data:l.data})):[]}addCallback(l,d,h){let m=-1;d&&d>0&&(m=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==m),l(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:l,timeoutId:m,updateCb:h})}whenStable(l,d,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(l,d,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(l){this.registry.registerApplication(l,this)}unregisterApplication(l){this.registry.unregisterApplication(l)}findProviders(l,d,h){return[]}}return s.\u0275fac=function(l){return new(l||s)(Mn(is),Mn(Ng),Mn(Pg))},s.\u0275prov=Qt({token:s,factory:s.\u0275fac}),s})(),Ng=(()=>{class s{constructor(){this._applications=new Map}registerApplication(l,d){this._applications.set(l,d)}unregisterApplication(l){this._applications.delete(l)}unregisterAllApplications(){this._applications.clear()}getTestability(l){return this._applications.get(l)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(l,d=!0){return Ti?.findTestabilityInTree(this,l,d)??null}}return s.\u0275fac=function(l){return new(l||s)},s.\u0275prov=Qt({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})(),ko=null;const Fg=new fn("AllowMultipleToken"),jv=new fn("PlatformDestroyListeners");class $v{constructor(o,l){this.name=o,this.token=l}}function eE(s,o,l=[]){const d=`Platform: ${o}`,h=new fn(d);return(m=[])=>{let v=Ug();if(!v||v.injector.get(Fg,!1)){const C=[...l,...m,{provide:h,useValue:!0}];s?s(C):function Gv(s){if(ko&&!ko.get(Fg,!1))throw new Ce(400,!1);ko=s;const o=s.get(nE);(function Lg(s){const o=s.get(Sg,null);o&&o.forEach(l=>l())})(s)}(function Bg(s=[],o){return Or.create({name:o,providers:[{provide:rc,useValue:"platform"},{provide:jv,useValue:new Set([()=>ko=null])},...s]})}(C,d))}return function Vg(s){const o=Ug();if(!o)throw new Ce(401,!1);return o}()}}function Ug(){return ko?.get(nE)??null}let nE=(()=>{class s{constructor(l){this._injector=l,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(l,d){const h=function zv(s,o){let l;return l="noop"===s?new QC:("zone.js"===s?void 0:s)||new is(o),l}(d?.ngZone,function _h(s){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!s||!s.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!s||!s.ngZoneRunCoalescing)||!1}}(d)),m=[{provide:is,useValue:h}];return h.run(()=>{const v=Or.create({providers:m,parent:this.injector,name:l.moduleType.name}),C=l.create(v),E=C.injector.get(Ef,null);if(!E)throw new Ce(402,!1);return h.runOutsideAngular(()=>{const S=h.onError.subscribe({next:R=>{E.handleError(R)}});C.onDestroy(()=>{Hg(this._modules,C),S.unsubscribe()})}),function qv(s,o,l){try{const d=l();return cg(d)?d.catch(h=>{throw o.runOutsideAngular(()=>s.handleError(h)),h}):d}catch(d){throw o.runOutsideAngular(()=>s.handleError(d)),d}}(E,h,()=>{const S=C.injector.get(ph);return S.runInitializers(),S.donePromise.then(()=>(function sS(s){$t(s,"Expected localeId to be defined"),"string"==typeof s&&(rS=s.toLowerCase().replace(/_/g,"-"))}(C.injector.get(mh,np)||np),this._moduleDoBootstrap(C),C))})})}bootstrapModule(l,d=[]){const h=Zv({},d);return function JC(s,o,l){const d=new oC(l);return Promise.resolve(d)}(0,0,l).then(m=>this.bootstrapModuleFactory(m,h))}_moduleDoBootstrap(l){const d=l.injector.get(Ou);if(l._bootstrapComponents.length>0)l._bootstrapComponents.forEach(h=>d.bootstrap(h));else{if(!l.instance.ngDoBootstrap)throw new Ce(403,!1);l.instance.ngDoBootstrap(d)}this._modules.push(l)}onDestroy(l){this._destroyListeners.push(l)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ce(404,!1);this._modules.slice().forEach(d=>d.destroy()),this._destroyListeners.forEach(d=>d());const l=this._injector.get(jv,null);l&&(l.forEach(d=>d()),l.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(l){return new(l||s)(Mn(Or))},s.\u0275prov=Qt({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();function Zv(s,o){return Array.isArray(o)?o.reduce(Zv,s):{...s,...o}}let Ou=(()=>{class s{constructor(l,d,h){this._zone=l,this._injector=d,this._exceptionHandler=h,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const m=new N.y(C=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{C.next(this._stable),C.complete()})}),v=new N.y(C=>{let E;this._zone.runOutsideAngular(()=>{E=this._zone.onStable.subscribe(()=>{is.assertNotInAngularZone(),dp(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,C.next(!0))})})});const S=this._zone.onUnstable.subscribe(()=>{is.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{C.next(!1)}))});return()=>{E.unsubscribe(),S.unsubscribe()}});this.isStable=(0,le.T)(m,v.pipe((0,oe.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(l,d){const h=l instanceof Tm;if(!this._injector.get(ph).done)throw!h&&Hr(l),new Ce(405,false);let v;v=h?l:this._injector.get(M).resolveComponentFactory(l),this.componentTypes.push(v.componentType);const C=function _x(s){return s.isBoundToModule}(v)?void 0:this._injector.get(Mu),S=v.create(Or.NULL,[],d||v.selector,C),R=S.location.nativeElement,F=S.injector.get(XC,null);return F?.registerApplication(R),S.onDestroy(()=>{this.detachView(S.hostView),Hg(this.components,S),F?.unregisterApplication(R)}),this._loadComponent(S),S}tick(){if(this._runningTick)throw new Ce(101,!1);try{this._runningTick=!0;for(let l of this._views)l.detectChanges()}catch(l){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(l))}finally{this._runningTick=!1}}attachView(l){const d=l;this._views.push(d),d.attachToAppRef(this)}detachView(l){const d=l;Hg(this._views,d),d.detachFromAppRef()}_loadComponent(l){this.attachView(l.hostView),this.tick(),this.components.push(l),this._injector.get(ZC,[]).concat(this._bootstrapListeners).forEach(h=>h(l))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(l=>l()),this._views.slice().forEach(l=>l.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(l){return this._destroyListeners.push(l),()=>Hg(this._destroyListeners,l)}destroy(){if(this._destroyed)throw new Ce(406,!1);const l=this._injector;l.destroy&&!l.destroyed&&l.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return s.\u0275fac=function(l){return new(l||s)(Mn(is),Mn(zn),Mn(Ef))},s.\u0275prov=Qt({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function Hg(s,o){const l=s.indexOf(o);l>-1&&s.splice(l,1)}let rE=!0,sE=!1;function Pu(){return sE=!0,rE}function oE(){if(sE)throw new Error("Cannot enable prod mode after platform setup.");rE=!1}let aE=(()=>{class s{}return s.__NG_ELEMENT_ID__=Fr,s})();function Fr(s){return function lE(s,o,l){if(Da(s)&&!l){const d=Zt(s.index,o);return new Su(d,d)}return 47&s.type?new Su(o[16],o):null}(Sn(),xe(),16==(16&s))}class eb{constructor(){}supports(o){return sg(o)}create(o){return new pp(o)}}const qg=(s,o)=>o;class pp{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||qg}forEachItem(o){let l;for(l=this._itHead;null!==l;l=l._next)o(l)}forEachOperation(o){let l=this._itHead,d=this._removalsHead,h=0,m=null;for(;l||d;){const v=!d||l&&l.currentIndex<Zg(d,h,m)?l:d,C=Zg(v,h,m),E=v.currentIndex;if(v===d)h--,d=d._nextRemoved;else if(l=l._next,null==v.previousIndex)h++;else{m||(m=[]);const S=C-h,R=E-h;if(S!=R){for(let Z=0;Z<S;Z++){const re=Z<m.length?m[Z]:m[Z]=0,Ee=re+Z;R<=Ee&&Ee<S&&(m[Z]=re+1)}m[v.previousIndex]=R-S}}C!==E&&o(v,C,E)}}forEachPreviousItem(o){let l;for(l=this._previousItHead;null!==l;l=l._nextPrevious)o(l)}forEachAddedItem(o){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)o(l)}forEachMovedItem(o){let l;for(l=this._movesHead;null!==l;l=l._nextMoved)o(l)}forEachRemovedItem(o){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)o(l)}forEachIdentityChange(o){let l;for(l=this._identityChangesHead;null!==l;l=l._nextIdentityChange)o(l)}diff(o){if(null==o&&(o=[]),!sg(o))throw new Ce(900,!1);return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let h,m,v,l=this._itHead,d=!1;if(Array.isArray(o)){this.length=o.length;for(let C=0;C<this.length;C++)m=o[C],v=this._trackByFn(C,m),null!==l&&Object.is(l.trackById,v)?(d&&(l=this._verifyReinsertion(l,m,v,C)),Object.is(l.item,m)||this._addIdentityChange(l,m)):(l=this._mismatch(l,m,v,C),d=!0),l=l._next}else h=0,function vR(s,o){if(Array.isArray(s))for(let l=0;l<s.length;l++)o(s[l]);else{const l=s[xu()]();let d;for(;!(d=l.next()).done;)o(d.value)}}(o,C=>{v=this._trackByFn(h,C),null!==l&&Object.is(l.trackById,v)?(d&&(l=this._verifyReinsertion(l,C,v,h)),Object.is(l.item,C)||this._addIdentityChange(l,C)):(l=this._mismatch(l,C,v,h),d=!0),l=l._next,h++}),this.length=h;return this._truncate(l),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,l,d,h){let m;return null===o?m=this._itTail:(m=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(o.item,l)||this._addIdentityChange(o,l),this._reinsertAfter(o,m,h)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(d,h))?(Object.is(o.item,l)||this._addIdentityChange(o,l),this._moveAfter(o,m,h)):o=this._addAfter(new Nu(l,d),m,h),o}_verifyReinsertion(o,l,d,h){let m=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==m?o=this._reinsertAfter(m,o._prev,h):o.currentIndex!=h&&(o.currentIndex=h,this._addToMoves(o,h)),o}_truncate(o){for(;null!==o;){const l=o._next;this._addToRemovals(this._unlink(o)),o=l}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,l,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const h=o._prevRemoved,m=o._nextRemoved;return null===h?this._removalsHead=m:h._nextRemoved=m,null===m?this._removalsTail=h:m._prevRemoved=h,this._insertAfter(o,l,d),this._addToMoves(o,d),o}_moveAfter(o,l,d){return this._unlink(o),this._insertAfter(o,l,d),this._addToMoves(o,d),o}_addAfter(o,l,d){return this._insertAfter(o,l,d),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,l,d){const h=null===l?this._itHead:l._next;return o._next=h,o._prev=l,null===h?this._itTail=o:h._prev=o,null===l?this._itHead=o:l._next=o,null===this._linkedRecords&&(this._linkedRecords=new dE),this._linkedRecords.put(o),o.currentIndex=d,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const l=o._prev,d=o._next;return null===l?this._itHead=d:l._next=d,null===d?this._itTail=l:d._prev=l,o}_addToMoves(o,l){return o.previousIndex===l||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new dE),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,l){return o.item=l,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class Nu{constructor(o,l){this.item=o,this.trackById=l,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class tb{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,l){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===l||l<=d.currentIndex)&&Object.is(d.trackById,o))return d;return null}remove(o){const l=o._prevDup,d=o._nextDup;return null===l?this._head=d:l._nextDup=d,null===d?this._tail=l:d._prevDup=l,null===this._head}}class dE{constructor(){this.map=new Map}put(o){const l=o.trackById;let d=this.map.get(l);d||(d=new tb,this.map.set(l,d)),d.add(o)}get(o,l){const h=this.map.get(o);return h?h.get(o,l):null}remove(o){const l=o.trackById;return this.map.get(l).remove(o)&&this.map.delete(l),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Zg(s,o,l){const d=s.previousIndex;if(null===d)return d;let h=0;return l&&d<l.length&&(h=l[d]),d+o+h}class Fu{constructor(){}supports(o){return o instanceof Map||yw(o)}create(){return new nb}}class nb{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let l;for(l=this._mapHead;null!==l;l=l._next)o(l)}forEachPreviousItem(o){let l;for(l=this._previousMapHead;null!==l;l=l._nextPrevious)o(l)}forEachChangedItem(o){let l;for(l=this._changesHead;null!==l;l=l._nextChanged)o(l)}forEachAddedItem(o){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)o(l)}forEachRemovedItem(o){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)o(l)}diff(o){if(o){if(!(o instanceof Map||yw(o)))throw new Ce(900,!1)}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let l=this._mapHead;if(this._appendAfter=null,this._forEach(o,(d,h)=>{if(l&&l.key===h)this._maybeAddToChanges(l,d),this._appendAfter=l,l=l._next;else{const m=this._getOrCreateRecordForKey(h,d);l=this._insertBeforeOrAppend(l,m)}}),l){l._prev&&(l._prev._next=null),this._removalsHead=l;for(let d=l;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,l){if(o){const d=o._prev;return l._next=o,l._prev=d,o._prev=l,d&&(d._next=l),o===this._mapHead&&(this._mapHead=l),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=l,l._prev=this._appendAfter):this._mapHead=l,this._appendAfter=l,null}_getOrCreateRecordForKey(o,l){if(this._records.has(o)){const h=this._records.get(o);this._maybeAddToChanges(h,l);const m=h._prev,v=h._next;return m&&(m._next=v),v&&(v._prev=m),h._next=null,h._prev=null,h}const d=new Lu(o);return this._records.set(o,d),d.currentValue=l,this._addToAdditions(d),d}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,l){Object.is(l,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=l,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,l){o instanceof Map?o.forEach(l):Object.keys(o).forEach(d=>l(o[d],d))}}class Lu{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function ib(){return new rb([new eb])}let rb=(()=>{class s{constructor(l){this.factories=l}static create(l,d){if(null!=d){const h=d.factories.slice();l=l.concat(h)}return new s(l)}static extend(l){return{provide:s,useFactory:d=>s.create(l,d||ib()),deps:[[s,new vt,new je]]}}find(l){const d=this.factories.find(h=>h.supports(l));if(null!=d)return d;throw new Ce(901,!1)}}return s.\u0275prov=Qt({token:s,providedIn:"root",factory:ib}),s})();function _a(){return new Eh([new Fu])}let Eh=(()=>{class s{constructor(l){this.factories=l}static create(l,d){if(d){const h=d.factories.slice();l=l.concat(h)}return new s(l)}static extend(l){return{provide:s,useFactory:d=>s.create(l,d||_a()),deps:[[s,new vt,new je]]}}find(l){const d=this.factories.find(h=>h.supports(l));if(d)return d;throw new Ce(901,!1)}}return s.\u0275prov=Qt({token:s,providedIn:"root",factory:_a}),s})();const Yg=eE(null,"core",[]);let Tx=(()=>{class s{constructor(l){}}return s.\u0275fac=function(l){return new(l||s)(Mn(Ou))},s.\u0275mod=lt({type:s}),s.\u0275inj=Lt({}),s})();function Sx(s){return"boolean"==typeof s?s:null!=s&&"false"!==s}},3942:(at,De,P)=>{P.d(De,{Z:()=>Ce});var c=P(2090),te=P(4859),N=P(9681),le=P(1877);class oe{constructor(ve,me){this._delegate=ve,this.firebase=me,(0,N._addComponent)(ve,new te.wA("app-compat",()=>this,"PUBLIC")),this.container=ve.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ve){this._delegate.automaticDataCollectionEnabled=ve}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(ve=>{this._delegate.checkDestroyed(),ve()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,N.deleteApp)(this._delegate)))}_getService(ve,me=N._DEFAULT_ENTRY_NAME){var Xe;this._delegate.checkDestroyed();const st=this._delegate.container.getProvider(ve);return!st.isInitialized()&&"EXPLICIT"===(null===(Xe=st.getComponent())||void 0===Xe?void 0:Xe.instantiationMode)&&st.initialize(),st.getImmediate({identifier:me})}_removeServiceInstance(ve,me=N._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(ve).clearInstance(me)}_addComponent(ve){(0,N._addComponent)(this._delegate,ve)}_addOrOverwriteComponent(ve){(0,N._addOrOverwriteComponent)(this._delegate,ve)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ie=new c.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),$=function ge(){const et=function fe(et){const ve={},me={__esModule:!0,initializeApp:function Ae($e,j={}){const ye=N.initializeApp($e,j);if((0,c.r3)(ve,ye.name))return ve[ye.name];const Q=new et(ye,me);return ve[ye.name]=Q,Q},app:st,registerVersion:N.registerVersion,setLogLevel:N.setLogLevel,onLog:N.onLog,apps:null,SDK_VERSION:N.SDK_VERSION,INTERNAL:{registerComponent:function Ie($e){const j=$e.name,ye=j.replace("-compat","");if(N._registerComponent($e)&&"PUBLIC"===$e.type){const Q=(ne=st())=>{if("function"!=typeof ne[ye])throw ie.create("invalid-app-argument",{appName:j});return ne[ye]()};void 0!==$e.serviceProps&&(0,c.ZB)(Q,$e.serviceProps),me[ye]=Q,et.prototype[ye]=function(...ne){return this._getService.bind(this,j).apply(this,$e.multipleInstances?ne:[])}}return"PUBLIC"===$e.type?me[ye]:null},removeApp:function Xe($e){delete ve[$e]},useAsService:function He($e,j){return"serverAuth"===j?null:j},modularAPIs:N}};function st($e){if(!(0,c.r3)(ve,$e=$e||N._DEFAULT_ENTRY_NAME))throw ie.create("no-app",{appName:$e});return ve[$e]}return me.default=me,Object.defineProperty(me,"apps",{get:function be(){return Object.keys(ve).map($e=>ve[$e])}}),st.App=et,me}(oe);return et.INTERNAL=Object.assign(Object.assign({},et.INTERNAL),{createFirebaseNamespace:ge,extendNamespace:function ve(me){(0,c.ZB)(et,me)},createSubscribe:c.ne,ErrorFactory:c.LL,deepExtend:c.ZB}),et}(),z=new le.Yd("@firebase/app-compat");if((0,c.jU)()&&void 0!==self.firebase){z.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const et=self.firebase.SDK_VERSION;et&&et.indexOf("LITE")>=0&&z.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ce=$;!function Me(et){(0,N.registerVersion)("@firebase/app-compat","0.1.33",et)}()},9681:(at,De,P)=>{P.r(De),P.d(De,{FirebaseError:()=>le.ZR,SDK_VERSION:()=>Os,_DEFAULT_ENTRY_NAME:()=>$t,_addComponent:()=>Yt,_addOrOverwriteComponent:()=>Qt,_apps:()=>an,_clearComponents:()=>Ca,_components:()=>On,_getProvider:()=>Lt,_registerComponent:()=>xi,_removeServiceInstance:()=>rn,deleteApp:()=>Vo,getApp:()=>zi,getApps:()=>Dr,initializeApp:()=>Ur,onLog:()=>os,registerVersion:()=>qi,setLogLevel:()=>Pn});var c=P(5861),te=P(4859),N=P(1877),le=P(2090),oe=P(8766);class he{constructor(q){this.container=q}getPlatformInfoString(){return this.container.getProviders().map(W=>{if(function ie(H){return"VERSION"===H.getComponent()?.type}(W)){const Te=W.getImmediate();return`${Te.library}/${Te.version}`}return null}).filter(W=>W).join(" ")}}const fe="@firebase/app",$=new N.Yd("@firebase/app"),$t="[DEFAULT]",qe={[fe]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},an=new Map,On=new Map;function Yt(H,q){try{H.container.addComponent(q)}catch(W){$.debug(`Component ${q.name} failed to register with FirebaseApp ${H.name}`,W)}}function Qt(H,q){H.container.addOrOverwriteComponent(q)}function xi(H){const q=H.name;if(On.has(q))return $.debug(`There were multiple attempts to register component ${q}.`),!1;On.set(q,H);for(const W of an.values())Yt(W,H);return!0}function Lt(H,q){const W=H.container.getProvider("heartbeat").getImmediate({optional:!0});return W&&W.triggerHeartbeat(),H.container.getProvider(q)}function rn(H,q,W=$t){Lt(H,q).clearInstance(W)}function Ca(){On.clear()}const Ei=new le.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Gi{constructor(q,W,Te){this._isDeleted=!1,this._options=Object.assign({},q),this._config=Object.assign({},W),this._name=W.name,this._automaticDataCollectionEnabled=W.automaticDataCollectionEnabled,this._container=Te,this.container.addComponent(new te.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(q){this.checkDestroyed(),this._automaticDataCollectionEnabled=q}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(q){this._isDeleted=q}checkDestroyed(){if(this.isDeleted)throw Ei.create("app-deleted",{appName:this._name})}}const Os="9.9.4";function Ur(H,q={}){"object"!=typeof q&&(q={name:q});const W=Object.assign({name:$t,automaticDataCollectionEnabled:!1},q),Te=W.name;if("string"!=typeof Te||!Te)throw Ei.create("bad-app-name",{appName:String(Te)});const Ue=an.get(Te);if(Ue){if((0,le.vZ)(H,Ue.options)&&(0,le.vZ)(W,Ue.config))return Ue;throw Ei.create("duplicate-app",{appName:Te})}const lt=new te.H0(Te);for(const Jt of On.values())lt.addComponent(Jt);const hn=new Gi(H,W,lt);return an.set(Te,hn),hn}function zi(H=$t){const q=an.get(H);if(!q)throw Ei.create("no-app",{appName:H});return q}function Dr(){return Array.from(an.values())}function Vo(H){return Ke.apply(this,arguments)}function Ke(){return(Ke=(0,c.Z)(function*(H){const q=H.name;an.has(q)&&(an.delete(q),yield Promise.all(H.container.getProviders().map(W=>W.delete())),H.isDeleted=!0)})).apply(this,arguments)}function qi(H,q,W){var Te;let Ue=null!==(Te=qe[H])&&void 0!==Te?Te:H;W&&(Ue+=`-${W}`);const lt=Ue.match(/\s|\//),hn=q.match(/\s|\//);if(lt||hn){const Jt=[`Unable to register library "${Ue}" with version "${q}":`];return lt&&Jt.push(`library name "${Ue}" contains illegal characters (whitespace or "/")`),lt&&hn&&Jt.push("and"),hn&&Jt.push(`version name "${q}" contains illegal characters (whitespace or "/")`),void $.warn(Jt.join(" "))}xi(new te.wA(`${Ue}-version`,()=>({library:Ue,version:q}),"VERSION"))}function os(H,q){if(null!==H&&"function"!=typeof H)throw Ei.create("invalid-log-argument");(0,N.Am)(H,q)}function Pn(H){(0,N.Ub)(H)}const Nn="firebase-heartbeat-store";let Kn=null;function gn(){return Kn||(Kn=(0,oe.X3)("firebase-heartbeat-database",1,{upgrade:(H,q)=>{0===q&&H.createObjectStore(Nn)}}).catch(H=>{throw Ei.create("idb-open",{originalErrorMessage:H.message})})),Kn}function ct(){return(ct=(0,c.Z)(function*(H){var q;try{return(yield gn()).transaction(Nn).objectStore(Nn).get(ci(H))}catch(W){if(W instanceof le.ZR)$.warn(W.message);else{const Te=Ei.create("idb-get",{originalErrorMessage:null===(q=W)||void 0===q?void 0:q.message});$.warn(Te.message)}}})).apply(this,arguments)}function ln(H,q){return li.apply(this,arguments)}function li(){return(li=(0,c.Z)(function*(H,q){var W;try{const Ue=(yield gn()).transaction(Nn,"readwrite");return yield Ue.objectStore(Nn).put(q,ci(H)),Ue.done}catch(Te){if(Te instanceof le.ZR)$.warn(Te.message);else{const Ue=Ei.create("idb-set",{originalErrorMessage:null===(W=Te)||void 0===W?void 0:W.message});$.warn(Ue.message)}}})).apply(this,arguments)}function ci(H){return`${H.name}!${H.options.appId}`}class as{constructor(q){this.container=q,this._heartbeatsCache=null;const W=this.container.getProvider("app").getImmediate();this._storage=new Kt(W),this._heartbeatsCachePromise=this._storage.read().then(Te=>(this._heartbeatsCache=Te,Te))}triggerHeartbeat(){var q=this;return(0,c.Z)(function*(){const Te=q.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Ue=Xt();if(null===q._heartbeatsCache&&(q._heartbeatsCache=yield q._heartbeatsCachePromise),q._heartbeatsCache.lastSentHeartbeatDate!==Ue&&!q._heartbeatsCache.heartbeats.some(lt=>lt.date===Ue))return q._heartbeatsCache.heartbeats.push({date:Ue,agent:Te}),q._heartbeatsCache.heartbeats=q._heartbeatsCache.heartbeats.filter(lt=>{const hn=new Date(lt.date).valueOf();return Date.now()-hn<=2592e6}),q._storage.overwrite(q._heartbeatsCache)})()}getHeartbeatsHeader(){var q=this;return(0,c.Z)(function*(){if(null===q._heartbeatsCache&&(yield q._heartbeatsCachePromise),null===q._heartbeatsCache||0===q._heartbeatsCache.heartbeats.length)return"";const W=Xt(),{heartbeatsToSend:Te,unsentEntries:Ue}=function Sr(H,q=1024){const W=[];let Te=H.slice();for(const Ue of H){const lt=W.find(hn=>hn.agent===Ue.agent);if(lt){if(lt.dates.push(Ue.date),Y(W)>q){lt.dates.pop();break}}else if(W.push({agent:Ue.agent,dates:[Ue.date]}),Y(W)>q){W.pop();break}Te=Te.slice(1)}return{heartbeatsToSend:W,unsentEntries:Te}}(q._heartbeatsCache.heartbeats),lt=(0,le.L)(JSON.stringify({version:2,heartbeats:Te}));return q._heartbeatsCache.lastSentHeartbeatDate=W,Ue.length>0?(q._heartbeatsCache.heartbeats=Ue,yield q._storage.overwrite(q._heartbeatsCache)):(q._heartbeatsCache.heartbeats=[],q._storage.overwrite(q._heartbeatsCache)),lt})()}}function Xt(){return(new Date).toISOString().substring(0,10)}class Kt{constructor(q){this.app=q,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,c.Z)(function*(){return!!(0,le.hl)()&&(0,le.eu)().then(()=>!0).catch(()=>!1)})()}read(){var q=this;return(0,c.Z)(function*(){return(yield q._canUseIndexedDBPromise)&&(yield function mt(H){return ct.apply(this,arguments)}(q.app))||{heartbeats:[]}})()}overwrite(q){var W=this;return(0,c.Z)(function*(){var Te;if(yield W._canUseIndexedDBPromise){const lt=yield W.read();return ln(W.app,{lastSentHeartbeatDate:null!==(Te=q.lastSentHeartbeatDate)&&void 0!==Te?Te:lt.lastSentHeartbeatDate,heartbeats:q.heartbeats})}})()}add(q){var W=this;return(0,c.Z)(function*(){var Te;if(yield W._canUseIndexedDBPromise){const lt=yield W.read();return ln(W.app,{lastSentHeartbeatDate:null!==(Te=q.lastSentHeartbeatDate)&&void 0!==Te?Te:lt.lastSentHeartbeatDate,heartbeats:[...lt.heartbeats,...q.heartbeats]})}})()}}function Y(H){return(0,le.L)(JSON.stringify({version:2,heartbeats:H})).length}!function G(H){xi(new te.wA("platform-logger",q=>new he(q),"PRIVATE")),xi(new te.wA("heartbeat",q=>new as(q),"PRIVATE")),qi(fe,"0.7.32",H),qi(fe,"0.7.32","esm2017"),qi("fire-js","")}("")},4859:(at,De,P)=>{P.d(De,{H0:()=>fe,wA:()=>N});var c=P(5861),te=P(2090);class N{constructor($,z,X){this.name=$,this.instanceFactory=z,this.type=X,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode($){return this.instantiationMode=$,this}setMultipleInstances($){return this.multipleInstances=$,this}setServiceProps($){return this.serviceProps=$,this}setInstanceCreatedCallback($){return this.onInstanceCreated=$,this}}const le="[DEFAULT]";class oe{constructor($,z){this.name=$,this.container=z,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get($){const z=this.normalizeInstanceIdentifier($);if(!this.instancesDeferred.has(z)){const X=new te.BH;if(this.instancesDeferred.set(z,X),this.isInitialized(z)||this.shouldAutoInitialize())try{const Be=this.getOrInitializeService({instanceIdentifier:z});Be&&X.resolve(Be)}catch{}}return this.instancesDeferred.get(z).promise}getImmediate($){var z;const X=this.normalizeInstanceIdentifier($?.identifier),Be=null!==(z=$?.optional)&&void 0!==z&&z;if(!this.isInitialized(X)&&!this.shouldAutoInitialize()){if(Be)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:X})}catch(Me){if(Be)return null;throw Me}}getComponent(){return this.component}setComponent($){if($.name!==this.name)throw Error(`Mismatching Component ${$.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=$,this.shouldAutoInitialize()){if(function ie(ge){return"EAGER"===ge.instantiationMode}($))try{this.getOrInitializeService({instanceIdentifier:le})}catch{}for(const[z,X]of this.instancesDeferred.entries()){const Be=this.normalizeInstanceIdentifier(z);try{const Me=this.getOrInitializeService({instanceIdentifier:Be});X.resolve(Me)}catch{}}}}clearInstance($=le){this.instancesDeferred.delete($),this.instancesOptions.delete($),this.instances.delete($)}delete(){var $=this;return(0,c.Z)(function*(){const z=Array.from($.instances.values());yield Promise.all([...z.filter(X=>"INTERNAL"in X).map(X=>X.INTERNAL.delete()),...z.filter(X=>"_delete"in X).map(X=>X._delete())])})()}isComponentSet(){return null!=this.component}isInitialized($=le){return this.instances.has($)}getOptions($=le){return this.instancesOptions.get($)||{}}initialize($={}){const{options:z={}}=$,X=this.normalizeInstanceIdentifier($.instanceIdentifier);if(this.isInitialized(X))throw Error(`${this.name}(${X}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Be=this.getOrInitializeService({instanceIdentifier:X,options:z});for(const[Me,Ce]of this.instancesDeferred.entries())X===this.normalizeInstanceIdentifier(Me)&&Ce.resolve(Be);return Be}onInit($,z){var X;const Be=this.normalizeInstanceIdentifier(z),Me=null!==(X=this.onInitCallbacks.get(Be))&&void 0!==X?X:new Set;Me.add($),this.onInitCallbacks.set(Be,Me);const Ce=this.instances.get(Be);return Ce&&$(Ce,Be),()=>{Me.delete($)}}invokeOnInitCallbacks($,z){const X=this.onInitCallbacks.get(z);if(X)for(const Be of X)try{Be($,z)}catch{}}getOrInitializeService({instanceIdentifier:$,options:z={}}){let X=this.instances.get($);if(!X&&this.component&&(X=this.component.instanceFactory(this.container,{instanceIdentifier:(ge=$,ge===le?void 0:ge),options:z}),this.instances.set($,X),this.instancesOptions.set($,z),this.invokeOnInitCallbacks(X,$),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,$,X)}catch{}var ge;return X||null}normalizeInstanceIdentifier($=le){return this.component?this.component.multipleInstances?$:le:$}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class fe{constructor($){this.name=$,this.providers=new Map}addComponent($){const z=this.getProvider($.name);if(z.isComponentSet())throw new Error(`Component ${$.name} has already been registered with ${this.name}`);z.setComponent($)}addOrOverwriteComponent($){this.getProvider($.name).isComponentSet()&&this.providers.delete($.name),this.addComponent($)}getProvider($){if(this.providers.has($))return this.providers.get($);const z=new oe($,this);return this.providers.set($,z),z}getProviders(){return Array.from(this.providers.values())}}},1877:(at,De,P)=>{P.d(De,{Am:()=>ge,Ub:()=>fe,Yd:()=>ie,in:()=>te});const c=[];var te=(()=>{return($=te||(te={}))[$.DEBUG=0]="DEBUG",$[$.VERBOSE=1]="VERBOSE",$[$.INFO=2]="INFO",$[$.WARN=3]="WARN",$[$.ERROR=4]="ERROR",$[$.SILENT=5]="SILENT",te;var $})();const N={debug:te.DEBUG,verbose:te.VERBOSE,info:te.INFO,warn:te.WARN,error:te.ERROR,silent:te.SILENT},le=te.INFO,oe={[te.DEBUG]:"log",[te.VERBOSE]:"log",[te.INFO]:"info",[te.WARN]:"warn",[te.ERROR]:"error"},he=($,z,...X)=>{if(z<$.logLevel)return;const Be=(new Date).toISOString(),Me=oe[z];if(!Me)throw new Error(`Attempted to log a message with an invalid logType (value: ${z})`);console[Me](`[${Be}]  ${$.name}:`,...X)};class ie{constructor(z){this.name=z,this._logLevel=le,this._logHandler=he,this._userLogHandler=null,c.push(this)}get logLevel(){return this._logLevel}set logLevel(z){if(!(z in te))throw new TypeError(`Invalid value "${z}" assigned to \`logLevel\``);this._logLevel=z}setLogLevel(z){this._logLevel="string"==typeof z?N[z]:z}get logHandler(){return this._logHandler}set logHandler(z){if("function"!=typeof z)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=z}get userLogHandler(){return this._userLogHandler}set userLogHandler(z){this._userLogHandler=z}debug(...z){this._userLogHandler&&this._userLogHandler(this,te.DEBUG,...z),this._logHandler(this,te.DEBUG,...z)}log(...z){this._userLogHandler&&this._userLogHandler(this,te.VERBOSE,...z),this._logHandler(this,te.VERBOSE,...z)}info(...z){this._userLogHandler&&this._userLogHandler(this,te.INFO,...z),this._logHandler(this,te.INFO,...z)}warn(...z){this._userLogHandler&&this._userLogHandler(this,te.WARN,...z),this._logHandler(this,te.WARN,...z)}error(...z){this._userLogHandler&&this._userLogHandler(this,te.ERROR,...z),this._logHandler(this,te.ERROR,...z)}}function fe($){c.forEach(z=>{z.setLogLevel($)})}function ge($,z){for(const X of c){let Be=null;z&&z.level&&(Be=N[z.level]),X.userLogHandler=null===$?null:(Me,Ce,...et)=>{const ve=et.map(me=>{if(null==me)return null;if("string"==typeof me)return me;if("number"==typeof me||"boolean"==typeof me)return me.toString();if(me instanceof Error)return me.message;try{return JSON.stringify(me)}catch{return null}}).filter(me=>me).join(" ");Ce>=(Be??Me.logLevel)&&$({level:te[Ce].toLowerCase(),message:ve,args:et,type:Me.name})}}}},8766:(at,De,P)=>{P.d(De,{Lj:()=>Ae,X3:()=>st});var c=P(5861);let N,le;const ie=new WeakMap,fe=new WeakMap,ge=new WeakMap,$=new WeakMap,z=new WeakMap;let Me={get(j,ye,Q){if(j instanceof IDBTransaction){if("done"===ye)return fe.get(j);if("objectStoreNames"===ye)return j.objectStoreNames||ge.get(j);if("store"===ye)return Q.objectStoreNames[1]?void 0:Q.objectStore(Q.objectStoreNames[0])}return me(j[ye])},set:(j,ye,Q)=>(j[ye]=Q,!0),has:(j,ye)=>j instanceof IDBTransaction&&("done"===ye||"store"===ye)||ye in j};function ve(j){return"function"==typeof j?function et(j){return j!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function he(){return le||(le=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(j)?function(...ye){return j.apply(Xe(this),ye),me(ie.get(this))}:function(...ye){return me(j.apply(Xe(this),ye))}:function(ye,...Q){const ne=j.call(Xe(this),ye,...Q);return ge.set(ne,ye.sort?ye.sort():[ye]),me(ne)}}(j):(j instanceof IDBTransaction&&function Be(j){if(fe.has(j))return;const ye=new Promise((Q,ne)=>{const ae=()=>{j.removeEventListener("complete",se),j.removeEventListener("error",Ne),j.removeEventListener("abort",Ne)},se=()=>{Q(),ae()},Ne=()=>{ne(j.error||new DOMException("AbortError","AbortError")),ae()};j.addEventListener("complete",se),j.addEventListener("error",Ne),j.addEventListener("abort",Ne)});fe.set(j,ye)}(j),((j,ye)=>ye.some(Q=>j instanceof Q))(j,function oe(){return N||(N=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(j,Me):j)}function me(j){if(j instanceof IDBRequest)return function X(j){const ye=new Promise((Q,ne)=>{const ae=()=>{j.removeEventListener("success",se),j.removeEventListener("error",Ne)},se=()=>{Q(me(j.result)),ae()},Ne=()=>{ne(j.error),ae()};j.addEventListener("success",se),j.addEventListener("error",Ne)});return ye.then(Q=>{Q instanceof IDBCursor&&ie.set(Q,j)}).catch(()=>{}),z.set(ye,j),ye}(j);if($.has(j))return $.get(j);const ye=ve(j);return ye!==j&&($.set(j,ye),z.set(ye,j)),ye}const Xe=j=>z.get(j);function st(j,ye,{blocked:Q,upgrade:ne,blocking:ae,terminated:se}={}){const Ne=indexedDB.open(j,ye),Oe=me(Ne);return ne&&Ne.addEventListener("upgradeneeded",ht=>{ne(me(Ne.result),ht.oldVersion,ht.newVersion,me(Ne.transaction))}),Q&&Ne.addEventListener("blocked",()=>Q()),Oe.then(ht=>{se&&ht.addEventListener("close",()=>se()),ae&&ht.addEventListener("versionchange",()=>ae())}).catch(()=>{}),Oe}function Ae(j,{blocked:ye}={}){const Q=indexedDB.deleteDatabase(j);return ye&&Q.addEventListener("blocked",()=>ye()),me(Q).then(()=>{})}const be=["get","getKey","getAll","getAllKeys","count"],Ie=["put","add","delete","clear"],He=new Map;function $e(j,ye){if(!(j instanceof IDBDatabase)||ye in j||"string"!=typeof ye)return;if(He.get(ye))return He.get(ye);const Q=ye.replace(/FromIndex$/,""),ne=ye!==Q,ae=Ie.includes(Q);if(!(Q in(ne?IDBIndex:IDBObjectStore).prototype)||!ae&&!be.includes(Q))return;const se=function(){var Ne=(0,c.Z)(function*(Oe,...ht){const Wt=this.transaction(Oe,ae?"readwrite":"readonly");let $t=Wt.store;return ne&&($t=$t.index(ht.shift())),(yield Promise.all([$t[Q](...ht),ae&&Wt.done]))[0]});return function(ht){return Ne.apply(this,arguments)}}();return He.set(ye,se),se}!function Ce(j){Me=j(Me)}(j=>({...j,get:(ye,Q,ne)=>$e(ye,Q)||j.get(ye,Q,ne),has:(ye,Q)=>!!$e(ye,Q)||j.has(ye,Q)}))},5861:(at,De,P)=>{function c(N,le,oe,he,ie,fe,ge){try{var $=N[fe](ge),z=$.value}catch(X){return void oe(X)}$.done?le(z):Promise.resolve(z).then(he,ie)}function te(N){return function(){var le=this,oe=arguments;return new Promise(function(he,ie){var fe=N.apply(le,oe);function ge(z){c(fe,he,ie,ge,$,"next",z)}function $(z){c(fe,he,ie,ge,$,"throw",z)}ge(void 0)})}}P.d(De,{Z:()=>te})}},at=>{at(at.s=6725)}]);