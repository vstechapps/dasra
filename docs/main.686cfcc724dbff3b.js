"use strict";(self.webpackChunktransfer_pricing_digital=self.webpackChunktransfer_pricing_digital||[]).push([[179],{2011:(at,De,P)=>{P.d(De,{Dh:()=>pe,GT:()=>fe,cc:()=>Ae,hO:()=>Ve,on:()=>$,pX:()=>oe,xv:()=>ge});var u=P(4650),te=P(127),N=P(5813);at=P.hmd(at);const le=["ngOnDestroy"],oe=(me,Qe,st,Me={})=>new Proxy(me,{get:(we,Ie)=>st.runOutsideAngular(()=>{var Ue;if(me[Ie])return!(null===(Ue=Me?.spy)||void 0===Ue)&&Ue.get&&Me.spy.get(Ie,me[Ie]),me[Ie];if(le.indexOf(Ie)>-1)return()=>{};const je=Qe.toPromise().then(j=>{const _e=j&&j[Ie];return"function"==typeof _e?_e.bind(j):_e&&_e.then?_e.then(Q=>st.run(()=>Q)):st.run(()=>_e)});return new Proxy(()=>{},{get:(j,_e)=>je[_e],apply:(j,_e,Q)=>je.then(ne=>{var ae;const se=ne&&ne(...Q);return!(null===(ae=Me?.spy)||void 0===ae)&&ae.apply&&Me.spy.apply(Ie,Q,se),se})})})}),fe=(me,Qe)=>{Qe.forEach(st=>{Object.getOwnPropertyNames(st.prototype||st).forEach(Me=>{Object.defineProperty(me.prototype,Me,Object.getOwnPropertyDescriptor(st.prototype||st,Me))})})};class re{constructor(Qe){return Qe}}const pe=new u.OlP("angularfire2.app.options"),ge=new u.OlP("angularfire2.app.name");function $(me,Qe,st){const we="object"==typeof st&&st||{};we.name=we.name||"string"==typeof st&&st||"[DEFAULT]";const Ue=te.Z.apps.filter(je=>je&&je.name===we.name)[0]||Qe.runOutsideAngular(()=>te.Z.initializeApp(me,we));try{JSON.stringify(me)!==JSON.stringify(Ue.options)&&z("error",`${Ue.name} Firebase App already initialized with different options${at.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new re(Ue)}const z=(me,...Qe)=>{(0,u.X6Q)()&&typeof console<"u"&&console[me](...Qe)},X={provide:re,useFactory:$,deps:[pe,u.R0b,[new u.FiY,ge]]};let Ve=(()=>{class me{constructor(st){te.Z.registerVersion("angularfire",N.q4.full,"core"),te.Z.registerVersion("angularfire",N.q4.full,"app-compat"),te.Z.registerVersion("angular",u.q4F.full,st.toString())}static initializeApp(st,Me){return{ngModule:me,providers:[{provide:pe,useValue:st},{provide:ge,useValue:Me}]}}}return me.\u0275fac=function(st){return new(st||me)(u.LFG(u.Lbi))},me.\u0275mod=u.oAB({type:me}),me.\u0275inj=u.cJS({providers:[X]}),me})();function Ae(me,Qe,st,Me,we){const[,Ie,Ue]=globalThis.\u0275AngularfireInstanceCache.find(je=>je[0]===me)||[];if(Ie)return function Ce(me,Qe){try{return me.toString()===Qe.toString()}catch{return me===Qe}}(we,Ue)||(ye("error",`${Qe} was already initialized on the ${st} Firebase App with different settings.${tt?" You may need to reload as Firebase is not HMR aware.":""}`),ye("warn",{is:we,was:Ue})),Ie;{const je=Me();return globalThis.\u0275AngularfireInstanceCache.push([me,je,we]),je}}const tt=!!at.hot,ye=(me,...Qe)=>{(0,u.X6Q)()&&typeof console<"u"&&console[me](...Qe)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(at,De,P)=>{P.d(De,{q4:()=>Ui,iC:()=>Cs,HU:()=>fc,vb:()=>or,JM:()=>tl});var u=P(4650),te=P(5867),N=P(5861),le=P(9681),oe=P(2090),fe=P(4859),re=P(1877),pe=P(8766);const ge="@firebase/installations",$="0.5.12",X=`w:${$}`,Ve="FIS_v2",Qe=new oe.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function st(D){return D instanceof oe.ZR&&D.code.includes("request-failed")}function Me({projectId:D}){return`https://firebaseinstallations.googleapis.com/v1/projects/${D}/installations`}function we(D){return{token:D.token,requestStatus:2,expiresIn:ne(D.expiresIn),creationTime:Date.now()}}function Ie(D,T){return Ue.apply(this,arguments)}function Ue(){return(Ue=(0,N.Z)(function*(D,T){const V=(yield T.json()).error;return Qe.create("request-failed",{requestName:D,serverCode:V.code,serverMessage:V.message,serverStatus:V.status})})).apply(this,arguments)}function je({apiKey:D}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":D})}function j(D,{refreshToken:T}){const k=je(D);return k.append("Authorization",function ae(D){return`${Ve} ${D}`}(T)),k}function _e(D){return Q.apply(this,arguments)}function Q(){return(Q=(0,N.Z)(function*(D){const T=yield D();return T.status>=500&&T.status<600?D():T})).apply(this,arguments)}function ne(D){return Number(D.replace("s","000"))}function se(D,T){return Fe.apply(this,arguments)}function Fe(){return(Fe=(0,N.Z)(function*({appConfig:D,heartbeatServiceProvider:T},{fid:k}){const V=Me(D),J=je(D),ue=T.getImmediate({optional:!0});if(ue){const bt=yield ue.getHeartbeatsHeader();bt&&J.append("x-firebase-client",bt)}const He={method:"POST",headers:J,body:JSON.stringify({fid:k,authVersion:Ve,appId:D.appId,sdkVersion:X})},ut=yield _e(()=>fetch(V,He));if(ut.ok){const bt=yield ut.json();return{fid:bt.fid||k,registrationStatus:2,refreshToken:bt.refreshToken,authToken:we(bt.authToken)}}throw yield Ie("Create Installation",ut)})).apply(this,arguments)}function Oe(D){return new Promise(T=>{setTimeout(T,D)})}const Zt=/^[cdef][\w-]{21}$/;function We(){try{const D=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(D),D[0]=112+D[0]%16;const k=function an(D){return function ft(D){return btoa(String.fromCharCode(...D)).replace(/\+/g,"-").replace(/\//g,"_")}(D).substr(0,22)}(D);return Zt.test(k)?k:""}catch{return""}}function Nn(D){return`${D.appName}!${D.appId}`}const Yt=new Map;function Qt(D,T){const k=Nn(D);on(k,T),function Pa(D,T){const k=function Mi(){return!Xi&&"BroadcastChannel"in self&&(Xi=new BroadcastChannel("[Firebase] FID Change"),Xi.onmessage=D=>{on(D.data.key,D.data.fid)}),Xi}();k&&k.postMessage({key:D,fid:T}),function Ji(){0===Yt.size&&Xi&&(Xi.close(),Xi=null)}()}(k,T)}function on(D,T){const k=Yt.get(D);if(k)for(const V of k)V(T)}let Xi=null;const er="firebase-installations-store";let xr=null;function Wo(){return xr||(xr=(0,pe.X3)("firebase-installations-database",1,{upgrade:(D,T)=>{0===T&&D.createObjectStore(er)}})),xr}function Ke(D,T){return tr.apply(this,arguments)}function tr(){return(tr=(0,N.Z)(function*(D,T){const k=Nn(D),J=(yield Wo()).transaction(er,"readwrite"),ue=J.objectStore(er),Se=yield ue.get(k);return yield ue.put(T,k),yield J.done,(!Se||Se.fid!==T.fid)&&Qt(D,T.fid),T})).apply(this,arguments)}function cs(D){return Fn.apply(this,arguments)}function Fn(){return(Fn=(0,N.Z)(function*(D){const T=Nn(D),V=(yield Wo()).transaction(er,"readwrite");yield V.objectStore(er).delete(T),yield V.done})).apply(this,arguments)}function Mr(D,T){return mr.apply(this,arguments)}function mr(){return(mr=(0,N.Z)(function*(D,T){const k=Nn(D),J=(yield Wo()).transaction(er,"readwrite"),ue=J.objectStore(er),Se=yield ue.get(k),He=T(Se);return void 0===He?yield ue.delete(k):yield ue.put(He,k),yield J.done,He&&(!Se||Se.fid!==He.fid)&&Qt(D,He.fid),He})).apply(this,arguments)}function Ln(D){return Jn.apply(this,arguments)}function Jn(){return(Jn=(0,N.Z)(function*(D){let T;const k=yield Mr(D.appConfig,V=>{const J=_n(V),ue=gt(D,J);return T=ue.registrationPromise,ue.installationEntry});return""===k.fid?{installationEntry:yield T}:{installationEntry:k,registrationPromise:T}})).apply(this,arguments)}function _n(D){return It(D||{fid:We(),registrationStatus:0})}function gt(D,T){if(0===T.registrationStatus){if(!navigator.onLine)return{installationEntry:T,registrationPromise:Promise.reject(Qe.create("app-offline"))};const k={fid:T.fid,registrationStatus:1,registrationTime:Date.now()},V=function ct(D,T){return ln.apply(this,arguments)}(D,k);return{installationEntry:k,registrationPromise:V}}return 1===T.registrationStatus?{installationEntry:T,registrationPromise:hi(D)}:{installationEntry:T}}function ln(){return(ln=(0,N.Z)(function*(D,T){try{const k=yield se(D,T);return Ke(D.appConfig,k)}catch(k){throw st(k)&&409===k.customData.serverCode?yield cs(D.appConfig):yield Ke(D.appConfig,{fid:T.fid,registrationStatus:0}),k}})).apply(this,arguments)}function hi(D){return fi.apply(this,arguments)}function fi(){return(fi=(0,N.Z)(function*(D){let T=yield Ni(D.appConfig);for(;1===T.registrationStatus;)yield Oe(100),T=yield Ni(D.appConfig);if(0===T.registrationStatus){const{installationEntry:k,registrationPromise:V}=yield Ln(D);return V||k}return T})).apply(this,arguments)}function Ni(D){return Mr(D,T=>{if(!T)throw Qe.create("installation-not-found");return It(T)})}function It(D){return function us(D){return 1===D.registrationStatus&&D.registrationTime+1e4<Date.now()}(D)?{fid:D.fid,registrationStatus:0}:D}function Xt(D,T){return Ar.apply(this,arguments)}function Ar(){return(Ar=(0,N.Z)(function*({appConfig:D,heartbeatServiceProvider:T},k){const V=Kt(D,k),J=j(D,k),ue=T.getImmediate({optional:!0});if(ue){const bt=yield ue.getHeartbeatsHeader();bt&&J.append("x-firebase-client",bt)}const He={method:"POST",headers:J,body:JSON.stringify({installation:{sdkVersion:X,appId:D.appId}})},ut=yield _e(()=>fetch(V,He));if(ut.ok)return we(yield ut.json());throw yield Ie("Generate Auth Token",ut)})).apply(this,arguments)}function Kt(D,{fid:T}){return`${Me(D)}/${T}/authTokens:generate`}function Y(D){return G.apply(this,arguments)}function G(){return(G=(0,N.Z)(function*(D,T=!1){let k;const V=yield Mr(D.appConfig,ue=>{if(!lt(ue))throw Qe.create("not-registered");const Se=ue.authToken;if(!T&&fn(Se))return ue;if(1===Se.requestStatus)return k=U(D,T),ue;{if(!navigator.onLine)throw Qe.create("app-offline");const He=ei(ue);return k=Te(D,He),He}});return k?yield k:V.authToken})).apply(this,arguments)}function U(D,T){return W.apply(this,arguments)}function W(){return(W=(0,N.Z)(function*(D,T){let k=yield Z(D.appConfig);for(;1===k.authToken.requestStatus;)yield Oe(100),k=yield Z(D.appConfig);const V=k.authToken;return 0===V.requestStatus?Y(D,T):V})).apply(this,arguments)}function Z(D){return Mr(D,T=>{if(!lt(T))throw Qe.create("not-registered");return function Ht(D){return 1===D.requestStatus&&D.requestTime+1e4<Date.now()}(T.authToken)?Object.assign(Object.assign({},T),{authToken:{requestStatus:0}}):T})}function Te(D,T){return Be.apply(this,arguments)}function Be(){return(Be=(0,N.Z)(function*(D,T){try{const k=yield Xt(D,T),V=Object.assign(Object.assign({},T),{authToken:k});return yield Ke(D.appConfig,V),k}catch(k){if(!st(k)||401!==k.customData.serverCode&&404!==k.customData.serverCode){const V=Object.assign(Object.assign({},T),{authToken:{requestStatus:0}});yield Ke(D.appConfig,V)}else yield cs(D.appConfig);throw k}})).apply(this,arguments)}function lt(D){return void 0!==D&&2===D.registrationStatus}function fn(D){return 2===D.requestStatus&&!function Jt(D){const T=Date.now();return T<D.creationTime||D.creationTime+D.expiresIn<T+36e5}(D)}function ei(D){const T={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},D),{authToken:T})}function vn(){return(vn=(0,N.Z)(function*(D){const T=D,{installationEntry:k,registrationPromise:V}=yield Ln(T);return V?V.catch(console.error):Y(T).catch(console.error),k.fid})).apply(this,arguments)}function $r(){return($r=(0,N.Z)(function*(D,T=!1){const k=D;return yield Fi(k),(yield Y(k,T)).token})).apply(this,arguments)}function Fi(D){return Gn.apply(this,arguments)}function Gn(){return(Gn=(0,N.Z)(function*(D){const{registrationPromise:T}=yield Ln(D);T&&(yield T)})).apply(this,arguments)}function Vs(D){return Qe.create("missing-app-config-values",{valueName:D})}const ao="installations",wn=D=>{const T=D.getProvider("app").getImmediate(),k=function bn(D){if(!D||!D.options)throw Vs("App Configuration");if(!D.name)throw Vs("App Name");const T=["projectId","apiKey","appId"];for(const k of T)if(!D.options[k])throw Vs(k);return{appName:D.name,projectId:D.options.projectId,apiKey:D.options.apiKey,appId:D.options.appId}}(T);return{app:T,appConfig:k,heartbeatServiceProvider:(0,le._getProvider)(T,"heartbeat"),_delete:()=>Promise.resolve()}},lo=D=>{const T=D.getProvider("app").getImmediate(),k=(0,le._getProvider)(T,ao).getImmediate();return{getId:()=>function Ot(D){return vn.apply(this,arguments)}(k),getToken:J=>function $n(D){return $r.apply(this,arguments)}(k,J)}};(function Yc(){(0,le._registerComponent)(new fe.wA(ao,wn,"PUBLIC")),(0,le._registerComponent)(new fe.wA("installations-internal",lo,"PRIVATE"))})(),(0,le.registerVersion)(ge,$),(0,le.registerVersion)(ge,$,"esm2017");const Gr="@firebase/remote-config",qn=new oe.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Td{constructor(T,k,V,J){this.client=T,this.storage=k,this.storageCache=V,this.logger=J}isCachedDataFresh(T,k){if(!k)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const V=Date.now()-k,J=V<=T;return this.logger.debug(`Config fetch cache check. Cache age millis: ${V}. Cache max age millis (minimumFetchIntervalMillis setting): ${T}. Is cache hit: ${J}.`),J}fetch(T){var k=this;return(0,N.Z)(function*(){const[V,J]=yield Promise.all([k.storage.getLastSuccessfulFetchTimestampMillis(),k.storage.getLastSuccessfulFetchResponse()]);if(J&&k.isCachedDataFresh(T.cacheMaxAgeMillis,V))return J;T.eTag=J&&J.eTag;const ue=yield k.client.fetch(T),Se=[k.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===ue.status&&Se.push(k.storage.setLastSuccessfulFetchResponse(ue)),yield Promise.all(Se),ue})()}}function tu(D=navigator){return D.languages&&D.languages[0]||D.language}class nu{constructor(T,k,V,J,ue,Se){this.firebaseInstallations=T,this.sdkVersion=k,this.namespace=V,this.projectId=J,this.apiKey=ue,this.appId=Se}fetch(T){var k=this;return(0,N.Z)(function*(){var V,J,ue;const[Se,He]=yield Promise.all([k.firebaseInstallations.getId(),k.firebaseInstallations.getToken()]),bt=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${k.projectId}/namespaces/${k.namespace}:fetch?key=${k.apiKey}`,At={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":T.eTag||"*"},pt={sdk_version:k.sdkVersion,app_instance_id:Se,app_instance_id_token:He,app_id:k.appId,language_code:tu()},Cn={method:"POST",headers:At,body:JSON.stringify(pt)},_i=fetch(bt,Cn),Ys=new Promise((ar,Xs)=>{T.signal.addEventListener(()=>{const Of=new Error("The operation was aborted.");Of.name="AbortError",Xs(Of)})});let Es;try{yield Promise.race([_i,Ys]),Es=yield _i}catch(ar){let Xs="fetch-client-network";throw"AbortError"===(null===(V=ar)||void 0===V?void 0:V.name)&&(Xs="fetch-timeout"),qn.create(Xs,{originalErrorMessage:null===(J=ar)||void 0===J?void 0:J.message})}let Qs=Es.status;const So=Es.headers.get("ETag")||void 0;let Is,Pn;if(200===Es.status){let ar;try{ar=yield Es.json()}catch(Xs){throw qn.create("fetch-client-parse",{originalErrorMessage:null===(ue=Xs)||void 0===ue?void 0:ue.message})}Is=ar.entries,Pn=ar.state}if("INSTANCE_STATE_UNSPECIFIED"===Pn?Qs=500:"NO_CHANGE"===Pn?Qs=304:("NO_TEMPLATE"===Pn||"EMPTY_CONFIG"===Pn)&&(Is={}),304!==Qs&&200!==Qs)throw qn.create("fetch-status",{httpStatus:Qs});return{status:Qs,eTag:So,config:Is}})()}}class Hm{constructor(T,k){this.client=T,this.storage=k}fetch(T){var k=this;return(0,N.Z)(function*(){const V=(yield k.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return k.attemptFetch(T,V)})()}attemptFetch(T,{throttleEndTimeMillis:k,backoffCount:V}){var J=this;return(0,N.Z)(function*(){yield function ni(D,T){return new Promise((k,V)=>{const J=Math.max(T-Date.now(),0),ue=setTimeout(k,J);D.addEventListener(()=>{clearTimeout(ue),V(qn.create("fetch-throttle",{throttleEndTimeMillis:T}))})})}(T.signal,k);try{const ue=yield J.client.fetch(T);return yield J.storage.deleteThrottleMetadata(),ue}catch(ue){if(!function Sd(D){if(!(D instanceof oe.ZR&&D.customData))return!1;const T=Number(D.customData.httpStatus);return 429===T||500===T||503===T||504===T}(ue))throw ue;const Se={throttleEndTimeMillis:Date.now()+(0,oe.$s)(V),backoffCount:V+1};return yield J.storage.setThrottleMetadata(Se),J.attemptFetch(T,Se)}})()}}class xd{constructor(T,k,V,J,ue){this.app=T,this._client=k,this._storageCache=V,this._storage=J,this._logger=ue,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function iu(D,T){var k;const V=D.target.error||void 0;return qn.create(T,{originalErrorMessage:V&&(null===(k=V)||void 0===k?void 0:k.message)})}const js="app_namespace_store";class zm{constructor(T,k,V,J=function Gm(){return new Promise((D,T)=>{var k;try{const V=indexedDB.open("firebase_remote_config",1);V.onerror=J=>{T(iu(J,"storage-open"))},V.onsuccess=J=>{D(J.target.result)},V.onupgradeneeded=J=>{0===J.oldVersion&&J.target.result.createObjectStore(js,{keyPath:"compositeKey"})}}catch(V){T(qn.create("storage-open",{originalErrorMessage:null===(k=V)||void 0===k?void 0:k.message}))}})}()){this.appId=T,this.appName=k,this.namespace=V,this.openDbPromise=J}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(T){return this.set("last_fetch_status",T)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(T){return this.set("last_successful_fetch_timestamp_millis",T)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(T){return this.set("last_successful_fetch_response",T)}getActiveConfig(){return this.get("active_config")}setActiveConfig(T){return this.set("active_config",T)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(T){return this.set("active_config_etag",T)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(T){return this.set("throttle_metadata",T)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(T){var k=this;return(0,N.Z)(function*(){const V=yield k.openDbPromise;return new Promise((J,ue)=>{var Se;const ut=V.transaction([js],"readonly").objectStore(js),bt=k.createCompositeKey(T);try{const At=ut.get(bt);At.onerror=pt=>{ue(iu(pt,"storage-get"))},At.onsuccess=pt=>{const Cn=pt.target.result;J(Cn?Cn.value:void 0)}}catch(At){ue(qn.create("storage-get",{originalErrorMessage:null===(Se=At)||void 0===Se?void 0:Se.message}))}})})()}set(T,k){var V=this;return(0,N.Z)(function*(){const J=yield V.openDbPromise;return new Promise((ue,Se)=>{var He;const bt=J.transaction([js],"readwrite").objectStore(js),At=V.createCompositeKey(T);try{const pt=bt.put({compositeKey:At,value:k});pt.onerror=Cn=>{Se(iu(Cn,"storage-set"))},pt.onsuccess=()=>{ue()}}catch(pt){Se(qn.create("storage-set",{originalErrorMessage:null===(He=pt)||void 0===He?void 0:He.message}))}})})()}delete(T){var k=this;return(0,N.Z)(function*(){const V=yield k.openDbPromise;return new Promise((J,ue)=>{var Se;const ut=V.transaction([js],"readwrite").objectStore(js),bt=k.createCompositeKey(T);try{const At=ut.delete(bt);At.onerror=pt=>{ue(iu(pt,"storage-delete"))},At.onsuccess=()=>{J()}}catch(At){ue(qn.create("storage-delete",{originalErrorMessage:null===(Se=At)||void 0===Se?void 0:Se.message}))}})})()}createCompositeKey(T){return[this.appId,this.appName,this.namespace,T].join()}}class Ad{constructor(T){this.storage=T}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var T=this;return(0,N.Z)(function*(){const k=T.storage.getLastFetchStatus(),V=T.storage.getLastSuccessfulFetchTimestampMillis(),J=T.storage.getActiveConfig(),ue=yield k;ue&&(T.lastFetchStatus=ue);const Se=yield V;Se&&(T.lastSuccessfulFetchTimestampMillis=Se);const He=yield J;He&&(T.activeConfig=He)})()}setLastFetchStatus(T){return this.lastFetchStatus=T,this.storage.setLastFetchStatus(T)}setLastSuccessfulFetchTimestampMillis(T){return this.lastSuccessfulFetchTimestampMillis=T,this.storage.setLastSuccessfulFetchTimestampMillis(T)}setActiveConfig(T){return this.activeConfig=T,this.storage.setActiveConfig(T)}}function Nl(){return Ef.apply(this,arguments)}function Ef(){return(Ef=(0,N.Z)(function*(){if(!(0,oe.hl)())return!1;try{return yield(0,oe.eu)()}catch{return!1}})).apply(this,arguments)}!function $s(){(0,le._registerComponent)(new fe.wA("remote-config",function D(T,{instanceIdentifier:k}){const V=T.getProvider("app").getImmediate(),J=T.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw qn.create("registration-window");if(!(0,oe.hl)())throw qn.create("indexed-db-unavailable");const{projectId:ue,apiKey:Se,appId:He}=V.options;if(!ue)throw qn.create("registration-project-id");if(!Se)throw qn.create("registration-api-key");if(!He)throw qn.create("registration-app-id");const ut=new zm(He,V.name,k=k||"firebase"),bt=new Ad(ut),At=new re.Yd(Gr);At.logLevel=re.in.ERROR;const pt=new nu(J,le.SDK_VERSION,k,ue,Se,He),Cn=new Hm(pt,ut),_i=new Td(Cn,ut,bt,At),Ys=new xd(V,_i,bt,ut,At);return function xn(D){const T=(0,oe.m9)(D);T._initializePromise||(T._initializePromise=T._storageCache.loadFromStorage().then(()=>{T._isInitializationComplete=!0}))}(Ys),Ys},"PUBLIC").setMultipleInstances(!0)),(0,le.registerVersion)(Gr,"0.3.11"),(0,le.registerVersion)(Gr,"0.3.11","esm2017")}();const zr="/firebase-messaging-sw.js",hs="/firebase-cloud-messaging-push-scope",fs="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",La="google.c.a.c_id",Fl="google.c.a.c_l",ru="google.c.a.ts",If="google.c.a.e";var ps=(()=>{return(D=ps||(ps={})).PUSH_RECEIVED="push-received",D.NOTIFICATION_CLICKED="notification-clicked",ps;var D})();function yr(D){const T=new Uint8Array(D);return btoa(String.fromCharCode(...T)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function nr(D){const k=(D+"=".repeat((4-D.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),V=atob(k),J=new Uint8Array(V.length);for(let ue=0;ue<V.length;++ue)J[ue]=V.charCodeAt(ue);return J}const Zo="fcm_token_details_db",Ci="fcm_token_object_Store";function Df(D){return Tf.apply(this,arguments)}function Tf(){return Tf=(0,N.Z)(function*(D){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(ue=>ue.name).includes(Zo))return null;let T=null;return(yield(0,pe.X3)(Zo,5,{upgrade:(V=(0,N.Z)(function*(J,ue,Se,He){var ut;if(ue<2||!J.objectStoreNames.contains(Ci))return;const bt=He.objectStore(Ci),At=yield bt.index("fcmSenderId").get(D);if(yield bt.clear(),At)if(2===ue){const pt=At;if(!pt.auth||!pt.p256dh||!pt.endpoint)return;T={token:pt.fcmToken,createTime:null!==(ut=pt.createTime)&&void 0!==ut?ut:Date.now(),subscriptionOptions:{auth:pt.auth,p256dh:pt.p256dh,endpoint:pt.endpoint,swScope:pt.swScope,vapidKey:"string"==typeof pt.vapidKey?pt.vapidKey:yr(pt.vapidKey)}}}else if(3===ue){const pt=At;T={token:pt.fcmToken,createTime:pt.createTime,subscriptionOptions:{auth:yr(pt.auth),p256dh:yr(pt.p256dh),endpoint:pt.endpoint,swScope:pt.swScope,vapidKey:yr(pt.vapidKey)}}}else if(4===ue){const pt=At;T={token:pt.fcmToken,createTime:pt.createTime,subscriptionOptions:{auth:yr(pt.auth),p256dh:yr(pt.p256dh),endpoint:pt.endpoint,swScope:pt.swScope,vapidKey:yr(pt.vapidKey)}}}}),function(ue,Se,He,ut){return V.apply(this,arguments)})})).close(),yield(0,pe.Lj)(Zo),yield(0,pe.Lj)("fcm_vapid_details_db"),yield(0,pe.Lj)("undefined"),Mn(T)?T:null;var V}),Tf.apply(this,arguments)}function Mn(D){if(!D||!D.subscriptionOptions)return!1;const{subscriptionOptions:T}=D;return"number"==typeof D.createTime&&D.createTime>0&&"string"==typeof D.token&&D.token.length>0&&"string"==typeof T.auth&&T.auth.length>0&&"string"==typeof T.p256dh&&T.p256dh.length>0&&"string"==typeof T.endpoint&&T.endpoint.length>0&&"string"==typeof T.swScope&&T.swScope.length>0&&"string"==typeof T.vapidKey&&T.vapidKey.length>0}const vr="firebase-messaging-store";let Vi=null;function Vl(){return Vi||(Vi=(0,pe.X3)("firebase-messaging-database",1,{upgrade:(D,T)=>{0===T&&D.createObjectStore(vr)}})),Vi}function Ko(D){return ms.apply(this,arguments)}function ms(){return(ms=(0,N.Z)(function*(D){const T=Or(D),V=yield(yield Vl()).transaction(vr).objectStore(vr).get(T);if(V)return V;{const J=yield Df(D.appConfig.senderId);if(J)return yield Wt(D,J),J}})).apply(this,arguments)}function Wt(D,T){return Va.apply(this,arguments)}function Va(){return(Va=(0,N.Z)(function*(D,T){const k=Or(D),J=(yield Vl()).transaction(vr,"readwrite");return yield J.objectStore(vr).put(T,k),yield J.done,T})).apply(this,arguments)}function fo(D){return Bl.apply(this,arguments)}function Bl(){return(Bl=(0,N.Z)(function*(D){const T=Or(D),V=(yield Vl()).transaction(vr,"readwrite");yield V.objectStore(vr).delete(T),yield V.done})).apply(this,arguments)}function Or({appConfig:D}){return D.appId}const Tn=new oe.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Dt(D,T){return Hl.apply(this,arguments)}function Hl(){return(Hl=(0,N.Z)(function*(D,T){var k;const V=yield au(D),J=xe(T),ue={method:"POST",headers:V,body:JSON.stringify(J)};let Se;try{Se=yield(yield fetch(gs(D.appConfig),ue)).json()}catch(He){throw Tn.create("token-subscribe-failed",{errorInfo:null===(k=He)||void 0===k?void 0:k.toString()})}if(Se.error)throw Tn.create("token-subscribe-failed",{errorInfo:Se.error.message});if(!Se.token)throw Tn.create("token-subscribe-no-token");return Se.token})).apply(this,arguments)}function xf(D,T){return jl.apply(this,arguments)}function jl(){return(jl=(0,N.Z)(function*(D,T){var k;const V=yield au(D),J=xe(T.subscriptionOptions),ue={method:"PATCH",headers:V,body:JSON.stringify(J)};let Se;try{Se=yield(yield fetch(`${gs(D.appConfig)}/${T.token}`,ue)).json()}catch(He){throw Tn.create("token-update-failed",{errorInfo:null===(k=He)||void 0===k?void 0:k.toString()})}if(Se.error)throw Tn.create("token-update-failed",{errorInfo:Se.error.message});if(!Se.token)throw Tn.create("token-update-no-token");return Se.token})).apply(this,arguments)}function $l(D,T){return ou.apply(this,arguments)}function ou(){return(ou=(0,N.Z)(function*(D,T){var k;const J={method:"DELETE",headers:yield au(D)};try{const Se=yield(yield fetch(`${gs(D.appConfig)}/${T}`,J)).json();if(Se.error)throw Tn.create("token-unsubscribe-failed",{errorInfo:Se.error.message})}catch(ue){throw Tn.create("token-unsubscribe-failed",{errorInfo:null===(k=ue)||void 0===k?void 0:k.toString()})}})).apply(this,arguments)}function gs({projectId:D}){return`https://fcmregistrations.googleapis.com/v1/projects/${D}/registrations`}function au(D){return Ba.apply(this,arguments)}function Ba(){return(Ba=(0,N.Z)(function*({appConfig:D,installations:T}){const k=yield T.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":D.apiKey,"x-goog-firebase-installations-auth":`FIS ${k}`})})).apply(this,arguments)}function xe({p256dh:D,auth:T,endpoint:k,vapidKey:V}){const J={web:{endpoint:k,auth:T,p256dh:D}};return V!==fs&&(J.web.applicationPubKey=V),J}const jt=6048e5;function Gl(D){return zl.apply(this,arguments)}function zl(){return(zl=(0,N.Z)(function*(D){const T=yield lu(D.swRegistration,D.vapidKey),k={vapidKey:D.vapidKey,swScope:D.swRegistration.scope,endpoint:T.endpoint,auth:yr(T.getKey("auth")),p256dh:yr(T.getKey("p256dh"))},V=yield Ko(D.firebaseDependencies);if(V){if(Od(V.subscriptionOptions,k))return Date.now()>=V.createTime+jt?Yo(D,{token:V.token,createTime:Date.now(),subscriptionOptions:k}):V.token;try{yield $l(D.firebaseDependencies,V.token)}catch(J){console.warn(J)}return Ua(D.firebaseDependencies,k)}return Ua(D.firebaseDependencies,k)})).apply(this,arguments)}function An(D){return ql.apply(this,arguments)}function ql(){return(ql=(0,N.Z)(function*(D){const T=yield Ko(D.firebaseDependencies);T&&(yield $l(D.firebaseDependencies,T.token),yield fo(D.firebaseDependencies));const k=yield D.swRegistration.pushManager.getSubscription();return!k||k.unsubscribe()})).apply(this,arguments)}function Yo(D,T){return br.apply(this,arguments)}function br(){return(br=(0,N.Z)(function*(D,T){try{const k=yield xf(D.firebaseDependencies,T),V=Object.assign(Object.assign({},T),{token:k,createTime:Date.now()});return yield Wt(D.firebaseDependencies,V),k}catch(k){throw yield An(D),k}})).apply(this,arguments)}function Ua(D,T){return Ha.apply(this,arguments)}function Ha(){return(Ha=(0,N.Z)(function*(D,T){const V={token:yield Dt(D,T),createTime:Date.now(),subscriptionOptions:T};return yield Wt(D,V),V.token})).apply(this,arguments)}function lu(D,T){return cu.apply(this,arguments)}function cu(){return(cu=(0,N.Z)(function*(D,T){return(yield D.pushManager.getSubscription())||D.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:nr(T)})})).apply(this,arguments)}function Od(D,T){return T.vapidKey===D.vapidKey&&T.endpoint===D.endpoint&&T.auth===D.auth&&T.p256dh===D.p256dh}function po(D){const T={from:D.from,collapseKey:D.collapse_key,messageId:D.fcmMessageId};return function kn(D,T){if(!T.notification)return;D.notification={};const k=T.notification.title;k&&(D.notification.title=k);const V=T.notification.body;V&&(D.notification.body=V);const J=T.notification.image;J&&(D.notification.image=J)}(T,D),function qr(D,T){!T.data||(D.data=T.data)}(T,D),function uu(D,T){var k,V,J,ue,Se;if(!(T.fcmOptions||null!==(k=T.notification)&&void 0!==k&&k.click_action))return;D.fcmOptions={};const He=null!==(J=null===(V=T.fcmOptions)||void 0===V?void 0:V.link)&&void 0!==J?J:null===(ue=T.notification)||void 0===ue?void 0:ue.click_action;He&&(D.fcmOptions.link=He);const ut=null===(Se=T.fcmOptions)||void 0===Se?void 0:Se.analytics_label;ut&&(D.fcmOptions.analyticsLabel=ut)}(T,D),T}function mo(D){return"object"==typeof D&&!!D&&La in D}function _s(D,T){const k=[];for(let V=0;V<D.length;V++)k.push(D.charAt(V)),V<T.length&&k.push(T.charAt(V));return k.join("")}function ja(D){return Tn.create("missing-app-config-values",{valueName:D})}_s("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),_s("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Wm{constructor(T,k,V){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const J=function qm(D){if(!D||!D.options)throw ja("App Configuration Object");if(!D.name)throw ja("App Name");const T=["projectId","apiKey","appId","messagingSenderId"],{options:k}=D;for(const V of T)if(!k[V])throw ja(V);return{appName:D.name,projectId:k.projectId,apiKey:k.apiKey,appId:k.appId,senderId:k.messagingSenderId}}(T);this.firebaseDependencies={app:T,appConfig:J,installations:k,analyticsProvider:V}}_delete(){return Promise.resolve()}}function du(D){return Wl.apply(this,arguments)}function Wl(){return(Wl=(0,N.Z)(function*(D){var T;try{D.swRegistration=yield navigator.serviceWorker.register(zr,{scope:hs}),D.swRegistration.update().catch(()=>{})}catch(k){throw Tn.create("failed-service-worker-registration",{browserErrorMessage:null===(T=k)||void 0===T?void 0:T.message})}})).apply(this,arguments)}function $a(D,T){return hu.apply(this,arguments)}function hu(){return(hu=(0,N.Z)(function*(D,T){if(!T&&!D.swRegistration&&(yield du(D)),T||!D.swRegistration){if(!(T instanceof ServiceWorkerRegistration))throw Tn.create("invalid-sw-registration");D.swRegistration=T}})).apply(this,arguments)}function Ga(D,T){return fu.apply(this,arguments)}function fu(){return(fu=(0,N.Z)(function*(D,T){T?D.vapidKey=T:D.vapidKey||(D.vapidKey=fs)})).apply(this,arguments)}function Kl(){return(Kl=(0,N.Z)(function*(D,T){if(!navigator)throw Tn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Tn.create("permission-blocked");return yield Ga(D,T?.vapidKey),yield $a(D,T?.serviceWorkerRegistration),Gl(D)})).apply(this,arguments)}function pu(D,T,k){return mu.apply(this,arguments)}function mu(){return(mu=(0,N.Z)(function*(D,T,k){const V=gu(T);(yield D.firebaseDependencies.analyticsProvider.get()).logEvent(V,{message_id:k[La],message_name:k[Fl],message_time:k[ru],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function gu(D){switch(D){case ps.NOTIFICATION_CLICKED:return"notification_open";case ps.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function go(){return(go=(0,N.Z)(function*(D,T){const k=T.data;if(!k.isFirebaseMessaging)return;D.onMessageHandler&&k.messageType===ps.PUSH_RECEIVED&&("function"==typeof D.onMessageHandler?D.onMessageHandler(po(k)):D.onMessageHandler.next(po(k)));const V=k.data;mo(V)&&"1"===V[If]&&(yield pu(D,k.messageType,V))})).apply(this,arguments)}const _o="@firebase/messaging",ii=D=>{const T=new Wm(D.getProvider("app").getImmediate(),D.getProvider("installations-internal").getImmediate(),D.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",k=>function Pd(D,T){return go.apply(this,arguments)}(T,k)),T},ir=D=>{const T=D.getProvider("messaging").getImmediate();return{getToken:V=>function Zl(D,T){return Kl.apply(this,arguments)}(T,V)}};function Nd(){return _u.apply(this,arguments)}function _u(){return(_u=(0,N.Z)(function*(){try{yield(0,oe.eu)()}catch{return!1}return typeof window<"u"&&(0,oe.hl)()&&(0,oe.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function yn(){(0,le._registerComponent)(new fe.wA("messaging",ii,"PUBLIC")),(0,le._registerComponent)(new fe.wA("messaging-internal",ir,"PRIVATE")),(0,le.registerVersion)(_o,"0.9.16"),(0,le.registerVersion)(_o,"0.9.16","esm2017")}();const Jo="analytics",Vd="firebase_id",yo="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Xl="https://www.googletagmanager.com/gtag/js",Rn=new re.Yd("@firebase/analytics");function Jl(D){return Promise.all(D.map(T=>T.catch(k=>k)))}function ec(D,T){const k=document.createElement("script");k.src=`${Xl}?l=${D}&id=${T}`,k.async=!0,document.head.appendChild(k)}function Af(D,T,k,V,J,ue){return vo.apply(this,arguments)}function vo(){return(vo=(0,N.Z)(function*(D,T,k,V,J,ue){const Se=V[J];try{if(Se)yield T[Se];else{const ut=(yield Jl(k)).find(bt=>bt.measurementId===J);ut&&(yield T[ut.appId])}}catch(He){Rn.error(He)}D("config",J,ue)})).apply(this,arguments)}function ea(D,T,k,V,J){return bo.apply(this,arguments)}function bo(){return(bo=(0,N.Z)(function*(D,T,k,V,J){try{let ue=[];if(J&&J.send_to){let Se=J.send_to;Array.isArray(Se)||(Se=[Se]);const He=yield Jl(k);for(const ut of Se){const bt=He.find(pt=>pt.measurementId===ut),At=bt&&T[bt.appId];if(!At){ue=[];break}ue.push(At)}}0===ue.length&&(ue=Object.values(T)),yield Promise.all(ue),D("event",V,J||{})}catch(ue){Rn.error(ue)}})).apply(this,arguments)}function Ud(){const D=window.document.getElementsByTagName("script");for(const T of Object.values(D))if(T.src&&T.src.includes(Xl))return T;return null}const mi=new oe.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Za=new class Wr{constructor(T={},k=1e3){this.throttleMetadata=T,this.intervalMillis=k}getThrottleMetadata(T){return this.throttleMetadata[T]}setThrottleMetadata(T,k){this.throttleMetadata[T]=k}deleteThrottleMetadata(T){delete this.throttleMetadata[T]}};function jd(D){return new Headers({Accept:"application/json","x-goog-api-key":D})}function Ka(D){return bu.apply(this,arguments)}function bu(){return(bu=(0,N.Z)(function*(D){var T;const{appId:k,apiKey:V}=D,J={method:"GET",headers:jd(V)},ue=yo.replace("{app-id}",k),Se=yield fetch(ue,J);if(200!==Se.status&&304!==Se.status){let He="";try{const ut=yield Se.json();null!==(T=ut.error)&&void 0!==T&&T.message&&(He=ut.error.message)}catch{}throw mi.create("config-fetch-failed",{httpStatus:Se.status,responseMessage:He})}return Se.json()})).apply(this,arguments)}function Vn(D){return Pr.apply(this,arguments)}function Pr(){return(Pr=(0,N.Z)(function*(D,T=Za,k){const{appId:V,apiKey:J,measurementId:ue}=D.options;if(!V)throw mi.create("no-app-id");if(!J){if(ue)return{measurementId:ue,appId:V};throw mi.create("no-api-key")}const Se=T.getThrottleMetadata(V)||{backoffCount:0,throttleEndTimeMillis:Date.now()},He=new rc;return setTimeout((0,N.Z)(function*(){He.abort()}),void 0!==k?k:6e4),nc({appId:V,apiKey:J,measurementId:ue},Se,He,T)})).apply(this,arguments)}function nc(D,T,k){return wo.apply(this,arguments)}function wo(){return(wo=(0,N.Z)(function*(D,{throttleEndTimeMillis:T,backoffCount:k},V,J=Za){var ue,Se;const{appId:He,measurementId:ut}=D;try{yield Ya(V,T)}catch(bt){if(ut)return Rn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${ut} provided in the "measurementId" field in the local Firebase config. [${null===(ue=bt)||void 0===ue?void 0:ue.message}]`),{appId:He,measurementId:ut};throw bt}try{const bt=yield Ka(D);return J.deleteThrottleMetadata(He),bt}catch(bt){const At=bt;if(!ic(At)){if(J.deleteThrottleMetadata(He),ut)return Rn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${ut} provided in the "measurementId" field in the local Firebase config. [${At?.message}]`),{appId:He,measurementId:ut};throw bt}const pt=503===Number(null===(Se=At?.customData)||void 0===Se?void 0:Se.httpStatus)?(0,oe.$s)(k,J.intervalMillis,30):(0,oe.$s)(k,J.intervalMillis),Cn={throttleEndTimeMillis:Date.now()+pt,backoffCount:k+1};return J.setThrottleMetadata(He,Cn),Rn.debug(`Calling attemptFetch again in ${pt} millis`),nc(D,Cn,V,J)}})).apply(this,arguments)}function Ya(D,T){return new Promise((k,V)=>{const J=Math.max(T-Date.now(),0),ue=setTimeout(k,J);D.addEventListener(()=>{clearTimeout(ue),V(mi.create("fetch-throttle",{throttleEndTimeMillis:T}))})})}function ic(D){if(!(D instanceof oe.ZR&&D.customData))return!1;const T=Number(D.customData.httpStatus);return 429===T||500===T||503===T||504===T}class rc{constructor(){this.listeners=[]}addEventListener(T){this.listeners.push(T)}abort(){this.listeners.forEach(T=>T())}}let qs,Xa;function Ws(){return(Ws=(0,N.Z)(function*(D,T,k,V,J){if(J&&J.global)D("event",k,V);else{const ue=yield T;D("event",k,Object.assign(Object.assign({},V),{send_to:ue}))}})).apply(this,arguments)}function Eo(D){Xa=D}function Cu(D){qs=D}function vs(){return ac.apply(this,arguments)}function ac(){return(ac=(0,N.Z)(function*(){var D;if(!(0,oe.hl)())return Rn.warn(mi.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,oe.eu)()}catch(T){return Rn.warn(mi.create("indexeddb-unavailable",{errorInfo:null===(D=T)||void 0===D?void 0:D.toString()}).message),!1}return!0})).apply(this,arguments)}function ia(){return(ia=(0,N.Z)(function*(D,T,k,V,J,ue,Se){var He;const ut=Vn(D);ut.then(_i=>{k[_i.measurementId]=_i.appId,D.options.measurementId&&_i.measurementId!==D.options.measurementId&&Rn.warn(`The measurement ID in the local Firebase config (${D.options.measurementId}) does not match the measurement ID fetched from the server (${_i.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(_i=>Rn.error(_i)),T.push(ut);const bt=vs().then(_i=>{if(_i)return V.getId()}),[At,pt]=yield Promise.all([ut,bt]);Ud()||ec(ue,At.measurementId),Xa&&(J("consent","default",Xa),Eo(void 0)),J("js",new Date);const Cn=null!==(He=Se?.config)&&void 0!==He?He:{};return Cn.origin="firebase",Cn.update=!0,null!=pt&&(Cn[Vd]=pt),J("config",At.measurementId,Cn),qs&&(J("set",qs),Cu(void 0)),At.measurementId})).apply(this,arguments)}class lc{constructor(T){this.app=T}_delete(){return delete rr[this.app.options.appId],Promise.resolve()}}let rr={},Zs=[];const ra={};let oa,Io,sa="dataLayer",Ja=!1;function yy(D,T,k){!function Zm(){const D=[];if((0,oe.ru)()&&D.push("This is a browser extension environment."),(0,oe.zI)()||D.push("Cookies are not available."),D.length>0){const T=D.map((V,J)=>`(${J+1}) ${V}`).join(" "),k=mi.create("invalid-analytics-context",{errorInfo:T});Rn.warn(k.message)}}();const V=D.options.appId;if(!V)throw mi.create("no-app-id");if(!D.options.apiKey){if(!D.options.measurementId)throw mi.create("no-api-key");Rn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${D.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=rr[V])throw mi.create("already-exists",{id:V});if(!Ja){!function Bd(D){let T=[];Array.isArray(window[D])?T=window[D]:window[D]=T}(sa);const{wrappedGtag:ue,gtagCore:Se}=function za(D,T,k,V,J){let ue=function(...Se){window[V].push(arguments)};return window[J]&&"function"==typeof window[J]&&(ue=window[J]),window[J]=function tc(D,T,k,V){function ue(){return(ue=(0,N.Z)(function*(Se,He,ut){try{"event"===Se?yield ea(D,T,k,He,ut):"config"===Se?yield Af(D,T,k,V,He,ut):"consent"===Se?D("consent","update",ut):D("set",He)}catch(bt){Rn.error(bt)}})).apply(this,arguments)}return function J(Se,He,ut){return ue.apply(this,arguments)}}(ue,D,T,k),{gtagCore:ue,wrappedGtag:window[J]}}(rr,Zs,ra,sa,"gtag");Io=ue,oa=Se,Ja=!0}return rr[V]=function na(D,T,k,V,J,ue,Se){return ia.apply(this,arguments)}(D,Zs,ra,T,oa,sa,k),new lc(D)}function by(){return kf.apply(this,arguments)}function kf(){return(kf=(0,N.Z)(function*(){if((0,oe.ru)()||!(0,oe.zI)()||!(0,oe.hl)())return!1;try{return yield(0,oe.eu)()}catch{return!1}})).apply(this,arguments)}const Rf="@firebase/analytics";!function sr(){(0,le._registerComponent)(new fe.wA(Jo,(T,{options:k})=>yy(T.getProvider("app").getImmediate(),T.getProvider("installations-internal").getImmediate(),k),"PUBLIC")),(0,le._registerComponent)(new fe.wA("analytics-internal",function D(T){try{const k=T.getProvider(Jo).getImmediate();return{logEvent:(V,J,ue)=>function un(D,T,k,V){D=(0,oe.m9)(D),function $d(D,T,k,V,J){return Ws.apply(this,arguments)}(Io,rr[D.app.options.appId],T,k,V).catch(J=>Rn.error(J))}(k,V,J,ue)}}catch(k){throw mi.create("interop-component-reg-failed",{reason:k})}},"PRIVATE")),(0,le.registerVersion)(Rf,"0.8.0"),(0,le.registerVersion)(Rf,"0.8.0","esm2017")}();var Nr=P(4408),aa=P(7565);const bs=new class Bi extends aa.v{}(class Eu extends Nr.o{constructor(T,k){super(T,k),this.scheduler=T,this.work=k}schedule(T,k=0){return k>0?super.schedule(T,k):(this.delay=k,this.state=T,this.scheduler.flush(this),this)}execute(T,k){return k>0||this.closed?super.execute(T,k):this._execute(T,k)}requestAsyncId(T,k,V=0){return null!=V&&V>0||null==V&&this.delay>0?super.requestAsyncId(T,k,V):T.flush(this)}});var it=P(4986),dc=P(8505),la=P(9468),ca=P(5363);const Ui=new u.GfV("7.4.1"),ua="__angularfire_symbol__analyticsIsSupportedValue",ws="__angularfire_symbol__analyticsIsSupported",Zr="__angularfire_symbol__remoteConfigIsSupportedValue",Hi="__angularfire_symbol__remoteConfigIsSupported",Iu="__angularfire_symbol__messagingIsSupportedValue",hc="__angularfire_symbol__messagingIsSupported";function tl(D,T,k){if(T){if(1===T.length)return T[0];const ue=T.filter(Se=>Se.app===k);if(1===ue.length)return ue[0]}return k.container.getProvider(D).getImmediate({optional:!0})}globalThis[ws]||(globalThis[ws]=by().then(D=>globalThis[ua]=D).catch(()=>globalThis[ua]=!1)),globalThis[hc]||(globalThis[hc]=Nd().then(D=>globalThis[Iu]=D).catch(()=>globalThis[Iu]=!1)),globalThis[Hi]||(globalThis[Hi]=Nl().then(D=>globalThis[Zr]=D).catch(()=>globalThis[Zr]=!1));const or=(D,T)=>{const k=T?[T]:(0,te.C6)(),V=[];return k.forEach(J=>{J.container.getProvider(D).instances.forEach(Se=>{V.includes(Se)||V.push(Se)})}),V};function da(){}class mn{constructor(T,k=bs){this.zone=T,this.delegate=k}now(){return this.delegate.now()}schedule(T,k,V){const J=this.zone;return this.delegate.schedule(function(Se){J.runGuarded(()=>{T.apply(this,[Se])})},k,V)}}class Kr{constructor(T){this.zone=T,this.task=null}call(T,k){const V=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",da,{},da,da)),k.pipe((0,dc.b)({next:V,complete:V,error:V})).subscribe(T).add(V)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let fc=(()=>{class D{constructor(k){this.ngZone=k,this.outsideAngular=k.runOutsideAngular(()=>new mn(Zone.current)),this.insideAngular=k.run(()=>new mn(Zone.current,it.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return D.\u0275fac=function(k){return new(k||D)(u.LFG(u.R0b))},D.\u0275prov=u.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})();function Ks(){const D=globalThis.\u0275AngularFireScheduler;if(!D)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return D}function Cs(D){return Ks(),function Tu(D){return function(k){return(k=k.lift(new Kr(D.ngZone))).pipe((0,la.R)(D.outsideAngular),(0,ca.Q)(D.insideAngular))}}(Ks())(D)}},2090:(at,De,P)=>{P.d(De,{$s:()=>us,BH:()=>Ve,G6:()=>je,L:()=>pe,LL:()=>Fe,Mn:()=>Ie,Sg:()=>Ae,UG:()=>ye,US:()=>fe,ZB:()=>z,ZR:()=>se,b$:()=>st,d:()=>Me,eu:()=>_e,hl:()=>j,jU:()=>me,m9:()=>Kt,ne:()=>Wo,pd:()=>er,r3:()=>Pi,ru:()=>Qe,tV:()=>ge,uI:()=>tt,vZ:()=>Xi,w1:()=>we,xO:()=>Ls,xb:()=>on,z$:()=>Ce,zI:()=>Q,zd:()=>jr});const le=function(Y){const G=[];let U=0;for(let W=0;W<Y.length;W++){let Z=Y.charCodeAt(W);Z<128?G[U++]=Z:Z<2048?(G[U++]=Z>>6|192,G[U++]=63&Z|128):55296==(64512&Z)&&W+1<Y.length&&56320==(64512&Y.charCodeAt(W+1))?(Z=65536+((1023&Z)<<10)+(1023&Y.charCodeAt(++W)),G[U++]=Z>>18|240,G[U++]=Z>>12&63|128,G[U++]=Z>>6&63|128,G[U++]=63&Z|128):(G[U++]=Z>>12|224,G[U++]=Z>>6&63|128,G[U++]=63&Z|128)}return G},fe={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Y,G){if(!Array.isArray(Y))throw Error("encodeByteArray takes an array as a parameter");this.init_();const U=G?this.byteToCharMapWebSafe_:this.byteToCharMap_,W=[];for(let Z=0;Z<Y.length;Z+=3){const Te=Y[Z],Be=Z+1<Y.length,lt=Be?Y[Z+1]:0,fn=Z+2<Y.length,Jt=fn?Y[Z+2]:0;let Ot=(15&lt)<<2|Jt>>6,vn=63&Jt;fn||(vn=64,Be||(Ot=64)),W.push(U[Te>>2],U[(3&Te)<<4|lt>>4],U[Ot],U[vn])}return W.join("")},encodeString(Y,G){return this.HAS_NATIVE_SUPPORT&&!G?btoa(Y):this.encodeByteArray(le(Y),G)},decodeString(Y,G){return this.HAS_NATIVE_SUPPORT&&!G?atob(Y):function(Y){const G=[];let U=0,W=0;for(;U<Y.length;){const Z=Y[U++];if(Z<128)G[W++]=String.fromCharCode(Z);else if(Z>191&&Z<224){const Te=Y[U++];G[W++]=String.fromCharCode((31&Z)<<6|63&Te)}else if(Z>239&&Z<365){const fn=((7&Z)<<18|(63&Y[U++])<<12|(63&Y[U++])<<6|63&Y[U++])-65536;G[W++]=String.fromCharCode(55296+(fn>>10)),G[W++]=String.fromCharCode(56320+(1023&fn))}else{const Te=Y[U++],Be=Y[U++];G[W++]=String.fromCharCode((15&Z)<<12|(63&Te)<<6|63&Be)}}return G.join("")}(this.decodeStringToByteArray(Y,G))},decodeStringToByteArray(Y,G){this.init_();const U=G?this.charToByteMapWebSafe_:this.charToByteMap_,W=[];for(let Z=0;Z<Y.length;){const Te=U[Y.charAt(Z++)],lt=Z<Y.length?U[Y.charAt(Z)]:0;++Z;const Jt=Z<Y.length?U[Y.charAt(Z)]:64;++Z;const Ht=Z<Y.length?U[Y.charAt(Z)]:64;if(++Z,null==Te||null==lt||null==Jt||null==Ht)throw Error();W.push(Te<<2|lt>>4),64!==Jt&&(W.push(lt<<4&240|Jt>>2),64!==Ht&&W.push(Jt<<6&192|Ht))}return W},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Y=0;Y<this.ENCODED_VALS.length;Y++)this.byteToCharMap_[Y]=this.ENCODED_VALS.charAt(Y),this.charToByteMap_[this.byteToCharMap_[Y]]=Y,this.byteToCharMapWebSafe_[Y]=this.ENCODED_VALS_WEBSAFE.charAt(Y),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Y]]=Y,Y>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Y)]=Y,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Y)]=Y)}}},pe=function(Y){return function(Y){const G=le(Y);return fe.encodeByteArray(G,!0)}(Y).replace(/\./g,"")},ge=function(Y){try{return fe.decodeString(Y,!0)}catch(G){console.error("base64Decode failed: ",G)}return null};function z(Y,G){if(!(G instanceof Object))return G;switch(G.constructor){case Date:return new Date(G.getTime());case Object:void 0===Y&&(Y={});break;case Array:Y=[];break;default:return G}for(const U in G)!G.hasOwnProperty(U)||!X(U)||(Y[U]=z(Y[U],G[U]));return Y}function X(Y){return"__proto__"!==Y}class Ve{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((G,U)=>{this.resolve=G,this.reject=U})}wrapCallback(G){return(U,W)=>{U?this.reject(U):this.resolve(W),"function"==typeof G&&(this.promise.catch(()=>{}),1===G.length?G(U):G(U,W))}}}function Ae(Y,G){if(Y.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const W=G||"demo-project",Z=Y.iat||0,Te=Y.sub||Y.user_id;if(!Te)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Be=Object.assign({iss:`https://securetoken.google.com/${W}`,aud:W,iat:Z,exp:Z+3600,auth_time:Z,sub:Te,user_id:Te,firebase:{sign_in_provider:"custom",identities:{}}},Y);return[pe(JSON.stringify({alg:"none",type:"JWT"})),pe(JSON.stringify(Be)),""].join(".")}function Ce(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function tt(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ce())}function ye(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function me(){return"object"==typeof self&&self.self===self}function Qe(){const Y="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Y&&void 0!==Y.id}function st(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Me(){return Ce().indexOf("Electron/")>=0}function we(){const Y=Ce();return Y.indexOf("MSIE ")>=0||Y.indexOf("Trident/")>=0}function Ie(){return Ce().indexOf("MSAppHost/")>=0}function je(){return!ye()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function j(){return"object"==typeof indexedDB}function _e(){return new Promise((Y,G)=>{try{let U=!0;const W="validate-browser-context-for-indexeddb-analytics-module",Z=self.indexedDB.open(W);Z.onsuccess=()=>{Z.result.close(),U||self.indexedDB.deleteDatabase(W),Y(!0)},Z.onupgradeneeded=()=>{U=!1},Z.onerror=()=>{var Te;G((null===(Te=Z.error)||void 0===Te?void 0:Te.message)||"")}}catch(U){G(U)}})}function Q(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class se extends Error{constructor(G,U,W){super(U),this.code=G,this.customData=W,this.name="FirebaseError",Object.setPrototypeOf(this,se.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Fe.prototype.create)}}class Fe{constructor(G,U,W){this.service=G,this.serviceName=U,this.errors=W}create(G,...U){const W=U[0]||{},Z=`${this.service}/${G}`,Te=this.errors[G],Be=Te?function Oe(Y,G){return Y.replace(ft,(U,W)=>{const Z=G[W];return null!=Z?String(Z):`<${W}?>`})}(Te,W):"Error";return new se(Z,`${this.serviceName}: ${Be} (${Z}).`,W)}}const ft=/\{\$([^}]+)}/g;function Pi(Y,G){return Object.prototype.hasOwnProperty.call(Y,G)}function on(Y){for(const G in Y)if(Object.prototype.hasOwnProperty.call(Y,G))return!1;return!0}function Xi(Y,G){if(Y===G)return!0;const U=Object.keys(Y),W=Object.keys(G);for(const Z of U){if(!W.includes(Z))return!1;const Te=Y[Z],Be=G[Z];if(Mi(Te)&&Mi(Be)){if(!Xi(Te,Be))return!1}else if(Te!==Be)return!1}for(const Z of W)if(!U.includes(Z))return!1;return!0}function Mi(Y){return null!==Y&&"object"==typeof Y}function Ls(Y){const G=[];for(const[U,W]of Object.entries(Y))Array.isArray(W)?W.forEach(Z=>{G.push(encodeURIComponent(U)+"="+encodeURIComponent(Z))}):G.push(encodeURIComponent(U)+"="+encodeURIComponent(W));return G.length?"&"+G.join("&"):""}function jr(Y){const G={};return Y.replace(/^\?/,"").split("&").forEach(W=>{if(W){const[Z,Te]=W.split("=");G[decodeURIComponent(Z)]=decodeURIComponent(Te)}}),G}function er(Y){const G=Y.indexOf("?");if(!G)return"";const U=Y.indexOf("#",G);return Y.substring(G,U>0?U:void 0)}function Wo(Y,G){const U=new Ke(Y,G);return U.subscribe.bind(U)}class Ke{constructor(G,U){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=U,this.task.then(()=>{G(this)}).catch(W=>{this.error(W)})}next(G){this.forEachObserver(U=>{U.next(G)})}error(G){this.forEachObserver(U=>{U.error(G)}),this.close(G)}complete(){this.forEachObserver(G=>{G.complete()}),this.close()}subscribe(G,U,W){let Z;if(void 0===G&&void 0===U&&void 0===W)throw new Error("Missing Observer.");Z=function cs(Y,G){if("object"!=typeof Y||null===Y)return!1;for(const U of G)if(U in Y&&"function"==typeof Y[U])return!0;return!1}(G,["next","error","complete"])?G:{next:G,error:U,complete:W},void 0===Z.next&&(Z.next=Fn),void 0===Z.error&&(Z.error=Fn),void 0===Z.complete&&(Z.complete=Fn);const Te=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Z.error(this.finalError):Z.complete()}catch{}}),this.observers.push(Z),Te}unsubscribeOne(G){void 0===this.observers||void 0===this.observers[G]||(delete this.observers[G],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(G){if(!this.finalized)for(let U=0;U<this.observers.length;U++)this.sendOne(U,G)}sendOne(G,U){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[G])try{U(this.observers[G])}catch(W){typeof console<"u"&&console.error&&console.error(W)}})}close(G){this.finalized||(this.finalized=!0,void 0!==G&&(this.finalError=G),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Fn(){}function us(Y,G=1e3,U=2){const W=G*Math.pow(U,Y),Z=Math.round(.5*W*(Math.random()-.5)*2);return Math.min(144e5,W+Z)}function Kt(Y){return Y&&Y._delegate?Y._delegate:Y}},4953:(at,De,P)=>{var u=P(4650);let te=null;function N(){return te}const re=new u.OlP("DocumentToken");let pe=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return function ge(){return(0,u.LFG)(z)}()},providedIn:"platform"}),n})();const $=new u.OlP("Location Initialized");let z=(()=>{class n extends pe{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return N().getBaseHref(this._doc)}onPopState(t){const i=N().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",t,!1),()=>i.removeEventListener("popstate",t)}onHashChange(t){const i=N().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",t,!1),()=>i.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,i,r){X()?this._history.pushState(t,i,r):this.location.hash=r}replaceState(t,i,r){X()?this._history.replaceState(t,i,r):this.location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(re))},n.\u0275prov=u.Yz7({token:n,factory:function(){return function Ve(){return new z((0,u.LFG)(re))}()},providedIn:"platform"}),n})();function X(){return!!window.history.pushState}function Ae(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Ce(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function tt(n){return n&&"?"!==n[0]?"?"+n:n}let ye=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return(0,u.f3M)(Qe)},providedIn:"root"}),n})();const me=new u.OlP("appBaseHref");let Qe=(()=>{class n extends ye{constructor(t,i){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??(0,u.f3M)(re).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Ae(this._baseHref,t)}path(t=!1){const i=this._platformLocation.pathname+tt(this._platformLocation.search),r=this._platformLocation.hash;return r&&t?`${i}${r}`:i}pushState(t,i,r,a){const c=this.prepareExternalUrl(r+tt(a));this._platformLocation.pushState(t,i,c)}replaceState(t,i,r,a){const c=this.prepareExternalUrl(r+tt(a));this._platformLocation.replaceState(t,i,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(pe),u.LFG(me,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),st=(()=>{class n extends ye{constructor(t,i){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(t){const i=Ae(this._baseHref,t);return i.length>0?"#"+i:i}pushState(t,i,r,a){let c=this.prepareExternalUrl(r+tt(a));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.pushState(t,i,c)}replaceState(t,i,r,a){let c=this.prepareExternalUrl(r+tt(a));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.replaceState(t,i,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(pe),u.LFG(me,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),Me=(()=>{class n{constructor(t){this._subject=new u.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const i=this._locationStrategy.getBaseHref();this._baseHref=Ce(Ue(i)),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,i=""){return this.path()==this.normalize(t+tt(i))}normalize(t){return n.stripTrailingSlash(function Ie(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,Ue(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,i="",r=null){this._locationStrategy.pushState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+tt(i)),r)}replaceState(t,i="",r=null){this._locationStrategy.replaceState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+tt(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",i){this._urlChangeListeners.forEach(r=>r(t,i))}subscribe(t,i,r){return this._subject.subscribe({next:t,error:i,complete:r})}}return n.normalizeQueryParams=tt,n.joinWithSlash=Ae,n.stripTrailingSlash=Ce,n.\u0275fac=function(t){return new(t||n)(u.LFG(ye))},n.\u0275prov=u.Yz7({token:n,factory:function(){return function we(){return new Me((0,u.LFG)(ye))}()},providedIn:"root"}),n})();function Ue(n){return n.replace(/\/index.html$/,"")}class Na{constructor(e,t,i,r){this.$implicit=e,this.ngForOf=t,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let uo=(()=>{class n{constructor(t,i,r){this._viewContainer=t,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const i=this._viewContainer;t.forEachOperation((r,a,c)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new Na(r.item,this._ngForOf,-1,-1),null===c?void 0:c);else if(null==c)i.remove(null===a?void 0:a);else if(null!==a){const f=i.get(a);i.move(f,c),Hs(f,r)}});for(let r=0,a=i.length;r<a;r++){const f=i.get(r).context;f.index=r,f.count=a,f.ngForOf=this._ngForOf}t.forEachIdentityChange(r=>{Hs(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.s_b),u.Y36(u.Rgc),u.Y36(u.ZZ4))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function Hs(n,e){n.context.$implicit=e.item}let xn=(()=>{class n{constructor(t,i){this._viewContainer=t,this._context=new Jc,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){pi("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){pi("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.s_b),u.Y36(u.Rgc))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class Jc{constructor(){this.$implicit=null,this.ngIf=null}}function pi(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,u.AaK)(e)}'.`)}let Td=(()=>{class n{constructor(t,i,r){this._ngEl=t,this._differs=i,this._renderer=r,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,i){const[r,a]=t.split("."),c=-1===r.indexOf("-")?void 0:u.JOm.DashCase;null!=i?this._renderer.setStyle(this._ngEl.nativeElement,r,a?`${i}${a}`:i,c):this._renderer.removeStyle(this._ngEl.nativeElement,r,c)}_applyChanges(t){t.forEachRemovedItem(i=>this._setStyle(i.key,null)),t.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),t.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(u.aQg),u.Y36(u.Qsj))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),n})(),_r=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();const ps="browser";function Ci(n){return"server"===n}let Ll=(()=>{class n{}return n.\u0275prov=(0,u.Yz7)({token:n,providedIn:"root",factory:()=>new Sf((0,u.LFG)(re),window)}),n})();class Sf{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function Vi(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const a=r.shadowRoot;if(a){const c=a.getElementById(e)||a.querySelector(`[name="${e}"]`);if(c)return c}r=i.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),i=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,a=this.offset();this.window.scrollTo(i-a[0],r-a[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=vr(this.window.history)||vr(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function vr(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class go extends class Pd extends class fe{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function oe(n){te||(te=n)}(new go)}onAndCancel(e,t,i){return e.addEventListener(t,i,!1),()=>{e.removeEventListener(t,i,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function Yl(){return _o=_o||document.querySelector("base"),_o?_o.getAttribute("href"):null}();return null==t?null:function ir(n){ii=ii||document.createElement("a"),ii.setAttribute("href",n);const e=ii.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){_o=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function Ol(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const i=t.indexOf("="),[r,a]=-1==i?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===e)return decodeURIComponent(a)}return null}(document.cookie,e)}}let ii,_o=null;const yn=new u.OlP("TRANSITION_ID"),_u=[{provide:u.ip1,useFactory:function Nd(n,e,t){return()=>{t.get(u.CZH).donePromise.then(()=>{const i=N(),r=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let a=0;a<r.length;a++)i.remove(r[a])})}},deps:[yn,re,u.zs3],multi:!0}];let yu=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const Ql=new u.OlP("EventManagerPlugins");let Fd=(()=>{class n{constructor(t,i){this._zone=i,this._eventNameToPlugin=new Map,t.forEach(r=>r.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,i,r){return this._findPluginFor(i).addEventListener(t,i,r)}addGlobalEventListener(t,i,r){return this._findPluginFor(i).addGlobalEventListener(t,i,r)}getZone(){return this._zone}_findPluginFor(t){const i=this._eventNameToPlugin.get(t);if(i)return i;const r=this._plugins;for(let a=0;a<r.length;a++){const c=r[a];if(c.supports(t))return this._eventNameToPlugin.set(t,c),c}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Ql),u.LFG(u.R0b))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class vu{constructor(e){this._doc=e}addGlobalEventListener(e,t,i){const r=N().getGlobalEventTarget(this._doc,e);if(!r)throw new Error(`Unsupported event target ${r} for event ${t}`);return this.addEventListener(r,t,i)}}let Qo=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const i=new Set;t.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),i.add(r))}),this.onStylesAdded(i)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),Xo=(()=>{class n extends Qo{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,i,r){t.forEach(a=>{const c=this._doc.createElement("style");c.textContent=a,r.push(i.appendChild(c))})}addHost(t){const i=[];this._addStylesToHost(this._stylesSet,t,i),this._hostNodes.set(t,i)}removeHost(t){const i=this._hostNodes.get(t);i&&i.forEach(Ld),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((i,r)=>{this._addStylesToHost(t,r,i)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(Ld))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(re))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();function Ld(n){N().remove(n)}const Jo={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Vd=/%COMP%/g;function ec(n,e,t){for(let i=0;i<e.length;i++){let r=e[i];Array.isArray(r)?ec(n,r,t):(r=r.replace(Vd,n),t.push(r))}return t}function Bd(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let vo=(()=>{class n{constructor(t,i,r){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new ea(t)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;switch(i.encapsulation){case u.ifc.Emulated:{let r=this.rendererByCompId.get(i.id);return r||(r=new Ud(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,r)),r.applyToHost(t),r}case 1:case u.ifc.ShadowDom:return new Hd(this.eventManager,this.sharedStylesHost,t,i);default:if(!this.rendererByCompId.has(i.id)){const r=ec(i.id,i.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Fd),u.LFG(Xo),u.LFG(u.AFp))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class ea{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(Jo[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(za(e)?e.content:e).appendChild(t)}insertBefore(e,t,i){e&&(za(e)?e.content:e).insertBefore(t,i)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let i="string"==typeof e?document.querySelector(e):e;if(!i)throw new Error(`The selector "${e}" did not match any elements`);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,r){if(r){t=r+":"+t;const a=Jo[r];a?e.setAttributeNS(a,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){const r=Jo[i];r?e.removeAttributeNS(r,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,r){r&(u.JOm.DashCase|u.JOm.Important)?e.style.setProperty(t,i,r&u.JOm.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&u.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e[t]=i}setValue(e,t){e.nodeValue=t}listen(e,t,i){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Bd(i)):this.eventManager.addEventListener(e,t,Bd(i))}}function za(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class Ud extends ea{constructor(e,t,i,r){super(e),this.component=i;const a=ec(r+"-"+i.id,i.styles,[]);t.addStyles(a),this.contentAttr=function Rn(n){return"_ngcontent-%COMP%".replace(Vd,n)}(r+"-"+i.id),this.hostAttr=function Jl(n){return"_nghost-%COMP%".replace(Vd,n)}(r+"-"+i.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}}class Hd extends ea{constructor(e,t,i,r){super(e),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const a=ec(r.id,r.styles,[]);for(let c=0;c<a.length;c++){const f=document.createElement("style");f.textContent=a[c],this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let mi=(()=>{class n extends vu{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r){return t.addEventListener(i,r,!1),()=>this.removeEventListener(t,i,r)}removeEventListener(t,i,r){return t.removeEventListener(i,r)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(re))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const qa=["alt","control","meta","shift"],Wa={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Wr={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Za=(()=>{class n extends vu{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,i,r){const a=n.parseEventName(i),c=n.eventCallback(a.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>N().onAndCancel(t,a.domEventName,c))}static parseEventName(t){const i=t.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const a=n._normalizeKey(i.pop());let c="",f=i.indexOf("code");if(f>-1&&(i.splice(f,1),c="code."),qa.forEach(b=>{const I=i.indexOf(b);I>-1&&(i.splice(I,1),c+=b+".")}),c+=a,0!=i.length||0===a.length)return null;const _={};return _.domEventName=r,_.fullKey=c,_}static matchEventFullKeyCode(t,i){let r=Wa[t.key]||t.key,a="";return i.indexOf("code.")>-1&&(r=t.code,a="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),qa.forEach(c=>{c!==r&&(0,Wr[c])(t)&&(a+=c+".")}),a+=r,a===i)}static eventCallback(t,i,r){return a=>{n.matchEventFullKeyCode(a,t)&&r.runGuarded(()=>i(a))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(re))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const rc=(0,u.eFA)(u._c5,"browser",[{provide:u.Lbi,useValue:ps},{provide:u.g9A,useValue:function nc(){go.makeCurrent()},multi:!0},{provide:re,useFactory:function Ya(){return(0,u.RDi)(document),document},deps:[]}]),qs=new u.OlP(""),$d=[{provide:u.rWj,useClass:class Mf{addToWindow(e){u.dqk.getAngularTestability=(i,r=!0)=>{const a=e.findTestabilityInTree(i,r);if(null==a)throw new Error("Could not find testability for element.");return a},u.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),u.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),u.dqk.frameworkStabilizers||(u.dqk.frameworkStabilizers=[]),u.dqk.frameworkStabilizers.push(i=>{const r=u.dqk.getAllAngularTestabilities();let a=r.length,c=!1;const f=function(_){c=c||_,a--,0==a&&i(c)};r.forEach(function(_){_.whenStable(f)})})}findTestabilityInTree(e,t,i){return null==t?null:e.getTestability(t)??(i?N().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:u.lri,useClass:u.dDg,deps:[u.R0b,u.eoX,u.rWj]},{provide:u.dDg,useClass:u.dDg,deps:[u.R0b,u.eoX,u.rWj]}],Ws=[{provide:u.zSh,useValue:"root"},{provide:u.qLn,useFactory:function wo(){return new u.qLn},deps:[]},{provide:Ql,useClass:mi,multi:!0,deps:[re,u.R0b,u.Lbi]},{provide:Ql,useClass:Za,multi:!0,deps:[re]},{provide:vo,useClass:vo,deps:[Fd,Xo,u.AFp]},{provide:u.FYo,useExisting:vo},{provide:Qo,useExisting:Xo},{provide:Xo,useClass:Xo,deps:[re]},{provide:Fd,useClass:Fd,deps:[Ql,u.R0b]},{provide:class Ko{},useClass:yu,deps:[]},[]];let sc=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:u.AFp,useValue:t.appId},{provide:yn,useExisting:u.AFp},_u]}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(qs,12))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[...Ws,...$d],imports:[_r,u.hGG]}),n})(),ys=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(re))},n.\u0275prov=u.Yz7({token:n,factory:function(t){let i=null;return i=t?new t:function ta(){return new ys((0,u.LFG)(re))}(),i},providedIn:"root"}),n})();typeof window<"u"&&window;let Do=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(t){let i=null;return i=t?new(t||n):u.LFG(Qm),i},providedIn:"root"}),n})(),Qm=(()=>{class n extends Do{constructor(t){super(),this._doc=t}sanitize(t,i){if(null==i)return null;switch(t){case u.q3G.NONE:return i;case u.q3G.HTML:return(0,u.qzn)(i,"HTML")?(0,u.z3N)(i):(0,u.EiD)(this._doc,String(i)).toString();case u.q3G.STYLE:return(0,u.qzn)(i,"Style")?(0,u.z3N)(i):i;case u.q3G.SCRIPT:if((0,u.qzn)(i,"Script"))return(0,u.z3N)(i);throw new Error("unsafe value used in a script context");case u.q3G.URL:return(0,u.qzn)(i,"URL")?(0,u.z3N)(i):(0,u.mCW)(String(i));case u.q3G.RESOURCE_URL:if((0,u.qzn)(i,"ResourceURL"))return(0,u.z3N)(i);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return(0,u.JVY)(t)}bypassSecurityTrustStyle(t){return(0,u.L6k)(t)}bypassSecurityTrustScript(t){return(0,u.eBb)(t)}bypassSecurityTrustUrl(t){return(0,u.LAX)(t)}bypassSecurityTrustResourceUrl(t){return(0,u.pB0)(t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(re))},n.\u0275prov=u.Yz7({token:n,factory:function(t){let i=null;return i=t?new t:function Ym(n){return new Qm(n.get(re))}(u.LFG(u.zs3)),i},providedIn:"root"}),n})();var un=P(8996),Wn=P(9751);const{isArray:Rf}=Array,{getPrototypeOf:uc,prototype:sr,keys:Nr}=Object;function Eu(n){if(1===n.length){const e=n[0];if(Rf(e))return{args:e,keys:null};if(function aa(n){return n&&"object"==typeof n&&uc(n)===sr}(e)){const t=Nr(e);return{args:t.map(i=>e[i]),keys:t}}}return{args:n,keys:null}}var Bi=P(8421),bs=P(3269),Zn=P(5403),it=P(4004);const{isArray:dc}=Array;function ca(n){return(0,it.U)(e=>function la(n,e){return dc(e)?n(...e):n(e)}(n,e))}function Ui(n,e){return n.reduce((t,i,r)=>(t[i]=e[r],t),{})}function ua(...n){const e=(0,bs.jO)(n),{args:t,keys:i}=Eu(n),r=new Wn.y(a=>{const{length:c}=t;if(!c)return void a.complete();const f=new Array(c);let _=c,b=c;for(let I=0;I<c;I++){let x=!1;(0,Bi.Xf)(t[I]).subscribe((0,Zn.x)(a,L=>{x||(x=!0,b--),f[I]=L},()=>_--,void 0,()=>{(!_||!x)&&(b||a.next(i?Ui(i,f):f),a.complete())}))}});return e?r.pipe(ca(e)):r}let ws=(()=>{class n{constructor(t,i){this._renderer=t,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.Qsj),u.Y36(u.SBq))},n.\u0275dir=u.lG2({type:n}),n})(),Zr=(()=>{class n extends ws{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=u.n5z(n)))(i||n)}}(),n.\u0275dir=u.lG2({type:n,features:[u.qOj]}),n})();const Hi=new u.OlP("NgValueAccessor"),el={provide:Hi,useExisting:(0,u.Gpc)(()=>Du),multi:!0},zd=new u.OlP("CompositionEventMode");let Du=(()=>{class n extends ws{constructor(t,i,r){super(t,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Xm(){const n=N()?N().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.Qsj),u.Y36(u.SBq),u.Y36(zd,8))},n.\u0275dir=u.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,i){1&t&&u.NdJ("input",function(a){return i._handleInput(a.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(a){return i._compositionEnd(a.target.value)})},features:[u._Bn([el]),u.qOj]}),n})();const mn=new u.OlP("NgValidators"),Kr=new u.OlP("NgAsyncValidators");function T(n){return null!=n}function k(n){return(0,u.QGY)(n)?(0,un.D)(n):n}function V(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function J(n,e){return e.map(t=>t(n))}function Se(n){return n.map(e=>function ue(n){return!n.validate}(e)?e:t=>e.validate(t))}function ut(n){return null!=n?function He(n){if(!n)return null;const e=n.filter(T);return 0==e.length?null:function(t){return V(J(t,e))}}(Se(n)):null}function At(n){return null!=n?function bt(n){if(!n)return null;const e=n.filter(T);return 0==e.length?null:function(t){return ua(J(t,e).map(k)).pipe((0,it.U)(V))}}(Se(n)):null}function pt(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function Ys(n){return n?Array.isArray(n)?n:[n]:[]}function Es(n,e){return Array.isArray(n)?n.includes(e):n===e}function Qs(n,e){const t=Ys(e);return Ys(n).forEach(r=>{Es(t,r)||t.push(r)}),t}function So(n,e){return Ys(e).filter(t=>!Es(n,t))}class Is{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=ut(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=At(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Pn extends Is{get formDirective(){return null}get path(){return null}}class ar extends Is{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}let Jm=(()=>{class n extends class Xs{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(ar,2))},n.\u0275dir=u.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,i){2&t&&u.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[u.qOj]}),n})();const sl="VALID",Mu="INVALID",ol="PENDING",mc="DISABLED";function ng(n){return Array.isArray(n)?ut(n):n||null}function ig(n){return Array.isArray(n)?At(n):n||null}function ku(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function Xr(n,e){(function Vf(n,e){const t=function Cn(n){return n._rawValidators}(n);null!==e.validator?n.setValidators(pt(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const i=function _i(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators(pt(i,e.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();Qd(e._rawValidators,r),Qd(e._rawAsyncValidators,r)})(n,e),e.valueAccessor.writeValue(n.value),n.disabled&&e.valueAccessor.setDisabledState?.(!0),function sg(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&ha(n,e)})}(n,e),function og(n,e){const t=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function eo(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&ha(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function Lf(n,e){if(e.valueAccessor.setDisabledState){const t=i=>{e.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function Qd(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function ha(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function gc(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function Pu(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const Ry={provide:ar,useExisting:(0,u.Gpc)(()=>zf)},pg=(()=>Promise.resolve())();let zf=(()=>{class n extends ar{constructor(t,i,r,a,c){super(),this._changeDetectorRef=c,this.control=new class extends class al{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=ng(this._rawValidators),this._composedAsyncValidatorFn=ig(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===sl}get invalid(){return this.status===Mu}get pending(){return this.status==ol}get disabled(){return this.status===mc}get enabled(){return this.status!==mc}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=ng(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=ig(e)}addValidators(e){this.setValidators(Qs(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Qs(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(So(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(So(e,this._rawAsyncValidators))}hasValidator(e){return Es(this._rawValidators,e)}hasAsyncValidator(e){return Es(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=ol,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=mc,this.errors=null,this._forEachChild(i=>{i.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=sl,this._forEachChild(i=>{i.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===sl||this.status===ol)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?mc:sl}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=ol,this._hasOwnPendingAsyncValidator=!0;const t=k(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((i,r)=>i&&i._find(r),this)}getError(e,t){const i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new u.vpe,this.statusChanges=new u.vpe}_calculateStatus(){return this._allControlsDisabled()?mc:this.errors?Mu:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ol)?ol:this._anyControlsHaveStatus(Mu)?Mu:sl}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){ku(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}}{constructor(e=null,t,i){super(function Ds(n){return(ku(n)?n.validators:n)||null}(t),function Au(n,e){return(ku(e)?e.asyncValidators:n)||null}(i,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),ku(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=Pu(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){gc(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){gc(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){Pu(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},this._registered=!1,this.update=new u.vpe,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=function lg(n,e){if(!e)return null;let t,i,r;return Array.isArray(e),e.forEach(a=>{a.constructor===Du?t=a:function Jd(n){return Object.getPrototypeOf(n.constructor)===Zr}(a)?i=a:r=a}),r||i||t||null}(0,a)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const i=t.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function Ru(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Xr(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){pg.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const i=t.isDisabled.currentValue,r=0!==i&&(0,u.D6c)(i);pg.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?function Ff(n,e){return[...e.path,n]}(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Pn,9),u.Y36(mn,10),u.Y36(Kr,10),u.Y36(Hi,10),u.Y36(u.sBO,8))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[u._Bn([Ry]),u.qOj,u.TTD]}),n})(),qf=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})(),bg=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[qf]}),n})(),Hu=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[bg]}),n})();function nt(...n){const e=(0,bs.yG)(n);return(0,un.D)(n,e)}var Nt=P(7579);class Ss extends Nt.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:i}=this;if(e)throw t;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}}const Yf=(0,P(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var ju=P(4671),ID=P(9672);function Qf(...n){const e=(0,bs.yG)(n),t=(0,bs.jO)(n),{args:i,keys:r}=Eu(n);if(0===i.length)return(0,un.D)([],e);const a=new Wn.y(function Xf(n,e,t=ju.y){return i=>{aw(e,()=>{const{length:r}=n,a=new Array(r);let c=r,f=r;for(let _=0;_<r;_++)aw(e,()=>{const b=(0,un.D)(n[_],e);let I=!1;b.subscribe((0,Zn.x)(i,x=>{a[_]=x,I||(I=!0,f--),f||i.next(t(a.slice()))},()=>{--c||i.complete()}))},i)},i)}}(i,e,r?c=>Ui(r,c):ju.y));return t?a.pipe(ca(t)):a}function aw(n,e,t){n?(0,ID.f)(t,n,e):e()}var Jf=P(8189);function ep(...n){return function DD(){return(0,Jf.J)(1)}()((0,un.D)(n,(0,bs.yG)(n)))}function lw(n){return new Wn.y(e=>{(0,Bi.Xf)(n()).subscribe(e)})}var TD=P(9635),ma=P(576);function lh(n,e){const t=(0,ma.m)(n)?n:()=>n,i=r=>r.error(t());return new Wn.y(e?r=>e.schedule(i,0,r):i)}var ga=P(515),fl=P(727),ji=P(4482);function Uy(){return(0,ji.e)((n,e)=>{let t=null;n._refCount++;const i=(0,Zn.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const r=n._connection,a=t;t=null,r&&(!a||r===a)&&r.unsubscribe(),e.unsubscribe()});n.subscribe(i),i.closed||(t=n.connect())})}class Hy extends Wn.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,ji.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new fl.w0;const t=this.getSubject();e.add(this.source.subscribe((0,Zn.x)(t,void 0,()=>{this._teardown(),t.complete()},i=>{this._teardown(),t.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=fl.w0.EMPTY)}return e}refCount(){return Uy()(this)}}function $i(n,e){return(0,ji.e)((t,i)=>{let r=null,a=0,c=!1;const f=()=>c&&!r&&i.complete();t.subscribe((0,Zn.x)(i,_=>{r?.unsubscribe();let b=0;const I=a++;(0,Bi.Xf)(n(_,I)).subscribe(r=(0,Zn.x)(i,x=>i.next(e?e(_,x,I,b++):x),()=>{r=null,f()}))},()=>{c=!0,f()}))})}function to(n){return n<=0?()=>ga.E:(0,ji.e)((e,t)=>{let i=0;e.subscribe((0,Zn.x)(t,r=>{++i<=n&&(t.next(r),n<=i&&t.complete())}))})}function Yn(...n){const e=(0,bs.yG)(n);return(0,ji.e)((t,i)=>{(e?ep(n,t,e):ep(n,t)).subscribe(i)})}function En(n,e){return(0,ji.e)((t,i)=>{let r=0;t.subscribe((0,Zn.x)(i,a=>n.call(e,a,r++)&&i.next(a)))})}var lr=P(5577);function ch(n){return(0,ji.e)((e,t)=>{let i=!1;e.subscribe((0,Zn.x)(t,r=>{i=!0,t.next(r)},()=>{i||t.next(n),t.complete()}))})}function cr(n=tp){return(0,ji.e)((e,t)=>{let i=!1;e.subscribe((0,Zn.x)(t,r=>{i=!0,t.next(r)},()=>i?t.complete():t.error(n())))})}function tp(){return new Yf}function Ao(n,e){const t=arguments.length>=2;return i=>i.pipe(n?En((r,a)=>n(r,a,i)):ju.y,to(1),t?ch(e):cr(()=>new Yf))}function vc(n,e){return(0,ma.m)(e)?(0,lr.z)(n,e,1):(0,lr.z)(n,1)}var Ei=P(8505);function _a(n){return(0,ji.e)((e,t)=>{let a,i=null,r=!1;i=e.subscribe((0,Zn.x)(t,void 0,void 0,c=>{a=(0,Bi.Xf)(n(c,_a(n)(e))),i?(i.unsubscribe(),i=null,a.subscribe(t)):r=!0})),r&&(i.unsubscribe(),i=null,a.subscribe(t))})}function SD(n,e,t,i,r){return(a,c)=>{let f=t,_=e,b=0;a.subscribe((0,Zn.x)(c,I=>{const x=b++;_=f?n(_,I,x):(f=!0,I),i&&c.next(_)},r&&(()=>{f&&c.next(_),c.complete()})))}}function uh(n,e){return(0,ji.e)(SD(n,e,arguments.length>=2,!0))}function jy(n){return n<=0?()=>ga.E:(0,ji.e)((e,t)=>{let i=[];e.subscribe((0,Zn.x)(t,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)t.next(r);t.complete()},void 0,()=>{i=null}))})}function $y(n,e){const t=arguments.length>=2;return i=>i.pipe(n?En((r,a)=>n(r,a,i)):ju.y,jy(1),t?ch(e):cr(()=>new Yf))}function Gy(n){return(0,it.U)(()=>n)}function wg(n){return(0,ji.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const Gt="primary",np=Symbol("RouteTitle");class dh{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Jr(n){return new dh(n)}function MD(n,e,t){const i=t.path.split("/");if(i.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||i.length<n.length))return null;const r={};for(let a=0;a<i.length;a++){const c=i[a],f=n[a];if(c.startsWith(":"))r[c.substring(1)]=f;else if(c!==f.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function pl(n,e){const t=n?Object.keys(n):void 0,i=e?Object.keys(e):void 0;if(!t||!i||t.length!=i.length)return!1;let r;for(let a=0;a<t.length;a++)if(r=t[a],!kD(n[r],e[r]))return!1;return!0}function kD(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),i=[...e].sort();return t.every((r,a)=>i[a]===r)}return n===e}function zy(n){return Array.prototype.concat.apply([],n)}function RD(n){return n.length>0?n[n.length-1]:null}function ki(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function ya(n){return(0,u.CqO)(n)?n:(0,u.QGY)(n)?(0,un.D)(Promise.resolve(n)):nt(n)}const OD={exact:function Cg(n,e,t){if(!$u(n.segments,e.segments)||!gl(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const i in e.children)if(!n.children[i]||!Cg(n.children[i],e.children[i],t))return!1;return!0},subset:Zy},hh={exact:function PD(n,e){return pl(n,e)},subset:function Wy(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>kD(n[t],e[t]))},ignored:()=>!0};function uw(n,e,t){return OD[t.paths](n.root,e.root,t.matrixParams)&&hh[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function Zy(n,e,t){return ND(n,e,e.segments,t)}function ND(n,e,t,i){if(n.segments.length>t.length){const r=n.segments.slice(0,t.length);return!(!$u(r,t)||e.hasChildren()||!gl(r,t,i))}if(n.segments.length===t.length){if(!$u(n.segments,t)||!gl(n.segments,t,i))return!1;for(const r in e.children)if(!n.children[r]||!Zy(n.children[r],e.children[r],i))return!1;return!0}{const r=t.slice(0,n.segments.length),a=t.slice(n.segments.length);return!!($u(n.segments,r)&&gl(n.segments,r,i)&&n.children[Gt])&&ND(n.children[Gt],e,a,i)}}function gl(n,e,t){return e.every((i,r)=>hh[t](n[r].parameters,i.parameters))}class _l{constructor(e,t,i){this.root=e,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Jr(this.queryParams)),this._queryParamMap}toString(){return LD.serialize(this)}}class zt{constructor(e,t){this.segments=e,this.children=t,this.parent=null,ki(t,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Eg(this)}}class ip{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Jr(this.parameters)),this._parameterMap}toString(){return ev(this)}}function $u(n,e){return n.length===e.length&&n.every((t,i)=>t.path===e[i].path)}let dw=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return new Yy},providedIn:"root"}),n})();class Yy{parse(e){const t=new mw(e);return new _l(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${fh(e.root,!0)}`,i=function hw(n){const e=Object.keys(n).map(t=>{const i=n[t];return Array.isArray(i)?i.map(r=>`${rp(t)}=${rp(r)}`).join("&"):`${rp(t)}=${rp(i)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${i}${"string"==typeof e.fragment?`#${function Qy(n){return encodeURI(n)}(e.fragment)}`:""}`}}const LD=new Yy;function Eg(n){return n.segments.map(e=>ev(e)).join("/")}function fh(n,e){if(!n.hasChildren())return Eg(n);if(e){const t=n.children[Gt]?fh(n.children[Gt],!1):"",i=[];return ki(n.children,(r,a)=>{a!==Gt&&i.push(`${a}:${fh(r,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}{const t=function FD(n,e){let t=[];return ki(n.children,(i,r)=>{r===Gt&&(t=t.concat(e(i,r)))}),ki(n.children,(i,r)=>{r!==Gt&&(t=t.concat(e(i,r)))}),t}(n,(i,r)=>r===Gt?[fh(n.children[Gt],!1)]:[`${r}:${fh(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Gt]?`${Eg(n)}/${t[0]}`:`${Eg(n)}/(${t.join("//")})`}}function Ig(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function rp(n){return Ig(n).replace(/%3B/gi,";")}function Xy(n){return Ig(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Dg(n){return decodeURIComponent(n)}function Jy(n){return Dg(n.replace(/\+/g,"%20"))}function ev(n){return`${Xy(n.path)}${function Gu(n){return Object.keys(n).map(e=>`;${Xy(e)}=${Xy(n[e])}`).join("")}(n.parameters)}`}const fw=/^[^\/()?;=#]+/;function Tg(n){const e=n.match(fw);return e?e[0]:""}const qA=/^[^=?&#]+/,VD=/^[^&#]+/;class mw{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new zt([],{}):new zt([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(i[Gt]=new zt(e,t)),i}parseSegment(){const e=Tg(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new u.vHH(4009,!1);return this.capture(e),new ip(Dg(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Tg(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const r=Tg(this.remaining);r&&(i=r,this.capture(i))}e[Dg(t)]=Dg(i)}parseQueryParam(e){const t=function Sg(n){const e=n.match(qA);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const c=function pw(n){const e=n.match(VD);return e?e[0]:""}(this.remaining);c&&(i=c,this.capture(i))}const r=Jy(t),a=Jy(i);if(e.hasOwnProperty(r)){let c=e[r];Array.isArray(c)||(c=[c],e[r]=c),c.push(a)}else e[r]=a}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=Tg(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new u.vHH(4010,!1);let a;i.indexOf(":")>-1?(a=i.slice(0,i.indexOf(":")),this.capture(a),this.capture(":")):e&&(a=Gt);const c=this.parseChildren();t[a]=1===Object.keys(c).length?c[Gt]:new zt([],c),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new u.vHH(4011,!1)}}function xg(n){return n.segments.length>0?new zt([],{[Gt]:n}):n}function ph(n){const e={};for(const i of Object.keys(n.children)){const a=ph(n.children[i]);(a.segments.length>0||a.hasChildren())&&(e[i]=a)}return function gw(n){if(1===n.numberOfChildren&&n.children[Gt]){const e=n.children[Gt];return new zt(n.segments.concat(e.segments),e.children)}return n}(new zt(n.segments,e))}function va(n){return n instanceof _l}function nv(n,e,t,i,r){if(0===t.length)return zu(e.root,e.root,e.root,i,r);const a=function iv(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new vw(!0,0,n);let e=0,t=!1;const i=n.reduce((r,a,c)=>{if("object"==typeof a&&null!=a){if(a.outlets){const f={};return ki(a.outlets,(_,b)=>{f[b]="string"==typeof _?_.split("/"):_}),[...r,{outlets:f}]}if(a.segmentPath)return[...r,a.segmentPath]}return"string"!=typeof a?[...r,a]:0===c?(a.split("/").forEach((f,_)=>{0==_&&"."===f||(0==_&&""===f?t=!0:".."===f?e++:""!=f&&r.push(f))}),r):[...r,a]},[]);return new vw(t,e,i)}(t);return a.toRoot()?zu(e.root,e.root,new zt([],{}),i,r):function c(_){const b=function WA(n,e,t,i){if(n.isAbsolute)return new bc(e.root,!0,0);if(-1===i)return new bc(t,t===e.root,0);return function rv(n,e,t){let i=n,r=e,a=t;for(;a>r;){if(a-=r,i=i.parent,!i)throw new u.vHH(4005,!1);r=i.segments.length}return new bc(i,!1,r-a)}(t,i+(yl(n.commands[0])?0:1),n.numberOfDoubleDots)}(a,e,n.snapshot?._urlSegment,_),I=b.processChildren?op(b.segmentGroup,b.index,a.commands):Mg(b.segmentGroup,b.index,a.commands);return zu(e.root,b.segmentGroup,I,i,r)}(n.snapshot?._lastPathIndex)}function yl(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function sp(n){return"object"==typeof n&&null!=n&&n.outlets}function zu(n,e,t,i,r){let c,a={};i&&ki(i,(_,b)=>{a[b]=Array.isArray(_)?_.map(I=>`${I}`):`${_}`}),c=n===e?t:yw(n,e,t);const f=xg(ph(c));return new _l(f,a,r)}function yw(n,e,t){const i={};return ki(n.children,(r,a)=>{i[a]=r===e?t:yw(r,e,t)}),new zt(n.segments,i)}class vw{constructor(e,t,i){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=i,e&&i.length>0&&yl(i[0]))throw new u.vHH(4003,!1);const r=i.find(sp);if(r&&r!==RD(i))throw new u.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class bc{constructor(e,t,i){this.segmentGroup=e,this.processChildren=t,this.index=i}}function Mg(n,e,t){if(n||(n=new zt([],{})),0===n.segments.length&&n.hasChildren())return op(n,e,t);const i=function HD(n,e,t){let i=0,r=e;const a={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=t.length)return a;const c=n.segments[r],f=t[i];if(sp(f))break;const _=`${f}`,b=i<t.length-1?t[i+1]:null;if(r>0&&void 0===_)break;if(_&&b&&"object"==typeof b&&void 0===b.outlets){if(!ww(_,b,c))return a;i+=2}else{if(!ww(_,{},c))return a;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,e,t),r=t.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const a=new zt(n.segments.slice(0,i.pathIndex),{});return a.children[Gt]=new zt(n.segments.slice(i.pathIndex),n.children),op(a,0,r)}return i.match&&0===r.length?new zt(n.segments,{}):i.match&&!n.hasChildren()?xs(n,e,t):i.match?op(n,0,r):xs(n,e,t)}function op(n,e,t){if(0===t.length)return new zt(n.segments,{});{const i=function UD(n){return sp(n[0])?n[0].outlets:{[Gt]:n}}(t),r={};return ki(i,(a,c)=>{"string"==typeof a&&(a=[a]),null!==a&&(r[c]=Mg(n.children[c],e,a))}),ki(n.children,(a,c)=>{void 0===i[c]&&(r[c]=a)}),new zt(n.segments,r)}}function xs(n,e,t){const i=n.segments.slice(0,e);let r=0;for(;r<t.length;){const a=t[r];if(sp(a)){const _=jD(a.outlets);return new zt(i,_)}if(0===r&&yl(t[0])){i.push(new ip(n.segments[e].path,sv(t[0]))),r++;continue}const c=sp(a)?a.outlets[Gt]:`${a}`,f=r<t.length-1?t[r+1]:null;c&&f&&yl(f)?(i.push(new ip(c,sv(f))),r+=2):(i.push(new ip(c,{})),r++)}return new zt(i,{})}function jD(n){const e={};return ki(n,(t,i)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[i]=xs(new zt([],{}),0,t))}),e}function sv(n){const e={};return ki(n,(t,i)=>e[i]=`${t}`),e}function ww(n,e,t){return n==t.path&&pl(e,t.parameters)}class vl{constructor(e,t){this.id=e,this.url=t}}class ov extends vl{constructor(e,t,i="imperative",r=null){super(e,t),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class qu extends vl{constructor(e,t,i){super(e,t),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class ap extends vl{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Cw extends vl{constructor(e,t,i,r){super(e,t),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class $D extends vl{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class GD extends vl{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ft extends vl{constructor(e,t,i,r,a){super(e,t),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=a,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Ew extends vl{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Iw extends vl{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Dw{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class zD{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class qD{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Tw{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class WD{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Sw{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class xw{constructor(e,t,i){this.routerEvent=e,this.position=t,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class KD{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Ag(e,this._root);return t?t.children.map(i=>i.value):[]}firstChild(e){const t=Ag(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=kg(e,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return kg(e,this._root).map(t=>t.value)}}function Ag(n,e){if(n===e.value)return e;for(const t of e.children){const i=Ag(n,t);if(i)return i}return null}function kg(n,e){if(n===e.value)return[e];for(const t of e.children){const i=kg(n,t);if(i.length)return i.unshift(e),i}return[]}class Fr{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function gh(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class Rg extends KD{constructor(e,t){super(e),this.snapshot=t,Mw(this,e)}toString(){return this.snapshot.toString()}}function Og(n,e){const t=function YD(n,e){const c=new Pg([],{},{},"",{},Gt,e,null,n.root,-1,{});return new av("",new Fr(c,[]))}(n,e),i=new Ss([new ip("",{})]),r=new Ss({}),a=new Ss({}),c=new Ss({}),f=new Ss(""),_=new Wu(i,r,c,f,a,Gt,e,t.root);return _.snapshot=t.root,new Rg(new Fr(_,[]),t)}class Wu{constructor(e,t,i,r,a,c,f,_){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=a,this.outlet=c,this.component=f,this.title=this.data?.pipe((0,it.U)(b=>b[np]))??nt(void 0),this._futureSnapshot=_}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,it.U)(e=>Jr(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,it.U)(e=>Jr(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function QD(n,e="emptyOnly"){const t=n.pathFromRoot;let i=0;if("always"!==e)for(i=t.length-1;i>=1;){const r=t[i],a=t[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(a.component)break;i--}}return function ZA(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(i))}class Pg{constructor(e,t,i,r,a,c,f,_,b,I,x,L){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=a,this.outlet=c,this.component=f,this.title=this.data?.[np],this.routeConfig=_,this._urlSegment=b,this._lastPathIndex=I,this._correctedLastPathIndex=L??I,this._resolve=x}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Jr(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Jr(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class av extends KD{constructor(e,t){super(t),this.url=e,Mw(this,t)}toString(){return Aw(this._root)}}function Mw(n,e){e.value._routerState=n,e.children.forEach(t=>Mw(n,t))}function Aw(n){const e=n.children.length>0?` { ${n.children.map(Aw).join(", ")} } `:"";return`${n.value}${e}`}function wc(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,pl(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),pl(e.params,t.params)||n.params.next(t.params),function AD(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!pl(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),pl(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function lv(n,e){const t=pl(n.params,e.params)&&function Ky(n,e){return $u(n,e)&&n.every((t,i)=>pl(t.parameters,e[i].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||lv(n.parent,e.parent))}function Cc(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const i=t.value;i._futureSnapshot=e.value;const r=function XD(n,e,t){return e.children.map(i=>{for(const r of t.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return Cc(n,i,r);return Cc(n,i)})}(n,e,t);return new Fr(i,r)}{if(n.shouldAttach(e.value)){const a=n.retrieve(e.value);if(null!==a){const c=a.route;return c.value._futureSnapshot=e.value,c.children=e.children.map(f=>Cc(n,f)),c}}const i=function Rw(n){return new Wu(new Ss(n.url),new Ss(n.params),new Ss(n.queryParams),new Ss(n.fragment),new Ss(n.data),n.outlet,n.component,n)}(e.value),r=e.children.map(a=>Cc(n,a));return new Fr(i,r)}}const cv="ngNavigationCancelingError";function Ow(n,e){const{redirectTo:t,navigationBehaviorOptions:i}=va(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=Pw(!1,0,e);return r.url=t,r.navigationBehaviorOptions=i,r}function Pw(n,e,t){const i=new Error("NavigationCancelingError: "+(n||""));return i[cv]=!0,i.cancellationCode=e,t&&(i.url=t),i}function Nw(n){return Fw(n)&&va(n.url)}function Fw(n){return n&&n[cv]}class Lw{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new lp,this.attachRef=null}}let lp=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,i){const r=this.getOrCreateContext(t);r.outlet=i,this.contexts.set(t,r)}onChildOutletDestroyed(t){const i=this.getContext(t);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let i=this.getContext(t);return i||(i=new Lw,this.contexts.set(t,i)),i}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const cp=!1;let up=(()=>{class n{constructor(t,i,r,a,c){this.parentContexts=t,this.location=i,this.changeDetector=a,this.environmentInjector=c,this.activated=null,this._activatedRoute=null,this.activateEvents=new u.vpe,this.deactivateEvents=new u.vpe,this.attachEvents=new u.vpe,this.detachEvents=new u.vpe,this.name=r||Gt,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new u.vHH(4012,cp);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new u.vHH(4012,cp);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new u.vHH(4012,cp);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new u.vHH(4013,cp);this._activatedRoute=t;const r=this.location,c=t._futureSnapshot.component,f=this.parentContexts.getOrCreateContext(this.name).children,_=new uv(t,f,r.injector);if(i&&function KA(n){return!!n.resolveComponentFactory}(i)){const b=i.resolveComponentFactory(c);this.activated=r.createComponent(b,r.length,_)}else this.activated=r.createComponent(c,{index:r.length,injector:_,environmentInjector:i??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(lp),u.Y36(u.s_b),u.$8M("name"),u.Y36(u.sBO),u.Y36(u.lqb))},n.\u0275dir=u.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),n})();class uv{constructor(e,t,i){this.route=e,this.childContexts=t,this.parent=i}get(e,t){return e===Wu?this.route:e===lp?this.childContexts:this.parent.get(e,t)}}let dp=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[u.jDz],decls:1,vars:0,template:function(t,i){1&t&&u._UZ(0,"router-outlet")},dependencies:[up],encapsulation:2}),n})();function Vw(n,e){return n.providers&&!n._injector&&(n._injector=(0,u.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}function fp(n){const e=n.children&&n.children.map(fp),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Gt&&(t.component=dp),t}function Ii(n){return n.outlet||Gt}function Ng(n,e){const t=n.filter(i=>Ii(i)===e);return t.push(...n.filter(i=>Ii(i)!==e)),t}function yh(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class YA{constructor(e,t,i,r){this.routeReuseStrategy=e,this.futureState=t,this.currState=i,this.forwardEvent=r}activate(e){const t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,e),wc(this.futureState.root),this.activateChildRoutes(t,i,e)}deactivateChildRoutes(e,t,i){const r=gh(t);e.children.forEach(a=>{const c=a.value.outlet;this.deactivateRoutes(a,r[c],i),delete r[c]}),ki(r,(a,c)=>{this.deactivateRouteAndItsChildren(a,i)})}deactivateRoutes(e,t,i){const r=e.value,a=t?t.value:null;if(r===a)if(r.component){const c=i.getContext(r.outlet);c&&this.deactivateChildRoutes(e,t,c.children)}else this.deactivateChildRoutes(e,t,i);else a&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,a=gh(e);for(const c of Object.keys(a))this.deactivateRouteAndItsChildren(a[c],r);if(i&&i.outlet){const c=i.outlet.detach(),f=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:c,route:e,contexts:f})}}deactivateRouteAndOutlet(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,a=gh(e);for(const c of Object.keys(a))this.deactivateRouteAndItsChildren(a[c],r);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(e,t,i){const r=gh(t);e.children.forEach(a=>{this.activateRoutes(a,r[a.value.outlet],i),this.forwardEvent(new Sw(a.value.snapshot))}),e.children.length&&this.forwardEvent(new Tw(e.value.snapshot))}activateRoutes(e,t,i){const r=e.value,a=t?t.value:null;if(wc(r),r===a)if(r.component){const c=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,c.children)}else this.activateChildRoutes(e,t,i);else if(r.component){const c=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const f=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),c.children.onOutletReAttached(f.contexts),c.attachRef=f.componentRef,c.route=f.route.value,c.outlet&&c.outlet.attach(f.componentRef,f.route.value),wc(f.route.value),this.activateChildRoutes(e,null,c.children)}else{const f=yh(r.snapshot),_=f?.get(u._Vd)??null;c.attachRef=null,c.route=r,c.resolver=_,c.injector=f,c.outlet&&c.outlet.activateWith(r,c.injector),this.activateChildRoutes(e,null,c.children)}}else this.activateChildRoutes(e,null,i)}}class hv{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class fv{constructor(e,t){this.component=e,this.route=t}}function Fg(n,e,t){const i=n._root;return Zu(i,e?e._root:null,t,[i.value])}function Ec(n,e){const t=Symbol(),i=e.get(n,t);return i===t?"function"!=typeof n||(0,u.Z0I)(n)?e.get(n):n:i}function Zu(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const a=gh(e);return n.children.forEach(c=>{(function pv(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const a=n.value,c=e?e.value:null,f=t?t.getContext(n.value.outlet):null;if(c&&a.routeConfig===c.routeConfig){const _=function QA(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!$u(n.url,e.url);case"pathParamsOrQueryParamsChange":return!$u(n.url,e.url)||!pl(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!lv(n,e)||!pl(n.queryParams,e.queryParams);default:return!lv(n,e)}}(c,a,a.routeConfig.runGuardsAndResolvers);_?r.canActivateChecks.push(new hv(i)):(a.data=c.data,a._resolvedData=c._resolvedData),Zu(n,e,a.component?f?f.children:null:t,i,r),_&&f&&f.outlet&&f.outlet.isActivated&&r.canDeactivateChecks.push(new fv(f.outlet.component,c))}else c&&pp(e,f,r),r.canActivateChecks.push(new hv(i)),Zu(n,null,a.component?f?f.children:null:t,i,r)})(c,a[c.value.outlet],t,i.concat([c.value]),r),delete a[c.value.outlet]}),ki(a,(c,f)=>pp(c,t.getContext(f),r)),r}function pp(n,e,t){const i=gh(n),r=n.value;ki(i,(a,c)=>{pp(a,r.component?e?e.children.getContext(c):null:e,t)}),t.canDeactivateChecks.push(new fv(r.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,r))}function mp(n){return"function"==typeof n}function mv(n){return n instanceof Yf||"EmptyError"===n?.name}const vh=Symbol("INITIAL_VALUE");function gp(){return $i(n=>Qf(n.map(e=>e.pipe(to(1),Yn(vh)))).pipe((0,it.U)(e=>{for(const t of e)if(!0!==t){if(t===vh)return vh;if(!1===t||t instanceof _l)return t}return!0}),En(e=>e!==vh),to(1)))}function bl(n){return(0,TD.z)((0,Ei.b)(e=>{if(va(e))throw Ow(0,e)}),(0,it.U)(e=>!0===e))}const _v={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function yv(n,e,t,i,r){const a=_p(n,e,t);return a.matched?function gv(n,e,t,i){const r=e.canMatch;return r&&0!==r.length?nt(r.map(c=>{const f=Ec(c,n);return ya(function JA(n){return n&&mp(n.canMatch)}(f)?f.canMatch(e,t):n.runInContext(()=>f(e,t)))})).pipe(gp(),bl()):nt(!0)}(i=Vw(e,i),e,t).pipe((0,it.U)(c=>!0===c?a:{..._v})):nt(a)}function _p(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{..._v}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const r=(e.matcher||MD)(t,n,e);if(!r)return{..._v};const a={};ki(r.posParams,(f,_)=>{a[_]=f.path});const c=r.consumed.length>0?{...a,...r.consumed[r.consumed.length-1].parameters}:a;return{matched:!0,consumedSegments:r.consumed,remainingSegments:t.slice(r.consumed.length),parameters:c,positionalParamSegments:r.posParams??{}}}function yp(n,e,t,i,r="corrected"){if(t.length>0&&function Ic(n,e,t){return t.some(i=>Vg(n,e,i)&&Ii(i)!==Gt)}(n,t,i)){const c=new zt(e,function oT(n,e,t,i){const r={};r[Gt]=i,i._sourceSegment=n,i._segmentIndexShift=e.length;for(const a of t)if(""===a.path&&Ii(a)!==Gt){const c=new zt([],{});c._sourceSegment=n,c._segmentIndexShift=e.length,r[Ii(a)]=c}return r}(n,e,i,new zt(t,n.children)));return c._sourceSegment=n,c._segmentIndexShift=e.length,{segmentGroup:c,slicedSegments:[]}}if(0===t.length&&function jw(n,e,t){return t.some(i=>Vg(n,e,i))}(n,t,i)){const c=new zt(n.segments,function vv(n,e,t,i,r,a){const c={};for(const f of i)if(Vg(n,t,f)&&!r[Ii(f)]){const _=new zt([],{});_._sourceSegment=n,_._segmentIndexShift="legacy"===a?n.segments.length:e.length,c[Ii(f)]=_}return{...r,...c}}(n,e,t,i,n.children,r));return c._sourceSegment=n,c._segmentIndexShift=e.length,{segmentGroup:c,slicedSegments:t}}const a=new zt(n.segments,n.children);return a._sourceSegment=n,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:t}}function Vg(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function $w(n,e,t,i){return!!(Ii(n)===i||i!==Gt&&Vg(e,t,n))&&("**"===n.path||_p(e,n,t).matched)}function bv(n,e,t){return 0===e.length&&!n.children[t]}const Bg=!1;class Ug{constructor(e){this.segmentGroup=e||null}}class vp{constructor(e){this.urlTree=e}}function ba(n){return lh(new Ug(n))}function Hg(n){return lh(new vp(n))}class aT{constructor(e,t,i,r,a){this.injector=e,this.configLoader=t,this.urlSerializer=i,this.urlTree=r,this.config=a,this.allowRedirects=!0}apply(){const e=yp(this.urlTree.root,[],[],this.config).segmentGroup,t=new zt(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,Gt).pipe((0,it.U)(a=>this.createUrlTree(ph(a),this.urlTree.queryParams,this.urlTree.fragment))).pipe(_a(a=>{if(a instanceof vp)return this.allowRedirects=!1,this.match(a.urlTree);throw a instanceof Ug?this.noMatchError(a):a}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,Gt).pipe((0,it.U)(r=>this.createUrlTree(ph(r),e.queryParams,e.fragment))).pipe(_a(r=>{throw r instanceof Ug?this.noMatchError(r):r}))}noMatchError(e){return new u.vHH(4002,Bg)}createUrlTree(e,t,i){const r=xg(e);return new _l(r,t,i)}expandSegmentGroup(e,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(e,t,i).pipe((0,it.U)(a=>new zt([],a))):this.expandSegment(e,i,t,i.segments,r,!0)}expandChildren(e,t,i){const r=[];for(const a of Object.keys(i.children))"primary"===a?r.unshift(a):r.push(a);return(0,un.D)(r).pipe(vc(a=>{const c=i.children[a],f=Ng(t,a);return this.expandSegmentGroup(e,f,c,a).pipe((0,it.U)(_=>({segment:_,outlet:a})))}),uh((a,c)=>(a[c.outlet]=c.segment,a),{}),$y())}expandSegment(e,t,i,r,a,c){return(0,un.D)(i).pipe(vc(f=>this.expandSegmentAgainstRoute(e,t,i,f,r,a,c).pipe(_a(b=>{if(b instanceof Ug)return nt(null);throw b}))),Ao(f=>!!f),_a((f,_)=>{if(mv(f))return bv(t,r,a)?nt(new zt([],{})):ba(t);throw f}))}expandSegmentAgainstRoute(e,t,i,r,a,c,f){return $w(r,t,a,c)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,t,r,a,c):f&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,i,r,a,c):ba(t):ba(t)}expandSegmentAgainstRouteUsingRedirect(e,t,i,r,a,c){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,i,r,c):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,a,c)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,i,r){const a=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?Hg(a):this.lineralizeSegments(i,a).pipe((0,lr.z)(c=>{const f=new zt(c,{});return this.expandSegment(e,f,t,c,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,a,c){const{matched:f,consumedSegments:_,remainingSegments:b,positionalParamSegments:I}=_p(t,r,a);if(!f)return ba(t);const x=this.applyRedirectCommands(_,r.redirectTo,I);return r.redirectTo.startsWith("/")?Hg(x):this.lineralizeSegments(r,x).pipe((0,lr.z)(L=>this.expandSegment(e,t,i,L.concat(b),c,!1)))}matchSegmentAgainstRoute(e,t,i,r,a){return"**"===i.path?(e=Vw(i,e),i.loadChildren?(i._loadedRoutes?nt({routes:i._loadedRoutes,injector:i._loadedInjector}):this.configLoader.loadChildren(e,i)).pipe((0,it.U)(f=>(i._loadedRoutes=f.routes,i._loadedInjector=f.injector,new zt(r,{})))):nt(new zt(r,{}))):yv(t,i,r,e).pipe($i(({matched:c,consumedSegments:f,remainingSegments:_})=>c?this.getChildConfig(e=i._injector??e,i,r).pipe((0,lr.z)(I=>{const x=I.injector??e,L=I.routes,{segmentGroup:B,slicedSegments:H}=yp(t,f,_,L),ee=new zt(B.segments,B.children);if(0===H.length&&ee.hasChildren())return this.expandChildren(x,L,ee).pipe((0,it.U)(yt=>new zt(f,yt)));if(0===L.length&&0===H.length)return nt(new zt(f,{}));const ve=Ii(i)===a;return this.expandSegment(x,ee,L,H,ve?Gt:a,!0).pipe((0,it.U)(et=>new zt(f.concat(et.segments),et.children)))})):ba(t)))}getChildConfig(e,t,i){return t.children?nt({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?nt({routes:t._loadedRoutes,injector:t._loadedInjector}):function lk(n,e,t,i){const r=e.canLoad;return void 0===r||0===r.length?nt(!0):nt(r.map(c=>{const f=Ec(c,n);return ya(function iT(n){return n&&mp(n.canLoad)}(f)?f.canLoad(e,t):n.runInContext(()=>f(e,t)))})).pipe(gp(),bl())}(e,t,i).pipe((0,lr.z)(r=>r?this.configLoader.loadChildren(e,t).pipe((0,Ei.b)(a=>{t._loadedRoutes=a.routes,t._loadedInjector=a.injector})):function jg(n){return lh(Pw(Bg,3))}())):nt({routes:[],injector:e})}lineralizeSegments(e,t){let i=[],r=t.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return nt(i);if(r.numberOfChildren>1||!r.children[Gt])return lh(new u.vHH(4e3,Bg));r=r.children[Gt]}}applyRedirectCommands(e,t,i){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,i)}applyRedirectCreateUrlTree(e,t,i,r){const a=this.createSegmentGroup(e,t.root,i,r);return new _l(a,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const i={};return ki(e,(r,a)=>{if("string"==typeof r&&r.startsWith(":")){const f=r.substring(1);i[a]=t[f]}else i[a]=r}),i}createSegmentGroup(e,t,i,r){const a=this.createSegments(e,t.segments,i,r);let c={};return ki(t.children,(f,_)=>{c[_]=this.createSegmentGroup(e,f,i,r)}),new zt(a,c)}createSegments(e,t,i,r){return t.map(a=>a.path.startsWith(":")?this.findPosParam(e,a,r):this.findOrReturn(a,i))}findPosParam(e,t,i){const r=i[t.path.substring(1)];if(!r)throw new u.vHH(4001,Bg);return r}findOrReturn(e,t){let i=0;for(const r of t){if(r.path===e.path)return t.splice(i),r;i++}return e}}class wv{}class Ev{constructor(e,t,i,r,a,c,f,_){this.injector=e,this.rootComponentType=t,this.config=i,this.urlTree=r,this.url=a,this.paramsInheritanceStrategy=c,this.relativeLinkResolution=f,this.urlSerializer=_}recognize(){const e=yp(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,Gt).pipe((0,it.U)(t=>{if(null===t)return null;const i=new Pg([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Gt,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Fr(i,t),a=new av(this.url,r);return this.inheritParamsAndData(a._root),a}))}inheritParamsAndData(e){const t=e.value,i=QD(t,this.paramsInheritanceStrategy);t.params=Object.freeze(i.params),t.data=Object.freeze(i.data),e.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(e,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(e,t,i):this.processSegment(e,t,i,i.segments,r)}processChildren(e,t,i){return(0,un.D)(Object.keys(i.children)).pipe(vc(r=>{const a=i.children[r],c=Ng(t,r);return this.processSegmentGroup(e,c,a,r)}),uh((r,a)=>r&&a?(r.push(...a),r):null),function xD(n,e=!1){return(0,ji.e)((t,i)=>{let r=0;t.subscribe((0,Zn.x)(i,a=>{const c=n(a,r++);(c||e)&&i.next(a),!c&&i.complete()}))})}(r=>null!==r),ch(null),$y(),(0,it.U)(r=>{if(null===r)return null;const a=Iv(r);return function lT(n){n.sort((e,t)=>e.value.outlet===Gt?-1:t.value.outlet===Gt?1:e.value.outlet.localeCompare(t.value.outlet))}(a),a}))}processSegment(e,t,i,r,a){return(0,un.D)(t).pipe(vc(c=>this.processSegmentAgainstRoute(c._injector??e,c,i,r,a)),Ao(c=>!!c),_a(c=>{if(mv(c))return bv(i,r,a)?nt([]):nt(null);throw c}))}processSegmentAgainstRoute(e,t,i,r,a){if(t.redirectTo||!$w(t,i,r,a))return nt(null);let c;if("**"===t.path){const f=r.length>0?RD(r).parameters:{},_=Tv(i)+r.length;c=nt({snapshot:new Pg(r,f,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,es(t),Ii(t),t.component??t._loadedComponent??null,t,Dv(i),_,Sv(t),_),consumedSegments:[],remainingSegments:[]})}else c=yv(i,t,r,e).pipe((0,it.U)(({matched:f,consumedSegments:_,remainingSegments:b,parameters:I})=>{if(!f)return null;const x=Tv(i)+_.length;return{snapshot:new Pg(_,I,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,es(t),Ii(t),t.component??t._loadedComponent??null,t,Dv(i),x,Sv(t),x),consumedSegments:_,remainingSegments:b}}));return c.pipe($i(f=>{if(null===f)return nt(null);const{snapshot:_,consumedSegments:b,remainingSegments:I}=f;e=t._injector??e;const x=t._loadedInjector??e,L=function ck(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:B,slicedSegments:H}=yp(i,b,I,L.filter(ve=>void 0===ve.redirectTo),this.relativeLinkResolution);if(0===H.length&&B.hasChildren())return this.processChildren(x,L,B).pipe((0,it.U)(ve=>null===ve?null:[new Fr(_,ve)]));if(0===L.length&&0===H.length)return nt([new Fr(_,[])]);const ee=Ii(t)===a;return this.processSegment(x,L,B,H,ee?Gt:a).pipe((0,it.U)(ve=>null===ve?null:[new Fr(_,ve)]))}))}}function cT(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function Iv(n){const e=[],t=new Set;for(const i of n){if(!cT(i)){e.push(i);continue}const r=e.find(a=>i.value.routeConfig===a.value.routeConfig);void 0!==r?(r.children.push(...i.children),t.add(r)):e.push(i)}for(const i of t){const r=Iv(i.children);e.push(new Fr(i.value,r))}return e.filter(i=>!t.has(i))}function Dv(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Tv(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function es(n){return n.data||{}}function Sv(n){return n.resolve||{}}function Zw(n){return"string"==typeof n.title||null===n.title}function Mv(n){return $i(e=>{const t=n(e);return t?(0,un.D)(t).pipe((0,it.U)(()=>e)):nt(e)})}let Av=(()=>{class n{buildTitle(t){let i,r=t.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(a=>a.outlet===Gt);return i}getResolvedTitleForRoute(t){return t.data[np]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return(0,u.f3M)(Kw)},providedIn:"root"}),n})(),Kw=(()=>{class n extends Av{constructor(t){super(),this.title=t}updateTitle(t){const i=this.buildTitle(t);void 0!==i&&this.title.setTitle(i)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ys))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class mT{}class Yw extends class gT{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const $g=new u.OlP("",{providedIn:"root",factory:()=>({})}),Cp=new u.OlP("ROUTES");let kv=(()=>{class n{constructor(t,i){this.injector=t,this.compiler=i,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return nt(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const i=ya(t.loadComponent()).pipe((0,Ei.b)(a=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=a}),wg(()=>{this.componentLoaders.delete(t)})),r=new Hy(i,()=>new Nt.x).pipe(Uy());return this.componentLoaders.set(t,r),r}loadChildren(t,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return nt({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const a=this.loadModuleFactoryOrRoutes(i.loadChildren).pipe((0,it.U)(f=>{this.onLoadEndListener&&this.onLoadEndListener(i);let _,b,I=!1;Array.isArray(f)?b=f:(_=f.create(t).injector,b=zy(_.get(Cp,[],u.XFs.Self|u.XFs.Optional)));return{routes:b.map(fp),injector:_}}),wg(()=>{this.childrenLoaders.delete(i)})),c=new Hy(a,()=>new Nt.x).pipe(Uy());return this.childrenLoaders.set(i,c),c}loadModuleFactoryOrRoutes(t){return ya(t()).pipe((0,lr.z)(i=>i instanceof u.YKP||Array.isArray(i)?nt(i):(0,un.D)(this.compiler.compileModuleAsync(i))))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.zs3),u.LFG(u.Sil))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class _T{}class dk{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function yT(n){throw n}function vT(n,e,t){return e.parse("/")}const bT={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Rv={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function Xw(){const n=(0,u.f3M)(dw),e=(0,u.f3M)(lp),t=(0,u.f3M)(Me),i=(0,u.f3M)(u.zs3),r=(0,u.f3M)(u.Sil),a=(0,u.f3M)(Cp,{optional:!0})??[],c=(0,u.f3M)($g,{optional:!0})??{},f=(0,u.f3M)(Kw),_=(0,u.f3M)(Av,{optional:!0}),b=(0,u.f3M)(_T,{optional:!0}),I=(0,u.f3M)(mT,{optional:!0}),x=new yi(null,n,e,t,i,r,zy(a));return b&&(x.urlHandlingStrategy=b),I&&(x.routeReuseStrategy=I),x.titleStrategy=_??f,function wT(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(c,x),x}let yi=(()=>{class n{constructor(t,i,r,a,c,f,_){this.rootComponentType=t,this.urlSerializer=i,this.rootContexts=r,this.location=a,this.config=_,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Nt.x,this.errorHandler=yT,this.malformedUriErrorHandler=vT,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>nt(void 0),this.urlHandlingStrategy=new dk,this.routeReuseStrategy=new Yw,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=c.get(kv),this.configLoader.onLoadEndListener=L=>this.triggerEvent(new zD(L)),this.configLoader.onLoadStartListener=L=>this.triggerEvent(new Dw(L)),this.ngModule=c.get(u.h0i),this.console=c.get(u.c2e);const x=c.get(u.R0b);this.isNgZoneEnabled=x instanceof u.R0b&&u.R0b.isInAngularZone(),this.resetConfig(_),this.currentUrlTree=function cw(){return new _l(new zt([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Og(this.currentUrlTree,this.rootComponentType),this.transitions=new Ss({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(t){const i=this.events;return t.pipe(En(r=>0!==r.id),(0,it.U)(r=>({...r,extractedUrl:this.urlHandlingStrategy.extract(r.rawUrl)})),$i(r=>{let a=!1,c=!1;return nt(r).pipe((0,Ei.b)(f=>{this.currentNavigation={id:f.id,initialUrl:f.rawUrl,extractedUrl:f.extractedUrl,trigger:f.source,extras:f.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),$i(f=>{const _=this.browserUrlTree.toString(),b=!this.navigated||f.extractedUrl.toString()!==_||_!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||b)&&this.urlHandlingStrategy.shouldProcessUrl(f.rawUrl))return Jw(f.source)&&(this.browserUrlTree=f.extractedUrl),nt(f).pipe($i(x=>{const L=this.transitions.getValue();return i.next(new ov(x.id,this.serializeUrl(x.extractedUrl),x.source,x.restoredState)),L!==this.transitions.getValue()?ga.E:Promise.resolve(x)}),function Gw(n,e,t,i){return $i(r=>function bp(n,e,t,i,r){return new aT(n,e,t,i,r).apply()}(n,e,t,r.extractedUrl,i).pipe((0,it.U)(a=>({...r,urlAfterRedirects:a}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Ei.b)(x=>{this.currentNavigation={...this.currentNavigation,finalUrl:x.urlAfterRedirects},r.urlAfterRedirects=x.urlAfterRedirects}),function dT(n,e,t,i,r,a){return(0,lr.z)(c=>function zw(n,e,t,i,r,a,c="emptyOnly",f="legacy"){return new Ev(n,e,t,i,r,c,f,a).recognize().pipe($i(_=>null===_?function Cv(n){return new Wn.y(e=>e.error(n))}(new wv):nt(_)))}(n,e,t,c.urlAfterRedirects,i.serialize(c.urlAfterRedirects),i,r,a).pipe((0,it.U)(f=>({...c,targetSnapshot:f}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Ei.b)(x=>{if(r.targetSnapshot=x.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!x.extras.skipLocationChange){const B=this.urlHandlingStrategy.merge(x.urlAfterRedirects,x.rawUrl);this.setBrowserUrl(B,x)}this.browserUrlTree=x.urlAfterRedirects}const L=new $D(x.id,this.serializeUrl(x.extractedUrl),this.serializeUrl(x.urlAfterRedirects),x.targetSnapshot);i.next(L)}));if(b&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:L,extractedUrl:B,source:H,restoredState:ee,extras:ve}=f,Ge=new ov(L,this.serializeUrl(B),H,ee);i.next(Ge);const et=Og(B,this.rootComponentType).snapshot;return nt(r={...f,targetSnapshot:et,urlAfterRedirects:B,extras:{...ve,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=f.rawUrl,f.resolve(null),ga.E}),(0,Ei.b)(f=>{const _=new GD(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot);this.triggerEvent(_)}),(0,it.U)(f=>r={...f,guards:Fg(f.targetSnapshot,f.currentSnapshot,this.rootContexts)}),function ek(n,e){return(0,lr.z)(t=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:a,canDeactivateChecks:c}}=t;return 0===c.length&&0===a.length?nt({...t,guardsResult:!0}):function tk(n,e,t,i){return(0,un.D)(n).pipe((0,lr.z)(r=>function ak(n,e,t,i,r){const a=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return a&&0!==a.length?nt(a.map(f=>{const _=yh(e)??r,b=Ec(f,_);return ya(function rT(n){return n&&mp(n.canDeactivate)}(b)?b.canDeactivate(n,e,t,i):_.runInContext(()=>b(n,e,t,i))).pipe(Ao())})).pipe(gp()):nt(!0)}(r.component,r.route,t,e,i)),Ao(r=>!0!==r,!0))}(c,i,r,n).pipe((0,lr.z)(f=>f&&function nT(n){return"boolean"==typeof n}(f)?function nk(n,e,t,i){return(0,un.D)(e).pipe(vc(r=>ep(function rk(n,e){return null!==n&&e&&e(new qD(n)),nt(!0)}(r.route.parent,i),function ik(n,e){return null!==n&&e&&e(new WD(n)),nt(!0)}(r.route,i),function ok(n,e,t){const i=e[e.length-1],a=e.slice(0,e.length-1).reverse().map(c=>function Lg(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(c)).filter(c=>null!==c).map(c=>lw(()=>nt(c.guards.map(_=>{const b=yh(c.node)??t,I=Ec(_,b);return ya(function XA(n){return n&&mp(n.canActivateChild)}(I)?I.canActivateChild(i,n):b.runInContext(()=>I(i,n))).pipe(Ao())})).pipe(gp())));return nt(a).pipe(gp())}(n,r.path,t),function sk(n,e,t){const i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||0===i.length)return nt(!0);const r=i.map(a=>lw(()=>{const c=yh(e)??t,f=Ec(a,c);return ya(function Uw(n){return n&&mp(n.canActivate)}(f)?f.canActivate(e,n):c.runInContext(()=>f(e,n))).pipe(Ao())}));return nt(r).pipe(gp())}(n,r.route,t))),Ao(r=>!0!==r,!0))}(i,a,n,e):nt(f)),(0,it.U)(f=>({...t,guardsResult:f})))})}(this.ngModule.injector,f=>this.triggerEvent(f)),(0,Ei.b)(f=>{if(r.guardsResult=f.guardsResult,va(f.guardsResult))throw Ow(0,f.guardsResult);const _=new Ft(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot,!!f.guardsResult);this.triggerEvent(_)}),En(f=>!!f.guardsResult||(this.restoreHistory(f),this.cancelNavigationTransition(f,"",3),!1)),Mv(f=>{if(f.guards.canActivateChecks.length)return nt(f).pipe((0,Ei.b)(_=>{const b=new Ew(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot);this.triggerEvent(b)}),$i(_=>{let b=!1;return nt(_).pipe(function uk(n,e){return(0,lr.z)(t=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=t;if(!r.length)return nt(t);let a=0;return(0,un.D)(r).pipe(vc(c=>function hT(n,e,t,i){const r=n.routeConfig,a=n._resolve;return void 0!==r?.title&&!Zw(r)&&(a[np]=r.title),function xv(n,e,t,i){const r=function Ww(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===r.length)return nt({});const a={};return(0,un.D)(r).pipe((0,lr.z)(c=>function fT(n,e,t,i){const r=yh(e)??i,a=Ec(n,r);return ya(a.resolve?a.resolve(e,t):r.runInContext(()=>a(e,t)))}(n[c],e,t,i).pipe(Ao(),(0,Ei.b)(f=>{a[c]=f}))),jy(1),Gy(a),_a(c=>mv(c)?ga.E:lh(c)))}(a,n,e,i).pipe((0,it.U)(c=>(n._resolvedData=c,n.data=QD(n,t).resolve,r&&Zw(r)&&(n.data[np]=r.title),null)))}(c.route,i,n,e)),(0,Ei.b)(()=>a++),jy(1),(0,lr.z)(c=>a===r.length?nt(t):ga.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Ei.b)({next:()=>b=!0,complete:()=>{b||(this.restoreHistory(_),this.cancelNavigationTransition(_,"",2))}}))}),(0,Ei.b)(_=>{const b=new Iw(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot);this.triggerEvent(b)}))}),Mv(f=>{const _=b=>{const I=[];b.routeConfig?.loadComponent&&!b.routeConfig._loadedComponent&&I.push(this.configLoader.loadComponent(b.routeConfig).pipe((0,Ei.b)(x=>{b.component=x}),(0,it.U)(()=>{})));for(const x of b.children)I.push(..._(x));return I};return Qf(_(f.targetSnapshot.root)).pipe(ch(),to(1))}),Mv(()=>this.afterPreactivation()),(0,it.U)(f=>{const _=function kw(n,e,t){const i=Cc(n,e._root,t?t._root:void 0);return new Rg(i,e)}(this.routeReuseStrategy,f.targetSnapshot,f.currentRouterState);return r={...f,targetRouterState:_}}),(0,Ei.b)(f=>{this.currentUrlTree=f.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(f.urlAfterRedirects,f.rawUrl),this.routerState=f.targetRouterState,"deferred"===this.urlUpdateStrategy&&(f.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,f),this.browserUrlTree=f.urlAfterRedirects)}),((n,e,t)=>(0,it.U)(i=>(new YA(e,i.targetRouterState,i.currentRouterState,t).activate(n),i)))(this.rootContexts,this.routeReuseStrategy,f=>this.triggerEvent(f)),(0,Ei.b)({next(){a=!0},complete(){a=!0}}),wg(()=>{a||c||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),_a(f=>{if(c=!0,Fw(f)){Nw(f)||(this.navigated=!0,this.restoreHistory(r,!0));const _=new ap(r.id,this.serializeUrl(r.extractedUrl),f.message,f.cancellationCode);if(i.next(_),Nw(f)){const b=this.urlHandlingStrategy.merge(f.url,this.rawUrlTree),I={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Jw(r.source)};this.scheduleNavigation(b,"imperative",null,I,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{this.restoreHistory(r,!0);const _=new Cw(r.id,this.serializeUrl(r.extractedUrl),f,r.targetSnapshot??void 0);i.next(_);try{r.resolve(this.errorHandler(f))}catch(b){r.reject(b)}}return ga.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next({...this.transitions.value,...t})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const i="popstate"===t.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{const r={replaceUrl:!0},a=t.state?.navigationId?t.state:null;if(a){const f={...a};delete f.navigationId,delete f.\u0275routerPageId,0!==Object.keys(f).length&&(r.state=f)}const c=this.parseUrl(t.url);this.scheduleNavigation(c,i,a,r)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){this.config=t.map(fp),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,i={}){const{relativeTo:r,queryParams:a,fragment:c,queryParamsHandling:f,preserveFragment:_}=i,b=r||this.routerState.root,I=_?this.currentUrlTree.fragment:c;let x=null;switch(f){case"merge":x={...this.currentUrlTree.queryParams,...a};break;case"preserve":x=this.currentUrlTree.queryParams;break;default:x=a||null}return null!==x&&(x=this.removeEmptyProps(x)),nv(b,this.currentUrlTree,t,x,I??null)}navigateByUrl(t,i={skipLocationChange:!1}){const r=va(t)?t:this.parseUrl(t),a=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(a,"imperative",null,i)}navigate(t,i={skipLocationChange:!1}){return function Ov(n){for(let e=0;e<n.length;e++){if(null==n[e])throw new u.vHH(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let i;try{i=this.urlSerializer.parse(t)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,t)}return i}isActive(t,i){let r;if(r=!0===i?{...bT}:!1===i?{...Rv}:i,va(t))return uw(this.currentUrlTree,t,r);const a=this.parseUrl(t);return uw(this.currentUrlTree,a,r)}removeEmptyProps(t){return Object.keys(t).reduce((i,r)=>{const a=t[r];return null!=a&&(i[r]=a),i},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new qu(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,i,r,a,c){if(this.disposed)return Promise.resolve(!1);let f,_,b;c?(f=c.resolve,_=c.reject,b=c.promise):b=new Promise((L,B)=>{f=L,_=B});const I=++this.navigationId;let x;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(r=this.location.getState()),x=r&&r.\u0275routerPageId?r.\u0275routerPageId:a.replaceUrl||a.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):x=0,this.setTransition({id:I,targetPageId:x,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:a,resolve:f,reject:_,promise:b,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),b.catch(L=>Promise.reject(L))}setBrowserUrl(t,i){const r=this.urlSerializer.serialize(t),a={...i.extras.state,...this.generateNgRouterState(i.id,i.targetPageId)};this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl?this.location.replaceState(r,"",a):this.location.go(r,"",a)}restoreHistory(t,i=!1){if("computed"===this.canceledNavigationResolution){const r=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===r?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===r&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(r)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,i,r){const a=new ap(t.id,this.serializeUrl(t.extractedUrl),i,r);this.triggerEvent(a),t.resolve(!1)}generateNgRouterState(t,i){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}}return n.\u0275fac=function(t){u.$Z()},n.\u0275prov=u.Yz7({token:n,factory:function(){return Xw()},providedIn:"root"}),n})();function Jw(n){return"imperative"!==n}let Ku=(()=>{class n{constructor(t,i,r,a,c){this.router=t,this.route=i,this.tabIndexAttribute=r,this.renderer=a,this.el=c,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.onChanges=new Nt.x,this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(t){this._preserveFragment=(0,u.D6c)(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=(0,u.D6c)(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=(0,u.D6c)(t)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(t){if(null!=this.tabIndexAttribute)return;const i=this.renderer,r=this.el.nativeElement;null!==t?i.setAttribute(r,"tabindex",t):i.removeAttribute(r,"tabindex")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){return null===this.urlTree||this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(yi),u.Y36(Wu),u.$8M("tabindex"),u.Y36(u.Qsj),u.Y36(u.SBq))},n.\u0275dir=u.lG2({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,i){1&t&&u.NdJ("click",function(){return i.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[u.TTD]}),n})(),Gg=(()=>{class n{constructor(t,i,r){this.router=t,this.route=i,this.locationStrategy=r,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.href=null,this.onChanges=new Nt.x,this.subscription=t.events.subscribe(a=>{a instanceof qu&&this.updateTargetUrlAndHref()})}set preserveFragment(t){this._preserveFragment=(0,u.D6c)(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=(0,u.D6c)(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=(0,u.D6c)(t)}get replaceUrl(){return this._replaceUrl}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:null}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,i,r,a,c){return!!(0!==t||i||r||a||c||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!1)}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(yi),u.Y36(Wu),u.Y36(ye))},n.\u0275dir=u.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,i){1&t&&u.NdJ("click",function(a){return i.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),2&t&&u.uIk("target",i.target)("href",i.href,u.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[u.TTD]}),n})(),CT=(()=>{class n{constructor(t,i,r,a,c,f){this.router=t,this.element=i,this.renderer=r,this.cdr=a,this.link=c,this.linkWithHref=f,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new u.vpe,this.routerEventsSubscription=t.events.subscribe(_=>{_ instanceof qu&&this.update()})}ngAfterContentInit(){nt(this.links.changes,this.linksWithHrefs.changes,nt(null)).pipe((0,Jf.J)()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const t=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(i=>!!i).map(i=>i.onChanges);this.linkInputChangesSubscription=(0,un.D)(t).pipe((0,Jf.J)()).subscribe(i=>{this.isActive!==this.isLinkActive(this.router)(i)&&this.update()})}set routerLinkActive(t){const i=Array.isArray(t)?t:t.split(" ");this.classes=i.filter(r=>!!r)}ngOnChanges(t){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const t=this.hasActiveLinks();this.isActive!==t&&(this.isActive=t,this.cdr.markForCheck(),this.classes.forEach(i=>{t?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}),t&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(t))})}isLinkActive(t){const i=function hk(n){return!!n.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return r=>!!r.urlTree&&t.isActive(r.urlTree,i)}hasActiveLinks(){const t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.linkWithHref&&t(this.linkWithHref)||this.links.some(t)||this.linksWithHrefs.some(t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(yi),u.Y36(u.SBq),u.Y36(u.Qsj),u.Y36(u.sBO),u.Y36(Ku,8),u.Y36(Gg,8))},n.\u0275dir=u.lG2({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(t,i,r){if(1&t&&(u.Suo(r,Ku,5),u.Suo(r,Gg,5)),2&t){let a;u.iGM(a=u.CRH())&&(i.links=a),u.iGM(a=u.CRH())&&(i.linksWithHrefs=a)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[u.TTD]}),n})();class zg{}let eC=(()=>{class n{constructor(t,i,r,a,c){this.router=t,this.injector=r,this.preloadingStrategy=a,this.loader=c}setUpPreloading(){this.subscription=this.router.events.pipe(En(t=>t instanceof qu),vc(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,i){const r=[];for(const a of i){a.providers&&!a._injector&&(a._injector=(0,u.MMx)(a.providers,t,`Route: ${a.path}`));const c=a._injector??t,f=a._loadedInjector??c;a.loadChildren&&!a._loadedRoutes&&void 0===a.canLoad||a.loadComponent&&!a._loadedComponent?r.push(this.preloadConfig(c,a)):(a.children||a._loadedRoutes)&&r.push(this.processRoutes(f,a.children??a._loadedRoutes))}return(0,un.D)(r).pipe((0,Jf.J)())}preloadConfig(t,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(t,i):nt(null);const a=r.pipe((0,lr.z)(c=>null===c?nt(void 0):(i._loadedRoutes=c.routes,i._loadedInjector=c.injector,this.processRoutes(c.injector??t,c.routes))));if(i.loadComponent&&!i._loadedComponent){const c=this.loader.loadComponent(i);return(0,un.D)([a,c]).pipe((0,Jf.J)())}return a})}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(yi),u.LFG(u.Sil),u.LFG(u.lqb),u.LFG(zg),u.LFG(kv))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const qg=new u.OlP("");let Pv=(()=>{class n{constructor(t,i,r={}){this.router=t,this.viewportScroller=i,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof ov?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof qu&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof xw&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,i){this.router.triggerEvent(new xw(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){u.$Z()},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();function wl(n,e){return{\u0275kind:n,\u0275providers:e}}function Yu(n){return[{provide:Cp,multi:!0,useValue:n}]}function Wg(){const n=(0,u.f3M)(u.zs3);return e=>{const t=n.get(u.z2F);if(e!==t.components[0])return;const i=n.get(yi),r=n.get(Nv);1===n.get(Fv)&&i.initialNavigation(),n.get(TT,null,u.XFs.Optional)?.setUpPreloading(),n.get(qg,null,u.XFs.Optional)?.init(),i.resetRootComponentType(t.componentTypes[0]),r.next(),r.complete()}}const Nv=new u.OlP("",{factory:()=>new Nt.x}),Fv=new u.OlP("",{providedIn:"root",factory:()=>1});const TT=new u.OlP("");function ST(n){return wl(0,[{provide:TT,useExisting:eC},{provide:zg,useExisting:n}])}const tC=new u.OlP("ROUTER_FORROOT_GUARD"),xT=[Me,{provide:dw,useClass:Yy},{provide:yi,useFactory:Xw},lp,{provide:Wu,useFactory:function Ip(n){return n.routerState.root},deps:[yi]},kv];function nC(){return new u.PXZ("Router",yi)}let Kg=(()=>{class n{constructor(t){}static forRoot(t,i){return{ngModule:n,providers:[xT,[],Yu(t),{provide:tC,useFactory:kT,deps:[[yi,new u.FiY,new u.tp0]]},{provide:$g,useValue:i||{}},i?.useHash?{provide:ye,useClass:st}:{provide:ye,useClass:Qe},{provide:qg,useFactory:()=>{const n=(0,u.f3M)(yi),e=(0,u.f3M)(Ll),t=(0,u.f3M)($g);return t.scrollOffset&&e.setOffset(t.scrollOffset),new Pv(n,e,t)}},i?.preloadingStrategy?ST(i.preloadingStrategy).\u0275providers:[],{provide:u.PXZ,multi:!0,useFactory:nC},i?.initialNavigation?RT(i):[],[{provide:iC,useFactory:Wg},{provide:u.tb,multi:!0,useExisting:iC}]]}}static forChild(t){return{ngModule:n,providers:[Yu(t)]}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(tC,8))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[dp]}),n})();function kT(n){return"guarded"}function RT(n){return["disabled"===n.initialNavigation?wl(3,[{provide:u.ip1,multi:!0,useFactory:()=>{const e=(0,u.f3M)(yi);return()=>{e.setUpLocationChangeListener()}}},{provide:Fv,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?wl(2,[{provide:Fv,useValue:0},{provide:u.ip1,multi:!0,deps:[u.zs3],useFactory:e=>{const t=e.get($,Promise.resolve());let i=!1;return()=>t.then(()=>new Promise(a=>{const c=e.get(yi),f=e.get(Nv);(function r(a){e.get(yi).events.pipe(En(f=>f instanceof qu||f instanceof ap||f instanceof Cw),(0,it.U)(f=>f instanceof qu||f instanceof ap&&(0===f.code||1===f.code)&&null),En(f=>null!==f),to(1)).subscribe(()=>{a()})})(()=>{a(!0),i=!0}),c.afterPreactivation=()=>(a(!0),i||f.closed?nt(void 0):f),c.initialNavigation()}))}}]).\u0275providers:[]]}const iC=new u.OlP(""),Yg=function(n,e,t){return{background:n,color:e,"border-color":t}},Qu=["*"];let gk=(()=>{class n{constructor(){this.themes=[],this.themes.push({background:"BlanchedAlmond",color:"black"}),this.themes.push({background:"Aqua",color:"black"}),this.themes.push({background:"HoneyDew",color:"black"}),this.themes.push({background:"Ivory",color:"black"}),this.themes.push({background:"LightBlue",color:"black"}),this.themes.push({background:"LightGreen",color:"black"}),this.themes.push({background:"LightSeaGreen",color:"white"}),this.themes.push({background:"SteelBlue",color:"white"}),this.themes.push({background:"Tomato",color:"white"}),this.themes.push({background:"SeaGreen",color:"white"}),this.themes.push({background:"MediumVioletRed",color:"white"}),this.themes.push({background:"SlateGrey",color:"white"});let t=this.themes[Math.floor(Math.random()*this.themes.length)];null==this.background&&(this.background=t.background),null==this.color&&(this.color=t.color)}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-card"]],inputs:{background:"background",color:"color"},ngContentSelectors:Qu,decls:2,vars:5,consts:[[1,"custom-card",3,"ngStyle"]],template:function(t,i){1&t&&(u.F$t(),u.TgZ(0,"div",0),u.Hsn(1),u.qZA()),2&t&&u.Q6J("ngStyle",u.kEZ(1,Yg,i.background,i.color,i.color))},dependencies:[Td],styles:[".custom-card[_ngcontent-%COMP%]{border-radius:10px;display:inline-block;position:relative;padding:10px;width:100%}.custom-card[_ngcontent-%COMP%]{box-shadow:0 1px 3px #fff,0 1px 2px #fff;transition:all .3s cubic-bezier(.25,.8,.25,1)}.custom-card[_ngcontent-%COMP%]:hover{box-shadow:0 10px 20px #fff,0 10px 10px #fff}"]}),n})(),Tp=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-home"]],decls:37,vars:0,consts:[[1,"container"],["color","black","background","transparent"],[1,"main","text-center"],[1,"top"],[1,"h2"],[1,"pointer",2,"color","brown"],[1,"bottom"],[1,"card"],[1,"card-body"],[1,"card-footer"],["routerLink","/register/company",1,"btn","btn-primary"],["routerLink","/register/consultant",1,"btn","btn-primary"],[1,"mt-3"],[1,"proceed-login"],["routerLink","/login",1,"pointer",2,"color","blue"],["routerLink","/workflow",1,"pointer",2,"color","blue"]],template:function(t,i){1&t&&(u.TgZ(0,"div",0)(1,"app-card",1)(2,"div",2)(3,"div",3)(4,"span",4),u._uU(5,"Complete Transfer Pricing Documentation "),u._UZ(6,"br"),u._uU(7,"online now using our new "),u._UZ(8,"br"),u.TgZ(9,"span",5)(10,"u"),u._uU(11,"Transfer Pricing Digital Solution"),u.qZA()()()(),u.TgZ(12,"div",6)(13,"div",7)(14,"div",8),u._uU(15,"Register your Company"),u.qZA(),u.TgZ(16,"div",9)(17,"button",10),u._uU(18,"Register >>"),u.qZA()()(),u.TgZ(19,"div",7)(20,"div",8),u._uU(21,"Signup as Consultant"),u.qZA(),u.TgZ(22,"div",9)(23,"button",11),u._uU(24,"Sign up >>"),u.qZA()()()(),u.TgZ(25,"div",12)(26,"div",13),u._uU(27," Already registered with us! "),u.TgZ(28,"span",14)(29,"u"),u._uU(30,"proceed to login"),u.qZA()()()(),u.TgZ(31,"div",12)(32,"div"),u._uU(33," Want to know more about our workflow "),u.TgZ(34,"span",15)(35,"u"),u._uU(36,"click here"),u.qZA()()()()()()())},dependencies:[Ku,gk],styles:["h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%]{color:#071f4d}h2[_ngcontent-%COMP%], .h2[_ngcontent-%COMP%]{font-size:30px}h1[_ngcontent-%COMP%], .h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], .h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], .h3[_ngcontent-%COMP%]{margin-top:20px;margin-bottom:10px}.main[_ngcontent-%COMP%]{background:ghostwhite;padding:20px;margin-top:5%}.main[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]{display:inline-block;max-width:700px}.main[_ngcontent-%COMP%]   .bottom[_ngcontent-%COMP%]{margin-top:20px;display:flex;align-items:center;justify-content:space-evenly;flex-direction:row}.main[_ngcontent-%COMP%]   .bottom[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{width:35%;height:150px}.main[_ngcontent-%COMP%]   .bottom[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{font-size:25px;line-height:1.2}.proceed-login[_ngcontent-%COMP%]{font-size:20px}"]}),n})();var Qg=P(4986),Cr=P(5813);function Sp(){return(0,ji.e)((n,e)=>{let t,i=!1;n.subscribe((0,Zn.x)(e,r=>{const a=t;t=r,i&&e.next([a,r]),i=!0}))})}function Xg(n,e=ju.y){return n=n??wa,(0,ji.e)((t,i)=>{let r,a=!0;t.subscribe((0,Zn.x)(i,c=>{const f=e(c);(a||!n(r,f))&&(a=!1,r=f,i.next(c))}))})}function wa(n,e){return n===e}var Ye,Lr=P(2011),Xu=(P(2274),P(3942)),be=P(5861),Gi=P(9681),Ch=P(4859),Ms=P(1877),Bt=P(2090),Eh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ts={},Tc=Tc||{},Tt=Eh||self;function Cl(){}function Sc(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Ih(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var Jg="closure_uid_"+(1e9*Math.random()>>>0),sC=0;function oC(n,e,t){return n.call.apply(n.bind,arguments)}function aC(n,e,t){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(e,r)}}return function(){return n.apply(e,arguments)}}function zi(n,e,t){return(zi=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?oC:aC).apply(null,arguments)}function xp(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var i=t.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function qi(n,e){function t(){}t.prototype=e.prototype,n.Z=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(i,r,a){for(var c=Array(arguments.length-2),f=2;f<arguments.length;f++)c[f-2]=arguments[f];return e.prototype[r].apply(i,c)}}function xc(){this.s=this.s,this.o=this.o}var lC={};xc.prototype.s=!1,xc.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function rC(n){return Object.prototype.hasOwnProperty.call(n,Jg)&&n[Jg]||(n[Jg]=++sC)}(this);delete lC[n]}},xc.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const cC=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1},Vv=Array.prototype.forEach?function(n,e,t){Array.prototype.forEach.call(n,e,t)}:function(n,e,t){const i=n.length,r="string"==typeof n?n.split(""):n;for(let a=0;a<i;a++)a in r&&e.call(t,r[a],a,n)};function e_(n){return Array.prototype.concat.apply([],arguments)}function Uv(n){const e=n.length;if(0<e){const t=Array(e);for(let i=0;i<e;i++)t[i]=n[i];return t}return[]}function Ju(n){return/^[\s\xa0]*$/.test(n)}var Wi,Mp=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function ur(n,e){return-1!=n.indexOf(e)}function Hv(n,e){return n<e?-1:n>e?1:0}e:{var Ap=Tt.navigator;if(Ap){var jv=Ap.userAgent;if(jv){Wi=jv;break e}}Wi=""}function t_(n,e,t){for(const i in n)e.call(t,n[i],i,n)}function n_(n){const e={};for(const t in n)e[t]=n[t];return e}var $v="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Gv(n,e){let t,i;for(let r=1;r<arguments.length;r++){for(t in i=arguments[r],i)n[t]=i[t];for(let a=0;a<$v.length;a++)t=$v[a],Object.prototype.hasOwnProperty.call(i,t)&&(n[t]=i[t])}}function kp(n){return kp[" "](n),n}kp[" "]=Cl;var Rp,n,NT=ur(Wi,"Opera"),ed=ur(Wi,"Trident")||ur(Wi,"MSIE"),qv=ur(Wi,"Edge"),i_=qv||ed,Wv=ur(Wi,"Gecko")&&!(ur(Wi.toLowerCase(),"webkit")&&!ur(Wi,"Edge"))&&!(ur(Wi,"Trident")||ur(Wi,"MSIE"))&&!ur(Wi,"Edge"),FT=ur(Wi.toLowerCase(),"webkit")&&!ur(Wi,"Edge");function Zv(){var n=Tt.document;return n?n.documentMode:void 0}e:{var r_="",Op=(n=Wi,Wv?/rv:([^\);]+)(\)|;)/.exec(n):qv?/Edge\/([\d\.]+)/.exec(n):ed?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):FT?/WebKit\/(\S+)/.exec(n):NT?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(Op&&(r_=Op?Op[1]:""),ed){var s_=Zv();if(null!=s_&&s_>parseFloat(r_)){Rp=String(s_);break e}}Rp=r_}var uC={};var hC=Tt.document&&ed&&(Zv()||parseInt(Rp,10))||void 0,fC=function(){if(!Tt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Tt.addEventListener("test",Cl,e),Tt.removeEventListener("test",Cl,e)}catch{}return n}();function dr(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}function a_(n,e){if(dr.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(Wv){e:{try{kp(e.nodeName);var r=!0;break e}catch{}r=!1}r||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:LT[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&a_.Z.h.call(this)}}dr.prototype.h=function(){this.defaultPrevented=!0},qi(a_,dr);var LT={2:"touch",3:"pen",4:"mouse"};a_.prototype.h=function(){a_.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Pp="closure_listenable_"+(1e6*Math.random()|0),pC=0;function VT(n,e,t,i,r){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!i,this.ia=r,this.key=++pC,this.ca=this.fa=!1}function si(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function Np(n){this.src=n,this.g={},this.h=0}function Yv(n,e){var t=e.type;if(t in n.g){var a,i=n.g[t],r=cC(i,e);(a=0<=r)&&Array.prototype.splice.call(i,r,1),a&&(si(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function Qv(n,e,t,i){for(var r=0;r<n.length;++r){var a=n[r];if(!a.ca&&a.listener==e&&a.capture==!!t&&a.ia==i)return r}return-1}Np.prototype.add=function(n,e,t,i,r){var a=n.toString();(n=this.g[a])||(n=this.g[a]=[],this.h++);var c=Qv(n,e,i,r);return-1<c?(e=n[c],t||(e.fa=!1)):((e=new VT(e,this.src,a,!!i,r)).fa=t,n.push(e)),e};var l_="closure_lm_"+(1e6*Math.random()|0),Xv={};function Jv(n,e,t,i,r){if(i&&i.once)return mC(n,e,t,i,r);if(Array.isArray(e)){for(var a=0;a<e.length;a++)Jv(n,e[a],t,i,r);return null}return t=Lp(t),n&&n[Pp]?n.N(e,t,Ih(i)?!!i.capture:!!i,r):eb(n,e,t,!1,i,r)}function eb(n,e,t,i,r,a){if(!e)throw Error("Invalid event type");var c=Ih(r)?!!r.capture:!!r,f=vC(n);if(f||(n[l_]=f=new Np(n)),(t=f.add(e,t,i,c,a)).proxy)return t;if(i=function Dh(){var e=yC;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=i,i.src=n,i.listener=t,n.addEventListener)fC||(r=c),void 0===r&&(r=!1),n.addEventListener(e.toString(),i,r);else if(n.attachEvent)n.attachEvent(_C(e.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return t}function mC(n,e,t,i,r){if(Array.isArray(e)){for(var a=0;a<e.length;a++)mC(n,e[a],t,i,r);return null}return t=Lp(t),n&&n[Pp]?n.O(e,t,Ih(i)?!!i.capture:!!i,r):eb(n,e,t,!0,i,r)}function gC(n,e,t,i,r){if(Array.isArray(e))for(var a=0;a<e.length;a++)gC(n,e[a],t,i,r);else i=Ih(i)?!!i.capture:!!i,t=Lp(t),n&&n[Pp]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=Qv(a=n.g[e],t,i,r))&&(si(a[t]),Array.prototype.splice.call(a,t,1),0==a.length&&(delete n.g[e],n.h--))):n&&(n=vC(n))&&(e=n.g[e.toString()],n=-1,e&&(n=Qv(e,t,i,r)),(t=-1<n?e[n]:null)&&c_(t))}function c_(n){if("number"!=typeof n&&n&&!n.ca){var e=n.src;if(e&&e[Pp])Yv(e.i,n);else{var t=n.type,i=n.proxy;e.removeEventListener?e.removeEventListener(t,i,n.capture):e.detachEvent?e.detachEvent(_C(t),i):e.addListener&&e.removeListener&&e.removeListener(i),(t=vC(e))?(Yv(t,n),0==t.h&&(t.src=null,e[l_]=null)):si(n)}}}function _C(n){return n in Xv?Xv[n]:Xv[n]="on"+n}function yC(n,e){if(n.ca)n=!0;else{e=new a_(e,this);var t=n.listener,i=n.ia||n.src;n.fa&&c_(n),n=t.call(i,e)}return n}function vC(n){return(n=n[l_])instanceof Np?n:null}var Fp="__closure_events_fn_"+(1e9*Math.random()>>>0);function Lp(n){return"function"==typeof n?n:(n[Fp]||(n[Fp]=function(e){return n.handleEvent(e)}),n[Fp])}function In(){xc.call(this),this.i=new Np(this),this.P=this,this.I=null}function hr(n,e){var t,i=n.I;if(i)for(t=[];i;i=i.I)t.push(i);if(n=n.P,i=e.type||e,"string"==typeof e)e=new dr(e,n);else if(e instanceof dr)e.target=e.target||n;else{var r=e;Gv(e=new dr(i,n),r)}if(r=!0,t)for(var a=t.length-1;0<=a;a--){var c=e.g=t[a];r=Vp(c,i,!0,e)&&r}if(r=Vp(c=e.g=n,i,!0,e)&&r,r=Vp(c,i,!1,e)&&r,t)for(a=0;a<t.length;a++)r=Vp(c=e.g=t[a],i,!1,e)&&r}function Vp(n,e,t,i){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var r=!0,a=0;a<e.length;++a){var c=e[a];if(c&&!c.ca&&c.capture==t){var f=c.listener,_=c.ia||c.src;c.fa&&Yv(n.i,c),r=!1!==f.call(_,i)&&r}}return r&&!i.defaultPrevented}qi(In,xc),In.prototype[Pp]=!0,In.prototype.removeEventListener=function(n,e,t,i){gC(this,n,e,t,i)},In.prototype.M=function(){if(In.Z.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],i=0;i<t.length;i++)si(t[i]);delete n.g[e],n.h--}}this.I=null},In.prototype.N=function(n,e,t,i){return this.i.add(String(n),e,!1,t,i)},In.prototype.O=function(n,e,t,i){return this.i.add(String(n),e,!0,t,i)};var no=Tt.JSON.stringify;function Oo(){var n=Th;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var ib,tb=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new bC,n=>n.reset());class bC{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function BT(n){Tt.setTimeout(()=>{throw n},0)}function nb(n,e){ib||function UT(){var n=Tt.Promise.resolve(void 0);ib=function(){n.then(HT)}}(),Bp||(ib(),Bp=!0),Th.add(n,e)}var Bp=!1,Th=new class Po{constructor(){this.h=this.g=null}add(e,t){const i=tb.get();i.set(e,t),this.h?this.h.next=i:this.g=i,this.h=i}};function HT(){for(var n;n=Oo();){try{n.h.call(n.g)}catch(t){BT(t)}var e=tb;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Bp=!1}function Up(n,e){In.call(this),this.h=n||1,this.g=e||Tt,this.j=zi(this.kb,this),this.l=Date.now()}function rb(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function u_(n,e,t){if("function"==typeof n)t&&(n=zi(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=zi(n.handleEvent,n)}return 2147483647<Number(e)?-1:Tt.setTimeout(n,e||0)}function sb(n){n.g=u_(()=>{n.g=null,n.i&&(n.i=!1,sb(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}qi(Up,In),(Ye=Up.prototype).da=!1,Ye.S=null,Ye.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),hr(this,"tick"),this.da&&(rb(this),this.start()))}},Ye.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Ye.M=function(){Up.Z.M.call(this),rb(this),delete this.g};class d_ extends xc{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:sb(this)}M(){super.M(),this.g&&(Tt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Hp(n){xc.call(this),this.h=n,this.g={}}qi(Hp,xc);var ob=[];function ab(n,e,t,i){Array.isArray(t)||(t&&(ob[0]=t.toString()),t=ob);for(var r=0;r<t.length;r++){var a=Jv(e,t[r],i||n.handleEvent,!1,n.h||n);if(!a)break;n.g[a.key]=a}}function h_(n){t_(n.g,function(e,t){this.g.hasOwnProperty(t)&&c_(e)},n),n.g={}}function td(){this.g=!0}function nd(n,e,t,i){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function IC(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var i=t[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var a=r[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var c=1;c<r.length;c++)r[c]=""}}}return no(t)}catch{return e}}(n,t)+(i?" "+i:"")})}Hp.prototype.M=function(){Hp.Z.M.call(this),h_(this)},Hp.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},td.prototype.Aa=function(){this.g=!1},td.prototype.info=function(){};var Mc={},lb=null;function jp(){return lb=lb||new In}function DC(n){dr.call(this,Mc.Ma,n)}function $p(n){const e=jp();hr(e,new DC(e,n))}function TC(n,e){dr.call(this,Mc.STAT_EVENT,n),this.stat=e}function Br(n){const e=jp();hr(e,new TC(e,n))}function SC(n,e){dr.call(this,Mc.Na,n),this.size=e}function Gp(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Tt.setTimeout(function(){n()},e)}Mc.Ma="serverreachability",qi(DC,dr),Mc.STAT_EVENT="statevent",qi(TC,dr),Mc.Na="timingevent",qi(SC,dr);var f_={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},xC={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function cb(){}function AC(){}cb.prototype.h=null;var hb,zp={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function ub(){dr.call(this,"d")}function db(){dr.call(this,"c")}function p_(){}function qp(n,e,t,i){this.l=n,this.j=e,this.m=t,this.X=i||1,this.V=new Hp(this),this.P=RC,this.W=new Up(n=i_?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new kC}function kC(){this.i=null,this.g="",this.h=!1}qi(ub,dr),qi(db,dr),qi(p_,cb),p_.prototype.g=function(){return new XMLHttpRequest},p_.prototype.i=function(){return{}},hb=new p_;var RC=45e3,m_={},Wp={};function g_(n,e,t){n.K=1,n.v=rd(El(e)),n.s=t,n.U=!0,fb(n,null)}function fb(n,e){n.F=Date.now(),Sh(n),n.A=El(n.v);var t=n.A,i=n.X;Array.isArray(i)||(i=[String(i)]),HC(t.h,"t",i),n.C=0,t=n.l.H,n.h=new kC,n.g=dE(n.l,t?e:null,!n.s),0<n.O&&(n.L=new d_(zi(n.Ia,n,n.g),n.O)),ab(n.V,n.g,"readystatechange",n.gb),e=n.H?n_(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,e)):(n.u="GET",n.g.ea(n.A,n.u,null,e)),$p(1),function wC(n,e,t,i,r,a){n.info(function(){if(n.g)if(a)for(var c="",f=a.split("&"),_=0;_<f.length;_++){var b=f[_].split("=");if(1<b.length){var I=b[0];b=b[1];var x=I.split("_");c=2<=x.length&&"type"==x[1]?c+(I+"=")+b+"&":c+(I+"=redacted&")}}else c=null;else c=a;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+e+"\n"+t+"\n"+c})}(n.j,n.u,n.A,n.m,n.X,n.s)}function pb(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function mb(n,e,t){let r,i=!0;for(;!n.I&&n.C<t.length;){if(r=OC(n,t),r==Wp){4==e&&(n.o=4,Br(14),i=!1),nd(n.j,n.m,null,"[Incomplete Response]");break}if(r==m_){n.o=4,Br(15),nd(n.j,n.m,t,"[Invalid Chunk]"),i=!1;break}nd(n.j,n.m,r,null),_b(n,r)}pb(n)&&r!=Wp&&r!=m_&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Br(16),i=!1),n.i=n.i&&i,i?0<t.length&&!n.aa&&(n.aa=!0,(e=n.l).g==n&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),Xp(e),e.L=!0,Br(11))):(nd(n.j,n.m,t,"[Invalid Chunked Response]"),id(n),No(n))}function OC(n,e){var t=n.C,i=e.indexOf("\n",t);return-1==i?Wp:(t=Number(e.substring(t,i)),isNaN(t)?m_:(i+=1)+t>e.length?Wp:(e=e.substr(i,t),n.C=i+t,e))}function Sh(n){n.Y=Date.now()+n.P,gb(n,n.P)}function gb(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Gp(zi(n.eb,n),e)}function xh(n){n.B&&(Tt.clearTimeout(n.B),n.B=null)}function No(n){0==n.l.G||n.I||aE(n.l,n)}function id(n){xh(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,rb(n.W),h_(n.V),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function _b(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||sd(t.i,n)))if(t.I=n.N,!n.J&&sd(t.i,n)&&3==t.G){try{var i=t.Ca.g.parse(e)}catch{i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<n.F))break e;Jp(t),T_(t)}Sb(t),Br(18)}}else t.ta=r[1],0<t.ta-t.U&&37500>r[2]&&t.N&&0==t.A&&!t.v&&(t.v=Gp(zi(t.ab,t),6e3));if(1>=Ph(t.i)&&t.ka){try{t.ka()}catch{}t.ka=void 0}}else od(t,11)}else if((n.J||t.g==n)&&Jp(t),!Ju(e))for(r=t.Ca.g.parse(e),e=0;e<r.length;e++){let b=r[e];if(t.U=b[0],b=b[1],2==t.G)if("c"==b[0]){t.J=b[1],t.la=b[2];const I=b[3];null!=I&&(t.ma=I,t.h.info("VER="+t.ma));const x=b[4];null!=x&&(t.za=x,t.h.info("SVER="+t.za));const L=b[5];null!=L&&"number"==typeof L&&0<L&&(t.K=i=1.5*L,t.h.info("backChannelRequestTimeoutMs_="+i)),i=t;const B=n.g;if(B){const H=B.g?B.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(H){var a=i.i;!a.g&&(ur(H,"spdy")||ur(H,"quic")||ur(H,"h2"))&&(a.j=a.l,a.g=new Set,a.h&&(wb(a,a.h),a.h=null))}if(i.D){const ee=B.g?B.g.getResponseHeader("X-HTTP-Session-Id"):null;ee&&(i.sa=ee,Dn(i.F,i.D,ee))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-n.F,t.h.info("Handshake RTT: "+t.O+"ms"));var c=n;if((i=t).oa=uE(i,i.H?i.la:null,i.W),c.J){zC(i.i,c);var f=c,_=i.K;_&&f.setTimeout(_),f.B&&(xh(f),Sh(f)),i.g=c}else sE(i);0<t.l.length&&Lh(t)}else"stop"!=b[0]&&"close"!=b[0]||od(t,7);else 3==t.G&&("stop"==b[0]||"close"==b[0]?"stop"==b[0]?od(t,7):D_(t):"noop"!=b[0]&&t.j&&t.j.wa(b),t.A=0)}$p(4)}catch{}}function PC(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(Sc(n)||"string"==typeof n)Vv(n,e,void 0);else{if(n.T&&"function"==typeof n.T)var t=n.T();else if(n.R&&"function"==typeof n.R)t=void 0;else if(Sc(n)||"string"==typeof n){t=[];for(var i=n.length,r=0;r<i;r++)t.push(r)}else for(r in t=[],i=0,n)t[i++]=r;i=function Mh(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(Sc(n)){for(var e=[],t=n.length,i=0;i<t;i++)e.push(n[i]);return e}for(i in e=[],t=0,n)e[t++]=n[i];return e}(n),r=i.length;for(var a=0;a<r;a++)e.call(void 0,i[a],t&&t[a],n)}}function Ac(n,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var i=0;i<t;i+=2)this.set(arguments[i],arguments[i+1])}else if(n)if(n instanceof Ac)for(t=n.T(),i=0;i<t.length;i++)this.set(t[i],n.get(t[i]));else for(i in n)this.set(i,n[i])}function NC(n){if(n.i!=n.g.length){for(var e=0,t=0;e<n.g.length;){var i=n.g[e];kc(n.h,i)&&(n.g[t++]=i),e++}n.g.length=t}if(n.i!=n.g.length){var r={};for(t=e=0;e<n.g.length;)kc(r,i=n.g[e])||(n.g[t++]=i,r[i]=1),e++;n.g.length=t}}function kc(n,e){return Object.prototype.hasOwnProperty.call(n,e)}(Ye=qp.prototype).setTimeout=function(n){this.P=n},Ye.gb=function(n){n=n.target;const e=this.L;e&&3==Dl(n)?e.l():this.Ia(n)},Ye.Ia=function(n){try{if(n==this.g)e:{const I=Dl(this.g);var e=this.g.Da();const x=this.g.ba();if(!(3>I)&&(3!=I||i_||this.g&&(this.h.h||this.g.ga()||nE(this.g)))){this.I||4!=I||7==e||$p(8==e||0>=x?3:2),xh(this);var t=this.g.ba();this.N=t;t:if(pb(this)){var i=nE(this.g);n="";var r=i.length,a=4==Dl(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){id(this),No(this);var c="";break t}this.h.i=new Tt.TextDecoder}for(e=0;e<r;e++)this.h.h=!0,n+=this.h.i.decode(i[e],{stream:a&&e==r-1});i.splice(0,r),this.h.g+=n,this.C=0,c=this.h.g}else c=this.g.ga();if(this.i=200==t,function CC(n,e,t,i,r,a,c){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+e+"\n"+t+"\n"+a+" "+c})}(this.j,this.u,this.A,this.m,this.X,I,t),this.i){if(this.$&&!this.J){t:{if(this.g){var f,_=this.g;if((f=_.g?_.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ju(f)){var b=f;break t}}b=null}if(!(t=b)){this.i=!1,this.o=3,Br(12),id(this),No(this);break e}nd(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,_b(this,t)}this.U?(mb(this,I,c),i_&&this.i&&3==I&&(ab(this.V,this.W,"tick",this.fb),this.W.start())):(nd(this.j,this.m,c,null),_b(this,c)),4==I&&id(this),this.i&&!this.I&&(4==I?aE(this.l,this):(this.i=!1,Sh(this)))}else 400==t&&0<c.indexOf("Unknown SID")?(this.o=3,Br(12)):(this.o=0,Br(13)),id(this),No(this)}}}catch{}},Ye.fb=function(){if(this.g){var n=Dl(this.g),e=this.g.ga();this.C<e.length&&(xh(this),mb(this,n,e),this.i&&4!=n&&Sh(this))}},Ye.cancel=function(){this.I=!0,id(this)},Ye.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function EC(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&($p(3),Br(17)),id(this),this.o=2,No(this)):gb(this,this.Y-n)},(Ye=Ac.prototype).R=function(){NC(this);for(var n=[],e=0;e<this.g.length;e++)n.push(this.h[this.g[e]]);return n},Ye.T=function(){return NC(this),this.g.concat()},Ye.get=function(n,e){return kc(this.h,n)?this.h[n]:e},Ye.set=function(n,e){kc(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=e},Ye.forEach=function(n,e){for(var t=this.T(),i=0;i<t.length;i++){var r=t[i],a=this.get(r);n.call(e,a,r,this)}};var yb=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function mt(n,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof mt){this.g=void 0!==e?e:n.g,__(this,n.j),this.s=n.s,y_(this,n.i),Il(this,n.m),this.l=n.l,e=n.h;var t=new Zp;t.i=e.i,e.g&&(t.g=new Ac(e.g),t.h=e.h),FC(this,t),this.o=n.o}else n&&(t=String(n).match(yb))?(this.g=!!e,__(this,t[1]||"",!0),this.s=Ah(t[2]||""),y_(this,t[3]||"",!0),Il(this,t[4]),this.l=Ah(t[5]||"",!0),FC(this,t[6]||"",!0),this.o=Ah(t[7]||"")):(this.g=!!e,this.h=new Zp(null,this.g))}function El(n){return new mt(n)}function __(n,e,t){n.j=t?Ah(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function y_(n,e,t){n.i=t?Ah(e,!0):e}function Il(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function FC(n,e,t){e instanceof Zp?(n.h=e,function v_(n,e){e&&!n.j&&(Rc(n),n.i=null,n.g.forEach(function(t,i){var r=i.toLowerCase();i!=r&&(Rh(this,i),HC(this,r,t))},n)),n.j=e}(n.h,n.g)):(t||(e=kh(e,BC)),n.h=new Zp(e,n.g))}function Dn(n,e,t){n.h.set(e,t)}function rd(n){return Dn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Ah(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function kh(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,jT),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function jT(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}mt.prototype.toString=function(){var n=[],e=this.j;e&&n.push(kh(e,vb,!0),":");var t=this.i;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(kh(e,vb,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&n.push("/"),n.push(kh(t,"/"==t.charAt(0)?VC:LC,!0))),(t=this.h.toString())&&n.push("?",t),(t=this.o)&&n.push("#",kh(t,$T)),n.join("")};var vb=/[#\/\?@]/g,LC=/[#\?:]/g,VC=/[#\?]/g,BC=/[#\?@]/g,$T=/#/g;function Zp(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Rc(n){n.g||(n.g=new Ac,n.h=0,n.i&&function _k(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var i=n[t].indexOf("="),r=null;if(0<=i){var a=n[t].substring(0,i);r=n[t].substring(i+1)}else a=n[t];e(a,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function Rh(n,e){Rc(n),e=Oh(n,e),kc(n.g.h,e)&&(n.i=null,n.h-=n.g.get(e).length,kc((n=n.g).h,e)&&(delete n.h[e],n.i--,n.g.length>2*n.i&&NC(n)))}function UC(n,e){return Rc(n),e=Oh(n,e),kc(n.g.h,e)}function HC(n,e,t){Rh(n,e),0<t.length&&(n.i=null,n.g.set(Oh(n,e),Uv(t)),n.h+=t.length)}function Oh(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function bb(n){this.l=n||$C,n=Tt.PerformanceNavigationTiming?0<(n=Tt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Tt.g&&Tt.g.Ea&&Tt.g.Ea()&&Tt.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Ye=Zp.prototype).add=function(n,e){Rc(this),this.i=null,n=Oh(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},Ye.forEach=function(n,e){Rc(this),this.g.forEach(function(t,i){Vv(t,function(r){n.call(e,r,i,this)},this)},this)},Ye.T=function(){Rc(this);for(var n=this.g.R(),e=this.g.T(),t=[],i=0;i<e.length;i++)for(var r=n[i],a=0;a<r.length;a++)t.push(e[i]);return t},Ye.R=function(n){Rc(this);var e=[];if("string"==typeof n)UC(this,n)&&(e=e_(e,this.g.get(Oh(this,n))));else{n=this.g.R();for(var t=0;t<n.length;t++)e=e_(e,n[t])}return e},Ye.set=function(n,e){return Rc(this),this.i=null,UC(this,n=Oh(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},Ye.get=function(n,e){return n&&0<(n=this.R(n)).length?String(n[0]):e},Ye.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],e=this.g.T(),t=0;t<e.length;t++){var i=e[t],r=encodeURIComponent(String(i));i=this.R(i);for(var a=0;a<i.length;a++){var c=r;""!==i[a]&&(c+="="+encodeURIComponent(String(i[a]))),n.push(c)}}return this.i=n.join("&")};var $C=10;function GC(n){return!!n.h||!!n.g&&n.g.size>=n.j}function Ph(n){return n.h?1:n.g?n.g.size:0}function sd(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function wb(n,e){n.g?n.g.add(e):n.h=e}function zC(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function qC(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return Uv(n.i)}function b_(){}function WC(){this.g=new b_}function ZC(n,e,t){const i=t||"";try{PC(n,function(r,a){let c=r;Ih(r)&&(c=no(r)),e.push(i+a+"="+encodeURIComponent(c))})}catch(r){throw e.push(i+"type="+encodeURIComponent("_badmap")),r}}function Kp(n,e,t,i,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(i)}catch{}}function Yp(n){this.l=n.$b||null,this.j=n.ib||!1}function w_(n,e){In.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=KC,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}bb.prototype.cancel=function(){if(this.i=qC(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},b_.prototype.stringify=function(n){return Tt.JSON.stringify(n,void 0)},b_.prototype.parse=function(n){return Tt.JSON.parse(n,void 0)},qi(Yp,cb),Yp.prototype.g=function(){return new w_(this.l,this.j)},Yp.prototype.i=function(n){return function(){return n}}({}),qi(w_,In);var KC=0;function zT(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function C_(n){n.readyState=4,n.l=null,n.j=null,n.A=null,E_(n)}function E_(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(Ye=w_.prototype).open=function(n,e){if(this.readyState!=KC)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,E_(this)},Ye.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||Tt).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},Ye.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,C_(this)),this.readyState=KC},Ye.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,E_(this)),this.g&&(this.readyState=3,E_(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(typeof Tt.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;zT(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},Ye.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?C_(this):E_(this),3==this.readyState&&zT(this)}},Ye.Ua=function(n){this.g&&(this.response=this.responseText=n,C_(this))},Ye.Ta=function(n){this.g&&(this.response=n,C_(this))},Ye.ha=function(){this.g&&C_(this)},Ye.setRequestHeader=function(n,e){this.v.append(n,e)},Ye.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},Ye.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(w_.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var YC=Tt.JSON.parse;function Qn(n){In.call(this),this.headers=new Ac,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=QC,this.K=this.L=!1}qi(Qn,In);var QC="",qT=/^https?$/i,XC=["POST","PUT"];function WT(n){return"content-type"==n.toLowerCase()}function JC(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,eE(n),I_(n)}function eE(n){n.D||(n.D=!0,hr(n,"complete"),hr(n,"error"))}function tE(n){if(n.h&&typeof Tc<"u"&&(!n.C[1]||4!=Dl(n)||2!=n.ba()))if(n.v&&4==Dl(n))u_(n.Fa,0,n);else if(hr(n,"readystatechange"),4==Dl(n)){n.h=!1;try{const f=n.ba();e:switch(f){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var i;if(i=0===f){var r=String(n.H).match(yb)[1]||null;if(!r&&Tt.self&&Tt.self.location){var a=Tt.self.location.protocol;r=a.substr(0,a.length-1)}i=!qT.test(r?r.toLowerCase():"")}t=i}if(t)hr(n,"complete"),hr(n,"success");else{n.m=6;try{var c=2<Dl(n)?n.g.statusText:""}catch{c=""}n.j=c+" ["+n.ba()+"]",eE(n)}}finally{I_(n)}}}function I_(n,e){if(n.g){Cb(n);const t=n.g,i=n.C[0]?Cl:null;n.g=null,n.C=null,e||hr(n,"ready");try{t.onreadystatechange=i}catch{}}}function Cb(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Tt.clearTimeout(n.A),n.A=null)}function Dl(n){return n.g?n.g.readyState:0}function nE(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case QC:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function Eb(n,e,t){e:{for(i in t){var i=!1;break e}i=!0}i||(t=function Nh(n){let e="";return t_(n,function(t,i){e+=i,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Dn(n,e,t))}function Fh(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function iE(n){this.za=0,this.l=[],this.h=new td,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Fh("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Fh("baseRetryDelayMs",5e3,n),this.$a=Fh("retryDelaySeedMs",1e4,n),this.Ya=Fh("forwardChannelMaxRetries",2,n),this.ra=Fh("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new bb(n&&n.concurrentRequestLimit),this.Ca=new WC,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function D_(n){if(Ib(n),3==n.G){var e=n.V++,t=El(n.F);Dn(t,"SID",n.J),Dn(t,"RID",e),Dn(t,"TYPE","terminate"),Vh(n,t),(e=new qp(n,n.h,e,void 0)).K=2,e.v=rd(El(t)),t=!1,Tt.navigator&&Tt.navigator.sendBeacon&&(t=Tt.navigator.sendBeacon(e.v.toString(),"")),!t&&Tt.Image&&((new Image).src=e.v,t=!0),t||(e.g=dE(e.l,null),e.g.ea(e.v)),e.F=Date.now(),Sh(e)}cE(n)}function T_(n){n.g&&(Xp(n),n.g.cancel(),n.g=null)}function Ib(n){T_(n),n.u&&(Tt.clearTimeout(n.u),n.u=null),Jp(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Tt.clearTimeout(n.m),n.m=null)}function Db(n,e){n.l.push(new class{constructor(n,e){this.h=n,this.g=e}}(n.Za++,e)),3==n.G&&Lh(n)}function Lh(n){GC(n.i)||n.m||(n.m=!0,nb(n.Ha,n),n.C=0)}function Tb(n,e){var t;t=e?e.m:n.V++;const i=El(n.F);Dn(i,"SID",n.J),Dn(i,"RID",t),Dn(i,"AID",n.U),Vh(n,i),n.o&&n.s&&Eb(i,n.o,n.s),t=new qp(n,n.h,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.l=e.D.concat(n.l)),e=rE(n,t,1e3),t.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),wb(n.i,t),g_(t,i,e)}function Vh(n,e){n.j&&PC({},function(t,i){Dn(e,i,t)})}function rE(n,e,t){t=Math.min(n.l.length,t);var i=n.j?zi(n.j.Oa,n.j,n):null;e:{var r=n.l;let a=-1;for(;;){const c=["count="+t];-1==a?0<t?(a=r[0].h,c.push("ofs="+a)):a=0:c.push("ofs="+a);let f=!0;for(let _=0;_<t;_++){let b=r[_].h;const I=r[_].g;if(b-=a,0>b)a=Math.max(0,r[_].h-100),f=!1;else try{ZC(I,c,"req"+b+"_")}catch{i&&i(I)}}if(f){i=c.join("&");break e}}}return n=n.l.splice(0,t),e.D=n,i}function sE(n){n.g||n.u||(n.Y=1,nb(n.Ga,n),n.A=0)}function Sb(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=Gp(zi(n.Ga,n),lE(n,n.A)),n.A++,0))}function Xp(n){null!=n.B&&(Tt.clearTimeout(n.B),n.B=null)}function oE(n){n.g=new qp(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var e=El(n.oa);Dn(e,"RID","rpc"),Dn(e,"SID",n.J),Dn(e,"CI",n.N?"0":"1"),Dn(e,"AID",n.U),Vh(n,e),Dn(e,"TYPE","xmlhttp"),n.o&&n.s&&Eb(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.la,t.K=1,t.v=rd(El(e)),t.s=null,t.U=!0,fb(t,n)}function Jp(n){null!=n.v&&(Tt.clearTimeout(n.v),n.v=null)}function aE(n,e){var t=null;if(n.g==e){Jp(n),Xp(n),n.g=null;var i=2}else{if(!sd(n.i,e))return;t=e.D,zC(n.i,e),i=1}if(n.I=e.N,0!=n.G)if(e.i)if(1==i){t=e.s?e.s.length:0,e=Date.now()-e.F;var r=n.C;hr(i=jp(),new SC(i,t,e,r)),Lh(n)}else sE(n);else if(3==(r=e.o)||0==r&&0<n.I||!(1==i&&function ZT(n,e){return!(Ph(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=e.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=Gp(zi(n.Ha,n,e),lE(n,n.C)),n.C++,0)))}(n,e)||2==i&&Sb(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),r){case 1:od(n,5);break;case 4:od(n,10);break;case 3:od(n,6);break;default:od(n,2)}}function lE(n,e){let t=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(t*=2),t*e}function od(n,e){if(n.h.info("Error code "+e),2==e){var t=null;n.j&&(t=null);var i=zi(n.jb,n);t||(t=new mt("//www.google.com/images/cleardot.gif"),Tt.location&&"http"==Tt.location.protocol||__(t,"https"),rd(t)),function GT(n,e){const t=new td;if(Tt.Image){const i=new Image;i.onload=xp(Kp,t,i,"TestLoadImage: loaded",!0,e),i.onerror=xp(Kp,t,i,"TestLoadImage: error",!1,e),i.onabort=xp(Kp,t,i,"TestLoadImage: abort",!1,e),i.ontimeout=xp(Kp,t,i,"TestLoadImage: timeout",!1,e),Tt.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else e(!1)}(t.toString(),i)}else Br(2);n.G=0,n.j&&n.j.va(e),cE(n),Ib(n)}function cE(n){n.G=0,n.I=-1,n.j&&((0!=qC(n.i).length||0!=n.l.length)&&(n.i.i.length=0,Uv(n.l),n.l.length=0),n.j.ua())}function uE(n,e,t){let i=function oi(n){return n instanceof mt?El(n):new mt(n,void 0)}(t);if(""!=i.i)e&&y_(i,e+"."+i.i),Il(i,i.m);else{const r=Tt.location;i=function yk(n,e,t,i){var r=new mt(null,void 0);return n&&__(r,n),e&&y_(r,e),t&&Il(r,t),i&&(r.l=i),r}(r.protocol,e?e+"."+r.hostname:r.hostname,+r.port,t)}return n.aa&&t_(n.aa,function(r,a){Dn(i,a,r)}),t=n.sa,(e=n.D)&&t&&Dn(i,e,t),Dn(i,"VER",n.ma),Vh(n,i),i}function dE(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Qn(t&&n.Ba&&!n.qa?new Yp({ib:!0}):n.qa)).L=n.H,e}function hE(){}function S_(){if(ed&&!(10<=Number(hC)))throw Error("Environmental error: no available transport.")}function ns(n,e){In.call(this),this.g=new iE(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.P=n,(n=e&&e.httpHeadersOverwriteParam)&&!Ju(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Ju(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Bh(this)}function xb(n){ub.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function fE(){db.call(this),this.status=1}function Bh(n){this.g=n}(Ye=Qn.prototype).ea=function(n,e,t,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():hb.g(),this.C=function MC(n){return n.h||(n.h=n.i())}(this.u?this.u:hb),this.g.onreadystatechange=zi(this.Fa,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(a){return void JC(this,a)}n=t||"";const r=new Ac(this.headers);i&&PC(i,function(a,c){r.set(c,a)}),i=function Bv(n){e:{var e=WT;const t=n.length,i="string"==typeof n?n.split(""):n;for(let r=0;r<t;r++)if(r in i&&e.call(void 0,i[r],r,n)){e=r;break e}e=-1}return 0>e?null:"string"==typeof n?n.charAt(e):n[e]}(r.T()),t=Tt.FormData&&n instanceof Tt.FormData,!(0<=cC(XC,e))||i||t||r.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),r.forEach(function(a,c){this.g.setRequestHeader(c,a)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Cb(this),0<this.B&&((this.K=function Qp(n){return ed&&function dC(){return function zv(n){var e=uC;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=Mp(String(Rp)).split("."),t=Mp("9").split("."),i=Math.max(e.length,t.length);for(let c=0;0==n&&c<i;c++){var r=e[c]||"",a=t[c]||"";do{if(r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==r[0].length&&0==a[0].length)break;n=Hv(0==r[1].length?0:parseInt(r[1],10),0==a[1].length?0:parseInt(a[1],10))||Hv(0==r[2].length,0==a[2].length)||Hv(r[2],a[2]),r=r[3],a=a[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=zi(this.pa,this)):this.A=u_(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(a){JC(this,a)}},Ye.pa=function(){typeof Tc<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,hr(this,"timeout"),this.abort(8))},Ye.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,hr(this,"complete"),hr(this,"abort"),I_(this))},Ye.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),I_(this,!0)),Qn.Z.M.call(this)},Ye.Fa=function(){this.s||(this.F||this.v||this.l?tE(this):this.cb())},Ye.cb=function(){tE(this)},Ye.ba=function(){try{return 2<Dl(this)?this.g.status:-1}catch{return-1}},Ye.ga=function(){try{return this.g?this.g.responseText:""}catch{return""}},Ye.Qa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),YC(e)}},Ye.Da=function(){return this.m},Ye.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(Ye=iE.prototype).ma=8,Ye.G=1,Ye.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch{}},Ye.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const r=new qp(this,this.h,n,void 0);let a=this.s;if(this.P&&(a?(a=n_(a),Gv(a,this.P)):a=this.P),null===this.o&&(r.H=a),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var i=this.l[t];if(void 0===(i="__data__"in i.g&&"string"==typeof(i=i.g.__data__)?i.length:void 0))break;if(4096<(e+=i)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=rE(this,r,e),Dn(t=El(this.F),"RID",n),Dn(t,"CVER",22),this.D&&Dn(t,"X-HTTP-Session-Id",this.D),Vh(this,t),this.o&&a&&Eb(t,this.o,a),wb(this.i,r),this.Ra&&Dn(t,"TYPE","init"),this.ja?(Dn(t,"$req",e),Dn(t,"SID","null"),r.$=!0,g_(r,t,null)):g_(r,t,e),this.G=2}}else 3==this.G&&(n?Tb(this,n):0==this.l.length||GC(this.i)||Tb(this))},Ye.Ga=function(){if(this.u=null,oE(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=Gp(zi(this.bb,this),n)}},Ye.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Br(10),T_(this),oE(this))},Ye.ab=function(){null!=this.v&&(this.v=null,T_(this),Sb(this),Br(19))},Ye.jb=function(n){n?(this.h.info("Successfully pinged google.com"),Br(2)):(this.h.info("Failed to ping google.com"),Br(1))},(Ye=hE.prototype).xa=function(){},Ye.wa=function(){},Ye.va=function(){},Ye.ua=function(){},Ye.Oa=function(){},S_.prototype.g=function(n,e){return new ns(n,e)},qi(ns,In),ns.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),nb(zi(n.hb,n,e))),Br(0),n.W=e,n.aa=t||{},n.N=n.X,n.F=uE(n,null,n.W),Lh(n)},ns.prototype.close=function(){D_(this.g)},ns.prototype.u=function(n){if("string"==typeof n){var e={};e.__data__=n,Db(this.g,e)}else this.v?((e={}).__data__=no(n),Db(this.g,e)):Db(this.g,n)},ns.prototype.M=function(){this.g.j=null,delete this.j,D_(this.g),delete this.g,ns.Z.M.call(this)},qi(xb,ub),qi(fE,db),qi(Bh,hE),Bh.prototype.xa=function(){hr(this.g,"a")},Bh.prototype.wa=function(n){hr(this.g,new xb(n))},Bh.prototype.va=function(n){hr(this.g,new fE(n))},Bh.prototype.ua=function(){hr(this.g,"b")},S_.prototype.createWebChannel=S_.prototype.g,ns.prototype.send=ns.prototype.u,ns.prototype.open=ns.prototype.m,ns.prototype.close=ns.prototype.close,f_.NO_ERROR=0,f_.TIMEOUT=8,f_.HTTP_ERROR=6,xC.COMPLETE="complete",AC.EventType=zp,zp.OPEN="a",zp.CLOSE="b",zp.ERROR="c",zp.MESSAGE="d",In.prototype.listen=In.prototype.N,Qn.prototype.listenOnce=Qn.prototype.O,Qn.prototype.getLastError=Qn.prototype.La,Qn.prototype.getLastErrorCode=Qn.prototype.Da,Qn.prototype.getStatus=Qn.prototype.ba,Qn.prototype.getResponseJson=Qn.prototype.Qa,Qn.prototype.getResponseText=Qn.prototype.ga,Qn.prototype.send=Qn.prototype.ea;var pE=ts.createWebChannelTransport=function(){return new S_},KT=ts.getStatEventTarget=function(){return jp()},Mb=ts.ErrorCode=f_,YT=ts.EventType=xC,Ab=ts.Event=Mc,x_=ts.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},mE=ts.FetchXmlHttpFactory=Yp,Uh=ts.WebChannel=AC,QT=ts.XhrIo=Qn;const gE="@firebase/firestore";class Di{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Di.UNAUTHENTICATED=new Di(null),Di.GOOGLE_CREDENTIALS=new Di("google-credentials-uid"),Di.FIRST_PARTY=new Di("first-party-uid"),Di.MOCK_USER=new Di("mock-user");let Hh="9.9.4";const Tl=new Ms.Yd("@firebase/firestore");function Oc(){return Tl.logLevel}function Pe(n,...e){if(Tl.logLevel<=Ms.in.DEBUG){const t=e.map(em);Tl.debug(`Firestore (${Hh}): ${n}`,...t)}}function Ti(n,...e){if(Tl.logLevel<=Ms.in.ERROR){const t=e.map(em);Tl.error(`Firestore (${Hh}): ${n}`,...t)}}function Pc(n,...e){if(Tl.logLevel<=Ms.in.WARN){const t=e.map(em);Tl.warn(`Firestore (${Hh}): ${n}`,...t)}}function em(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function rt(n="Unexpected state"){const e=`FIRESTORE (${Hh}) INTERNAL ASSERTION FAILED: `+n;throw Ti(e),new Error(e)}function St(n,e){n||rt()}function Ze(n,e){return n}const he={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Re extends Bt.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ri{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class kb{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class yE{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Di.UNAUTHENTICATED))}shutdown(){}}class JT{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class eS{constructor(e){this.t=e,this.currentUser=Di.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var i=this;let r=this.i;const a=b=>this.i!==r?(r=this.i,t(b)):Promise.resolve();let c=new Ri;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Ri,e.enqueueRetryable(()=>a(this.currentUser))};const f=()=>{const b=c;e.enqueueRetryable((0,be.Z)(function*(){yield b.promise,yield a(i.currentUser)}))},_=b=>{Pe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=b,this.auth.addAuthTokenListener(this.o),f()};this.t.onInit(b=>_(b)),setTimeout(()=>{if(!this.auth){const b=this.t.getImmediate({optional:!0});b?_(b):(Pe("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Ri)}},0),f()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(Pe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(St("string"==typeof i.accessToken),new kb(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return St(null===e||"string"==typeof e),new Di(e)}}class tS{constructor(e,t,i,r){this.h=e,this.l=t,this.m=i,this.g=r,this.type="FirstParty",this.user=Di.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(St(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class nS{constructor(e,t,i,r){this.h=e,this.l=t,this.m=i,this.g=r}getToken(){return Promise.resolve(new tS(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable(()=>t(Di.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Rb{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class vk{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){const i=a=>{null!=a.error&&Pe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const c=a.token!==this.A;return this.A=a.token,Pe("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>i(a))};const r=a=>{Pe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.appCheck.addTokenListener(this.o)};this.T.onInit(a=>r(a)),setTimeout(()=>{if(!this.appCheck){const a=this.T.getImmediate({optional:!0});a?r(a):Pe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(St("string"==typeof t.token),this.A=t.token,new Rb(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function rS(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}class vE{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const r=rS(40);for(let a=0;a<r.length;++a)i.length<20&&r[a]<t&&(i+=e.charAt(r[a]%e.length))}return i}}function Lt(n,e){return n<e?-1:n>e?1:0}function tm(n,e,t){return n.length===e.length&&n.every((i,r)=>t(i,e[r]))}function bE(n){return n+"\0"}class Un{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Re(he.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Re(he.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Re(he.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Re(he.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Un.fromMillis(Date.now())}static fromDate(e){return Un.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new Un(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Lt(this.nanoseconds,e.nanoseconds):Lt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class xt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new xt(e)}static min(){return new xt(new Un(0,0))}static max(){return new xt(new Un(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class nm{constructor(e,t,i){void 0===t?t=0:t>e.length&&rt(),void 0===i?i=e.length-t:i>e.length-t&&rt(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return 0===nm.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof nm?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let r=0;r<i;r++){const a=e.get(r),c=t.get(r);if(a<c)return-1;if(a>c)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class en extends nm{construct(e,t,i){return new en(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new Re(he.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(r=>r.length>0))}return new en(t)}static emptyPath(){return new en([])}}const wE=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ai extends nm{construct(e,t,i){return new ai(e,t,i)}static isValidIdentifier(e){return wE.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ai.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new ai(["__name__"])}static fromServerFormat(e){const t=[];let i="",r=0;const a=()=>{if(0===i.length)throw new Re(he.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let c=!1;for(;r<e.length;){const f=e[r];if("\\"===f){if(r+1===e.length)throw new Re(he.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[r+1];if("\\"!==_&&"."!==_&&"`"!==_)throw new Re(he.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=_,r+=2}else"`"===f?(c=!c,r++):"."!==f||c?(i+=f,r++):(a(),r++)}if(a(),c)throw new Re(he.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ai(t)}static emptyPath(){return new ai([])}}class qe{constructor(e){this.path=e}static fromPath(e){return new qe(en.fromString(e))}static fromName(e){return new qe(en.fromString(e).popFirst(5))}static empty(){return new qe(en.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===en.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return en.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new qe(new en(e.slice()))}}class M_{constructor(e,t,i,r){this.indexId=e,this.collectionGroup=t,this.fields=i,this.indexState=r}}function Ob(n){return n.fields.find(e=>2===e.kind)}function ad(n){return n.fields.filter(e=>2!==e.kind)}M_.UNKNOWN_ID=-1;class Nc{constructor(e,t){this.fieldPath=e,this.kind=t}}class jh{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new jh(0,is.min())}}function Pb(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=xt.fromTimestamp(1e9===i?new Un(t+1,0):new Un(t,i));return new is(r,qe.empty(),e)}function Nb(n){return new is(n.readTime,n.key,-1)}class is{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new is(xt.min(),qe.empty(),-1)}static max(){return new is(xt.max(),qe.empty(),-1)}}function Fb(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=qe.comparator(n.documentKey,e.documentKey),0!==t?t:Lt(n.largestBatchId,e.largestBatchId))}const EE="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class oS{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Fc(n){return Lb.apply(this,arguments)}function Lb(){return Lb=(0,be.Z)(function*(n){if(n.code!==he.FAILED_PRECONDITION||n.message!==EE)throw n;Pe("LocalStore","Unexpectedly lost primary lease")}),Lb.apply(this,arguments)}class ce{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&rt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ce((i,r)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(i,r)},this.catchCallback=a=>{this.wrapFailure(t,a).next(i,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ce?t:ce.resolve(t)}catch(t){return ce.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ce.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ce.reject(t)}static resolve(e){return new ce((t,i)=>{t(e)})}static reject(e){return new ce((t,i)=>{i(e)})}static waitFor(e){return new ce((t,i)=>{let r=0,a=0,c=!1;e.forEach(f=>{++r,f.next(()=>{++a,c&&a===r&&t()},_=>i(_))}),c=!0,a===r&&t()})}static or(e){let t=ce.resolve(!1);for(const i of e)t=t.next(r=>r?ce.resolve(r):i());return t}static forEach(e,t){const i=[];return e.forEach((r,a)=>{i.push(t.call(this,r,a))}),this.waitFor(i)}static mapArray(e,t){return new ce((i,r)=>{const a=e.length,c=new Array(a);let f=0;for(let _=0;_<a;_++){const b=_;t(e[b]).next(I=>{c[b]=I,++f,f===a&&i(c)},I=>r(I))}})}static doWhile(e,t){return new ce((i,r)=>{const a=()=>{!0===e()?t().next(()=>{a()},r):i()};a()})}}class A_{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.P=new Ri,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{t.error?this.P.reject(new rm(e,t.error)):this.P.resolve()},this.transaction.onerror=i=>{const r=cd(i.target.error);this.P.reject(new rm(e,r))}}static open(e,t,i,r){try{return new A_(t,e.transaction(r,i))}catch(a){throw new rm(t,a)}}get v(){return this.P.promise}abort(e){e&&this.P.reject(e),this.aborted||(Pe("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new Ea(t)}}class Fo{constructor(e,t,i){this.name=e,this.version=t,this.S=i,12.2===Fo.D((0,Bt.z$)())&&Ti("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Pe("SimpleDb","Removing database:",e),ld(window.indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!(0,Bt.hl)())return!1;if(Fo.N())return!0;const e=(0,Bt.z$)(),t=Fo.D(e),i=0<t&&t<10,r=Fo.k(e),a=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||i||a)}static N(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.M)}static O(e,t){return e.store(t)}static D(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static k(e){const t=e.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}F(e){var t=this;return(0,be.Z)(function*(){return t.db||(Pe("SimpleDb","Opening database:",t.name),t.db=yield new Promise((i,r)=>{const a=indexedDB.open(t.name,t.version);a.onsuccess=c=>{i(c.target.result)},a.onblocked=()=>{r(new rm(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=c=>{const f=c.target.error;r("VersionError"===f.name?new Re(he.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===f.name?new Re(he.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+f):new rm(e,f))},a.onupgradeneeded=c=>{Pe("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',c.oldVersion),t.S.$(c.target.result,a.transaction,c.oldVersion,t.version).next(()=>{Pe("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.B&&(t.db.onversionchange=i=>t.B(i)),t.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,i,r){var a=this;return(0,be.Z)(function*(){const c="readonly"===t;let f=0;for(;;){++f;try{a.db=yield a.F(e);const _=A_.open(a.db,e,c?"readonly":"readwrite",i),b=r(_).next(I=>(_.V(),I)).catch(I=>(_.abort(I),ce.reject(I))).toPromise();return b.catch(()=>{}),yield _.v,b}catch(_){const b=_,I="FirebaseError"!==b.name&&f<3;if(Pe("SimpleDb","Transaction failed with error:",b.message,"Retrying:",I),a.close(),!I)return Promise.reject(b)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class im{constructor(e){this.U=e,this.q=!1,this.K=null}get isDone(){return this.q}get G(){return this.K}set cursor(e){this.U=e}done(){this.q=!0}j(e){this.K=e}delete(){return ld(this.U.delete())}}class rm extends Re{constructor(e,t){super(he.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Ca(n){return"IndexedDbTransactionError"===n.name}class Ea{constructor(e){this.store=e}put(e,t){let i;return void 0!==t?(Pe("SimpleDb","PUT",this.store.name,e,t),i=this.store.put(t,e)):(Pe("SimpleDb","PUT",this.store.name,"<auto-key>",e),i=this.store.put(e)),ld(i)}add(e){return Pe("SimpleDb","ADD",this.store.name,e,e),ld(this.store.add(e))}get(e){return ld(this.store.get(e)).next(t=>(void 0===t&&(t=null),Pe("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Pe("SimpleDb","DELETE",this.store.name,e),ld(this.store.delete(e))}count(){return Pe("SimpleDb","COUNT",this.store.name),ld(this.store.count())}W(e,t){const i=this.options(e,t);if(i.index||"function"!=typeof this.store.getAll){const r=this.cursor(i),a=[];return this.H(r,(c,f)=>{a.push(f)}).next(()=>a)}{const r=this.store.getAll(i.range);return new ce((a,c)=>{r.onerror=f=>{c(f.target.error)},r.onsuccess=f=>{a(f.target.result)}})}}J(e,t){const i=this.store.getAll(e,null===t?void 0:t);return new ce((r,a)=>{i.onerror=c=>{a(c.target.error)},i.onsuccess=c=>{r(c.target.result)}})}Y(e,t){Pe("SimpleDb","DELETE ALL",this.store.name);const i=this.options(e,t);i.X=!1;const r=this.cursor(i);return this.H(r,(a,c,f)=>f.delete())}Z(e,t){let i;t?i=e:(i={},t=e);const r=this.cursor(i);return this.H(r,t)}tt(e){const t=this.cursor({});return new ce((i,r)=>{t.onerror=a=>{const c=cd(a.target.error);r(c)},t.onsuccess=a=>{const c=a.target.result;c?e(c.primaryKey,c.value).next(f=>{f?c.continue():i()}):i()}})}H(e,t){const i=[];return new ce((r,a)=>{e.onerror=c=>{a(c.target.error)},e.onsuccess=c=>{const f=c.target.result;if(!f)return void r();const _=new im(f),b=t(f.primaryKey,f.value,_);if(b instanceof ce){const I=b.catch(x=>(_.done(),ce.reject(x)));i.push(I)}_.isDone?r():null===_.G?f.continue():f.continue(_.G)}}).next(()=>ce.waitFor(i))}options(e,t){let i;return void 0!==e&&("string"==typeof e?i=e:t=e),{index:i,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const i=this.store.index(e.index);return e.X?i.openKeyCursor(e.range,t):i.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function ld(n){return new ce((e,t)=>{n.onsuccess=i=>{e(i.target.result)},n.onerror=i=>{const r=cd(i.target.error);t(r)}})}let sm=!1;function cd(n){const e=Fo.D((0,Bt.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const i=new Re("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return sm||(sm=!0,setTimeout(()=>{throw i},0)),i}}return n}class aS{constructor(e,t){this.asyncQueue=e,this.et=t,this.task=null}start(){this.nt(15)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(e){var t=this;Pe("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,be.Z)(function*(){t.task=null;try{Pe("IndexBackiller",`Documents written: ${yield t.et.st()}`)}catch(i){Ca(i)?Pe("IndexBackiller","Ignoring IndexedDB error during index backfill: ",i):yield Fc(i)}yield t.nt(1)}))}}class lS{constructor(e,t){this.localStore=e,this.persistence=t}st(e=50){var t=this;return(0,be.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",i=>t.it(i,e))})()}it(e,t){const i=new Set;let r=t,a=!0;return ce.doWhile(()=>!0===a&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(c=>{if(null!==c&&!i.has(c))return Pe("IndexBackiller",`Processing collection: ${c}`),this.rt(e,c,r).next(f=>{r-=f,i.add(c)});a=!1})).next(()=>t-r)}rt(e,t,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(r=>this.localStore.localDocuments.getNextDocuments(e,t,r,i).next(a=>{const c=a.changes;return this.localStore.indexManager.updateIndexEntries(e,c).next(()=>this.ot(r,a)).next(f=>(Pe("IndexBackiller",`Updating offset: ${f}`),this.localStore.indexManager.updateCollectionGroup(e,t,f))).next(()=>c.size)}))}ot(e,t){let i=e;return t.changes.forEach((r,a)=>{const c=Nb(a);Fb(c,i)>0&&(i=c)}),new is(i.readTime,i.documentKey,Math.max(t.batchId,e.largestBatchId))}}class rs{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ut(i),this.ct=i=>t.writeSequenceNumber(i))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ct&&this.ct(e),e}}function om(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Ia(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function IE(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}rs.at=-1;class li{constructor(e,t){this.comparator=e,this.root=t||Zi.EMPTY}insert(e,t){return new li(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Zi.BLACK,null,null))}remove(e){return new li(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Zi.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(0===i)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(0===r)return t+i.left.size;r<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new am(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new am(this.root,e,this.comparator,!1)}getReverseIterator(){return new am(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new am(this.root,e,this.comparator,!0)}}class am{constructor(e,t,i,r){this.isReverse=r,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?i(e.key,t):1,t&&r&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(0===a){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Zi{constructor(e,t,i,r,a){this.key=e,this.value=t,this.color=i??Zi.RED,this.left=r??Zi.EMPTY,this.right=a??Zi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,r,a){return new Zi(e??this.key,t??this.value,i??this.color,r??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let r=this;const a=i(e,r.key);return r=a<0?r.copy(null,null,null,r.left.insert(e,t,i),null):0===a?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Zi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Zi.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Zi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Zi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw rt();const e=this.left.check();if(e!==this.right.check())throw rt();return e+(this.isRed()?0:1)}}Zi.EMPTY=null,Zi.RED=!0,Zi.BLACK=!1,Zi.EMPTY=new class{constructor(){this.size=0}get key(){throw rt()}get value(){throw rt()}get color(){throw rt()}get left(){throw rt()}get right(){throw rt()}copy(n,e,t,i,r){return this}insert(n,e,t){return new Zi(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class hn{constructor(e){this.comparator=e,this.data=new li(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let i;for(i=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Vb(this.data.getIterator())}getIteratorFrom(e){return new Vb(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof hn)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const r=t.getNext().key,a=i.getNext().key;if(0!==this.comparator(r,a))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new hn(this.comparator);return t.data=e,t}}class Vb{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function $h(n){return n.hasNext()?n.getNext():void 0}class As{constructor(e){this.fields=e,e.sort(ai.comparator)}static empty(){return new As([])}unionWith(e){let t=new hn(ai.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new As(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return tm(this.fields,e.fields,(t,i)=>t.isEqual(i))}}class vi{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new vi(t)}static fromUint8Array(e){const t=function(i){let r="";for(let a=0;a<i.length;++a)r+=String.fromCharCode(i[a]);return r}(e);return new vi(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let i=0;i<e.length;i++)t[i]=e.charCodeAt(i);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Lt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}vi.EMPTY_BYTE_STRING=new vi("");const Bb=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Sl(n){if(St(!!n),"string"==typeof n){let e=0;const t=Bb.exec(n);if(St(!!t),t[1]){let r=t[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Hn(n.seconds),nanos:Hn(n.nanos)}}function Hn(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function xl(n){return"string"==typeof n?vi.fromBase64String(n):vi.fromUint8Array(n)}function Ub(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function DE(n){const e=n.mapValue.fields.__previous_value__;return Ub(e)?DE(e):e}function lm(n){const e=Sl(n.mapValue.fields.__local_write_time__.timestampValue);return new Un(e.seconds,e.nanos)}class cS{constructor(e,t,i,r,a,c,f,_){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=r,this.ssl=a,this.forceLongPolling=c,this.autoDetectLongPolling=f,this.useFetchStreams=_}}class Ml{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Ml("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Ml&&e.projectId===this.projectId&&e.database===this.database}}function ud(n){return null==n}function Gh(n){return 0===n&&1/n==-1/0}function Hb(n){return"number"==typeof n&&Number.isInteger(n)&&!Gh(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const Al={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},cm={nullValue:"NULL_VALUE"};function dd(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Ub(n)?4:Zh(n)?9007199254740991:10:rt()}function Lo(n,e){if(n===e)return!0;const t=dd(n);if(t!==dd(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return lm(n).isEqual(lm(e));case 3:return function(i,r){if("string"==typeof i.timestampValue&&"string"==typeof r.timestampValue&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const a=Sl(i.timestampValue),c=Sl(r.timestampValue);return a.seconds===c.seconds&&a.nanos===c.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return r=e,xl(n.bytesValue).isEqual(xl(r.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,r){return Hn(i.geoPointValue.latitude)===Hn(r.geoPointValue.latitude)&&Hn(i.geoPointValue.longitude)===Hn(r.geoPointValue.longitude)}(n,e);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return Hn(i.integerValue)===Hn(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const a=Hn(i.doubleValue),c=Hn(r.doubleValue);return a===c?Gh(a)===Gh(c):isNaN(a)&&isNaN(c)}return!1}(n,e);case 9:return tm(n.arrayValue.values||[],e.arrayValue.values||[],Lo);case 10:return function(i,r){const a=i.mapValue.fields||{},c=r.mapValue.fields||{};if(om(a)!==om(c))return!1;for(const f in a)if(a.hasOwnProperty(f)&&(void 0===c[f]||!Lo(a[f],c[f])))return!1;return!0}(n,e);default:return rt()}var r}function zh(n,e){return void 0!==(n.values||[]).find(t=>Lo(t,e))}function Lc(n,e){if(n===e)return 0;const t=dd(n),i=dd(e);if(t!==i)return Lt(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Lt(n.booleanValue,e.booleanValue);case 2:return function(r,a){const c=Hn(r.integerValue||r.doubleValue),f=Hn(a.integerValue||a.doubleValue);return c<f?-1:c>f?1:c===f?0:isNaN(c)?isNaN(f)?0:-1:1}(n,e);case 3:return jb(n.timestampValue,e.timestampValue);case 4:return jb(lm(n),lm(e));case 5:return Lt(n.stringValue,e.stringValue);case 6:return function(r,a){const c=xl(r),f=xl(a);return c.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(r,a){const c=r.split("/"),f=a.split("/");for(let _=0;_<c.length&&_<f.length;_++){const b=Lt(c[_],f[_]);if(0!==b)return b}return Lt(c.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(r,a){const c=Lt(Hn(r.latitude),Hn(a.latitude));return 0!==c?c:Lt(Hn(r.longitude),Hn(a.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(r,a){const c=r.values||[],f=a.values||[];for(let _=0;_<c.length&&_<f.length;++_){const b=Lc(c[_],f[_]);if(b)return b}return Lt(c.length,f.length)}(n.arrayValue,e.arrayValue);case 10:return function(r,a){if(r===Al.mapValue&&a===Al.mapValue)return 0;if(r===Al.mapValue)return 1;if(a===Al.mapValue)return-1;const c=r.fields||{},f=Object.keys(c),_=a.fields||{},b=Object.keys(_);f.sort(),b.sort();for(let I=0;I<f.length&&I<b.length;++I){const x=Lt(f[I],b[I]);if(0!==x)return x;const L=Lc(c[f[I]],_[b[I]]);if(0!==L)return L}return Lt(f.length,b.length)}(n.mapValue,e.mapValue);default:throw rt()}}function jb(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Lt(n,e);const t=Sl(n),i=Sl(e),r=Lt(t.seconds,i.seconds);return 0!==r?r:Lt(t.nanos,i.nanos)}function qh(n){return fr(n)}function fr(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const r=Sl(i);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?xl(n.bytesValue).toBase64():"referenceValue"in n?qe.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(i){let r="[",a=!0;for(const c of i.values||[])a?a=!1:r+=",",r+=fr(c);return r+"]"}(n.arrayValue):"mapValue"in n?function(i){const r=Object.keys(i.fields||{}).sort();let a="{",c=!0;for(const f of r)c?c=!1:a+=",",a+=`${f}:${fr(i.fields[f])}`;return a+"}"}(n.mapValue):rt();var e}function io(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function $b(n){return!!n&&"integerValue"in n}function um(n){return!!n&&"arrayValue"in n}function uS(n){return!!n&&"nullValue"in n}function dS(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function dm(n){return!!n&&"mapValue"in n}function Wh(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Ia(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=Wh(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Wh(n.arrayValue.values[t]);return e}return Object.assign({},n)}function Zh(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function hS(n){return"nullValue"in n?cm:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?io(Ml.empty(),qe.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:rt()}function Gb(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?io(Ml.empty(),qe.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?Al:rt()}function TE(n,e){const t=Lc(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function zb(n,e){const t=Lc(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class pr{constructor(e){this.value=e}static empty(){return new pr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!dm(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Wh(t)}setAll(e){let t=ai.emptyPath(),i={},r=[];e.forEach((c,f)=>{if(!t.isImmediateParentOf(f)){const _=this.getFieldsMap(t);this.applyChanges(_,i,r),i={},r=[],t=f.popLast()}c?i[f.lastSegment()]=Wh(c):r.push(f.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,i,r)}delete(e){const t=this.field(e.popLast());dm(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Lo(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=t.mapValue.fields[e.get(i)];dm(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,i){Ia(t,(r,a)=>e[r]=a);for(const r of i)delete e[r]}clone(){return new pr(Wh(this.value))}}function SE(n){const e=[];return Ia(n.fields,(t,i)=>{const r=new ai([t]);if(dm(i)){const a=SE(i.mapValue).fields;if(0===a.length)e.push(r);else for(const c of a)e.push(r.child(c))}else e.push(r)}),new As(e)}class Sn{constructor(e,t,i,r,a,c){this.key=e,this.documentType=t,this.version=i,this.readTime=r,this.data=a,this.documentState=c}static newInvalidDocument(e){return new Sn(e,0,xt.min(),xt.min(),pr.empty(),0)}static newFoundDocument(e,t,i){return new Sn(e,1,t,xt.min(),i,0)}static newNoDocument(e,t){return new Sn(e,2,t,xt.min(),pr.empty(),0)}static newUnknownDocument(e,t){return new Sn(e,3,t,xt.min(),pr.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=pr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=pr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=xt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Sn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Sn(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class qb{constructor(e,t=null,i=[],r=[],a=null,c=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=r,this.limit=a,this.startAt=c,this.endAt=f,this.ht=null}}function Wb(n,e=null,t=[],i=[],r=null,a=null,c=null){return new qb(n,e,t,i,r,a,c)}function Vc(n){const e=Ze(n);if(null===e.ht){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>{return(r=i).field.canonicalString()+r.op.toString()+qh(r.value);var r}).join(","),t+="|ob:",t+=e.orderBy.map(i=>{return(r=i).field.canonicalString()+r.dir;var r}).join(","),ud(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>qh(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>qh(i)).join(",")),e.ht=t}return e.ht}function hd(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<n.orderBy.length;r++)if(!AE(n.orderBy[r],e.orderBy[r]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let r=0;r<n.filters.length;r++)if((t=n.filters[r]).op!==(i=e.filters[r]).op||!t.field.isEqual(i.field)||!Lo(t.value,i.value))return!1;var t,i;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Qb(n.startAt,e.startAt)&&Qb(n.endAt,e.endAt)}function Zb(n){return qe.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function hm(n,e){return n.filters.filter(t=>t instanceof ci&&t.field.isEqual(e))}function xE(n,e,t){let i=cm,r=!0;for(const a of hm(n,e)){let c=cm,f=!0;switch(a.op){case"<":case"<=":c=hS(a.value);break;case"==":case"in":case">=":c=a.value;break;case">":c=a.value,f=!1;break;case"!=":case"not-in":c=cm}TE({value:i,inclusive:r},{value:c,inclusive:f})<0&&(i=c,r=f)}if(null!==t)for(let a=0;a<n.orderBy.length;++a)if(n.orderBy[a].field.isEqual(e)){const c=t.position[a];TE({value:i,inclusive:r},{value:c,inclusive:t.inclusive})<0&&(i=c,r=t.inclusive);break}return{value:i,inclusive:r}}function Kb(n,e,t){let i=Al,r=!0;for(const a of hm(n,e)){let c=Al,f=!0;switch(a.op){case">=":case">":c=Gb(a.value),f=!1;break;case"==":case"in":case"<=":c=a.value;break;case"<":c=a.value,f=!1;break;case"!=":case"not-in":c=Al}zb({value:i,inclusive:r},{value:c,inclusive:f})>0&&(i=c,r=f)}if(null!==t)for(let a=0;a<n.orderBy.length;++a)if(n.orderBy[a].field.isEqual(e)){const c=t.position[a];zb({value:i,inclusive:r},{value:c,inclusive:t.inclusive})>0&&(i=c,r=t.inclusive);break}return{value:i,inclusive:r}}class ci extends class{}{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?"in"===t||"not-in"===t?this.lt(e,t,i):new fS(e,t,i):"array-contains"===t?new mS(e,i):"in"===t?new wk(e,i):"not-in"===t?new gS(e,i):"array-contains-any"===t?new _S(e,i):new ci(e,t,i)}static lt(e,t,i){return"in"===t?new ME(e,i):new Yb(e,i)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.ft(Lc(t,this.value)):null!==t&&dd(this.value)===dd(t)&&this.ft(Lc(t,this.value))}ft(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return rt()}}dt(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class fS extends ci{constructor(e,t,i){super(e,t,i),this.key=qe.fromName(i.referenceValue)}matches(e){const t=qe.comparator(e.key,this.key);return this.ft(t)}}class ME extends ci{constructor(e,t){super(e,"in",t),this.keys=pS(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Yb extends ci{constructor(e,t){super(e,"not-in",t),this.keys=pS(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function pS(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(i=>qe.fromName(i.referenceValue))}class mS extends ci{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return um(t)&&zh(t.arrayValue,this.value)}}class wk extends ci{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&zh(this.value.arrayValue,t)}}class gS extends ci{constructor(e,t){super(e,"not-in",t)}matches(e){if(zh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!zh(this.value.arrayValue,t)}}class _S extends ci{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!um(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>zh(this.value.arrayValue,i))}}class Bc{constructor(e,t){this.position=e,this.inclusive=t}}class fd{constructor(e,t="asc"){this.field=e,this.dir=t}}function AE(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function kE(n,e,t){let i=0;for(let r=0;r<n.position.length;r++){const a=e[r],c=n.position[r];if(i=a.field.isKeyField()?qe.comparator(qe.fromName(c.referenceValue),t.key):Lc(c,t.data.field(a.field)),"desc"===a.dir&&(i*=-1),0!==i)break}return i}function Qb(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Lo(n.position[t],e.position[t]))return!1;return!0}class Da{constructor(e,t=null,i=[],r=[],a=null,c="F",f=null,_=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=r,this.limit=a,this.limitType=c,this.startAt=f,this.endAt=_,this._t=null,this.wt=null}}function RE(n,e,t,i,r,a,c,f){return new Da(n,e,t,i,r,a,c,f)}function Kh(n){return new Da(n)}function Xb(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function Jb(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function R_(n){for(const e of n.filters)if(e.dt())return e.field;return null}function O_(n){return null!==n.collectionGroup}function pd(n){const e=Ze(n);if(null===e._t){e._t=[];const t=R_(e),i=Jb(e);if(null!==t&&null===i)t.isKeyField()||e._t.push(new fd(t)),e._t.push(new fd(ai.keyField(),"asc"));else{let r=!1;for(const a of e.explicitOrderBy)e._t.push(a),a.field.isKeyField()&&(r=!0);if(!r){const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e._t.push(new fd(ai.keyField(),a))}}}return e._t}function Ur(n){const e=Ze(n);if(!e.wt)if("F"===e.limitType)e.wt=Wb(e.path,e.collectionGroup,pd(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const a of pd(e))t.push(new fd(a.field,"desc"===a.dir?"asc":"desc"));const i=e.endAt?new Bc(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Bc(e.startAt.position,e.startAt.inclusive):null;e.wt=Wb(e.path,e.collectionGroup,t,e.filters,e.limit,i,r)}return e.wt}function P_(n,e,t){return new Da(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function fm(n,e){return hd(Ur(n),Ur(e))&&n.limitType===e.limitType}function yS(n){return`${Vc(Ur(n))}|lt:${n.limitType}`}function N_(n){return`Query(target=${function k_(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(i=t).field.canonicalString()} ${i.op} ${qh(i.value)}`;var i}).join(", ")}]`),ud(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(i=t).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>qh(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>qh(t)).join(",")),`Target(${e})`}(Ur(n))}; limitType=${n.limitType})`}function OE(n,e){return e.isFoundDocument()&&function(t,i){const r=i.key.path;return null!==t.collectionGroup?i.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(r):qe.isDocumentKey(t.path)?t.path.isEqual(r):t.path.isImmediateParentOf(r)}(n,e)&&function(t,i){for(const r of t.explicitOrderBy)if(!r.field.isKeyField()&&null===i.data.field(r.field))return!1;return!0}(n,e)&&function(t,i){for(const r of t.filters)if(!r.matches(i))return!1;return!0}(n,e)&&(i=e,!((t=n).startAt&&!function(r,a,c){const f=kE(r,a,c);return r.inclusive?f<=0:f<0}(t.startAt,pd(t),i)||t.endAt&&!function(r,a,c){const f=kE(r,a,c);return r.inclusive?f>=0:f>0}(t.endAt,pd(t),i)));var t,i}function vS(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function bS(n){return(e,t)=>{let i=!1;for(const r of pd(n)){const a=Ck(r,e,t);if(0!==a)return a;i=i||r.field.isKeyField()}return 0}}function Ck(n,e,t){const i=n.field.isKeyField()?qe.comparator(e.key,t.key):function(r,a,c){const f=a.data.field(r),_=c.data.field(r);return null!==f&&null!==_?Lc(f,_):rt()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return rt()}}function wS(n,e){if(n.gt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Gh(e)?"-0":e}}function CS(n){return{integerValue:""+n}}function ES(n,e){return Hb(e)?CS(e):wS(n,e)}class e0{constructor(){this._=void 0}}function F_(n,e,t){return n instanceof kl?function(i,r){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&(a.fields.__previous_value__=r),{mapValue:a}}(t,e):n instanceof Uc?n0(n,e):n instanceof Yh?L_(n,e):function(i,r){const a=t0(i,r),c=PE(a)+PE(i.yt);return $b(a)&&$b(i.yt)?CS(c):wS(i.It,c)}(n,e)}function Ek(n,e,t){return n instanceof Uc?n0(n,e):n instanceof Yh?L_(n,e):t}function t0(n,e){return n instanceof md?$b(t=e)||(i=t)&&"doubleValue"in i?e:{integerValue:0}:null;var i,t}class kl extends e0{}class Uc extends e0{constructor(e){super(),this.elements=e}}function n0(n,e){const t=r0(e);for(const i of n.elements)t.some(r=>Lo(r,i))||t.push(i);return{arrayValue:{values:t}}}class Yh extends e0{constructor(e){super(),this.elements=e}}function L_(n,e){let t=r0(e);for(const i of n.elements)t=t.filter(r=>!Lo(r,i));return{arrayValue:{values:t}}}class md extends e0{constructor(e,t){super(),this.It=e,this.yt=t}}function PE(n){return Hn(n.integerValue||n.doubleValue)}function r0(n){return um(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class V_{constructor(e,t){this.field=e,this.transform=t}}class DS{constructor(e,t){this.version=e,this.transformResults=t}}class jn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new jn}static exists(e){return new jn(void 0,e)}static updateTime(e){return new jn(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function gd(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class B_{}function TS(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new pm(n.key,jn.none()):new Qh(n.key,n.data,jn.none());{const t=n.data,i=pr.empty();let r=new hn(ai.comparator);for(let a of e.fields)if(!r.has(a)){let c=t.field(a);null===c&&a.length>1&&(a=a.popLast(),c=t.field(a)),null===c?i.delete(a):i.set(a,c),r=r.add(a)}return new Hc(n.key,i,new As(r.toArray()),jn.none())}}function Ik(n,e,t){n instanceof Qh?function(i,r,a){const c=i.value.clone(),f=s0(i.fieldTransforms,r,a.transformResults);c.setAll(f),r.convertToFoundDocument(a.version,c).setHasCommittedMutations()}(n,e,t):n instanceof Hc?function(i,r,a){if(!gd(i.precondition,r))return void r.convertToUnknownDocument(a.version);const c=s0(i.fieldTransforms,r,a.transformResults),f=r.data;f.setAll(FE(i)),f.setAll(c),r.convertToFoundDocument(a.version,f).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function U_(n,e,t,i){return n instanceof Qh?function(r,a,c,f){if(!gd(r.precondition,a))return c;const _=r.value.clone(),b=o0(r.fieldTransforms,f,a);return _.setAll(b),a.convertToFoundDocument(a.version,_).setHasLocalMutations(),null}(n,e,t,i):n instanceof Hc?function(r,a,c,f){if(!gd(r.precondition,a))return c;const _=o0(r.fieldTransforms,f,a),b=a.data;return b.setAll(FE(r)),b.setAll(_),a.convertToFoundDocument(a.version,b).setHasLocalMutations(),null===c?null:c.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(I=>I.field))}(n,e,t,i):(c=t,gd(n.precondition,a=e)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):c);var a,c}function SS(n,e){let t=null;for(const i of n.fieldTransforms){const r=e.data.field(i.field),a=t0(i.transform,r||null);null!=a&&(null===t&&(t=pr.empty()),t.set(i.field,a))}return t||null}function NE(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===i||t&&i&&tm(t,i,(r,a)=>function IS(n,e){return n.field.isEqual(e.field)&&(i=e.transform,(t=n.transform)instanceof Uc&&i instanceof Uc||t instanceof Yh&&i instanceof Yh?tm(t.elements,i.elements,Lo):t instanceof md&&i instanceof md?Lo(t.yt,i.yt):t instanceof kl&&i instanceof kl);var t,i}(r,a))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,i}class Qh extends B_{constructor(e,t,i,r=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Hc extends B_{constructor(e,t,i,r,a=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=r,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function FE(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function s0(n,e,t){const i=new Map;St(n.length===t.length);for(let r=0;r<t.length;r++){const a=n[r],c=a.transform,f=e.data.field(a.field);i.set(a.field,Ek(c,f,t[r]))}return i}function o0(n,e,t){const i=new Map;for(const r of n){const a=r.transform,c=t.data.field(r.field);i.set(r.field,F_(a,c,e))}return i}class pm extends B_{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ks extends B_{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class xS{constructor(e){this.count=e}}var ui,tn;function Rs(n){switch(n){default:return rt();case he.CANCELLED:case he.UNKNOWN:case he.DEADLINE_EXCEEDED:case he.RESOURCE_EXHAUSTED:case he.INTERNAL:case he.UNAVAILABLE:case he.UNAUTHENTICATED:return!1;case he.INVALID_ARGUMENT:case he.NOT_FOUND:case he.ALREADY_EXISTS:case he.PERMISSION_DENIED:case he.FAILED_PRECONDITION:case he.ABORTED:case he.OUT_OF_RANGE:case he.UNIMPLEMENTED:case he.DATA_LOSS:return!0}}function LE(n){if(void 0===n)return Ti("GRPC error has no .code"),he.UNKNOWN;switch(n){case ui.OK:return he.OK;case ui.CANCELLED:return he.CANCELLED;case ui.UNKNOWN:return he.UNKNOWN;case ui.DEADLINE_EXCEEDED:return he.DEADLINE_EXCEEDED;case ui.RESOURCE_EXHAUSTED:return he.RESOURCE_EXHAUSTED;case ui.INTERNAL:return he.INTERNAL;case ui.UNAVAILABLE:return he.UNAVAILABLE;case ui.UNAUTHENTICATED:return he.UNAUTHENTICATED;case ui.INVALID_ARGUMENT:return he.INVALID_ARGUMENT;case ui.NOT_FOUND:return he.NOT_FOUND;case ui.ALREADY_EXISTS:return he.ALREADY_EXISTS;case ui.PERMISSION_DENIED:return he.PERMISSION_DENIED;case ui.FAILED_PRECONDITION:return he.FAILED_PRECONDITION;case ui.ABORTED:return he.ABORTED;case ui.OUT_OF_RANGE:return he.OUT_OF_RANGE;case ui.UNIMPLEMENTED:return he.UNIMPLEMENTED;case ui.DATA_LOSS:return he.DATA_LOSS;default:return rt()}}(tn=ui||(ui={}))[tn.OK=0]="OK",tn[tn.CANCELLED=1]="CANCELLED",tn[tn.UNKNOWN=2]="UNKNOWN",tn[tn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",tn[tn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",tn[tn.NOT_FOUND=5]="NOT_FOUND",tn[tn.ALREADY_EXISTS=6]="ALREADY_EXISTS",tn[tn.PERMISSION_DENIED=7]="PERMISSION_DENIED",tn[tn.UNAUTHENTICATED=16]="UNAUTHENTICATED",tn[tn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",tn[tn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",tn[tn.ABORTED=10]="ABORTED",tn[tn.OUT_OF_RANGE=11]="OUT_OF_RANGE",tn[tn.UNIMPLEMENTED=12]="UNIMPLEMENTED",tn[tn.INTERNAL=13]="INTERNAL",tn[tn.UNAVAILABLE=14]="UNAVAILABLE",tn[tn.DATA_LOSS=15]="DATA_LOSS";class Ta{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0!==i)for(const[r,a]of i)if(this.equalsFn(r,e))return a}has(e){return void 0!==this.get(e)}set(e,t){const i=this.mapKeyFn(e),r=this.inner[i];if(void 0===r)return this.inner[i]=[[e,t]],void this.innerSize++;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return void(r[a]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return 1===i.length?delete this.inner[t]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Ia(this.inner,(t,i)=>{for(const[r,a]of i)e(r,a)})}isEmpty(){return IE(this.inner)}size(){return this.innerSize}}const MS=new li(qe.comparator);function ss(){return MS}const H_=new li(qe.comparator);function Xh(...n){let e=H_;for(const t of n)e=e.insert(t.key,t);return e}function a0(n){let e=H_;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function Sa(){return Jh()}function l0(){return Jh()}function Jh(){return new Ta(n=>n.toString(),(n,e)=>n.isEqual(e))}const AS=new li(qe.comparator),VE=new hn(qe.comparator);function Ut(...n){let e=VE;for(const t of n)e=e.add(t);return e}const c0=new hn(Lt);function Vo(){return c0}class ef{constructor(e,t,i,r,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t){const i=new Map;return i.set(e,_d.createSynthesizedTargetChangeForCurrentChange(e,t)),new ef(xt.min(),i,Vo(),ss(),Ut())}}class _d{constructor(e,t,i,r,a){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t){return new _d(vi.EMPTY_BYTE_STRING,t,Ut(),Ut(),Ut())}}class ro{constructor(e,t,i,r){this.Tt=e,this.removedTargetIds=t,this.key=i,this.Et=r}}class BE{constructor(e,t){this.targetId=e,this.At=t}}class kS{constructor(e,t,i=vi.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=r}}class UE{constructor(){this.Rt=0,this.bt=jE(),this.Pt=vi.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}get current(){return this.vt}get resumeToken(){return this.Pt}get St(){return 0!==this.Rt}get Dt(){return this.Vt}Ct(e){e.approximateByteSize()>0&&(this.Vt=!0,this.Pt=e)}xt(){let e=Ut(),t=Ut(),i=Ut();return this.bt.forEach((r,a)=>{switch(a){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:i=i.add(r);break;default:rt()}}),new _d(this.Pt,this.vt,e,t,i)}Nt(){this.Vt=!1,this.bt=jE()}kt(e,t){this.Vt=!0,this.bt=this.bt.insert(e,t)}Mt(e){this.Vt=!0,this.bt=this.bt.remove(e)}Ot(){this.Rt+=1}Ft(){this.Rt-=1}$t(){this.Vt=!0,this.vt=!0}}class RS{constructor(e){this.Bt=e,this.Lt=new Map,this.Ut=ss(),this.qt=HE(),this.Kt=new hn(Lt)}Gt(e){for(const t of e.Tt)e.Et&&e.Et.isFoundDocument()?this.Qt(t,e.Et):this.jt(t,e.key,e.Et);for(const t of e.removedTargetIds)this.jt(t,e.key,e.Et)}Wt(e){this.forEachTarget(e,t=>{const i=this.zt(t);switch(e.state){case 0:this.Ht(t)&&i.Ct(e.resumeToken);break;case 1:i.Ft(),i.St||i.Nt(),i.Ct(e.resumeToken);break;case 2:i.Ft(),i.St||this.removeTarget(t);break;case 3:this.Ht(t)&&(i.$t(),i.Ct(e.resumeToken));break;case 4:this.Ht(t)&&(this.Jt(t),i.Ct(e.resumeToken));break;default:rt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Lt.forEach((i,r)=>{this.Ht(r)&&t(r)})}Yt(e){const t=e.targetId,i=e.At.count,r=this.Xt(t);if(r){const a=r.target;if(Zb(a))if(0===i){const c=new qe(a.path);this.jt(t,c,Sn.newNoDocument(c,xt.min()))}else St(1===i);else this.Zt(t)!==i&&(this.Jt(t),this.Kt=this.Kt.add(t))}}te(e){const t=new Map;this.Lt.forEach((a,c)=>{const f=this.Xt(c);if(f){if(a.current&&Zb(f.target)){const _=new qe(f.target.path);null!==this.Ut.get(_)||this.ee(c,_)||this.jt(c,_,Sn.newNoDocument(_,e))}a.Dt&&(t.set(c,a.xt()),a.Nt())}});let i=Ut();this.qt.forEach((a,c)=>{let f=!0;c.forEachWhile(_=>{const b=this.Xt(_);return!b||2===b.purpose||(f=!1,!1)}),f&&(i=i.add(a))}),this.Ut.forEach((a,c)=>c.setReadTime(e));const r=new ef(e,t,this.Kt,this.Ut,i);return this.Ut=ss(),this.qt=HE(),this.Kt=new hn(Lt),r}Qt(e,t){if(!this.Ht(e))return;const i=this.ee(e,t.key)?2:0;this.zt(e).kt(t.key,i),this.Ut=this.Ut.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ne(t.key).add(e))}jt(e,t,i){if(!this.Ht(e))return;const r=this.zt(e);this.ee(e,t)?r.kt(t,1):r.Mt(t),this.qt=this.qt.insert(t,this.ne(t).delete(e)),i&&(this.Ut=this.Ut.insert(t,i))}removeTarget(e){this.Lt.delete(e)}Zt(e){const t=this.zt(e).xt();return this.Bt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ot(e){this.zt(e).Ot()}zt(e){let t=this.Lt.get(e);return t||(t=new UE,this.Lt.set(e,t)),t}ne(e){let t=this.qt.get(e);return t||(t=new hn(Lt),this.qt=this.qt.insert(e,t)),t}Ht(e){const t=null!==this.Xt(e);return t||Pe("WatchChangeAggregator","Detected inactive target",e),t}Xt(e){const t=this.Lt.get(e);return t&&t.St?null:this.Bt.se(e)}Jt(e){this.Lt.set(e,new UE),this.Bt.getRemoteKeysForTarget(e).forEach(t=>{this.jt(e,t,null)})}ee(e,t){return this.Bt.getRemoteKeysForTarget(e).has(t)}}function HE(){return new li(qe.comparator)}function jE(){return new li(qe.comparator)}const $E={asc:"ASCENDING",desc:"DESCENDING"},Dk={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class GE{constructor(e,t){this.databaseId=e,this.gt=t}}function mm(n,e){return n.gt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function u0(n,e){return n.gt?e.toBase64():e.toUint8Array()}function Tk(n,e){return mm(n,e.toTimestamp())}function Si(n){return St(!!n),xt.fromTimestamp(function(e){const t=Sl(e);return new Un(t.seconds,t.nanos)}(n))}function j_(n,e){return(t=n,new en(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function d0(n){const e=en.fromString(n);return St(YE(e)),e}function tf(n,e){return j_(n.databaseId,e.path)}function Bo(n,e){const t=d0(e);if(t.get(1)!==n.databaseId.projectId)throw new Re(he.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Re(he.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new qe(h0(t))}function $_(n,e){return j_(n.databaseId,e)}function gm(n){const e=d0(n);return 4===e.length?en.emptyPath():h0(e)}function jc(n){return new en(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function h0(n){return St(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function zE(n,e,t){return{name:tf(n,e),fields:t.value.mapValue.fields}}function f0(n,e,t){const i=Bo(n,e.name),r=Si(e.updateTime),a=new pr({mapValue:{fields:e.fields}}),c=Sn.newFoundDocument(i,r,a);return t&&c.setHasCommittedMutations(),t?c.setHasCommittedMutations():c}function _m(n,e){let t;if(e instanceof Qh)t={update:zE(n,e.key,e.value)};else if(e instanceof pm)t={delete:tf(n,e.key)};else if(e instanceof Hc)t={update:zE(n,e.key,e.data),updateMask:LS(e.fieldMask)};else{if(!(e instanceof ks))return rt();t={verify:tf(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(r,a){const c=a.transform;if(c instanceof kl)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Uc)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Yh)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof md)return{fieldPath:a.field.canonicalString(),increment:c.yt};throw rt()}(0,i))),e.precondition.isNone||(t.currentDocument=void 0!==(r=e.precondition).updateTime?{updateTime:Tk(n,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:rt()),t;var r}function WE(n,e){const t=e.currentDocument?void 0!==(r=e.currentDocument).updateTime?jn.updateTime(Si(r.updateTime)):void 0!==r.exists?jn.exists(r.exists):jn.none():jn.none(),i=e.updateTransforms?e.updateTransforms.map(r=>function(a,c){let f=null;"setToServerValue"in c?(St("REQUEST_TIME"===c.setToServerValue),f=new kl):"appendMissingElements"in c?f=new Uc(c.appendMissingElements.values||[]):"removeAllFromArray"in c?f=new Yh(c.removeAllFromArray.values||[]):"increment"in c?f=new md(a,c.increment):rt();const _=ai.fromServerFormat(c.fieldPath);return new V_(_,f)}(n,r)):[];var r;if(e.update){const r=Bo(n,e.update.name),a=new pr({mapValue:{fields:e.update.fields}});if(e.updateMask){const c=new As((e.updateMask.fieldPaths||[]).map(b=>ai.fromServerFormat(b)));return new Hc(r,a,c,t,i)}return new Qh(r,a,t,i)}if(e.delete){const r=Bo(n,e.delete);return new pm(r,t)}if(e.verify){const r=Bo(n,e.verify);return new ks(r,t)}return rt()}function p0(n,e){return{documents:[$_(n,e.path)]}}function ZE(n,e){const t={structuredQuery:{}},i=e.path;null!==e.collectionGroup?(t.parent=$_(n,i),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=$_(n,i.popLast()),t.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(_){if(0===_.length)return;const b=_.map(I=>function(x){if("=="===x.op){if(dS(x.value))return{unaryFilter:{field:ym(x.field),op:"IS_NAN"}};if(uS(x.value))return{unaryFilter:{field:ym(x.field),op:"IS_NULL"}}}else if("!="===x.op){if(dS(x.value))return{unaryFilter:{field:ym(x.field),op:"IS_NOT_NAN"}};if(uS(x.value))return{unaryFilter:{field:ym(x.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ym(x.field),op:Mk(x.op),value:x.value}}}(I));return 1===b.length?b[0]:{compositeFilter:{op:"AND",filters:b}}}(e.filters);r&&(t.structuredQuery.where=r);const a=function(_){if(0!==_.length)return _.map(b=>{return{field:ym((I=b).field),direction:xk(I.dir)};var I})}(e.orderBy);a&&(t.structuredQuery.orderBy=a);const c=(b=e.limit,n.gt||ud(b)?b:{value:b});var b,f,_;return null!==c&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt={before:(f=e.startAt).inclusive,values:f.position}),e.endAt&&(t.structuredQuery.endAt={before:!(_=e.endAt).inclusive,values:_.position}),t}function KE(n){let e=gm(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let r=null;if(i>0){St(1===i);const I=t.from[0];I.allDescendants?r=I.collectionId:e=e.child(I.collectionId)}let a=[];t.where&&(a=NS(t.where));let c=[];t.orderBy&&(c=t.orderBy.map(I=>{return new fd(vm((x=I).field),function(L){switch(L){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction));var x}));let f=null;t.limit&&(f=function(I){let x;return x="object"==typeof I?I.value:I,ud(x)?null:x}(t.limit));let _=null;var I;t.startAt&&(_=new Bc((I=t.startAt).values||[],!!I.before));let b=null;return t.endAt&&(b=function(I){return new Bc(I.values||[],!I.before)}(t.endAt)),RE(e,r,c,a,f,"F",_,b)}function NS(n){return n?void 0!==n.unaryFilter?[G_(n)]:void 0!==n.fieldFilter?[FS(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>NS(e)).reduce((e,t)=>e.concat(t)):rt():[]}function xk(n){return $E[n]}function Mk(n){return Dk[n]}function ym(n){return{fieldPath:n.canonicalString()}}function vm(n){return ai.fromServerFormat(n.fieldPath)}function FS(n){return ci.create(vm(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return rt()}}(n.fieldFilter.op),n.fieldFilter.value)}function G_(n){switch(n.unaryFilter.op){case"IS_NAN":const e=vm(n.unaryFilter.field);return ci.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=vm(n.unaryFilter.field);return ci.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=vm(n.unaryFilter.field);return ci.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const r=vm(n.unaryFilter.field);return ci.create(r,"!=",{nullValue:"NULL_VALUE"});default:return rt()}}function LS(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function YE(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function Er(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=m0(e)),e=yd(n.get(t),e);return m0(e)}function yd(n,e){let t=e;const i=n.length;for(let r=0;r<i;r++){const a=n.charAt(r);switch(a){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=a}}return t}function m0(n){return n+"\x01\x01"}function so(n){const e=n.length;if(St(e>=2),2===e)return St("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),en.emptyPath();const t=e-2,i=[];let r="";for(let a=0;a<e;){const c=n.indexOf("\x01",a);switch((c<0||c>t)&&rt(),n.charAt(c+1)){case"\x01":const f=n.substring(a,c);let _;0===r.length?_=f:(r+=f,_=r,r=""),i.push(_);break;case"\x10":r+=n.substring(a,c),r+="\0";break;case"\x11":r+=n.substring(a,c+1);break;default:rt()}a=c+2}return new en(i)}const z_=["userId","batchId"];function q_(n,e){return[n,Er(e)]}function W_(n,e,t){return[n,Er(e),t]}const g0={},Z_=["prefixPath","collectionGroup","readTime","documentId"],Ak=["prefixPath","collectionGroup","documentId"],kk=["collectionGroup","readTime","prefixPath","documentId"],Rk=["canonicalId","targetId"],Ok=["targetId","path"],QE=["path","targetId"],VS=["collectionId","parent"],BS=["indexId","uid"],US=["uid","sequenceNumber"],HS=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],XE=["indexId","uid","orderedDocumentKey"],JE=["userId","collectionPath","documentId"],eI=["userId","collectionPath","largestBatchId"],jS=["userId","collectionGroup","largestBatchId"],tI=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],nI=[...tI,"documentOverlays"],K_=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],$S=K_,iI=[...$S,"indexConfiguration","indexState","indexEntries"];class bm extends oS{constructor(e,t){super(),this.ie=e,this.currentSequenceNumber=t}}function Ki(n,e){const t=Ze(n);return Fo.O(t.ie,e)}class _0{constructor(e,t,i,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const a=this.mutations[r];a.key.isEqual(e.key)&&Ik(a,e,i[r])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=U_(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=U_(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=l0();return this.mutations.forEach(r=>{const a=e.get(r.key),c=a.overlayedDocument;let f=this.applyToLocalView(c,a.mutatedFields);f=t.has(r.key)?null:f;const _=TS(c,f);null!==_&&i.set(r.key,_),c.isValidDocument()||c.convertToNoDocument(xt.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ut())}isEqual(e){return this.batchId===e.batchId&&tm(this.mutations,e.mutations,(t,i)=>NE(t,i))&&tm(this.baseMutations,e.baseMutations,(t,i)=>NE(t,i))}}class rI{constructor(e,t,i,r){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=r}static from(e,t,i){St(e.mutations.length===i.length);let r=AS;const a=e.mutations;for(let c=0;c<a.length;c++)r=r.insert(a[c].key,i[c].version);return new rI(e,t,i,r)}}class sI{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class $c{constructor(e,t,i,r,a=xt.min(),c=xt.min(),f=vi.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=f}withSequenceNumber(e){return new $c(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new $c(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new $c(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class oI{constructor(e){this.re=e}}function zS(n,e){const t=e.key,i={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:y0(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())i.document={name:tf(r=n.re,(a=e).key),fields:a.data.value.mapValue.fields,updateTime:mm(r,a.version.toTimestamp())};else if(e.isNoDocument())i.noDocument={path:t.path.toArray(),readTime:nf(e.version)};else{if(!e.isUnknownDocument())return rt();i.unknownDocument={path:t.path.toArray(),version:nf(e.version)}}var r,a;return i}function y0(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function nf(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function rf(n){const e=new Un(n.seconds,n.nanoseconds);return xt.fromTimestamp(e)}function sf(n,e){const t=(e.baseMutations||[]).map(a=>WE(n.re,a));for(let a=0;a<e.mutations.length-1;++a){const c=e.mutations[a];a+1<e.mutations.length&&void 0!==e.mutations[a+1].transform&&(c.updateTransforms=e.mutations[a+1].transform.fieldTransforms,e.mutations.splice(a+1,1),++a)}const i=e.mutations.map(a=>WE(n.re,a)),r=Un.fromMillis(e.localWriteTimeMs);return new _0(e.batchId,r,t,i)}function wm(n){const e=rf(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?rf(n.lastLimboFreeSnapshotVersion):xt.min();let i;var r;return void 0!==n.query.documents?(St(1===(r=n.query).documents.length),i=Ur(Kh(gm(r.documents[0])))):i=Ur(KE(n.query)),new $c(i,n.targetId,0,n.lastListenSequenceNumber,e,t,vi.fromBase64String(n.resumeToken))}function qS(n,e){const t=nf(e.snapshotVersion),i=nf(e.lastLimboFreeSnapshotVersion);let r;r=Zb(e.target)?p0(n.re,e.target):ZE(n.re,e.target);const a=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Vc(e.target),readTime:t,resumeToken:a,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function aI(n){const e=KE({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?P_(e,e.limit,"L"):e}function lI(n,e){return new sI(e.largestBatchId,WE(n.re,e.overlayMutation))}function WS(n,e){const t=e.path.lastSegment();return[n,Er(e.path.popLast()),t]}function ZS(n,e,t,i){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:nf(i.readTime),documentKey:Er(i.documentKey.path),largestBatchId:i.largestBatchId}}class Pk{getBundleMetadata(e,t){return s(e).get(t).next(i=>{if(i)return{id:(r=i).bundleId,createTime:rf(r.createTime),version:r.version};var r})}saveBundleMetadata(e,t){return s(e).put({bundleId:(i=t).id,createTime:nf(Si(i.createTime)),version:i.version});var i}getNamedQuery(e,t){return o(e).get(t).next(i=>{if(i)return{name:(r=i).name,query:aI(r.bundledQuery),readTime:rf(r.readTime)};var r})}saveNamedQuery(e,t){return o(e).put({name:(i=t).name,readTime:nf(Si(i.readTime)),bundledQuery:i.bundledQuery});var i}}function s(n){return Ki(n,"bundles")}function o(n){return Ki(n,"namedQueries")}class l{constructor(e,t){this.It=e,this.userId=t}static oe(e,t){return new l(e,t.uid||"")}getOverlay(e,t){return d(e).get(WS(this.userId,t)).next(i=>i?lI(this.It,i):null)}getOverlays(e,t){const i=Sa();return ce.forEach(t,r=>this.getOverlay(e,r).next(a=>{null!==a&&i.set(r,a)})).next(()=>i)}saveOverlays(e,t,i){const r=[];return i.forEach((a,c)=>{const f=new sI(t,c);r.push(this.ue(e,f))}),ce.waitFor(r)}removeOverlaysForBatchId(e,t,i){const r=new Set;t.forEach(c=>r.add(Er(c.getCollectionPath())));const a=[];return r.forEach(c=>{const f=IDBKeyRange.bound([this.userId,c,i],[this.userId,c,i+1],!1,!0);a.push(d(e).Y("collectionPathOverlayIndex",f))}),ce.waitFor(a)}getOverlaysForCollection(e,t,i){const r=Sa(),a=Er(t),c=IDBKeyRange.bound([this.userId,a,i],[this.userId,a,Number.POSITIVE_INFINITY],!0);return d(e).W("collectionPathOverlayIndex",c).next(f=>{for(const _ of f){const b=lI(this.It,_);r.set(b.getKey(),b)}return r})}getOverlaysForCollectionGroup(e,t,i,r){const a=Sa();let c;const f=IDBKeyRange.bound([this.userId,t,i],[this.userId,t,Number.POSITIVE_INFINITY],!0);return d(e).Z({index:"collectionGroupOverlayIndex",range:f},(_,b,I)=>{const x=lI(this.It,b);a.size()<r||x.largestBatchId===c?(a.set(x.getKey(),x),c=x.largestBatchId):I.done()}).next(()=>a)}ue(e,t){return d(e).put(function(i,r,a){const[c,f,_]=WS(r,a.mutation.key);return{userId:r,collectionPath:f,documentId:_,collectionGroup:a.mutation.key.getCollectionGroup(),largestBatchId:a.largestBatchId,overlayMutation:_m(i.re,a.mutation)}}(this.It,this.userId,t))}}function d(n){return Ki(n,"documentOverlays")}class h{constructor(){}ce(e,t){this.ae(e,t),t.he()}ae(e,t){if("nullValue"in e)this.le(t,5);else if("booleanValue"in e)this.le(t,10),t.fe(e.booleanValue?1:0);else if("integerValue"in e)this.le(t,15),t.fe(Hn(e.integerValue));else if("doubleValue"in e){const i=Hn(e.doubleValue);isNaN(i)?this.le(t,13):(this.le(t,15),Gh(i)?t.fe(0):t.fe(i))}else if("timestampValue"in e){const i=e.timestampValue;this.le(t,20),"string"==typeof i?t.de(i):(t.de(`${i.seconds||""}`),t.fe(i.nanos||0))}else if("stringValue"in e)this._e(e.stringValue,t),this.we(t);else if("bytesValue"in e)this.le(t,30),t.me(xl(e.bytesValue)),this.we(t);else if("referenceValue"in e)this.ge(e.referenceValue,t);else if("geoPointValue"in e){const i=e.geoPointValue;this.le(t,45),t.fe(i.latitude||0),t.fe(i.longitude||0)}else"mapValue"in e?Zh(e)?this.le(t,Number.MAX_SAFE_INTEGER):(this.ye(e.mapValue,t),this.we(t)):"arrayValue"in e?(this.pe(e.arrayValue,t),this.we(t)):rt()}_e(e,t){this.le(t,25),this.Ie(e,t)}Ie(e,t){t.de(e)}ye(e,t){const i=e.fields||{};this.le(t,55);for(const r of Object.keys(i))this._e(r,t),this.ae(i[r],t)}pe(e,t){const i=e.values||[];this.le(t,50);for(const r of i)this.ae(r,t)}ge(e,t){this.le(t,37),qe.fromName(e).path.forEach(i=>{this.le(t,60),this.Ie(i,t)})}le(e,t){e.fe(t)}we(e){e.fe(2)}}function m(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function v(n){const e=64-function(t){let i=0;for(let r=0;r<8;++r){const a=m(255&t[r]);if(i+=a,8!==a)break}return i}(n);return Math.ceil(e/8)}h.Te=new h;class C{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ee(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.Ae(i.value),i=t.next();this.Re()}be(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.Pe(i.value),i=t.next();this.ve()}Ve(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.Ae(i);else if(i<2048)this.Ae(960|i>>>6),this.Ae(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.Ae(480|i>>>12),this.Ae(128|63&i>>>6),this.Ae(128|63&i);else{const r=t.codePointAt(0);this.Ae(240|r>>>18),this.Ae(128|63&r>>>12),this.Ae(128|63&r>>>6),this.Ae(128|63&r)}}this.Re()}Se(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.Pe(i);else if(i<2048)this.Pe(960|i>>>6),this.Pe(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.Pe(480|i>>>12),this.Pe(128|63&i>>>6),this.Pe(128|63&i);else{const r=t.codePointAt(0);this.Pe(240|r>>>18),this.Pe(128|63&r>>>12),this.Pe(128|63&r>>>6),this.Pe(128|63&r)}}this.ve()}De(e){const t=this.Ce(e),i=v(t);this.xe(1+i),this.buffer[this.position++]=255&i;for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=255&t[r]}Ne(e){const t=this.Ce(e),i=v(t);this.xe(1+i),this.buffer[this.position++]=~(255&i);for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}ke(){this.Me(255),this.Me(255)}Oe(){this.Fe(255),this.Fe(255)}reset(){this.position=0}seed(e){this.xe(e.length),this.buffer.set(e,this.position),this.position+=e.length}$e(){return this.buffer.slice(0,this.position)}Ce(e){const t=function(r){const a=new DataView(new ArrayBuffer(8));return a.setFloat64(0,r,!1),new Uint8Array(a.buffer)}(e),i=0!=(128&t[0]);t[0]^=i?255:128;for(let r=1;r<t.length;++r)t[r]^=i?255:0;return t}Ae(e){const t=255&e;0===t?(this.Me(0),this.Me(255)):255===t?(this.Me(255),this.Me(0)):this.Me(t)}Pe(e){const t=255&e;0===t?(this.Fe(0),this.Fe(255)):255===t?(this.Fe(255),this.Fe(0)):this.Fe(e)}Re(){this.Me(0),this.Me(1)}ve(){this.Fe(0),this.Fe(1)}Me(e){this.xe(1),this.buffer[this.position++]=e}Fe(e){this.xe(1),this.buffer[this.position++]=~e}xe(e){const t=e+this.position;if(t<=this.buffer.length)return;let i=2*this.buffer.length;i<t&&(i=t);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class E{constructor(e){this.Be=e}me(e){this.Be.Ee(e)}de(e){this.Be.Ve(e)}fe(e){this.Be.De(e)}he(){this.Be.ke()}}class S{constructor(e){this.Be=e}me(e){this.Be.be(e)}de(e){this.Be.Se(e)}fe(e){this.Be.Ne(e)}he(){this.Be.Oe()}}class R{constructor(){this.Be=new C,this.Le=new E(this.Be),this.Ue=new S(this.Be)}seed(e){this.Be.seed(e)}qe(e){return 0===e?this.Le:this.Ue}$e(){return this.Be.$e()}reset(){this.Be.reset()}}class F{constructor(e,t,i,r){this.indexId=e,this.documentKey=t,this.arrayValue=i,this.directionalValue=r}Ke(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,i=new Uint8Array(t);return i.set(this.directionalValue,0),t!==e?i.set([0],this.directionalValue.length):++i[i.length-1],new F(this.indexId,this.documentKey,this.arrayValue,i)}}function q(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=ie(n.arrayValue,e.arrayValue),0!==t?t:(t=ie(n.directionalValue,e.directionalValue),0!==t?t:qe.comparator(n.documentKey,e.documentKey)))}function ie(n,e){for(let t=0;t<n.length&&t<e.length;++t){const i=n[t]-e[t];if(0!==i)return i}return n.length-e.length}class Ee{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ge=e.orderBy,this.Qe=[];for(const t of e.filters){const i=t;i.dt()?this.je=i:this.Qe.push(i)}}We(e){const t=Ob(e);if(void 0!==t&&!this.ze(t))return!1;const i=ad(e);let r=0,a=0;for(;r<i.length&&this.ze(i[r]);++r);if(r===i.length)return!0;if(void 0!==this.je){const c=i[r];if(!this.He(this.je,c)||!this.Je(this.Ge[a++],c))return!1;++r}for(;r<i.length;++r){const c=i[r];if(a>=this.Ge.length||!this.Je(this.Ge[a++],c))return!1}return!0}ze(e){for(const t of this.Qe)if(this.He(t,e))return!0;return!1}He(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Je(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class Ne{constructor(){this.Ye=new ze}addToCollectionParentIndex(e,t){return this.Ye.add(t),ce.resolve()}getCollectionParents(e,t){return ce.resolve(this.Ye.getEntries(t))}addFieldIndex(e,t){return ce.resolve()}deleteFieldIndex(e,t){return ce.resolve()}getDocumentsMatchingTarget(e,t){return ce.resolve(null)}getIndexType(e,t){return ce.resolve(0)}getFieldIndexes(e,t){return ce.resolve([])}getNextCollectionGroupToUpdate(e){return ce.resolve(null)}getMinOffset(e,t){return ce.resolve(is.min())}getMinOffsetFromCollectionGroup(e,t){return ce.resolve(is.min())}updateCollectionGroup(e,t,i){return ce.resolve()}updateIndexEntries(e,t){return ce.resolve()}}class ze{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t]||new hn(en.comparator),a=!r.has(i);return this.index[t]=r.add(i),a}has(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t];return r&&r.has(i)}getEntries(e){return(this.index[e]||new hn(en.comparator)).toArray()}}const Xe=new Uint8Array(0);class Ct{constructor(e,t){this.user=e,this.databaseId=t,this.Xe=new ze,this.Ze=new Ta(i=>Vc(i),(i,r)=>hd(i,r)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Xe.has(t)){const i=t.lastSegment(),r=t.popLast();e.addOnCommittedListener(()=>{this.Xe.add(t)});const a={collectionId:i,parent:Er(r)};return ke(e).put(a)}return ce.resolve()}getCollectionParents(e,t){const i=[],r=IDBKeyRange.bound([t,""],[bE(t),""],!1,!0);return ke(e).W(r).next(a=>{for(const c of a){if(c.collectionId!==t)break;i.push(so(c.parent))}return i})}addFieldIndex(e,t){const i=qt(e),r={indexId:(c=t).indexId,collectionGroup:c.collectionGroup,fields:c.fields.map(f=>[f.fieldPath.canonicalString(),f.kind])};var c;delete r.indexId;const a=i.add(r);if(t.indexState){const c=gn(e);return a.next(f=>{c.put(ZS(f,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return a.next()}deleteFieldIndex(e,t){const i=qt(e),r=gn(e),a=ht(e);return i.delete(t.indexId).next(()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>a.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const i=ht(e);let r=!0;const a=new Map;return ce.forEach(this.tn(t),c=>this.en(e,c).next(f=>{r&&(r=!!f),a.set(c,f)})).next(()=>{if(r){let c=Ut();const f=[];return ce.forEach(a,(_,b)=>{var I;Pe("IndexedDbIndexManager",`Using index ${I=_,`id=${I.indexId}|cg=${I.collectionGroup}|f=${I.fields.map(yt=>`${yt.fieldPath}:${yt.kind}`).join(",")}`} to execute ${Vc(t)}`);const x=function(yt,ot){const Mt=Ob(ot);if(void 0===Mt)return null;for(const kt of hm(yt,Mt.fieldPath))switch(kt.op){case"array-contains-any":return kt.value.arrayValue.values||[];case"array-contains":return[kt.value]}return null}(b,_),L=function(yt,ot){const Mt=new Map;for(const kt of ad(ot))for(const sn of hm(yt,kt.fieldPath))switch(sn.op){case"==":case"in":Mt.set(kt.fieldPath.canonicalString(),sn.value);break;case"not-in":case"!=":return Mt.set(kt.fieldPath.canonicalString(),sn.value),Array.from(Mt.values())}return null}(b,_),B=function(yt,ot){const Mt=[];let kt=!0;for(const sn of ad(ot)){const Fs=0===sn.kind?xE(yt,sn.fieldPath,yt.startAt):Kb(yt,sn.fieldPath,yt.startAt);Mt.push(Fs.value),kt&&(kt=Fs.inclusive)}return new Bc(Mt,kt)}(b,_),H=function(yt,ot){const Mt=[];let kt=!0;for(const sn of ad(ot)){const Fs=0===sn.kind?Kb(yt,sn.fieldPath,yt.endAt):xE(yt,sn.fieldPath,yt.endAt);Mt.push(Fs.value),kt&&(kt=Fs.inclusive)}return new Bc(Mt,kt)}(b,_),ee=this.nn(_,b,B),ve=this.nn(_,b,H),Ge=this.sn(_,b,L),et=this.rn(_.indexId,x,ee,B.inclusive,ve,H.inclusive,Ge);return ce.forEach(et,yt=>i.J(yt,t.limit).next(ot=>{ot.forEach(Mt=>{const kt=qe.fromSegments(Mt.documentKey);c.has(kt)||(c=c.add(kt),f.push(kt))})}))}).next(()=>f)}return ce.resolve(null)})}tn(e){let t=this.Ze.get(e);return t||(t=[e],this.Ze.set(e,t),t)}rn(e,t,i,r,a,c,f){const _=(null!=t?t.length:1)*Math.max(i.length,a.length),b=_/(null!=t?t.length:1),I=[];for(let x=0;x<_;++x){const L=t?this.on(t[x/b]):Xe,B=this.un(e,L,i[x%b],r),H=this.cn(e,L,a[x%b],c),ee=f.map(ve=>this.un(e,L,ve,!0));I.push(...this.createRange(B,H,ee))}return I}un(e,t,i,r){const a=new F(e,qe.empty(),t,i);return r?a:a.Ke()}cn(e,t,i,r){const a=new F(e,qe.empty(),t,i);return r?a.Ke():a}en(e,t){const i=new Ee(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next(a=>{let c=null;for(const f of a)i.We(f)&&(!c||f.fields.length>c.fields.length)&&(c=f);return c})}getIndexType(e,t){let i=2;return ce.forEach(this.tn(t),r=>this.en(e,r).next(a=>{a?0!==i&&a.fields.length<function(c){let f=new hn(ai.comparator),_=!1;for(const b of c.filters){const I=b;I.field.isKeyField()||("array-contains"===I.op||"array-contains-any"===I.op?_=!0:f=f.add(I.field))}for(const b of c.orderBy)b.field.isKeyField()||(f=f.add(b.field));return f.size+(_?1:0)}(r)&&(i=1):i=0})).next(()=>i)}an(e,t){const i=new R;for(const r of ad(e)){const a=t.data.field(r.fieldPath);if(null==a)return null;const c=i.qe(r.kind);h.Te.ce(a,c)}return i.$e()}on(e){const t=new R;return h.Te.ce(e,t.qe(0)),t.$e()}hn(e,t){const i=new R;return h.Te.ce(io(this.databaseId,t),i.qe(function(r){const a=ad(r);return 0===a.length?0:a[a.length-1].kind}(e))),i.$e()}sn(e,t,i){if(null===i)return[];let r=[];r.push(new R);let a=0;for(const c of ad(e)){const f=i[a++];for(const _ of r)if(this.ln(t,c.fieldPath)&&um(f))r=this.fn(r,c,f);else{const b=_.qe(c.kind);h.Te.ce(f,b)}}return this.dn(r)}nn(e,t,i){return this.sn(e,t,i.position)}dn(e){const t=[];for(let i=0;i<e.length;++i)t[i]=e[i].$e();return t}fn(e,t,i){const r=[...e],a=[];for(const c of i.arrayValue.values||[])for(const f of r){const _=new R;_.seed(f.$e()),h.Te.ce(c,_.qe(t.kind)),a.push(_)}return a}ln(e,t){return!!e.filters.find(i=>i instanceof ci&&i.field.isEqual(t)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(e,t){const i=qt(e),r=gn(e);return(t?i.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):i.W()).next(a=>{const c=[];return ce.forEach(a,f=>r.get([f.indexId,this.uid]).next(_=>{c.push(function(b,I){const x=I?new jh(I.sequenceNumber,new is(rf(I.readTime),new qe(so(I.documentKey)),I.largestBatchId)):jh.empty(),L=b.fields.map(([B,H])=>new Nc(ai.fromServerFormat(B),H));return new M_(b.indexId,b.collectionGroup,L,x)}(f,_))})).next(()=>c)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((i,r)=>{const a=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==a?a:Lt(i.collectionGroup,r.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,i){const r=qt(e),a=gn(e);return this._n(e).next(c=>r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(f=>ce.forEach(f,_=>a.put(ZS(_.indexId,this.user,c,i)))))}updateIndexEntries(e,t){const i=new Map;return ce.forEach(t,(r,a)=>{const c=i.get(r.collectionGroup);return(c?ce.resolve(c):this.getFieldIndexes(e,r.collectionGroup)).next(f=>(i.set(r.collectionGroup,f),ce.forEach(f,_=>this.wn(e,r,_).next(b=>{const I=this.mn(a,_);return b.isEqual(I)?ce.resolve():this.gn(e,a,_,b,I)}))))})}yn(e,t,i,r){return ht(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.hn(i,t.key),documentKey:t.key.path.toArray()})}pn(e,t,i,r){return ht(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.hn(i,t.key),t.key.path.toArray()])}wn(e,t,i){const r=ht(e);let a=new hn(q);return r.Z({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.hn(i,t)])},(c,f)=>{a=a.add(new F(i.indexId,t,f.arrayValue,f.directionalValue))}).next(()=>a)}mn(e,t){let i=new hn(q);const r=this.an(t,e);if(null==r)return i;const a=Ob(t);if(null!=a){const c=e.data.field(a.fieldPath);if(um(c))for(const f of c.arrayValue.values||[])i=i.add(new F(t.indexId,e.key,this.on(f),r))}else i=i.add(new F(t.indexId,e.key,Xe,r));return i}gn(e,t,i,r,a){Pe("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const c=[];return function(f,_,b,I,x){const L=f.getIterator(),B=_.getIterator();let H=$h(L),ee=$h(B);for(;H||ee;){let ve=!1,Ge=!1;if(H&&ee){const et=b(H,ee);et<0?Ge=!0:et>0&&(ve=!0)}else null!=H?Ge=!0:ve=!0;ve?(I(ee),ee=$h(B)):Ge?(x(H),H=$h(L)):(H=$h(L),ee=$h(B))}}(r,a,q,f=>{c.push(this.yn(e,t,i,f))},f=>{c.push(this.pn(e,t,i,f))}),ce.waitFor(c)}_n(e){let t=1;return gn(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,a)=>{a.done(),t=r.sequenceNumber+1}).next(()=>t)}createRange(e,t,i){i=i.sort((c,f)=>q(c,f)).filter((c,f,_)=>!f||0!==q(c,_[f-1]));const r=[];r.push(e);for(const c of i){const f=q(c,e),_=q(c,t);if(0===f)r[0]=e.Ke();else if(f>0&&_<0)r.push(c),r.push(c.Ke());else if(_>0)break}r.push(t);const a=[];for(let c=0;c<r.length;c+=2)a.push(IDBKeyRange.bound([r[c].indexId,this.uid,r[c].arrayValue,r[c].directionalValue,Xe,[]],[r[c+1].indexId,this.uid,r[c+1].arrayValue,r[c+1].directionalValue,Xe,[]]));return a}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(Gc)}getMinOffset(e,t){return ce.mapArray(this.tn(t),i=>this.en(e,i).next(r=>r||rt())).next(Gc)}}function ke(n){return Ki(n,"collectionParents")}function ht(n){return Ki(n,"indexEntries")}function qt(n){return Ki(n,"indexConfiguration")}function gn(n){return Ki(n,"indexState")}function Gc(n){St(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let i=1;i<n.length;i++){const r=n[i].indexState.offset;Fb(r,e)<0&&(e=r),t<r.largestBatchId&&(t=r.largestBatchId)}return new is(e.readTime,e.documentKey,t)}const Y_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Ir{constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new Ir(e,Ir.DEFAULT_COLLECTION_PERCENTILE,Ir.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Q_(n,e,t){const i=n.store("mutations"),r=n.store("documentMutations"),a=[],c=IDBKeyRange.only(t.batchId);let f=0;const _=i.Z({range:c},(I,x,L)=>(f++,L.delete()));a.push(_.next(()=>{St(1===f)}));const b=[];for(const I of t.mutations){const x=W_(e,I.key.path,t.batchId);a.push(r.delete(x)),b.push(I.key)}return ce.waitFor(a).next(()=>b)}function af(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw rt();e=n.noDocument}return JSON.stringify(e).length}Ir.DEFAULT_COLLECTION_PERCENTILE=10,Ir.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ir.DEFAULT=new Ir(41943040,Ir.DEFAULT_COLLECTION_PERCENTILE,Ir.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ir.DISABLED=new Ir(-1,0,0);class lf{constructor(e,t,i,r){this.userId=e,this.It=t,this.indexManager=i,this.referenceDelegate=r,this.In={}}static oe(e,t,i,r){St(""!==e.uid);const a=e.isAuthenticated()?e.uid:"";return new lf(a,t,i,r)}checkEmpty(e){let t=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return xa(e).Z({index:"userMutationsIndex",range:i},(r,a,c)=>{t=!1,c.done()}).next(()=>t)}addMutationBatch(e,t,i,r){const a=zc(e),c=xa(e);return c.add({}).next(f=>{St("number"==typeof f);const _=new _0(f,t,i,r),b=function(L,B,H){const ee=H.baseMutations.map(Ge=>_m(L.re,Ge)),ve=H.mutations.map(Ge=>_m(L.re,Ge));return{userId:B,batchId:H.batchId,localWriteTimeMs:H.localWriteTime.toMillis(),baseMutations:ee,mutations:ve}}(this.It,this.userId,_),I=[];let x=new hn((L,B)=>Lt(L.canonicalString(),B.canonicalString()));for(const L of r){const B=W_(this.userId,L.key.path,f);x=x.add(L.key.path.popLast()),I.push(c.put(b)),I.push(a.put(B,g0))}return x.forEach(L=>{I.push(this.indexManager.addToCollectionParentIndex(e,L))}),e.addOnCommittedListener(()=>{this.In[f]=_.keys()}),ce.waitFor(I).next(()=>_)})}lookupMutationBatch(e,t){return xa(e).get(t).next(i=>i?(St(i.userId===this.userId),sf(this.It,i)):null)}Tn(e,t){return this.In[t]?ce.resolve(this.In[t]):this.lookupMutationBatch(e,t).next(i=>{if(i){const r=i.keys();return this.In[t]=r,r}return null})}getNextMutationBatchAfterBatchId(e,t){const i=t+1,r=IDBKeyRange.lowerBound([this.userId,i]);let a=null;return xa(e).Z({index:"userMutationsIndex",range:r},(c,f,_)=>{f.userId===this.userId&&(St(f.batchId>=i),a=sf(this.It,f)),_.done()}).next(()=>a)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return xa(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(r,a,c)=>{i=a.batchId,c.done()}).next(()=>i)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return xa(e).W("userMutationsIndex",t).next(i=>i.map(r=>sf(this.It,r)))}getAllMutationBatchesAffectingDocumentKey(e,t){const i=q_(this.userId,t.path),r=IDBKeyRange.lowerBound(i),a=[];return zc(e).Z({range:r},(c,f,_)=>{const[b,I,x]=c,L=so(I);if(b===this.userId&&t.path.isEqual(L))return xa(e).get(x).next(B=>{if(!B)throw rt();St(B.userId===this.userId),a.push(sf(this.It,B))});_.done()}).next(()=>a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new hn(Lt);const r=[];return t.forEach(a=>{const c=q_(this.userId,a.path),f=IDBKeyRange.lowerBound(c),_=zc(e).Z({range:f},(b,I,x)=>{const[L,B,H]=b,ee=so(B);L===this.userId&&a.path.isEqual(ee)?i=i.add(H):x.done()});r.push(_)}),ce.waitFor(r).next(()=>this.En(e,i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1,a=q_(this.userId,i),c=IDBKeyRange.lowerBound(a);let f=new hn(Lt);return zc(e).Z({range:c},(_,b,I)=>{const[x,L,B]=_,H=so(L);x===this.userId&&i.isPrefixOf(H)?H.length===r&&(f=f.add(B)):I.done()}).next(()=>this.En(e,f))}En(e,t){const i=[],r=[];return t.forEach(a=>{r.push(xa(e).get(a).next(c=>{if(null===c)throw rt();St(c.userId===this.userId),i.push(sf(this.It,c))}))}),ce.waitFor(r).next(()=>i)}removeMutationBatch(e,t){return Q_(e.ie,this.userId,t).next(i=>(e.addOnCommittedListener(()=>{this.An(t.batchId)}),ce.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(e,r))))}An(e){delete this.In[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return ce.resolve();const i=IDBKeyRange.lowerBound([this.userId]),r=[];return zc(e).Z({range:i},(a,c,f)=>{if(a[0]===this.userId){const _=so(a[1]);r.push(_)}else f.done()}).next(()=>{St(0===r.length)})})}containsKey(e,t){return X_(e,this.userId,t)}Rn(e){return J_(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function X_(n,e,t){const i=q_(e,t.path),r=i[1],a=IDBKeyRange.lowerBound(i);let c=!1;return zc(n).Z({range:a,X:!0},(f,_,b)=>{const[I,x,L]=f;I===e&&x===r&&(c=!0),b.done()}).next(()=>c)}function xa(n){return Ki(n,"mutations")}function zc(n){return Ki(n,"documentMutations")}function J_(n){return Ki(n,"mutationQueues")}class Cm{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new Cm(0)}static vn(){return new Cm(-1)}}class mN{constructor(e,t){this.referenceDelegate=e,this.It=t}allocateTargetId(e){return this.Vn(e).next(t=>{const i=new Cm(t.highestTargetId);return t.highestTargetId=i.next(),this.Sn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Vn(e).next(t=>xt.fromTimestamp(new Un(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Vn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,i){return this.Vn(e).next(r=>(r.highestListenSequenceNumber=t,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.Sn(e,r)))}addTargetData(e,t){return this.Dn(e,t).next(()=>this.Vn(e).next(i=>(i.targetCount+=1,this.Cn(t,i),this.Sn(e,i))))}updateTargetData(e,t){return this.Dn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>ey(e).delete(t.targetId)).next(()=>this.Vn(e)).next(i=>(St(i.targetCount>0),i.targetCount-=1,this.Sn(e,i)))}removeTargets(e,t,i){let r=0;const a=[];return ey(e).Z((c,f)=>{const _=wm(f);_.sequenceNumber<=t&&null===i.get(_.targetId)&&(r++,a.push(this.removeTargetData(e,_)))}).next(()=>ce.waitFor(a)).next(()=>r)}forEachTarget(e,t){return ey(e).Z((i,r)=>{const a=wm(r);t(a)})}Vn(e){return Nk(e).get("targetGlobalKey").next(t=>(St(null!==t),t))}Sn(e,t){return Nk(e).put("targetGlobalKey",t)}Dn(e,t){return ey(e).put(qS(this.It,t))}Cn(e,t){let i=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,i=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,i=!0),i}getTargetCount(e){return this.Vn(e).next(t=>t.targetCount)}getTargetData(e,t){const i=Vc(t),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let a=null;return ey(e).Z({range:r,index:"queryTargetsIndex"},(c,f,_)=>{const b=wm(f);hd(t,b.target)&&(a=b,_.done())}).next(()=>a)}addMatchingKeys(e,t,i){const r=[],a=cf(e);return t.forEach(c=>{const f=Er(c.path);r.push(a.put({targetId:i,path:f})),r.push(this.referenceDelegate.addReference(e,i,c))}),ce.waitFor(r)}removeMatchingKeys(e,t,i){const r=cf(e);return ce.forEach(t,a=>{const c=Er(a.path);return ce.waitFor([r.delete([i,c]),this.referenceDelegate.removeReference(e,i,a)])})}removeMatchingKeysForTargetId(e,t){const i=cf(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(e,t){const i=IDBKeyRange.bound([t],[t+1],!1,!0),r=cf(e);let a=Ut();return r.Z({range:i,X:!0},(c,f,_)=>{const b=so(c[1]),I=new qe(b);a=a.add(I)}).next(()=>a)}containsKey(e,t){const i=Er(t.path),r=IDBKeyRange.bound([i],[bE(i)],!1,!0);let a=0;return cf(e).Z({index:"documentTargetsIndex",X:!0,range:r},([c,f],_,b)=>{0!==c&&(a++,b.done())}).next(()=>a>0)}se(e,t){return ey(e).get(t).next(i=>i?wm(i):null)}}function ey(n){return Ki(n,"targets")}function Nk(n){return Ki(n,"targetGlobal")}function cf(n){return Ki(n,"targetDocuments")}function Fk([n,e],[t,i]){const r=Lt(n,t);return 0===r?Lt(e,i):r}class gN{constructor(e){this.xn=e,this.buffer=new hn(Fk),this.Nn=0}kn(){return++this.Nn}Mn(e){const t=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();Fk(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class _N{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.On=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}stop(){this.On&&(this.On.cancel(),this.On=null)}get started(){return null!==this.On}Fn(e){var t=this;Pe("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.On=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,be.Z)(function*(){t.On=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(i){Ca(i)?Pe("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield Fc(i)}yield t.Fn(3e5)}))}}class yN{constructor(e,t){this.$n=e,this.params=t}calculateTargetCount(e,t){return this.$n.Bn(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(0===t)return ce.resolve(rs.at);const i=new gN(t);return this.$n.forEachTarget(e,r=>i.Mn(r.sequenceNumber)).next(()=>this.$n.Ln(e,r=>i.Mn(r))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.$n.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.$n.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Pe("LruGarbageCollector","Garbage collection skipped; disabled"),ce.resolve(Y_)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(Pe("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Y_):this.Un(e,t))}getCacheSize(e){return this.$n.getCacheSize(e)}Un(e,t){let i,r,a,c,f,_,b;const I=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(x=>(x>this.params.maximumSequenceNumbersToCollect?(Pe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${x}`),r=this.params.maximumSequenceNumbersToCollect):r=x,c=Date.now(),this.nthSequenceNumber(e,r))).next(x=>(i=x,f=Date.now(),this.removeTargets(e,i,t))).next(x=>(a=x,_=Date.now(),this.removeOrphanedDocuments(e,i))).next(x=>(b=Date.now(),Oc()<=Ms.in.DEBUG&&Pe("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${c-I}ms\n\tDetermined least recently used ${r} in `+(f-c)+`ms\n\tRemoved ${a} targets in `+(_-f)+`ms\n\tRemoved ${x} documents in `+(b-_)+`ms\nTotal Duration: ${b-I}ms`),ce.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:a,documentsRemoved:x})))}}class vN{constructor(e,t){this.db=e,this.garbageCollector=new yN(this,t)}Bn(e){const t=this.qn(e);return this.db.getTargetCache().getTargetCount(e).next(i=>t.next(r=>i+r))}qn(e){let t=0;return this.Ln(e,i=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Ln(e,t){return this.Kn(e,(i,r)=>t(r))}addReference(e,t,i){return cI(e,i)}removeReference(e,t,i){return cI(e,i)}removeTargets(e,t,i){return this.db.getTargetCache().removeTargets(e,t,i)}markPotentiallyOrphaned(e,t){return cI(e,t)}Gn(e,t){return function(i,r){let a=!1;return J_(i).tt(c=>X_(i,c,r).next(f=>(f&&(a=!0),ce.resolve(!f)))).next(()=>a)}(e,t)}removeOrphanedDocuments(e,t){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let a=0;return this.Kn(e,(c,f)=>{if(f<=t){const _=this.Gn(e,c).next(b=>{if(!b)return a++,i.getEntry(e,c).next(()=>(i.removeEntry(c,xt.min()),cf(e).delete([0,Er(c.path)])))});r.push(_)}}).next(()=>ce.waitFor(r)).next(()=>i.apply(e)).next(()=>a)}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,i)}updateLimboDocument(e,t){return cI(e,t)}Kn(e,t){const i=cf(e);let r,a=rs.at;return i.Z({index:"documentTargetsIndex"},([c,f],{path:_,sequenceNumber:b})=>{0===c?(a!==rs.at&&t(new qe(so(r)),a),a=b,r=_):a=rs.at}).next(()=>{a!==rs.at&&t(new qe(so(r)),a)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function cI(n,e){return cf(n).put((i=n.currentSequenceNumber,{targetId:0,path:Er(e.path),sequenceNumber:i}));var i}class Lk{constructor(){this.changes=new Ta(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Sn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return void 0!==i?ce.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class bN{constructor(e){this.It=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,i){return Em(e).put(i)}removeEntry(e,t,i){return Em(e).delete(function(r,a){const c=r.path.toArray();return[c.slice(0,c.length-2),c[c.length-2],y0(a),c[c.length-1]]}(t,i))}updateMetadata(e,t){return this.getMetadata(e).next(i=>(i.byteSize+=t,this.Qn(e,i)))}getEntry(e,t){let i=Sn.newInvalidDocument(t);return Em(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(v0(t))},(r,a)=>{i=this.jn(t,a)}).next(()=>i)}Wn(e,t){let i={size:0,document:Sn.newInvalidDocument(t)};return Em(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(v0(t))},(r,a)=>{i={document:this.jn(t,a),size:af(a)}}).next(()=>i)}getEntries(e,t){let i=ss();return this.zn(e,t,(r,a)=>{const c=this.jn(r,a);i=i.insert(r,c)}).next(()=>i)}Hn(e,t){let i=ss(),r=new li(qe.comparator);return this.zn(e,t,(a,c)=>{const f=this.jn(a,c);i=i.insert(a,f),r=r.insert(a,af(c))}).next(()=>({documents:i,Jn:r}))}zn(e,t,i){if(t.isEmpty())return ce.resolve();let r=new hn(Hk);t.forEach(_=>r=r.add(_));const a=IDBKeyRange.bound(v0(r.first()),v0(r.last())),c=r.getIterator();let f=c.getNext();return Em(e).Z({index:"documentKeyIndex",range:a},(_,b,I)=>{const x=qe.fromSegments([...b.prefixPath,b.collectionGroup,b.documentId]);for(;f&&Hk(f,x)<0;)i(f,null),f=c.getNext();f&&f.isEqual(x)&&(i(f,b),f=c.hasNext()?c.getNext():null),f?I.j(v0(f)):I.done()}).next(()=>{for(;f;)i(f,null),f=c.hasNext()?c.getNext():null})}getAllFromCollection(e,t,i){const r=[t.popLast().toArray(),t.lastSegment(),y0(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],a=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Em(e).W(IDBKeyRange.bound(r,a,!0)).next(c=>{let f=ss();for(const _ of c){const b=this.jn(qe.fromSegments(_.prefixPath.concat(_.collectionGroup,_.documentId)),_);f=f.insert(b.key,b)}return f})}getAllFromCollectionGroup(e,t,i,r){let a=ss();const c=Uk(t,i),f=Uk(t,is.max());return Em(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(c,f,!0)},(_,b,I)=>{const x=this.jn(qe.fromSegments(b.prefixPath.concat(b.collectionGroup,b.documentId)),b);a=a.insert(x.key,x),a.size===r&&I.done()}).next(()=>a)}newChangeBuffer(e){return new wN(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return Bk(e).get("remoteDocumentGlobalKey").next(t=>(St(!!t),t))}Qn(e,t){return Bk(e).put("remoteDocumentGlobalKey",t)}jn(e,t){if(t){const i=function GS(n,e){let t;if(e.document)t=f0(n.re,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const i=qe.fromSegments(e.noDocument.path),r=rf(e.noDocument.readTime);t=Sn.newNoDocument(i,r),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return rt();{const i=qe.fromSegments(e.unknownDocument.path),r=rf(e.unknownDocument.version);t=Sn.newUnknownDocument(i,r)}}return e.readTime&&t.setReadTime(function(i){const r=new Un(i[0],i[1]);return xt.fromTimestamp(r)}(e.readTime)),t}(this.It,t);if(!i.isNoDocument()||!i.version.isEqual(xt.min()))return i}return Sn.newInvalidDocument(e)}}function Vk(n){return new bN(n)}class wN extends Lk{constructor(e,t){super(),this.Yn=e,this.trackRemovals=t,this.Xn=new Ta(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(e){const t=[];let i=0,r=new hn((a,c)=>Lt(a.canonicalString(),c.canonicalString()));return this.changes.forEach((a,c)=>{const f=this.Xn.get(a);if(t.push(this.Yn.removeEntry(e,a,f.readTime)),c.isValidDocument()){const _=zS(this.Yn.It,c);r=r.add(a.path.popLast()),i+=af(_)-f.size,t.push(this.Yn.addEntry(e,a,_))}else if(i-=f.size,this.trackRemovals){const _=zS(this.Yn.It,c.convertToNoDocument(xt.min()));t.push(this.Yn.addEntry(e,a,_))}}),r.forEach(a=>{t.push(this.Yn.indexManager.addToCollectionParentIndex(e,a))}),t.push(this.Yn.updateMetadata(e,i)),ce.waitFor(t)}getFromCache(e,t){return this.Yn.Wn(e,t).next(i=>(this.Xn.set(t,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(e,t){return this.Yn.Hn(e,t).next(({documents:i,Jn:r})=>(r.forEach((a,c)=>{this.Xn.set(a,{size:c,readTime:i.get(a).readTime})}),i))}}function Bk(n){return Ki(n,"remoteDocumentGlobal")}function Em(n){return Ki(n,"remoteDocumentsV14")}function v0(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Uk(n,e){const t=e.documentKey.path.toArray();return[n,y0(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function Hk(n,e){const t=n.path.toArray(),i=e.path.toArray();let r=0;for(let a=0;a<t.length-2&&a<i.length-2;++a)if(r=Lt(t[a],i[a]),r)return r;return r=Lt(t.length,i.length),r||(r=Lt(t[t.length-2],i[i.length-2]),r||Lt(t[t.length-1],i[i.length-1]))}class CN{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class jk{constructor(e,t,i,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(i=r,this.getBaseDocument(e,t,i))).next(r=>(null!==i&&U_(i.mutation,r,As.empty(),Un.now()),r))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,Ut()).next(()=>i))}getLocalViewOfDocuments(e,t,i=Ut()){const r=Sa();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,i).next(a=>{let c=Xh();return a.forEach((f,_)=>{c=c.insert(f,_.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const i=Sa();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,Ut()))}populateOverlays(e,t,i){const r=[];return i.forEach(a=>{t.has(a)||r.push(a)}),this.documentOverlayCache.getOverlays(e,r).next(a=>{a.forEach((c,f)=>{t.set(c,f)})})}computeViews(e,t,i,r){let a=ss();const c=Jh(),f=Jh();return t.forEach((_,b)=>{const I=i.get(b.key);r.has(b.key)&&(void 0===I||I.mutation instanceof Hc)?a=a.insert(b.key,b):void 0!==I&&(c.set(b.key,I.mutation.getFieldMask()),U_(I.mutation,b,I.mutation.getFieldMask(),Un.now()))}),this.recalculateAndSaveOverlays(e,a).next(_=>(_.forEach((b,I)=>c.set(b,I)),t.forEach((b,I)=>{var x;return f.set(b,new CN(I,null!==(x=c.get(b))&&void 0!==x?x:null))}),f))}recalculateAndSaveOverlays(e,t){const i=Jh();let r=new li((c,f)=>c-f),a=Ut();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const f of c)f.keys().forEach(_=>{const b=t.get(_);if(null===b)return;let I=i.get(_)||As.empty();I=f.applyToLocalView(b,I),i.set(_,I);const x=(r.get(f.batchId)||Ut()).add(_);r=r.insert(f.batchId,x)})}).next(()=>{const c=[],f=r.getReverseIterator();for(;f.hasNext();){const _=f.getNext(),b=_.key,I=_.value,x=l0();I.forEach(L=>{if(!a.has(L)){const B=TS(t.get(L),i.get(L));null!==B&&x.set(L,B),a=a.add(L)}}),c.push(this.documentOverlayCache.saveOverlays(e,b,x))}return ce.waitFor(c)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i){return qe.isDocumentKey((r=t).path)&&null===r.collectionGroup&&0===r.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):O_(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i):this.getDocumentsMatchingCollectionQuery(e,t,i);var r}getNextDocuments(e,t,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,r).next(a=>{const c=r-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,r-a.size):ce.resolve(Sa());let f=-1,_=a;return c.next(b=>ce.forEach(b,(I,x)=>(f<x.largestBatchId&&(f=x.largestBatchId),a.get(I)?ce.resolve():this.getBaseDocument(e,I,x).next(L=>{_=_.insert(I,L)}))).next(()=>this.populateOverlays(e,b,a)).next(()=>this.computeViews(e,_,b,Ut())).next(I=>({batchId:f,changes:a0(I)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new qe(t)).next(i=>{let r=Xh();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,t,i){const r=t.collectionGroup;let a=Xh();return this.indexManager.getCollectionParents(e,r).next(c=>ce.forEach(c,f=>{const _=(b=t,I=f.child(r),new Da(I,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt));var b,I;return this.getDocumentsMatchingCollectionQuery(e,_,i).next(b=>{b.forEach((I,x)=>{a=a.insert(I,x)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,t,i){let r;return this.remoteDocumentCache.getAllFromCollection(e,t.path,i).next(a=>(r=a,this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId))).next(a=>{a.forEach((f,_)=>{const b=_.getKey();null===r.get(b)&&(r=r.insert(b,Sn.newInvalidDocument(b)))});let c=Xh();return r.forEach((f,_)=>{const b=a.get(f);void 0!==b&&U_(b.mutation,_,As.empty(),Un.now()),OE(t,_)&&(c=c.insert(f,_))}),c})}getBaseDocument(e,t,i){return null===i||1===i.mutation.type?this.remoteDocumentCache.getEntry(e,t):ce.resolve(Sn.newInvalidDocument(t))}}class EN{constructor(e){this.It=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,t){return ce.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){var i;return this.Zn.set(t.id,{id:(i=t).id,version:i.version,createTime:Si(i.createTime)}),ce.resolve()}getNamedQuery(e,t){return ce.resolve(this.ts.get(t))}saveNamedQuery(e,t){return this.ts.set(t.name,{name:(i=t).name,query:aI(i.bundledQuery),readTime:Si(i.readTime)}),ce.resolve();var i}}class IN{constructor(){this.overlays=new li(qe.comparator),this.es=new Map}getOverlay(e,t){return ce.resolve(this.overlays.get(t))}getOverlays(e,t){const i=Sa();return ce.forEach(t,r=>this.getOverlay(e,r).next(a=>{null!==a&&i.set(r,a)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((r,a)=>{this.ue(e,t,a)}),ce.resolve()}removeOverlaysForBatchId(e,t,i){const r=this.es.get(i);return void 0!==r&&(r.forEach(a=>this.overlays=this.overlays.remove(a)),this.es.delete(i)),ce.resolve()}getOverlaysForCollection(e,t,i){const r=Sa(),a=t.length+1,c=new qe(t.child("")),f=this.overlays.getIteratorFrom(c);for(;f.hasNext();){const _=f.getNext().value,b=_.getKey();if(!t.isPrefixOf(b.path))break;b.path.length===a&&_.largestBatchId>i&&r.set(_.getKey(),_)}return ce.resolve(r)}getOverlaysForCollectionGroup(e,t,i,r){let a=new li((b,I)=>b-I);const c=this.overlays.getIterator();for(;c.hasNext();){const b=c.getNext().value;if(b.getKey().getCollectionGroup()===t&&b.largestBatchId>i){let I=a.get(b.largestBatchId);null===I&&(I=Sa(),a=a.insert(b.largestBatchId,I)),I.set(b.getKey(),b)}}const f=Sa(),_=a.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach((b,I)=>f.set(b,I)),!(f.size()>=r)););return ce.resolve(f)}ue(e,t,i){const r=this.overlays.get(i.key);if(null!==r){const c=this.es.get(r.largestBatchId).delete(i.key);this.es.set(r.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new sI(t,i));let a=this.es.get(t);void 0===a&&(a=Ut(),this.es.set(t,a)),this.es.set(t,a.add(i.key))}}class KS{constructor(){this.ns=new hn(Dr.ss),this.rs=new hn(Dr.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,t){const i=new Dr(e,t);this.ns=this.ns.add(i),this.rs=this.rs.add(i)}us(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.cs(new Dr(e,t))}hs(e,t){e.forEach(i=>this.removeReference(i,t))}ls(e){const t=new qe(new en([])),i=new Dr(t,e),r=new Dr(t,e+1),a=[];return this.rs.forEachInRange([i,r],c=>{this.cs(c),a.push(c.key)}),a}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const t=new qe(new en([])),i=new Dr(t,e),r=new Dr(t,e+1);let a=Ut();return this.rs.forEachInRange([i,r],c=>{a=a.add(c.key)}),a}containsKey(e){const t=new Dr(e,0),i=this.ns.firstAfterOrEqual(t);return null!==i&&e.isEqual(i.key)}}class Dr{constructor(e,t){this.key=e,this._s=t}static ss(e,t){return qe.comparator(e.key,t.key)||Lt(e._s,t._s)}static os(e,t){return Lt(e._s,t._s)||qe.comparator(e.key,t.key)}}class DN{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this.gs=new hn(Dr.ss)}checkEmpty(e){return ce.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,i,r){const a=this.ws;this.ws++;const c=new _0(a,t,i,r);this.mutationQueue.push(c);for(const f of r)this.gs=this.gs.add(new Dr(f.key,a)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return ce.resolve(c)}lookupMutationBatch(e,t){return ce.resolve(this.ys(t))}getNextMutationBatchAfterBatchId(e,t){const r=this.ps(t+1),a=r<0?0:r;return ce.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return ce.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return ce.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Dr(t,0),r=new Dr(t,Number.POSITIVE_INFINITY),a=[];return this.gs.forEachInRange([i,r],c=>{const f=this.ys(c._s);a.push(f)}),ce.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new hn(Lt);return t.forEach(r=>{const a=new Dr(r,0),c=new Dr(r,Number.POSITIVE_INFINITY);this.gs.forEachInRange([a,c],f=>{i=i.add(f._s)})}),ce.resolve(this.Is(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1;let a=i;qe.isDocumentKey(a)||(a=a.child(""));const c=new Dr(new qe(a),0);let f=new hn(Lt);return this.gs.forEachWhile(_=>{const b=_.key.path;return!!i.isPrefixOf(b)&&(b.length===r&&(f=f.add(_._s)),!0)},c),ce.resolve(this.Is(f))}Is(e){const t=[];return e.forEach(i=>{const r=this.ys(i);null!==r&&t.push(r)}),t}removeMutationBatch(e,t){St(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();let i=this.gs;return ce.forEach(t.mutations,r=>{const a=new Dr(r.key,t.batchId);return i=i.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.gs=i})}An(e){}containsKey(e,t){const i=new Dr(t,0),r=this.gs.firstAfterOrEqual(i);return ce.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return ce.resolve()}Ts(e,t){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class TN{constructor(e){this.Es=e,this.docs=new li(qe.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,r=this.docs.get(i),a=r?r.size:0,c=this.Es(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:c}),this.size+=c-a,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return ce.resolve(i?i.document.mutableCopy():Sn.newInvalidDocument(t))}getEntries(e,t){let i=ss();return t.forEach(r=>{const a=this.docs.get(r);i=i.insert(r,a?a.document.mutableCopy():Sn.newInvalidDocument(r))}),ce.resolve(i)}getAllFromCollection(e,t,i){let r=ss();const a=new qe(t.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){const{key:f,value:{document:_}}=c.getNext();if(!t.isPrefixOf(f.path))break;f.path.length>t.length+1||Fb(Nb(_),i)<=0||(r=r.insert(_.key,_.mutableCopy()))}return ce.resolve(r)}getAllFromCollectionGroup(e,t,i,r){rt()}As(e,t){return ce.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new SN(this)}getSize(e){return ce.resolve(this.size)}}class SN extends Lk{constructor(e){super(),this.Yn=e}applyChanges(e){const t=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?t.push(this.Yn.addEntry(e,r)):this.Yn.removeEntry(i)}),ce.waitFor(t)}getFromCache(e,t){return this.Yn.getEntry(e,t)}getAllFromCache(e,t){return this.Yn.getEntries(e,t)}}class xN{constructor(e){this.persistence=e,this.Rs=new Ta(t=>Vc(t),hd),this.lastRemoteSnapshotVersion=xt.min(),this.highestTargetId=0,this.bs=0,this.Ps=new KS,this.targetCount=0,this.vs=Cm.Pn()}forEachTarget(e,t){return this.Rs.forEach((i,r)=>t(r)),ce.resolve()}getLastRemoteSnapshotVersion(e){return ce.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ce.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),ce.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.bs&&(this.bs=t),ce.resolve()}Dn(e){this.Rs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.vs=new Cm(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,t){return this.Dn(t),this.targetCount+=1,ce.resolve()}updateTargetData(e,t){return this.Dn(t),ce.resolve()}removeTargetData(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,ce.resolve()}removeTargets(e,t,i){let r=0;const a=[];return this.Rs.forEach((c,f)=>{f.sequenceNumber<=t&&null===i.get(f.targetId)&&(this.Rs.delete(c),a.push(this.removeMatchingKeysForTargetId(e,f.targetId)),r++)}),ce.waitFor(a).next(()=>r)}getTargetCount(e){return ce.resolve(this.targetCount)}getTargetData(e,t){const i=this.Rs.get(t)||null;return ce.resolve(i)}addMatchingKeys(e,t,i){return this.Ps.us(t,i),ce.resolve()}removeMatchingKeys(e,t,i){this.Ps.hs(t,i);const r=this.persistence.referenceDelegate,a=[];return r&&t.forEach(c=>{a.push(r.markPotentiallyOrphaned(e,c))}),ce.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.Ps.ls(t),ce.resolve()}getMatchingKeysForTargetId(e,t){const i=this.Ps.ds(t);return ce.resolve(i)}containsKey(e,t){return ce.resolve(this.Ps.containsKey(t))}}class $k{constructor(e,t){this.Vs={},this.overlays={},this.Ss=new rs(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new xN(this),this.indexManager=new Ne,this.remoteDocumentCache=new TN(i=>this.referenceDelegate.xs(i)),this.It=new oI(t),this.Ns=new EN(this.It)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new IN,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.Vs[e.toKey()];return i||(i=new DN(t,this.referenceDelegate),this.Vs[e.toKey()]=i),i}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,t,i){Pe("MemoryPersistence","Starting transaction:",e);const r=new MN(this.Ss.next());return this.referenceDelegate.ks(),i(r).next(a=>this.referenceDelegate.Ms(r).next(()=>a)).toPromise().then(a=>(r.raiseOnCommittedEvent(),a))}Os(e,t){return ce.or(Object.values(this.Vs).map(i=>()=>i.containsKey(e,t)))}}class MN extends oS{constructor(e){super(),this.currentSequenceNumber=e}}class uI{constructor(e){this.persistence=e,this.Fs=new KS,this.$s=null}static Bs(e){return new uI(e)}get Ls(){if(this.$s)return this.$s;throw rt()}addReference(e,t,i){return this.Fs.addReference(i,t),this.Ls.delete(i.toString()),ce.resolve()}removeReference(e,t,i){return this.Fs.removeReference(i,t),this.Ls.add(i.toString()),ce.resolve()}markPotentiallyOrphaned(e,t){return this.Ls.add(t.toString()),ce.resolve()}removeTarget(e,t){this.Fs.ls(t.targetId).forEach(r=>this.Ls.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(r=>{r.forEach(a=>this.Ls.add(a.toString()))}).next(()=>i.removeTargetData(e,t))}ks(){this.$s=new Set}Ms(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ce.forEach(this.Ls,i=>{const r=qe.fromPath(i);return this.Us(e,r).next(a=>{a||t.removeEntry(r,xt.min())})}).next(()=>(this.$s=null,t.apply(e)))}updateLimboDocument(e,t){return this.Us(e,t).next(i=>{i?this.Ls.delete(t.toString()):this.Ls.add(t.toString())})}xs(e){return 0}Us(e,t){return ce.or([()=>ce.resolve(this.Fs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Os(e,t)])}}class AN{constructor(e){this.It=e}$(e,t,i,r){const a=new A_("createOrUpgrade",t);var f;i<1&&r>=1&&(e.createObjectStore("owner"),(f=e).createObjectStore("mutationQueues",{keyPath:"userId"}),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",z_,{unique:!0}),f.createObjectStore("documentMutations"),Gk(e),function(f){f.createObjectStore("remoteDocuments")}(e));let c=ce.resolve();return i<3&&r>=3&&(0!==i&&(function(f){f.deleteObjectStore("targetDocuments"),f.deleteObjectStore("targets"),f.deleteObjectStore("targetGlobal")}(e),Gk(e)),c=c.next(()=>function(f){const _=f.store("targetGlobal"),b={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:xt.min().toTimestamp(),targetCount:0};return _.put("targetGlobalKey",b)}(a))),i<4&&r>=4&&(0!==i&&(c=c.next(()=>function(f,_){return _.store("mutations").W().next(b=>{f.deleteObjectStore("mutations"),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",z_,{unique:!0});const I=_.store("mutations"),x=b.map(L=>I.put(L));return ce.waitFor(x)})}(e,a))),c=c.next(()=>{!function(f){f.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),i<5&&r>=5&&(c=c.next(()=>this.qs(a))),i<6&&r>=6&&(c=c.next(()=>(function(f){f.createObjectStore("remoteDocumentGlobal")}(e),this.Ks(a)))),i<7&&r>=7&&(c=c.next(()=>this.Gs(a))),i<8&&r>=8&&(c=c.next(()=>this.Qs(e,a))),i<9&&r>=9&&(c=c.next(()=>{!function(f){f.objectStoreNames.contains("remoteDocumentChanges")&&f.deleteObjectStore("remoteDocumentChanges")}(e)})),i<10&&r>=10&&(c=c.next(()=>this.js(a))),i<11&&r>=11&&(c=c.next(()=>{(function(f){f.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(f){f.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),i<12&&r>=12&&(c=c.next(()=>{!function(f){const _=f.createObjectStore("documentOverlays",{keyPath:JE});_.createIndex("collectionPathOverlayIndex",eI,{unique:!1}),_.createIndex("collectionGroupOverlayIndex",jS,{unique:!1})}(e)})),i<13&&r>=13&&(c=c.next(()=>function(f){const _=f.createObjectStore("remoteDocumentsV14",{keyPath:Z_});_.createIndex("documentKeyIndex",Ak),_.createIndex("collectionGroupIndex",kk)}(e)).next(()=>this.Ws(e,a)).next(()=>e.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(c=c.next(()=>this.zs(e,a))),i<15&&r>=15&&(c=c.next(()=>function(f){f.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),f.createObjectStore("indexState",{keyPath:BS}).createIndex("sequenceNumberIndex",US,{unique:!1}),f.createObjectStore("indexEntries",{keyPath:HS}).createIndex("documentKeyIndex",XE,{unique:!1})}(e))),c}Ks(e){let t=0;return e.store("remoteDocuments").Z((i,r)=>{t+=af(r)}).next(()=>{const i={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}qs(e){const t=e.store("mutationQueues"),i=e.store("mutations");return t.W().next(r=>ce.forEach(r,a=>{const c=IDBKeyRange.bound([a.userId,-1],[a.userId,a.lastAcknowledgedBatchId]);return i.W("userMutationsIndex",c).next(f=>ce.forEach(f,_=>{St(_.userId===a.userId);const b=sf(this.It,_);return Q_(e,a.userId,b).next(()=>{})}))}))}Gs(e){const t=e.store("targetDocuments"),i=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(r=>{const a=[];return i.Z((c,f)=>{const _=new en(c),b=[0,Er(_)];a.push(t.get(b).next(I=>I?ce.resolve():t.put({targetId:0,path:Er(_),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>ce.waitFor(a))})}Qs(e,t){e.createObjectStore("collectionParents",{keyPath:VS});const i=t.store("collectionParents"),r=new ze,a=c=>{if(r.add(c)){const f=c.lastSegment(),_=c.popLast();return i.put({collectionId:f,parent:Er(_)})}};return t.store("remoteDocuments").Z({X:!0},(c,f)=>{const _=new en(c);return a(_.popLast())}).next(()=>t.store("documentMutations").Z({X:!0},([c,f,_],b)=>{const I=so(f);return a(I.popLast())}))}js(e){const t=e.store("targets");return t.Z((i,r)=>{const a=wm(r),c=qS(this.It,a);return t.put(c)})}Ws(e,t){const i=t.store("remoteDocuments"),r=[];return i.Z((a,c)=>{const f=t.store("remoteDocumentsV14"),_=(b=c,b.document?new qe(en.fromString(b.document.name).popFirst(5)):b.noDocument?qe.fromSegments(b.noDocument.path):b.unknownDocument?qe.fromSegments(b.unknownDocument.path):rt()).path.toArray();var b;const I={prefixPath:_.slice(0,_.length-2),collectionGroup:_[_.length-2],documentId:_[_.length-1],readTime:c.readTime||[0,0],unknownDocument:c.unknownDocument,noDocument:c.noDocument,document:c.document,hasCommittedMutations:!!c.hasCommittedMutations};r.push(f.put(I))}).next(()=>ce.waitFor(r))}zs(e,t){const i=t.store("mutations"),r=Vk(this.It),a=new $k(uI.Bs,this.It.re);return i.W().next(c=>{const f=new Map;return c.forEach(_=>{var b;let I=null!==(b=f.get(_.userId))&&void 0!==b?b:Ut();sf(this.It,_).keys().forEach(x=>I=I.add(x)),f.set(_.userId,I)}),ce.forEach(f,(_,b)=>{const I=new Di(b),x=l.oe(this.It,I),L=a.getIndexManager(I),B=lf.oe(I,this.It,L,a.referenceDelegate);return new jk(r,B,x,L).recalculateAndSaveOverlaysForDocumentKeys(new bm(t,rs.at),_).next()})})}}function Gk(n){n.createObjectStore("targetDocuments",{keyPath:Ok}).createIndex("documentTargetsIndex",QE,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Rk,{unique:!0}),n.createObjectStore("targetGlobal")}const YS="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class QS{constructor(e,t,i,r,a,c,f,_,b,I,x=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=i,this.Hs=a,this.window=c,this.document=f,this.Js=b,this.Ys=I,this.Xs=x,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=L=>Promise.resolve(),!QS.C())throw new Re(he.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new vN(this,r),this.ii=t+"main",this.It=new oI(_),this.ri=new Fo(this.ii,this.Xs,new AN(this.It)),this.Cs=new mN(this.referenceDelegate,this.It),this.remoteDocumentCache=Vk(this.It),this.Ns=new Pk,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===I&&Ti("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Re(he.FAILED_PRECONDITION,YS);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Cs.getHighestSequenceNumber(e))}).then(e=>{this.Ss=new rs(e,this.Js)}).then(()=>{this.Ds=!0}).catch(e=>(this.ri&&this.ri.close(),Promise.reject(e)))}li(e){var t=this;return this.si=function(){var i=(0,be.Z)(function*(r){if(t.started)return e(r)});return function(r){return i.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ri.L(function(){var t=(0,be.Z)(function*(i){null===i.newVersion&&(yield e())});return function(i){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget((0,be.Z)(function*(){t.started&&(yield t.ui())})))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>dI(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(t=>{t||(this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)))})}).next(()=>this.di(e)).next(t=>this.isPrimary&&!t?this._i(e).next(()=>!1):!!t&&this.wi(e).next(()=>!0))).catch(e=>{if(Ca(e))return Pe("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Pe("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Hs.enqueueRetryable(()=>this.si(e)),this.isPrimary=e})}fi(e){return b0(e).get("owner").next(t=>ce.resolve(this.mi(t)))}gi(e){return dI(e).delete(this.clientId)}yi(){var e=this;return(0,be.Z)(function*(){if(e.isPrimary&&!e.pi(e.ni,18e5)){e.ni=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=Ki(i,"clientMetadata");return r.W().next(a=>{const c=e.Ii(a,18e5),f=a.filter(_=>-1===c.indexOf(_));return ce.forEach(f,_=>r.delete(_.clientId)).next(()=>f)})}).catch(()=>[]);if(e.oi)for(const i of t)e.oi.removeItem(e.Ti(i.clientId))}})()}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ui().then(()=>this.yi()).then(()=>this.hi()))}mi(e){return!!e&&e.ownerId===this.clientId}di(e){return this.Ys?ce.resolve(!0):b0(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)){if(this.mi(t)&&this.networkEnabled)return!0;if(!this.mi(t)){if(!t.allowTabSynchronization)throw new Re(he.FAILED_PRECONDITION,YS);return!1}}return!(!this.networkEnabled||!this.inForeground)||dI(e).W().next(i=>void 0===this.Ii(i,5e3).find(r=>{if(this.clientId!==r.clientId){const c=!this.inForeground&&r.inForeground,f=this.networkEnabled===r.networkEnabled;if(!this.networkEnabled&&r.networkEnabled||c&&f)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Pe("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,be.Z)(function*(){e.Ds=!1,e.Ai(),e.ei&&(e.ei.cancel(),e.ei=null),e.Ri(),e.bi(),yield e.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const i=new bm(t,rs.at);return e._i(i).next(()=>e.gi(i))}),e.ri.close(),e.Pi()})()}Ii(e,t){return e.filter(i=>this.pi(i.updateTimeMs,t)&&!this.Ei(i.clientId))}vi(){return this.runTransaction("getActiveClients","readonly",e=>dI(e).W().next(t=>this.Ii(t,18e5).map(i=>i.clientId)))}get started(){return this.Ds}getMutationQueue(e,t){return lf.oe(e,this.It,t,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Ct(e,this.It.re.databaseId)}getDocumentOverlayCache(e){return l.oe(this.It,e)}getBundleCache(){return this.Ns}runTransaction(e,t,i){Pe("IndexedDbPersistence","Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite",a=15===(c=this.Xs)?iI:14===c?$S:13===c?K_:12===c?nI:11===c?tI:void rt();var c;let f;return this.ri.runTransaction(e,r,a,_=>(f=new bm(_,this.Ss?this.Ss.next():rs.at),"readwrite-primary"===t?this.fi(f).next(b=>!!b||this.di(f)).next(b=>{if(!b)throw Ti(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)),new Re(he.FAILED_PRECONDITION,EE);return i(f)}).next(b=>this.wi(f).next(()=>b)):this.Vi(f).next(()=>i(f)))).then(_=>(f.raiseOnCommittedEvent(),_))}Vi(e){return b0(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)&&!this.mi(t)&&!(this.Ys||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Re(he.FAILED_PRECONDITION,YS)})}wi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return b0(e).put("owner",t)}static C(){return Fo.C()}_i(e){const t=b0(e);return t.get("owner").next(i=>this.mi(i)?(Pe("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):ce.resolve())}pi(e,t){const i=Date.now();return!(e<i-t||e>i&&(Ti(`Detected an update time that is in the future: ${e} > ${i}`),1))}ci(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=()=>{this.Hs.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ui()))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=()=>{this.Ai(),(0,Bt.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(e){var t;try{const i=null!==(null===(t=this.oi)||void 0===t?void 0:t.getItem(this.Ti(e)));return Pe("IndexedDbPersistence",`Client '${e}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return Ti("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(e){Ti("Failed to set zombie client id.",e)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch{}}Ti(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function b0(n){return Ki(n,"owner")}function dI(n){return Ki(n,"clientMetadata")}function XS(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class JS{constructor(e,t,i,r){this.targetId=e,this.fromCache=t,this.Si=i,this.Di=r}static Ci(e,t){let i=Ut(),r=Ut();for(const a of t.docChanges)switch(a.type){case 0:i=i.add(a.doc.key);break;case 1:r=r.add(a.doc.key)}return new JS(e,t.fromCache,i,r)}}class zk{constructor(){this.xi=!1}initialize(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}getDocumentsMatchingQuery(e,t,i,r){return this.ki(e,t).next(a=>a||this.Mi(e,t,r,i)).next(a=>a||this.Oi(e,t))}ki(e,t){if(Xb(t))return ce.resolve(null);let i=Ur(t);return this.indexManager.getIndexType(e,i).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=P_(t,null,"F"),i=Ur(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(a=>{const c=Ut(...a);return this.Ni.getDocuments(e,c).next(f=>this.indexManager.getMinOffset(e,i).next(_=>{const b=this.Fi(t,f);return this.$i(t,b,c,_.readTime)?this.ki(e,P_(t,null,"F")):this.Bi(e,b,t,_)}))})))}Mi(e,t,i,r){return Xb(t)||r.isEqual(xt.min())?this.Oi(e,t):this.Ni.getDocuments(e,i).next(a=>{const c=this.Fi(t,a);return this.$i(t,c,i,r)?this.Oi(e,t):(Oc()<=Ms.in.DEBUG&&Pe("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),N_(t)),this.Bi(e,c,t,Pb(r,-1)))})}Fi(e,t){let i=new hn(bS(e));return t.forEach((r,a)=>{OE(e,a)&&(i=i.add(a))}),i}$i(e,t,i,r){if(null===e.limit)return!1;if(i.size!==t.size)return!0;const a="F"===e.limitType?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(r)>0)}Oi(e,t){return Oc()<=Ms.in.DEBUG&&Pe("QueryEngine","Using full collection scan to execute query:",N_(t)),this.Ni.getDocumentsMatchingQuery(e,t,is.min())}Bi(e,t,i,r){return this.Ni.getDocumentsMatchingQuery(e,i,r).next(a=>(t.forEach(c=>{a=a.insert(c.key,c)}),a))}}class kN{constructor(e,t,i,r){this.persistence=e,this.Li=t,this.It=r,this.Ui=new li(Lt),this.qi=new Ta(a=>Vc(a),hd),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(i)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new jk(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ui))}}function qk(n,e,t,i){return new kN(n,e,t,i)}function Wk(n,e){return ex.apply(this,arguments)}function ex(){return ex=(0,be.Z)(function*(n,e){const t=Ze(n);return yield t.persistence.runTransaction("Handle user change","readonly",i=>{let r;return t.mutationQueue.getAllMutationBatches(i).next(a=>(r=a,t.Qi(e),t.mutationQueue.getAllMutationBatches(i))).next(a=>{const c=[],f=[];let _=Ut();for(const b of r){c.push(b.batchId);for(const I of b.mutations)_=_.add(I.key)}for(const b of a){f.push(b.batchId);for(const I of b.mutations)_=_.add(I.key)}return t.localDocuments.getDocuments(i,_).next(b=>({ji:b,removedBatchIds:c,addedBatchIds:f}))})})}),ex.apply(this,arguments)}function RN(n,e){const t=Ze(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=e.batch.keys(),a=t.Gi.newChangeBuffer({trackRemovals:!0});return function(c,f,_,b){const I=_.batch,x=I.keys();let L=ce.resolve();return x.forEach(B=>{L=L.next(()=>b.getEntry(f,B)).next(H=>{const ee=_.docVersions.get(B);St(null!==ee),H.version.compareTo(ee)<0&&(I.applyToRemoteDocument(H,_),H.isValidDocument()&&(H.setReadTime(_.commitVersion),b.addEntry(H)))})}),L.next(()=>c.mutationQueue.removeMutationBatch(f,I))}(t,i,e,a).next(()=>a.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(c){let f=Ut();for(let _=0;_<c.mutationResults.length;++_)c.mutationResults[_].transformResults.length>0&&(f=f.add(c.batch.mutations[_].key));return f}(e))).next(()=>t.localDocuments.getDocuments(i,r))})}function Zk(n){const e=Ze(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Cs.getLastRemoteSnapshotVersion(t))}function ON(n,e){const t=Ze(n),i=e.snapshotVersion;let r=t.Ui;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const c=t.Gi.newChangeBuffer({trackRemovals:!0});r=t.Ui;const f=[];e.targetChanges.forEach((I,x)=>{const L=r.get(x);if(!L)return;f.push(t.Cs.removeMatchingKeys(a,I.removedDocuments,x).next(()=>t.Cs.addMatchingKeys(a,I.addedDocuments,x)));let B=L.withSequenceNumber(a.currentSequenceNumber);var H,ee,ve;e.targetMismatches.has(x)?B=B.withResumeToken(vi.EMPTY_BYTE_STRING,xt.min()).withLastLimboFreeSnapshotVersion(xt.min()):I.resumeToken.approximateByteSize()>0&&(B=B.withResumeToken(I.resumeToken,i)),r=r.insert(x,B),ee=B,ve=I,(0===(H=L).resumeToken.approximateByteSize()||ee.snapshotVersion.toMicroseconds()-H.snapshotVersion.toMicroseconds()>=3e8||ve.addedDocuments.size+ve.modifiedDocuments.size+ve.removedDocuments.size>0)&&f.push(t.Cs.updateTargetData(a,B))});let _=ss(),b=Ut();if(e.documentUpdates.forEach(I=>{e.resolvedLimboDocuments.has(I)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(a,I))}),f.push(Kk(a,c,e.documentUpdates).next(I=>{_=I.Wi,b=I.zi})),!i.isEqual(xt.min())){const I=t.Cs.getLastRemoteSnapshotVersion(a).next(x=>t.Cs.setTargetsMetadata(a,a.currentSequenceNumber,i));f.push(I)}return ce.waitFor(f).next(()=>c.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,_,b)).next(()=>_)}).then(a=>(t.Ui=r,a))}function Kk(n,e,t){let i=Ut(),r=Ut();return t.forEach(a=>i=i.add(a)),e.getEntries(n,i).next(a=>{let c=ss();return t.forEach((f,_)=>{const b=a.get(f);_.isFoundDocument()!==b.isFoundDocument()&&(r=r.add(f)),_.isNoDocument()&&_.version.isEqual(xt.min())?(e.removeEntry(f,_.readTime),c=c.insert(f,_)):!b.isValidDocument()||_.version.compareTo(b.version)>0||0===_.version.compareTo(b.version)&&b.hasPendingWrites?(e.addEntry(_),c=c.insert(f,_)):Pe("LocalStore","Ignoring outdated watch update for ",f,". Current version:",b.version," Watch version:",_.version)}),{Wi:c,zi:r}})}function PN(n,e){const t=Ze(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function ty(n,e){const t=Ze(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return t.Cs.getTargetData(i,e).next(a=>a?(r=a,ce.resolve(r)):t.Cs.allocateTargetId(i).next(c=>(r=new $c(e,c,0,i.currentSequenceNumber),t.Cs.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=t.Ui.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(t.Ui=t.Ui.insert(i.targetId,i),t.qi.set(e,i.targetId)),i})}function ny(n,e,t){return tx.apply(this,arguments)}function tx(){return tx=(0,be.Z)(function*(n,e,t){const i=Ze(n),r=i.Ui.get(e),a=t?"readwrite":"readwrite-primary";try{t||(yield i.persistence.runTransaction("Release target",a,c=>i.persistence.referenceDelegate.removeTarget(c,r)))}catch(c){if(!Ca(c))throw c;Pe("LocalStore",`Failed to update sequence numbers for target ${e}: ${c}`)}i.Ui=i.Ui.remove(e),i.qi.delete(r.target)}),tx.apply(this,arguments)}function hI(n,e,t){const i=Ze(n);let r=xt.min(),a=Ut();return i.persistence.runTransaction("Execute query","readonly",c=>function(f,_,b){const I=Ze(f),x=I.qi.get(b);return void 0!==x?ce.resolve(I.Ui.get(x)):I.Cs.getTargetData(_,b)}(i,c,Ur(e)).next(f=>{if(f)return r=f.lastLimboFreeSnapshotVersion,i.Cs.getMatchingKeysForTargetId(c,f.targetId).next(_=>{a=_})}).next(()=>i.Li.getDocumentsMatchingQuery(c,e,t?r:xt.min(),t?a:Ut())).next(f=>(Xk(i,vS(e),f),{documents:f,Hi:a})))}function Yk(n,e){const t=Ze(n),i=Ze(t.Cs),r=t.Ui.get(e);return r?Promise.resolve(r.target):t.persistence.runTransaction("Get target data","readonly",a=>i.se(a,e).next(c=>c?c.target:null))}function Qk(n,e){const t=Ze(n),i=t.Ki.get(e)||xt.min();return t.persistence.runTransaction("Get new document changes","readonly",r=>t.Gi.getAllFromCollectionGroup(r,e,Pb(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>(Xk(t,e,r),r))}function Xk(n,e,t){let i=xt.min();t.forEach((r,a)=>{a.readTime.compareTo(i)>0&&(i=a.readTime)}),n.Ki.set(e,i)}function nx(){return nx=(0,be.Z)(function*(n,e,t,i){const r=Ze(n);let a=Ut(),c=ss();for(const b of t){const I=e.Ji(b.metadata.name);b.document&&(a=a.add(I));const x=e.Yi(b);x.setReadTime(e.Xi(b.metadata.readTime)),c=c.insert(I,x)}const f=r.Gi.newChangeBuffer({trackRemovals:!0}),_=yield ty(r,(b=i,Ur(Kh(en.fromString(`__bundle__/docs/${b}`)))));var b;return r.persistence.runTransaction("Apply bundle documents","readwrite",b=>Kk(b,f,c).next(I=>(f.apply(b),I)).next(I=>r.Cs.removeMatchingKeysForTargetId(b,_.targetId).next(()=>r.Cs.addMatchingKeys(b,a,_.targetId)).next(()=>r.localDocuments.getLocalViewOfDocuments(b,I.Wi,I.zi)).next(()=>I.Wi)))}),nx.apply(this,arguments)}function FN(n,e){return ix.apply(this,arguments)}function ix(){return ix=(0,be.Z)(function*(n,e,t=Ut()){const i=yield ty(n,Ur(aI(e.bundledQuery))),r=Ze(n);return r.persistence.runTransaction("Save named query","readwrite",a=>{const c=Si(e.readTime);if(i.snapshotVersion.compareTo(c)>=0)return r.Ns.saveNamedQuery(a,e);const f=i.withResumeToken(vi.EMPTY_BYTE_STRING,c);return r.Ui=r.Ui.insert(f.targetId,f),r.Cs.updateTargetData(a,f).next(()=>r.Cs.removeMatchingKeysForTargetId(a,i.targetId)).next(()=>r.Cs.addMatchingKeys(a,t,i.targetId)).next(()=>r.Ns.saveNamedQuery(a,e))})}),ix.apply(this,arguments)}function Jk(n,e){return`firestore_clients_${n}_${e}`}function eR(n,e,t){let i=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(i+=`_${e.uid}`),i}function rx(n,e){return`firestore_targets_${n}_${e}`}class fI{constructor(e,t,i,r){this.user=e,this.batchId=t,this.state=i,this.error=r}static Zi(e,t,i){const r=JSON.parse(i);let a,c="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return c&&r.error&&(c="string"==typeof r.error.message&&"string"==typeof r.error.code,c&&(a=new Re(r.error.code,r.error.message))),c?new fI(e,t,r.state,a):(Ti("SharedClientState",`Failed to parse mutation state for ID '${t}': ${i}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class w0{constructor(e,t,i){this.targetId=e,this.state=t,this.error=i}static Zi(e,t){const i=JSON.parse(t);let r,a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&(a="string"==typeof i.error.message&&"string"==typeof i.error.code,a&&(r=new Re(i.error.code,i.error.message))),a?new w0(e,i.state,r):(Ti("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class pI{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Zi(e,t){const i=JSON.parse(t);let r="object"==typeof i&&i.activeTargetIds instanceof Array,a=Vo();for(let c=0;r&&c<i.activeTargetIds.length;++c)r=Hb(i.activeTargetIds[c]),a=a.add(i.activeTargetIds[c]);return r?new pI(e,a):(Ti("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class sx{constructor(e,t){this.clientId=e,this.onlineState=t}static Zi(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new sx(t.clientId,t.onlineState):(Ti("SharedClientState",`Failed to parse online state: ${e}`),null)}}class ox{constructor(){this.activeTargetIds=Vo()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class ax{constructor(e,t,i,r,a){this.window=e,this.Hs=t,this.persistenceKey=i,this.sr=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new li(Lt),this.started=!1,this.cr=[];const c=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.ar=Jk(this.persistenceKey,this.sr),this.hr=`firestore_sequence_number_${this.persistenceKey}`,this.ur=this.ur.insert(this.sr,new ox),this.lr=new RegExp(`^firestore_clients_${c}_([^_]*)$`),this.dr=new RegExp(`^firestore_mutations_${c}_(\\d+)(?:_(.*))?$`),this._r=new RegExp(`^firestore_targets_${c}_(\\d+)$`),this.wr=`firestore_online_state_${this.persistenceKey}`,this.mr=function(f){return`firestore_bundle_loaded_v2_${f}`}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}static C(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,be.Z)(function*(){const t=yield e.syncEngine.vi();for(const r of t){if(r===e.sr)continue;const a=e.getItem(Jk(e.persistenceKey,r));if(a){const c=pI.Zi(r,a);c&&(e.ur=e.ur.insert(c.clientId,c))}}e.gr();const i=e.storage.getItem(e.wr);if(i){const r=e.yr(i);r&&e.pr(r)}for(const r of e.cr)e.rr(r);e.cr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.hr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ir(this.ur)}isActiveQueryTarget(e){let t=!1;return this.ur.forEach((i,r)=>{r.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Tr(e,"pending")}updateMutationState(e,t,i){this.Tr(e,t,i),this.Er(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(rx(this.persistenceKey,e));if(i){const r=w0.Zi(e,i);r&&(t=r.state)}}return this.Ar.er(e),this.gr(),t}removeLocalQueryTarget(e){this.Ar.nr(e),this.gr()}isLocalQueryTarget(e){return this.Ar.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(rx(this.persistenceKey,e))}updateQueryState(e,t,i){this.Rr(e,t,i)}handleUserChange(e,t,i){t.forEach(r=>{this.Er(r)}),this.currentUser=e,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(e){this.br(e)}notifyBundleLoaded(e){this.Pr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Pe("SharedClientState","READ",e,t),t}setItem(e,t){Pe("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Pe("SharedClientState","REMOVE",e),this.storage.removeItem(e)}rr(e){var t=this;const i=e;if(i.storageArea===this.storage){if(Pe("SharedClientState","EVENT",i.key,i.newValue),i.key===this.ar)return void Ti("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable((0,be.Z)(function*(){if(t.started){if(null!==i.key)if(t.lr.test(i.key)){if(null==i.newValue){const r=t.vr(i.key);return t.Vr(r,null)}{const r=t.Sr(i.key,i.newValue);if(r)return t.Vr(r.clientId,r)}}else if(t.dr.test(i.key)){if(null!==i.newValue){const r=t.Dr(i.key,i.newValue);if(r)return t.Cr(r)}}else if(t._r.test(i.key)){if(null!==i.newValue){const r=t.Nr(i.key,i.newValue);if(r)return t.kr(r)}}else if(i.key===t.wr){if(null!==i.newValue){const r=t.yr(i.newValue);if(r)return t.pr(r)}}else if(i.key===t.hr){const r=function(a){let c=rs.at;if(null!=a)try{const f=JSON.parse(a);St("number"==typeof f),c=f}catch(f){Ti("SharedClientState","Failed to read sequence number from WebStorage",f)}return c}(i.newValue);r!==rs.at&&t.sequenceNumberHandler(r)}else if(i.key===t.mr){const r=t.Mr(i.newValue);yield Promise.all(r.map(a=>t.syncEngine.Or(a)))}}else t.cr.push(i)}))}}get Ar(){return this.ur.get(this.sr)}gr(){this.setItem(this.ar,this.Ar.tr())}Tr(e,t,i){const r=new fI(this.currentUser,e,t,i),a=eR(this.persistenceKey,this.currentUser,e);this.setItem(a,r.tr())}Er(e){const t=eR(this.persistenceKey,this.currentUser,e);this.removeItem(t)}br(e){this.storage.setItem(this.wr,JSON.stringify({clientId:this.sr,onlineState:e}))}Rr(e,t,i){const r=rx(this.persistenceKey,e),a=new w0(e,t,i);this.setItem(r,a.tr())}Pr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.mr,t)}vr(e){const t=this.lr.exec(e);return t?t[1]:null}Sr(e,t){const i=this.vr(e);return pI.Zi(i,t)}Dr(e,t){const i=this.dr.exec(e),r=Number(i[1]);return fI.Zi(new Di(void 0!==i[2]?i[2]:null),r,t)}Nr(e,t){const i=this._r.exec(e),r=Number(i[1]);return w0.Zi(r,t)}yr(e){return sx.Zi(e)}Mr(e){return JSON.parse(e)}Cr(e){var t=this;return(0,be.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Fr(e.batchId,e.state,e.error);Pe("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}kr(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}Vr(e,t){const i=t?this.ur.insert(e,t):this.ur.remove(e),r=this.Ir(this.ur),a=this.Ir(i),c=[],f=[];return a.forEach(_=>{r.has(_)||c.push(_)}),r.forEach(_=>{a.has(_)||f.push(_)}),this.syncEngine.Br(c,f).then(()=>{this.ur=i})}pr(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ir(e){let t=Vo();return e.forEach((i,r)=>{t=t.unionWith(r.activeTargetIds)}),t}}class tR{constructor(){this.Lr=new ox,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e){return this.Lr.er(e),this.Ur[e]||"not-current"}updateQueryState(e,t,i){this.Ur[e]=t}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.Ur[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new ox,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class LN{qr(e){}shutdown(){}}class nR{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}qr(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){Pe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){Pe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const VN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class BN{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class UN extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.oo=(e.ssl?"https":"http")+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}co(e,t,i,r,a){const c=this.ao(e,t);Pe("RestConnection","Sending: ",c,i);const f={};return this.ho(f,r,a),this.lo(e,c,f,i).then(_=>(Pe("RestConnection","Received: ",_),_),_=>{throw Pc("RestConnection",`${e} failed with error: `,_,"url: ",c,"request:",i),_})}fo(e,t,i,r,a,c){return this.co(e,t,i,r,a)}ho(e,t,i){e["X-Goog-Api-Client"]="gl-js/ fire/"+Hh,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((r,a)=>e[a]=r),i&&i.headers.forEach((r,a)=>e[a]=r)}ao(e,t){return`${this.oo}/v1/${t}:${VN[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}lo(e,t,i,r){return new Promise((a,c)=>{const f=new QT;f.listenOnce(YT.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case Mb.NO_ERROR:const b=f.getResponseJson();Pe("Connection","XHR received:",JSON.stringify(b)),a(b);break;case Mb.TIMEOUT:Pe("Connection",'RPC "'+e+'" timed out'),c(new Re(he.DEADLINE_EXCEEDED,"Request time out"));break;case Mb.HTTP_ERROR:const I=f.getStatus();if(Pe("Connection",'RPC "'+e+'" failed with status:',I,"response text:",f.getResponseText()),I>0){const x=f.getResponseJson().error;if(x&&x.status&&x.message){const L=function(B){const H=B.toLowerCase().replace(/_/g,"-");return Object.values(he).indexOf(H)>=0?H:he.UNKNOWN}(x.status);c(new Re(L,x.message))}else c(new Re(he.UNKNOWN,"Server responded with status "+f.getStatus()))}else c(new Re(he.UNAVAILABLE,"Connection failed."));break;default:rt()}}finally{Pe("Connection",'RPC "'+e+'" completed.')}});const _=JSON.stringify(r);f.send(t,"POST",_,i,15)})}_o(e,t,i){const r=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=pE(),c=KT(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(f.xmlHttpFactory=new mE({})),this.ho(f.initMessageHeaders,t,i),(0,Bt.uI)()||(0,Bt.b$)()||(0,Bt.d)()||(0,Bt.w1)()||(0,Bt.Mn)()||(0,Bt.ru)()||(f.httpHeadersOverwriteParam="$httpHeaders");const _=r.join("");Pe("Connection","Creating WebChannel: "+_,f);const b=a.createWebChannel(_,f);let I=!1,x=!1;const L=new BN({Hr:H=>{x?Pe("Connection","Not sending because WebChannel is closed:",H):(I||(Pe("Connection","Opening WebChannel transport."),b.open(),I=!0),Pe("Connection","WebChannel sending:",H),b.send(H))},Jr:()=>b.close()}),B=(H,ee,ve)=>{H.listen(ee,Ge=>{try{ve(Ge)}catch(et){setTimeout(()=>{throw et},0)}})};return B(b,Uh.EventType.OPEN,()=>{x||Pe("Connection","WebChannel transport opened.")}),B(b,Uh.EventType.CLOSE,()=>{x||(x=!0,Pe("Connection","WebChannel transport closed"),L.io())}),B(b,Uh.EventType.ERROR,H=>{x||(x=!0,Pc("Connection","WebChannel transport errored:",H),L.io(new Re(he.UNAVAILABLE,"The operation could not be completed")))}),B(b,Uh.EventType.MESSAGE,H=>{var ee;if(!x){const ve=H.data[0];St(!!ve);const Ge=ve,et=Ge.error||(null===(ee=Ge[0])||void 0===ee?void 0:ee.error);if(et){Pe("Connection","WebChannel received error:",et);const yt=et.status;let ot=function(kt){const sn=ui[kt];if(void 0!==sn)return LE(sn)}(yt),Mt=et.message;void 0===ot&&(ot=he.INTERNAL,Mt="Unknown error status: "+yt+" with message "+et.message),x=!0,L.io(new Re(ot,Mt)),b.close()}else Pe("Connection","WebChannel received:",ve),L.ro(ve)}}),B(c,Ab.STAT_EVENT,H=>{H.stat===x_.PROXY?Pe("Connection","Detected buffering proxy"):H.stat===x_.NOPROXY&&Pe("Connection","Detected no buffering proxy")}),setTimeout(()=>{L.so()},0),L}}function iR(){return typeof window<"u"?window:null}function mI(){return typeof document<"u"?document:null}function C0(n){return new GE(n,!0)}class lx{constructor(e,t,i=1e3,r=1.5,a=6e4){this.Hs=e,this.timerId=t,this.wo=i,this.mo=r,this.yo=a,this.po=0,this.Io=null,this.To=Date.now(),this.reset()}reset(){this.po=0}Eo(){this.po=this.yo}Ao(e){this.cancel();const t=Math.floor(this.po+this.Ro()),i=Math.max(0,Date.now()-this.To),r=Math.max(0,t-i);r>0&&Pe("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.po} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.Io=this.Hs.enqueueAfterDelay(this.timerId,r,()=>(this.To=Date.now(),e())),this.po*=this.mo,this.po<this.wo&&(this.po=this.wo),this.po>this.yo&&(this.po=this.yo)}bo(){null!==this.Io&&(this.Io.skipDelay(),this.Io=null)}cancel(){null!==this.Io&&(this.Io.cancel(),this.Io=null)}Ro(){return(Math.random()-.5)*this.po}}class rR{constructor(e,t,i,r,a,c,f,_){this.Hs=e,this.Po=i,this.vo=r,this.Vo=a,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=f,this.listener=_,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new lx(e,t)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Mo()}stop(){var e=this;return(0,be.Z)(function*(){e.No()&&(yield e.close(0))})()}Oo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.Po,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}$o(){var e=this;return(0,be.Z)(function*(){if(e.ko())return e.close(0)})()}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}close(e,t){var i=this;return(0,be.Z)(function*(){i.Lo(),i.Uo(),i.xo.cancel(),i.So++,4!==e?i.xo.reset():t&&t.code===he.RESOURCE_EXHAUSTED?(Ti(t.toString()),Ti("Using maximum backoff delay to prevent overloading the backend."),i.xo.Eo()):t&&t.code===he.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.qo(),i.stream.close(),i.stream=null),i.state=e,yield i.listener.Zr(t)})()}qo(){}auth(){this.state=1;const e=this.Ko(this.So),t=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.So===t&&this.Go(i,r)},i=>{e(()=>{const r=new Re(he.UNKNOWN,"Fetching auth token failed: "+i.message);return this.Qo(r)})})}Go(e,t){const i=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr(()=>{i(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(r=>{i(()=>this.Qo(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Mo(){var e=this;this.state=5,this.xo.Ao((0,be.Z)(function*(){e.state=0,e.start()}))}Qo(e){return Pe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return t=>{this.Hs.enqueueAndForget(()=>this.So===e?t():(Pe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class HN extends rR{constructor(e,t,i,r,a,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,r,c),this.It=a}jo(e,t){return this.Vo._o("Listen",e,t)}onMessage(e){this.xo.reset();const t=function OS(n,e){let t;if("targetChange"in e){const i="NO_CHANGE"===(_=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===_?1:"REMOVE"===_?2:"CURRENT"===_?3:"RESET"===_?4:rt(),r=e.targetChange.targetIds||[],a=function(_,b){return _.gt?(St(void 0===b||"string"==typeof b),vi.fromBase64String(b||"")):(St(void 0===b||b instanceof Uint8Array),vi.fromUint8Array(b||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,f=c&&function(_){const b=void 0===_.code?he.UNKNOWN:LE(_.code);return new Re(b,_.message||"")}(c);t=new kS(i,r,a,f||null)}else if("documentChange"in e){const i=e.documentChange,r=Bo(n,i.document.name),a=Si(i.document.updateTime),c=new pr({mapValue:{fields:i.document.fields}}),f=Sn.newFoundDocument(r,a,c);t=new ro(i.targetIds||[],i.removedTargetIds||[],f.key,f)}else if("documentDelete"in e){const i=e.documentDelete,r=Bo(n,i.document),a=i.readTime?Si(i.readTime):xt.min(),c=Sn.newNoDocument(r,a);t=new ro([],i.removedTargetIds||[],c.key,c)}else if("documentRemove"in e){const i=e.documentRemove,r=Bo(n,i.document);t=new ro([],i.removedTargetIds||[],r,null)}else{if(!("filter"in e))return rt();{const i=e.filter,a=new xS(i.count||0);t=new BE(i.targetId,a)}}var _;return t}(this.It,e),i=function(r){if(!("targetChange"in r))return xt.min();const a=r.targetChange;return a.targetIds&&a.targetIds.length?xt.min():a.readTime?Si(a.readTime):xt.min()}(e);return this.listener.Wo(t,i)}zo(e){const t={};t.database=jc(this.It),t.addTarget=function(r,a){let c;const f=a.target;return c=Zb(f)?{documents:p0(r,f)}:{query:ZE(r,f)},c.targetId=a.targetId,a.resumeToken.approximateByteSize()>0?c.resumeToken=u0(r,a.resumeToken):a.snapshotVersion.compareTo(xt.min())>0&&(c.readTime=mm(r,a.snapshotVersion.toTimestamp())),c}(this.It,e);const i=function PS(n,e){const t=function(i,r){switch(r){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return rt()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);i&&(t.labels=i),this.Bo(t)}Ho(e){const t={};t.database=jc(this.It),t.removeTarget=e,this.Bo(t)}}class jN extends rR{constructor(e,t,i,r,a,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,r,c),this.It=a,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}qo(){this.Jo&&this.Xo([])}jo(e,t){return this.Vo._o("Write",e,t)}onMessage(e){if(St(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const t=function Sk(n,e){return n&&n.length>0?(St(void 0!==e),n.map(t=>function(i,r){let a=Si(i.updateTime?i.updateTime:r);return a.isEqual(xt.min())&&(a=Si(r)),new DS(a,i.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),i=Si(e.commitTime);return this.listener.Zo(i,t)}return St(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=jc(this.It),this.Bo(e)}Xo(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>_m(this.It,i))};this.Bo(t)}}class $N extends class{}{constructor(e,t,i,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.Vo=i,this.It=r,this.nu=!1}su(){if(this.nu)throw new Re(he.FAILED_PRECONDITION,"The client has already been terminated.")}co(e,t,i){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,a])=>this.Vo.co(e,t,i,r,a)).catch(r=>{throw"FirebaseError"===r.name?(r.code===he.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new Re(he.UNKNOWN,r.toString())})}fo(e,t,i,r){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,c])=>this.Vo.fo(e,t,i,a,c,r)).catch(a=>{throw"FirebaseError"===a.name?(a.code===he.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Re(he.UNKNOWN,a.toString())})}terminate(){this.nu=!0}}class GN{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(Ti(t),this.ou=!1):Pe("OnlineStateTracker",t)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class zN{constructor(e,t,i,r,a){var c=this;this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=a,this.mu.qr(f=>{i.enqueueAndForget((0,be.Z)(function*(){var _;uf(c)&&(Pe("RemoteStore","Restarting streams for network reachability change."),yield(_=(0,be.Z)(function*(b){const I=Ze(b);I._u.add(4),yield iy(I),I.gu.set("Unknown"),I._u.delete(4),yield E0(I)}),function(b){return _.apply(this,arguments)})(c))}))}),this.gu=new GN(i,r)}}function E0(n){return cx.apply(this,arguments)}function cx(){return cx=(0,be.Z)(function*(n){if(uf(n))for(const e of n.wu)yield e(!0)}),cx.apply(this,arguments)}function iy(n){return ux.apply(this,arguments)}function ux(){return ux=(0,be.Z)(function*(n){for(const e of n.wu)yield e(!1)}),ux.apply(this,arguments)}function gI(n,e){const t=Ze(n);t.du.has(e.targetId)||(t.du.set(e.targetId,e),fx(t)?hx(t):sy(t).ko()&&dx(t,e))}function I0(n,e){const t=Ze(n),i=sy(t);t.du.delete(e),i.ko()&&sR(t,e),0===t.du.size&&(i.ko()?i.Fo():uf(t)&&t.gu.set("Unknown"))}function dx(n,e){n.yu.Ot(e.targetId),sy(n).zo(e)}function sR(n,e){n.yu.Ot(e),sy(n).Ho(e)}function hx(n){n.yu=new RS({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),se:e=>n.du.get(e)||null}),sy(n).start(),n.gu.uu()}function fx(n){return uf(n)&&!sy(n).No()&&n.du.size>0}function uf(n){return 0===Ze(n)._u.size}function oR(n){n.yu=void 0}function qN(n){return px.apply(this,arguments)}function px(){return px=(0,be.Z)(function*(n){n.du.forEach((e,t)=>{dx(n,e)})}),px.apply(this,arguments)}function WN(n,e){return mx.apply(this,arguments)}function mx(){return mx=(0,be.Z)(function*(n,e){oR(n),fx(n)?(n.gu.hu(e),hx(n)):n.gu.set("Unknown")}),mx.apply(this,arguments)}function ZN(n,e,t){return gx.apply(this,arguments)}function gx(){return gx=(0,be.Z)(function*(n,e,t){if(n.gu.set("Online"),e instanceof kS&&2===e.state&&e.cause)try{yield(i=(0,be.Z)(function*(r,a){const c=a.cause;for(const f of a.targetIds)r.du.has(f)&&(yield r.remoteSyncer.rejectListen(f,c),r.du.delete(f),r.yu.removeTarget(f))}),function(r,a){return i.apply(this,arguments)})(n,e)}catch(i){Pe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield _I(n,i)}else if(e instanceof ro?n.yu.Gt(e):e instanceof BE?n.yu.Yt(e):n.yu.Wt(e),!t.isEqual(xt.min()))try{const i=yield Zk(n.localStore);t.compareTo(i)>=0&&(yield function(r,a){const c=r.yu.te(a);return c.targetChanges.forEach((f,_)=>{if(f.resumeToken.approximateByteSize()>0){const b=r.du.get(_);b&&r.du.set(_,b.withResumeToken(f.resumeToken,a))}}),c.targetMismatches.forEach(f=>{const _=r.du.get(f);if(!_)return;r.du.set(f,_.withResumeToken(vi.EMPTY_BYTE_STRING,_.snapshotVersion)),sR(r,f);const b=new $c(_.target,f,1,_.sequenceNumber);dx(r,b)}),r.remoteSyncer.applyRemoteEvent(c)}(n,t))}catch(i){Pe("RemoteStore","Failed to raise snapshot:",i),yield _I(n,i)}var i}),gx.apply(this,arguments)}function _I(n,e,t){return _x.apply(this,arguments)}function _x(){return _x=(0,be.Z)(function*(n,e,t){if(!Ca(e))throw e;n._u.add(1),yield iy(n),n.gu.set("Offline"),t||(t=()=>Zk(n.localStore)),n.asyncQueue.enqueueRetryable((0,be.Z)(function*(){Pe("RemoteStore","Retrying IndexedDB access"),yield t(),n._u.delete(1),yield E0(n)}))}),_x.apply(this,arguments)}function aR(n,e){return e().catch(t=>_I(n,t,e))}function ry(n){return yx.apply(this,arguments)}function yx(){return yx=(0,be.Z)(function*(n){const e=Ze(n),t=df(e);let i=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;KN(e);)try{const r=yield PN(e.localStore,i);if(null===r){0===e.fu.length&&t.Fo();break}i=r.batchId,YN(e,r)}catch(r){yield _I(e,r)}lR(e)&&cR(e)}),yx.apply(this,arguments)}function KN(n){return uf(n)&&n.fu.length<10}function YN(n,e){n.fu.push(e);const t=df(n);t.ko()&&t.Yo&&t.Xo(e.mutations)}function lR(n){return uf(n)&&!df(n).No()&&n.fu.length>0}function cR(n){df(n).start()}function QN(n){return vx.apply(this,arguments)}function vx(){return vx=(0,be.Z)(function*(n){df(n).eu()}),vx.apply(this,arguments)}function XN(n){return bx.apply(this,arguments)}function bx(){return bx=(0,be.Z)(function*(n){const e=df(n);for(const t of n.fu)e.Xo(t.mutations)}),bx.apply(this,arguments)}function JN(n,e,t){return wx.apply(this,arguments)}function wx(){return wx=(0,be.Z)(function*(n,e,t){const i=n.fu.shift(),r=rI.from(i,e,t);yield aR(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield ry(n)}),wx.apply(this,arguments)}function eF(n,e){return Cx.apply(this,arguments)}function Cx(){return Cx=(0,be.Z)(function*(n,e){var t;e&&df(n).Yo&&(yield(t=(0,be.Z)(function*(i,r){if(Rs(a=r.code)&&a!==he.ABORTED){const c=i.fu.shift();df(i).Oo(),yield aR(i,()=>i.remoteSyncer.rejectFailedWrite(c.batchId,r)),yield ry(i)}var a}),function(i,r){return t.apply(this,arguments)})(n,e)),lR(n)&&cR(n)}),Cx.apply(this,arguments)}function uR(n,e){return Ex.apply(this,arguments)}function Ex(){return Ex=(0,be.Z)(function*(n,e){const t=Ze(n);t.asyncQueue.verifyOperationInProgress(),Pe("RemoteStore","RemoteStore received new credentials");const i=uf(t);t._u.add(3),yield iy(t),i&&t.gu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t._u.delete(3),yield E0(t)}),Ex.apply(this,arguments)}function Ix(n,e){return Dx.apply(this,arguments)}function Dx(){return Dx=(0,be.Z)(function*(n,e){const t=Ze(n);e?(t._u.delete(2),yield E0(t)):e||(t._u.add(2),yield iy(t),t.gu.set("Unknown"))}),Dx.apply(this,arguments)}function sy(n){return n.pu||(n.pu=function(e,t,i){const r=Ze(e);return r.su(),new HN(t,r.Vo,r.authCredentials,r.appCheckCredentials,r.It,i)}(n.datastore,n.asyncQueue,{Yr:qN.bind(null,n),Zr:WN.bind(null,n),Wo:ZN.bind(null,n)}),n.wu.push(function(){var e=(0,be.Z)(function*(t){t?(n.pu.Oo(),fx(n)?hx(n):n.gu.set("Unknown")):(yield n.pu.stop(),oR(n))});return function(t){return e.apply(this,arguments)}}())),n.pu}function df(n){return n.Iu||(n.Iu=function(e,t,i){const r=Ze(e);return r.su(),new jN(t,r.Vo,r.authCredentials,r.appCheckCredentials,r.It,i)}(n.datastore,n.asyncQueue,{Yr:QN.bind(null,n),Zr:eF.bind(null,n),tu:XN.bind(null,n),Zo:JN.bind(null,n)}),n.wu.push(function(){var e=(0,be.Z)(function*(t){t?(n.Iu.Oo(),yield ry(n)):(yield n.Iu.stop(),n.fu.length>0&&(Pe("RemoteStore",`Stopping write stream with ${n.fu.length} pending writes`),n.fu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Iu}class Tx{constructor(e,t,i,r,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=r,this.removalCallback=a,this.deferred=new Ri,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}static createAndSchedule(e,t,i,r,a){const c=Date.now()+i,f=new Tx(e,t,c,r,a);return f.start(i),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Re(he.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function oy(n,e){if(Ti("AsyncQueue",`${e}: ${n}`),Ca(n))return new Re(he.UNAVAILABLE,`${e}: ${n}`);throw n}class ay{constructor(e){this.comparator=e?(t,i)=>e(t,i)||qe.comparator(t.key,i.key):(t,i)=>qe.comparator(t.key,i.key),this.keyedMap=Xh(),this.sortedSet=new li(this.comparator)}static emptySet(e){return new ay(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof ay)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const r=t.getNext().key,a=i.getNext().key;if(!r.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const i=new ay;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}class dR{constructor(){this.Tu=new li(qe.comparator)}track(e){const t=e.doc.key,i=this.Tu.get(t);i?0!==e.type&&3===i.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==i.type?this.Tu=this.Tu.insert(t,{type:i.type,doc:e.doc}):2===e.type&&2===i.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===i.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===i.type?this.Tu=this.Tu.remove(t):1===e.type&&2===i.type?this.Tu=this.Tu.insert(t,{type:1,doc:i.doc}):0===e.type&&1===i.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):rt():this.Tu=this.Tu.insert(t,e)}Eu(){const e=[];return this.Tu.inorderTraversal((t,i)=>{e.push(i)}),e}}class ly{constructor(e,t,i,r,a,c,f,_){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=a,this.fromCache=c,this.syncStateChanged=f,this.excludesMetadataChanges=_}static fromInitialDocuments(e,t,i,r){const a=[];return t.forEach(c=>{a.push({type:0,doc:c})}),new ly(e,t,ay.emptySet(t),a,i,r,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&fm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==i[r].type||!t[r].doc.isEqual(i[r].doc))return!1;return!0}}class tF{constructor(){this.Au=void 0,this.listeners=[]}}class nF{constructor(){this.queries=new Ta(e=>yS(e),fm),this.onlineState="Unknown",this.Ru=new Set}}function Sx(n,e){return xx.apply(this,arguments)}function xx(){return xx=(0,be.Z)(function*(n,e){const t=Ze(n),i=e.query;let r=!1,a=t.queries.get(i);if(a||(r=!0,a=new tF),r)try{a.Au=yield t.onListen(i)}catch(c){const f=oy(c,`Initialization of query '${N_(e.query)}' failed`);return void e.onError(f)}t.queries.set(i,a),a.listeners.push(e),e.bu(t.onlineState),a.Au&&e.Pu(a.Au)&&kx(t)}),xx.apply(this,arguments)}function Mx(n,e){return Ax.apply(this,arguments)}function Ax(){return Ax=(0,be.Z)(function*(n,e){const t=Ze(n),i=e.query;let r=!1;const a=t.queries.get(i);if(a){const c=a.listeners.indexOf(e);c>=0&&(a.listeners.splice(c,1),r=0===a.listeners.length)}if(r)return t.queries.delete(i),t.onUnlisten(i)}),Ax.apply(this,arguments)}function iF(n,e){const t=Ze(n);let i=!1;for(const r of e){const c=t.queries.get(r.query);if(c){for(const f of c.listeners)f.Pu(r)&&(i=!0);c.Au=r}}i&&kx(t)}function rF(n,e,t){const i=Ze(n),r=i.queries.get(e);if(r)for(const a of r.listeners)a.onError(t);i.queries.delete(e)}function kx(n){n.Ru.forEach(e=>{e.next()})}class Rx{constructor(e,t,i){this.query=e,this.vu=t,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=i||{}}Pu(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)3!==r.type&&i.push(r);e=new ly(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),t=!0):this.Cu(e,this.onlineState)&&(this.xu(e),t=!0),this.Su=e,t}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}Cu(e,t){return!e.fromCache||!(this.options.Nu&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}Du(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}xu(e){e=ly.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Vu=!0,this.vu.next(e)}}class sF{constructor(e,t){this.payload=e,this.byteLength=t}ku(){return"metadata"in this.payload}}class hR{constructor(e){this.It=e}Ji(e){return Bo(this.It,e)}Yi(e){return e.metadata.exists?f0(this.It,e.document,!1):Sn.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}Xi(e){return Si(e)}}class oF{constructor(e,t,i){this.Mu=e,this.localStore=t,this.It=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=fR(e)}Ou(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;const i=en.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Fu(e){const t=new Map,i=new hR(this.It);for(const r of e)if(r.metadata.queries){const a=i.Ji(r.metadata.name);for(const c of r.metadata.queries){const f=(t.get(c)||Ut()).add(a);t.set(c,f)}}return t}complete(){var e=this;return(0,be.Z)(function*(){const t=yield function NN(n,e,t,i){return nx.apply(this,arguments)}(e.localStore,new hR(e.It),e.documents,e.Mu.id),i=e.Fu(e.documents);for(const r of e.queries)yield FN(e.localStore,r,i.get(r.name));return e.progress.taskState="Success",{progress:e.progress,$u:e.collectionGroups,Bu:t}})()}}function fR(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class pR{constructor(e){this.key=e}}class mR{constructor(e){this.key=e}}class gR{constructor(e,t){this.query=e,this.Lu=t,this.Uu=null,this.current=!1,this.qu=Ut(),this.mutatedKeys=Ut(),this.Ku=bS(e),this.Gu=new ay(this.Ku)}get Qu(){return this.Lu}ju(e,t){const i=t?t.Wu:new dR,r=t?t.Gu:this.Gu;let a=t?t.mutatedKeys:this.mutatedKeys,c=r,f=!1;const _="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,b="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((I,x)=>{const L=r.get(I),B=OE(this.query,x)?x:null,H=!!L&&this.mutatedKeys.has(L.key),ee=!!B&&(B.hasLocalMutations||this.mutatedKeys.has(B.key)&&B.hasCommittedMutations);let ve=!1;L&&B?L.data.isEqual(B.data)?H!==ee&&(i.track({type:3,doc:B}),ve=!0):this.zu(L,B)||(i.track({type:2,doc:B}),ve=!0,(_&&this.Ku(B,_)>0||b&&this.Ku(B,b)<0)&&(f=!0)):!L&&B?(i.track({type:0,doc:B}),ve=!0):L&&!B&&(i.track({type:1,doc:L}),ve=!0,(_||b)&&(f=!0)),ve&&(B?(c=c.add(B),a=ee?a.add(I):a.delete(I)):(c=c.delete(I),a=a.delete(I)))}),null!==this.query.limit)for(;c.size>this.query.limit;){const I="F"===this.query.limitType?c.last():c.first();c=c.delete(I.key),a=a.delete(I.key),i.track({type:1,doc:I})}return{Gu:c,Wu:i,$i:f,mutatedKeys:a}}zu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i){const r=this.Gu;this.Gu=e.Gu,this.mutatedKeys=e.mutatedKeys;const a=e.Wu.Eu();a.sort((b,I)=>function(x,L){const B=H=>{switch(H){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return rt()}};return B(x)-B(L)}(b.type,I.type)||this.Ku(b.doc,I.doc)),this.Hu(i);const c=t?this.Ju():[],f=0===this.qu.size&&this.current?1:0,_=f!==this.Uu;return this.Uu=f,0!==a.length||_?{snapshot:new ly(this.query,e.Gu,r,a,e.mutatedKeys,0===f,_,!1),Yu:c}:{Yu:c}}bu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Gu:this.Gu,Wu:new dR,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Yu:[]}}Xu(e){return!this.Lu.has(e)&&!!this.Gu.has(e)&&!this.Gu.get(e).hasLocalMutations}Hu(e){e&&(e.addedDocuments.forEach(t=>this.Lu=this.Lu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Lu=this.Lu.delete(t)),this.current=e.current)}Ju(){if(!this.current)return[];const e=this.qu;this.qu=Ut(),this.Gu.forEach(i=>{this.Xu(i.key)&&(this.qu=this.qu.add(i.key))});const t=[];return e.forEach(i=>{this.qu.has(i)||t.push(new mR(i))}),this.qu.forEach(i=>{e.has(i)||t.push(new pR(i))}),t}Zu(e){this.Lu=e.Hi,this.qu=Ut();const t=this.ju(e.documents);return this.applyChanges(t,!0)}tc(){return ly.fromInitialDocuments(this.query,this.Gu,this.mutatedKeys,0===this.Uu)}}class aF{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class lF{constructor(e){this.key=e,this.ec=!1}}class cF{constructor(e,t,i,r,a,c){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=r,this.currentUser=a,this.maxConcurrentLimboResolutions=c,this.nc={},this.sc=new Ta(f=>yS(f),fm),this.ic=new Map,this.rc=new Set,this.oc=new li(qe.comparator),this.uc=new Map,this.cc=new KS,this.ac={},this.hc=new Map,this.lc=Cm.vn(),this.onlineState="Unknown",this.fc=void 0}get isPrimaryClient(){return!0===this.fc}}function uF(n,e){return Ox.apply(this,arguments)}function Ox(){return Ox=(0,be.Z)(function*(n,e){const t=nM(n);let i,r;const a=t.sc.get(e);if(a)i=a.targetId,t.sharedClientState.addLocalQueryTarget(i),r=a.view.tc();else{const c=yield ty(t.localStore,Ur(e));t.isPrimaryClient&&gI(t.remoteStore,c);const f=t.sharedClientState.addLocalQueryTarget(c.targetId);i=c.targetId,r=yield Px(t,e,i,"current"===f)}return r}),Ox.apply(this,arguments)}function Px(n,e,t,i){return Nx.apply(this,arguments)}function Nx(){return Nx=(0,be.Z)(function*(n,e,t,i){n.dc=(I,x,L)=>{return(B=(0,be.Z)(function*(H,ee,ve,Ge){let et=ee.view.ju(ve);et.$i&&(et=yield hI(H.localStore,ee.query,!1).then(({documents:Mt})=>ee.view.ju(Mt,et)));const yt=Ge&&Ge.targetChanges.get(ee.targetId),ot=ee.view.applyChanges(et,H.isPrimaryClient,yt);return zx(H,ee.targetId,ot.Yu),ot.snapshot}),function(H,ee,ve,Ge){return B.apply(this,arguments)})(n,I,x,L);var B};const r=yield hI(n.localStore,e,!0),a=new gR(e,r.Hi),c=a.ju(r.documents),f=_d.createSynthesizedTargetChangeForCurrentChange(t,i&&"Offline"!==n.onlineState),_=a.applyChanges(c,n.isPrimaryClient,f);zx(n,t,_.Yu);const b=new aF(e,t,a);return n.sc.set(e,b),n.ic.has(t)?n.ic.get(t).push(e):n.ic.set(t,[e]),_.snapshot}),Nx.apply(this,arguments)}function dF(n,e){return Fx.apply(this,arguments)}function Fx(){return Fx=(0,be.Z)(function*(n,e){const t=Ze(n),i=t.sc.get(e),r=t.ic.get(i.targetId);if(r.length>1)return t.ic.set(i.targetId,r.filter(a=>!fm(a,e))),void t.sc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(i.targetId),t.sharedClientState.isActiveQueryTarget(i.targetId)||(yield ny(t.localStore,i.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(i.targetId),I0(t.remoteStore,i.targetId),cy(t,i.targetId)}).catch(Fc))):(cy(t,i.targetId),yield ny(t.localStore,i.targetId,!0))}),Fx.apply(this,arguments)}function Lx(){return Lx=(0,be.Z)(function*(n,e,t){const i=iM(n);try{const r=yield function(a,c){const f=Ze(a),_=Un.now(),b=c.reduce((L,B)=>L.add(B.key),Ut());let I,x;return f.persistence.runTransaction("Locally write mutations","readwrite",L=>{let B=ss(),H=Ut();return f.Gi.getEntries(L,b).next(ee=>{B=ee,B.forEach((ve,Ge)=>{Ge.isValidDocument()||(H=H.add(ve))})}).next(()=>f.localDocuments.getOverlayedDocuments(L,B)).next(ee=>{I=ee;const ve=[];for(const Ge of c){const et=SS(Ge,I.get(Ge.key).overlayedDocument);null!=et&&ve.push(new Hc(Ge.key,et,SE(et.value.mapValue),jn.exists(!0)))}return f.mutationQueue.addMutationBatch(L,_,ve,c)}).next(ee=>{x=ee;const ve=ee.applyToLocalDocumentSet(I,H);return f.documentOverlayCache.saveOverlays(L,ee.batchId,ve)})}).then(()=>({batchId:x.batchId,changes:a0(I)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(a,c,f){let _=a.ac[a.currentUser.toKey()];_||(_=new li(Lt)),_=_.insert(c,f),a.ac[a.currentUser.toKey()]=_}(i,r.batchId,t),yield vd(i,r.changes),yield ry(i.remoteStore)}catch(r){const a=oy(r,"Failed to persist write");t.reject(a)}}),Lx.apply(this,arguments)}function _R(n,e){return Vx.apply(this,arguments)}function Vx(){return Vx=(0,be.Z)(function*(n,e){const t=Ze(n);try{const i=yield ON(t.localStore,e);e.targetChanges.forEach((r,a)=>{const c=t.uc.get(a);c&&(St(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?c.ec=!0:r.modifiedDocuments.size>0?St(c.ec):r.removedDocuments.size>0&&(St(c.ec),c.ec=!1))}),yield vd(t,i,e)}catch(i){yield Fc(i)}}),Vx.apply(this,arguments)}function yR(n,e,t){const i=Ze(n);if(i.isPrimaryClient&&0===t||!i.isPrimaryClient&&1===t){const r=[];i.sc.forEach((a,c)=>{const f=c.view.bu(e);f.snapshot&&r.push(f.snapshot)}),function(a,c){const f=Ze(a);f.onlineState=c;let _=!1;f.queries.forEach((b,I)=>{for(const x of I.listeners)x.bu(c)&&(_=!0)}),_&&kx(f)}(i.eventManager,e),r.length&&i.nc.Wo(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function fF(n,e,t){return Bx.apply(this,arguments)}function Bx(){return Bx=(0,be.Z)(function*(n,e,t){const i=Ze(n);i.sharedClientState.updateQueryState(e,"rejected",t);const r=i.uc.get(e),a=r&&r.key;if(a){let c=new li(qe.comparator);c=c.insert(a,Sn.newNoDocument(a,xt.min()));const f=Ut().add(a),_=new ef(xt.min(),new Map,new hn(Lt),c,f);yield _R(i,_),i.oc=i.oc.remove(a),i.uc.delete(e),qx(i)}else yield ny(i.localStore,e,!1).then(()=>cy(i,e,t)).catch(Fc)}),Bx.apply(this,arguments)}function pF(n,e){return Ux.apply(this,arguments)}function Ux(){return Ux=(0,be.Z)(function*(n,e){const t=Ze(n),i=e.batch.batchId;try{const r=yield RN(t.localStore,e);Gx(t,i,null),$x(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),yield vd(t,r)}catch(r){yield Fc(r)}}),Ux.apply(this,arguments)}function mF(n,e,t){return Hx.apply(this,arguments)}function Hx(){return Hx=(0,be.Z)(function*(n,e,t){const i=Ze(n);try{const r=yield function(a,c){const f=Ze(a);return f.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let b;return f.mutationQueue.lookupMutationBatch(_,c).next(I=>(St(null!==I),b=I.keys(),f.mutationQueue.removeMutationBatch(_,I))).next(()=>f.mutationQueue.performConsistencyCheck(_)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(_,b,c)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,b)).next(()=>f.localDocuments.getDocuments(_,b))})}(i.localStore,e);Gx(i,e,t),$x(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),yield vd(i,r)}catch(r){yield Fc(r)}}),Hx.apply(this,arguments)}function jx(){return jx=(0,be.Z)(function*(n,e){const t=Ze(n);uf(t.remoteStore)||Pe("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(a){const c=Ze(a);return c.persistence.runTransaction("Get highest unacknowledged batch id","readonly",f=>c.mutationQueue.getHighestUnacknowledgedBatchId(f))}(t.localStore);if(-1===i)return void e.resolve();const r=t.hc.get(i)||[];r.push(e),t.hc.set(i,r)}catch(i){const r=oy(i,"Initialization of waitForPendingWrites() operation failed");e.reject(r)}}),jx.apply(this,arguments)}function $x(n,e){(n.hc.get(e)||[]).forEach(t=>{t.resolve()}),n.hc.delete(e)}function Gx(n,e,t){const i=Ze(n);let r=i.ac[i.currentUser.toKey()];if(r){const a=r.get(e);a&&(t?a.reject(t):a.resolve(),r=r.remove(e)),i.ac[i.currentUser.toKey()]=r}}function cy(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.ic.get(e))n.sc.delete(i),t&&n.nc._c(i,t);n.ic.delete(e),n.isPrimaryClient&&n.cc.ls(e).forEach(i=>{n.cc.containsKey(i)||vR(n,i)})}function vR(n,e){n.rc.delete(e.path.canonicalString());const t=n.oc.get(e);null!==t&&(I0(n.remoteStore,t),n.oc=n.oc.remove(e),n.uc.delete(t),qx(n))}function zx(n,e,t){for(const i of t)i instanceof pR?(n.cc.addReference(i.key,e),_F(n,i)):i instanceof mR?(Pe("SyncEngine","Document no longer in limbo: "+i.key),n.cc.removeReference(i.key,e),n.cc.containsKey(i.key)||vR(n,i.key)):rt()}function _F(n,e){const t=e.key,i=t.path.canonicalString();n.oc.get(t)||n.rc.has(i)||(Pe("SyncEngine","New document in limbo: "+t),n.rc.add(i),qx(n))}function qx(n){for(;n.rc.size>0&&n.oc.size<n.maxConcurrentLimboResolutions;){const e=n.rc.values().next().value;n.rc.delete(e);const t=new qe(en.fromString(e)),i=n.lc.next();n.uc.set(i,new lF(t)),n.oc=n.oc.insert(t,i),gI(n.remoteStore,new $c(Ur(Kh(t.path)),i,2,rs.at))}}function vd(n,e,t){return Wx.apply(this,arguments)}function Wx(){return Wx=(0,be.Z)(function*(n,e,t){const i=Ze(n),r=[],a=[],c=[];var f;i.sc.isEmpty()||(i.sc.forEach((f,_)=>{c.push(i.dc(_,e,t).then(b=>{if(b){i.isPrimaryClient&&i.sharedClientState.updateQueryState(_.targetId,b.fromCache?"not-current":"current"),r.push(b);const I=JS.Ci(_.targetId,b);a.push(I)}}))}),yield Promise.all(c),i.nc.Wo(r),yield(f=(0,be.Z)(function*(_,b){const I=Ze(_);try{yield I.persistence.runTransaction("notifyLocalViewChanges","readwrite",x=>ce.forEach(b,L=>ce.forEach(L.Si,B=>I.persistence.referenceDelegate.addReference(x,L.targetId,B)).next(()=>ce.forEach(L.Di,B=>I.persistence.referenceDelegate.removeReference(x,L.targetId,B)))))}catch(x){if(!Ca(x))throw x;Pe("LocalStore","Failed to update sequence numbers: "+x)}for(const x of b){const L=x.targetId;if(!x.fromCache){const B=I.Ui.get(L),ee=B.withLastLimboFreeSnapshotVersion(B.snapshotVersion);I.Ui=I.Ui.insert(L,ee)}}}),function(_,b){return f.apply(this,arguments)})(i.localStore,a))}),Wx.apply(this,arguments)}function yF(n,e){return Zx.apply(this,arguments)}function Zx(){return Zx=(0,be.Z)(function*(n,e){const t=Ze(n);if(!t.currentUser.isEqual(e)){Pe("SyncEngine","User change. New user:",e.toKey());const i=yield Wk(t.localStore,e);t.currentUser=e,(r=t).hc.forEach(c=>{c.forEach(f=>{f.reject(new Re(he.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.hc.clear(),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield vd(t,i.ji)}var r}),Zx.apply(this,arguments)}function vF(n,e){const t=Ze(n),i=t.uc.get(e);if(i&&i.ec)return Ut().add(i.key);{let r=Ut();const a=t.ic.get(e);if(!a)return r;for(const c of a){const f=t.sc.get(c);r=r.unionWith(f.view.Qu)}return r}}function bF(n,e){return Kx.apply(this,arguments)}function Kx(){return Kx=(0,be.Z)(function*(n,e){const t=Ze(n),i=yield hI(t.localStore,e.query,!0),r=e.view.Zu(i);return t.isPrimaryClient&&zx(t,e.targetId,r.Yu),r}),Kx.apply(this,arguments)}function wF(n,e){return Yx.apply(this,arguments)}function Yx(){return Yx=(0,be.Z)(function*(n,e){const t=Ze(n);return Qk(t.localStore,e).then(i=>vd(t,i))}),Yx.apply(this,arguments)}function CF(n,e,t,i){return Qx.apply(this,arguments)}function Qx(){return Qx=(0,be.Z)(function*(n,e,t,i){const r=Ze(n),a=yield function(c,f){const _=Ze(c),b=Ze(_.mutationQueue);return _.persistence.runTransaction("Lookup mutation documents","readonly",I=>b.Tn(I,f).next(x=>x?_.localDocuments.getDocuments(I,x):ce.resolve(null)))}(r.localStore,e);var f;null!==a?("pending"===t?yield ry(r.remoteStore):"acknowledged"===t||"rejected"===t?(Gx(r,e,i||null),$x(r,e),f=e,Ze(Ze(r.localStore).mutationQueue).An(f)):rt(),yield vd(r,a)):Pe("SyncEngine","Cannot apply mutation batch with id: "+e)}),Qx.apply(this,arguments)}function Xx(){return Xx=(0,be.Z)(function*(n,e){const t=Ze(n);if(nM(t),iM(t),!0===e&&!0!==t.fc){const i=t.sharedClientState.getAllActiveQueryTargets(),r=yield bR(t,i.toArray());t.fc=!0,yield Ix(t.remoteStore,!0);for(const a of r)gI(t.remoteStore,a)}else if(!1===e&&!1!==t.fc){const i=[];let r=Promise.resolve();t.ic.forEach((a,c)=>{t.sharedClientState.isLocalQueryTarget(c)?i.push(c):r=r.then(()=>(cy(t,c),ny(t.localStore,c,!0))),I0(t.remoteStore,c)}),yield r,yield bR(t,i),function(a){const c=Ze(a);c.uc.forEach((f,_)=>{I0(c.remoteStore,_)}),c.cc.fs(),c.uc=new Map,c.oc=new li(qe.comparator)}(t),t.fc=!1,yield Ix(t.remoteStore,!1)}}),Xx.apply(this,arguments)}function bR(n,e,t){return Jx.apply(this,arguments)}function Jx(){return Jx=(0,be.Z)(function*(n,e,t){const i=Ze(n),r=[],a=[];for(const c of e){let f;const _=i.ic.get(c);if(_&&0!==_.length){f=yield ty(i.localStore,Ur(_[0]));for(const b of _){const I=i.sc.get(b),x=yield bF(i,I);x.snapshot&&a.push(x.snapshot)}}else{const b=yield Yk(i.localStore,c);f=yield ty(i.localStore,b),yield Px(i,wR(b),c,!1)}r.push(f)}return i.nc.Wo(a),r}),Jx.apply(this,arguments)}function wR(n){return RE(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function IF(n){const e=Ze(n);return Ze(Ze(e.localStore).persistence).vi()}function DF(n,e,t,i){return eM.apply(this,arguments)}function eM(){return eM=(0,be.Z)(function*(n,e,t,i){const r=Ze(n);if(r.fc)return void Pe("SyncEngine","Ignoring unexpected query state notification.");const a=r.ic.get(e);if(a&&a.length>0)switch(t){case"current":case"not-current":{const c=yield Qk(r.localStore,vS(a[0])),f=ef.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield vd(r,c,f);break}case"rejected":yield ny(r.localStore,e,!0),cy(r,e,i);break;default:rt()}}),eM.apply(this,arguments)}function TF(n,e,t){return tM.apply(this,arguments)}function tM(){return tM=(0,be.Z)(function*(n,e,t){const i=nM(n);if(i.fc){for(const r of e){if(i.ic.has(r)){Pe("SyncEngine","Adding an already active target "+r);continue}const a=yield Yk(i.localStore,r),c=yield ty(i.localStore,a);yield Px(i,wR(a),c.targetId,!1),gI(i.remoteStore,c)}for(const r of t)i.ic.has(r)&&(yield ny(i.localStore,r,!1).then(()=>{I0(i.remoteStore,r),cy(i,r)}).catch(Fc))}}),tM.apply(this,arguments)}function nM(n){const e=Ze(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=_R.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=vF.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=fF.bind(null,e),e.nc.Wo=iF.bind(null,e.eventManager),e.nc._c=rF.bind(null,e.eventManager),e}function iM(n){const e=Ze(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=pF.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=mF.bind(null,e),e}class CR{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,be.Z)(function*(){t.It=C0(e.databaseInfo.databaseId),t.sharedClientState=t.mc(e),t.persistence=t.gc(e),yield t.persistence.start(),t.localStore=t.yc(e),t.gcScheduler=t.Ic(e,t.localStore),t.indexBackfillerScheduler=t.Tc(e,t.localStore)})()}Ic(e,t){return null}Tc(e,t){return null}yc(e){return qk(this.persistence,new zk,e.initialUser,this.It)}gc(e){return new $k(uI.Bs,this.It)}mc(e){return new tR}terminate(){var e=this;return(0,be.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class ER extends CR{constructor(e,t,i){super(),this.Ec=e,this.cacheSizeBytes=t,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,i=this;return(0,be.Z)(function*(){yield t().call(i,e),yield i.Ec.initialize(i,e),yield iM(i.Ec.syncEngine),yield ry(i.Ec.remoteStore),yield i.persistence.li(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(),i.indexBackfillerScheduler&&!i.indexBackfillerScheduler.started&&i.indexBackfillerScheduler.start(),Promise.resolve()))})()}yc(e){return qk(this.persistence,new zk,e.initialUser,this.It)}Ic(e,t){return new _N(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}Tc(e,t){const i=new lS(t,this.persistence);return new aS(e.asyncQueue,i)}gc(e){const t=XS(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?Ir.withCacheSize(this.cacheSizeBytes):Ir.DEFAULT;return new QS(this.synchronizeTabs,t,e.clientId,i,e.asyncQueue,iR(),mI(),this.It,this.sharedClientState,!!this.forceOwnership)}mc(e){return new tR}}class xF extends ER{constructor(e,t){super(e,t,!1),this.Ec=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,i=this;return(0,be.Z)(function*(){yield t().call(i,e);const r=i.Ec.syncEngine;i.sharedClientState instanceof ax&&(i.sharedClientState.syncEngine={Fr:CF.bind(null,r),$r:DF.bind(null,r),Br:TF.bind(null,r),vi:IF.bind(null,r),Or:wF.bind(null,r)},yield i.sharedClientState.start()),yield i.persistence.li(function(){var a=(0,be.Z)(function*(c){yield function EF(n,e){return Xx.apply(this,arguments)}(i.Ec.syncEngine,c),i.gcScheduler&&(c&&!i.gcScheduler.started?i.gcScheduler.start():c||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(c&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():c||i.indexBackfillerScheduler.stop())});return function(c){return a.apply(this,arguments)}}())})()}mc(e){const t=iR();if(!ax.C(t))throw new Re(he.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=XS(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new ax(t,e.asyncQueue,i,e.clientId,e.initialUser)}}class rM{initialize(e,t){var i=this;return(0,be.Z)(function*(){i.localStore||(i.localStore=e.localStore,i.sharedClientState=e.sharedClientState,i.datastore=i.createDatastore(t),i.remoteStore=i.createRemoteStore(t),i.eventManager=i.createEventManager(t),i.syncEngine=i.createSyncEngine(t,!e.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>yR(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=yF.bind(null,i.syncEngine),yield Ix(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(e){return new nF}createDatastore(e){const t=C0(e.databaseInfo.databaseId),i=new UN(e.databaseInfo);return new $N(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return t=this.localStore,i=this.datastore,r=e.asyncQueue,a=f=>yR(this.syncEngine,f,0),c=nR.C()?new nR:new LN,new zN(t,i,r,a,c);var t,i,r,a,c}createSyncEngine(e,t){return function(i,r,a,c,f,_,b){const I=new cF(i,r,a,c,f,_);return b&&(I.fc=!0),I}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,be.Z)(function*(t){const i=Ze(t);Pe("RemoteStore","RemoteStore shutting down."),i._u.add(5),yield iy(i),i.mu.shutdown(),i.gu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function IR(n,e=10240){let t=0;return{read:()=>(0,be.Z)(function*(){if(t<n.byteLength){const i={value:n.slice(t,t+e),done:!1};return t+=e,i}return{done:!0}})(),cancel:()=>(0,be.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class yI{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ac(this.observer.next,e)}error(e){this.observer.error?this.Ac(this.observer.error,e):Ti("Uncaught Error in snapshot listener:",e)}Rc(){this.muted=!0}Ac(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class MF{constructor(e,t){this.bc=e,this.It=t,this.metadata=new Ri,this.buffer=new Uint8Array,this.Pc=new TextDecoder("utf-8"),this.vc().then(i=>{i&&i.ku()?this.metadata.resolve(i.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(i?.payload)}`))},i=>this.metadata.reject(i))}close(){return this.bc.cancel()}getMetadata(){var e=this;return(0,be.Z)(function*(){return e.metadata.promise})()}wc(){var e=this;return(0,be.Z)(function*(){return yield e.getMetadata(),e.vc()})()}vc(){var e=this;return(0,be.Z)(function*(){const t=yield e.Vc();if(null===t)return null;const i=e.Pc.decode(t),r=Number(i);isNaN(r)&&e.Sc(`length string (${i}) is not valid number`);const a=yield e.Dc(r);return new sF(JSON.parse(a),t.length+r)})()}Cc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Vc(){var e=this;return(0,be.Z)(function*(){for(;e.Cc()<0&&!(yield e.xc()););if(0===e.buffer.length)return null;const t=e.Cc();t<0&&e.Sc("Reached the end of bundle when a length string is expected.");const i=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),i})()}Dc(e){var t=this;return(0,be.Z)(function*(){for(;t.buffer.length<e;)(yield t.xc())&&t.Sc("Reached the end of bundle when more is expected.");const i=t.Pc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),i})()}Sc(e){throw this.bc.cancel(),new Error(`Invalid bundle format: ${e}`)}xc(){var e=this;return(0,be.Z)(function*(){const t=yield e.bc.read();if(!t.done){const i=new Uint8Array(e.buffer.length+t.value.length);i.set(e.buffer),i.set(t.value,e.buffer.length),e.buffer=i}return t.done})()}}class AF{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,be.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Re(he.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(r=(0,be.Z)(function*(a,c){const f=Ze(a),_=jc(f.It)+"/documents",b={documents:c.map(B=>tf(f.It,B))},I=yield f.fo("BatchGetDocuments",_,b,c.length),x=new Map;I.forEach(B=>{const H=function qE(n,e){return"found"in e?function(t,i){St(!!i.found);const r=Bo(t,i.found.name),a=Si(i.found.updateTime),c=new pr({mapValue:{fields:i.found.fields}});return Sn.newFoundDocument(r,a,c)}(n,e):"missing"in e?function(t,i){St(!!i.missing),St(!!i.readTime);const r=Bo(t,i.missing),a=Si(i.readTime);return Sn.newNoDocument(r,a)}(n,e):rt()}(f.It,B);x.set(H.key.toString(),H)});const L=[];return c.forEach(B=>{const H=x.get(B.toString());St(!!H),L.push(H)}),L}),function(a,c){return r.apply(this,arguments)})(t.datastore,e);var r;return i.forEach(r=>t.recordVersion(r)),i})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(e.toString())}delete(e){this.write(new pm(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,be.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var i;e.mutations.forEach(i=>{t.delete(i.key.toString())}),t.forEach((i,r)=>{const a=qe.fromPath(r);e.mutations.push(new ks(a,e.precondition(a)))}),yield(i=(0,be.Z)(function*(r,a){const c=Ze(r),f=jc(c.It)+"/documents",_={writes:a.map(b=>_m(c.It,b))};yield c.co("Commit",f,_)}),function(r,a){return i.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw rt();t=xt.min()}const i=this.readVersions.get(e.key.toString());if(i){if(!t.isEqual(i))throw new Re(he.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(xt.min())?jn.exists(!1):jn.updateTime(t):jn.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(xt.min()))throw new Re(he.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return jn.updateTime(t)}return jn.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class kF{constructor(e,t,i,r,a){this.asyncQueue=e,this.datastore=t,this.options=i,this.updateFunction=r,this.deferred=a,this.Nc=i.maxAttempts,this.xo=new lx(this.asyncQueue,"transaction_retry")}run(){this.Nc-=1,this.kc()}kc(){var e=this;this.xo.Ao((0,be.Z)(function*(){const t=new AF(e.datastore),i=e.Mc(t);i&&i.then(r=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(r)}).catch(a=>{e.Oc(a)}))}).catch(r=>{e.Oc(r)})}))}Mc(e){try{const t=this.updateFunction(e);return!ud(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Oc(e){this.Nc>0&&this.Fc(e)?(this.Nc-=1,this.asyncQueue.enqueueAndForget(()=>(this.kc(),Promise.resolve()))):this.deferred.reject(e)}Fc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!Rs(t)}return!1}}class RF{constructor(e,t,i,r){var a=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=r,this.user=Di.UNAUTHENTICATED,this.clientId=vE.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var c=(0,be.Z)(function*(f){Pe("FirestoreClient","Received user=",f.uid),yield a.authCredentialListener(f),a.user=f});return function(f){return c.apply(this,arguments)}}()),this.appCheckCredentials.start(i,c=>(Pe("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}getConfiguration(){var e=this;return(0,be.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Re(he.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Ri;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,be.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=oy(i,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}function DR(n,e){return sM.apply(this,arguments)}function sM(){return sM=(0,be.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Pe("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(function(){var r=(0,be.Z)(function*(a){i.isEqual(a)||(yield Wk(e.localStore,a),i=a)});return function(a){return r.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),sM.apply(this,arguments)}function TR(n,e){return oM.apply(this,arguments)}function oM(){return oM=(0,be.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield aM(n);Pe("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield e.initialize(t,i),n.setCredentialChangeListener(r=>uR(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,a)=>uR(e.remoteStore,a)),n.onlineComponents=e}),oM.apply(this,arguments)}function aM(n){return lM.apply(this,arguments)}function lM(){return lM=(0,be.Z)(function*(n){return n.offlineComponents||(Pe("FirestoreClient","Using default OfflineComponentProvider"),yield DR(n,new CR)),n.offlineComponents}),lM.apply(this,arguments)}function vI(n){return cM.apply(this,arguments)}function cM(){return cM=(0,be.Z)(function*(n){return n.onlineComponents||(Pe("FirestoreClient","Using default OnlineComponentProvider"),yield TR(n,new rM)),n.onlineComponents}),cM.apply(this,arguments)}function SR(n){return aM(n).then(e=>e.persistence)}function bI(n){return aM(n).then(e=>e.localStore)}function xR(n){return vI(n).then(e=>e.remoteStore)}function uM(n){return vI(n).then(e=>e.syncEngine)}function uy(n){return dM.apply(this,arguments)}function dM(){return dM=(0,be.Z)(function*(n){const e=yield vI(n),t=e.eventManager;return t.onListen=uF.bind(null,e.syncEngine),t.onUnlisten=dF.bind(null,e.syncEngine),t}),dM.apply(this,arguments)}function MR(n,e,t={}){const i=new Ri;return n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return function(r,a,c,f,_){const b=new yI({next:x=>{a.enqueueAndForget(()=>Mx(r,I));const L=x.docs.has(c);!L&&x.fromCache?_.reject(new Re(he.UNAVAILABLE,"Failed to get document because the client is offline.")):L&&x.fromCache&&f&&"server"===f.source?_.reject(new Re(he.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(x)},error:x=>_.reject(x)}),I=new Rx(Kh(c.path),b,{includeMetadataChanges:!0,Nu:!0});return Sx(r,I)}(yield uy(n),n.asyncQueue,e,t,i)})),i.promise}function AR(n,e,t={}){const i=new Ri;return n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return function(r,a,c,f,_){const b=new yI({next:x=>{a.enqueueAndForget(()=>Mx(r,I)),x.fromCache&&"server"===f.source?_.reject(new Re(he.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(x)},error:x=>_.reject(x)}),I=new Rx(c,b,{includeMetadataChanges:!0,Nu:!0});return Sx(r,I)}(yield uy(n),n.asyncQueue,e,t,i)})),i.promise}const kR=new Map;function hM(n,e,t){if(!t)throw new Re(he.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function RR(n,e,t,i){if(!0===e&&!0===i)throw new Re(he.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function OR(n){if(!qe.isDocumentKey(n))throw new Re(he.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function PR(n){if(qe.isDocumentKey(n))throw new Re(he.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function wI(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":rt()}function rn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Re(he.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=wI(n);throw new Re(he.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function NR(n,e){if(e<=0)throw new Re(he.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class FR{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Re(he.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Re(he.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,RR("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class D0{constructor(e,t,i,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new FR({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Re(he.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Re(he.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new FR(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new yE;switch(t.type){case"gapi":return new nS(t.client,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Re(he.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=kR.get(e);t&&(Pe("ComponentProvider","Removing Datastore"),kR.delete(e),t.terminate())}(this),Promise.resolve()}}class Xn{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new qc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Xn(this.firestore,e,this._key)}}class os{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new os(this.firestore,e,this._query)}}class qc extends os{constructor(e,t,i){super(e,t,Kh(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Xn(this.firestore,null,new qe(e))}withConverter(e){return new qc(this.firestore,e,this._path)}}function LR(n,e,...t){if(n=(0,Bt.m9)(n),hM("collection","path",e),n instanceof D0){const i=en.fromString(e,...t);return PR(i),new qc(n,null,i)}{if(!(n instanceof Xn||n instanceof qc))throw new Re(he.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(en.fromString(e,...t));return PR(i),new qc(n.firestore,null,i)}}function CI(n,e,...t){if(n=(0,Bt.m9)(n),1===arguments.length&&(e=vE.R()),hM("doc","path",e),n instanceof D0){const i=en.fromString(e,...t);return OR(i),new Xn(n,null,new qe(i))}{if(!(n instanceof Xn||n instanceof qc))throw new Re(he.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(en.fromString(e,...t));return OR(i),new Xn(n.firestore,n instanceof qc?n.converter:null,new qe(i))}}function VR(n,e){return n=(0,Bt.m9)(n),e=(0,Bt.m9)(e),(n instanceof Xn||n instanceof qc)&&(e instanceof Xn||e instanceof qc)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function BR(n,e){return n=(0,Bt.m9)(n),e=(0,Bt.m9)(e),n instanceof os&&e instanceof os&&n.firestore===e.firestore&&fm(n._query,e._query)&&n.converter===e.converter}class $F{constructor(){this.$c=Promise.resolve(),this.Bc=[],this.Lc=!1,this.Uc=[],this.qc=null,this.Kc=!1,this.Gc=!1,this.Qc=[],this.xo=new lx(this,"async_queue_retry"),this.jc=()=>{const t=mI();t&&Pe("AsyncQueue","Visibility state changed to "+t.visibilityState),this.xo.bo()};const e=mI();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.jc)}get isShuttingDown(){return this.Lc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Wc(),this.zc(e)}enterRestrictedMode(e){if(!this.Lc){this.Lc=!0,this.Gc=e||!1;const t=mI();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.jc)}}enqueue(e){if(this.Wc(),this.Lc)return new Promise(()=>{});const t=new Ri;return this.zc(()=>this.Lc&&this.Gc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Bc.push(e),this.Hc()))}Hc(){var e=this;return(0,be.Z)(function*(){if(0!==e.Bc.length){try{yield e.Bc[0](),e.Bc.shift(),e.xo.reset()}catch(t){if(!Ca(t))throw t;Pe("AsyncQueue","Operation failed with retryable error: "+t)}e.Bc.length>0&&e.xo.Ao(()=>e.Hc())}})()}zc(e){const t=this.$c.then(()=>(this.Kc=!0,e().catch(i=>{throw this.qc=i,this.Kc=!1,Ti("INTERNAL UNHANDLED ERROR: ",function(a){let c=a.message||"";return a.stack&&(c=a.stack.includes(a.message)?a.stack:a.message+"\n"+a.stack),c}(i)),i}).then(i=>(this.Kc=!1,i))));return this.$c=t,t}enqueueAfterDelay(e,t,i){this.Wc(),this.Qc.indexOf(e)>-1&&(t=0);const r=Tx.createAndSchedule(this,e,t,i,a=>this.Jc(a));return this.Uc.push(r),r}Wc(){this.qc&&rt()}verifyOperationInProgress(){}Yc(){var e=this;return(0,be.Z)(function*(){let t;do{t=e.$c,yield t}while(t!==e.$c)})()}Xc(e){for(const t of this.Uc)if(t.timerId===e)return!0;return!1}Zc(e){return this.Yc().then(()=>{this.Uc.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.Uc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Yc()})}ta(e){this.Qc.push(e)}Jc(e){const t=this.Uc.indexOf(e);this.Uc.splice(t,1)}}function fM(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const i=e;for(const r of["next","error","complete"])if(r in i&&"function"==typeof i[r])return!0;return!1}(n)}class GF{constructor(){this._progressObserver={},this._taskCompletionResolver=new Ri,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,i){this._progressObserver={next:e,error:t,complete:i}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class di extends D0{constructor(e,t,i,r){super(e,t,i,r),this.type="firestore",this._queue=new $F,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||UR(this),this._firestoreClient.terminate()}}function Yi(n){return n._firestoreClient||UR(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function UR(n){var e;const t=n._freezeSettings(),i=(a=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new cS(n._databaseId,a,n._persistenceKey,(f=t).host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,f.useFetchStreams));var a,f;n._firestoreClient=new RF(n._authCredentials,n._appCheckCredentials,n._queue,i)}function HR(n,e,t){const i=new Ri;return n.asyncQueue.enqueue((0,be.Z)(function*(){try{yield DR(n,t),yield TR(n,e),i.resolve()}catch(r){const a=r;if(!("FirebaseError"===(c=a).name?c.code===he.FAILED_PRECONDITION||c.code===he.UNIMPLEMENTED:!(typeof DOMException<"u"&&c instanceof DOMException)||22===c.code||20===c.code||11===c.code))throw a;Pc("Error enabling offline persistence. Falling back to persistence disabled: "+a),i.reject(a)}var c})).then(()=>i.promise)}function jR(n){if(n._initialized||n._terminated)throw new Re(he.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class bd{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Re(he.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ai(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Wc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Wc(vi.fromBase64String(e))}catch(t){throw new Re(he.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Wc(vi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Im{constructor(e){this._methodName=e}}class EI{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Re(he.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Re(he.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Lt(this._lat,e._lat)||Lt(this._long,e._long)}}const eL=/^__.*__$/;class tL{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return null!==this.fieldMask?new Hc(e,this.data,this.fieldMask,t,this.fieldTransforms):new Qh(e,this.data,t,this.fieldTransforms)}}class $R{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new Hc(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function GR(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw rt()}}class II{constructor(e,t,i,r,a,c){this.settings=e,this.databaseId=t,this.It=i,this.ignoreUndefinedProperties=r,void 0===a&&this.ea(),this.fieldTransforms=a||[],this.fieldMask=c||[]}get path(){return this.settings.path}get na(){return this.settings.na}sa(e){return new II(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ia(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.sa({path:i,ra:!1});return r.oa(e),r}ua(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.sa({path:i,ra:!1});return r.ea(),r}ca(e){return this.sa({path:void 0,ra:!0})}aa(e){return SI(e,this.settings.methodName,this.settings.ha||!1,this.path,this.settings.la)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ea(){if(this.path)for(let e=0;e<this.path.length;e++)this.oa(this.path.get(e))}oa(e){if(0===e.length)throw this.aa("Document fields must not be empty");if(GR(this.na)&&eL.test(e))throw this.aa('Document fields cannot begin and end with "__"')}}class nL{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.It=i||C0(e)}fa(e,t,i,r=!1){return new II({na:e,methodName:t,la:i,path:ai.emptyPath(),ra:!1,ha:r},this.databaseId,this.It,this.ignoreUndefinedProperties)}}function Dm(n){const e=n._freezeSettings(),t=C0(n._databaseId);return new nL(n._databaseId,!!e.ignoreUndefinedProperties,t)}function DI(n,e,t,i,r,a={}){const c=n.fa(a.merge||a.mergeFields?2:0,e,t,r);_M("Data must be an object, but it was:",c,i);const f=WR(i,c);let _,b;if(a.merge)_=new As(c.fieldMask),b=c.fieldTransforms;else if(a.mergeFields){const I=[];for(const x of a.mergeFields){const L=yM(e,x,t);if(!c.contains(L))throw new Re(he.INVALID_ARGUMENT,`Field '${L}' is specified in your field mask but missing from your input data.`);KR(I,L)||I.push(L)}_=new As(I),b=c.fieldTransforms.filter(x=>_.covers(x.field))}else _=null,b=c.fieldTransforms;return new tL(new pr(f),_,b)}class T0 extends Im{_toFieldTransform(e){if(2!==e.na)throw e.aa(1===e.na?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof T0}}function zR(n,e,t){return new II({na:3,la:e.settings.la,methodName:n._methodName,ra:t},e.databaseId,e.It,e.ignoreUndefinedProperties)}class pM extends Im{_toFieldTransform(e){return new V_(e.path,new kl)}isEqual(e){return e instanceof pM}}class iL extends Im{constructor(e,t){super(e),this.da=t}_toFieldTransform(e){const t=zR(this,e,!0),i=this.da.map(a=>Tm(a,t)),r=new Uc(i);return new V_(e.path,r)}isEqual(e){return this===e}}class rL extends Im{constructor(e,t){super(e),this.da=t}_toFieldTransform(e){const t=zR(this,e,!0),i=this.da.map(a=>Tm(a,t)),r=new Yh(i);return new V_(e.path,r)}isEqual(e){return this===e}}class sL extends Im{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=new md(e.It,ES(e.It,this._a));return new V_(e.path,t)}isEqual(e){return this===e}}function mM(n,e,t,i){const r=n.fa(1,e,t);_M("Data must be an object, but it was:",r,i);const a=[],c=pr.empty();Ia(i,(_,b)=>{const I=TI(e,_,t);b=(0,Bt.m9)(b);const x=r.ua(I);if(b instanceof T0)a.push(I);else{const L=Tm(b,x);null!=L&&(a.push(I),c.set(I,L))}});const f=new As(a);return new $R(c,f,r.fieldTransforms)}function gM(n,e,t,i,r,a){const c=n.fa(1,e,t),f=[yM(e,i,t)],_=[r];if(a.length%2!=0)throw new Re(he.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let L=0;L<a.length;L+=2)f.push(yM(e,a[L])),_.push(a[L+1]);const b=[],I=pr.empty();for(let L=f.length-1;L>=0;--L)if(!KR(b,f[L])){const B=f[L];let H=_[L];H=(0,Bt.m9)(H);const ee=c.ua(B);if(H instanceof T0)b.push(B);else{const ve=Tm(H,ee);null!=ve&&(b.push(B),I.set(B,ve))}}const x=new As(b);return new $R(I,x,c.fieldTransforms)}function qR(n,e,t,i=!1){return Tm(t,n.fa(i?4:3,e))}function Tm(n,e){if(ZR(n=(0,Bt.m9)(n)))return _M("Unsupported field value:",e,n),WR(n,e);if(n instanceof Im)return function(t,i){if(!GR(i.na))throw i.aa(`${t._methodName}() can only be used with update() and set()`);if(!i.path)throw i.aa(`${t._methodName}() is not currently supported inside arrays`);const r=t._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.ra&&4!==e.na)throw e.aa("Nested arrays are not supported");return function(t,i){const r=[];let a=0;for(const c of t){let f=Tm(c,i.ca(a));null==f&&(f={nullValue:"NULL_VALUE"}),r.push(f),a++}return{arrayValue:{values:r}}}(n,e)}return function(t,i){if(null===(t=(0,Bt.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return ES(i.It,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const r=Un.fromDate(t);return{timestampValue:mm(i.It,r)}}if(t instanceof Un){const r=new Un(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:mm(i.It,r)}}if(t instanceof EI)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Wc)return{bytesValue:u0(i.It,t._byteString)};if(t instanceof Xn){const r=i.databaseId,a=t.firestore._databaseId;if(!a.isEqual(r))throw i.aa(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:j_(t.firestore._databaseId||i.databaseId,t._key.path)}}throw i.aa(`Unsupported field value: ${wI(t)}`)}(n,e)}function WR(n,e){const t={};return IE(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ia(n,(i,r)=>{const a=Tm(r,e.ia(i));null!=a&&(t[i]=a)}),{mapValue:{fields:t}}}function ZR(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Un||n instanceof EI||n instanceof Wc||n instanceof Xn||n instanceof Im)}function _M(n,e,t){if(!ZR(t)||"object"!=typeof(i=t)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=wI(t);throw e.aa("an object"===i?n+" a custom object":n+" "+i)}var i}function yM(n,e,t){if((e=(0,Bt.m9)(e))instanceof bd)return e._internalPath;if("string"==typeof e)return TI(n,e);throw SI("Field path arguments must be of type string or ",n,!1,void 0,t)}const oL=new RegExp("[~\\*/\\[\\]]");function TI(n,e,t){if(e.search(oL)>=0)throw SI(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new bd(...e.split("."))._internalPath}catch{throw SI(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function SI(n,e,t,i,r){const a=i&&!i.isEmpty(),c=void 0!==r;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let _="";return(a||c)&&(_+=" (found",a&&(_+=` in field ${i}`),c&&(_+=` in document ${r}`),_+=")"),new Re(he.INVALID_ARGUMENT,f+n+_)}function KR(n,e){return n.some(t=>t.isEqual(e))}class S0{constructor(e,t,i,r,a){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=r,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Xn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new aL(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(xI("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class aL extends S0{data(){return super.data()}}function xI(n,e){return"string"==typeof e?TI(n,e):e instanceof bd?e._internalPath:e._delegate._internalPath}class Sm{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class wd extends S0{constructor(e,t,i,r,a,c){super(e,t,i,r,c),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new x0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(xI("DocumentSnapshot.get",e));if(null!==i)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class x0 extends wd{data(e={}){return super.data(e)}}class hf{constructor(e,t,i,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Sm(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new x0(this._firestore,this._userDataWriter,i.key,i,new Sm(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Re(he.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map(c=>({type:"added",doc:new x0(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Sm(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:a++}))}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(c=>r||3!==c.type).map(c=>{const f=new x0(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Sm(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);let _=-1,b=-1;return 0!==c.type&&(_=a.indexOf(c.doc.key),a=a.delete(c.doc.key)),1!==c.type&&(a=a.add(c.doc),b=a.indexOf(c.doc.key)),{type:lL(c.type),doc:f,oldIndex:_,newIndex:b}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function lL(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return rt()}}function YR(n,e){return n instanceof wd&&e instanceof wd?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof hf&&e instanceof hf&&n._firestore===e._firestore&&BR(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function QR(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Re(he.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class M0{}function ff(n,...e){for(const t of e)n=t._apply(n);return n}class cL extends M0{constructor(e,t,i){super(),this.wa=e,this.ma=t,this.ga=i,this.type="where"}_apply(e){const t=Dm(e.firestore),i=function(r,a,c,f,_,b,I){let x;if(_.isKeyField()){if("array-contains"===b||"array-contains-any"===b)throw new Re(he.INVALID_ARGUMENT,`Invalid Query. You can't perform '${b}' queries on documentId().`);if("in"===b||"not-in"===b){iO(I,b);const B=[];for(const H of I)B.push(nO(f,r,H));x={arrayValue:{values:B}}}else x=nO(f,r,I)}else"in"!==b&&"not-in"!==b&&"array-contains-any"!==b||iO(I,b),x=qR(c,"where",I,"in"===b||"not-in"===b);const L=ci.create(_,b,x);return function(B,H){if(H.dt()){const ve=R_(B);if(null!==ve&&!ve.isEqual(H.field))throw new Re(he.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${ve.toString()}' and '${H.field.toString()}'`);const Ge=Jb(B);null!==Ge&&rO(0,H.field,Ge)}const ee=function(ve,Ge){for(const et of ve.filters)if(Ge.indexOf(et.op)>=0)return et.op;return null}(B,function(ve){switch(ve){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(H.op));if(null!==ee)throw new Re(he.INVALID_ARGUMENT,ee===H.op?`Invalid query. You cannot use more than one '${H.op.toString()}' filter.`:`Invalid query. You cannot use '${H.op.toString()}' filters with '${ee.toString()}' filters.`)}(r,L),L}(e._query,0,t,e.firestore._databaseId,this.wa,this.ma,this.ga);return new os(e.firestore,e.converter,function(r,a){const c=r.filters.concat([a]);return new Da(r.path,r.collectionGroup,r.explicitOrderBy.slice(),c,r.limit,r.limitType,r.startAt,r.endAt)}(e._query,i))}}class dL extends M0{constructor(e,t){super(),this.wa=e,this.ya=t,this.type="orderBy"}_apply(e){const t=function(i,r,a){if(null!==i.startAt)throw new Re(he.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new Re(he.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const c=new fd(r,a);return function(f,_){if(null===Jb(f)){const b=R_(f);null!==b&&rO(0,b,_.field)}}(i,c),c}(e._query,this.wa,this.ya);return new os(e.firestore,e.converter,function(i,r){const a=i.explicitOrderBy.concat([r]);return new Da(i.path,i.collectionGroup,a,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}class XR extends M0{constructor(e,t,i){super(),this.type=e,this.pa=t,this.Ia=i}_apply(e){return new os(e.firestore,e.converter,P_(e._query,this.pa,this.Ia))}}class JR extends M0{constructor(e,t,i){super(),this.type=e,this.Ta=t,this.Ea=i}_apply(e){const t=tO(e,this.type,this.Ta,this.Ea);return new os(e.firestore,e.converter,(r=t,new Da((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,r,i.endAt)));var i,r}}class eO extends M0{constructor(e,t,i){super(),this.type=e,this.Ta=t,this.Ea=i}_apply(e){const t=tO(e,this.type,this.Ta,this.Ea);return new os(e.firestore,e.converter,(r=t,new Da((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,r)));var i,r}}function tO(n,e,t,i){if(t[0]=(0,Bt.m9)(t[0]),t[0]instanceof S0)return function(r,a,c,f,_){if(!f)throw new Re(he.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${c}().`);const b=[];for(const I of pd(r))if(I.field.isKeyField())b.push(io(a,f.key));else{const x=f.data.field(I.field);if(Ub(x))throw new Re(he.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+I.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===x){const L=I.field.canonicalString();throw new Re(he.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${L}' (used as the orderBy) does not exist.`)}b.push(x)}return new Bc(b,_)}(n._query,n.firestore._databaseId,e,t[0]._document,i);{const r=Dm(n.firestore);return function(a,c,f,_,b,I){const x=a.explicitOrderBy;if(b.length>x.length)throw new Re(he.INVALID_ARGUMENT,`Too many arguments provided to ${_}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const L=[];for(let B=0;B<b.length;B++){const H=b[B];if(x[B].field.isKeyField()){if("string"!=typeof H)throw new Re(he.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${_}(), but got a ${typeof H}`);if(!O_(a)&&-1!==H.indexOf("/"))throw new Re(he.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${_}() must be a plain document ID, but '${H}' contains a slash.`);const ee=a.path.child(en.fromString(H));if(!qe.isDocumentKey(ee))throw new Re(he.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${_}() must result in a valid document path, but '${ee}' is not because it contains an odd number of segments.`);const ve=new qe(ee);L.push(io(c,ve))}else{const ee=qR(f,_,H);L.push(ee)}}return new Bc(L,I)}(n._query,n.firestore._databaseId,r,e,t,i)}}function nO(n,e,t){if("string"==typeof(t=(0,Bt.m9)(t))){if(""===t)throw new Re(he.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!O_(e)&&-1!==t.indexOf("/"))throw new Re(he.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(en.fromString(t));if(!qe.isDocumentKey(i))throw new Re(he.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return io(n,new qe(i))}if(t instanceof Xn)return io(n,t._key);throw new Re(he.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${wI(t)}.`)}function iO(n,e){if(!Array.isArray(n)||0===n.length)throw new Re(he.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new Re(he.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function rO(n,e,t){if(!t.isEqual(e))throw new Re(he.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}const vL={maxAttempts:5};class vM{convertValue(e,t="none"){switch(dd(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Hn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(xl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw rt()}}convertObject(e,t){const i={};return Ia(e.fields,(r,a)=>{i[r]=this.convertValue(a,t)}),i}convertGeoPoint(e){return new EI(Hn(e.latitude),Hn(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=DE(e);return null==i?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(lm(e));default:return null}}convertTimestamp(e){const t=Sl(e);return new Un(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=en.fromString(e);St(YE(i));const r=new Ml(i.get(1),i.get(3)),a=new qe(i.popFirst(5));return r.isEqual(t)||Ti(`Document ${a} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}function MI(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}class bL extends vM{constructor(e){super(),this.firestore=e}convertBytes(e){return new Wc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Xn(this.firestore,null,t)}}class sO{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Dm(e)}set(e,t,i){this._verifyNotCommitted();const r=pf(e,this._firestore),a=MI(r.converter,t,i),c=DI(this._dataReader,"WriteBatch.set",r._key,a,null!==r.converter,i);return this._mutations.push(c.toMutation(r._key,jn.none())),this}update(e,t,i,...r){this._verifyNotCommitted();const a=pf(e,this._firestore);let c;return c="string"==typeof(t=(0,Bt.m9)(t))||t instanceof bd?gM(this._dataReader,"WriteBatch.update",a._key,t,i,r):mM(this._dataReader,"WriteBatch.update",a._key,t),this._mutations.push(c.toMutation(a._key,jn.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=pf(e,this._firestore);return this._mutations=this._mutations.concat(new pm(t._key,jn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Re(he.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function pf(n,e){if((n=(0,Bt.m9)(n)).firestore!==e)throw new Re(he.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class xm extends vM{constructor(e){super(),this.firestore=e}convertBytes(e){return new Wc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Xn(this.firestore,null,t)}}function oO(n,e,t){n=rn(n,Xn);const i=rn(n.firestore,di),r=MI(n.converter,e,t);return dy(i,[DI(Dm(i),"setDoc",n._key,r,null!==n.converter,t).toMutation(n._key,jn.none())])}function aO(n,e,t,...i){n=rn(n,Xn);const r=rn(n.firestore,di),a=Dm(r);let c;return c="string"==typeof(e=(0,Bt.m9)(e))||e instanceof bd?gM(a,"updateDoc",n._key,e,t,i):mM(a,"updateDoc",n._key,e),dy(r,[c.toMutation(n._key,jn.exists(!0))])}function lO(n,...e){var t,i,r;n=(0,Bt.m9)(n);let a={includeMetadataChanges:!1},c=0;"object"!=typeof e[c]||fM(e[c])||(a=e[c],c++);const f={includeMetadataChanges:a.includeMetadataChanges};if(fM(e[c])){const x=e[c];e[c]=null===(t=x.next)||void 0===t?void 0:t.bind(x),e[c+1]=null===(i=x.error)||void 0===i?void 0:i.bind(x),e[c+2]=null===(r=x.complete)||void 0===r?void 0:r.bind(x)}let _,b,I;if(n instanceof Xn)b=rn(n.firestore,di),I=Kh(n._key.path),_={next:x=>{e[c]&&e[c](bM(b,n,x))},error:e[c+1],complete:e[c+2]};else{const x=rn(n,os);b=rn(x.firestore,di),I=x._query;const L=new xm(b);_={next:B=>{e[c]&&e[c](new hf(b,L,x,B))},error:e[c+1],complete:e[c+2]},QR(n._query)}return function(x,L,B,H){const ee=new yI(H),ve=new Rx(L,ee,B);return x.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return Sx(yield uy(x),ve)})),()=>{ee.Rc(),x.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return Mx(yield uy(x),ve)}))}}(Yi(b),I,f,_)}function dy(n,e){return function(t,i){const r=new Ri;return t.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return function hF(n,e,t){return Lx.apply(this,arguments)}(yield uM(t),i,r)})),r.promise}(Yi(n),e)}function bM(n,e,t){const i=t.docs.get(e._key),r=new xm(n);return new wd(n,r,e._key,i,new Sm(t.hasPendingWrites,t.fromCache),e.converter)}class AL extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Dm(e)}get(e){const t=pf(e,this._firestore),i=new bL(this._firestore);return this._transaction.lookup([t._key]).then(r=>{if(!r||1!==r.length)return rt();const a=r[0];if(a.isFoundDocument())return new S0(this._firestore,i,a.key,a,t.converter);if(a.isNoDocument())return new S0(this._firestore,i,t._key,null,t.converter);throw rt()})}set(e,t,i){const r=pf(e,this._firestore),a=MI(r.converter,t,i),c=DI(this._dataReader,"Transaction.set",r._key,a,null!==r.converter,i);return this._transaction.set(r._key,c),this}update(e,t,i,...r){const a=pf(e,this._firestore);let c;return c="string"==typeof(t=(0,Bt.m9)(t))||t instanceof bd?gM(this._dataReader,"Transaction.update",a._key,t,i,r):mM(this._dataReader,"Transaction.update",a._key,t),this._transaction.update(a._key,c),this}delete(e){const t=pf(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=pf(e,this._firestore),i=new xm(this._firestore);return super.get(e).then(r=>new wd(this._firestore,i,t._key,r._document,new Sm(!1,!1),t.converter))}}function wM(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Re("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function uO(){if(typeof Uint8Array>"u")throw new Re("unimplemented","Uint8Arrays are not available in this environment.")}function dO(){if(!function bk(){return typeof atob<"u"}())throw new Re("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){Hh=Gi.SDK_VERSION,(0,Gi._registerComponent)(new Ch.wA("firestore",(t,{instanceIdentifier:i,options:r})=>{const a=t.getProvider("app").getImmediate(),c=new di(new eS(t.getProvider("auth-internal")),new vk(t.getProvider("app-check-internal")),function(f,_){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new Re(he.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ml(f.options.projectId,_)}(a,i),a);return r=Object.assign({useFetchStreams:e},r),c._setSettings(r),c},"PUBLIC").setMultipleInstances(!0)),(0,Gi.registerVersion)(gE,"3.4.15",n),(0,Gi.registerVersion)(gE,"3.4.15","esm2017")}();class A0{constructor(e){this._delegate=e}static fromBase64String(e){return dO(),new A0(Wc.fromBase64String(e))}static fromUint8Array(e){return uO(),new A0(Wc.fromUint8Array(e))}toBase64(){return dO(),this._delegate.toBase64()}toUint8Array(){return uO(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function CM(n){return function BL(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const i of e)if(i in t&&"function"==typeof t[i])return!0;return!1}(n,["next","error","complete"])}class UL{enableIndexedDbPersistence(e,t){return function qF(n,e){jR(n=rn(n,di));const t=Yi(n),i=n._freezeSettings(),r=new rM;return HR(t,r,new ER(r,i.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function WF(n){jR(n=rn(n,di));const e=Yi(n),t=n._freezeSettings(),i=new rM;return HR(e,i,new xF(i,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function ZF(n){if(n._initialized&&!n._terminated)throw new Re(he.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Ri;return n._queue.enqueueAndForgetEvenWhileRestricted((0,be.Z)(function*(){try{yield(t=(0,be.Z)(function*(i){if(!Fo.C())return Promise.resolve();const r=i+"main";yield Fo.delete(r)}),function(i){return t.apply(this,arguments)})(XS(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class hO{constructor(e,t,i){this._delegate=t,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},e instanceof Ml||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Pc("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,i={}){!function HF(n,e,t,i={}){var r;const a=(n=rn(n,D0))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==e&&Pc("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},a),{host:`${e}:${t}`,ssl:!1})),i.mockUserToken){let c,f;if("string"==typeof i.mockUserToken)c=i.mockUserToken,f=Di.MOCK_USER;else{c=(0,Bt.Sg)(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const _=i.mockUserToken.sub||i.mockUserToken.user_id;if(!_)throw new Re(he.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Di(_)}n._authCredentials=new JT(new kb(c,f))}}(this._delegate,e,t,i)}enableNetwork(){return function YF(n){return function OF(n){return n.asyncQueue.enqueue((0,be.Z)(function*(){const e=yield SR(n),t=yield xR(n);return e.setNetworkEnabled(!0),function(i){const r=Ze(i);return r._u.delete(0),E0(r)}(t)}))}(Yi(n=rn(n,di)))}(this._delegate)}disableNetwork(){return function QF(n){return function PF(n){return n.asyncQueue.enqueue((0,be.Z)(function*(){const e=yield SR(n),t=yield xR(n);return e.setNetworkEnabled(!1),(i=(0,be.Z)(function*(r){const a=Ze(r);a._u.add(0),yield iy(a),a.gu.set("Offline")}),function(r){return i.apply(this,arguments)})(t);var i}))}(Yi(n=rn(n,di)))}(this._delegate)}enablePersistence(e){let t=!1,i=!1;return e&&(t=!!e.synchronizeTabs,i=!!e.experimentalForceOwningTab,RR("synchronizeTabs",t,"experimentalForceOwningTab",i)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function KF(n){return function(e){const t=new Ri;return e.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return function gF(n,e){return jx.apply(this,arguments)}(yield uM(e),t)})),t.promise}(Yi(n=rn(n,di)))}(this._delegate)}onSnapshotsInSync(e){return function ML(n,e){return function LF(n,e){const t=new yI(e);return n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return i=yield uy(n),r=t,Ze(i).Ru.add(r),void r.next();var i,r})),()=>{t.Rc(),n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return i=yield uy(n),r=t,void Ze(i).Ru.delete(r);var i,r}))}}(Yi(n=rn(n,di)),fM(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Re("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new hy(this,LR(this._delegate,e))}catch(t){throw Os(t,"collection()","Firestore.collection()")}}doc(e){try{return new Ma(this,CI(this._delegate,e))}catch(t){throw Os(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Ps(this,function jF(n,e){if(n=rn(n,D0),hM("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Re(he.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new os(n,null,(t=e,new Da(en.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Os(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function kL(n,e,t){n=rn(n,di);const i=Object.assign(Object.assign({},vL),t);return function(r){if(r.maxAttempts<1)throw new Re(he.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function VF(n,e,t){const i=new Ri;return n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){const r=yield(a=n,vI(a).then(c=>c.datastore));var a;new kF(n.asyncQueue,r,t,e,i).run()})),i.promise}(Yi(n),r=>e(new AL(n,r)),i)}(this._delegate,t=>e(new fO(this,t)))}batch(){return Yi(this._delegate),new pO(new sO(this._delegate,e=>dy(this._delegate,e)))}loadBundle(e){return function XF(n,e){const t=Yi(n=rn(n,di)),i=new GF;return function BF(n,e,t,i){const r=function(a,c){let f;return f="string"==typeof a?(new TextEncoder).encode(a):a,_=function(_,b){if(_ instanceof Uint8Array)return IR(_,b);if(_ instanceof ArrayBuffer)return IR(new Uint8Array(_),b);if(_ instanceof ReadableStream)return _.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(f),new MF(_,c);var _}(t,C0(e));n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){!function SF(n,e,t){const i=Ze(n);var r;(r=(0,be.Z)(function*(a,c,f){try{const _=yield c.getMetadata();if(yield function(L,B){const H=Ze(L),ee=Si(B.createTime);return H.persistence.runTransaction("hasNewerBundle","readonly",ve=>H.Ns.getBundleMetadata(ve,B.id)).then(ve=>!!ve&&ve.createTime.compareTo(ee)>=0)}(a.localStore,_))return yield c.close(),f._completeWith({taskState:"Success",documentsLoaded:(L=_).totalDocuments,bytesLoaded:L.totalBytes,totalDocuments:L.totalDocuments,totalBytes:L.totalBytes}),Promise.resolve(new Set);f._updateProgress(fR(_));const b=new oF(_,a.localStore,c.It);let I=yield c.wc();for(;I;){const L=yield b.Ou(I);L&&f._updateProgress(L),I=yield c.wc()}const x=yield b.complete();return yield vd(a,x.Bu,void 0),yield function(L,B){const H=Ze(L);return H.persistence.runTransaction("Save bundle","readwrite",ee=>H.Ns.saveBundleMetadata(ee,B))}(a.localStore,_),f._completeWith(x.progress),Promise.resolve(x.$u)}catch(_){return Pc("SyncEngine",`Loading bundle failed with ${_}`),f._failWith(_),Promise.resolve(new Set)}var L}),function(a,c,f){return r.apply(this,arguments)})(i,e,t).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}(yield uM(n),r,i)}))}(t,n._databaseId,e,i),i}(this._delegate,e)}namedQuery(e){return function JF(n,e){return function UF(n,e){return n.asyncQueue.enqueue((0,be.Z)(function*(){return function(t,i){const r=Ze(t);return r.persistence.runTransaction("Get named query","readonly",a=>r.Ns.getNamedQuery(a,i))}(yield bI(n),e)}))}(Yi(n=rn(n,di)),e).then(t=>t?new os(n,null,t.query):null)}(this._delegate,e).then(t=>t?new Ps(this,t):null)}}class AI extends vM{constructor(e){super(),this.firestore=e}convertBytes(e){return new A0(new Wc(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Ma.forKey(t,this.firestore,null)}}class fO{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new AI(e)}get(e){const t=Am(e);return this._delegate.get(t).then(i=>new k0(this._firestore,new wd(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,t.converter)))}set(e,t,i){const r=Am(e);return i?(wM("Transaction.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){const a=Am(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,i,...r),this}delete(e){const t=Am(e);return this._delegate.delete(t),this}}class pO{constructor(e){this._delegate=e}set(e,t,i){const r=Am(e);return i?(wM("WriteBatch.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){const a=Am(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,i,...r),this}delete(e){const t=Am(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Mm{constructor(e,t,i){this._firestore=e,this._userDataWriter=t,this._delegate=i}fromFirestore(e,t){const i=new x0(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new R0(this._firestore,i),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const i=Mm.INSTANCES;let r=i.get(e);r||(r=new WeakMap,i.set(e,r));let a=r.get(t);return a||(a=new Mm(e,new AI(e),t),r.set(t,a)),a}}Mm.INSTANCES=new WeakMap;class Ma{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new AI(e)}static forPath(e,t,i){if(e.length%2!=0)throw new Re("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Ma(t,new Xn(t._delegate,i,new qe(e)))}static forKey(e,t,i){return new Ma(t,new Xn(t._delegate,i,e))}get id(){return this._delegate.id}get parent(){return new hy(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new hy(this.firestore,LR(this._delegate,e))}catch(t){throw Os(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Bt.m9)(e))instanceof Xn&&VR(this._delegate,e)}set(e,t){t=wM("DocumentReference.set",t);try{return t?oO(this._delegate,e,t):oO(this._delegate,e)}catch(i){throw Os(i,"setDoc()","DocumentReference.set()")}}update(e,t,...i){try{return 1===arguments.length?aO(this._delegate,e):aO(this._delegate,e,t,...i)}catch(r){throw Os(r,"updateDoc()","DocumentReference.update()")}}delete(){return function SL(n){return dy(rn(n.firestore,di),[new pm(n._key,jn.none())])}(this._delegate)}onSnapshot(...e){const t=mO(e),i=gO(e,r=>new k0(this.firestore,new wd(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return lO(this._delegate,t,i)}get(e){let t;return t="cache"===e?.source?function CL(n){n=rn(n,Xn);const e=rn(n.firestore,di),t=Yi(e),i=new xm(e);return function NF(n,e){const t=new Ri;return n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return(i=(0,be.Z)(function*(r,a,c){try{const f=yield function(_,b){const I=Ze(_);return I.persistence.runTransaction("read document","readonly",x=>I.localDocuments.getDocument(x,b))}(r,a);f.isFoundDocument()?c.resolve(f):f.isNoDocument()?c.resolve(null):c.reject(new Re(he.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(f){const _=oy(f,`Failed to get document '${a} from cache`);c.reject(_)}}),function(r,a,c){return i.apply(this,arguments)})(yield bI(n),e,t);var i})),t.promise}(t,n._key).then(r=>new wd(e,i,n._key,r,new Sm(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function EL(n){n=rn(n,Xn);const e=rn(n.firestore,di);return MR(Yi(e),n._key,{source:"server"}).then(t=>bM(e,n,t))}(this._delegate):function wL(n){n=rn(n,Xn);const e=rn(n.firestore,di);return MR(Yi(e),n._key).then(t=>bM(e,n,t))}(this._delegate),t.then(i=>new k0(this.firestore,new wd(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(e){return new Ma(this.firestore,this._delegate.withConverter(e?Mm.getInstance(this.firestore,e):null))}}function Os(n,e,t){return n.message=n.message.replace(e,t),n}function mO(n){for(const e of n)if("object"==typeof e&&!CM(e))return e;return{}}function gO(n,e){var t,i;let r;return r=CM(n[0])?n[0]:CM(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:a=>{r.next&&r.next(e(a))},error:null===(t=r.error)||void 0===t?void 0:t.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class k0{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Ma(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return YR(this._delegate,e._delegate)}}class R0 extends k0{data(e){const t=this._delegate.data(e);return function XT(n,e){n||rt()}(void 0!==t),t}}class Ps{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new AI(e)}where(e,t,i){try{return new Ps(this.firestore,ff(this._delegate,function uL(n,e,t){const i=e,r=xI("where",n);return new cL(r,i,t)}(e,t,i)))}catch(r){throw Os(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Ps(this.firestore,ff(this._delegate,function hL(n,e="asc"){const t=e,i=xI("orderBy",n);return new dL(i,t)}(e,t)))}catch(i){throw Os(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Ps(this.firestore,ff(this._delegate,function fL(n){return NR("limit",n),new XR("limit",n,"F")}(e)))}catch(t){throw Os(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Ps(this.firestore,ff(this._delegate,function pL(n){return NR("limitToLast",n),new XR("limitToLast",n,"L")}(e)))}catch(t){throw Os(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Ps(this.firestore,ff(this._delegate,function mL(...n){return new JR("startAt",n,!0)}(...e)))}catch(t){throw Os(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Ps(this.firestore,ff(this._delegate,function gL(...n){return new JR("startAfter",n,!1)}(...e)))}catch(t){throw Os(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Ps(this.firestore,ff(this._delegate,function _L(...n){return new eO("endBefore",n,!1)}(...e)))}catch(t){throw Os(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Ps(this.firestore,ff(this._delegate,function yL(...n){return new eO("endAt",n,!0)}(...e)))}catch(t){throw Os(t,"endAt()","Query.endAt()")}}isEqual(e){return BR(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function DL(n){n=rn(n,os);const e=rn(n.firestore,di),t=Yi(e),i=new xm(e);return function FF(n,e){const t=new Ri;return n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return(i=(0,be.Z)(function*(r,a,c){try{const f=yield hI(r,a,!0),_=new gR(a,f.Hi),b=_.ju(f.documents),I=_.applyChanges(b,!1);c.resolve(I.snapshot)}catch(f){const _=oy(f,`Failed to execute query '${a} against cache`);c.reject(_)}}),function(r,a,c){return i.apply(this,arguments)})(yield bI(n),e,t);var i})),t.promise}(t,n._query).then(r=>new hf(e,i,n,r))}(this._delegate):"server"===e?.source?function TL(n){n=rn(n,os);const e=rn(n.firestore,di),t=Yi(e),i=new xm(e);return AR(t,n._query,{source:"server"}).then(r=>new hf(e,i,n,r))}(this._delegate):function IL(n){n=rn(n,os);const e=rn(n.firestore,di),t=Yi(e),i=new xm(e);return QR(n._query),AR(t,n._query).then(r=>new hf(e,i,n,r))}(this._delegate),t.then(i=>new EM(this.firestore,new hf(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...e){const t=mO(e),i=gO(e,r=>new EM(this.firestore,new hf(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return lO(this._delegate,t,i)}withConverter(e){return new Ps(this.firestore,this._delegate.withConverter(e?Mm.getInstance(this.firestore,e):null))}}class jL{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new R0(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class EM{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Ps(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new R0(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new jL(this._firestore,t))}forEach(e,t){this._delegate.forEach(i=>{e.call(t,new R0(this._firestore,i))})}isEqual(e){return YR(this._delegate,e._delegate)}}class hy extends Ps{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Ma(this.firestore,e):null}doc(e){try{return new Ma(this.firestore,void 0===e?CI(this._delegate):CI(this._delegate,e))}catch(t){throw Os(t,"doc()","CollectionReference.doc()")}}add(e){return function xL(n,e){const t=rn(n.firestore,di),i=CI(n),r=MI(n.converter,e);return dy(t,[DI(Dm(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,jn.exists(!1))]).then(()=>i)}(this._delegate,e).then(t=>new Ma(this.firestore,t))}isEqual(e){return VR(this._delegate,e._delegate)}withConverter(e){return new hy(this.firestore,this._delegate.withConverter(e?Mm.getInstance(this.firestore,e):null))}}function Am(n){return rn(n,Xn)}class IM{constructor(...e){this._delegate=new bd(...e)}static documentId(){return new IM(ai.keyField().canonicalString())}isEqual(e){return(e=(0,Bt.m9)(e))instanceof bd&&this._delegate._internalPath.isEqual(e._internalPath)}}class km{constructor(e){this._delegate=e}static serverTimestamp(){const e=function OL(){return new pM("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new km(e)}static delete(){const e=function RL(){return new T0("deleteField")}();return e._methodName="FieldValue.delete",new km(e)}static arrayUnion(...e){const t=function PL(...n){return new iL("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new km(t)}static arrayRemove(...e){const t=function NL(...n){return new rL("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new km(t)}static increment(e){const t=function FL(n){return new sL("increment",n)}(e);return t._methodName="FieldValue.increment",new km(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const $L={Firestore:hO,GeoPoint:EI,Timestamp:Un,Blob:A0,Transaction:fO,WriteBatch:pO,DocumentReference:Ma,DocumentSnapshot:k0,Query:Ps,QueryDocumentSnapshot:R0,QuerySnapshot:EM,CollectionReference:hy,FieldPath:IM,FieldValue:km,setLogLevel:function HL(n){!function _E(n){Tl.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function zL(n){(function GL(n,e){n.INTERNAL.registerComponent(new Ch.wA("firestore-compat",t=>{const i=t.getProvider("app-compat").getImmediate(),r=t.getProvider("firestore").getImmediate();return e(i,r)},"PUBLIC").setServiceProps(Object.assign({},$L)))})(n,(e,t)=>new hO(e,t,new UL)),n.registerVersion("@firebase/firestore-compat","0.1.24")}(Xu.Z);var kI=P(6451),RI=P(5363),qL=P(6063);class WL extends Nt.x{constructor(e=1/0,t=1/0,i=qL.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:a,_windowTime:c}=this;t||(i.push(e),!r&&i.push(a.now()+c)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:i,_buffer:r}=this,a=r.slice();for(let c=0;c<a.length&&!e.closed;c+=i?1:2)e.next(a[c]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:i,_infiniteTimeWindow:r}=this,a=(r?1:2)*e;if(e<1/0&&a<i.length&&i.splice(0,i.length-a),!r){const c=t.now();let f=0;for(let _=1;_<i.length&&i[_]<=c;_+=2)f=_;f&&i.splice(0,f+1)}}}var _O=P(3099);function yO(n,e,t){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:e=1/0,refCount:r=!1,scheduler:t}=n):i=n??1/0,(0,_O.B)({connector:()=>new WL(i,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function vO(n,e){return(0,ma.m)(e)?$i(()=>n,e):$i(()=>n)}var DM=P(9468);P(5867);const wO=new Map,XL={activated:!1,tokenObservers:[]},JL={initialized:!1,enabled:!1};function Tr(n){return wO.get(n)||XL}function Rl(n,e){wO.set(n,e)}function PI(){return JL}class rV{constructor(e,t,i,r,a){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=a,this.pending=null,this.nextErrorWaitInterval=r,r>a)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,be.Z)(function*(){t.stop();try{t.pending=new Bt.BH,yield function sV(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new Bt.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(i){t.retryPolicy(i)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Ns=new Bt.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function EO(n){if(!Tr(n).activated)throw Ns.create("use-before-activation",{appName:n.name})}function MM(n,e){return AM.apply(this,arguments)}function AM(){return AM=(0,be.Z)(function*({url:n,body:e},t){var i,r;const a={"Content-Type":"application/json"},c=t.getImmediate({optional:!0});if(c){const B=yield c.getHeartbeatsHeader();B&&(a["X-Firebase-Client"]=B)}const f={method:"POST",body:JSON.stringify(e),headers:a};let _,b;try{_=yield fetch(n,f)}catch(B){throw Ns.create("fetch-network-error",{originalErrorMessage:null===(i=B)||void 0===i?void 0:i.message})}if(200!==_.status)throw Ns.create("fetch-status-error",{httpStatus:_.status});try{b=yield _.json()}catch(B){throw Ns.create("fetch-parse-error",{originalErrorMessage:null===(r=B)||void 0===r?void 0:r.message})}const I=b.ttl.match(/^([\d.]+)(s)$/);if(!I||!I[2]||isNaN(Number(I[1])))throw Ns.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${b.ttl}`});const x=1e3*Number(I[1]),L=Date.now();return{token:b.token,expireTimeMillis:L+x,issuedAtTimeMillis:L}}),AM.apply(this,arguments)}function cV(n,e){const{projectId:t,appId:i,apiKey:r}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${i}:exchangeDebugToken?key=${r}`,body:{debug_token:e}}}const O0="firebase-app-check-store";let LI=null;function DO(){return LI||(LI=new Promise((n,e)=>{var t;try{const i=indexedDB.open("firebase-app-check-database",1);i.onsuccess=r=>{n(r.target.result)},i.onerror=r=>{var a;e(Ns.create("storage-open",{originalErrorMessage:null===(a=r.target.error)||void 0===a?void 0:a.message}))},i.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(O0,{keyPath:"compositeKey"})}}catch(i){e(Ns.create("storage-open",{originalErrorMessage:null===(t=i)||void 0===t?void 0:t.message}))}}),LI)}function kM(){return kM=(0,be.Z)(function*(n,e){const i=(yield DO()).transaction(O0,"readwrite"),a=i.objectStore(O0).put({compositeKey:n,value:e});return new Promise((c,f)=>{a.onsuccess=_=>{c()},i.onerror=_=>{var b;f(Ns.create("storage-set",{originalErrorMessage:null===(b=_.target.error)||void 0===b?void 0:b.message}))}})}),kM.apply(this,arguments)}const P0=new Ms.Yd("@firebase/app-check");function MO(n,e){return(0,Bt.hl)()?function fV(n,e){return function TO(n,e){return kM.apply(this,arguments)}(function xO(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{P0.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function AO(){return PI().enabled}function kO(){return NM.apply(this,arguments)}function NM(){return NM=(0,be.Z)(function*(){const n=PI();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),NM.apply(this,arguments)}const vV={error:"UNKNOWN_ERROR"};function bV(n){return Bt.US.encodeString(JSON.stringify(n),!1)}function VI(n){return FM.apply(this,arguments)}function FM(){return FM=(0,be.Z)(function*(n,e=!1){const t=n.app;EO(t);const i=Tr(t);let a,r=i.token;if(!r){const _=yield i.cachedTokenPromise;_&&BI(_)&&(r=_)}if(!e&&r&&BI(r))return{token:r.token};let f,c=!1;if(AO()){i.exchangeTokenPromise||(i.exchangeTokenPromise=MM(cV(t,yield kO()),n.heartbeatServiceProvider).then(b=>(i.exchangeTokenPromise=void 0,b)),c=!0);const _=yield i.exchangeTokenPromise;return yield MO(t,_),Rl(t,Object.assign(Object.assign({},i),{token:_})),{token:_.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().then(_=>(i.exchangeTokenPromise=void 0,_)),c=!0),r=yield i.exchangeTokenPromise}catch(_){"appCheck/throttled"===_.code?P0.warn(_.message):P0.error(_),a=_}return r?(f={token:r.token},Rl(t,Object.assign(Object.assign({},i),{token:r})),yield MO(t,r)):f=CV(a),c&&OO(t,f),f}),FM.apply(this,arguments)}function VM(n,e){const t=Tr(n),i=t.tokenObservers.filter(r=>r.next!==e);0===i.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),Rl(n,Object.assign(Object.assign({},t),{tokenObservers:i}))}function RO(n){const{app:e}=n,t=Tr(e);let i=t.tokenRefresher;i||(i=function wV(n){const{app:e}=n;return new rV((0,be.Z)(function*(){let i;if(i=Tr(e).token?yield VI(n,!0):yield VI(n),i.error)throw i.error}),()=>!0,()=>{const t=Tr(e);if(t.token){let i=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,t.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},3e4,96e4)}(n),Rl(e,Object.assign(Object.assign({},t),{tokenRefresher:i}))),!i.isRunning()&&t.isTokenAutoRefreshEnabled&&i.start()}function OO(n,e){const t=Tr(n).tokenObservers;for(const i of t)try{"EXTERNAL"===i.type&&null!=e.error?i.error(e.error):i.next(e)}catch{}}function BI(n){return n.expireTimeMillis-Date.now()>0}function CV(n){return{token:bV(vV),error:n}}class EV{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Tr(this.app);for(const t of e)VM(this.app,t.next);return Promise.resolve()}}const HO="app-check-internal";!function LV(){(0,Gi._registerComponent)(new Ch.wA("app-check",n=>function IV(n,e){return new EV(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(HO).initialize()})),(0,Gi._registerComponent)(new Ch.wA(HO,n=>function DV(n){return{getToken:e=>VI(n,e),addTokenListener:e=>function LM(n,e,t,i){const{app:r}=n,a=Tr(r),c={next:t,error:i,type:e};if(Rl(r,Object.assign(Object.assign({},a),{tokenObservers:[...a.tokenObservers,c]})),a.token&&BI(a.token)){const f=a.token;Promise.resolve().then(()=>{t({token:f.token}),RO(n)}).catch(()=>{})}a.cachedTokenPromise.then(()=>RO(n))}(n,"INTERNAL",e),removeTokenListener:e=>VM(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Gi.registerVersion)("@firebase/app-check","0.5.12")}();class jM{constructor(){return(0,Cr.vb)("app-check")}}typeof window<"u"&&window,P(127);const $O=new u.OlP("angularfire2.auth.use-emulator"),GO=new u.OlP("angularfire2.auth.settings"),zO=new u.OlP("angularfire2.auth.tenant-id"),qO=new u.OlP("angularfire2.auth.langugage-code"),WO=new u.OlP("angularfire2.auth.use-device-language"),ZO=new u.OlP("angularfire.auth.persistence"),KO=(n,e,t,i,r,a,c,f)=>(0,Lr.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const _=e.runOutsideAngular(()=>n.auth());if(t&&_.useEmulator(...t),i&&(_.tenantId=i),_.languageCode=r,a&&_.useDeviceLanguage(),c)for(const[b,I]of Object.entries(c))_.settings[b]=I;return f&&_.setPersistence(f),_},[t,i,r,a,c,f]);let HI=(()=>{class n{constructor(t,i,r,a,c,f,_,b,I,x,L,B){const H=new Nt.x,ee=nt(void 0).pipe((0,RI.Q)(c.outsideAngular),$i(()=>a.runOutsideAngular(()=>Promise.resolve().then(P.bind(P,2274)))),(0,it.U)(()=>(0,Lr.on)(t,a,i)),(0,it.U)(ve=>KO(ve,a,f,b,I,x,_,L)),yO({bufferSize:1,refCount:!1}));if(Ci(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=nt(null);else{ee.pipe(Ao()).subscribe();const Ge=ee.pipe($i(ot=>ot.getRedirectResult().then(Mt=>Mt,()=>null)),Cr.iC,yO({bufferSize:1,refCount:!1})),et=ee.pipe($i(ot=>new Wn.y(Mt=>({unsubscribe:a.runOutsideAngular(()=>ot.onAuthStateChanged(kt=>Mt.next(kt),kt=>Mt.error(kt),()=>Mt.complete()))})))),yt=ee.pipe($i(ot=>new Wn.y(Mt=>({unsubscribe:a.runOutsideAngular(()=>ot.onIdTokenChanged(kt=>Mt.next(kt),kt=>Mt.error(kt),()=>Mt.complete()))}))));this.authState=Ge.pipe(vO(et),(0,DM.R)(c.outsideAngular),(0,RI.Q)(c.insideAngular)),this.user=Ge.pipe(vO(yt),(0,DM.R)(c.outsideAngular),(0,RI.Q)(c.insideAngular)),this.idToken=this.user.pipe($i(ot=>ot?(0,un.D)(ot.getIdToken()):nt(null))),this.idTokenResult=this.user.pipe($i(ot=>ot?(0,un.D)(ot.getIdTokenResult()):nt(null))),this.credential=(0,kI.T)(Ge,H,this.authState.pipe(En(ot=>!ot))).pipe((0,it.U)(ot=>ot?.user?ot:null),(0,DM.R)(c.outsideAngular),(0,RI.Q)(c.insideAngular))}return(0,Lr.pX)(this,ee,a,{spy:{apply:(ve,Ge,et)=>{(ve.startsWith("signIn")||ve.startsWith("createUser"))&&et.then(yt=>H.next(yt))}}})}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Lr.Dh),u.LFG(Lr.xv,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(Cr.HU),u.LFG($O,8),u.LFG(GO,8),u.LFG(zO,8),u.LFG(qO,8),u.LFG(WO,8),u.LFG(ZO,8),u.LFG(jM,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function YO(n,e){return function $V(n,e=Qg.z){return new Wn.y(t=>{let i;return null!=e?e.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},t)}):i=n.onSnapshot({includeMetadataChanges:!0},t),()=>{i?.()}})}(n,e)}function GM(n,e){return YO(n,e).pipe((0,it.U)(t=>({payload:t,type:"query"})))}function jI(n,e){return GM(n,e).pipe(Yn(void 0),Sp(),(0,it.U)(([t,i])=>{const r=i.payload.docChanges(),a=r.map(c=>({type:c.type,payload:c}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((c,f)=>{const _=r.find(I=>I.doc.ref.isEqual(c.ref)),b=t?.payload.docs.find(I=>I.ref.isEqual(c.ref));_&&JSON.stringify(_.doc.metadata)===JSON.stringify(c.metadata)||!_&&b&&JSON.stringify(b.metadata)===JSON.stringify(c.metadata)||a.push({type:"modified",payload:{oldIndex:f,newIndex:f,type:"modified",doc:c}})}),a}))}function QO(n,e,t){return jI(n,t).pipe(uh((i,r)=>function zV(n,e,t){return e.forEach(i=>{t.indexOf(i.type)>-1&&(n=function qV(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return zM(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return zM(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return zM(n,e.oldIndex,1)}return n}(n,i))}),n}(i,r.map(a=>a.payload),e),[]),Xg(),(0,it.U)(i=>i.map(r=>({type:r.type,payload:r}))))}function zM(n,e,t,...i){const r=n.slice();return r.splice(e,t,...i),r}function XO(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class JO{constructor(e,t,i){this.ref=e,this.query=t,this.afs=i}stateChanges(e){let t=jI(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,it.U)(i=>i.filter(r=>e.indexOf(r.type)>-1)))),t.pipe(Yn(void 0),Sp(),En(([i,r])=>r.length>0||!i),(0,it.U)(([i,r])=>r),Cr.iC)}auditTrail(e){return this.stateChanges(e).pipe(uh((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=XO(e);return QO(this.query,t,this.afs.schedulers.outsideAngular).pipe(Cr.iC)}valueChanges(e={}){return GM(this.query,this.afs.schedulers.outsideAngular).pipe((0,it.U)(t=>t.payload.docs.map(i=>e.idField?Object.assign(Object.assign({},i.data()),{[e.idField]:i.id}):i.data())),Cr.iC)}get(e){return(0,un.D)(this.query.get(e)).pipe(Cr.iC)}add(e){return this.ref.add(e)}doc(e){return new eP(this.ref.doc(e),this.afs)}}class eP{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const i=this.ref.collection(e),{ref:r,query:a}=tP(i,t);return new JO(r,a,this.afs)}snapshotChanges(){return function GV(n,e){return YO(n,e).pipe(Yn(void 0),Sp(),(0,it.U)(([t,i])=>i.exists?t?.exists?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Cr.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,it.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,un.D)(this.ref.get(e)).pipe(Cr.iC)}}class WV{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?jI(this.query,this.afs.schedulers.outsideAngular).pipe((0,it.U)(t=>t.filter(i=>e.indexOf(i.type)>-1)),En(t=>t.length>0),Cr.iC):jI(this.query,this.afs.schedulers.outsideAngular).pipe(Cr.iC)}auditTrail(e){return this.stateChanges(e).pipe(uh((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=XO(e);return QO(this.query,t,this.afs.schedulers.outsideAngular).pipe(Cr.iC)}valueChanges(e={}){return GM(this.query,this.afs.schedulers.outsideAngular).pipe((0,it.U)(i=>i.payload.docs.map(r=>e.idField?Object.assign({[e.idField]:r.id},r.data()):r.data())),Cr.iC)}get(e){return(0,un.D)(this.query.get(e)).pipe(Cr.iC)}}const ZV=new u.OlP("angularfire2.enableFirestorePersistence"),KV=new u.OlP("angularfire2.firestore.persistenceSettings"),YV=new u.OlP("angularfire2.firestore.settings"),QV=new u.OlP("angularfire2.firestore.use-emulator");function tP(n,e=(t=>t)){return{query:e(n),ref:n}}let XV=(()=>{class n{constructor(t,i,r,a,c,f,_,b,I,x,L,B,H,ee,ve,Ge,et){this.schedulers=_;const yt=(0,Lr.on)(t,f,i),ot=I;x&&KO(yt,f,L,H,ee,ve,B,Ge),[this.firestore,this.persistenceEnabled$]=(0,Lr.cc)(`${yt.name}.firestore`,"AngularFirestore",yt.name,()=>{const Mt=f.runOutsideAngular(()=>yt.firestore());if(a&&Mt.settings(a),ot&&Mt.useEmulator(...ot),r&&!Ci(c)){const kt=()=>{try{return(0,un.D)(Mt.enablePersistence(b||void 0).then(()=>!0,()=>!1))}catch(sn){return typeof console<"u"&&console.warn(sn),nt(!1)}};return[Mt,f.runOutsideAngular(kt)]}return[Mt,nt(!1)]},[a,ot,r])}collection(t,i){let r;r="string"==typeof t?this.firestore.collection(t):t;const{ref:a,query:c}=tP(r,i),f=this.schedulers.ngZone.run(()=>a);return new JO(f,c,this)}collectionGroup(t,i){const r=i||(c=>c),a=this.firestore.collectionGroup(t);return new WV(r(a),this)}doc(t){let i;i="string"==typeof t?this.firestore.doc(t):t;const r=this.schedulers.ngZone.run(()=>i);return new eP(r,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Lr.Dh),u.LFG(Lr.xv,8),u.LFG(ZV,8),u.LFG(YV,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(Cr.HU),u.LFG(KV,8),u.LFG(QV,8),u.LFG(HI,8),u.LFG($O,8),u.LFG(GO,8),u.LFG(zO,8),u.LFG(qO,8),u.LFG(WO,8),u.LFG(ZO,8),u.LFG(jM,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),$I=(()=>{class n{constructor(t){this.firestore=t}updateServiceWorker(){var t={user:{name:"test"}};if("granted"==Notification.permission)var i=setInterval(function(){navigator.serviceWorker.getRegistration().then(function(r){r&&(r.showNotification("Hello "+t.user?.name+", WebEdu Welcomes you onboard"),console.log("Firestore Service trying to update user to service worker",t.user),r.active?.postMessage({type:"DATA",user:t.user}),clearInterval(i))})},1e3)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(XV))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),JV=(()=>{class n{constructor(t){this.firestore=t}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(u.Y36($I))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-dashboard"]],decls:0,vars:0,template:function(t,i){},styles:['.card-content[_ngcontent-%COMP%]{padding-bottom:10px;margin-bottom:0;border-bottom:2px solid goldenrod;text-align:center}.mat-list-base[_ngcontent-%COMP%]{padding-top:1px}.card-actions[_ngcontent-%COMP%]{padding:0}.col-12[_ngcontent-%COMP%]{padding:10px;margin:0;display:inline-block;vertical-align:top}.user-courses[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%], .user-activity[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:20px;color:#daa520}.user-courses[_ngcontent-%COMP%]   .course-count[_ngcontent-%COMP%], .user-activity[_ngcontent-%COMP%]   .course-count[_ngcontent-%COMP%]{display:block;font-size:35px;margin:10px}.user-courses[_ngcontent-%COMP%]   .course-title[_ngcontent-%COMP%], .user-activity[_ngcontent-%COMP%]   .course-title[_ngcontent-%COMP%]{display:inline-block;font-size:12px;text-decoration:underline;white-space:nowrap;max-width:150px;overflow:hidden;text-overflow:ellipsis}.user-courses[_ngcontent-%COMP%]   .course-status[_ngcontent-%COMP%], .user-activity[_ngcontent-%COMP%]   .course-status[_ngcontent-%COMP%]{display:block;font-size:15px}.gauge-wrapper[_ngcontent-%COMP%]{display:inline-block;width:auto;margin:0 auto}.gauge[_ngcontent-%COMP%]{background:#e7e7e7;box-shadow:0 -3px 6px 2px #00000080;width:200px;height:100px;border-radius:100px 100px 0 0!important;position:relative;overflow:hidden}.gauge.min-scaled[_ngcontent-%COMP%]{transform:scale(.5)}.gauge-center[_ngcontent-%COMP%]{content:"";width:60%;height:60%;background:#15222E;border-radius:100px 100px 0 0!important;position:absolute;box-shadow:0 -13px 15px -10px #00000047;right:21%;bottom:0;color:#fff;z-index:10}.gauge-center[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%], .gauge-center[_ngcontent-%COMP%]   .number[_ngcontent-%COMP%]{display:block;width:100%;text-align:center;border:0!important}.gauge-center[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:.75em;opacity:.6;margin:1.1em 0 .3em}.gauge-center[_ngcontent-%COMP%]   .number[_ngcontent-%COMP%]{font-size:1.2em}.needle[_ngcontent-%COMP%]{width:80px;height:7px;background:#15222E;border-radius:100% 5px 5px 100%!important;position:absolute;bottom:-2px;left:20px;transform-origin:100% 4px;transform:rotate(0);box-shadow:0 2px 2px 1px #00000061;display:none;z-index:9}.four.rischio1[_ngcontent-%COMP%]   .needle[_ngcontent-%COMP%]{animation:fourspeed1 2s 1 both;animation-delay:1s;display:block}.four.rischio2[_ngcontent-%COMP%]   .needle[_ngcontent-%COMP%]{animation:fourspeed2 2s 1 both;animation-delay:1s;display:block}.four.rischio3[_ngcontent-%COMP%]   .needle[_ngcontent-%COMP%]{animation:fourspeed3 2s 1 both;animation-delay:1s;display:block}.four.rischio4[_ngcontent-%COMP%]   .needle[_ngcontent-%COMP%]{animation:fourspeed4 2s 1 both;animation-delay:1s;display:block}.slice-colors[_ngcontent-%COMP%]{height:100%}.slice-colors[_ngcontent-%COMP%]   .st[_ngcontent-%COMP%]{position:absolute;bottom:0;width:0;height:0;border:50px solid transparent}.four[_ngcontent-%COMP%]   .slice-colors[_ngcontent-%COMP%]   .st.slice-item[_ngcontent-%COMP%]:nth-child(2){border-top:50px #e67e22 solid;border-right:50px #e67e22 solid;background-color:#e84c3d}.four[_ngcontent-%COMP%]   .slice-colors[_ngcontent-%COMP%]   .st.slice-item[_ngcontent-%COMP%]:nth-child(4){left:50%;border-bottom:50px #1eaa59 solid;border-right:50px #1eaa59 solid;background-color:#f1c40f}@keyframes fourspeed1{0%{transform:rotate(0)}to{transform:rotate(16deg)}}@keyframes fourspeed2{0%{transform:rotate(0)}to{transform:rotate(65deg)}}@keyframes fourspeed3{0%{transform:rotate(0)}to{transform:rotate(115deg)}}@keyframes fourspeed4{0%{transform:rotate(0)}to{transform:rotate(164deg)}}']}),n})();class nP{}const Cd="*";function mf(n,e){return{type:7,name:n,definitions:e,options:{}}}function Aa(n,e=null){return{type:4,styles:e,timings:n}}function iP(n,e=null){return{type:2,steps:n,options:e}}function xi(n){return{type:6,styles:n,offset:null}}function as(n,e,t){return{type:0,name:n,styles:e,options:t}}function Uo(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function rP(n){Promise.resolve().then(n)}class N0{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){rP(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class sP{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,i=0,r=0;const a=this.players.length;0==a?rP(()=>this._onFinish()):this.players.forEach(c=>{c.onDone(()=>{++t==a&&this._onFinish()}),c.onDestroy(()=>{++i==a&&this._onDestroy()}),c.onStart(()=>{++r==a&&this._onStart()})}),this.totalTime=this.players.reduce((c,f)=>Math.max(c,f.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,t/i.totalTime):1;i.setPosition(r)})}getPosition(){const e=this.players.reduce((t,i)=>null===t||i.totalTime>t.totalTime?i:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}const oP=["toast-component",""];function iB(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"button",5),u.NdJ("click",function(){u.CHM(t);const r=u.oxw();return u.KtG(r.remove())}),u.TgZ(1,"span",6),u._uU(2,"\xd7"),u.qZA()()}}function rB(n,e){if(1&n&&(u.ynx(0),u._uU(1),u.BQk()),2&n){const t=u.oxw(2);u.xp6(1),u.hij("[",t.duplicatesCount+1,"]")}}function sB(n,e){if(1&n&&(u.TgZ(0,"div"),u._uU(1),u.YNc(2,rB,2,1,"ng-container",4),u.qZA()),2&n){const t=u.oxw();u.Tol(t.options.titleClass),u.uIk("aria-label",t.title),u.xp6(1),u.hij(" ",t.title," "),u.xp6(1),u.Q6J("ngIf",t.duplicatesCount)}}function oB(n,e){if(1&n&&u._UZ(0,"div",7),2&n){const t=u.oxw();u.Tol(t.options.messageClass),u.Q6J("innerHTML",t.message,u.oJD)}}function aB(n,e){if(1&n&&(u.TgZ(0,"div",8),u._uU(1),u.qZA()),2&n){const t=u.oxw();u.Tol(t.options.messageClass),u.uIk("aria-label",t.message),u.xp6(1),u.hij(" ",t.message," ")}}function lB(n,e){if(1&n&&(u.TgZ(0,"div"),u._UZ(1,"div",9),u.qZA()),2&n){const t=u.oxw();u.xp6(1),u.Udp("width",t.width+"%")}}class mB{constructor(e,t){this.component=e,this.injector=t}attach(e,t){return this._attachedHost=e,e.attach(this,t)}detach(){const e=this._attachedHost;if(e)return this._attachedHost=void 0,e.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class GI{constructor(e,t,i,r,a,c){this.toastId=e,this.config=t,this.message=i,this.title=r,this.toastType=a,this.toastRef=c,this._onTap=new Nt.x,this._onAction=new Nt.x,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(e){this._onAction.next(e)}onAction(){return this._onAction.asObservable()}}const lP=new u.OlP("ToastConfig");class _B{constructor(e){this._overlayRef=e,this.duplicatesCount=0,this._afterClosed=new Nt.x,this._activate=new Nt.x,this._manualClose=new Nt.x,this._resetTimeout=new Nt.x,this._countDuplicate=new Nt.x}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(e,t){e&&this._resetTimeout.next(),t&&this._countDuplicate.next(++this.duplicatesCount)}}class yB{constructor(e,t){this._toastPackage=e,this._parentInjector=t}get(e,t,i){return e===GI?this._toastPackage:this._parentInjector.get(e,t,i)}}class vB extends class gB{attach(e,t){return this._attachedPortal=e,this.attachComponentPortal(e,t)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(e){this._disposeFn=e}}{constructor(e,t,i){super(),this._hostDomElement=e,this._componentFactoryResolver=t,this._appRef=i}attachComponentPortal(e,t){const i=this._componentFactoryResolver.resolveComponentFactory(e.component);let r;return r=i.create(e.injector),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.detachView(r.hostView),r.destroy()}),t?this._hostDomElement.insertBefore(this._getComponentRootNode(r),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(r)),r}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}class bB{constructor(e){this._portalHost=e}attach(e,t=!0){return this._portalHost.attach(e,t)}detach(){return this._portalHost.detach()}}let wB=(()=>{class n{constructor(t){this._document=t}ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t=this._document.createElement("div");t.classList.add("overlay-container"),t.setAttribute("aria-live","polite"),this._document.body.appendChild(t),this._containerElement=t}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(re))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),CB=(()=>{class n{constructor(t,i,r,a){this._overlayContainer=t,this._componentFactoryResolver=i,this._appRef=r,this._document=a,this._paneElements=new Map}create(t,i){return this._createOverlayRef(this.getPaneElement(t,i))}getPaneElement(t="",i){return this._paneElements.get(i)||this._paneElements.set(i,{}),this._paneElements.get(i)[t]||(this._paneElements.get(i)[t]=this._createPaneElement(t,i)),this._paneElements.get(i)[t]}_createPaneElement(t,i){const r=this._document.createElement("div");return r.id="toast-container",r.classList.add(t),r.classList.add("toast-container"),i?i.getContainerElement().appendChild(r):this._overlayContainer.getContainerElement().appendChild(r),r}_createPortalHost(t){return new vB(t,this._componentFactoryResolver,this._appRef)}_createOverlayRef(t){return new bB(this._createPortalHost(t))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(wB),u.LFG(u._Vd),u.LFG(u.z2F),u.LFG(re))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),WM=(()=>{class n{constructor(t,i,r,a,c){this.overlay=i,this._injector=r,this.sanitizer=a,this.ngZone=c,this.currentlyActive=0,this.toasts=[],this.index=0,this.toastrConfig={...t.default,...t.config},t.config.iconClasses&&(this.toastrConfig.iconClasses={...t.default.iconClasses,...t.config.iconClasses})}show(t,i,r={},a=""){return this._preBuildNotification(a,t,i,this.applyConfig(r))}success(t,i,r={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",t,i,this.applyConfig(r))}error(t,i,r={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",t,i,this.applyConfig(r))}info(t,i,r={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",t,i,this.applyConfig(r))}warning(t,i,r={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",t,i,this.applyConfig(r))}clear(t){for(const i of this.toasts)if(void 0!==t){if(i.toastId===t)return void i.toastRef.manualClose()}else i.toastRef.manualClose()}remove(t){const i=this._findToast(t);if(!i||(i.activeToast.toastRef.close(),this.toasts.splice(i.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const r=this.toasts[this.currentlyActive].toastRef;r.isInactive()||(this.currentlyActive=this.currentlyActive+1,r.activate())}return!0}findDuplicate(t="",i="",r,a){const{includeTitleDuplicates:c}=this.toastrConfig;for(const f of this.toasts){const _=c&&f.title===t;if((!c||_)&&f.message===i)return f.toastRef.onDuplicate(r,a),f}return null}applyConfig(t={}){return{...this.toastrConfig,...t}}_findToast(t){for(let i=0;i<this.toasts.length;i++)if(this.toasts[i].toastId===t)return{index:i,activeToast:this.toasts[i]};return null}_preBuildNotification(t,i,r,a){return a.onActivateTick?this.ngZone.run(()=>this._buildNotification(t,i,r,a)):this._buildNotification(t,i,r,a)}_buildNotification(t,i,r,a){if(!a.toastComponent)throw new Error("toastComponent required");const c=this.findDuplicate(r,i,this.toastrConfig.resetTimeoutOnDuplicate&&a.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&r||i)&&this.toastrConfig.preventDuplicates&&null!==c)return c;this.previousToastMessage=i;let f=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(f=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const _=this.overlay.create(a.positionClass,this.overlayContainer);this.index=this.index+1;let b=i;i&&a.enableHtml&&(b=this.sanitizer.sanitize(u.q3G.HTML,i));const I=new _B(_),x=new GI(this.index,a,b,r,t,I),L=new yB(x,this._injector),B=new mB(a.toastComponent,L),H=_.attach(B,this.toastrConfig.newestOnTop);I.componentInstance=H.instance;const ee={toastId:this.index,title:r||"",message:i||"",toastRef:I,onShown:I.afterActivate(),onHidden:I.afterClosed(),onTap:x.onTap(),onAction:x.onAction(),portal:H};return f||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{ee.toastRef.activate()})),this.toasts.push(ee),ee}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(lP),u.LFG(CB),u.LFG(u.zs3),u.LFG(Do),u.LFG(u.R0b))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const EB={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing",payload:null,toastComponent:(()=>{class n{constructor(t,i,r){this.toastrService=t,this.toastPackage=i,this.ngZone=r,this.width=-1,this.toastClasses="",this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}},this.message=i.message,this.title=i.title,this.options=i.config,this.originalTimeout=i.config.timeOut,this.toastClasses=`${i.toastType} ${i.config.toastClass}`,this.sub=i.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=i.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=i.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=i.toastRef.countDuplicate().subscribe(a=>{this.duplicatesCount=a})}get displayStyle(){if("inactive"===this.state.value)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state={...this.state,value:"active"},!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const t=(new Date).getTime();this.width=(this.hideTime-t)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state={...this.state,value:"active"},this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state={...this.state,value:"removed"},this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state.value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(t,i){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(t),i)):this.timeout=setTimeout(()=>t(),i)}outsideInterval(t,i){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(t),i)):this.intervalId=setInterval(()=>t(),i)}runInsideAngular(t){this.ngZone?this.ngZone.run(()=>t()):t()}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(WM),u.Y36(GI),u.Y36(u.R0b))},n.\u0275cmp=u.Xpm({type:n,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(t,i){1&t&&u.NdJ("click",function(){return i.tapToast()})("mouseenter",function(){return i.stickAround()})("mouseleave",function(){return i.delayedHideToast()}),2&t&&(u.d8E("@flyInOut",i.state),u.Tol(i.toastClasses),u.Udp("display",i.displayStyle))},attrs:oP,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(t,i){1&t&&(u.YNc(0,iB,3,0,"button",0),u.YNc(1,sB,3,5,"div",1),u.YNc(2,oB,1,3,"div",2),u.YNc(3,aB,2,4,"div",3),u.YNc(4,lB,2,2,"div",4)),2&t&&(u.Q6J("ngIf",i.options.closeButton),u.xp6(1),u.Q6J("ngIf",i.title),u.xp6(1),u.Q6J("ngIf",i.message&&i.options.enableHtml),u.xp6(1),u.Q6J("ngIf",i.message&&!i.options.enableHtml),u.xp6(1),u.Q6J("ngIf",i.options.progressBar))},dependencies:[xn],encapsulation:2,data:{animation:[mf("flyInOut",[as("inactive",xi({opacity:0})),as("active",xi({opacity:1})),as("removed",xi({opacity:0})),Uo("inactive => active",Aa("{{ easeTime }}ms {{ easing }}")),Uo("active => removed",Aa("{{ easeTime }}ms {{ easing }}"))])]}}),n})()};let ZM,IB=(()=>{class n{static forRoot(t={}){return{ngModule:n,providers:[{provide:lP,useValue:{default:EB,config:t}}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[_r]}),n})(),DB=(()=>{class n{constructor(t,i){this.firestore=t,this.toaster=i,this.editing=!1}ngOnInit(){}update(){}}return n.\u0275fac=function(t){return new(t||n)(u.Y36($I),u.Y36(WM))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-profile"]],decls:0,vars:0,template:function(t,i){},styles:[".header[_ngcontent-%COMP%]{text-align:center;margin:10px;font-size:23px}.content[_ngcontent-%COMP%]{padding:30px}.content[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{vertical-align:middle;text-align:center}.actions[_ngcontent-%COMP%]{text-align:center}.image[_ngcontent-%COMP%]{width:100px;height:100px;border-radius:50px!important}"]}),n})();try{ZM=typeof Intl<"u"&&Intl.v8BreakIterator}catch{ZM=!1}let F0,qI,Rm,KM,Ho=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?function su(n){return n===ps}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!ZM)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.Lbi))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function zI(n){return function TB(){if(null==F0&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>F0=!0}))}finally{F0=F0||!1}return F0}()?n:!!n.capture}function uP(){if(null==Rm){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Rm=!1,Rm;if("scrollBehavior"in document.documentElement.style)Rm=!0;else{const n=Element.prototype.scrollTo;Rm=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return Rm}function L0(){if("object"!=typeof document||!document)return 0;if(null==qI){const n=document.createElement("div"),e=n.style;n.dir="rtl",e.width="1px",e.overflow="auto",e.visibility="hidden",e.pointerEvents="none",e.position="absolute";const t=document.createElement("div"),i=t.style;i.width="2px",i.height="1px",n.appendChild(t),document.body.appendChild(n),qI=0,0===n.scrollLeft&&(n.scrollLeft=1,qI=0===n.scrollLeft?1:2),n.remove()}return qI}function Om(n){return n.composedPath?n.composedPath()[0]:n.target}function YM(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function QM(n,...e){return e.length?e.some(t=>n[t]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}function XM(n,e=Qg.z){return(0,ji.e)((t,i)=>{let r=null,a=null,c=null;const f=()=>{if(r){r.unsubscribe(),r=null;const b=a;a=null,i.next(b)}};function _(){const b=c+n,I=e.now();if(I<b)return r=this.schedule(void 0,b-I),void i.add(r);f()}t.subscribe((0,Zn.x)(i,b=>{a=b,c=e.now(),r||(r=e.schedule(_,n),i.add(r))},()=>{f(),i.complete()},void 0,()=>{a=r=null}))})}function dP(n){return En((e,t)=>n<=t)}var ZB=P(5032);function jo(n){return(0,ji.e)((e,t)=>{(0,Bi.Xf)(n).subscribe((0,Zn.x)(t,()=>t.complete(),ZB.Z)),!t.closed&&e.subscribe(t)})}function $o(n){return null!=n&&"false"!=`${n}`}function WI(n){return Array.isArray(n)?n:[n]}function Qi(n){return null==n?"":"string"==typeof n?n:`${n}px`}function py(n){return n instanceof u.SBq?n.nativeElement:n}let QB=(()=>{class n{create(t){return typeof MutationObserver>"u"?null:new MutationObserver(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),JM=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[QB]}),n})();const hP=new Set;let my,XB=(()=>{class n{constructor(t){this._platform=t,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):e2}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function JB(n){if(!hP.has(n))try{my||(my=document.createElement("style"),my.setAttribute("type","text/css"),document.head.appendChild(my)),my.sheet&&(my.sheet.insertRule(`@media ${n} {body{ }}`,0),hP.add(n))}catch(e){console.error(e)}}(t),this._matchMedia(t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Ho))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function e2(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let t2=(()=>{class n{constructor(t,i){this._mediaMatcher=t,this._zone=i,this._queries=new Map,this._destroySubject=new Nt.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return fP(WI(t)).some(r=>this._registerQuery(r).mql.matches)}observe(t){let a=Qf(fP(WI(t)).map(c=>this._registerQuery(c).observable));return a=ep(a.pipe(to(1)),a.pipe(dP(1),XM(0))),a.pipe((0,it.U)(c=>{const f={matches:!1,breakpoints:{}};return c.forEach(({matches:_,query:b})=>{f.matches=f.matches||_,f.breakpoints[b]=_}),f}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const i=this._mediaMatcher.matchMedia(t),a={observable:new Wn.y(c=>{const f=_=>this._zone.run(()=>c.next(_));return i.addListener(f),()=>{i.removeListener(f)}}).pipe(Yn(i),(0,it.U)(({matches:c})=>({query:t,matches:c})),jo(this._destroySubject)),mql:i};return this._queries.set(t,a),a}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(XB),u.LFG(u.R0b))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function fP(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}class o2 extends class s2{constructor(e){this._items=e,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new Nt.x,this._typeaheadSubscription=fl.w0.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=t=>t.disabled,this._pressedLetters=[],this.tabOut=new Nt.x,this.change=new Nt.x,e instanceof u.n_E&&e.changes.subscribe(t=>{if(this._activeItem){const r=t.toArray().indexOf(this._activeItem);r>-1&&r!==this._activeItemIndex&&(this._activeItemIndex=r)}})}skipPredicate(e){return this._skipPredicateFn=e,this}withWrap(e=!0){return this._wrap=e,this}withVerticalOrientation(e=!0){return this._vertical=e,this}withHorizontalOrientation(e){return this._horizontal=e,this}withAllowedModifierKeys(e){return this._allowedModifierKeys=e,this}withTypeAhead(e=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,Ei.b)(t=>this._pressedLetters.push(t)),XM(e),En(()=>this._pressedLetters.length>0),(0,it.U)(()=>this._pressedLetters.join(""))).subscribe(t=>{const i=this._getItemsArray();for(let r=1;r<i.length+1;r++){const a=(this._activeItemIndex+r)%i.length,c=i[a];if(!this._skipPredicateFn(c)&&0===c.getLabel().toUpperCase().trim().indexOf(t)){this.setActiveItem(a);break}}this._pressedLetters=[]}),this}withHomeAndEnd(e=!0){return this._homeAndEnd=e,this}setActiveItem(e){const t=this._activeItem;this.updateActiveItem(e),this._activeItem!==t&&this.change.next(this._activeItemIndex)}onKeydown(e){const t=e.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every(a=>!e[a]||this._allowedModifierKeys.indexOf(a)>-1);switch(t){case 9:return void this.tabOut.next();case 40:if(this._vertical&&r){this.setNextItemActive();break}return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&r){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&r){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&r){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&r){this.setLastItemActive();break}return;default:return void((r||QM(e,"shiftKey"))&&(e.key&&1===e.key.length?this._letterKeyStream.next(e.key.toLocaleUpperCase()):(t>=65&&t<=90||t>=48&&t<=57)&&this._letterKeyStream.next(String.fromCharCode(t))))}this._pressedLetters=[],e.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(e){const t=this._getItemsArray(),i="number"==typeof e?e:t.indexOf(e);this._activeItem=t[i]??null,this._activeItemIndex=i}_setActiveItemByDelta(e){this._wrap?this._setActiveInWrapMode(e):this._setActiveInDefaultMode(e)}_setActiveInWrapMode(e){const t=this._getItemsArray();for(let i=1;i<=t.length;i++){const r=(this._activeItemIndex+e*i+t.length)%t.length;if(!this._skipPredicateFn(t[r]))return void this.setActiveItem(r)}}_setActiveInDefaultMode(e){this._setActiveItemByIndex(this._activeItemIndex+e,e)}_setActiveItemByIndex(e,t){const i=this._getItemsArray();if(i[e]){for(;this._skipPredicateFn(i[e]);)if(!i[e+=t])return;this.setActiveItem(e)}}_getItemsArray(){return this._items instanceof u.n_E?this._items.toArray():this._items}}{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(e){return this._origin=e,this}setActiveItem(e){super.setActiveItem(e),this.activeItem&&this.activeItem.focus(this._origin)}}let gP=(()=>{class n{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function l2(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const i=function a2(n){try{return n.frameElement}catch{return null}}(function g2(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(t));if(i&&(-1===yP(i)||!this.isVisible(i)))return!1;let r=t.nodeName.toLowerCase(),a=yP(t);return t.hasAttribute("contenteditable")?-1!==a:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function p2(n){let e=n.nodeName.toLowerCase(),t="input"===e&&n.type;return"text"===t||"password"===t||"select"===e||"textarea"===e}(t))&&("audio"===r?!!t.hasAttribute("controls")&&-1!==a:"video"===r?-1!==a&&(null!==a||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}isFocusable(t,i){return function m2(n){return!function u2(n){return function h2(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function c2(n){let e=n.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(n)||function d2(n){return function f2(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||_P(n))}(t)&&!this.isDisabled(t)&&(i?.ignoreVisibility||this.isVisible(t))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Ho))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function _P(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let e=n.getAttribute("tabindex");return!(!e||isNaN(parseInt(e,10)))}function yP(n){if(!_P(n))return null;const e=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}class _2{constructor(e,t,i,r,a=!1){this._element=e,this._checker=t,this._ngZone=i,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,a||this.attachAnchors()}get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}destroy(){const e=this._startAnchor,t=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.remove()),t&&(t.removeEventListener("focus",this.endAnchorListener),t.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement(e)))})}focusFirstTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement(e)))})}focusLastTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement(e)))})}_getRegionBoundary(e){const t=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);return"start"==e?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(e){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(!this._checker.isFocusable(t)){const i=this._getFirstTabbableElement(t);return i?.focus(e),!!i}return t.focus(e),!0}return this.focusFirstTabbableElement(e)}focusFirstTabbableElement(e){const t=this._getRegionBoundary("start");return t&&t.focus(e),!!t}focusLastTabbableElement(e){const t=this._getRegionBoundary("end");return t&&t.focus(e),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let i=0;i<t.length;i++){const r=t[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[i]):null;if(r)return r}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let i=t.length-1;i>=0;i--){const r=t[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[i]):null;if(r)return r}return null}_createAnchor(){const e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,t){e?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._ngZone.isStable?e():this._ngZone.onStable.pipe(to(1)).subscribe(e)}}let y2=(()=>{class n{constructor(t,i,r){this._checker=t,this._ngZone=i,this._document=r}create(t,i=!1){return new _2(t,this._checker,this._ngZone,this._document,i)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(gP),u.LFG(u.R0b),u.LFG(re))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function vP(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function bP(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const v2=new u.OlP("cdk-input-modality-detector-options"),b2={ignoreKeys:[18,17,224,91,16]},gy=zI({passive:!0,capture:!0});let w2=(()=>{class n{constructor(t,i,r,a){this._platform=t,this._mostRecentTarget=null,this._modality=new Ss(null),this._lastTouchMs=0,this._onKeydown=c=>{this._options?.ignoreKeys?.some(f=>f===c.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=Om(c))},this._onMousedown=c=>{Date.now()-this._lastTouchMs<650||(this._modality.next(vP(c)?"keyboard":"mouse"),this._mostRecentTarget=Om(c))},this._onTouchstart=c=>{bP(c)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Om(c))},this._options={...b2,...a},this.modalityDetected=this._modality.pipe(dP(1)),this.modalityChanged=this.modalityDetected.pipe(Xg()),t.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,gy),r.addEventListener("mousedown",this._onMousedown,gy),r.addEventListener("touchstart",this._onTouchstart,gy)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,gy),document.removeEventListener("mousedown",this._onMousedown,gy),document.removeEventListener("touchstart",this._onTouchstart,gy))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Ho),u.LFG(u.R0b),u.LFG(re),u.LFG(v2,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const E2=new u.OlP("cdk-focus-monitor-default-options"),ZI=zI({passive:!0,capture:!0});let eA=(()=>{class n{constructor(t,i,r,a,c){this._ngZone=t,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Nt.x,this._rootNodeFocusAndBlurListener=f=>{for(let b=Om(f);b;b=b.parentElement)"focus"===f.type?this._onFocus(f,b):this._onBlur(f,b)},this._document=a,this._detectionMode=c?.detectionMode||0}monitor(t,i=!1){const r=py(t);if(!this._platform.isBrowser||1!==r.nodeType)return nt(null);const a=function xB(n){if(function SB(){if(null==KM){const n=typeof document<"u"?document.head:null;KM=!(!n||!n.createShadowRoot&&!n.attachShadow)}return KM}()){const e=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(r)||this._getDocument(),c=this._elementInfo.get(r);if(c)return i&&(c.checkChildren=!0),c.subject;const f={checkChildren:i,subject:new Nt.x,rootNode:a};return this._elementInfo.set(r,f),this._registerGlobalListeners(f),f.subject}stopMonitoring(t){const i=py(t),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(t,i,r){const a=py(t);a===this._getDocument().activeElement?this._getClosestElementsInfo(a).forEach(([f,_])=>this._originChanged(f,i,_)):(this._setOrigin(i),"function"==typeof a.focus&&a.focus(r))}ngOnDestroy(){this._elementInfo.forEach((t,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:t&&this._isLastInteractionFromInputLabel(t)?"mouse":"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!t?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(t,i){t.classList.toggle("cdk-focused",!!i),t.classList.toggle("cdk-touch-focused","touch"===i),t.classList.toggle("cdk-keyboard-focused","keyboard"===i),t.classList.toggle("cdk-mouse-focused","mouse"===i),t.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(t,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,i){const r=this._elementInfo.get(i),a=Om(t);!r||!r.checkChildren&&i!==a||this._originChanged(i,this._getFocusOrigin(a),r)}_onBlur(t,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&t.relatedTarget instanceof Node&&i.contains(t.relatedTarget)||(this._setClasses(i),this._emitOrigin(r,null))}_emitOrigin(t,i){t.subject.observers.length&&this._ngZone.run(()=>t.subject.next(i))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const i=t.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,ZI),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,ZI)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(jo(this._stopInputModalityDetector)).subscribe(a=>{this._setOrigin(a,!0)}))}_removeGlobalListeners(t){const i=t.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,ZI),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,ZI),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,i,r){this._setClasses(t,i),this._emitOrigin(r,i),this._lastFocusOrigin=i}_getClosestElementsInfo(t){const i=[];return this._elementInfo.forEach((r,a)=>{(a===t||r.checkChildren&&a.contains(t))&&i.push([a,r])}),i}_isLastInteractionFromInputLabel(t){const{_mostRecentTarget:i,mostRecentModality:r}=this._inputModalityDetector;if("mouse"!==r||!i||i===t||"INPUT"!==t.nodeName&&"TEXTAREA"!==t.nodeName||t.disabled)return!1;const a=t.labels;if(a)for(let c=0;c<a.length;c++)if(a[c].contains(i))return!0;return!1}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.R0b),u.LFG(Ho),u.LFG(w2),u.LFG(re,8),u.LFG(E2,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const CP="cdk-high-contrast-black-on-white",EP="cdk-high-contrast-white-on-black",tA="cdk-high-contrast-active";let IP=(()=>{class n{constructor(t,i){this._platform=t,this._document=i,this._breakpointSubscription=(0,u.f3M)(t2).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(t):null,a=(r&&r.backgroundColor||"").replace(/ /g,"");switch(t.remove(),a){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(tA,CP,EP),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?t.add(tA,CP):2===i&&t.add(tA,EP)}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Ho),u.LFG(re))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),I2=(()=>{class n{constructor(t){t._applyBodyHighContrastModeCssClasses()}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(IP))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[JM]}),n})();const D2=new u.OlP("cdk-dir-doc",{providedIn:"root",factory:function T2(){return(0,u.f3M)(re)}}),S2=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let nA=(()=>{class n{constructor(t){if(this.value="ltr",this.change=new u.vpe,t){const r=t.documentElement?t.documentElement.dir:null;this.value=function x2(n){const e=n?.toLowerCase()||"";return"auto"===e&&typeof navigator<"u"&&navigator?.language?S2.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||r||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(D2,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),V0=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();const A2=new u.OlP("mat-sanity-checks",{providedIn:"root",factory:function M2(){return!0}});let Oi=(()=>{class n{constructor(t,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!YM()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(IP),u.LFG(A2,8),u.LFG(re))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[V0,V0]}),n})();function k2(n){return class extends n{constructor(...e){super(...e),this._disabled=!1}get disabled(){return this._disabled}set disabled(e){this._disabled=$o(e)}}}function iA(n,e){return class extends n{constructor(...t){super(...t),this.defaultColor=e,this.color=e}get color(){return this._color}set color(t){const i=t||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}}}function R2(n){return class extends n{constructor(...e){super(...e),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=$o(e)}}}function O2(n,e=0){return class extends n{constructor(...t){super(...t),this._tabIndex=e,this.defaultTabIndex=e}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(t){this._tabIndex=null!=t?function KB(n,e=0){return function YB(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):e}(t):this.defaultTabIndex}}}class N2{constructor(e,t,i,r=!1){this._renderer=e,this.element=t,this.config=i,this._animationForciblyDisabledThroughCss=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const SP={enterDuration:225,exitDuration:150},rA=zI({passive:!0}),xP=["mousedown","touchstart"],MP=["mouseup","mouseleave","touchend","touchcancel"];class L2{constructor(e,t,i,r){this._target=e,this._ngZone=t,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=py(i))}fadeInRipple(e,t,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),a={...SP,...i.animation};i.centered&&(e=r.left+r.width/2,t=r.top+r.height/2);const c=i.radius||function V2(n,e,t){const i=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),r=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(i*i+r*r)}(e,t,r),f=e-r.left,_=t-r.top,b=a.enterDuration,I=document.createElement("div");I.classList.add("mat-ripple-element"),I.style.left=f-c+"px",I.style.top=_-c+"px",I.style.height=2*c+"px",I.style.width=2*c+"px",null!=i.color&&(I.style.backgroundColor=i.color),I.style.transitionDuration=`${b}ms`,this._containerElement.appendChild(I);const x=window.getComputedStyle(I),B=x.transitionDuration,H="none"===x.transitionProperty||"0s"===B||"0s, 0s"===B,ee=new N2(this,I,i,H);I.style.transform="scale3d(1, 1, 1)",ee.state=0,i.persistent||(this._mostRecentTransientRipple=ee);let ve=null;return!H&&(b||a.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const Ge=()=>this._finishRippleTransition(ee),et=()=>this._destroyRipple(ee);I.addEventListener("transitionend",Ge),I.addEventListener("transitioncancel",et),ve={onTransitionEnd:Ge,onTransitionCancel:et}}),this._activeRipples.set(ee,ve),(H||!b)&&this._finishRippleTransition(ee),ee}fadeOutRipple(e){if(2===e.state||3===e.state)return;const t=e.element,i={...SP,...e.config.animation};t.style.transitionDuration=`${i.exitDuration}ms`,t.style.opacity="0",e.state=2,(e._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=py(e);!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,this._registerEvents(xP))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(MP),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){0===e.state?this._startFadeOutTransition(e):2===e.state&&this._destroyRipple(e)}_startFadeOutTransition(e){const t=e===this._mostRecentTransientRipple,{persistent:i}=e.config;e.state=1,!i&&(!t||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){const t=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=3,null!==t&&(e.element.removeEventListener("transitionend",t.onTransitionEnd),e.element.removeEventListener("transitioncancel",t.onTransitionCancel)),e.element.remove()}_onMousedown(e){const t=vP(e),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!i&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!bP(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;for(let i=0;i<t.length;i++)this.fadeInRipple(t[i].clientX,t[i].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_registerEvents(e){this._ngZone.runOutsideAngular(()=>{e.forEach(t=>{this._triggerElement.addEventListener(t,this,rA)})})}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){this._triggerElement&&(xP.forEach(e=>{this._triggerElement.removeEventListener(e,this,rA)}),this._pointerUpEventsRegistered&&MP.forEach(e=>{this._triggerElement.removeEventListener(e,this,rA)}))}}const B2=new u.OlP("mat-ripple-global-options");let AP=(()=>{class n{constructor(t,i,r,a,c){this._elementRef=t,this._animationMode=c,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=a||{},this._rippleRenderer=new L2(this,i,t,r)}get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,i=0,r){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,i,{...this.rippleConfig,...r}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...t})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(u.R0b),u.Y36(Ho),u.Y36(B2,8),u.Y36(u.QbO,8))},n.\u0275dir=u.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,i){2&t&&u.ekj("mat-ripple-unbounded",i.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),sA=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[Oi,Oi]}),n})(),U2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[Oi]}),n})(),kP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[sA,_r,Oi,U2]}),n})();const H2=["mat-button",""],j2=["*"],G2=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],z2=iA(k2(R2(class{constructor(n){this._elementRef=n}})));let RP=(()=>{class n extends z2{constructor(t,i,r){super(t),this._focusMonitor=i,this._animationMode=r,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const a of G2)this._hasHostAttributes(a)&&this._getHostElement().classList.add(a);t.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t,i){t?this._focusMonitor.focusVia(this._getHostElement(),t,i):this._getHostElement().focus(i)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...t){return t.some(i=>this._getHostElement().hasAttribute(i))}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(eA),u.Y36(u.QbO,8))},n.\u0275cmp=u.Xpm({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(t,i){if(1&t&&u.Gf(AP,5),2&t){let r;u.iGM(r=u.CRH())&&(i.ripple=r.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(t,i){2&t&&(u.uIk("disabled",i.disabled||null),u.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-button-disabled",i.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[u.qOj],attrs:H2,ngContentSelectors:j2,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(t,i){1&t&&(u.F$t(),u.TgZ(0,"span",0),u.Hsn(1),u.qZA(),u._UZ(2,"span",1)(3,"span",2)),2&t&&(u.xp6(2),u.ekj("mat-button-ripple-round",i.isRoundButton||i.isIconButton),u.Q6J("matRippleDisabled",i._isRippleDisabled())("matRippleCentered",i.isIconButton)("matRippleTrigger",i._getHostElement()))},dependencies:[AP],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}.mat-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.mat-flat-button::before,.mat-raised-button::before,.mat-fab::before,.mat-mini-fab::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-stroked-button::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px) * -1)}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}"],encapsulation:2,changeDetection:0}),n})(),q2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[sA,Oi,Oi]}),n})(),OP=(()=>{class n{constructor(t,i){this.auth=t,this.firestore=i,this.username="",this.password=""}ngOnInit(){}login(){this.auth.signInWithEmailAndPassword(this.username,this.password).catch(t=>{console.error(t),alert(t.message)})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(HI),u.Y36($I))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-login"]],decls:19,vars:2,consts:[[1,"text-center",2,"margin","10%"],[1,"d-inline-block","p-5","col-md-4","col-sm-6","col-xs-12",2,"background-color","lavender"],[1,"mt-1","px-2",2,"font-size","20px"],[1,"mt-3","px-2"],["type","text","placeholder","Username",1,"form-control",3,"ngModel","ngModelChange"],[1,"error"],["type","password","placeholder","Password",1,"form-control",3,"ngModel","ngModelChange"],["mat-button","",2,"min-width","130px","background-color","#3f51b5","color","white","font-size","15px"],[1,"mt-2"],["href",""],["href","",1,""]],template:function(t,i){1&t&&(u.TgZ(0,"div",0)(1,"div",1)(2,"div",2),u._uU(3," User Login "),u.qZA(),u.TgZ(4,"div",3)(5,"input",4),u.NdJ("ngModelChange",function(a){return i.username=a}),u.qZA(),u._UZ(6,"span",5),u.qZA(),u.TgZ(7,"div",3)(8,"input",6),u.NdJ("ngModelChange",function(a){return i.password=a}),u.qZA(),u._UZ(9,"span",5),u.qZA(),u.TgZ(10,"div",3)(11,"button",7),u._uU(12,"Login"),u.qZA()(),u.TgZ(13,"div",8)(14,"a",9),u._uU(15,"Forgot Password"),u.qZA(),u._UZ(16,"br"),u.TgZ(17,"a",10),u._uU(18,"Register Account"),u.qZA()()()()),2&t&&(u.xp6(5),u.Q6J("ngModel",i.username),u.xp6(3),u.Q6J("ngModel",i.password))},dependencies:[Du,Jm,zf,RP],styles:[".g-button[_ngcontent-%COMP%]{border:2px solid #4285f4;background:#4285f4;display:inline-block}.g-logo[_ngcontent-%COMP%]{float:left;width:28px;height:30px;padding:4px;background:white}.g-text[_ngcontent-%COMP%]{float:right;font-size:16px;padding:5px;color:#fff;font-family:roboto;text-align:center}"]}),n})(),W2=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-our-services"]],decls:0,vars:0,template:function(t,i){}}),n})(),Z2=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-contact-us"]],decls:0,vars:0,template:function(t,i){}}),n})(),PP=(()=>{class n{constructor(){this._listeners=[]}notify(t,i){for(let r of this._listeners)r(t,i)}listen(t){return this._listeners.push(t),()=>{this._listeners=this._listeners.filter(i=>t!==i)}}ngOnDestroy(){this._listeners=[]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),K2=0;const oA=new u.OlP("CdkAccordion");let Y2=(()=>{class n{constructor(){this._stateChanges=new Nt.x,this._openCloseAllActions=new Nt.x,this.id="cdk-accordion-"+K2++,this._multi=!1}get multi(){return this._multi}set multi(t){this._multi=$o(t)}openAll(){this._multi&&this._openCloseAllActions.next(!0)}closeAll(){this._openCloseAllActions.next(!1)}ngOnChanges(t){this._stateChanges.next(t)}ngOnDestroy(){this._stateChanges.complete(),this._openCloseAllActions.complete()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n,selectors:[["cdk-accordion"],["","cdkAccordion",""]],inputs:{multi:"multi"},exportAs:["cdkAccordion"],features:[u._Bn([{provide:oA,useExisting:n}]),u.TTD]}),n})(),Q2=0,X2=(()=>{class n{constructor(t,i,r){this.accordion=t,this._changeDetectorRef=i,this._expansionDispatcher=r,this._openCloseAllSubscription=fl.w0.EMPTY,this.closed=new u.vpe,this.opened=new u.vpe,this.destroyed=new u.vpe,this.expandedChange=new u.vpe,this.id="cdk-accordion-child-"+Q2++,this._expanded=!1,this._disabled=!1,this._removeUniqueSelectionListener=()=>{},this._removeUniqueSelectionListener=r.listen((a,c)=>{this.accordion&&!this.accordion.multi&&this.accordion.id===c&&this.id!==a&&(this.expanded=!1)}),this.accordion&&(this._openCloseAllSubscription=this._subscribeToOpenCloseAllActions())}get expanded(){return this._expanded}set expanded(t){t=$o(t),this._expanded!==t&&(this._expanded=t,this.expandedChange.emit(t),t?(this.opened.emit(),this._expansionDispatcher.notify(this.id,this.accordion?this.accordion.id:this.id)):this.closed.emit(),this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(t){this._disabled=$o(t)}ngOnDestroy(){this.opened.complete(),this.closed.complete(),this.destroyed.emit(),this.destroyed.complete(),this._removeUniqueSelectionListener(),this._openCloseAllSubscription.unsubscribe()}toggle(){this.disabled||(this.expanded=!this.expanded)}close(){this.disabled||(this.expanded=!1)}open(){this.disabled||(this.expanded=!0)}_subscribeToOpenCloseAllActions(){return this.accordion._openCloseAllActions.subscribe(t=>{this.disabled||(this.expanded=t)})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(oA,12),u.Y36(u.sBO),u.Y36(PP))},n.\u0275dir=u.lG2({type:n,selectors:[["cdk-accordion-item"],["","cdkAccordionItem",""]],inputs:{expanded:"expanded",disabled:"disabled"},outputs:{closed:"closed",opened:"opened",destroyed:"destroyed",expandedChange:"expandedChange"},exportAs:["cdkAccordionItem"],features:[u._Bn([{provide:oA,useValue:void 0}])]}),n})(),J2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();class aA{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class eU extends aA{constructor(e,t,i,r){super(),this.component=e,this.viewContainerRef=t,this.injector=i,this.componentFactoryResolver=r}}class NP extends aA{constructor(e,t,i,r){super(),this.templateRef=e,this.viewContainerRef=t,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class tU extends aA{constructor(e){super(),this.element=e instanceof u.SBq?e.nativeElement:e}}class FP{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof eU?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof NP?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof tU?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class nU extends FP{constructor(e,t,i,r,a){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=c=>{const f=c.element,_=this._document.createComment("dom-portal");f.parentNode.insertBefore(_,f),this.outletElement.appendChild(f),this._attachedPortal=c,super.setDisposeFn(()=>{_.parentNode&&_.parentNode.replaceChild(f,_)})},this._document=a}attachComponentPortal(e){const i=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let r;return e.viewContainerRef?(r=e.viewContainerRef.createComponent(i,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector),this.setDisposeFn(()=>r.destroy())):(r=i.create(e.injector||this._defaultInjector||u.zs3.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=e,r}attachTemplatePortal(e){let t=e.viewContainerRef,i=t.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=t.indexOf(i);-1!==r&&t.remove(r)}),this._attachedPortal=e,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let iU=(()=>{class n extends FP{constructor(t,i,r){super(),this._componentFactoryResolver=t,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new u.vpe,this.attachDomPortal=a=>{const c=a.element,f=this._document.createComment("dom-portal");a.setAttachedHost(this),c.parentNode.insertBefore(f,c),this._getRootNode().appendChild(c),this._attachedPortal=a,super.setDisposeFn(()=>{f.parentNode&&f.parentNode.replaceChild(c,f)})},this._document=r}get portal(){return this._attachedPortal}set portal(t){this.hasAttached()&&!t&&!this._isInitialized||(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(t){t.setAttachedHost(this);const i=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,a=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),c=i.createComponent(a,i.length,t.injector||i.injector);return i!==this._viewContainerRef&&this._getRootNode().appendChild(c.hostView.rootNodes[0]),super.setDisposeFn(()=>c.destroy()),this._attachedPortal=t,this._attachedRef=c,this.attached.emit(c),c}attachTemplatePortal(t){t.setAttachedHost(this);const i=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u._Vd),u.Y36(u.s_b),u.Y36(re))},n.\u0275dir=u.lG2({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[u.qOj]}),n})(),lA=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();const rU=["body"];function sU(n,e){}const oU=[[["mat-expansion-panel-header"]],"*",[["mat-action-row"]]],aU=["mat-expansion-panel-header","*","mat-action-row"];function lU(n,e){if(1&n&&u._UZ(0,"span",2),2&n){const t=u.oxw();u.Q6J("@indicatorRotate",t._getExpandedState())}}const cU=[[["mat-panel-title"]],[["mat-panel-description"]],"*"],uU=["mat-panel-title","mat-panel-description","*"],cA=new u.OlP("MAT_ACCORDION"),LP="225ms cubic-bezier(0.4,0.0,0.2,1)",VP={indicatorRotate:mf("indicatorRotate",[as("collapsed, void",xi({transform:"rotate(0deg)"})),as("expanded",xi({transform:"rotate(180deg)"})),Uo("expanded <=> collapsed, void => collapsed",Aa(LP))]),bodyExpansion:mf("bodyExpansion",[as("collapsed, void",xi({height:"0px",visibility:"hidden"})),as("expanded",xi({height:"*",visibility:"visible"})),Uo("expanded <=> collapsed, void => collapsed",Aa(LP))])},BP=new u.OlP("MAT_EXPANSION_PANEL");let dU=(()=>{class n{constructor(t,i){this._template=t,this._expansionPanel=i}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.Rgc),u.Y36(BP,8))},n.\u0275dir=u.lG2({type:n,selectors:[["ng-template","matExpansionPanelContent",""]]}),n})(),hU=0;const UP=new u.OlP("MAT_EXPANSION_PANEL_DEFAULT_OPTIONS");let HP=(()=>{class n extends X2{constructor(t,i,r,a,c,f,_){super(t,i,r),this._viewContainerRef=a,this._animationMode=f,this._hideToggle=!1,this.afterExpand=new u.vpe,this.afterCollapse=new u.vpe,this._inputChanges=new Nt.x,this._headerId="mat-expansion-panel-header-"+hU++,this._bodyAnimationDone=new Nt.x,this.accordion=t,this._document=c,this._bodyAnimationDone.pipe(Xg((b,I)=>b.fromState===I.fromState&&b.toState===I.toState)).subscribe(b=>{"void"!==b.fromState&&("expanded"===b.toState?this.afterExpand.emit():"collapsed"===b.toState&&this.afterCollapse.emit())}),_&&(this.hideToggle=_.hideToggle)}get hideToggle(){return this._hideToggle||this.accordion&&this.accordion.hideToggle}set hideToggle(t){this._hideToggle=$o(t)}get togglePosition(){return this._togglePosition||this.accordion&&this.accordion.togglePosition}set togglePosition(t){this._togglePosition=t}_hasSpacing(){return!!this.accordion&&this.expanded&&"default"===this.accordion.displayMode}_getExpandedState(){return this.expanded?"expanded":"collapsed"}toggle(){this.expanded=!this.expanded}close(){this.expanded=!1}open(){this.expanded=!0}ngAfterContentInit(){this._lazyContent&&this._lazyContent._expansionPanel===this&&this.opened.pipe(Yn(null),En(()=>this.expanded&&!this._portal),to(1)).subscribe(()=>{this._portal=new NP(this._lazyContent._template,this._viewContainerRef)})}ngOnChanges(t){this._inputChanges.next(t)}ngOnDestroy(){super.ngOnDestroy(),this._bodyAnimationDone.complete(),this._inputChanges.complete()}_containsFocus(){if(this._body){const t=this._document.activeElement,i=this._body.nativeElement;return t===i||i.contains(t)}return!1}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(cA,12),u.Y36(u.sBO),u.Y36(PP),u.Y36(u.s_b),u.Y36(re),u.Y36(u.QbO,8),u.Y36(UP,8))},n.\u0275cmp=u.Xpm({type:n,selectors:[["mat-expansion-panel"]],contentQueries:function(t,i,r){if(1&t&&u.Suo(r,dU,5),2&t){let a;u.iGM(a=u.CRH())&&(i._lazyContent=a.first)}},viewQuery:function(t,i){if(1&t&&u.Gf(rU,5),2&t){let r;u.iGM(r=u.CRH())&&(i._body=r.first)}},hostAttrs:[1,"mat-expansion-panel"],hostVars:6,hostBindings:function(t,i){2&t&&u.ekj("mat-expanded",i.expanded)("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-expansion-panel-spacing",i._hasSpacing())},inputs:{disabled:"disabled",expanded:"expanded",hideToggle:"hideToggle",togglePosition:"togglePosition"},outputs:{opened:"opened",closed:"closed",expandedChange:"expandedChange",afterExpand:"afterExpand",afterCollapse:"afterCollapse"},exportAs:["matExpansionPanel"],features:[u._Bn([{provide:cA,useValue:void 0},{provide:BP,useExisting:n}]),u.qOj,u.TTD],ngContentSelectors:aU,decls:7,vars:4,consts:[["role","region",1,"mat-expansion-panel-content",3,"id"],["body",""],[1,"mat-expansion-panel-body"],[3,"cdkPortalOutlet"]],template:function(t,i){1&t&&(u.F$t(oU),u.Hsn(0),u.TgZ(1,"div",0,1),u.NdJ("@bodyExpansion.done",function(a){return i._bodyAnimationDone.next(a)}),u.TgZ(3,"div",2),u.Hsn(4,1),u.YNc(5,sU,0,0,"ng-template",3),u.qZA(),u.Hsn(6,2),u.qZA()),2&t&&(u.xp6(1),u.Q6J("@bodyExpansion",i._getExpandedState())("id",i.id),u.uIk("aria-labelledby",i._headerId),u.xp6(4),u.Q6J("cdkPortalOutlet",i._portal))},dependencies:[iU],styles:['.mat-expansion-panel{box-sizing:content-box;display:block;margin:0;border-radius:4px;overflow:hidden;transition:margin 225ms cubic-bezier(0.4, 0, 0.2, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);position:relative}.mat-accordion .mat-expansion-panel:not(.mat-expanded),.mat-accordion .mat-expansion-panel:not(.mat-expansion-panel-spacing){border-radius:0}.mat-accordion .mat-expansion-panel:first-of-type{border-top-right-radius:4px;border-top-left-radius:4px}.mat-accordion .mat-expansion-panel:last-of-type{border-bottom-right-radius:4px;border-bottom-left-radius:4px}.cdk-high-contrast-active .mat-expansion-panel{outline:solid 1px}.mat-expansion-panel.ng-animate-disabled,.ng-animate-disabled .mat-expansion-panel,.mat-expansion-panel._mat-animation-noopable{transition:none}.mat-expansion-panel-content{display:flex;flex-direction:column;overflow:visible}.mat-expansion-panel-content[style*="visibility: hidden"] *{visibility:hidden !important}.mat-expansion-panel-body{padding:0 24px 16px}.mat-expansion-panel-spacing{margin:16px 0}.mat-accordion>.mat-expansion-panel-spacing:first-child,.mat-accordion>*:first-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-top:0}.mat-accordion>.mat-expansion-panel-spacing:last-child,.mat-accordion>*:last-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-bottom:0}.mat-action-row{border-top-style:solid;border-top-width:1px;display:flex;flex-direction:row;justify-content:flex-end;padding:16px 8px 16px 24px}.mat-action-row .mat-button-base,.mat-action-row .mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-action-row .mat-button-base,[dir=rtl] .mat-action-row .mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2,data:{animation:[VP.bodyExpansion]},changeDetection:0}),n})();class fU{}const pU=O2(fU);let jP=(()=>{class n extends pU{constructor(t,i,r,a,c,f,_){super(),this.panel=t,this._element=i,this._focusMonitor=r,this._changeDetectorRef=a,this._animationMode=f,this._parentChangeSubscription=fl.w0.EMPTY;const b=t.accordion?t.accordion._stateChanges.pipe(En(I=>!(!I.hideToggle&&!I.togglePosition))):ga.E;this.tabIndex=parseInt(_||"")||0,this._parentChangeSubscription=(0,kI.T)(t.opened,t.closed,b,t._inputChanges.pipe(En(I=>!!(I.hideToggle||I.disabled||I.togglePosition)))).subscribe(()=>this._changeDetectorRef.markForCheck()),t.closed.pipe(En(()=>t._containsFocus())).subscribe(()=>r.focusVia(i,"program")),c&&(this.expandedHeight=c.expandedHeight,this.collapsedHeight=c.collapsedHeight)}get disabled(){return this.panel.disabled}_toggle(){this.disabled||this.panel.toggle()}_isExpanded(){return this.panel.expanded}_getExpandedState(){return this.panel._getExpandedState()}_getPanelId(){return this.panel.id}_getTogglePosition(){return this.panel.togglePosition}_showToggle(){return!this.panel.hideToggle&&!this.panel.disabled}_getHeaderHeight(){const t=this._isExpanded();return t&&this.expandedHeight?this.expandedHeight:!t&&this.collapsedHeight?this.collapsedHeight:null}_keydown(t){switch(t.keyCode){case 32:case 13:QM(t)||(t.preventDefault(),this._toggle());break;default:return void(this.panel.accordion&&this.panel.accordion._handleHeaderKeydown(t))}}focus(t,i){t?this._focusMonitor.focusVia(this._element,t,i):this._element.nativeElement.focus(i)}ngAfterViewInit(){this._focusMonitor.monitor(this._element).subscribe(t=>{t&&this.panel.accordion&&this.panel.accordion._handleHeaderFocus(this)})}ngOnDestroy(){this._parentChangeSubscription.unsubscribe(),this._focusMonitor.stopMonitoring(this._element)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(HP,1),u.Y36(u.SBq),u.Y36(eA),u.Y36(u.sBO),u.Y36(UP,8),u.Y36(u.QbO,8),u.$8M("tabindex"))},n.\u0275cmp=u.Xpm({type:n,selectors:[["mat-expansion-panel-header"]],hostAttrs:["role","button",1,"mat-expansion-panel-header","mat-focus-indicator"],hostVars:15,hostBindings:function(t,i){1&t&&u.NdJ("click",function(){return i._toggle()})("keydown",function(a){return i._keydown(a)}),2&t&&(u.uIk("id",i.panel._headerId)("tabindex",i.tabIndex)("aria-controls",i._getPanelId())("aria-expanded",i._isExpanded())("aria-disabled",i.panel.disabled),u.Udp("height",i._getHeaderHeight()),u.ekj("mat-expanded",i._isExpanded())("mat-expansion-toggle-indicator-after","after"===i._getTogglePosition())("mat-expansion-toggle-indicator-before","before"===i._getTogglePosition())("_mat-animation-noopable","NoopAnimations"===i._animationMode))},inputs:{tabIndex:"tabIndex",expandedHeight:"expandedHeight",collapsedHeight:"collapsedHeight"},features:[u.qOj],ngContentSelectors:uU,decls:5,vars:3,consts:[[1,"mat-content"],["class","mat-expansion-indicator",4,"ngIf"],[1,"mat-expansion-indicator"]],template:function(t,i){1&t&&(u.F$t(cU),u.TgZ(0,"span",0),u.Hsn(1),u.Hsn(2,1),u.Hsn(3,2),u.qZA(),u.YNc(4,lU,1,1,"span",1)),2&t&&(u.ekj("mat-content-hide-toggle",!i._showToggle()),u.xp6(4),u.Q6J("ngIf",i._showToggle()))},dependencies:[xn],styles:['.mat-expansion-panel-header{display:flex;flex-direction:row;align-items:center;padding:0 24px;border-radius:inherit;transition:height 225ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-expansion-panel-header._mat-animation-noopable{transition:none}.mat-expansion-panel-header:focus,.mat-expansion-panel-header:hover{outline:none}.mat-expansion-panel-header.mat-expanded:focus,.mat-expansion-panel-header.mat-expanded:hover{background:inherit}.mat-expansion-panel-header:not([aria-disabled=true]){cursor:pointer}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before{flex-direction:row-reverse}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 16px 0 0}[dir=rtl] .mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 0 0 16px}.mat-content{display:flex;flex:1;flex-direction:row;overflow:hidden}.mat-content.mat-content-hide-toggle{margin-right:8px}[dir=rtl] .mat-content.mat-content-hide-toggle{margin-right:0;margin-left:8px}.mat-expansion-toggle-indicator-before .mat-content.mat-content-hide-toggle{margin-left:24px;margin-right:0}[dir=rtl] .mat-expansion-toggle-indicator-before .mat-content.mat-content-hide-toggle{margin-right:24px;margin-left:0}.mat-expansion-panel-header-title,.mat-expansion-panel-header-description{display:flex;flex-grow:1;flex-basis:0;margin-right:16px;align-items:center}[dir=rtl] .mat-expansion-panel-header-title,[dir=rtl] .mat-expansion-panel-header-description{margin-right:0;margin-left:16px}.mat-expansion-panel-header-description{flex-grow:2}.mat-expansion-indicator::after{border-style:solid;border-width:0 2px 2px 0;content:"";display:inline-block;padding:3px;transform:rotate(45deg);vertical-align:middle}.cdk-high-contrast-active .mat-expansion-panel-content{border-top:1px solid;border-top-left-radius:0;border-top-right-radius:0}'],encapsulation:2,data:{animation:[VP.indicatorRotate]},changeDetection:0}),n})(),mU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n,selectors:[["mat-panel-title"]],hostAttrs:[1,"mat-expansion-panel-header-title"]}),n})(),gU=(()=>{class n extends Y2{constructor(){super(...arguments),this._ownHeaders=new u.n_E,this._hideToggle=!1,this.displayMode="default",this.togglePosition="after"}get hideToggle(){return this._hideToggle}set hideToggle(t){this._hideToggle=$o(t)}ngAfterContentInit(){this._headers.changes.pipe(Yn(this._headers)).subscribe(t=>{this._ownHeaders.reset(t.filter(i=>i.panel.accordion===this)),this._ownHeaders.notifyOnChanges()}),this._keyManager=new o2(this._ownHeaders).withWrap().withHomeAndEnd()}_handleHeaderKeydown(t){this._keyManager.onKeydown(t)}_handleHeaderFocus(t){this._keyManager.updateActiveItem(t)}ngOnDestroy(){super.ngOnDestroy(),this._ownHeaders.destroy()}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=u.n5z(n)))(i||n)}}(),n.\u0275dir=u.lG2({type:n,selectors:[["mat-accordion"]],contentQueries:function(t,i,r){if(1&t&&u.Suo(r,jP,5),2&t){let a;u.iGM(a=u.CRH())&&(i._headers=a)}},hostAttrs:[1,"mat-accordion"],hostVars:2,hostBindings:function(t,i){2&t&&u.ekj("mat-accordion-multi",i.multi)},inputs:{multi:"multi",hideToggle:"hideToggle",displayMode:"displayMode",togglePosition:"togglePosition"},exportAs:["matAccordion"],features:[u._Bn([{provide:cA,useExisting:n}]),u.qOj]}),n})(),_U=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[_r,Oi,J2,lA]}),n})();function yU(n,e){if(1&n&&(u.TgZ(0,"div",2)(1,"mat-accordion")(2,"mat-expansion-panel")(3,"mat-expansion-panel-header")(4,"mat-panel-title"),u._uU(5),u.qZA()(),u.TgZ(6,"p"),u._uU(7),u.qZA()()()()),2&n){const t=e.$implicit;u.xp6(5),u.hij(" ",t.q," "),u.xp6(2),u.Oqu(t.a)}}let vU=(()=>{class n{constructor(){this.questions=bU}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-faq"]],decls:2,vars:1,consts:[[1,"container","mt-1","p-5"],["class","mt-2",4,"ngFor","ngForOf"],[1,"mt-2"]],template:function(t,i){1&t&&(u.TgZ(0,"div",0),u.YNc(1,yU,8,2,"div",1),u.qZA()),2&t&&(u.xp6(1),u.Q6J("ngForOf",i.questions))},dependencies:[uo,gU,HP,jP,mU],styles:["mat-expansion-panel[_ngcontent-%COMP%]{background:cadetblue;color:#fff}.mat-expansion-panel-header-title[_ngcontent-%COMP%], .mat-expansion-panel-header-description[_ngcontent-%COMP%]{color:#fffaf0;font-size:20px}.mat-expansion-indicator[_ngcontent-%COMP%]{font-size:20px}"]}),n})();const bU=[{q:"What is Transfer Pricing?",a:"Transfer pricing is an accounting practice that represents the price that one division in a company charges another division for goods and services provided"},{q:"Does your company need Transfer Pricing?",a:"Transfer pricing is an accounting practice that represents the price that one division in a company charges another division for goods and services provided"},{q:"Who will perform Benchmarking analysis?",a:"Transfer pricing is an accounting practice that represents the price that one division in a company charges another division for goods and services provided"}];let wU=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-workflow"]],decls:50,vars:0,consts:[[1,"s8-templates-section-content","s8-templates-section-contentsize-md","s8-templates-section-content-paddingleft","s8-templates-section-content-paddingright",2,"position","relative","padding-left","1rem","padding-right","1rem","padding-top","4rem","padding-bottom","4rem"],[2,"text-align","center"],["id","s8-templatessection5",1,"content-services","s8-templates-section"],[1,"s8-templates-section-background"],[1,"s8-templates-section-content","s8-templates-section-contentsize-md","s8-templates-section-content-paddingleft","s8-templates-section-content-paddingright",2,"position","relative","padding-left","1rem","padding-right","1rem","padding-top","2rem","padding-bottom","1rem"],[1,"row"],[1,"services-box","prices-box","col-sm-3"],[1,"price-box"],[1,"price-details"]],template:function(t,i){1&t&&(u.TgZ(0,"div",0)(1,"h1",1),u._uU(2,"Our Workflow"),u.qZA(),u.TgZ(3,"p",1),u._uU(4," The benchmarking process starts after the analysis of identifying and characterising the international related party transaction has already be performed. Please contact us if you require assistance with this area and we can quote separately. If you have already performed this analysis, you are ready for benchmarking. Our benchmarking process can be summarised as follows: "),u.qZA(),u.TgZ(5,"section",2),u._UZ(6,"div",3),u.TgZ(7,"div",4)(8,"div",5)(9,"div",6)(10,"h3"),u._uU(11,"Step One"),u.qZA(),u.TgZ(12,"div",7)(13,"h4"),u._uU(14,"Data Gathering"),u.qZA(),u.TgZ(15,"div",8)(16,"p"),u._uU(17," Complete the online questionnaire regarding the company, industry and transaction information. We are willing to sign confidentiality agreements if required. "),u.qZA()()()(),u.TgZ(18,"div",6)(19,"h3"),u._uU(20,"Step Two"),u.qZA(),u.TgZ(21,"div",7)(22,"h4"),u._uU(23,"Benchmarking Analysis"),u.qZA(),u.TgZ(24,"div",8)(25,"p"),u._uU(26," Transfer Pricing Benchmarking performs the benchmarking analysis. The analysis itself has many steps in the process before a final comparable set is identified. "),u.qZA()()()(),u.TgZ(27,"div",6)(28,"h3"),u._uU(29,"Step Three"),u.qZA(),u.TgZ(30,"div",7)(31,"h4"),u._uU(32,"Draft Report"),u.qZA(),u.TgZ(33,"div",8)(34,"p"),u._uU(35,"Transfer Pricing Solutions finalises the benchmarking analysis and provides a draft report for discussion."),u.qZA(),u.TgZ(36,"p"),u._UZ(37,"br"),u.qZA(),u._UZ(38,"p"),u.qZA()()(),u.TgZ(39,"div",6)(40,"h3"),u._uU(41,"Step Four"),u.qZA(),u.TgZ(42,"div",7)(43,"h4"),u._uU(44,"Final Report"),u.qZA(),u.TgZ(45,"div",8)(46,"p"),u._uU(47," The final report includes the full search write up, the benchmarking analysis, the elimination chart and financials of the final comparable companies."),u._UZ(48,"br")(49,"br"),u.qZA()()()()()()()())}}),n})();function CU(n,e){1&n&&(u.TgZ(0,"div",1)(1,"h2"),u._uU(2,"Company Registration"),u.qZA(),u.TgZ(3,"div",2)(4,"div",3),u._UZ(5,"input",4)(6,"span",5),u.qZA(),u.TgZ(7,"div",3),u._UZ(8,"input",6)(9,"span",5),u.qZA(),u.TgZ(10,"div",3),u._UZ(11,"input",7)(12,"span",5),u.qZA(),u.TgZ(13,"div",3),u._UZ(14,"textarea",8)(15,"span",5),u.qZA(),u.TgZ(16,"div",9)(17,"button",10),u._uU(18,"Register"),u.qZA()()()())}function EU(n,e){1&n&&(u.TgZ(0,"div",1)(1,"h2"),u._uU(2,"Consultant Signup"),u.qZA(),u.TgZ(3,"div",2)(4,"div",3),u._UZ(5,"input",11)(6,"span",5),u.qZA(),u.TgZ(7,"div",3),u._UZ(8,"input",12)(9,"span",5),u.qZA(),u.TgZ(10,"div",3),u._UZ(11,"input",13)(12,"span",5),u.qZA(),u.TgZ(13,"div",3),u._UZ(14,"input",14)(15,"span",5),u.qZA(),u.TgZ(16,"div",3),u._UZ(17,"input",15)(18,"span",5),u.qZA(),u.TgZ(19,"div",3),u._UZ(20,"input",16)(21,"span",5),u.qZA(),u.TgZ(22,"div",3),u._UZ(23,"textarea",8)(24,"span",5),u.qZA(),u.TgZ(25,"div",9)(26,"button",10),u._uU(27,"Sign up"),u.qZA()()()())}const IU=[{path:"",pathMatch:"full",redirectTo:"home"},{path:"home",component:Tp},{path:"our-services",component:W2},{path:"contact-us",component:Z2},{path:"faq",component:vU},{path:"workflow",component:wU},{path:"register/:type",component:(()=>{class n{constructor(t){this.route=t,this.type=""}ngOnInit(){this.route.paramMap.subscribe(t=>{this.type=t.get("type")})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Wu))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-register"]],decls:2,vars:2,consts:[["class","container mt-3",4,"ngIf"],[1,"container","mt-3"],[1,"col-md-6","col-sm-12"],[1,"mt-1","px-2"],["type","text","id","companyname","placeholder","Company Name","name","companyname",1,"form-control"],[1,"error"],["type","email","id","companymail","placeholder","Company Mail","name","companymail",1,"form-control"],["type","email","id","contact","placeholder","Contact Number","name","contact",1,"form-control"],["placeholder","Address",1,"form-control"],[1,"mt-1","px-2","text-center"],["type","submit",1,"btn","btn-primary"],["type","text","id","firstname","placeholder","First Name","name","firstname",1,"form-control"],["type","text","id","lastname","placeholder","Last Name","name","lastname",1,"form-control"],["type","email","id","email","placeholder","Email","name","email",1,"form-control"],["type","password","id","password","placeholder","Password","name","password",1,"form-control"],["type","password","id","cpassword","placeholder","Confirm Password","name","cpassword",1,"form-control"],["type","email","id","mobile","placeholder","Mobile Number","name","mobile",1,"form-control"]],template:function(t,i){1&t&&(u.YNc(0,CU,19,0,"div",0),u.YNc(1,EU,28,0,"div",0)),2&t&&(u.Q6J("ngIf","company"==i.type),u.xp6(1),u.Q6J("ngIf","consultant"==i.type))},dependencies:[xn],styles:[".error[_ngcontent-%COMP%]{color:#f61e37;font-size:12px;margin-bottom:0;padding-left:3px}.btn-primary[_ngcontent-%COMP%]{min-width:130px}"]}),n})()},{path:"login",component:OP},{path:"profile",component:DB},{path:"dashboard",component:JV},{path:"login",component:OP}];let DU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[Kg.forRoot(IU),Kg]}),n})();var TU=P(1144);const SU=["addListener","removeListener"],xU=["addEventListener","removeEventListener"],MU=["on","off"];function U0(n,e,t,i){if((0,ma.m)(t)&&(i=t,t=void 0),i)return U0(n,e,t).pipe(ca(i));const[r,a]=function RU(n){return(0,ma.m)(n.addEventListener)&&(0,ma.m)(n.removeEventListener)}(n)?xU.map(c=>f=>n[c](e,f,t)):function AU(n){return(0,ma.m)(n.addListener)&&(0,ma.m)(n.removeListener)}(n)?SU.map($P(n,e)):function kU(n){return(0,ma.m)(n.on)&&(0,ma.m)(n.off)}(n)?MU.map($P(n,e)):[];if(!r&&(0,TU.z)(n))return(0,lr.z)(c=>U0(c,e,t))((0,Bi.Xf)(n));if(!r)throw new TypeError("Invalid event target");return new Wn.y(c=>{const f=(..._)=>c.next(1<_.length?_:_[0]);return r(f),()=>a(f)})}function $P(n,e){return t=>i=>n[t](e,i)}var GP=P(4408);const H0={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:i}=H0;i&&(e=i.requestAnimationFrame,t=i.cancelAnimationFrame);const r=e(a=>{t=void 0,n(a)});return new fl.w0(()=>t?.(r))},requestAnimationFrame(...n){const{delegate:e}=H0;return(e?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=H0;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};var zP=P(7565);new class PU extends zP.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class OU extends GP.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=H0.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(e,t,i);e.actions.some(r=>r.id===t)||(H0.cancelAnimationFrame(t),e._scheduled=void 0)}});let uA,FU=1;const KI={};function qP(n){return n in KI&&(delete KI[n],!0)}const LU={setImmediate(n){const e=FU++;return KI[e]=!0,uA||(uA=Promise.resolve()),uA.then(()=>qP(e)&&n()),e},clearImmediate(n){qP(n)}},{setImmediate:VU,clearImmediate:BU}=LU,YI={setImmediate(...n){const{delegate:e}=YI;return(e?.setImmediate||VU)(...n)},clearImmediate(n){const{delegate:e}=YI;return(e?.clearImmediate||BU)(n)},delegate:void 0};new class HU extends zP.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class UU extends GP.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=YI.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(e,t,i);e.actions.some(r=>r.id===t)||(YI.clearImmediate(t),e._scheduled=void 0)}});var GU=P(3532);function WP(n,e=Qg.z){return function $U(n){return(0,ji.e)((e,t)=>{let i=!1,r=null,a=null,c=!1;const f=()=>{if(a?.unsubscribe(),a=null,i){i=!1;const b=r;r=null,t.next(b)}c&&t.complete()},_=()=>{a=null,c&&t.complete()};e.subscribe((0,Zn.x)(t,b=>{i=!0,r=b,a||(0,Bi.Xf)(n(b)).subscribe(a=(0,Zn.x)(t,f,_))},()=>{c=!0,(!i||!a||a.closed)&&t.complete()}))})}(()=>function qU(n=0,e,t=Qg.P){let i=-1;return null!=e&&((0,GU.K)(e)?t=e:i=e),new Wn.y(r=>{let a=function zU(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;a<0&&(a=0);let c=0;return t.schedule(function(){r.closed||(r.next(c++),0<=i?this.schedule(void 0,i):r.complete())},a)})}(n,e))}let dA=(()=>{class n{constructor(t,i,r){this._ngZone=t,this._platform=i,this._scrolled=new Nt.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const i=this.scrollContainers.get(t);i&&(i.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new Wn.y(i=>{this._globalSubscription||this._addGlobalListener();const r=t>0?this._scrolled.pipe(WP(t)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):nt()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(t,i){const r=this.getAncestorScrollContainers(t);return this.scrolled(i).pipe(En(a=>!a||r.indexOf(a)>-1))}getAncestorScrollContainers(t){const i=[];return this.scrollContainers.forEach((r,a)=>{this._scrollableContainsElement(a,t)&&i.push(a)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,i){let r=py(i),a=t.getElementRef().nativeElement;do{if(r==a)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>U0(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.R0b),u.LFG(Ho),u.LFG(re,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),hA=(()=>{class n{constructor(t,i,r,a){this.elementRef=t,this.scrollDispatcher=i,this.ngZone=r,this.dir=a,this._destroyed=new Nt.x,this._elementScrolled=new Wn.y(c=>this.ngZone.runOutsideAngular(()=>U0(this.elementRef.nativeElement,"scroll").pipe(jo(this._destroyed)).subscribe(c)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(t){const i=this.elementRef.nativeElement,r=this.dir&&"rtl"==this.dir.value;null==t.left&&(t.left=r?t.end:t.start),null==t.right&&(t.right=r?t.start:t.end),null!=t.bottom&&(t.top=i.scrollHeight-i.clientHeight-t.bottom),r&&0!=L0()?(null!=t.left&&(t.right=i.scrollWidth-i.clientWidth-t.left),2==L0()?t.left=t.right:1==L0()&&(t.left=t.right?-t.right:t.right)):null!=t.right&&(t.left=i.scrollWidth-i.clientWidth-t.right),this._applyScrollToOptions(t)}_applyScrollToOptions(t){const i=this.elementRef.nativeElement;uP()?i.scrollTo(t):(null!=t.top&&(i.scrollTop=t.top),null!=t.left&&(i.scrollLeft=t.left))}measureScrollOffset(t){const i="left",r="right",a=this.elementRef.nativeElement;if("top"==t)return a.scrollTop;if("bottom"==t)return a.scrollHeight-a.clientHeight-a.scrollTop;const c=this.dir&&"rtl"==this.dir.value;return"start"==t?t=c?r:i:"end"==t&&(t=c?i:r),c&&2==L0()?t==i?a.scrollWidth-a.clientWidth-a.scrollLeft:a.scrollLeft:c&&1==L0()?t==i?a.scrollLeft+a.scrollWidth-a.clientWidth:-a.scrollLeft:t==i?a.scrollLeft:a.scrollWidth-a.clientWidth-a.scrollLeft}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(dA),u.Y36(u.R0b),u.Y36(nA,8))},n.\u0275dir=u.lG2({type:n,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]}),n})(),fA=(()=>{class n{constructor(t,i,r){this._platform=t,this._change=new Nt.x,this._changeListener=a=>{this._change.next(a)},this._document=r,i.runOutsideAngular(()=>{if(t.isBrowser){const a=this._getWindow();a.addEventListener("resize",this._changeListener),a.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+r,right:t.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,i=this._getWindow(),r=t.documentElement,a=r.getBoundingClientRect();return{top:-a.top||t.body.scrollTop||i.scrollY||r.scrollTop||0,left:-a.left||t.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(WP(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Ho),u.LFG(u.R0b),u.LFG(re,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),j0=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})(),ZP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[V0,j0,V0,j0]}),n})();const KP=["*"],KU=["content"];function YU(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"div",2),u.NdJ("click",function(){u.CHM(t);const r=u.oxw();return u.KtG(r._onBackdropClicked())}),u.qZA()}if(2&n){const t=u.oxw();u.ekj("mat-drawer-shown",t._isShowingBackdrop())}}function QU(n,e){1&n&&(u.TgZ(0,"mat-drawer-content"),u.Hsn(1,2),u.qZA())}const XU=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],JU=["mat-drawer","mat-drawer-content","*"],eH={transformDrawer:mf("transform",[as("open, open-instant",xi({transform:"none",visibility:"visible"})),as("void",xi({"box-shadow":"none",visibility:"hidden"})),Uo("void => open-instant",Aa("0ms")),Uo("void <=> open, open-instant => void",Aa("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])},tH=new u.OlP("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function nH(){return!1}}),YP=new u.OlP("MAT_DRAWER_CONTAINER");let pA=(()=>{class n extends hA{constructor(t,i,r,a,c){super(r,a,c),this._changeDetectorRef=t,this._container=i}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.sBO),u.Y36((0,u.Gpc)(()=>XP)),u.Y36(u.SBq),u.Y36(dA),u.Y36(u.R0b))},n.\u0275cmp=u.Xpm({type:n,selectors:[["mat-drawer-content"]],hostAttrs:[1,"mat-drawer-content"],hostVars:4,hostBindings:function(t,i){2&t&&u.Udp("margin-left",i._container._contentMargins.left,"px")("margin-right",i._container._contentMargins.right,"px")},features:[u._Bn([{provide:hA,useExisting:n}]),u.qOj],ngContentSelectors:KP,decls:1,vars:0,template:function(t,i){1&t&&(u.F$t(),u.Hsn(0))},encapsulation:2,changeDetection:0}),n})(),QP=(()=>{class n{constructor(t,i,r,a,c,f,_,b){this._elementRef=t,this._focusTrapFactory=i,this._focusMonitor=r,this._platform=a,this._ngZone=c,this._interactivityChecker=f,this._doc=_,this._container=b,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new Nt.x,this._animationEnd=new Nt.x,this._animationState="void",this.openedChange=new u.vpe(!0),this._openedStream=this.openedChange.pipe(En(I=>I),(0,it.U)(()=>{})),this.openedStart=this._animationStarted.pipe(En(I=>I.fromState!==I.toState&&0===I.toState.indexOf("open")),Gy(void 0)),this._closedStream=this.openedChange.pipe(En(I=>!I),(0,it.U)(()=>{})),this.closedStart=this._animationStarted.pipe(En(I=>I.fromState!==I.toState&&"void"===I.toState),Gy(void 0)),this._destroyed=new Nt.x,this.onPositionChanged=new u.vpe,this._modeChanged=new Nt.x,this.openedChange.subscribe(I=>{I?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus(this._openedVia||"program")}),this._ngZone.runOutsideAngular(()=>{U0(this._elementRef.nativeElement,"keydown").pipe(En(I=>27===I.keyCode&&!this.disableClose&&!QM(I)),jo(this._destroyed)).subscribe(I=>this._ngZone.run(()=>{this.close(),I.stopPropagation(),I.preventDefault()}))}),this._animationEnd.pipe(Xg((I,x)=>I.fromState===x.fromState&&I.toState===x.toState)).subscribe(I=>{const{fromState:x,toState:L}=I;(0===L.indexOf("open")&&"void"===x||"void"===L&&0===x.indexOf("open"))&&this.openedChange.emit(this._opened)})}get position(){return this._position}set position(t){(t="end"===t?"end":"start")!==this._position&&(this._isAttached&&this._updatePositionInParent(t),this._position=t,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(t){this._mode=t,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(t){this._disableClose=$o(t)}get autoFocus(){return this._autoFocus??("side"===this.mode?"dialog":"first-tabbable")}set autoFocus(t){("true"===t||"false"===t||null==t)&&(t=$o(t)),this._autoFocus=t}get opened(){return this._opened}set opened(t){this.toggle($o(t))}_forceFocus(t,i){this._interactivityChecker.isFocusable(t)||(t.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{t.removeEventListener("blur",r),t.removeEventListener("mousedown",r),t.removeAttribute("tabindex")};t.addEventListener("blur",r),t.addEventListener("mousedown",r)})),t.focus(i)}_focusByCssSelector(t,i){let r=this._elementRef.nativeElement.querySelector(t);r&&this._forceFocus(r,i)}_takeFocus(){if(!this._focusTrap)return;const t=this._elementRef.nativeElement;switch(this.autoFocus){case!1:case"dialog":return;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{!i&&"function"==typeof this._elementRef.nativeElement.focus&&t.focus()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.autoFocus)}}_restoreFocus(t){"dialog"!==this.autoFocus&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,t):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null)}_isFocusWithinDrawer(){const t=this._doc.activeElement;return!!t&&this._elementRef.nativeElement.contains(t)}ngAfterViewInit(){this._isAttached=!0,this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState(),"end"===this._position&&this._updatePositionInParent("end")}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){this._focusTrap&&this._focusTrap.destroy(),this._anchor?.remove(),this._anchor=null,this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(t){return this.toggle(!0,t)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0,"mouse")}toggle(t=!this.opened,i){t&&i&&(this._openedVia=i);const r=this._setOpen(t,!t&&this._isFocusWithinDrawer(),this._openedVia||"program");return t||(this._openedVia=null),r}_setOpen(t,i,r){return this._opened=t,t?this._animationState=this._enableAnimations?"open":"open-instant":(this._animationState="void",i&&this._restoreFocus(r)),this._updateFocusTrapState(),new Promise(a=>{this.openedChange.pipe(to(1)).subscribe(c=>a(c?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=this.opened&&"side"!==this.mode)}_updatePositionInParent(t){const i=this._elementRef.nativeElement,r=i.parentNode;"end"===t?(this._anchor||(this._anchor=this._doc.createComment("mat-drawer-anchor"),r.insertBefore(this._anchor,i)),r.appendChild(i)):this._anchor&&this._anchor.parentNode.insertBefore(i,this._anchor)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(y2),u.Y36(eA),u.Y36(Ho),u.Y36(u.R0b),u.Y36(gP),u.Y36(re,8),u.Y36(YP,8))},n.\u0275cmp=u.Xpm({type:n,selectors:[["mat-drawer"]],viewQuery:function(t,i){if(1&t&&u.Gf(KU,5),2&t){let r;u.iGM(r=u.CRH())&&(i._content=r.first)}},hostAttrs:["tabIndex","-1",1,"mat-drawer"],hostVars:12,hostBindings:function(t,i){1&t&&u.WFA("@transform.start",function(a){return i._animationStarted.next(a)})("@transform.done",function(a){return i._animationEnd.next(a)}),2&t&&(u.uIk("align",null),u.d8E("@transform",i._animationState),u.ekj("mat-drawer-end","end"===i.position)("mat-drawer-over","over"===i.mode)("mat-drawer-push","push"===i.mode)("mat-drawer-side","side"===i.mode)("mat-drawer-opened",i.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],ngContentSelectors:KP,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(t,i){1&t&&(u.F$t(),u.TgZ(0,"div",0,1),u.Hsn(2),u.qZA())},dependencies:[hA],encapsulation:2,data:{animation:[eH.transformDrawer]},changeDetection:0}),n})(),XP=(()=>{class n{constructor(t,i,r,a,c,f=!1,_){this._dir=t,this._element=i,this._ngZone=r,this._changeDetectorRef=a,this._animationMode=_,this._drawers=new u.n_E,this.backdropClick=new u.vpe,this._destroyed=new Nt.x,this._doCheckSubject=new Nt.x,this._contentMargins={left:null,right:null},this._contentMarginChanges=new Nt.x,t&&t.change.pipe(jo(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),c.change().pipe(jo(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=f}get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(t){this._autosize=$o(t)}get hasBackdrop(){return this._backdropOverride??(!this._start||"side"!==this._start.mode||!this._end||"side"!==this._end.mode)}set hasBackdrop(t){this._backdropOverride=null==t?null:$o(t)}get scrollable(){return this._userContent||this._content}ngAfterContentInit(){this._allDrawers.changes.pipe(Yn(this._allDrawers),jo(this._destroyed)).subscribe(t=>{this._drawers.reset(t.filter(i=>!i._container||i._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe(Yn(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(t=>{this._watchDrawerToggle(t),this._watchDrawerPosition(t),this._watchDrawerMode(t)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe(XM(10),jo(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(t=>t.open())}close(){this._drawers.forEach(t=>t.close())}updateContentMargins(){let t=0,i=0;if(this._left&&this._left.opened)if("side"==this._left.mode)t+=this._left._getWidth();else if("push"==this._left.mode){const r=this._left._getWidth();t+=r,i-=r}if(this._right&&this._right.opened)if("side"==this._right.mode)i+=this._right._getWidth();else if("push"==this._right.mode){const r=this._right._getWidth();i+=r,t-=r}t=t||null,i=i||null,(t!==this._contentMargins.left||i!==this._contentMargins.right)&&(this._contentMargins={left:t,right:i},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(t){t._animationStarted.pipe(En(i=>i.fromState!==i.toState),jo(this._drawers.changes)).subscribe(i=>{"open-instant"!==i.toState&&"NoopAnimations"!==this._animationMode&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),"side"!==t.mode&&t.openedChange.pipe(jo(this._drawers.changes)).subscribe(()=>this._setContainerClass(t.opened))}_watchDrawerPosition(t){!t||t.onPositionChanged.pipe(jo(this._drawers.changes)).subscribe(()=>{this._ngZone.onMicrotaskEmpty.pipe(to(1)).subscribe(()=>{this._validateDrawers()})})}_watchDrawerMode(t){t&&t._modeChanged.pipe(jo((0,kI.T)(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(t){const i=this._element.nativeElement.classList,r="mat-drawer-container-has-open";t?i.add(r):i.remove(r)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(t=>{"end"==t.position?this._end=t:this._start=t}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(t=>t&&!t.disableClose&&this._canHaveBackdrop(t)).forEach(t=>t._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._canHaveBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._canHaveBackdrop(this._end)}_canHaveBackdrop(t){return"side"!==t.mode||!!this._backdropOverride}_isDrawerOpen(t){return null!=t&&t.opened}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(nA,8),u.Y36(u.SBq),u.Y36(u.R0b),u.Y36(u.sBO),u.Y36(fA),u.Y36(tH),u.Y36(u.QbO,8))},n.\u0275cmp=u.Xpm({type:n,selectors:[["mat-drawer-container"]],contentQueries:function(t,i,r){if(1&t&&(u.Suo(r,pA,5),u.Suo(r,QP,5)),2&t){let a;u.iGM(a=u.CRH())&&(i._content=a.first),u.iGM(a=u.CRH())&&(i._allDrawers=a)}},viewQuery:function(t,i){if(1&t&&u.Gf(pA,5),2&t){let r;u.iGM(r=u.CRH())&&(i._userContent=r.first)}},hostAttrs:[1,"mat-drawer-container"],hostVars:2,hostBindings:function(t,i){2&t&&u.ekj("mat-drawer-container-explicit-backdrop",i._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],features:[u._Bn([{provide:YP,useExisting:n}])],ngContentSelectors:JU,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(t,i){1&t&&(u.F$t(XU),u.YNc(0,YU,1,2,"div",0),u.Hsn(1),u.Hsn(2,1),u.YNc(3,QU,2,0,"mat-drawer-content",1)),2&t&&(u.Q6J("ngIf",i.hasBackdrop),u.xp6(3),u.Q6J("ngIf",!i._content))},dependencies:[xn,pA],styles:['.mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}'],encapsulation:2,changeDetection:0}),n})(),iH=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[_r,Oi,j0,j0,Oi]}),n})();class rH{}class gf{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const i=t.indexOf(":");if(i>0){const r=t.slice(0,i),a=r.toLowerCase(),c=t.slice(i+1).trim();this.maybeSetNormalizedName(r,a),this.headers.has(a)?this.headers.get(a).push(c):this.headers.set(a,[c])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let i=e[t];const r=t.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(r,i),this.maybeSetNormalizedName(t,r))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof gf?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new gf;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof gf?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(e.name,t);const r=("a"===e.op?this.headers.get(t):void 0)||[];r.push(...i),this.headers.set(t,r);break;case"d":const a=e.value;if(a){let c=this.headers.get(t);if(!c)return;c=c.filter(f=>-1===a.indexOf(f)),0===c.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,c)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class sH{encodeKey(e){return JP(e)}encodeValue(e){return JP(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const aH=/%(\d[a-f0-9])/gi,lH={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function JP(n){return encodeURIComponent(n).replace(aH,(e,t)=>lH[t]??e)}function QI(n){return`${n}`}class _f{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new sH,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function oH(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const a=r.indexOf("="),[c,f]=-1==a?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,a)),e.decodeValue(r.slice(a+1))],_=t.get(c)||[];_.push(f),t.set(c,_)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const i=e.fromObject[t],r=Array.isArray(i)?i.map(QI):[QI(i)];this.map.set(t,r)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(i=>{const r=e[i];Array.isArray(r)?r.forEach(a=>{t.push({param:i,value:a,op:"a"})}):t.push({param:i,value:r,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(i=>t+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new _f({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(QI(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let i=this.map.get(e.param)||[];const r=i.indexOf(QI(e.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class cH{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function e1(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function t1(n){return typeof Blob<"u"&&n instanceof Blob}function n1(n){return typeof FormData<"u"&&n instanceof FormData}class $0{constructor(e,t,i,r){let a;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function uH(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,a=r):a=i,a&&(this.reportProgress=!!a.reportProgress,this.withCredentials=!!a.withCredentials,a.responseType&&(this.responseType=a.responseType),a.headers&&(this.headers=a.headers),a.context&&(this.context=a.context),a.params&&(this.params=a.params)),this.headers||(this.headers=new gf),this.context||(this.context=new cH),this.params){const c=this.params.toString();if(0===c.length)this.urlWithParams=t;else{const f=t.indexOf("?");this.urlWithParams=t+(-1===f?"?":f<t.length-1?"&":"")+c}}else this.params=new _f,this.urlWithParams=t}serializeBody(){return null===this.body?null:e1(this.body)||t1(this.body)||n1(this.body)||function dH(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof _f?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||n1(this.body)?null:t1(this.body)?this.body.type||null:e1(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof _f?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,i=e.url||this.url,r=e.responseType||this.responseType,a=void 0!==e.body?e.body:this.body,c=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,f=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let _=e.headers||this.headers,b=e.params||this.params;const I=e.context??this.context;return void 0!==e.setHeaders&&(_=Object.keys(e.setHeaders).reduce((x,L)=>x.set(L,e.setHeaders[L]),_)),e.setParams&&(b=Object.keys(e.setParams).reduce((x,L)=>x.set(L,e.setParams[L]),b)),new $0(t,i,a,{params:b,headers:_,context:I,reportProgress:f,responseType:r,withCredentials:c})}}var Hr=(()=>((Hr=Hr||{})[Hr.Sent=0]="Sent",Hr[Hr.UploadProgress=1]="UploadProgress",Hr[Hr.ResponseHeader=2]="ResponseHeader",Hr[Hr.DownloadProgress=3]="DownloadProgress",Hr[Hr.Response=4]="Response",Hr[Hr.User=5]="User",Hr))();class mA extends class hH{constructor(e,t=200,i="OK"){this.headers=e.headers||new gf,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}{constructor(e={}){super(e),this.type=Hr.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new mA({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}function gA(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let s1=(()=>{class n{constructor(t){this.handler=t}request(t,i,r={}){let a;if(t instanceof $0)a=t;else{let _,b;_=r.headers instanceof gf?r.headers:new gf(r.headers),r.params&&(b=r.params instanceof _f?r.params:new _f({fromObject:r.params})),a=new $0(t,i,void 0!==r.body?r.body:null,{headers:_,context:r.context,params:b,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const c=nt(a).pipe(vc(_=>this.handler.handle(_)));if(t instanceof $0||"events"===r.observe)return c;const f=c.pipe(En(_=>_ instanceof mA));switch(r.observe||"body"){case"body":switch(a.responseType){case"arraybuffer":return f.pipe((0,it.U)(_=>{if(null!==_.body&&!(_.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return _.body}));case"blob":return f.pipe((0,it.U)(_=>{if(null!==_.body&&!(_.body instanceof Blob))throw new Error("Response is not a Blob.");return _.body}));case"text":return f.pipe((0,it.U)(_=>{if(null!==_.body&&"string"!=typeof _.body)throw new Error("Response is not a string.");return _.body}));default:return f.pipe((0,it.U)(_=>_.body))}case"response":return f;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(t,i={}){return this.request("DELETE",t,i)}get(t,i={}){return this.request("GET",t,i)}head(t,i={}){return this.request("HEAD",t,i)}jsonp(t,i){return this.request("JSONP",t,{params:(new _f).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,i={}){return this.request("OPTIONS",t,i)}patch(t,i,r={}){return this.request("PATCH",t,gA(r,i))}post(t,i,r={}){return this.request("POST",t,gA(r,i))}put(t,i,r={}){return this.request("PUT",t,gA(r,i))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(rH))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const pH=["*"];let XI;function G0(n){return function mH(){if(void 0===XI&&(XI=null,typeof window<"u")){const n=window;void 0!==n.trustedTypes&&(XI=n.trustedTypes.createPolicy("angular#components",{createHTML:e=>e}))}return XI}()?.createHTML(n)||n}function o1(n){return Error(`Unable to find icon with the name "${n}"`)}function a1(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function l1(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class Pm{constructor(e,t,i){this.url=e,this.svgText=t,this.options=i}}let JI=(()=>{class n{constructor(t,i,r,a){this._httpClient=t,this._sanitizer=i,this._errorHandler=a,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=r}addSvgIcon(t,i,r){return this.addSvgIconInNamespace("",t,i,r)}addSvgIconLiteral(t,i,r){return this.addSvgIconLiteralInNamespace("",t,i,r)}addSvgIconInNamespace(t,i,r,a){return this._addSvgIconConfig(t,i,new Pm(r,null,a))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,i,r,a){const c=this._sanitizer.sanitize(u.q3G.HTML,r);if(!c)throw l1(r);const f=G0(c);return this._addSvgIconConfig(t,i,new Pm("",f,a))}addSvgIconSet(t,i){return this.addSvgIconSetInNamespace("",t,i)}addSvgIconSetLiteral(t,i){return this.addSvgIconSetLiteralInNamespace("",t,i)}addSvgIconSetInNamespace(t,i,r){return this._addSvgIconSetConfig(t,new Pm(i,null,r))}addSvgIconSetLiteralInNamespace(t,i,r){const a=this._sanitizer.sanitize(u.q3G.HTML,i);if(!a)throw l1(i);const c=G0(a);return this._addSvgIconSetConfig(t,new Pm("",c,r))}registerFontClassAlias(t,i=t){return this._fontCssClassesByAlias.set(t,i),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(...t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const i=this._sanitizer.sanitize(u.q3G.RESOURCE_URL,t);if(!i)throw a1(t);const r=this._cachedIconsByUrl.get(i);return r?nt(eD(r)):this._loadSvgIconFromConfig(new Pm(t,null)).pipe((0,Ei.b)(a=>this._cachedIconsByUrl.set(i,a)),(0,it.U)(a=>eD(a)))}getNamedSvgIcon(t,i=""){const r=c1(i,t);let a=this._svgIconConfigs.get(r);if(a)return this._getSvgFromConfig(a);if(a=this._getIconConfigFromResolvers(i,t),a)return this._svgIconConfigs.set(r,a),this._getSvgFromConfig(a);const c=this._iconSetConfigs.get(i);return c?this._getSvgFromIconSetConfigs(t,c):lh(o1(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?nt(eD(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe((0,it.U)(i=>eD(i)))}_getSvgFromIconSetConfigs(t,i){const r=this._extractIconWithNameFromAnySet(t,i);return r?nt(r):ua(i.filter(c=>!c.svgText).map(c=>this._loadSvgIconSetFromConfig(c).pipe(_a(f=>{const b=`Loading icon set URL: ${this._sanitizer.sanitize(u.q3G.RESOURCE_URL,c.url)} failed: ${f.message}`;return this._errorHandler.handleError(new Error(b)),nt(null)})))).pipe((0,it.U)(()=>{const c=this._extractIconWithNameFromAnySet(t,i);if(!c)throw o1(t);return c}))}_extractIconWithNameFromAnySet(t,i){for(let r=i.length-1;r>=0;r--){const a=i[r];if(a.svgText&&a.svgText.toString().indexOf(t)>-1){const c=this._svgElementFromConfig(a),f=this._extractSvgIconFromSet(c,t,a.options);if(f)return f}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe((0,Ei.b)(i=>t.svgText=i),(0,it.U)(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?nt(null):this._fetchIcon(t).pipe((0,Ei.b)(i=>t.svgText=i))}_extractSvgIconFromSet(t,i,r){const a=t.querySelector(`[id="${i}"]`);if(!a)return null;const c=a.cloneNode(!0);if(c.removeAttribute("id"),"svg"===c.nodeName.toLowerCase())return this._setSvgAttributes(c,r);if("symbol"===c.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(c),r);const f=this._svgElementFromString(G0("<svg></svg>"));return f.appendChild(c),this._setSvgAttributes(f,r)}_svgElementFromString(t){const i=this._document.createElement("DIV");i.innerHTML=t;const r=i.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(t){const i=this._svgElementFromString(G0("<svg></svg>")),r=t.attributes;for(let a=0;a<r.length;a++){const{name:c,value:f}=r[a];"id"!==c&&i.setAttribute(c,f)}for(let a=0;a<t.childNodes.length;a++)t.childNodes[a].nodeType===this._document.ELEMENT_NODE&&i.appendChild(t.childNodes[a].cloneNode(!0));return i}_setSvgAttributes(t,i){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),i&&i.viewBox&&t.setAttribute("viewBox",i.viewBox),t}_fetchIcon(t){const{url:i,options:r}=t,a=r?.withCredentials??!1;if(!this._httpClient)throw function gH(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==i)throw Error(`Cannot fetch icon from URL "${i}".`);const c=this._sanitizer.sanitize(u.q3G.RESOURCE_URL,i);if(!c)throw a1(i);const f=this._inProgressUrlFetches.get(c);if(f)return f;const _=this._httpClient.get(c,{responseType:"text",withCredentials:a}).pipe((0,it.U)(b=>G0(b)),wg(()=>this._inProgressUrlFetches.delete(c)),(0,_O.B)());return this._inProgressUrlFetches.set(c,_),_}_addSvgIconConfig(t,i,r){return this._svgIconConfigs.set(c1(t,i),r),this}_addSvgIconSetConfig(t,i){const r=this._iconSetConfigs.get(t);return r?r.push(i):this._iconSetConfigs.set(t,[i]),this}_svgElementFromConfig(t){if(!t.svgElement){const i=this._svgElementFromString(t.svgText);this._setSvgAttributes(i,t.options),t.svgElement=i}return t.svgElement}_getIconConfigFromResolvers(t,i){for(let r=0;r<this._resolvers.length;r++){const a=this._resolvers[r](i,t);if(a)return yH(a)?new Pm(a.url,null,a.options):new Pm(a,null)}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(s1,8),u.LFG(Do),u.LFG(re,8),u.LFG(u.qLn))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function eD(n){return n.cloneNode(!0)}function c1(n,e){return n+":"+e}function yH(n){return!(!n.url||!n.options)}const vH=iA(class{constructor(n){this._elementRef=n}}),bH=new u.OlP("MAT_ICON_DEFAULT_OPTIONS"),wH=new u.OlP("mat-icon-location",{providedIn:"root",factory:function CH(){const n=(0,u.f3M)(re),e=n?n.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),u1=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],EH=u1.map(n=>`[${n}]`).join(", "),IH=/^url\(['"]?#(.*?)['"]?\)$/;let DH=(()=>{class n extends vH{constructor(t,i,r,a,c,f){super(t),this._iconRegistry=i,this._location=a,this._errorHandler=c,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=fl.w0.EMPTY,f&&(f.color&&(this.color=this.defaultColor=f.color),f.fontSet&&(this.fontSet=f.fontSet)),r||t.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(t){this._inline=$o(t)}get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}get fontSet(){return this._fontSet}set fontSet(t){const i=this._cleanupFontValue(t);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(t){const i=this._cleanupFontValue(t);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}_splitIconName(t){if(!t)return["",""];const i=t.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&t.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let i=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const r=t.childNodes[i];(1!==r.nodeType||"svg"===r.nodeName.toLowerCase())&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,i=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(r=>r.length>0);this._previousFontSetClass.forEach(r=>t.classList.remove(r)),i.forEach(r=>t.classList.add(r)),this._previousFontSetClass=i,this.fontIcon!==this._previousFontIconClass&&!i.includes("mat-ligature-font")&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const i=this._elementsWithExternalReferences;i&&i.forEach((r,a)=>{r.forEach(c=>{a.setAttribute(c.name,`url('${t}#${c.value}')`)})})}_cacheChildrenWithExternalReferences(t){const i=t.querySelectorAll(EH),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let a=0;a<i.length;a++)u1.forEach(c=>{const f=i[a],_=f.getAttribute(c),b=_?_.match(IH):null;if(b){let I=r.get(f);I||(I=[],r.set(f,I)),I.push({name:c,value:b[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){const[i,r]=this._splitIconName(t);i&&(this._svgNamespace=i),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,i).pipe(to(1)).subscribe(a=>this._setSvgElement(a),a=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${r}! ${a.message}`))})}}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(JI),u.$8M("aria-hidden"),u.Y36(wH),u.Y36(u.qLn),u.Y36(bH,8))},n.\u0275cmp=u.Xpm({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(t,i){2&t&&(u.uIk("data-mat-icon-type",i._usingFontIcon()?"font":"svg")("data-mat-icon-name",i._svgName||i.fontIcon)("data-mat-icon-namespace",i._svgNamespace||i.fontSet),u.ekj("mat-icon-inline",i.inline)("mat-icon-no-color","primary"!==i.color&&"accent"!==i.color&&"warn"!==i.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[u.qOj],ngContentSelectors:pH,decls:1,vars:0,template:function(t,i){1&t&&(u.F$t(),u.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0}),n})(),TH=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[Oi,Oi]}),n})();const SH=["*",[["mat-toolbar-row"]]],xH=["*","mat-toolbar-row"],MH=iA(class{constructor(n){this._elementRef=n}});let AH=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),n})(),d1=(()=>{class n extends MH{constructor(t,i,r){super(t),this._platform=i,this._document=r}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(Ho),u.Y36(re))},n.\u0275cmp=u.Xpm({type:n,selectors:[["mat-toolbar"]],contentQueries:function(t,i,r){if(1&t&&u.Suo(r,AH,5),2&t){let a;u.iGM(a=u.CRH())&&(i._toolbarRows=a)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(t,i){2&t&&u.ekj("mat-toolbar-multiple-rows",i._toolbarRows.length>0)("mat-toolbar-single-row",0===i._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[u.qOj],ngContentSelectors:xH,decls:2,vars:0,template:function(t,i){1&t&&(u.F$t(SH),u.Hsn(0),u.Hsn(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}"],encapsulation:2,changeDetection:0}),n})(),kH=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[Oi,Oi]}),n})(),RH=(()=>{class n{constructor(t,i,r){this.auth=t,this.firestore=i,this.router=r,this.title="Transfer Pricing Digital"}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(HI),u.Y36($I),u.Y36(yi))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-header"]],decls:33,vars:2,consts:[[1,"d-block","d-md-none"],["mat-icon-button","",3,"click"],[1,"example-spacer"],[1,"d-none","d-md-block"],["mat-button","","routerLink","/home","routerLinkActive","active-link","aria-label","Home"],["mat-button","","routerLink","/workflow","routerLinkActive","active-link","aria-label","Services"],["mat-button","","routerLink","/contact-us","routerLinkActive","active-link","aria-label","Contact"],["mat-button","","routerLink","/faq","routerLinkActive","active-link","aria-label","Faq"],[1,"example-container",3,"hasBackdrop"],["mode","over"],["drawer",""],[2,"margin-left","10px"]],template:function(t,i){if(1&t){const r=u.EpF();u.TgZ(0,"mat-toolbar")(1,"div",0)(2,"button",1),u.NdJ("click",function(){u.CHM(r);const c=u.MAs(19);return u.KtG(c.toggle())}),u.TgZ(3,"mat-icon"),u._uU(4,"menu"),u.qZA()()(),u.TgZ(5,"span"),u._uU(6),u.qZA(),u._UZ(7,"span",2),u.TgZ(8,"div",3)(9,"button",4),u._uU(10,"Home"),u.qZA(),u.TgZ(11,"button",5),u._uU(12,"Our Workflow"),u.qZA(),u.TgZ(13,"button",6),u._uU(14,"Contact Us"),u.qZA(),u.TgZ(15,"button",7),u._uU(16,"FAQ"),u.qZA()()(),u.TgZ(17,"mat-drawer-container",8)(18,"mat-drawer",9,10)(20,"div",11)(21,"button",4),u._uU(22,"Home"),u.qZA(),u._UZ(23,"br"),u.TgZ(24,"button",5),u._uU(25,"Our Workflow"),u.qZA(),u._UZ(26,"br"),u.TgZ(27,"button",6),u._uU(28,"Contact Us"),u.qZA(),u._UZ(29,"br"),u.TgZ(30,"button",7),u._uU(31,"FAQ"),u.qZA()()(),u._UZ(32,"router-outlet"),u.qZA()}2&t&&(u.xp6(6),u.Oqu(i.title),u.xp6(11),u.Q6J("hasBackdrop",!0))},dependencies:[up,Ku,CT,QP,XP,DH,d1,RP],styles:[".example-spacer[_ngcontent-%COMP%]{flex:1 1 auto}.mat-drawer-container[_ngcontent-%COMP%]{height:-webkit-fill-available}.mat-drawer[_ngcontent-%COMP%]{min-width:30%}.mat-toolbar[_ngcontent-%COMP%]{box-shadow:0 3px 5px -1px #0003,0 6px 10px #00000024,0 1px 18px #0000001f}button[_ngcontent-%COMP%]{border-bottom:2px solid transparent;border-radius:0}button.active-link[_ngcontent-%COMP%]{border-bottom:2px solid gold}router-outlet[_ngcontent-%COMP%]{margin-top:10px}"]}),n})(),OH=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-footer"]],decls:5,vars:0,consts:[[1,"example-spacer"]],template:function(t,i){1&t&&(u.TgZ(0,"mat-toolbar"),u._UZ(1,"span",0),u.TgZ(2,"span"),u._uU(3,"\xa9 Singularity Software Solutions || Powered by Digital Accounting"),u.qZA(),u._UZ(4,"span",0),u.qZA())},dependencies:[d1],styles:["mat-toolbar[_ngcontent-%COMP%]{position:absolute;bottom:0;font-size:15px;height:30px}.example-spacer[_ngcontent-%COMP%]{flex:1 1 auto}"]}),n})(),PH=(()=>{class n{constructor(){this.title="webedu"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-root"]],decls:3,vars:0,template:function(t,i){1&t&&u._UZ(0,"app-header")(1,"router-outlet")(2,"app-footer")},dependencies:[up,RH,OH]}),n})();const h1_firebase={apiKey:"AIzaSyAwu8fVmyT0BOnu7-sEDuI3UY7_jdIptKk",authDomain:"eathealthy.firebaseapp.com",databaseURL:"https://eathealthy.firebaseio.com",projectId:"eathealthy",storageBucket:"eathealthy.appspot.com",messagingSenderId:"445163625376",appId:"1:445163625376:web:6f27fcfab90c01b90ae2c5"};function f1(n){return new u.vHH(3e3,!1)}function mj(){return typeof window<"u"&&typeof window.document<"u"}function _A(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function yf(n){switch(n.length){case 0:return new N0;case 1:return n[0];default:return new sP(n)}}function p1(n,e,t,i,r=new Map,a=new Map){const c=[],f=[];let _=-1,b=null;if(i.forEach(I=>{const x=I.get("offset"),L=x==_,B=L&&b||new Map;I.forEach((H,ee)=>{let ve=ee,Ge=H;if("offset"!==ee)switch(ve=e.normalizePropertyName(ve,c),Ge){case"!":Ge=r.get(ee);break;case Cd:Ge=a.get(ee);break;default:Ge=e.normalizeStyleValue(ee,ve,Ge,c)}B.set(ve,Ge)}),L||f.push(B),b=B,_=x}),c.length)throw function ij(n){return new u.vHH(3502,!1)}();return f}function yA(n,e,t,i){switch(e){case"start":n.onStart(()=>i(t&&vA(t,"start",n)));break;case"done":n.onDone(()=>i(t&&vA(t,"done",n)));break;case"destroy":n.onDestroy(()=>i(t&&vA(t,"destroy",n)))}}function vA(n,e,t){const a=bA(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),c=n._data;return null!=c&&(a._data=c),a}function bA(n,e,t,i,r="",a=0,c){return{element:n,triggerName:e,fromState:t,toState:i,phaseName:r,totalTime:a,disabled:!!c}}function Go(n,e,t){let i=n.get(e);return i||n.set(e,i=t),i}function m1(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}let wA=(n,e)=>!1,g1=(n,e,t)=>[],_1=null;function CA(n){const e=n.parentNode||n.host;return e===_1?null:e}(_A()||typeof Element<"u")&&(mj()?(_1=(()=>document.documentElement)(),wA=(n,e)=>{for(;e;){if(e===n)return!0;e=CA(e)}return!1}):wA=(n,e)=>n.contains(e),g1=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const i=n.querySelector(e);return i?[i]:[]});let Nm=null,y1=!1;const v1=wA,b1=g1;let w1=(()=>{class n{validateStyleProperty(t){return function _j(n){Nm||(Nm=function yj(){return typeof document<"u"?document.body:null}()||{},y1=!!Nm.style&&"WebkitAppearance"in Nm.style);let e=!0;return Nm.style&&!function gj(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in Nm.style,!e&&y1&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Nm.style)),e}(t)}matchesElement(t,i){return!1}containsElement(t,i){return v1(t,i)}getParentElement(t){return CA(t)}query(t,i,r){return b1(t,i,r)}computeStyle(t,i,r){return r||""}animate(t,i,r,a,c,f=[],_){return new N0(r,a)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),EA=(()=>{class n{}return n.NOOP=new w1,n})();const IA="ng-enter",tD="ng-leave",nD="ng-trigger",iD=".ng-trigger",E1="ng-animating",DA=".ng-animating";function vf(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:TA(parseFloat(e[1]),e[2])}function TA(n,e){return"s"===e?1e3*n:n}function rD(n,e,t){return n.hasOwnProperty("duration")?n:function wj(n,e,t){let r,a=0,c="";if("string"==typeof n){const f=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===f)return e.push(f1()),{duration:0,delay:0,easing:""};r=TA(parseFloat(f[1]),f[2]);const _=f[3];null!=_&&(a=TA(parseFloat(_),f[4]));const b=f[5];b&&(c=b)}else r=n;if(!t){let f=!1,_=e.length;r<0&&(e.push(function NH(){return new u.vHH(3100,!1)}()),f=!0),a<0&&(e.push(function FH(){return new u.vHH(3101,!1)}()),f=!0),f&&e.splice(_,0,f1())}return{duration:r,delay:a,easing:c}}(n,e,t)}function z0(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function I1(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function bf(n,e=new Map,t){if(t)for(let[i,r]of t)e.set(i,r);for(let[i,r]of n)e.set(i,r);return e}function T1(n,e,t){return t?e+":"+t+";":""}function S1(n){let e="";for(let t=0;t<n.style.length;t++){const i=n.style.item(t);e+=T1(0,i,n.style.getPropertyValue(i))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=T1(0,Dj(t),n.style[t]));n.setAttribute("style",e)}function Zc(n,e,t){n.style&&(e.forEach((i,r)=>{const a=xA(r);t&&!t.has(r)&&t.set(r,n.style[a]),n.style[a]=i}),_A()&&S1(n))}function Fm(n,e){n.style&&(e.forEach((t,i)=>{const r=xA(i);n.style[r]=""}),_A()&&S1(n))}function q0(n){return Array.isArray(n)?1==n.length?n[0]:iP(n):n}const SA=new RegExp("{{\\s*(.+?)\\s*}}","g");function x1(n){let e=[];if("string"==typeof n){let t;for(;t=SA.exec(n);)e.push(t[1]);SA.lastIndex=0}return e}function sD(n,e,t){const i=n.toString(),r=i.replace(SA,(a,c)=>{let f=e[c];return null==f&&(t.push(function VH(n){return new u.vHH(3003,!1)}()),f=""),f.toString()});return r==i?n:r}function oD(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const Ij=/-+([a-z0-9])/g;function xA(n){return n.replace(Ij,(...e)=>e[1].toUpperCase())}function Dj(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function zo(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function BH(n){return new u.vHH(3004,!1)}()}}function M1(n,e){return window.getComputedStyle(n)[e]}function kj(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function Rj(n,e,t){if(":"==n[0]){const _=function Oj(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,i)=>parseFloat(i)>parseFloat(t);case":decrement":return(t,i)=>parseFloat(i)<parseFloat(t);default:return e.push(function JH(n){return new u.vHH(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof _)return void e.push(_);n=_}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return t.push(function XH(n){return new u.vHH(3015,!1)}()),e;const r=i[1],a=i[2],c=i[3];e.push(A1(r,c));"<"==a[0]&&!("*"==r&&"*"==c)&&e.push(A1(c,r))}(i,t,e)):t.push(n),t}const uD=new Set(["true","1"]),dD=new Set(["false","0"]);function A1(n,e){const t=uD.has(n)||dD.has(n),i=uD.has(e)||dD.has(e);return(r,a)=>{let c="*"==n||n==r,f="*"==e||e==a;return!c&&t&&"boolean"==typeof r&&(c=r?uD.has(n):dD.has(n)),!f&&i&&"boolean"==typeof a&&(f=a?uD.has(e):dD.has(e)),c&&f}}const Pj=new RegExp("s*:selfs*,?","g");function MA(n,e,t,i){return new Nj(n).build(e,t,i)}class Nj{constructor(e){this._driver=e}build(e,t,i){const r=new Vj(t);return this._resetContextStyleTimingState(r),zo(this,q0(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let i=t.queryCount=0,r=t.depCount=0;const a=[],c=[];return"@"==e.name.charAt(0)&&t.errors.push(function HH(){return new u.vHH(3006,!1)}()),e.definitions.forEach(f=>{if(this._resetContextStyleTimingState(t),0==f.type){const _=f,b=_.name;b.toString().split(/\s*,\s*/).forEach(I=>{_.name=I,a.push(this.visitState(_,t))}),_.name=b}else if(1==f.type){const _=this.visitTransition(f,t);i+=_.queryCount,r+=_.depCount,c.push(_)}else t.errors.push(function jH(){return new u.vHH(3007,!1)}())}),{type:7,name:e.name,states:a,transitions:c,queryCount:i,depCount:r,options:null}}visitState(e,t){const i=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(i.containsDynamicStyles){const a=new Set,c=r||{};i.styles.forEach(f=>{f instanceof Map&&f.forEach(_=>{x1(_).forEach(b=>{c.hasOwnProperty(b)||a.add(b)})})}),a.size&&(oD(a.values()),t.errors.push(function $H(n,e){return new u.vHH(3008,!1)}()))}return{type:0,name:e.name,style:i,options:r?{params:r}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const i=zo(this,q0(e.animation),t);return{type:1,matchers:kj(e.expr,t.errors),animation:i,queryCount:t.queryCount,depCount:t.depCount,options:Lm(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(i=>zo(this,i,t)),options:Lm(e.options)}}visitGroup(e,t){const i=t.currentTime;let r=0;const a=e.steps.map(c=>{t.currentTime=i;const f=zo(this,c,t);return r=Math.max(r,t.currentTime),f});return t.currentTime=r,{type:3,steps:a,options:Lm(e.options)}}visitAnimate(e,t){const i=function Uj(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return AA(rD(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(a=>"{"==a.charAt(0)&&"{"==a.charAt(1))){const a=AA(0,0,"");return a.dynamic=!0,a.strValue=t,a}const r=rD(t,e);return AA(r.duration,r.delay,r.easing)}(e.timings,t.errors);t.currentAnimateTimings=i;let r,a=e.styles?e.styles:xi({});if(5==a.type)r=this.visitKeyframes(a,t);else{let c=e.styles,f=!1;if(!c){f=!0;const b={};i.easing&&(b.easing=i.easing),c=xi(b)}t.currentTime+=i.duration+i.delay;const _=this.visitStyle(c,t);_.isEmptyStep=f,r=_}return t.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(e,t){const i=this._makeStyleAst(e,t);return this._validateStyleAst(i,t),i}_makeStyleAst(e,t){const i=[],r=Array.isArray(e.styles)?e.styles:[e.styles];for(let f of r)"string"==typeof f?f===Cd?i.push(f):t.errors.push(new u.vHH(3002,!1)):i.push(I1(f));let a=!1,c=null;return i.forEach(f=>{if(f instanceof Map&&(f.has("easing")&&(c=f.get("easing"),f.delete("easing")),!a))for(let _ of f.values())if(_.toString().indexOf("{{")>=0){a=!0;break}}),{type:6,styles:i,easing:c,offset:e.offset,containsDynamicStyles:a,options:null}}_validateStyleAst(e,t){const i=t.currentAnimateTimings;let r=t.currentTime,a=t.currentTime;i&&a>0&&(a-=i.duration+i.delay),e.styles.forEach(c=>{"string"!=typeof c&&c.forEach((f,_)=>{const b=t.collectedStyles.get(t.currentQuerySelector),I=b.get(_);let x=!0;I&&(a!=r&&a>=I.startTime&&r<=I.endTime&&(t.errors.push(function zH(n,e,t,i,r){return new u.vHH(3010,!1)}()),x=!1),a=I.startTime),x&&b.set(_,{startTime:a,endTime:r}),t.options&&function Ej(n,e,t){const i=e.params||{},r=x1(n);r.length&&r.forEach(a=>{i.hasOwnProperty(a)||t.push(function LH(n){return new u.vHH(3001,!1)}())})}(f,t.options,t.errors)})})}visitKeyframes(e,t){const i={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function qH(){return new u.vHH(3011,!1)}()),i;let a=0;const c=[];let f=!1,_=!1,b=0;const I=e.steps.map(Ge=>{const et=this._makeStyleAst(Ge,t);let yt=null!=et.offset?et.offset:function Bj(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const i=t;e=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(et.styles),ot=0;return null!=yt&&(a++,ot=et.offset=yt),_=_||ot<0||ot>1,f=f||ot<b,b=ot,c.push(ot),et});_&&t.errors.push(function WH(){return new u.vHH(3012,!1)}()),f&&t.errors.push(function ZH(){return new u.vHH(3200,!1)}());const x=e.steps.length;let L=0;a>0&&a<x?t.errors.push(function KH(){return new u.vHH(3202,!1)}()):0==a&&(L=1/(x-1));const B=x-1,H=t.currentTime,ee=t.currentAnimateTimings,ve=ee.duration;return I.forEach((Ge,et)=>{const yt=L>0?et==B?1:L*et:c[et],ot=yt*ve;t.currentTime=H+ee.delay+ot,ee.duration=ot,this._validateStyleAst(Ge,t),Ge.offset=yt,i.styles.push(Ge)}),i}visitReference(e,t){return{type:8,animation:zo(this,q0(e.animation),t),options:Lm(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:Lm(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:Lm(e.options)}}visitQuery(e,t){const i=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;const[a,c]=function Fj(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(Pj,"")),n=n.replace(/@\*/g,iD).replace(/@\w+/g,t=>iD+"-"+t.slice(1)).replace(/:animating/g,DA),[n,e]}(e.selector);t.currentQuerySelector=i.length?i+" "+a:a,Go(t.collectedStyles,t.currentQuerySelector,new Map);const f=zo(this,q0(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:11,selector:a,limit:r.limit||0,optional:!!r.optional,includeSelf:c,animation:f,originalSelector:e.selector,options:Lm(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function YH(){return new u.vHH(3013,!1)}());const i="full"===e.timings?{duration:0,delay:0,easing:"full"}:rD(e.timings,t.errors,!0);return{type:12,animation:zo(this,q0(e.animation),t),timings:i,options:null}}}class Vj{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Lm(n){return n?(n=z0(n)).params&&(n.params=function Lj(n){return n?z0(n):null}(n.params)):n={},n}function AA(n,e,t){return{duration:n,delay:e,easing:t}}function kA(n,e,t,i,r,a,c=null,f=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:i,duration:r,delay:a,totalTime:r+a,easing:c,subTimeline:f}}class hD{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const $j=new RegExp(":enter","g"),zj=new RegExp(":leave","g");function RA(n,e,t,i,r,a=new Map,c=new Map,f,_,b=[]){return(new qj).buildKeyframes(n,e,t,i,r,a,c,f,_,b)}class qj{buildKeyframes(e,t,i,r,a,c,f,_,b,I=[]){b=b||new hD;const x=new OA(e,t,b,r,a,I,[]);x.options=_;const L=_.delay?vf(_.delay):0;x.currentTimeline.delayNextStep(L),x.currentTimeline.setStyles([c],null,x.errors,_),zo(this,i,x);const B=x.timelines.filter(H=>H.containsAnimation());if(B.length&&f.size){let H;for(let ee=B.length-1;ee>=0;ee--){const ve=B[ee];if(ve.element===t){H=ve;break}}H&&!H.allowOnlyTimelineStyles()&&H.setStyles([f],null,x.errors,_)}return B.length?B.map(H=>H.buildKeyframes()):[kA(t,[],[],[],0,L,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const i=t.subInstructions.get(t.element);if(i){const r=t.createSubContext(e.options),a=t.currentTimeline.currentTime,c=this._visitSubInstructions(i,r,r.options);a!=c&&t.transformIntoNewTimeline(c)}t.previousNode=e}visitAnimateRef(e,t){const i=t.createSubContext(e.options);i.transformIntoNewTimeline(),this.visitReference(e.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,i){let a=t.currentTimeline.currentTime;const c=null!=i.duration?vf(i.duration):null,f=null!=i.delay?vf(i.delay):null;return 0!==c&&e.forEach(_=>{const b=t.appendInstructionToTimeline(_,c,f);a=Math.max(a,b.duration+b.delay)}),a}visitReference(e,t){t.updateOptions(e.options,!0),zo(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const i=t.subContextCount;let r=t;const a=e.options;if(a&&(a.params||a.delay)&&(r=t.createSubContext(a),r.transformIntoNewTimeline(),null!=a.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=fD);const c=vf(a.delay);r.delayNextStep(c)}e.steps.length&&(e.steps.forEach(c=>zo(this,c,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const i=[];let r=t.currentTimeline.currentTime;const a=e.options&&e.options.delay?vf(e.options.delay):0;e.steps.forEach(c=>{const f=t.createSubContext(e.options);a&&f.delayNextStep(a),zo(this,c,f),r=Math.max(r,f.currentTimeline.currentTime),i.push(f.currentTimeline)}),i.forEach(c=>t.currentTimeline.mergeTimelineCollectedStyles(c)),t.transformIntoNewTimeline(r),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const i=e.strValue;return rD(t.params?sD(i,t.params,t.errors):i,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const i=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),r.snapshotCurrentStyles());const a=e.style;5==a.type?this.visitKeyframes(a,t):(t.incrementTime(i.duration),this.visitStyle(a,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const i=t.currentTimeline,r=t.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const a=r&&r.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(a):i.setStyles(e.styles,a,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const i=t.currentAnimateTimings,r=t.currentTimeline.duration,a=i.duration,f=t.createSubContext().currentTimeline;f.easing=i.easing,e.styles.forEach(_=>{f.forwardTime((_.offset||0)*a),f.setStyles(_.styles,_.easing,t.errors,t.options),f.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(f),t.transformIntoNewTimeline(r+a),t.previousNode=e}visitQuery(e,t){const i=t.currentTimeline.currentTime,r=e.options||{},a=r.delay?vf(r.delay):0;a&&(6===t.previousNode.type||0==i&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=fD);let c=i;const f=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=f.length;let _=null;f.forEach((b,I)=>{t.currentQueryIndex=I;const x=t.createSubContext(e.options,b);a&&x.delayNextStep(a),b===t.element&&(_=x.currentTimeline),zo(this,e.animation,x),x.currentTimeline.applyStylesToKeyframe(),c=Math.max(c,x.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(c),_&&(t.currentTimeline.mergeTimelineCollectedStyles(_),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const i=t.parentContext,r=t.currentTimeline,a=e.timings,c=Math.abs(a.duration),f=c*(t.currentQueryTotal-1);let _=c*t.currentQueryIndex;switch(a.duration<0?"reverse":a.easing){case"reverse":_=f-_;break;case"full":_=i.currentStaggerTime}const I=t.currentTimeline;_&&I.delayNextStep(_);const x=I.currentTime;zo(this,e.animation,t),t.previousNode=e,i.currentStaggerTime=r.currentTime-x+(r.startTime-i.currentTimeline.startTime)}}const fD={};class OA{constructor(e,t,i,r,a,c,f,_){this._driver=e,this.element=t,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=a,this.errors=c,this.timelines=f,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=fD,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=_||new pD(this._driver,t,0),f.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const i=e;let r=this.options;null!=i.duration&&(r.duration=vf(i.duration)),null!=i.delay&&(r.delay=vf(i.delay));const a=i.params;if(a){let c=r.params;c||(c=this.options.params={}),Object.keys(a).forEach(f=>{(!t||!c.hasOwnProperty(f))&&(c[f]=sD(a[f],c,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const i=e.params={};Object.keys(t).forEach(r=>{i[r]=t[r]})}}return e}createSubContext(e=null,t,i){const r=t||this.element,a=new OA(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return a.previousNode=this.previousNode,a.currentAnimateTimings=this.currentAnimateTimings,a.options=this._copyOptions(),a.updateOptions(e),a.currentQueryIndex=this.currentQueryIndex,a.currentQueryTotal=this.currentQueryTotal,a.parentContext=this,this.subContextCount++,a}transformIntoNewTimeline(e){return this.previousNode=fD,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,i){const r={duration:t??e.duration,delay:this.currentTimeline.currentTime+(i??0)+e.delay,easing:""},a=new Wj(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(a),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,i,r,a,c){let f=[];if(r&&f.push(this.element),e.length>0){e=(e=e.replace($j,"."+this._enterClassName)).replace(zj,"."+this._leaveClassName);let b=this._driver.query(this.element,e,1!=i);0!==i&&(b=i<0?b.slice(b.length+i,b.length):b.slice(0,i)),f.push(...b)}return!a&&0==f.length&&c.push(function QH(n){return new u.vHH(3014,!1)}()),f}}class pD{constructor(e,t,i,r){this._driver=e,this.element=t,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new pD(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,i]of this._globalTimelineStyles)this._backFill.set(t,i||Cd),this._currentKeyframe.set(t,Cd);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,i,r){t&&this._previousKeyframe.set("easing",t);const a=r&&r.params||{},c=function Zj(n,e){const t=new Map;let i;return n.forEach(r=>{if("*"===r){i=i||e.keys();for(let a of i)t.set(a,Cd)}else bf(r,t)}),t}(e,this._globalTimelineStyles);for(let[f,_]of c){const b=sD(_,a,i);this._pendingStyles.set(f,b),this._localTimelineStyles.has(f)||this._backFill.set(f,this._globalTimelineStyles.get(f)??Cd),this._updateStyle(f,b)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,i)=>{const r=this._styleSummary.get(i);(!r||t.time>r.time)&&this._updateStyle(i,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((f,_)=>{const b=bf(f,new Map,this._backFill);b.forEach((I,x)=>{"!"===I?e.add(x):I===Cd&&t.add(x)}),i||b.set("offset",_/this.duration),r.push(b)});const a=e.size?oD(e.values()):[],c=t.size?oD(t.values()):[];if(i){const f=r[0],_=new Map(f);f.set("offset",0),_.set("offset",1),r=[f,_]}return kA(this.element,r,a,c,this.duration,this.startTime,this.easing,!1)}}class Wj extends pD{constructor(e,t,i,r,a,c,f=!1){super(e,t,c.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=a,this._stretchStartingKeyframe=f,this.timings={duration:c.duration,delay:c.delay,easing:c.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&t){const a=[],c=i+t,f=t/c,_=bf(e[0]);_.set("offset",0),a.push(_);const b=bf(e[0]);b.set("offset",O1(f)),a.push(b);const I=e.length-1;for(let x=1;x<=I;x++){let L=bf(e[x]);const B=L.get("offset");L.set("offset",O1((t+B*i)/c)),a.push(L)}i=c,t=0,r="",e=a}return kA(this.element,e,this.preStyleProps,this.postStyleProps,i,t,r,!0)}}function O1(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class PA{}const Kj=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Yj extends PA{normalizePropertyName(e,t){return xA(e)}normalizeStyleValue(e,t,i,r){let a="";const c=i.toString().trim();if(Kj.has(t)&&0!==i&&"0"!==i)if("number"==typeof i)a="px";else{const f=i.match(/^[+-]?[\d\.]+([a-z]*)$/);f&&0==f[1].length&&r.push(function UH(n,e){return new u.vHH(3005,!1)}())}return c+a}}function P1(n,e,t,i,r,a,c,f,_,b,I,x,L){return{type:0,element:n,triggerName:e,isRemovalTransition:r,fromState:t,fromStyles:a,toState:i,toStyles:c,timelines:f,queriedElements:_,preStyleProps:b,postStyleProps:I,totalTime:x,errors:L}}const NA={};class N1{constructor(e,t,i){this._triggerName=e,this.ast=t,this._stateStyles=i}match(e,t,i,r){return function Qj(n,e,t,i,r){return n.some(a=>a(e,t,i,r))}(this.ast.matchers,e,t,i,r)}buildStyles(e,t,i){let r=this._stateStyles.get("*");return void 0!==e&&(r=this._stateStyles.get(e?.toString())||r),r?r.buildStyles(t,i):new Map}build(e,t,i,r,a,c,f,_,b,I){const x=[],L=this.ast.options&&this.ast.options.params||NA,H=this.buildStyles(i,f&&f.params||NA,x),ee=_&&_.params||NA,ve=this.buildStyles(r,ee,x),Ge=new Set,et=new Map,yt=new Map,ot="void"===r,Mt={params:Xj(ee,L),delay:this.ast.options?.delay},kt=I?[]:RA(e,t,this.ast.animation,a,c,H,ve,Mt,b,x);let sn=0;if(kt.forEach(Ed=>{sn=Math.max(Ed.duration+Ed.delay,sn)}),x.length)return P1(t,this._triggerName,i,r,ot,H,ve,[],[],et,yt,sn,x);kt.forEach(Ed=>{const Id=Ed.element,aN=Go(et,Id,new Set);Ed.preStyleProps.forEach(Bm=>aN.add(Bm));const Z0=Go(yt,Id,new Set);Ed.postStyleProps.forEach(Bm=>Z0.add(Bm)),Id!==t&&Ge.add(Id)});const Fs=oD(Ge.values());return P1(t,this._triggerName,i,r,ot,H,ve,kt,Fs,et,yt,sn)}}function Xj(n,e){const t=z0(e);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(t[i]=n[i]);return t}class Jj{constructor(e,t,i){this.styles=e,this.defaultParams=t,this.normalizer=i}buildStyles(e,t){const i=new Map,r=z0(this.defaultParams);return Object.keys(e).forEach(a=>{const c=e[a];null!==c&&(r[a]=c)}),this.styles.styles.forEach(a=>{"string"!=typeof a&&a.forEach((c,f)=>{c&&(c=sD(c,r,t));const _=this.normalizer.normalizePropertyName(f,t);c=this.normalizer.normalizeStyleValue(f,_,c,t),i.set(_,c)})}),i}}class t${constructor(e,t,i){this.name=e,this.ast=t,this._normalizer=i,this.transitionFactories=[],this.states=new Map,t.states.forEach(r=>{this.states.set(r.name,new Jj(r.style,r.options&&r.options.params||{},i))}),F1(this.states,"true","1"),F1(this.states,"false","0"),t.transitions.forEach(r=>{this.transitionFactories.push(new N1(e,r,this.states))}),this.fallbackTransition=function n$(n,e,t){return new N1(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(c,f)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,i,r){return this.transitionFactories.find(c=>c.match(e,t,i,r))||null}matchStyles(e,t,i){return this.fallbackTransition.buildStyles(e,t,i)}}function F1(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const i$=new hD;class r${constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const i=[],a=MA(this._driver,t,i,[]);if(i.length)throw function rj(n){return new u.vHH(3503,!1)}();this._animations.set(e,a)}_buildPlayer(e,t,i){const r=e.element,a=p1(0,this._normalizer,0,e.keyframes,t,i);return this._driver.animate(r,a,e.duration,e.delay,e.easing,[],!0)}create(e,t,i={}){const r=[],a=this._animations.get(e);let c;const f=new Map;if(a?(c=RA(this._driver,t,a,IA,tD,new Map,new Map,i,i$,r),c.forEach(I=>{const x=Go(f,I.element,new Map);I.postStyleProps.forEach(L=>x.set(L,null))})):(r.push(function sj(){return new u.vHH(3300,!1)}()),c=[]),r.length)throw function oj(n){return new u.vHH(3504,!1)}();f.forEach((I,x)=>{I.forEach((L,B)=>{I.set(B,this._driver.computeStyle(x,B,Cd))})});const b=yf(c.map(I=>{const x=f.get(I.element);return this._buildPlayer(I,new Map,x)}));return this._playersById.set(e,b),b.onDestroy(()=>this.destroy(e)),this.players.push(b),b}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function aj(n){return new u.vHH(3301,!1)}();return t}listen(e,t,i,r){const a=bA(t,"","","");return yA(this._getPlayer(e),i,a,r),()=>{}}command(e,t,i,r){if("register"==i)return void this.register(e,r[0]);if("create"==i)return void this.create(e,t,r[0]||{});const a=this._getPlayer(e);switch(i){case"play":a.play();break;case"pause":a.pause();break;case"reset":a.reset();break;case"restart":a.restart();break;case"finish":a.finish();break;case"init":a.init();break;case"setPosition":a.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e)}}}const L1="ng-animate-queued",FA="ng-animate-disabled",c$=[],V1={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},u$={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},ka="__ng_removed";class LA{constructor(e,t=""){this.namespaceId=t;const i=e&&e.hasOwnProperty("value");if(this.value=function p$(n){return n??null}(i?e.value:e),i){const a=z0(e);delete a.value,this.options=a}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const i=this.options.params;Object.keys(t).forEach(r=>{null==i[r]&&(i[r]=t[r])})}}}const W0="void",VA=new LA(W0);class d${constructor(e,t,i){this.id=e,this.hostElement=t,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Ra(t,this._hostClassName)}listen(e,t,i,r){if(!this._triggers.has(t))throw function lj(n,e){return new u.vHH(3302,!1)}();if(null==i||0==i.length)throw function cj(n){return new u.vHH(3303,!1)}();if(!function m$(n){return"start"==n||"done"==n}(i))throw function uj(n,e){return new u.vHH(3400,!1)}();const a=Go(this._elementListeners,e,[]),c={name:t,phase:i,callback:r};a.push(c);const f=Go(this._engine.statesByElement,e,new Map);return f.has(t)||(Ra(e,nD),Ra(e,nD+"-"+t),f.set(t,VA)),()=>{this._engine.afterFlush(()=>{const _=a.indexOf(c);_>=0&&a.splice(_,1),this._triggers.has(t)||f.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function dj(n){return new u.vHH(3401,!1)}();return t}trigger(e,t,i,r=!0){const a=this._getTrigger(t),c=new BA(this.id,t,e);let f=this._engine.statesByElement.get(e);f||(Ra(e,nD),Ra(e,nD+"-"+t),this._engine.statesByElement.set(e,f=new Map));let _=f.get(t);const b=new LA(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&_&&b.absorbOptions(_.options),f.set(t,b),_||(_=VA),b.value!==W0&&_.value===b.value){if(!function y$(n,e){const t=Object.keys(n),i=Object.keys(e);if(t.length!=i.length)return!1;for(let r=0;r<t.length;r++){const a=t[r];if(!e.hasOwnProperty(a)||n[a]!==e[a])return!1}return!0}(_.params,b.params)){const ee=[],ve=a.matchStyles(_.value,_.params,ee),Ge=a.matchStyles(b.value,b.params,ee);ee.length?this._engine.reportError(ee):this._engine.afterFlush(()=>{Fm(e,ve),Zc(e,Ge)})}return}const L=Go(this._engine.playersByElement,e,[]);L.forEach(ee=>{ee.namespaceId==this.id&&ee.triggerName==t&&ee.queued&&ee.destroy()});let B=a.matchTransition(_.value,b.value,e,b.params),H=!1;if(!B){if(!r)return;B=a.fallbackTransition,H=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:B,fromState:_,toState:b,player:c,isFallbackTransition:H}),H||(Ra(e,L1),c.onStart(()=>{_y(e,L1)})),c.onDone(()=>{let ee=this.players.indexOf(c);ee>=0&&this.players.splice(ee,1);const ve=this._engine.playersByElement.get(e);if(ve){let Ge=ve.indexOf(c);Ge>=0&&ve.splice(Ge,1)}}),this.players.push(c),L.push(c),c}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,i)=>{this._elementListeners.set(i,t.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const i=this._engine.driver.query(e,iD,!0);i.forEach(r=>{if(r[ka])return;const a=this._engine.fetchNamespacesByElement(r);a.size?a.forEach(c=>c.triggerLeaveAnimation(r,t,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,t,i,r){const a=this._engine.statesByElement.get(e),c=new Map;if(a){const f=[];if(a.forEach((_,b)=>{if(c.set(b,_.value),this._triggers.has(b)){const I=this.trigger(e,b,W0,r);I&&f.push(I)}}),f.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,c),i&&yf(f).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(t&&i){const r=new Set;t.forEach(a=>{const c=a.name;if(r.has(c))return;r.add(c);const _=this._triggers.get(c).fallbackTransition,b=i.get(c)||VA,I=new LA(W0),x=new BA(this.id,c,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:c,transition:_,fromState:b,toState:I,player:x,isFallbackTransition:!0})})}}removeNode(e,t){const i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let r=!1;if(i.totalAnimations){const a=i.players.length?i.playersByQueriedElement.get(e):[];if(a&&a.length)r=!0;else{let c=e;for(;c=c.parentNode;)if(i.statesByElement.get(c)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)i.markElementAsRemoved(this.id,e,!1,t);else{const a=e[ka];(!a||a===V1)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}insertNode(e,t){Ra(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const a=i.element,c=this._elementListeners.get(a);c&&c.forEach(f=>{if(f.name==i.triggerName){const _=bA(a,i.triggerName,i.fromState.value,i.toState.value);_._data=e,yA(i.player,f.phase,_,f.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):t.push(i)}),this._queue=[],t.sort((i,r)=>{const a=i.transition.ast.depCount,c=r.transition.ast.depCount;return 0==a||0==c?a-c:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(i=>i.element===e)||t,t}}class h${constructor(e,t,i){this.bodyNode=e,this.driver=t,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,a)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,t){const i=new d$(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,t){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let c=!1,f=this.driver.getParentElement(t);for(;f;){const _=r.get(f);if(_){const b=i.indexOf(_);i.splice(b+1,0,e),c=!0;break}f=this.driver.getParentElement(f)}c||i.unshift(e)}else i.push(e);return r.set(t,e),e}register(e,t){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,t)),i}registerTrigger(e,t,i){let r=this._namespaceLookup[e];r&&r.register(t,i)&&this.totalAnimations++}destroy(e,t){if(!e)return;const i=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[e];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,i=this.statesByElement.get(e);if(i)for(let r of i.values())if(r.namespaceId){const a=this._fetchNamespace(r.namespaceId);a&&t.add(a)}return t}trigger(e,t,i,r){if(mD(t)){const a=this._fetchNamespace(e);if(a)return a.trigger(t,i,r),!0}return!1}insertNode(e,t,i,r){if(!mD(t))return;const a=t[ka];if(a&&a.setForRemoval){a.setForRemoval=!1,a.setForMove=!0;const c=this.collectedLeaveElements.indexOf(t);c>=0&&this.collectedLeaveElements.splice(c,1)}if(e){const c=this._fetchNamespace(e);c&&c.insertNode(t,i)}r&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Ra(e,FA)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),_y(e,FA))}removeNode(e,t,i,r){if(mD(t)){const a=e?this._fetchNamespace(e):null;if(a?a.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r),i){const c=this.namespacesByHostElement.get(t);c&&c.id!==e&&c.removeNode(t,r)}}else this._onRemovalComplete(t,r)}markElementAsRemoved(e,t,i,r,a){this.collectedLeaveElements.push(t),t[ka]={namespaceId:e,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:a}}listen(e,t,i,r,a){return mD(t)?this._fetchNamespace(e).listen(t,i,r,a):()=>{}}_buildInstruction(e,t,i,r,a){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,r,e.fromState.options,e.toState.options,t,a)}destroyInnerAnimations(e){let t=this.driver.query(e,iD,!0);t.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,DA,!0),t.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return yf(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[ka];if(t&&t.setForRemoval){if(e[ka]=V1,t.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(t.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(FA)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)Ra(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{t=this._flushAnimations(i,e)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],t.length?yf(t).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(e){throw function hj(n){return new u.vHH(3402,!1)}()}_flushAnimations(e,t){const i=new hD,r=[],a=new Map,c=[],f=new Map,_=new Map,b=new Map,I=new Set;this.disabledNodes.forEach(dt=>{I.add(dt);const Et=this.driver.query(dt,".ng-animate-queued",!0);for(let Rt=0;Rt<Et.length;Rt++)I.add(Et[Rt])});const x=this.bodyNode,L=Array.from(this.statesByElement.keys()),B=H1(L,this.collectedEnterElements),H=new Map;let ee=0;B.forEach((dt,Et)=>{const Rt=IA+ee++;H.set(Et,Rt),dt.forEach(dn=>Ra(dn,Rt))});const ve=[],Ge=new Set,et=new Set;for(let dt=0;dt<this.collectedLeaveElements.length;dt++){const Et=this.collectedLeaveElements[dt],Rt=Et[ka];Rt&&Rt.setForRemoval&&(ve.push(Et),Ge.add(Et),Rt.hasAnimation?this.driver.query(Et,".ng-star-inserted",!0).forEach(dn=>Ge.add(dn)):et.add(Et))}const yt=new Map,ot=H1(L,Array.from(Ge));ot.forEach((dt,Et)=>{const Rt=tD+ee++;yt.set(Et,Rt),dt.forEach(dn=>Ra(dn,Rt))}),e.push(()=>{B.forEach((dt,Et)=>{const Rt=H.get(Et);dt.forEach(dn=>_y(dn,Rt))}),ot.forEach((dt,Et)=>{const Rt=yt.get(Et);dt.forEach(dn=>_y(dn,Rt))}),ve.forEach(dt=>{this.processLeaveNode(dt)})});const Mt=[],kt=[];for(let dt=this._namespaceList.length-1;dt>=0;dt--)this._namespaceList[dt].drainQueuedTransitions(t).forEach(Rt=>{const dn=Rt.player,Sr=Rt.element;if(Mt.push(dn),this.collectedEnterElements.length){const ls=Sr[ka];if(ls&&ls.setForMove){if(ls.previousTriggersValues&&ls.previousTriggersValues.has(Rt.triggerName)){const Um=ls.previousTriggersValues.get(Rt.triggerName),Oa=this.statesByElement.get(Rt.element);if(Oa&&Oa.has(Rt.triggerName)){const yD=Oa.get(Rt.triggerName);yD.value=Um,Oa.set(Rt.triggerName,yD)}}return void dn.destroy()}}const Kc=!x||!this.driver.containsElement(x,Sr),qo=yt.get(Sr),wf=H.get(Sr),bi=this._buildInstruction(Rt,i,wf,qo,Kc);if(bi.errors&&bi.errors.length)return void kt.push(bi);if(Kc)return dn.onStart(()=>Fm(Sr,bi.fromStyles)),dn.onDestroy(()=>Zc(Sr,bi.toStyles)),void r.push(dn);if(Rt.isFallbackTransition)return dn.onStart(()=>Fm(Sr,bi.fromStyles)),dn.onDestroy(()=>Zc(Sr,bi.toStyles)),void r.push(dn);const uN=[];bi.timelines.forEach(ls=>{ls.stretchStartingKeyframe=!0,this.disabledNodes.has(ls.element)||uN.push(ls)}),bi.timelines=uN,i.append(Sr,bi.timelines),c.push({instruction:bi,player:dn,element:Sr}),bi.queriedElements.forEach(ls=>Go(f,ls,[]).push(dn)),bi.preStyleProps.forEach((ls,Um)=>{if(ls.size){let Oa=_.get(Um);Oa||_.set(Um,Oa=new Set),ls.forEach((yD,GA)=>Oa.add(GA))}}),bi.postStyleProps.forEach((ls,Um)=>{let Oa=b.get(Um);Oa||b.set(Um,Oa=new Set),ls.forEach((yD,GA)=>Oa.add(GA))})});if(kt.length){const dt=[];kt.forEach(Et=>{dt.push(function fj(n,e){return new u.vHH(3505,!1)}())}),Mt.forEach(Et=>Et.destroy()),this.reportError(dt)}const sn=new Map,Fs=new Map;c.forEach(dt=>{const Et=dt.element;i.has(Et)&&(Fs.set(Et,Et),this._beforeAnimationBuild(dt.player.namespaceId,dt.instruction,sn))}),r.forEach(dt=>{const Et=dt.element;this._getPreviousPlayers(Et,!1,dt.namespaceId,dt.triggerName,null).forEach(dn=>{Go(sn,Et,[]).push(dn),dn.destroy()})});const Ed=ve.filter(dt=>$1(dt,_,b)),Id=new Map;U1(Id,this.driver,et,b,Cd).forEach(dt=>{$1(dt,_,b)&&Ed.push(dt)});const Z0=new Map;B.forEach((dt,Et)=>{U1(Z0,this.driver,new Set(dt),_,"!")}),Ed.forEach(dt=>{const Et=Id.get(dt),Rt=Z0.get(dt);Id.set(dt,new Map([...Array.from(Et?.entries()??[]),...Array.from(Rt?.entries()??[])]))});const Bm=[],lN=[],cN={};c.forEach(dt=>{const{element:Et,player:Rt,instruction:dn}=dt;if(i.has(Et)){if(I.has(Et))return Rt.onDestroy(()=>Zc(Et,dn.toStyles)),Rt.disabled=!0,Rt.overrideTotalTime(dn.totalTime),void r.push(Rt);let Sr=cN;if(Fs.size>1){let qo=Et;const wf=[];for(;qo=qo.parentNode;){const bi=Fs.get(qo);if(bi){Sr=bi;break}wf.push(qo)}wf.forEach(bi=>Fs.set(bi,Sr))}const Kc=this._buildAnimation(Rt.namespaceId,dn,sn,a,Z0,Id);if(Rt.setRealPlayer(Kc),Sr===cN)Bm.push(Rt);else{const qo=this.playersByElement.get(Sr);qo&&qo.length&&(Rt.parentPlayer=yf(qo)),r.push(Rt)}}else Fm(Et,dn.fromStyles),Rt.onDestroy(()=>Zc(Et,dn.toStyles)),lN.push(Rt),I.has(Et)&&r.push(Rt)}),lN.forEach(dt=>{const Et=a.get(dt.element);if(Et&&Et.length){const Rt=yf(Et);dt.setRealPlayer(Rt)}}),r.forEach(dt=>{dt.parentPlayer?dt.syncPlayerEvents(dt.parentPlayer):dt.destroy()});for(let dt=0;dt<ve.length;dt++){const Et=ve[dt],Rt=Et[ka];if(_y(Et,tD),Rt&&Rt.hasAnimation)continue;let dn=[];if(f.size){let Kc=f.get(Et);Kc&&Kc.length&&dn.push(...Kc);let qo=this.driver.query(Et,DA,!0);for(let wf=0;wf<qo.length;wf++){let bi=f.get(qo[wf]);bi&&bi.length&&dn.push(...bi)}}const Sr=dn.filter(Kc=>!Kc.destroyed);Sr.length?g$(this,Et,Sr):this.processLeaveNode(Et)}return ve.length=0,Bm.forEach(dt=>{this.players.push(dt),dt.onDone(()=>{dt.destroy();const Et=this.players.indexOf(dt);this.players.splice(Et,1)}),dt.play()}),Bm}elementContainsData(e,t){let i=!1;const r=t[ka];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(t)&&(i=!0),this.playersByQueriedElement.has(t)&&(i=!0),this.statesByElement.has(t)&&(i=!0),this._fetchNamespace(e).elementContainsData(t)||i}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,i,r,a){let c=[];if(t){const f=this.playersByQueriedElement.get(e);f&&(c=f)}else{const f=this.playersByElement.get(e);if(f){const _=!a||a==W0;f.forEach(b=>{b.queued||!_&&b.triggerName!=r||c.push(b)})}}return(i||r)&&(c=c.filter(f=>!(i&&i!=f.namespaceId||r&&r!=f.triggerName))),c}_beforeAnimationBuild(e,t,i){const a=t.element,c=t.isRemovalTransition?void 0:e,f=t.isRemovalTransition?void 0:t.triggerName;for(const _ of t.timelines){const b=_.element,I=b!==a,x=Go(i,b,[]);this._getPreviousPlayers(b,I,c,f,t.toState).forEach(B=>{const H=B.getRealPlayer();H.beforeDestroy&&H.beforeDestroy(),B.destroy(),x.push(B)})}Fm(a,t.fromStyles)}_buildAnimation(e,t,i,r,a,c){const f=t.triggerName,_=t.element,b=[],I=new Set,x=new Set,L=t.timelines.map(H=>{const ee=H.element;I.add(ee);const ve=ee[ka];if(ve&&ve.removedBeforeQueried)return new N0(H.duration,H.delay);const Ge=ee!==_,et=function _$(n){const e=[];return j1(n,e),e}((i.get(ee)||c$).map(sn=>sn.getRealPlayer())).filter(sn=>!!sn.element&&sn.element===ee),yt=a.get(ee),ot=c.get(ee),Mt=p1(0,this._normalizer,0,H.keyframes,yt,ot),kt=this._buildPlayer(H,Mt,et);if(H.subTimeline&&r&&x.add(ee),Ge){const sn=new BA(e,f,ee);sn.setRealPlayer(kt),b.push(sn)}return kt});b.forEach(H=>{Go(this.playersByQueriedElement,H.element,[]).push(H),H.onDone(()=>function f$(n,e,t){let i=n.get(e);if(i){if(i.length){const r=i.indexOf(t);i.splice(r,1)}0==i.length&&n.delete(e)}return i}(this.playersByQueriedElement,H.element,H))}),I.forEach(H=>Ra(H,E1));const B=yf(L);return B.onDestroy(()=>{I.forEach(H=>_y(H,E1)),Zc(_,t.toStyles)}),x.forEach(H=>{Go(r,H,[]).push(B)}),B}_buildPlayer(e,t,i){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,i):new N0(e.duration,e.delay)}}class BA{constructor(e,t,i){this.namespaceId=e,this.triggerName=t,this.element=i,this._player=new N0,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,i)=>{t.forEach(r=>yA(e,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Go(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function mD(n){return n&&1===n.nodeType}function B1(n,e){const t=n.style.display;return n.style.display=e??"none",t}function U1(n,e,t,i,r){const a=[];t.forEach(_=>a.push(B1(_)));const c=[];i.forEach((_,b)=>{const I=new Map;_.forEach(x=>{const L=e.computeStyle(b,x,r);I.set(x,L),(!L||0==L.length)&&(b[ka]=u$,c.push(b))}),n.set(b,I)});let f=0;return t.forEach(_=>B1(_,a[f++])),c}function H1(n,e){const t=new Map;if(n.forEach(f=>t.set(f,[])),0==e.length)return t;const r=new Set(e),a=new Map;function c(f){if(!f)return 1;let _=a.get(f);if(_)return _;const b=f.parentNode;return _=t.has(b)?b:r.has(b)?1:c(b),a.set(f,_),_}return e.forEach(f=>{const _=c(f);1!==_&&t.get(_).push(f)}),t}function Ra(n,e){n.classList?.add(e)}function _y(n,e){n.classList?.remove(e)}function g$(n,e,t){yf(t).onDone(()=>n.processLeaveNode(e))}function j1(n,e){for(let t=0;t<n.length;t++){const i=n[t];i instanceof sP?j1(i.players,e):e.push(i)}}function $1(n,e,t){const i=t.get(n);if(!i)return!1;let r=e.get(n);return r?i.forEach(a=>r.add(a)):e.set(n,i),t.delete(n),!0}class gD{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,a)=>{},this._transitionEngine=new h$(e,t,i),this._timelineEngine=new r$(e,t,i),this._transitionEngine.onRemovalComplete=(r,a)=>this.onRemovalComplete(r,a)}registerTrigger(e,t,i,r,a){const c=e+"-"+r;let f=this._triggerCache[c];if(!f){const _=[],I=MA(this._driver,a,_,[]);if(_.length)throw function nj(n,e){return new u.vHH(3404,!1)}();f=function e$(n,e,t){return new t$(n,e,t)}(r,I,this._normalizer),this._triggerCache[c]=f}this._transitionEngine.registerTrigger(t,r,f)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,i,r){this._transitionEngine.insertNode(e,t,i,r)}onRemove(e,t,i,r){this._transitionEngine.removeNode(e,t,r||!1,i)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,i,r){if("@"==i.charAt(0)){const[a,c]=m1(i);this._timelineEngine.command(a,t,c,r)}else this._transitionEngine.trigger(e,t,i,r)}listen(e,t,i,r,a){if("@"==i.charAt(0)){const[c,f]=m1(i);return this._timelineEngine.listen(c,t,f,a)}return this._transitionEngine.listen(e,t,i,r,a)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let b$=(()=>{class n{constructor(t,i,r){this._element=t,this._startStyles=i,this._endStyles=r,this._state=0;let a=n.initialStylesByElement.get(t);a||n.initialStylesByElement.set(t,a=new Map),this._initialStyles=a}start(){this._state<1&&(this._startStyles&&Zc(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Zc(this._element,this._initialStyles),this._endStyles&&(Zc(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Fm(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Fm(this._element,this._endStyles),this._endStyles=null),Zc(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function UA(n){let e=null;return n.forEach((t,i)=>{(function w$(n){return"display"===n||"position"===n})(i)&&(e=e||new Map,e.set(i,t))}),e}class G1{constructor(e,t,i,r){this.element=e,this.keyframes=t,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(i=>{t.push(Object.fromEntries(i))}),t}_triggerWebAnimation(e,t,i){return e.animate(this._convertKeyframesToObject(t),i)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&e.set(r,this._finished?i:M1(this.element,r))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class C${validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return v1(e,t)}getParentElement(e){return CA(e)}query(e,t,i){return b1(e,t,i)}computeStyle(e,t,i){return window.getComputedStyle(e)[t]}animate(e,t,i,r,a,c=[]){const _={duration:i,delay:r,fill:0==r?"both":"forwards"};a&&(_.easing=a);const b=new Map,I=c.filter(B=>B instanceof G1);(function Tj(n,e){return 0===n||0===e})(i,r)&&I.forEach(B=>{B.currentSnapshot.forEach((H,ee)=>b.set(ee,H))});let x=function Cj(n){return n.length?n[0]instanceof Map?n:n.map(e=>I1(e)):[]}(t).map(B=>bf(B));x=function Sj(n,e,t){if(t.size&&e.length){let i=e[0],r=[];if(t.forEach((a,c)=>{i.has(c)||r.push(c),i.set(c,a)}),r.length)for(let a=1;a<e.length;a++){let c=e[a];r.forEach(f=>c.set(f,M1(n,f)))}}return e}(e,x,b);const L=function v$(n,e){let t=null,i=null;return Array.isArray(e)&&e.length?(t=UA(e[0]),e.length>1&&(i=UA(e[e.length-1]))):e instanceof Map&&(t=UA(e)),t||i?new b$(n,t,i):null}(e,x);return new G1(e,x,_,L)}}let E$=(()=>{class n extends nP{constructor(t,i){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(i.body,{id:"0",encapsulation:u.ifc.None,styles:[],data:{animation:[]}})}build(t){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(t)?iP(t):t;return z1(this._renderer,null,i,"register",[r]),new I$(i,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.FYo),u.LFG(re))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class I$ extends class eB{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new D$(this._id,e,t||{},this._renderer)}}class D${constructor(e,t,i,r){this.id=e,this.element=t,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return z1(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function z1(n,e,t,i,r){return n.setProperty(e,`@@${t}:${i}`,r)}const q1="@.disabled";let T$=(()=>{class n{constructor(t,i,r){this.delegate=t,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(a,c)=>{const f=c?.parentNode(a);f&&c.removeChild(f,a)}}createRenderer(t,i){const a=this.delegate.createRenderer(t,i);if(!(t&&i&&i.data&&i.data.animation)){let I=this._rendererCache.get(a);return I||(I=new W1("",a,this.engine),this._rendererCache.set(a,I)),I}const c=i.id,f=i.id+"-"+this._currentId;this._currentId++,this.engine.register(f,t);const _=I=>{Array.isArray(I)?I.forEach(_):this.engine.registerTrigger(c,f,t,I.name,I)};return i.data.animation.forEach(_),new S$(this,f,a,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,i,r){t>=0&&t<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(a=>{const[c,f]=a;c(f)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.FYo),u.LFG(gD),u.LFG(u.R0b))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class W1{constructor(e,t,i){this.namespaceId=e,this.delegate=t,this.engine=i,this.destroyNode=this.delegate.destroyNode?r=>t.destroyNode(r):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,i,r=!0){this.delegate.insertBefore(e,t,i),this.engine.onInsert(this.namespaceId,t,e,r)}removeChild(e,t,i){this.engine.onRemove(this.namespaceId,t,this.delegate,i)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,r){this.delegate.setAttribute(e,t,i,r)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,r){this.delegate.setStyle(e,t,i,r)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){"@"==t.charAt(0)&&t==q1?this.disableAnimations(e,!!i):this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i){return this.delegate.listen(e,t,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class S$ extends W1{constructor(e,t,i,r){super(t,i,r),this.factory=e,this.namespaceId=t}setProperty(e,t,i){"@"==t.charAt(0)?"."==t.charAt(1)&&t==q1?this.disableAnimations(e,i=void 0===i||!!i):this.engine.process(this.namespaceId,e,t.slice(1),i):this.delegate.setProperty(e,t,i)}listen(e,t,i){if("@"==t.charAt(0)){const r=function x$(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let a=t.slice(1),c="";return"@"!=a.charAt(0)&&([a,c]=function M$(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(a)),this.engine.listen(this.namespaceId,r,a,c,f=>{this.factory.scheduleListenerCallback(f._data||-1,i,f)})}return this.delegate.listen(e,t,i)}}let A$=(()=>{class n extends gD{constructor(t,i,r,a){super(t.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(re),u.LFG(EA),u.LFG(PA),u.LFG(u.z2F))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const Z1=[{provide:nP,useClass:E$},{provide:PA,useFactory:function k$(){return new Yj}},{provide:gD,useClass:A$},{provide:u.FYo,useFactory:function R$(n,e,t){return new T$(n,e,t)},deps:[vo,gD,u.R0b]}],HA=[{provide:EA,useFactory:()=>new C$},{provide:u.QbO,useValue:"BrowserAnimations"},...Z1],K1=[{provide:EA,useClass:w1},{provide:u.QbO,useValue:"NoopAnimations"},...Z1];let O$=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?K1:HA}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:HA,imports:[sc]}),n})(),Y1=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[_r,Oi,JM,Oi]}),n})(),j$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[_r,Oi,lA,sA,JM,I2,Oi]}),n})();const Q1=uP();class $${constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=Qi(-this._previousScrollPosition.left),e.style.top=Qi(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,i=e.style,r=this._document.body.style,a=i.scrollBehavior||"",c=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),Q1&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),Q1&&(i.scrollBehavior=a,r.scrollBehavior=c)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,i=this._viewportRuler.getViewportSize();return t.scrollHeight>i.height||t.scrollWidth>i.width}}class G${constructor(e,t,i,r){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class X1{enable(){}disable(){}attach(){}}function jA(n,e){return e.some(t=>n.bottom<t.top||n.top>t.bottom||n.right<t.left||n.left>t.right)}function J1(n,e){return e.some(t=>n.top<t.top||n.bottom>t.bottom||n.left<t.left||n.right>t.right)}class z${constructor(e,t,i,r){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();jA(t,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let q$=(()=>{class n{constructor(t,i,r,a){this._scrollDispatcher=t,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new X1,this.close=c=>new G$(this._scrollDispatcher,this._ngZone,this._viewportRuler,c),this.block=()=>new $$(this._viewportRuler,this._document),this.reposition=c=>new z$(this._scrollDispatcher,this._viewportRuler,this._ngZone,c),this._document=a}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(dA),u.LFG(fA),u.LFG(u.R0b),u.LFG(re))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class W${constructor(e){if(this.scrollStrategy=new X1,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const i of t)void 0!==e[i]&&(this[i]=e[i])}}}class Z${constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}let eN=(()=>{class n{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const i=this._attachedOverlays.indexOf(t);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(re))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),K$=(()=>{class n extends eN{constructor(t,i){super(t),this._ngZone=i,this._keydownListener=r=>{const a=this._attachedOverlays;for(let c=a.length-1;c>-1;c--)if(a[c]._keydownEvents.observers.length>0){const f=a[c]._keydownEvents;this._ngZone?this._ngZone.run(()=>f.next(r)):f.next(r);break}}}add(t){super.add(t),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(re),u.LFG(u.R0b,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Y$=(()=>{class n extends eN{constructor(t,i,r){super(t),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=a=>{this._pointerDownEventTarget=Om(a)},this._clickListener=a=>{const c=Om(a),f="click"===a.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:c;this._pointerDownEventTarget=null;const _=this._attachedOverlays.slice();for(let b=_.length-1;b>-1;b--){const I=_[b];if(I._outsidePointerEvents.observers.length<1||!I.hasAttached())continue;if(I.overlayElement.contains(c)||I.overlayElement.contains(f))break;const x=I._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>x.next(a)):x.next(a)}}}add(t){if(super.add(t),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(t){t.addEventListener("pointerdown",this._pointerDownListener,!0),t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(re),u.LFG(Ho),u.LFG(u.R0b,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),tN=(()=>{class n{constructor(t,i){this._platform=i,this._document=t}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||YM()){const r=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let a=0;a<r.length;a++)r[a].remove()}const i=this._document.createElement("div");i.classList.add(t),YM()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(re),u.LFG(Ho))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Q${constructor(e,t,i,r,a,c,f,_,b,I=!1){this._portalOutlet=e,this._host=t,this._pane=i,this._config=r,this._ngZone=a,this._keyboardDispatcher=c,this._document=f,this._location=_,this._outsideClickDispatcher=b,this._animationsDisabled=I,this._backdropElement=null,this._backdropClick=new Nt.x,this._attachments=new Nt.x,this._detachments=new Nt.x,this._locationChanges=fl.w0.EMPTY,this._backdropClickHandler=x=>this._backdropClick.next(x),this._backdropTransitionendHandler=x=>{this._disposeBackdrop(x.target)},this._keydownEvents=new Nt.x,this._outsidePointerEvents=new Nt.x,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const t=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(to(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof t?.onDestroy&&t.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config={...this._config,...e},this._updateElementSize()}setDirection(e){this._config={...this._config,direction:e},this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=Qi(this._config.width),e.height=Qi(this._config.height),e.minWidth=Qi(this._config.minWidth),e.minHeight=Qi(this._config.minHeight),e.maxWidth=Qi(this._config.maxWidth),e.maxHeight=Qi(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;if(e){if(this._animationsDisabled)return void this._disposeBackdrop(e);e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500))}}_toggleClasses(e,t,i){const r=WI(t||[]).filter(a=>!!a);r.length&&(i?e.classList.add(...r):e.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(jo((0,kI.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const nN="cdk-overlay-connected-position-bounding-box",X$=/([A-Za-z%]+)$/;class J${constructor(e,t,i,r,a){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=a,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Nt.x,this._resizeSubscription=fl.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}get positions(){return this._preferredPositions}attach(e){this._validatePositions(),e.hostElement.classList.add(nN),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._originRect,t=this._overlayRect,i=this._viewportRect,r=this._containerRect,a=[];let c;for(let f of this._preferredPositions){let _=this._getOriginPoint(e,r,f),b=this._getOverlayPoint(_,t,f),I=this._getOverlayFit(b,t,i,f);if(I.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(f,_);this._canFitWithFlexibleDimensions(I,b,i)?a.push({position:f,origin:_,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(_,f)}):(!c||c.overlayFit.visibleArea<I.visibleArea)&&(c={overlayFit:I,overlayPoint:b,originPoint:_,position:f,overlayRect:t})}if(a.length){let f=null,_=-1;for(const b of a){const I=b.boundingBoxRect.width*b.boundingBoxRect.height*(b.position.weight||1);I>_&&(_=I,f=b)}return this._isPushed=!1,void this._applyPosition(f.position,f.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(c.position,c.originPoint);this._applyPosition(c.position,c.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Vm(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(nN),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,i){let r,a;if("center"==i.originX)r=e.left+e.width/2;else{const c=this._isRtl()?e.right:e.left,f=this._isRtl()?e.left:e.right;r="start"==i.originX?c:f}return t.left<0&&(r-=t.left),a="center"==i.originY?e.top+e.height/2:"top"==i.originY?e.top:e.bottom,t.top<0&&(a-=t.top),{x:r,y:a}}_getOverlayPoint(e,t,i){let r,a;return r="center"==i.overlayX?-t.width/2:"start"===i.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,a="center"==i.overlayY?-t.height/2:"top"==i.overlayY?0:-t.height,{x:e.x+r,y:e.y+a}}_getOverlayFit(e,t,i,r){const a=rN(t);let{x:c,y:f}=e,_=this._getOffset(r,"x"),b=this._getOffset(r,"y");_&&(c+=_),b&&(f+=b);let L=0-f,B=f+a.height-i.height,H=this._subtractOverflows(a.width,0-c,c+a.width-i.width),ee=this._subtractOverflows(a.height,L,B),ve=H*ee;return{visibleArea:ve,isCompletelyWithinViewport:a.width*a.height===ve,fitsInViewportVertically:ee===a.height,fitsInViewportHorizontally:H==a.width}}_canFitWithFlexibleDimensions(e,t,i){if(this._hasFlexibleDimensions){const r=i.bottom-t.y,a=i.right-t.x,c=iN(this._overlayRef.getConfig().minHeight),f=iN(this._overlayRef.getConfig().minWidth),b=e.fitsInViewportHorizontally||null!=f&&f<=a;return(e.fitsInViewportVertically||null!=c&&c<=r)&&b}return!1}_pushOverlayOnScreen(e,t,i){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const r=rN(t),a=this._viewportRect,c=Math.max(e.x+r.width-a.width,0),f=Math.max(e.y+r.height-a.height,0),_=Math.max(a.top-i.top-e.y,0),b=Math.max(a.left-i.left-e.x,0);let I=0,x=0;return I=r.width<=a.width?b||-c:e.x<this._viewportMargin?a.left-i.left-e.x:0,x=r.height<=a.height?_||-f:e.y<this._viewportMargin?a.top-i.top-e.y:0,this._previousPushAmount={x:I,y:x},{x:e.x+I,y:e.y+x}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new Z$(e,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=e.overlayY;i="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let a=0;a<t.length;a++)t[a].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(e,t){const i=this._viewportRect,r=this._isRtl();let a,c,f,I,x,L;if("top"===t.overlayY)c=e.y,a=i.height-c+this._viewportMargin;else if("bottom"===t.overlayY)f=i.height-e.y+2*this._viewportMargin,a=i.height-f+this._viewportMargin;else{const B=Math.min(i.bottom-e.y+i.top,e.y),H=this._lastBoundingBoxSize.height;a=2*B,c=e.y-B,a>H&&!this._isInitialRender&&!this._growAfterOpen&&(c=e.y-H/2)}if("end"===t.overlayX&&!r||"start"===t.overlayX&&r)L=i.width-e.x+this._viewportMargin,I=e.x-this._viewportMargin;else if("start"===t.overlayX&&!r||"end"===t.overlayX&&r)x=e.x,I=i.right-e.x;else{const B=Math.min(i.right-e.x+i.left,e.x),H=this._lastBoundingBoxSize.width;I=2*B,x=e.x-B,I>H&&!this._isInitialRender&&!this._growAfterOpen&&(x=e.x-H/2)}return{top:c,left:x,bottom:f,right:L,width:I,height:a}}_setBoundingBoxStyles(e,t){const i=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const a=this._overlayRef.getConfig().maxHeight,c=this._overlayRef.getConfig().maxWidth;r.height=Qi(i.height),r.top=Qi(i.top),r.bottom=Qi(i.bottom),r.width=Qi(i.width),r.left=Qi(i.left),r.right=Qi(i.right),r.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",r.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",a&&(r.maxHeight=Qi(a)),c&&(r.maxWidth=Qi(c))}this._lastBoundingBoxSize=i,Vm(this._boundingBox.style,r)}_resetBoundingBoxStyles(){Vm(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Vm(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const i={},r=this._hasExactPosition(),a=this._hasFlexibleDimensions,c=this._overlayRef.getConfig();if(r){const I=this._viewportRuler.getViewportScrollPosition();Vm(i,this._getExactOverlayY(t,e,I)),Vm(i,this._getExactOverlayX(t,e,I))}else i.position="static";let f="",_=this._getOffset(t,"x"),b=this._getOffset(t,"y");_&&(f+=`translateX(${_}px) `),b&&(f+=`translateY(${b}px)`),i.transform=f.trim(),c.maxHeight&&(r?i.maxHeight=Qi(c.maxHeight):a&&(i.maxHeight="")),c.maxWidth&&(r?i.maxWidth=Qi(c.maxWidth):a&&(i.maxWidth="")),Vm(this._pane.style,i)}_getExactOverlayY(e,t,i){let r={top:"",bottom:""},a=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(a=this._pushOverlayOnScreen(a,this._overlayRect,i)),"bottom"===e.overlayY?r.bottom=this._document.documentElement.clientHeight-(a.y+this._overlayRect.height)+"px":r.top=Qi(a.y),r}_getExactOverlayX(e,t,i){let c,r={left:"",right:""},a=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(a=this._pushOverlayOnScreen(a,this._overlayRect,i)),c=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===c?r.right=this._document.documentElement.clientWidth-(a.x+this._overlayRect.width)+"px":r.left=Qi(a.x),r}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:J1(e,i),isOriginOutsideView:jA(e,i),isOverlayClipped:J1(t,i),isOverlayOutsideView:jA(t,i)}}_subtractOverflows(e,...t){return t.reduce((i,r)=>i-Math.max(r,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+e-this._viewportMargin,bottom:i.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?e.offsetX??this._offsetX:e.offsetY??this._offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&WI(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof u.SBq)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,i=e.height||0;return{top:e.y,bottom:e.y+i,left:e.x,right:e.x+t,height:i,width:t}}}function Vm(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function iN(n){if("number"!=typeof n&&null!=n){const[e,t]=n.split(X$);return t&&"px"!==t?null:parseFloat(e)}return n||null}function rN(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const sN="cdk-global-overlay-wrapper";class e3{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(sN),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:a,maxWidth:c,maxHeight:f}=i,_=!("100%"!==r&&"100vw"!==r||c&&"100%"!==c&&"100vw"!==c),b=!("100%"!==a&&"100vh"!==a||f&&"100%"!==f&&"100vh"!==f),I=this._xPosition,x=this._xOffset,L="rtl"===this._overlayRef.getConfig().direction;let B="",H="",ee="";_?ee="flex-start":"center"===I?(ee="center",L?H=x:B=x):L?"left"===I||"end"===I?(ee="flex-end",B=x):("right"===I||"start"===I)&&(ee="flex-start",H=x):"left"===I||"start"===I?(ee="flex-start",B=x):("right"===I||"end"===I)&&(ee="flex-end",H=x),e.position=this._cssPosition,e.marginLeft=_?"0":B,e.marginTop=b?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=_?"0":H,t.justifyContent=ee,t.alignItems=b?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,i=t.style;t.classList.remove(sN),i.justifyContent=i.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let t3=(()=>{class n{constructor(t,i,r,a){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=a}global(){return new e3}flexibleConnectedTo(t){return new J$(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(fA),u.LFG(re),u.LFG(Ho),u.LFG(tN))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),n3=0,$A=(()=>{class n{constructor(t,i,r,a,c,f,_,b,I,x,L,B){this.scrollStrategies=t,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=a,this._keyboardDispatcher=c,this._injector=f,this._ngZone=_,this._document=b,this._directionality=I,this._location=x,this._outsideClickDispatcher=L,this._animationsModuleType=B}create(t){const i=this._createHostElement(),r=this._createPaneElement(i),a=this._createPortalOutlet(r),c=new W$(t);return c.direction=c.direction||this._directionality.value,new Q$(a,i,r,c,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(t){const i=this._document.createElement("div");return i.id="cdk-overlay-"+n3++,i.classList.add("cdk-overlay-pane"),t.appendChild(i),i}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(u.z2F)),new nU(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(q$),u.LFG(tN),u.LFG(u._Vd),u.LFG(t3),u.LFG(K$),u.LFG(u.zs3),u.LFG(u.R0b),u.LFG(re),u.LFG(nA),u.LFG(Me),u.LFG(Y$),u.LFG(u.QbO,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const o3={provide:new u.OlP("cdk-connected-overlay-scroll-strategy"),deps:[$A],useFactory:function s3(n){return()=>n.scrollStrategies.reposition()}};let a3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[$A,o3],imports:[V0,lA,ZP,ZP]}),n})();const h3={provide:new u.OlP("mat-select-scroll-strategy"),deps:[$A],useFactory:function d3(n){return()=>n.scrollStrategies.reposition()}};let f3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[h3],imports:[_r,a3,kP,Oi,j0,Y1,kP,Oi]}),n})(),p3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[Oi,Oi]}),n})(),m3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[iH,TH,kH,j$,q2,_U,Y1,p3,f3]}),n})(),g3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n,bootstrap:[PH]}),n.\u0275inj=u.cJS({imports:[sc,Hu,DU,Lr.hO.initializeApp(h1_firebase),O$,m3,IB.forRoot()]}),n})();(0,u.G48)(),rc().bootstrapModule(g3).catch(n=>console.error(n))},5867:(at,De,P)=>{P.d(De,{C6:()=>u.getApps,Mq:()=>u.getApp});var u=P(9681);(0,u.registerVersion)("firebase","9.9.4","app")},127:(at,De,P)=>{P.d(De,{Z:()=>u.Z});var u=P(3942);u.Z.registerVersion("firebase","9.9.4","app-compat")},2274:(at,De,P)=>{P.r(De);var u=P(5861),te=P(3942),N=P(2090),le=P(9681),oe=P(655),fe=P(1877),re=P(4859);const Ce=function Ve(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},tt=function Ae(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},ye=new N.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Qe=new fe.Yd("@firebase/auth");function st(y,...p){Qe.logLevel<=fe.in.ERROR&&Qe.error(`Auth (${le.SDK_VERSION}): ${y}`,...p)}function Me(y,...p){throw je(y,...p)}function we(y,...p){return je(y,...p)}function Ie(y,p,g){const w=Object.assign(Object.assign({},tt()),{[p]:g});return new N.LL("auth","Firebase",w).create(p,{appName:y.name})}function Ue(y,p,g){if(!(p instanceof g))throw g.name!==p.constructor.name&&Me(y,"argument-error"),Ie(y,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function je(y,...p){if("string"!=typeof y){const g=p[0],w=[...p.slice(1)];return w[0]&&(w[0].appName=y.name),y._errorFactory.create(g,...w)}return ye.create(y,...p)}function j(y,p,...g){if(!y)throw je(p,...g)}function _e(y){const p="INTERNAL ASSERTION FAILED: "+y;throw st(p),new Error(p)}function Q(y,p){y||_e(p)}const ne=new Map;function ae(y){Q(y instanceof Function,"Expected a class definition");let p=ne.get(y);return p?(Q(p instanceof y,"Instance stored in cache mismatched with class"),p):(p=new y,ne.set(y,p),p)}function Oe(){var y;return typeof self<"u"&&(null===(y=self.location)||void 0===y?void 0:y.href)||""}function ft(){return"http:"===Zt()||"https:"===Zt()}function Zt(){var y;return typeof self<"u"&&(null===(y=self.location)||void 0===y?void 0:y.protocol)||null}class an{constructor(p,g){this.shortDelay=p,this.longDelay=g,Q(g>p,"Short delay should be less than long delay!"),this.isMobile=(0,N.uI)()||(0,N.b$)()}get(){return function $t(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(ft()||(0,N.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Nn(y,p){Q(y.emulator,"Emulator should always be set here");const{url:g}=y.emulator;return p?`${g}${p.startsWith("/")?p.slice(1):p}`:g}class Yt{static initialize(p,g,w){this.fetchImpl=p,g&&(this.headersImpl=g),w&&(this.responseImpl=w)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void _e("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void _e("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void _e("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Qt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Pi=new an(3e4,6e4);function Vt(y,p){return y.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:y.tenantId}):p}function on(y,p,g,w){return Pa.apply(this,arguments)}function Pa(){return(Pa=(0,u.Z)(function*(y,p,g,w,M={}){return Xi(y,M,(0,u.Z)(function*(){let O={},K={};w&&("GET"===p?K=w:O={body:JSON.stringify(w)});const de=(0,N.xO)(Object.assign({key:y.config.apiKey},K)).slice(1),Le=yield y._getAdditionalHeaders();return Le["Content-Type"]="application/json",y.languageCode&&(Le["X-Firebase-Locale"]=y.languageCode),Yt.fetch()(jr(y,y.config.apiHost,g,de),Object.assign({method:p,headers:Le,referrerPolicy:"no-referrer"},O))}))})).apply(this,arguments)}function Xi(y,p,g){return Mi.apply(this,arguments)}function Mi(){return(Mi=(0,u.Z)(function*(y,p,g){y._canInitEmulator=!1;const w=Object.assign(Object.assign({},Qt),p);try{const M=new er(y),O=yield Promise.race([g(),M.promise]);M.clearNetworkTimeout();const K=yield O.json();if("needConfirmation"in K)throw xr(y,"account-exists-with-different-credential",K);if(O.ok&&!("errorMessage"in K))return K;{const de=O.ok?K.errorMessage:K.error.message,[Le,Je]=de.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Le)throw xr(y,"credential-already-in-use",K);if("EMAIL_EXISTS"===Le)throw xr(y,"email-already-in-use",K);if("USER_DISABLED"===Le)throw xr(y,"user-disabled",K);const vt=w[Le]||Le.toLowerCase().replace(/[_\s]+/g,"-");if(Je)throw Ie(y,vt,Je);Me(y,vt)}}catch(M){if(M instanceof N.ZR)throw M;Me(y,"network-request-failed")}})).apply(this,arguments)}function Ji(y,p,g,w){return Ls.apply(this,arguments)}function Ls(){return(Ls=(0,u.Z)(function*(y,p,g,w,M={}){const O=yield on(y,p,g,w,M);return"mfaPendingCredential"in O&&Me(y,"multi-factor-auth-required",{_serverResponse:O}),O})).apply(this,arguments)}function jr(y,p,g,w){const M=`${p}${g}?${w}`;return y.config.emulator?Nn(y.config,M):`${y.config.apiScheme}://${M}`}class er{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((g,w)=>{this.timer=setTimeout(()=>w(we(this.auth,"network-request-failed")),Pi.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function xr(y,p,g){const w={appName:y.name};g.email&&(w.email=g.email),g.phoneNumber&&(w.phoneNumber=g.phoneNumber);const M=we(y,p,w);return M.customData._tokenResponse=g,M}function Ke(){return(Ke=(0,u.Z)(function*(y,p){return on(y,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function tr(y,p){return cs.apply(this,arguments)}function cs(){return(cs=(0,u.Z)(function*(y,p){return on(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Fn(y,p){return Mr.apply(this,arguments)}function Mr(){return(Mr=(0,u.Z)(function*(y,p){return on(y,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function mr(y){if(y)try{const p=new Date(Number(y));if(!isNaN(p.getTime()))return p.toUTCString()}catch{}}function _n(){return(_n=(0,u.Z)(function*(y,p=!1){const g=(0,N.m9)(y),w=yield g.getIdToken(p),M=ct(w);j(M&&M.exp&&M.auth_time&&M.iat,g.auth,"internal-error");const O="object"==typeof M.firebase?M.firebase:void 0,K=O?.sign_in_provider;return{claims:M,token:w,authTime:mr(gt(M.auth_time)),issuedAtTime:mr(gt(M.iat)),expirationTime:mr(gt(M.exp)),signInProvider:K||null,signInSecondFactor:O?.sign_in_second_factor||null}})).apply(this,arguments)}function gt(y){return 1e3*Number(y)}function ct(y){var p;const[g,w,M]=y.split(".");if(void 0===g||void 0===w||void 0===M)return st("JWT malformed, contained fewer than 3 sections"),null;try{const O=(0,N.tV)(w);return O?JSON.parse(O):(st("Failed to decode base64 JWT payload"),null)}catch(O){return st("Caught error parsing JWT payload as JSON",null===(p=O)||void 0===p?void 0:p.toString()),null}}function hi(y,p){return fi.apply(this,arguments)}function fi(){return(fi=(0,u.Z)(function*(y,p,g=!1){if(g)return p;try{return yield p}catch(w){throw w instanceof N.ZR&&Ni(w)&&y.auth.currentUser===y&&(yield y.auth.signOut()),w}})).apply(this,arguments)}function Ni({code:y}){return"auth/user-disabled"===y||"auth/user-token-expired"===y}class It{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var g;if(p){const w=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),w}{this.errorBackoff=3e4;const M=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,M)}}schedule(p=!1){var g=this;if(!this.isRunning)return;const w=this.getInterval(p);this.timerId=setTimeout((0,u.Z)(function*(){yield g.iteration()}),w)}iteration(){var p=this;return(0,u.Z)(function*(){var g;try{yield p.user.getIdToken(!0)}catch(w){return void("auth/network-request-failed"===(null===(g=w)||void 0===g?void 0:g.code)&&p.schedule(!0))}p.schedule()})()}}class us{constructor(p,g){this.createdAt=p,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=mr(this.lastLoginAt),this.creationTime=mr(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Xt(y){return Ar.apply(this,arguments)}function Ar(){return(Ar=(0,u.Z)(function*(y){var p;const g=y.auth,w=yield y.getIdToken(),M=yield hi(y,Fn(g,{idToken:w}));j(M?.users.length,g,"internal-error");const O=M.users[0];y._notifyReloadListener(O);const K=null!==(p=O.providerUserInfo)&&void 0!==p&&p.length?U(O.providerUserInfo):[],de=G(y.providerData,K),vt=!!y.isAnonymous&&!(y.email&&O.passwordHash||de?.length),_t={uid:O.localId,displayName:O.displayName||null,photoURL:O.photoUrl||null,email:O.email||null,emailVerified:O.emailVerified||!1,phoneNumber:O.phoneNumber||null,tenantId:O.tenantId||null,providerData:de,metadata:new us(O.createdAt,O.lastLoginAt),isAnonymous:vt};Object.assign(y,_t)})).apply(this,arguments)}function Y(){return(Y=(0,u.Z)(function*(y){const p=(0,N.m9)(y);yield Xt(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function G(y,p){return[...y.filter(w=>!p.some(M=>M.providerId===w.providerId)),...p]}function U(y){return y.map(p=>{var{providerId:g}=p,w=(0,oe._T)(p,["providerId"]);return{providerId:g,uid:w.rawId||"",displayName:w.displayName||null,email:w.email||null,phoneNumber:w.phoneNumber||null,photoURL:w.photoUrl||null}})}function Z(){return(Z=(0,u.Z)(function*(y,p){const g=yield Xi(y,{},(0,u.Z)(function*(){const w=(0,N.xO)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:M,apiKey:O}=y.config,K=jr(y,M,"/v1/token",`key=${O}`),de=yield y._getAdditionalHeaders();return de["Content-Type"]="application/x-www-form-urlencoded",Yt.fetch()(K,{method:"POST",headers:de,body:w})}));return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}class Te{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){j(p.idToken,"internal-error"),j(typeof p.idToken<"u","internal-error"),j(typeof p.refreshToken<"u","internal-error");const g="expiresIn"in p&&typeof p.expiresIn<"u"?Number(p.expiresIn):function ln(y){const p=ct(y);return j(p,"internal-error"),j(typeof p.exp<"u","internal-error"),j(typeof p.iat<"u","internal-error"),Number(p.exp)-Number(p.iat)}(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,g)}getToken(p,g=!1){var w=this;return(0,u.Z)(function*(){return j(!w.accessToken||w.refreshToken,p,"user-token-expired"),g||!w.accessToken||w.isExpired?w.refreshToken?(yield w.refresh(p,w.refreshToken),w.accessToken):null:w.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,g){var w=this;return(0,u.Z)(function*(){const{accessToken:M,refreshToken:O,expiresIn:K}=yield function W(y,p){return Z.apply(this,arguments)}(p,g);w.updateTokensAndExpiration(M,O,Number(K))})()}updateTokensAndExpiration(p,g,w){this.refreshToken=g||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*w}static fromJSON(p,g){const{refreshToken:w,accessToken:M,expirationTime:O}=g,K=new Te;return w&&(j("string"==typeof w,"internal-error",{appName:p}),K.refreshToken=w),M&&(j("string"==typeof M,"internal-error",{appName:p}),K.accessToken=M),O&&(j("number"==typeof O,"internal-error",{appName:p}),K.expirationTime=O),K}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new Te,this.toJSON())}_performRefresh(){return _e("not implemented")}}function Be(y,p){j("string"==typeof y||typeof y>"u","internal-error",{appName:p})}class lt{constructor(p){var{uid:g,auth:w,stsTokenManager:M}=p,O=(0,oe._T)(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new It(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=w,this.stsTokenManager=M,this.accessToken=M.accessToken,this.displayName=O.displayName||null,this.email=O.email||null,this.emailVerified=O.emailVerified||!1,this.phoneNumber=O.phoneNumber||null,this.photoURL=O.photoURL||null,this.isAnonymous=O.isAnonymous||!1,this.tenantId=O.tenantId||null,this.providerData=O.providerData?[...O.providerData]:[],this.metadata=new us(O.createdAt||void 0,O.lastLoginAt||void 0)}getIdToken(p){var g=this;return(0,u.Z)(function*(){const w=yield hi(g,g.stsTokenManager.getToken(g.auth,p));return j(w,g.auth,"internal-error"),g.accessToken!==w&&(g.accessToken=w,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),w})()}getIdTokenResult(p){return function Jn(y){return _n.apply(this,arguments)}(this,p)}reload(){return function Kt(y){return Y.apply(this,arguments)}(this)}_assign(p){this!==p&&(j(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(g=>Object.assign({},g)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){return new lt(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(p){j(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,g=!1){var w=this;return(0,u.Z)(function*(){let M=!1;p.idToken&&p.idToken!==w.stsTokenManager.accessToken&&(w.stsTokenManager.updateFromServerResponse(p),M=!0),g&&(yield Xt(w)),yield w.auth._persistUserIfCurrent(w),M&&w.auth._notifyListenersIfCurrent(w)})()}delete(){var p=this;return(0,u.Z)(function*(){const g=yield p.getIdToken();return yield hi(p,function Wo(y,p){return Ke.apply(this,arguments)}(p.auth,{idToken:g})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,g){var w,M,O,K,de,Le,Je,vt;const _t=null!==(w=g.displayName)&&void 0!==w?w:void 0,ri=null!==(M=g.email)&&void 0!==M?M:void 0,Ts=null!==(O=g.phoneNumber)&&void 0!==O?O:void 0,yc=null!==(K=g.photoURL)&&void 0!==K?K:void 0,vg=null!==(de=g.tenantId)&&void 0!==de?de:void 0,oh=null!==(Le=g._redirectEventId)&&void 0!==Le?Le:void 0,Ly=null!==(Je=g.createdAt)&&void 0!==Je?Je:void 0,bg=null!==(vt=g.lastLoginAt)&&void 0!==vt?vt:void 0,{uid:Hu,emailVerified:rw,isAnonymous:Vy,providerData:ah,stsTokenManager:sw}=g;j(Hu&&sw,p,"internal-error");const CD=Te.fromJSON(this.name,sw);j("string"==typeof Hu,p,"internal-error"),Be(_t,p.name),Be(ri,p.name),j("boolean"==typeof rw,p,"internal-error"),j("boolean"==typeof Vy,p,"internal-error"),Be(Ts,p.name),Be(yc,p.name),Be(vg,p.name),Be(oh,p.name),Be(Ly,p.name),Be(bg,p.name);const By=new lt({uid:Hu,auth:p,email:ri,emailVerified:rw,displayName:_t,isAnonymous:Vy,photoURL:yc,phoneNumber:Ts,tenantId:vg,stsTokenManager:CD,createdAt:Ly,lastLoginAt:bg});return ah&&Array.isArray(ah)&&(By.providerData=ah.map(ED=>Object.assign({},ED))),oh&&(By._redirectEventId=oh),By}static _fromIdTokenResponse(p,g,w=!1){return(0,u.Z)(function*(){const M=new Te;M.updateFromServerResponse(g);const O=new lt({uid:g.localId,auth:p,stsTokenManager:M,isAnonymous:w});return yield Xt(O),O})()}}const Jt=(()=>{class y{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,u.Z)(function*(){return!0})()}_set(g,w){var M=this;return(0,u.Z)(function*(){M.storage[g]=w})()}_get(g){var w=this;return(0,u.Z)(function*(){const M=w.storage[g];return void 0===M?null:M})()}_remove(g){var w=this;return(0,u.Z)(function*(){delete w.storage[g]})()}_addListener(g,w){}_removeListener(g,w){}}return y.type="NONE",y})();function ei(y,p,g){return`firebase:${y}:${p}:${g}`}class Ht{constructor(p,g,w){this.persistence=p,this.auth=g,this.userKey=w;const{config:M,name:O}=this.auth;this.fullUserKey=ei(this.userKey,M.apiKey,O),this.fullPersistenceKey=ei("persistence",M.apiKey,O),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,u.Z)(function*(){const g=yield p.persistence._get(p.fullUserKey);return g?lt._fromJSON(p.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var g=this;return(0,u.Z)(function*(){if(g.persistence===p)return;const w=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=p,w?g.setCurrentUser(w):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,g,w="authUser"){return(0,u.Z)(function*(){if(!g.length)return new Ht(ae(Jt),p,w);const M=(yield Promise.all(g.map(function(){var Je=(0,u.Z)(function*(vt){if(yield vt._isAvailable())return vt});return function(vt){return Je.apply(this,arguments)}}()))).filter(Je=>Je);let O=M[0]||ae(Jt);const K=ei(w,p.config.apiKey,p.name);let de=null;for(const Je of g)try{const vt=yield Je._get(K);if(vt){const _t=lt._fromJSON(p,vt);Je!==O&&(de=_t),O=Je;break}}catch{}const Le=M.filter(Je=>Je._shouldAllowMigration);return O._shouldAllowMigration&&Le.length?(O=Le[0],de&&(yield O._set(K,de.toJSON())),yield Promise.all(g.map(function(){var Je=(0,u.Z)(function*(vt){if(vt!==O)try{yield vt._remove(K)}catch{}});return function(vt){return Je.apply(this,arguments)}}())),new Ht(O,p,w)):new Ht(O,p,w)})()}}function Ot(y){const p=y.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(Fi(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(vn(p))return"Firefox";if(p.includes("silk/"))return"Silk";if($e(p))return"Blackberry";if(wt(p))return"Webos";if($n(p))return"Safari";if((p.includes("chrome/")||$r(p))&&!p.includes("edge/"))return"Chrome";if(Gn(p))return"Android";{const w=y.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===w?.length)return w[1]}return"Other"}function vn(y=(0,N.z$)()){return/firefox\//i.test(y)}function $n(y=(0,N.z$)()){const p=y.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function $r(y=(0,N.z$)()){return/crios\//i.test(y)}function Fi(y=(0,N.z$)()){return/iemobile/i.test(y)}function Gn(y=(0,N.z$)()){return/android/i.test(y)}function $e(y=(0,N.z$)()){return/blackberry/i.test(y)}function wt(y=(0,N.z$)()){return/webos/i.test(y)}function nn(y=(0,N.z$)()){return/iphone|ipad|ipod/i.test(y)||/macintosh/i.test(y)&&/mobile/i.test(y)}function oo(y=(0,N.z$)()){return nn(y)||Gn(y)||wt(y)||$e(y)||/windows phone/i.test(y)||Fi(y)}function Vs(y,p=[]){let g;switch(y){case"Browser":g=Ot((0,N.z$)());break;case"Worker":g=`${Ot((0,N.z$)())}-${y}`;break;default:g=y}const w=p.length?p.join(","):"FirebaseCore-web";return`${g}/JsCore/${le.SDK_VERSION}/${w}`}class ao{constructor(p){this.auth=p,this.queue=[]}pushCallback(p,g){const w=O=>new Promise((K,de)=>{try{K(p(O))}catch(Le){de(Le)}});w.onAbort=g,this.queue.push(w);const M=this.queue.length-1;return()=>{this.queue[M]=()=>Promise.resolve()}}runMiddleware(p){var g=this;return(0,u.Z)(function*(){var w;if(g.auth.currentUser===p)return;const M=[];try{for(const O of g.queue)yield O(p),O.onAbort&&M.push(O.onAbort)}catch(O){M.reverse();for(const K of M)try{K()}catch{}throw g.auth._errorFactory.create("login-blocked",{originalMessage:null===(w=O)||void 0===w?void 0:w.message})}})()}}class Pt{constructor(p,g,w){this.app=p,this.heartbeatServiceProvider=g,this.config=w,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new lo(this),this.idTokenSubscription=new lo(this),this.beforeStateQueue=new ao(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ye,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=w.sdkClientVersion}_initializeWithPersistence(p,g){var w=this;return g&&(this._popupRedirectResolver=ae(g)),this._initializationPromise=this.queue((0,u.Z)(function*(){var M,O;if(!w._deleted&&(w.persistenceManager=yield Ht.create(w,p),!w._deleted)){if(null!==(M=w._popupRedirectResolver)&&void 0!==M&&M._shouldInitProactively)try{yield w._popupRedirectResolver._initialize(w)}catch{}yield w.initializeCurrentUser(g),w.lastNotifiedUid=(null===(O=w.currentUser)||void 0===O?void 0:O.uid)||null,!w._deleted&&(w._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,u.Z)(function*(){if(p._deleted)return;const g=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||g){if(p.currentUser&&g&&p.currentUser.uid===g.uid)return p._currentUser._assign(g),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(g,!0)}})()}initializeCurrentUser(p){var g=this;return(0,u.Z)(function*(){var w;const M=yield g.assertedPersistence.getCurrentUser();let O=M,K=!1;if(p&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const de=null===(w=g.redirectUser)||void 0===w?void 0:w._redirectEventId,Le=O?._redirectEventId,Je=yield g.tryRedirectSignIn(p);(!de||de===Le)&&Je?.user&&(O=Je.user,K=!0)}if(!O)return g.directlySetCurrentUser(null);if(!O._redirectEventId){if(K)try{yield g.beforeStateQueue.runMiddleware(O)}catch(de){O=M,g._popupRedirectResolver._overrideRedirectResult(g,()=>Promise.reject(de))}return O?g.reloadAndSetCurrentUserOrClear(O):g.directlySetCurrentUser(null)}return j(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===O._redirectEventId?g.directlySetCurrentUser(O):g.reloadAndSetCurrentUserOrClear(O)})()}tryRedirectSignIn(p){var g=this;return(0,u.Z)(function*(){let w=null;try{w=yield g._popupRedirectResolver._completeRedirectFn(g,p,!0)}catch{yield g._setRedirectUser(null)}return w})()}reloadAndSetCurrentUserOrClear(p){var g=this;return(0,u.Z)(function*(){var w;try{yield Xt(p)}catch(M){if("auth/network-request-failed"!==(null===(w=M)||void 0===w?void 0:w.code))return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function We(){if(typeof navigator>"u")return null;const y=navigator;return y.languages&&y.languages[0]||y.language||null}()}_delete(){var p=this;return(0,u.Z)(function*(){p._deleted=!0})()}updateCurrentUser(p){var g=this;return(0,u.Z)(function*(){const w=p?(0,N.m9)(p):null;return w&&j(w.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(w&&w._clone(g))})()}_updateCurrentUser(p,g=!1){var w=this;return(0,u.Z)(function*(){if(!w._deleted)return p&&j(w.tenantId===p.tenantId,w,"tenant-id-mismatch"),g||(yield w.beforeStateQueue.runMiddleware(p)),w.queue((0,u.Z)(function*(){yield w.directlySetCurrentUser(p),w.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,u.Z)(function*(){return yield p.beforeStateQueue.runMiddleware(null),(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null,!0)})()}setPersistence(p){var g=this;return this.queue((0,u.Z)(function*(){yield g.assertedPersistence.setPersistence(ae(p))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new N.LL("auth","Firebase",p())}onAuthStateChanged(p,g,w){return this.registerStateListener(this.authStateSubscription,p,g,w)}beforeAuthStateChanged(p,g){return this.beforeStateQueue.pushCallback(p,g)}onIdTokenChanged(p,g,w){return this.registerStateListener(this.idTokenSubscription,p,g,w)}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,g){var w=this;return(0,u.Z)(function*(){const M=yield w.getOrInitRedirectPersistenceManager(g);return null===p?M.removeCurrentUser():M.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var g=this;return(0,u.Z)(function*(){if(!g.redirectPersistenceManager){const w=p&&ae(p)||g._popupRedirectResolver;j(w,g,"argument-error"),g.redirectPersistenceManager=yield Ht.create(g,[ae(w._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(p){var g=this;return(0,u.Z)(function*(){var w,M;return g._isInitialized&&(yield g.queue((0,u.Z)(function*(){}))),(null===(w=g._currentUser)||void 0===w?void 0:w._redirectEventId)===p?g._currentUser:(null===(M=g.redirectUser)||void 0===M?void 0:M._redirectEventId)===p?g.redirectUser:null})()}_persistUserIfCurrent(p){var g=this;return(0,u.Z)(function*(){if(p===g.currentUser)return g.queue((0,u.Z)(function*(){return g.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const w=null!==(g=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==w&&(this.lastNotifiedUid=w,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,g,w,M){if(this._deleted)return()=>{};const O="function"==typeof g?g:g.next.bind(g),K=this._isInitialized?Promise.resolve():this._initializationPromise;return j(K,this,"internal-error"),K.then(()=>O(this.currentUser)),"function"==typeof g?p.addObserver(g,w,M):p.addObserver(g)}directlySetCurrentUser(p){var g=this;return(0,u.Z)(function*(){g.currentUser&&g.currentUser!==p&&g._currentUser._stopProactiveRefresh(),p&&g.isProactiveRefreshEnabled&&p._startProactiveRefresh(),g.currentUser=p,p?yield g.assertedPersistence.setCurrentUser(p):yield g.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return j(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=Vs(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var p=this;return(0,u.Z)(function*(){var g;const w={"X-Client-Version":p.clientVersion};p.app.options.appId&&(w["X-Firebase-gmpid"]=p.app.options.appId);const M=yield null===(g=p.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getHeartbeatsHeader();return M&&(w["X-Firebase-Client"]=M),w})()}}function wn(y){return(0,N.m9)(y)}class lo{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,N.ne)(g=>this.observer=g)}get next(){return j(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Gr(y){const p=y.indexOf(":");return p<0?"":y.substr(0,p+1)}function Bs(y){if(!y)return null;const p=Number(y);return isNaN(p)?null:p}class wi{constructor(p,g){this.providerId=p,this.signInMethod=g}toJSON(){return _e("not implemented")}_getIdTokenResponse(p){return _e("not implemented")}_linkToIdToken(p,g){return _e("not implemented")}_getReauthenticationResolver(p){return _e("not implemented")}}function qn(y,p){return Ol.apply(this,arguments)}function Ol(){return(Ol=(0,u.Z)(function*(y,p){return on(y,"POST","/v1/accounts:resetPassword",Vt(y,p))})).apply(this,arguments)}function cn(y,p){return Qc.apply(this,arguments)}function Qc(){return(Qc=(0,u.Z)(function*(y,p){return on(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Xc(y,p){return co.apply(this,arguments)}function co(){return(co=(0,u.Z)(function*(y,p){return on(y,"POST","/v1/accounts:update",Vt(y,p))})).apply(this,arguments)}function uo(){return(uo=(0,u.Z)(function*(y,p){return Ji(y,"POST","/v1/accounts:signInWithPassword",Vt(y,p))})).apply(this,arguments)}function Hs(y,p){return Rr.apply(this,arguments)}function Rr(){return(Rr=(0,u.Z)(function*(y,p){return on(y,"POST","/v1/accounts:sendOobCode",Vt(y,p))})).apply(this,arguments)}function xn(y,p){return Jc.apply(this,arguments)}function Jc(){return(Jc=(0,u.Z)(function*(y,p){return Hs(y,p)})).apply(this,arguments)}function pi(y,p){return Li.apply(this,arguments)}function Li(){return(Li=(0,u.Z)(function*(y,p){return Hs(y,p)})).apply(this,arguments)}function Pl(y,p){return Fa.apply(this,arguments)}function Fa(){return(Fa=(0,u.Z)(function*(y,p){return Hs(y,p)})).apply(this,arguments)}function eu(y,p){return Ai.apply(this,arguments)}function Ai(){return(Ai=(0,u.Z)(function*(y,p){return Hs(y,p)})).apply(this,arguments)}function Dd(){return(Dd=(0,u.Z)(function*(y,p){return Ji(y,"POST","/v1/accounts:signInWithEmailLink",Vt(y,p))})).apply(this,arguments)}function tu(){return(tu=(0,u.Z)(function*(y,p){return Ji(y,"POST","/v1/accounts:signInWithEmailLink",Vt(y,p))})).apply(this,arguments)}class nu extends wi{constructor(p,g,w,M=null){super("password",w),this._email=p,this._password=g,this._tenantId=M}static _fromEmailAndPassword(p,g){return new nu(p,g,"password")}static _fromEmailAndCode(p,g,w=null){return new nu(p,g,"emailLink",w)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p;if(g?.email&&g?.password){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(p){var g=this;return(0,u.Z)(function*(){switch(g.signInMethod){case"password":return function Na(y,p){return uo.apply(this,arguments)}(p,{returnSecureToken:!0,email:g._email,password:g._password});case"emailLink":return function Cf(y,p){return Dd.apply(this,arguments)}(p,{email:g._email,oobCode:g._password});default:Me(p,"internal-error")}})()}_linkToIdToken(p,g){var w=this;return(0,u.Z)(function*(){switch(w.signInMethod){case"password":return cn(p,{idToken:g,returnSecureToken:!0,email:w._email,password:w._password});case"emailLink":return function Td(y,p){return tu.apply(this,arguments)}(p,{idToken:g,email:w._email,oobCode:w._password});default:Me(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function ni(y,p){return Sd.apply(this,arguments)}function Sd(){return(Sd=(0,u.Z)(function*(y,p){return Ji(y,"POST","/v1/accounts:signInWithIdp",Vt(y,p))})).apply(this,arguments)}class ds extends wi{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const g=new ds(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(g.idToken=p.idToken),p.accessToken&&(g.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(g.nonce=p.nonce),p.pendingToken&&(g.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(g.accessToken=p.oauthToken,g.secret=p.oauthTokenSecret):Me("argument-error"),g}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p,{providerId:w,signInMethod:M}=g,O=(0,oe._T)(g,["providerId","signInMethod"]);if(!w||!M)return null;const K=new ds(w,M);return K.idToken=O.idToken||void 0,K.accessToken=O.accessToken||void 0,K.secret=O.secret,K.nonce=O.nonce,K.pendingToken=O.pendingToken||null,K}_getIdTokenResponse(p){return ni(p,this.buildRequest())}_linkToIdToken(p,g){const w=this.buildRequest();return w.idToken=g,ni(p,w)}_getReauthenticationResolver(p){const g=this.buildRequest();return g.autoCreate=!1,ni(p,g)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const g={};this.idToken&&(g.id_token=this.idToken),this.accessToken&&(g.access_token=this.accessToken),this.secret&&(g.oauth_token_secret=this.secret),g.providerId=this.providerId,this.nonce&&!this.pendingToken&&(g.nonce=this.nonce),p.postBody=(0,N.xO)(g)}return p}}function jm(y,p){return xd.apply(this,arguments)}function xd(){return(xd=(0,u.Z)(function*(y,p){return on(y,"POST","/v1/accounts:sendVerificationCode",Vt(y,p))})).apply(this,arguments)}function js(){return(js=(0,u.Z)(function*(y,p){return Ji(y,"POST","/v1/accounts:signInWithPhoneNumber",Vt(y,p))})).apply(this,arguments)}function Md(){return(Md=(0,u.Z)(function*(y,p){const g=yield Ji(y,"POST","/v1/accounts:signInWithPhoneNumber",Vt(y,p));if(g.temporaryProof)throw xr(y,"account-exists-with-different-credential",g);return g})).apply(this,arguments)}const Gm={USER_NOT_FOUND:"user-not-found"};function Ad(){return(Ad=(0,u.Z)(function*(y,p){return Ji(y,"POST","/v1/accounts:signInWithPhoneNumber",Vt(y,Object.assign(Object.assign({},p),{operation:"REAUTH"})),Gm)})).apply(this,arguments)}class $s extends wi{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,g){return new $s({verificationId:p,verificationCode:g})}static _fromTokenResponse(p,g){return new $s({phoneNumber:p,temporaryProof:g})}_getIdTokenResponse(p){return function iu(y,p){return js.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,g){return function $m(y,p){return Md.apply(this,arguments)}(p,Object.assign({idToken:g},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function zm(y,p){return Ad.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:g,verificationId:w,verificationCode:M}=this.params;return p&&g?{temporaryProof:p,phoneNumber:g}:{sessionInfo:w,code:M}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:g,verificationCode:w,phoneNumber:M,temporaryProof:O}=p;return w||g||M||O?new $s({verificationId:g,verificationCode:w,phoneNumber:M,temporaryProof:O}):null}}class Nl{constructor(p){var g,w,M,O,K,de;const Le=(0,N.zd)((0,N.pd)(p)),Je=null!==(g=Le.apiKey)&&void 0!==g?g:null,vt=null!==(w=Le.oobCode)&&void 0!==w?w:null,_t=function kd(y){switch(y){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(M=Le.mode)&&void 0!==M?M:null);j(Je&&vt&&_t,"argument-error"),this.apiKey=Je,this.operation=_t,this.code=vt,this.continueUrl=null!==(O=Le.continueUrl)&&void 0!==O?O:null,this.languageCode=null!==(K=Le.languageCode)&&void 0!==K?K:null,this.tenantId=null!==(de=Le.tenantId)&&void 0!==de?de:null}static parseLink(p){const g=function Rd(y){const p=(0,N.zd)((0,N.pd)(y)).link,g=p?(0,N.zd)((0,N.pd)(p)).deep_link_id:null,w=(0,N.zd)((0,N.pd)(y)).deep_link_id;return(w?(0,N.zd)((0,N.pd)(w)).link:null)||w||g||p||y}(p);try{return new Nl(g)}catch{return null}}}let zr=(()=>{class y{constructor(){this.providerId=y.PROVIDER_ID}static credential(g,w){return nu._fromEmailAndPassword(g,w)}static credentialWithLink(g,w){const M=Nl.parseLink(w);return j(M,"argument-error"),nu._fromEmailAndCode(g,M.code,M.tenantId)}}return y.PROVIDER_ID="password",y.EMAIL_PASSWORD_SIGN_IN_METHOD="password",y.EMAIL_LINK_SIGN_IN_METHOD="emailLink",y})();class hs{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class fs extends hs{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class ho extends fs{static credentialFromJSON(p){const g="string"==typeof p?JSON.parse(p):p;return j("providerId"in g&&"signInMethod"in g,"argument-error"),ds._fromParams(g)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return j(p.idToken||p.accessToken,"argument-error"),ds._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return ho.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return ho.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:g,oauthAccessToken:w,oauthTokenSecret:M,pendingToken:O,nonce:K,providerId:de}=p;if(!w&&!M&&!g&&!O||!de)return null;try{return new ho(de)._credential({idToken:g,accessToken:w,nonce:K,pendingToken:O})}catch{return null}}}let La=(()=>{class y extends fs{constructor(){super("facebook.com")}static credential(g){return ds._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.FACEBOOK_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return y.credential(g.oauthAccessToken)}catch{return null}}}return y.FACEBOOK_SIGN_IN_METHOD="facebook.com",y.PROVIDER_ID="facebook.com",y})(),Fl=(()=>{class y extends fs{constructor(){super("google.com"),this.addScope("profile")}static credential(g,w){return ds._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:w})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:w,oauthAccessToken:M}=g;if(!w&&!M)return null;try{return y.credential(w,M)}catch{return null}}}return y.GOOGLE_SIGN_IN_METHOD="google.com",y.PROVIDER_ID="google.com",y})(),ru=(()=>{class y extends fs{constructor(){super("github.com")}static credential(g){return ds._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GITHUB_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return y.credential(g.oauthAccessToken)}catch{return null}}}return y.GITHUB_SIGN_IN_METHOD="github.com",y.PROVIDER_ID="github.com",y})();class _r extends wi{constructor(p,g){super(p,p),this.pendingToken=g}_getIdTokenResponse(p){return ni(p,this.buildRequest())}_linkToIdToken(p,g){const w=this.buildRequest();return w.idToken=g,ni(p,w)}_getReauthenticationResolver(p){const g=this.buildRequest();return g.autoCreate=!1,ni(p,g)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p,{providerId:w,signInMethod:M,pendingToken:O}=g;return w&&M&&O&&w===M?new _r(w,O):null}static _create(p,g){return new _r(p,g)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class yr extends hs{constructor(p){j(p.startsWith("saml."),"argument-error"),super(p)}static credentialFromResult(p){return yr.samlCredentialFromTaggedObject(p)}static credentialFromError(p){return yr.samlCredentialFromTaggedObject(p.customData||{})}static credentialFromJSON(p){const g=_r.fromJSON(p);return j(g,"argument-error"),g}static samlCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{pendingToken:g,providerId:w}=p;if(!g||!w)return null;try{return _r._create(w,g)}catch{return null}}}let nr=(()=>{class y extends fs{constructor(){super("twitter.com")}static credential(g,w){return ds._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.TWITTER_SIGN_IN_METHOD,oauthToken:g,oauthTokenSecret:w})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthAccessToken:w,oauthTokenSecret:M}=g;if(!w||!M)return null;try{return y.credential(w,M)}catch{return null}}}return y.TWITTER_SIGN_IN_METHOD="twitter.com",y.PROVIDER_ID="twitter.com",y})();function Zo(y,p){return su.apply(this,arguments)}function su(){return(su=(0,u.Z)(function*(y,p){return Ji(y,"POST","/v1/accounts:signUp",Vt(y,p))})).apply(this,arguments)}class Ci{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,g,w,M=!1){return(0,u.Z)(function*(){const O=yield lt._fromIdTokenResponse(p,w,M),K=Df(w);return new Ci({user:O,providerId:K,_tokenResponse:w,operationType:g})})()}static _forOperation(p,g,w){return(0,u.Z)(function*(){yield p._updateTokensIfNecessary(w,!0);const M=Df(w);return new Ci({user:p,providerId:M,_tokenResponse:w,operationType:g})})()}}function Df(y){return y.providerId?y.providerId:"phoneNumber"in y?"phone":null}function Mn(){return(Mn=(0,u.Z)(function*(y){var p;const g=wn(y);if(yield g._initializationPromise,null!==(p=g.currentUser)&&void 0!==p&&p.isAnonymous)return new Ci({user:g.currentUser,providerId:null,operationType:"signIn"});const w=yield Zo(g,{returnSecureToken:!0}),M=yield Ci._fromIdTokenResponse(g,"signIn",w,!0);return yield g._updateCurrentUser(M.user),M})).apply(this,arguments)}class Ll extends N.ZR{constructor(p,g,w,M){var O;super(g.code,g.message),this.operationType=w,this.user=M,Object.setPrototypeOf(this,Ll.prototype),this.customData={appName:p.name,tenantId:null!==(O=p.tenantId)&&void 0!==O?O:void 0,_serverResponse:g.customData._serverResponse,operationType:w}}static _fromErrorAndOperation(p,g,w,M){return new Ll(p,g,w,M)}}function Sf(y,p,g,w){return("reauthenticate"===p?g._getReauthenticationResolver(y):g._getIdTokenResponse(y)).catch(O=>{throw"auth/multi-factor-auth-required"===O.code?Ll._fromErrorAndOperation(y,O,p,w):O})}function vr(y){return new Set(y.map(({providerId:p})=>p).filter(p=>!!p))}function Vl(){return(Vl=(0,u.Z)(function*(y,p){const g=(0,N.m9)(y);yield Wt(!0,g,p);const{providerUserInfo:w}=yield tr(g.auth,{idToken:yield g.getIdToken(),deleteProvider:[p]}),M=vr(w||[]);return g.providerData=g.providerData.filter(O=>M.has(O.providerId)),M.has("phone")||(g.phoneNumber=null),yield g.auth._persistUserIfCurrent(g),g})).apply(this,arguments)}function Ko(y,p){return ms.apply(this,arguments)}function ms(){return(ms=(0,u.Z)(function*(y,p,g=!1){const w=yield hi(y,p._linkToIdToken(y.auth,yield y.getIdToken()),g);return Ci._forOperation(y,"link",w)})).apply(this,arguments)}function Wt(y,p,g){return Va.apply(this,arguments)}function Va(){return(Va=(0,u.Z)(function*(y,p,g){yield Xt(p);const M=!1===y?"provider-already-linked":"no-such-provider";j(vr(p.providerData).has(g)===y,p.auth,M)})).apply(this,arguments)}function fo(y,p){return Bl.apply(this,arguments)}function Bl(){return(Bl=(0,u.Z)(function*(y,p,g=!1){var w;const{auth:M}=y,O="reauthenticate";try{const K=yield hi(y,Sf(M,O,p,y),g);j(K.idToken,M,"internal-error");const de=ct(K.idToken);j(de,M,"internal-error");const{sub:Le}=de;return j(y.uid===Le,M,"user-mismatch"),Ci._forOperation(y,O,K)}catch(K){throw"auth/user-not-found"===(null===(w=K)||void 0===w?void 0:w.code)&&Me(M,"user-mismatch"),K}})).apply(this,arguments)}function Or(y,p){return Ul.apply(this,arguments)}function Ul(){return(Ul=(0,u.Z)(function*(y,p,g=!1){const w="signIn",M=yield Sf(y,w,p),O=yield Ci._fromIdTokenResponse(y,w,M);return g||(yield y._updateCurrentUser(O.user)),O})).apply(this,arguments)}function Tn(y,p){return Dt.apply(this,arguments)}function Dt(){return(Dt=(0,u.Z)(function*(y,p){return Or(wn(y),p)})).apply(this,arguments)}function Hl(y,p){return xf.apply(this,arguments)}function xf(){return(xf=(0,u.Z)(function*(y,p){const g=(0,N.m9)(y);return yield Wt(!1,g,p.providerId),Ko(g,p)})).apply(this,arguments)}function jl(y,p){return $l.apply(this,arguments)}function $l(){return($l=(0,u.Z)(function*(y,p){return fo((0,N.m9)(y),p)})).apply(this,arguments)}function ou(y,p){return gs.apply(this,arguments)}function gs(){return(gs=(0,u.Z)(function*(y,p){return Ji(y,"POST","/v1/accounts:signInWithCustomToken",Vt(y,p))})).apply(this,arguments)}function Ba(){return(Ba=(0,u.Z)(function*(y,p){const g=wn(y),w=yield ou(g,{token:p,returnSecureToken:!0}),M=yield Ci._fromIdTokenResponse(g,"signIn",w);return yield g._updateCurrentUser(M.user),M})).apply(this,arguments)}class xe{constructor(p,g){this.factorId=p,this.uid=g.mfaEnrollmentId,this.enrollmentTime=new Date(g.enrolledAt).toUTCString(),this.displayName=g.displayName}static _fromServerResponse(p,g){return"phoneInfo"in g?jt._fromServerResponse(p,g):Me(p,"internal-error")}}class jt extends xe{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,g){return new jt(g)}}function Gl(y,p,g){var w;j((null===(w=g.url)||void 0===w?void 0:w.length)>0,y,"invalid-continue-uri"),j(typeof g.dynamicLinkDomain>"u"||g.dynamicLinkDomain.length>0,y,"invalid-dynamic-link-domain"),p.continueUrl=g.url,p.dynamicLinkDomain=g.dynamicLinkDomain,p.canHandleCodeInApp=g.handleCodeInApp,g.iOS&&(j(g.iOS.bundleId.length>0,y,"missing-ios-bundle-id"),p.iOSBundleId=g.iOS.bundleId),g.android&&(j(g.android.packageName.length>0,y,"missing-android-pkg-name"),p.androidInstallApp=g.android.installApp,p.androidMinimumVersionCode=g.android.minimumVersion,p.androidPackageName=g.android.packageName)}function An(){return(An=(0,u.Z)(function*(y,p,g){const w=(0,N.m9)(y),M={requestType:"PASSWORD_RESET",email:p};g&&Gl(w,M,g),yield pi(w,M)})).apply(this,arguments)}function Yo(){return(Yo=(0,u.Z)(function*(y,p,g){yield qn((0,N.m9)(y),{oobCode:p,newPassword:g})})).apply(this,arguments)}function Ua(){return(Ua=(0,u.Z)(function*(y,p){yield Xc((0,N.m9)(y),{oobCode:p})})).apply(this,arguments)}function Ha(y,p){return lu.apply(this,arguments)}function lu(){return(lu=(0,u.Z)(function*(y,p){const g=(0,N.m9)(y),w=yield qn(g,{oobCode:p}),M=w.requestType;switch(j(M,g,"internal-error"),M){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":j(w.newEmail,g,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":j(w.mfaInfo,g,"internal-error");default:j(w.email,g,"internal-error")}let O=null;return w.mfaInfo&&(O=xe._fromServerResponse(wn(g),w.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.newEmail:w.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.email:w.newEmail)||null,multiFactorInfo:O},operation:M}})).apply(this,arguments)}function Od(){return(Od=(0,u.Z)(function*(y,p){const{data:g}=yield Ha((0,N.m9)(y),p);return g.email})).apply(this,arguments)}function kn(){return(kn=(0,u.Z)(function*(y,p,g){const w=wn(y),M=yield Zo(w,{returnSecureToken:!0,email:p,password:g}),O=yield Ci._fromIdTokenResponse(w,"signIn",M);return yield w._updateCurrentUser(O.user),O})).apply(this,arguments)}function mo(){return(mo=(0,u.Z)(function*(y,p,g){const w=(0,N.m9)(y),M={requestType:"EMAIL_SIGNIN",email:p};j(g.handleCodeInApp,w,"argument-error"),g&&Gl(w,M,g),yield Pl(w,M)})).apply(this,arguments)}function ja(){return(ja=(0,u.Z)(function*(y,p,g){const w=(0,N.m9)(y),M=zr.credentialWithLink(p,g||Oe());return j(M._tenantId===(w.tenantId||null),w,"tenant-id-mismatch"),Tn(w,M)})).apply(this,arguments)}function Wm(y,p){return du.apply(this,arguments)}function du(){return(du=(0,u.Z)(function*(y,p){return on(y,"POST","/v1/accounts:createAuthUri",Vt(y,p))})).apply(this,arguments)}function $a(){return($a=(0,u.Z)(function*(y,p){const w={identifier:p,continueUri:ft()?Oe():"http://localhost"},{signinMethods:M}=yield Wm((0,N.m9)(y),w);return M||[]})).apply(this,arguments)}function Ga(){return(Ga=(0,u.Z)(function*(y,p){const g=(0,N.m9)(y),M={requestType:"VERIFY_EMAIL",idToken:yield y.getIdToken()};p&&Gl(g.auth,M,p);const{email:O}=yield xn(g.auth,M);O!==y.email&&(yield y.reload())})).apply(this,arguments)}function Zl(){return(Zl=(0,u.Z)(function*(y,p,g){const w=(0,N.m9)(y),O={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield y.getIdToken(),newEmail:p};g&&Gl(w.auth,O,g);const{email:K}=yield eu(w.auth,O);K!==y.email&&(yield y.reload())})).apply(this,arguments)}function Kl(y,p){return pu.apply(this,arguments)}function pu(){return(pu=(0,u.Z)(function*(y,p){return on(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function gu(){return(gu=(0,u.Z)(function*(y,{displayName:p,photoURL:g}){if(void 0===p&&void 0===g)return;const w=(0,N.m9)(y),O={idToken:yield w.getIdToken(),displayName:p,photoUrl:g,returnSecureToken:!0},K=yield hi(w,Kl(w.auth,O));w.displayName=K.displayName||null,w.photoURL=K.photoUrl||null;const de=w.providerData.find(({providerId:Le})=>"password"===Le);de&&(de.displayName=w.displayName,de.photoURL=w.photoURL),yield w._updateTokensIfNecessary(K)})).apply(this,arguments)}function _o(y,p,g){return Yl.apply(this,arguments)}function Yl(){return(Yl=(0,u.Z)(function*(y,p,g){const{auth:w}=y,O={idToken:yield y.getIdToken(),returnSecureToken:!0};p&&(O.email=p),g&&(O.password=g);const K=yield hi(y,cn(w,O));yield y._updateTokensIfNecessary(K,!0)})).apply(this,arguments)}class ir{constructor(p,g,w={}){this.isNewUser=p,this.providerId=g,this.profile=w}}class yn extends ir{constructor(p,g,w,M){super(p,g,w),this.username=M}}class Nd extends ir{constructor(p,g){super(p,"facebook.com",g)}}class _u extends yn{constructor(p,g){super(p,"github.com",g,"string"==typeof g?.login?g?.login:null)}}class Mf extends ir{constructor(p,g){super(p,"google.com",g)}}class yu extends yn{constructor(p,g,w){super(p,"twitter.com",g,w)}}function Ql(y){const{user:p,_tokenResponse:g}=y;return p.isAnonymous&&!g?{providerId:null,isNewUser:!1,profile:null}:function ii(y){var p,g;if(!y)return null;const{providerId:w}=y,M=y.rawUserInfo?JSON.parse(y.rawUserInfo):{},O=y.isNewUser||"identitytoolkit#SignupNewUserResponse"===y.kind;if(!w&&y?.idToken){const K=null===(g=null===(p=ct(y.idToken))||void 0===p?void 0:p.firebase)||void 0===g?void 0:g.sign_in_provider;if(K)return new ir(O,"anonymous"!==K&&"custom"!==K?K:null)}if(!w)return null;switch(w){case"facebook.com":return new Nd(O,M);case"github.com":return new _u(O,M);case"google.com":return new Mf(O,M);case"twitter.com":return new yu(O,M,y.screenName||null);case"custom":case"anonymous":return new ir(O,null);default:return new ir(O,w,M)}}(g)}class yo{constructor(p,g){this.type=p,this.credential=g}static _fromIdtoken(p){return new yo("enroll",p)}static _fromMfaPendingCredential(p){return new yo("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var g,w;if(p?.multiFactorSession){if(null!==(g=p.multiFactorSession)&&void 0!==g&&g.pendingCredential)return yo._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null!==(w=p.multiFactorSession)&&void 0!==w&&w.idToken)return yo._fromIdtoken(p.multiFactorSession.idToken)}return null}}class Xl{constructor(p,g,w){this.session=p,this.hints=g,this.signInResolver=w}static _fromError(p,g){const w=wn(p),M=g.customData._serverResponse,O=(M.mfaInfo||[]).map(de=>xe._fromServerResponse(w,de));j(M.mfaPendingCredential,w,"internal-error");const K=yo._fromMfaPendingCredential(M.mfaPendingCredential);return new Xl(K,O,function(){var de=(0,u.Z)(function*(Le){const Je=yield Le._process(w,K);delete M.mfaInfo,delete M.mfaPendingCredential;const vt=Object.assign(Object.assign({},M),{idToken:Je.idToken,refreshToken:Je.refreshToken});switch(g.operationType){case"signIn":const _t=yield Ci._fromIdTokenResponse(w,g.operationType,vt);return yield w._updateCurrentUser(_t.user),_t;case"reauthenticate":return j(g.user,w,"internal-error"),Ci._forOperation(g.user,g.operationType,vt);default:Me(w,"internal-error")}});return function(Le){return de.apply(this,arguments)}}())}resolveSignIn(p){var g=this;return(0,u.Z)(function*(){return g.signInResolver(p)})()}}function Jl(y,p){return on(y,"POST","/v2/accounts/mfaEnrollment:start",Vt(y,p))}class Af{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(g=>{g.mfaInfo&&(this.enrolledFactors=g.mfaInfo.map(w=>xe._fromServerResponse(p.auth,w)))})}static _fromUser(p){return new Af(p)}getSession(){var p=this;return(0,u.Z)(function*(){return yo._fromIdtoken(yield p.user.getIdToken())})()}enroll(p,g){var w=this;return(0,u.Z)(function*(){const M=p,O=yield w.getSession(),K=yield hi(w.user,M._process(w.user.auth,O,g));return yield w.user._updateTokensIfNecessary(K),w.user.reload()})()}unenroll(p){var g=this;return(0,u.Z)(function*(){var w;const M="string"==typeof p?p:p.uid,O=yield g.user.getIdToken(),K=yield hi(g.user,function Bd(y,p){return on(y,"POST","/v2/accounts/mfaEnrollment:withdraw",Vt(y,p))}(g.user.auth,{idToken:O,mfaEnrollmentId:M}));g.enrolledFactors=g.enrolledFactors.filter(({uid:de})=>de!==M),yield g.user._updateTokensIfNecessary(K);try{yield g.user.reload()}catch(de){if("auth/user-token-expired"!==(null===(w=de)||void 0===w?void 0:w.code))throw de}})()}}const vo=new WeakMap,bo="__sak";class tc{constructor(p,g){this.storageRetriever=p,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(bo,"1"),this.storage.removeItem(bo),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(p,g){return this.storage.setItem(p,JSON.stringify(g)),Promise.resolve()}_get(p){const g=this.storage.getItem(p);return Promise.resolve(g?JSON.parse(g):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const qa=(()=>{class y extends tc{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(g,w)=>this.onStorageEvent(g,w),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function za(){const y=(0,N.z$)();return $n(y)||nn(y)}()&&function bn(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=oo(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const w of Object.keys(this.listeners)){const M=this.storage.getItem(w),O=this.localCache[w];M!==O&&g(w,O,M)}}onStorageEvent(g,w=!1){if(!g.key)return void this.forAllChangedKeys((de,Le,Je)=>{this.notifyListeners(de,Je)});const M=g.key;if(w?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const de=this.storage.getItem(M);if(g.newValue!==de)null!==g.newValue?this.storage.setItem(M,g.newValue):this.storage.removeItem(M);else if(this.localCache[M]===g.newValue&&!w)return}const O=()=>{const de=this.storage.getItem(M);!w&&this.localCache[M]===de||this.notifyListeners(M,de)},K=this.storage.getItem(M);!function ti(){return(0,N.w1)()&&10===document.documentMode}()||K===g.newValue||g.newValue===g.oldValue?O():setTimeout(O,10)}notifyListeners(g,w){this.localCache[g]=w;const M=this.listeners[g];if(M)for(const O of Array.from(M))O(w&&JSON.parse(w))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,w,M)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:w,newValue:M}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,w){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(w)}_removeListener(g,w){this.listeners[g]&&(this.listeners[g].delete(w),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,w){var M=()=>super._set,O=this;return(0,u.Z)(function*(){yield M().call(O,g,w),O.localCache[g]=JSON.stringify(w)})()}_get(g){var w=()=>super._get,M=this;return(0,u.Z)(function*(){const O=yield w().call(M,g);return M.localCache[g]=JSON.stringify(O),O})()}_remove(g){var w=()=>super._remove,M=this;return(0,u.Z)(function*(){yield w().call(M,g),delete M.localCache[g]})()}}return y.type="LOCAL",y})(),Wr=(()=>{class y extends tc{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(g,w){}_removeListener(g,w){}}return y.type="SESSION",y})();let jd=(()=>{class y{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const w=this.receivers.find(O=>O.isListeningto(g));if(w)return w;const M=new y(g);return this.receivers.push(M),M}isListeningto(g){return this.eventTarget===g}handleEvent(g){var w=this;return(0,u.Z)(function*(){const M=g,{eventId:O,eventType:K,data:de}=M.data,Le=w.handlersMap[K];if(!Le?.size)return;M.ports[0].postMessage({status:"ack",eventId:O,eventType:K});const Je=Array.from(Le).map(function(){var _t=(0,u.Z)(function*(ri){return ri(M.origin,de)});return function(ri){return _t.apply(this,arguments)}}()),vt=yield function Za(y){return Promise.all(y.map(function(){var p=(0,u.Z)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(w){return{fulfilled:!1,reason:w}}});return function(g){return p.apply(this,arguments)}}()))}(Je);M.ports[0].postMessage({status:"done",eventId:O,eventType:K,response:vt})})()}_subscribe(g,w){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(w)}_unsubscribe(g,w){this.handlersMap[g]&&w&&this.handlersMap[g].delete(w),(!w||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return y.receivers=[],y})();function Ka(y="",p=10){let g="";for(let w=0;w<p;w++)g+=Math.floor(10*Math.random());return y+g}class bu{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,g,w=50){var M=this;return(0,u.Z)(function*(){const O=typeof MessageChannel<"u"?new MessageChannel:null;if(!O)throw new Error("connection_unavailable");let K,de;return new Promise((Le,Je)=>{const vt=Ka("",20);O.port1.start();const _t=setTimeout(()=>{Je(new Error("unsupported_event"))},w);de={messageChannel:O,onMessage(ri){const Ts=ri;if(Ts.data.eventId===vt)switch(Ts.data.status){case"ack":clearTimeout(_t),K=setTimeout(()=>{Je(new Error("timeout"))},3e3);break;case"done":clearTimeout(K),Le(Ts.data.response);break;default:clearTimeout(_t),clearTimeout(K),Je(new Error("invalid_response"))}}},M.handlers.add(de),O.port1.addEventListener("message",de.onMessage),M.target.postMessage({eventType:p,eventId:vt,data:g},[O.port2])}).finally(()=>{de&&M.removeMessageHandler(de)})})()}}function Vn(){return window}function nc(){return typeof Vn().WorkerGlobalScope<"u"&&"function"==typeof Vn().importScripts}function Ya(){return(Ya=(0,u.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const qs="firebaseLocalStorageDb",Ws="firebaseLocalStorage",sc="fbase_key";class Co{constructor(p){this.request=p}toPromise(){return new Promise((p,g)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function Qa(y,p){return y.transaction([Ws],p?"readwrite":"readonly").objectStore(Ws)}function ta(){const y=indexedDB.open(qs,1);return new Promise((p,g)=>{y.addEventListener("error",()=>{g(y.error)}),y.addEventListener("upgradeneeded",()=>{const w=y.result;try{w.createObjectStore(Ws,{keyPath:sc})}catch(M){g(M)}}),y.addEventListener("success",(0,u.Z)(function*(){const w=y.result;w.objectStoreNames.contains(Ws)?p(w):(w.close(),yield function Gd(){const y=indexedDB.deleteDatabase(qs);return new Co(y).toPromise()}(),p(yield ta()))}))})}function ys(y,p,g){return wu.apply(this,arguments)}function wu(){return(wu=(0,u.Z)(function*(y,p,g){const w=Qa(y,!0).put({[sc]:p,value:g});return new Co(w).toPromise()})).apply(this,arguments)}function Xa(){return(Xa=(0,u.Z)(function*(y,p){const g=Qa(y,!1).get(p),w=yield new Co(g).toPromise();return void 0===w?null:w.value})).apply(this,arguments)}function Eo(y,p){const g=Qa(y,!0).delete(p);return new Co(g).toPromise()}const na=(()=>{class y{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,u.Z)(function*(){return g.db||(g.db=yield ta()),g.db})()}_withRetries(g){var w=this;return(0,u.Z)(function*(){let M=0;for(;;)try{const O=yield w._openDb();return yield g(O)}catch(O){if(M++>3)throw O;w.db&&(w.db.close(),w.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,u.Z)(function*(){return nc()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,u.Z)(function*(){g.receiver=jd._getInstance(function rc(){return nc()?self:null}()),g.receiver._subscribe("keyChanged",function(){var w=(0,u.Z)(function*(M,O){return{keyProcessed:(yield g._poll()).includes(O.key)}});return function(M,O){return w.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var w=(0,u.Z)(function*(M,O){return["keyChanged"]});return function(M,O){return w.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,u.Z)(function*(){var w,M;if(g.activeServiceWorker=yield function wo(){return Ya.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new bu(g.activeServiceWorker);const O=yield g.sender._send("ping",{},800);!O||(null===(w=O[0])||void 0===w?void 0:w.fulfilled)&&(null===(M=O[0])||void 0===M?void 0:M.value.includes("keyChanged"))&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var w=this;return(0,u.Z)(function*(){if(w.sender&&w.activeServiceWorker&&function ic(){var y;return(null===(y=navigator?.serviceWorker)||void 0===y?void 0:y.controller)||null}()===w.activeServiceWorker)try{yield w.sender._send("keyChanged",{key:g},w.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,u.Z)(function*(){try{if(!indexedDB)return!1;const g=yield ta();return yield ys(g,bo,"1"),yield Eo(g,bo),!0}catch{}return!1})()}_withPendingWrite(g){var w=this;return(0,u.Z)(function*(){w.pendingWrites++;try{yield g()}finally{w.pendingWrites--}})()}_set(g,w){var M=this;return(0,u.Z)(function*(){return M._withPendingWrite((0,u.Z)(function*(){return yield M._withRetries(O=>ys(O,g,w)),M.localCache[g]=w,M.notifyServiceWorker(g)}))})()}_get(g){var w=this;return(0,u.Z)(function*(){const M=yield w._withRetries(O=>function oc(y,p){return Xa.apply(this,arguments)}(O,g));return w.localCache[g]=M,M})()}_remove(g){var w=this;return(0,u.Z)(function*(){return w._withPendingWrite((0,u.Z)(function*(){return yield w._withRetries(M=>Eo(M,g)),delete w.localCache[g],w.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,u.Z)(function*(){const w=yield g._withRetries(K=>{const de=Qa(K,!1).getAll();return new Co(de).toPromise()});if(!w)return[];if(0!==g.pendingWrites)return[];const M=[],O=new Set;for(const{fbase_key:K,value:de}of w)O.add(K),JSON.stringify(g.localCache[K])!==JSON.stringify(de)&&(g.notifyListeners(K,de),M.push(K));for(const K of Object.keys(g.localCache))g.localCache[K]&&!O.has(K)&&(g.notifyListeners(K,null),M.push(K));return M})()}notifyListeners(g,w){this.localCache[g]=w;const M=this.listeners[g];if(M)for(const O of Array.from(M))O(w)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,u.Z)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,w){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(w)}_removeListener(g,w){this.listeners[g]&&(this.listeners[g].delete(w),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return y.type="LOCAL",y})();function ia(y,p){return on(y,"POST","/v2/accounts/mfaSignIn:start",Vt(y,p))}function Zs(){return(Zs=(0,u.Z)(function*(y){return(yield on(y,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function sa(y){return new Promise((p,g)=>{const w=document.createElement("script");w.setAttribute("src",y),w.onload=p,w.onerror=M=>{const O=we("internal-error");O.customData=M,g(O)},w.type="text/javascript",w.charset="UTF-8",function ra(){var y,p;return null!==(p=null===(y=document.getElementsByTagName("head"))||void 0===y?void 0:y[0])&&void 0!==p?p:document}().appendChild(w)})}function cc(y){return`__${y}${Math.floor(1e6*Math.random())}`}const Ja=1e12;class pn{constructor(p){this.auth=p,this.counter=Ja,this._widgets=new Map}render(p,g){const w=this.counter;return this._widgets.set(w,new Zm(p,this.auth.name,g||{})),this.counter++,w}reset(p){var g;const w=p||Ja;null===(g=this._widgets.get(w))||void 0===g||g.delete(),this._widgets.delete(w)}getResponse(p){var g;return(null===(g=this._widgets.get(p||Ja))||void 0===g?void 0:g.getResponse())||""}execute(p){var g=this;return(0,u.Z)(function*(){var w;return null===(w=g._widgets.get(p||Ja))||void 0===w||w.execute(),""})()}}class Zm{constructor(p,g,w){this.params=w,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const M="string"==typeof p?document.getElementById(p):p;j(M,"argument-error",{appName:g}),this.container=M,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function yy(y){const p=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let w=0;w<y;w++)p.push(g.charAt(Math.floor(Math.random()*g.length)));return p.join("")}(50);const{callback:p,"expired-callback":g}=this.params;if(p)try{p(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,g)try{g()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Km=cc("rcb"),vy=new an(3e4,6e4);class kf{constructor(){var p;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(p=Vn().grecaptcha)||void 0===p||!p.render)}load(p,g=""){return j(function K0(y){return y.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(y)}(g),p,"argument-error"),this.shouldResolveImmediately(g)?Promise.resolve(Vn().grecaptcha):new Promise((w,M)=>{const O=Vn().setTimeout(()=>{M(we(p,"network-request-failed"))},vy.get());Vn()[Km]=()=>{Vn().clearTimeout(O),delete Vn()[Km];const de=Vn().grecaptcha;if(!de)return void M(we(p,"internal-error"));const Le=de.render;de.render=(Je,vt)=>{const _t=Le(Je,vt);return this.counter++,_t},this.hostLanguage=g,w(de)},sa(`https://www.google.com/recaptcha/api.js??${(0,N.xO)({onload:Km,render:"explicit",hl:g})}`).catch(()=>{clearTimeout(O),M(we(p,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){var g;return!(null===(g=Vn().grecaptcha)||void 0===g||!g.render)&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Do{load(p){return(0,u.Z)(function*(){return new pn(p)})()}clearedOneInstance(){}}const Ym="recaptcha",Qm={theme:"light",type:"image"};class gi{constructor(p,g=Object.assign({},Qm),w){this.parameters=g,this.type=Ym,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=wn(w),this.isInvisible="invisible"===this.parameters.size,j(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const M="string"==typeof p?document.getElementById(p):p;j(M,this.auth,"argument-error"),this.container=M,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Do:new kf,this.validateStartingState()}verify(){var p=this;return(0,u.Z)(function*(){p.assertNotDestroyed();const g=yield p.render(),w=p.getAssertedRecaptcha();return w.getResponse(g)||new Promise(O=>{const K=de=>{!de||(p.tokenChangeListeners.delete(K),O(de))};p.tokenChangeListeners.add(K),p.isInvisible&&w.execute(g)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){j(!this.parameters.sitekey,this.auth,"argument-error"),j(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),j(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return g=>{if(this.tokenChangeListeners.forEach(w=>w(g)),"function"==typeof p)p(g);else if("string"==typeof p){const w=Vn()[p];"function"==typeof w&&w(g)}}}assertNotDestroyed(){j(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,u.Z)(function*(){if(yield p.init(),!p.widgetId){let g=p.container;if(!p.isInvisible){const w=document.createElement("div");g.appendChild(w),g=w}p.widgetId=p.getAssertedRecaptcha().render(g,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,u.Z)(function*(){j(ft()&&!nc(),p.auth,"internal-error"),yield function un(){let y=null;return new Promise(p=>{"complete"!==document.readyState?(y=()=>p(),window.addEventListener("load",y)):p()}).catch(p=>{throw y&&window.removeEventListener("load",y),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const g=yield function rr(y){return Zs.apply(this,arguments)}(p.auth);j(g,p.auth,"internal-error"),p.parameters.sitekey=g})()}getAssertedRecaptcha(){return j(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Wn{constructor(p,g){this.verificationId=p,this.onConfirmation=g}confirm(p){const g=$s._fromVerification(this.verificationId,p);return this.onConfirmation(g)}}function uc(){return(uc=(0,u.Z)(function*(y,p,g){const w=wn(y),M=yield Bi(w,p,(0,N.m9)(g));return new Wn(M,O=>Tn(w,O))})).apply(this,arguments)}function Nr(){return(Nr=(0,u.Z)(function*(y,p,g){const w=(0,N.m9)(y);yield Wt(!1,w,"phone");const M=yield Bi(w.auth,p,(0,N.m9)(g));return new Wn(M,O=>Hl(w,O))})).apply(this,arguments)}function aa(){return(aa=(0,u.Z)(function*(y,p,g){const w=(0,N.m9)(y),M=yield Bi(w.auth,p,(0,N.m9)(g));return new Wn(M,O=>jl(w,O))})).apply(this,arguments)}function Bi(y,p,g){return bs.apply(this,arguments)}function bs(){return(bs=(0,u.Z)(function*(y,p,g){var w;const M=yield g.verify();try{let O;if(j("string"==typeof M,y,"argument-error"),j(g.type===Ym,y,"argument-error"),O="string"==typeof p?{phoneNumber:p}:p,"session"in O){const K=O.session;if("phoneNumber"in O)return j("enroll"===K.type,y,"internal-error"),(yield Jl(y,{idToken:K.credential,phoneEnrollmentInfo:{phoneNumber:O.phoneNumber,recaptchaToken:M}})).phoneSessionInfo.sessionInfo;{j("signin"===K.type,y,"internal-error");const de=(null===(w=O.multiFactorHint)||void 0===w?void 0:w.uid)||O.multiFactorUid;return j(de,y,"missing-multi-factor-info"),(yield ia(y,{mfaPendingCredential:K.credential,mfaEnrollmentId:de,phoneSignInInfo:{recaptchaToken:M}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:K}=yield jm(y,{phoneNumber:O.phoneNumber,recaptchaToken:M});return K}}finally{g._reset()}})).apply(this,arguments)}function it(){return(it=(0,u.Z)(function*(y,p){yield Ko((0,N.m9)(y),p)})).apply(this,arguments)}let dc=(()=>{class y{constructor(g){this.providerId=y.PROVIDER_ID,this.auth=wn(g)}verifyPhoneNumber(g,w){return Bi(this.auth,g,(0,N.m9)(w))}static credential(g,w){return $s._fromVerification(g,w)}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{phoneNumber:w,temporaryProof:M}=g;return w&&M?$s._fromTokenResponse(w,M):null}}return y.PROVIDER_ID="phone",y.PHONE_SIGN_IN_METHOD="phone",y})();function la(y,p){return p?ae(p):(j(y._popupRedirectResolver,y,"argument-error"),y._popupRedirectResolver)}class ca extends wi{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return ni(p,this._buildIdpRequest())}_linkToIdToken(p,g){return ni(p,this._buildIdpRequest(g))}_getReauthenticationResolver(p){return ni(p,this._buildIdpRequest())}_buildIdpRequest(p){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(g.idToken=p),g}}function Ui(y){return Or(y.auth,new ca(y),y.bypassAuthState)}function ua(y){const{auth:p,user:g}=y;return j(g,p,"internal-error"),fo(g,new ca(y),y.bypassAuthState)}function ws(y){return Zr.apply(this,arguments)}function Zr(){return(Zr=(0,u.Z)(function*(y){const{auth:p,user:g}=y;return j(g,p,"internal-error"),Ko(g,new ca(y),y.bypassAuthState)})).apply(this,arguments)}class Hi{constructor(p,g,w,M,O=!1){this.auth=p,this.resolver=w,this.user=M,this.bypassAuthState=O,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var p=this;return new Promise(function(){var g=(0,u.Z)(function*(w,M){p.pendingPromise={resolve:w,reject:M};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(O){p.reject(O)}});return function(w,M){return g.apply(this,arguments)}}())}onAuthEvent(p){var g=this;return(0,u.Z)(function*(){const{urlResponse:w,sessionId:M,postBody:O,tenantId:K,error:de,type:Le}=p;if(de)return void g.reject(de);const Je={auth:g.auth,requestUri:w,sessionId:M,tenantId:K||void 0,postBody:O||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask(Le)(Je))}catch(vt){g.reject(vt)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return Ui;case"linkViaPopup":case"linkViaRedirect":return ws;case"reauthViaPopup":case"reauthViaRedirect":return ua;default:Me(this.auth,"internal-error")}}resolve(p){Q(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){Q(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Iu=new an(2e3,1e4);function el(){return(el=(0,u.Z)(function*(y,p,g){const w=wn(y);Ue(y,p,hs);const M=la(w,g);return new or(w,"signInViaPopup",p,M).executeNotNull()})).apply(this,arguments)}function zd(){return(zd=(0,u.Z)(function*(y,p,g){const w=(0,N.m9)(y);Ue(w.auth,p,hs);const M=la(w.auth,g);return new or(w.auth,"reauthViaPopup",p,M,w).executeNotNull()})).apply(this,arguments)}function tl(){return(tl=(0,u.Z)(function*(y,p,g){const w=(0,N.m9)(y);Ue(w.auth,p,hs);const M=la(w.auth,g);return new or(w.auth,"linkViaPopup",p,M,w).executeNotNull()})).apply(this,arguments)}let or=(()=>{class y extends Hi{constructor(g,w,M,O,K){super(g,w,O,K),this.provider=M,this.authWindow=null,this.pollId=null,y.currentPopupAction&&y.currentPopupAction.cancel(),y.currentPopupAction=this}executeNotNull(){var g=this;return(0,u.Z)(function*(){const w=yield g.execute();return j(w,g.auth,"internal-error"),w})()}onExecution(){var g=this;return(0,u.Z)(function*(){Q(1===g.filter.length,"Popup operations only handle one event");const w=Ka();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],w),g.authWindow.associatedEvent=w,g.resolver._originValidation(g.auth).catch(M=>{g.reject(M)}),g.resolver._isIframeWebStorageSupported(g.auth,M=>{M||g.reject(we(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(we(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,y.currentPopupAction=null}pollUserCancellation(){const g=()=>{var w,M;this.pollId=null!==(M=null===(w=this.authWindow)||void 0===w?void 0:w.window)&&void 0!==M&&M.closed?window.setTimeout(()=>{this.pollId=null,this.reject(we(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(g,Iu.get())};g()}}return y.currentPopupAction=null,y})();const mn=new Map;class Kr extends Hi{constructor(p,g,w=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,w),this.eventId=null}execute(){var p=()=>super.execute,g=this;return(0,u.Z)(function*(){let w=mn.get(g.auth._key());if(!w){try{const O=(yield function fc(y,p){return Ks.apply(this,arguments)}(g.resolver,g.auth))?yield p().call(g):null;w=()=>Promise.resolve(O)}catch(M){w=()=>Promise.reject(M)}mn.set(g.auth._key(),w)}return g.bypassAuthState||mn.set(g.auth._key(),()=>Promise.resolve(null)),w()})()}onAuthEvent(p){var g=()=>super.onAuthEvent,w=this;return(0,u.Z)(function*(){if("signInViaRedirect"===p.type)return g().call(w,p);if("unknown"!==p.type){if(p.eventId){const M=yield w.auth._redirectUserForId(p.eventId);if(M)return w.user=M,g().call(w,p);w.resolve(null)}}else w.resolve(null)})()}onExecution(){return(0,u.Z)(function*(){})()}cleanUp(){}}function Ks(){return(Ks=(0,u.Z)(function*(y,p){const g=Tu(p),w=Cs(y);if(!(yield w._isAvailable()))return!1;const M="true"===(yield w._get(g));return yield w._remove(g),M})).apply(this,arguments)}function pc(y,p){return Yr.apply(this,arguments)}function Yr(){return(Yr=(0,u.Z)(function*(y,p){return Cs(y)._set(Tu(p),"true")})).apply(this,arguments)}function To(y,p){mn.set(y._key(),p)}function Cs(y){return ae(y._redirectPersistence)}function Tu(y){return ei("pendingRedirect",y.config.apiKey,y.name)}function D(){return(D=(0,u.Z)(function*(y,p,g){const w=wn(y);Ue(y,p,hs);const M=la(w,g);return yield pc(M,w),M._openRedirect(w,p,"signInViaRedirect")})).apply(this,arguments)}function V(){return(V=(0,u.Z)(function*(y,p,g){const w=(0,N.m9)(y);Ue(w.auth,p,hs);const M=la(w.auth,g);yield pc(M,w.auth);const O=yield pt(w);return M._openRedirect(w.auth,p,"reauthViaRedirect",O)})).apply(this,arguments)}function Se(){return(Se=(0,u.Z)(function*(y,p,g){const w=(0,N.m9)(y);Ue(w.auth,p,hs);const M=la(w.auth,g);yield Wt(!1,w,p.providerId),yield pc(M,w.auth);const O=yield pt(w);return M._openRedirect(w.auth,p,"linkViaRedirect",O)})).apply(this,arguments)}function ut(){return(ut=(0,u.Z)(function*(y,p){return yield wn(y)._initializationPromise,bt(y,p,!1)})).apply(this,arguments)}function bt(y,p){return At.apply(this,arguments)}function At(){return(At=(0,u.Z)(function*(y,p,g=!1){const w=wn(y),M=la(w,p),K=yield new Kr(w,M,g).execute();return K&&!g&&(delete K.user._redirectEventId,yield w._persistUserIfCurrent(K.user),yield w._setRedirectUser(null,p)),K})).apply(this,arguments)}function pt(y){return Cn.apply(this,arguments)}function Cn(){return(Cn=(0,u.Z)(function*(y){const p=Ka(`${y.uid}:::`);return y._redirectEventId=p,yield y.auth._setRedirectUser(y),yield y.auth._persistUserIfCurrent(y),p})).apply(this,arguments)}class Ys{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let g=!1;return this.consumers.forEach(w=>{this.isEventForConsumer(p,w)&&(g=!0,this.sendToConsumer(p,w),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function So(y){switch(y.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Qs(y);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=p,g=!0)),g}sendToConsumer(p,g){var w;if(p.error&&!Qs(p)){const M=(null===(w=p.error.code)||void 0===w?void 0:w.split("auth/")[1])||"internal-error";g.onError(we(this.auth,M))}else g.onAuthEvent(p)}isEventForConsumer(p,g){const w=null===g.eventId||!!p.eventId&&p.eventId===g.eventId;return g.filter.includes(p.type)&&w}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Es(p))}saveEventToCache(p){this.cachedEventUids.add(Es(p)),this.lastProcessedEventTime=Date.now()}}function Es(y){return[y.type,y.eventId,y.sessionId,y.tenantId].filter(p=>p).join("-")}function Qs({type:y,error:p}){return"unknown"===y&&"auth/no-auth-event"===p?.code}function Is(y){return Pn.apply(this,arguments)}function Pn(){return(Pn=(0,u.Z)(function*(y,p={}){return on(y,"GET","/v1/projects",p)})).apply(this,arguments)}const ar=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Xs=/^https?/;function wy(){return(wy=(0,u.Z)(function*(y){if(y.config.emulator)return;const{authorizedDomains:p}=yield Is(y);for(const g of p)try{if(Jm(g))return}catch{}Me(y,"unauthorized-domain")})).apply(this,arguments)}function Jm(y){const p=Oe(),{protocol:g,hostname:w}=new URL(p);if(y.startsWith("chrome-extension://")){const K=new URL(y);return""===K.hostname&&""===w?"chrome-extension:"===g&&y.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===g&&K.hostname===w}if(!Xs.test(g))return!1;if(ar.test(y))return w===y;const M=y.replace(/\./g,"\\.");return new RegExp("^(.+\\."+M+"|"+M+")$","i").test(w)}const Cy=new an(3e4,6e4);function Zd(){const y=Vn().___jsl;if(y?.H)for(const p of Object.keys(y.H))if(y.H[p].r=y.H[p].r||[],y.H[p].L=y.H[p].L||[],y.H[p].r=[...y.H[p].L],y.CP)for(let g=0;g<y.CP.length;g++)y.CP[g]=null}let Su=null;function Pf(y){return Su=Su||function nl(y){return new Promise((p,g)=>{var w,M,O;function K(){Zd(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{Zd(),g(we(y,"network-request-failed"))},timeout:Cy.get()})}if(null!==(M=null===(w=Vn().gapi)||void 0===w?void 0:w.iframes)&&void 0!==M&&M.Iframe)p(gapi.iframes.getContext());else{if(null===(O=Vn().gapi)||void 0===O||!O.load){const de=cc("iframefcb");return Vn()[de]=()=>{gapi.load?K():g(we(y,"network-request-failed"))},sa(`https://apis.google.com/js/api.js?onload=${de}`).catch(Le=>g(Le))}K()}}).catch(p=>{throw Su=null,p})}(y),Su}const eg=new an(5e3,15e3),bD={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},tg=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Y0(y){const p=y.config;j(p.authDomain,y,"auth-domain-config-required");const g=p.emulator?Nn(p,"emulator/auth/iframe"):`https://${y.config.authDomain}/__/auth/iframe`,w={apiKey:p.apiKey,appName:y.name,v:le.SDK_VERSION},M=tg.get(y.config.apiHost);M&&(w.eid=M);const O=y._getFrameworks();return O.length&&(w.fw=O.join(",")),`${g}?${(0,N.xO)(w).slice(1)}`}function xu(){return xu=(0,u.Z)(function*(y){const p=yield Pf(y),g=Vn().gapi;return j(g,y,"internal-error"),p.open({where:document.body,url:Y0(y),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:bD,dontclear:!0},w=>new Promise(function(){var M=(0,u.Z)(function*(O,K){yield w.restyle({setHideOnLeave:!1});const de=we(y,"network-request-failed"),Le=Vn().setTimeout(()=>{K(de)},eg.get());function Je(){Vn().clearTimeout(Le),O(w)}w.ping(Je).then(Je,()=>{K(de)})});return function(O,K){return M.apply(this,arguments)}}()))}),xu.apply(this,arguments)}const Nf={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class rl{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Ds(y,p,g,w,M,O){j(y.config.authDomain,y,"auth-domain-config-required"),j(y.config.apiKey,y,"invalid-api-key");const K={apiKey:y.config.apiKey,appName:y.name,authType:g,redirectUrl:w,v:le.SDK_VERSION,eventId:M};if(p instanceof hs){p.setDefaultLanguage(y.languageCode),K.providerId=p.providerId||"",(0,N.xb)(p.getCustomParameters())||(K.customParameters=JSON.stringify(p.getCustomParameters()));for(const[Le,Je]of Object.entries(O||{}))K[Le]=Je}if(p instanceof fs){const Le=p.getScopes().filter(Je=>""!==Je);Le.length>0&&(K.scopes=Le.join(","))}y.tenantId&&(K.tid=y.tenantId);const de=K;for(const Le of Object.keys(de))void 0===de[Le]&&delete de[Le];return`${function ng({config:y}){return y.emulator?Nn(y,"emulator/auth/handler"):`https://${y.authDomain}/__/auth/handler`}(y)}?${(0,N.xO)(de).slice(1)}`}const Au="webStorageSupport";class Qr extends class rg{constructor(p){this.factorId=p}_process(p,g,w){switch(g.type){case"enroll":return this._finalizeEnroll(p,g.credential,w);case"signin":return this._finalizeSignIn(p,g.credential);default:return _e("unexpected MultiFactorSessionType")}}}{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new Qr(p)}_finalizeEnroll(p,g,w){return function ec(y,p){return on(y,"POST","/v2/accounts/mfaEnrollment:finalize",Vt(y,p))}(p,{idToken:g,displayName:w,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,g){return function lc(y,p){return on(y,"POST","/v2/accounts/mfaSignIn:finalize",Vt(y,p))}(p,{mfaPendingCredential:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let al=(()=>{class y{constructor(){}static assertion(g){return Qr._fromCredential(g)}}return y.FACTOR_ID="phone",y})();var Kd="@firebase/auth";class X0{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var g=this;return(0,u.Z)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const g=this.auth.onIdTokenChanged(w=>{var M;p((null===(M=w)||void 0===M?void 0:M.stsTokenManager.accessToken)||null)});this.internalListeners.set(p,g),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const g=this.internalListeners.get(p);!g||(this.internalListeners.delete(p),g(),this.updateProactiveRefresh())}assertAuthConfigured(){j(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Xr(){return window}function Lf(){return(Lf=(0,u.Z)(function*(y,p,g){var w;const{BuildInfo:M}=Xr();Q(p.sessionId,"AuthEvent did not contain a session ID");const O=yield Bf(p.sessionId),K={};return nn()?K.ibi=M.packageName:Gn()?K.apn=M.packageName:Me(y,"operation-not-supported-in-this-environment"),M.displayName&&(K.appDisplayName=M.displayName),K.sessionId=O,Ds(y,g,p.type,void 0,null!==(w=p.eventId)&&void 0!==w?w:void 0,K)})).apply(this,arguments)}function Js(){return(Js=(0,u.Z)(function*(y){const{BuildInfo:p}=Xr(),g={};nn()?g.iosBundleId=p.packageName:Gn()?g.androidPackageName=p.packageName:Me(y,"operation-not-supported-in-this-environment"),yield Is(y,g)})).apply(this,arguments)}function ha(){return(ha=(0,u.Z)(function*(y,p,g){const{cordova:w}=Xr();let M=()=>{};try{yield new Promise((O,K)=>{let de=null;function Le(){var _t;O();const ri=null===(_t=w.plugins.browsertab)||void 0===_t?void 0:_t.close;"function"==typeof ri&&ri(),"function"==typeof g?.close&&g.close()}function Je(){de||(de=window.setTimeout(()=>{K(we(y,"redirect-cancelled-by-user"))},2e3))}function vt(){"visible"===document?.visibilityState&&Je()}p.addPassiveListener(Le),document.addEventListener("resume",Je,!1),Gn()&&document.addEventListener("visibilitychange",vt,!1),M=()=>{p.removePassiveListener(Le),document.removeEventListener("resume",Je,!1),document.removeEventListener("visibilitychange",vt,!1),de&&window.clearTimeout(de)}})}finally{M()}})).apply(this,arguments)}function Bf(y){return Xd.apply(this,arguments)}function Xd(){return(Xd=(0,u.Z)(function*(y){const p=wD(y),g=yield crypto.subtle.digest("SHA-256",p);return Array.from(new Uint8Array(g)).map(M=>M.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function wD(y){if(Q(/[0-9a-zA-Z]+/.test(y),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(y);const p=new ArrayBuffer(y.length),g=new Uint8Array(p);for(let w=0;w<y.length;w++)g[w]=y.charCodeAt(w);return g}!function J0(y){(0,le._registerComponent)(new re.wA("auth",(p,{options:g})=>{const w=p.getProvider("app").getImmediate(),M=p.getProvider("heartbeat"),{apiKey:O,authDomain:K}=w.options;return((de,Le)=>{j(O&&!O.includes(":"),"invalid-api-key",{appName:de.name}),j(!K?.includes(":"),"argument-error",{appName:de.name});const Je={apiKey:O,authDomain:K,clientPlatform:y,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Vs(y)},vt=new Pt(de,Le,Je);return function Fe(y,p){const g=p?.persistence||[],w=(Array.isArray(g)?g:[g]).map(ae);p?.errorMap&&y._updateErrorMap(p.errorMap),y._initializeWithPersistence(w,p?.popupRedirectResolver)}(vt,g),vt})(w,M)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,g,w)=>{p.getProvider("auth-internal").initialize()})),(0,le._registerComponent)(new re.wA("auth-internal",p=>{const g=wn(p.getProvider("auth").getImmediate());return new X0(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,le.registerVersion)(Kd,"0.20.6",function xy(y){switch(y){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(y)),(0,le.registerVersion)(Kd,"0.20.6","esm2017")}("Browser");class My extends Ys{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(p=>{this.resolveInialized=p})}addPassiveListener(p){this.passiveListeners.add(p)}removePassiveListener(p){this.passiveListeners.delete(p)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(p){return this.resolveInialized(),this.passiveListeners.forEach(g=>g(p)),super.onEvent(p)}initialized(){var p=this;return(0,u.Z)(function*(){yield p.initPromise})()}}function Jd(y){return Uf.apply(this,arguments)}function Uf(){return(Uf=(0,u.Z)(function*(y){const p=yield ug()._get(Hf(y));return p&&(yield ug()._remove(Hf(y))),p})).apply(this,arguments)}function cg(){const y=[],p="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let g=0;g<20;g++){const w=Math.floor(Math.random()*p.length);y.push(p.charAt(w))}return y.join("")}function ug(){return ae(qa)}function Hf(y){return ei("authEvent",y.config.apiKey,y.name)}function gc(y){if(!y?.includes("?"))return{};const[p,...g]=y.split("?");return(0,N.zd)(g.join("?"))}function hg(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:we("no-auth-event")}}function Nu(){var y;return(null===(y=self?.location)||void 0===y?void 0:y.protocol)||null}function Gf(y=(0,N.z$)()){return!("file:"!==Nu()&&"ionic:"!==Nu()&&"capacitor:"!==Nu()||!y.toLowerCase().match(/iphone|ipad|ipod|android/))}function Oy(){try{const y=self.localStorage,p=Ka();if(y)return y.setItem(p,"1"),y.removeItem(p),!function nw(y=(0,N.z$)()){return function pg(){return(0,N.w1)()&&11===document?.documentMode}()||function zf(y=(0,N.z$)()){return/Edge\/\d+/.test(y)}(y)}()||(0,N.hl)()}catch{return fa()&&(0,N.hl)()}return!1}function fa(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Fu(){return(function ky(){return"http:"===Nu()||"https:"===Nu()}()||(0,N.ru)()||Gf())&&!function Ry(){return(0,N.b$)()||(0,N.UG)()}()&&Oy()&&!fa()}function mg(){return Gf()&&typeof document<"u"}function eh(){return(eh=(0,u.Z)(function*(){return!!mg()&&new Promise(y=>{const p=setTimeout(()=>{y(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(p),y(!0)})})})).apply(this,arguments)}const wr={LOCAL:"local",NONE:"none",SESSION:"session"},ll=j,Lu="persistence";function th(y){return Vu.apply(this,arguments)}function Vu(){return(Vu=(0,u.Z)(function*(y){yield y._initializationPromise;const p=Wf(),g=ei(Lu,y.config.apiKey,y.name);p&&p.setItem(g,y._getPersistence())})).apply(this,arguments)}function Wf(){var y;try{return(null===(y=function gg(){return typeof window<"u"?window:null}())||void 0===y?void 0:y.sessionStorage)||null}catch{return null}}const xo=j;class pa{constructor(){this.browserResolver=ae(class ig{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Wr,this._completeRedirectFn=bt,this._overrideRedirectResult=To}_openPopup(p,g,w,M){var O=this;return(0,u.Z)(function*(){var K;Q(null===(K=O.eventManagers[p._key()])||void 0===K?void 0:K.manager,"_initialize() not called before _openPopup()");const de=Ds(p,g,w,Oe(),M);return function sl(y,p,g,w=500,M=600){const O=Math.max((window.screen.availHeight-M)/2,0).toString(),K=Math.max((window.screen.availWidth-w)/2,0).toString();let de="";const Le=Object.assign(Object.assign({},Nf),{width:w.toString(),height:M.toString(),top:O,left:K}),Je=(0,N.z$)().toLowerCase();g&&(de=$r(Je)?"_blank":g),vn(Je)&&(p=p||"http://localhost",Le.scrollbars="yes");const vt=Object.entries(Le).reduce((ri,[Ts,yc])=>`${ri}${Ts}=${yc},`,"");if(function kr(y=(0,N.z$)()){var p;return nn(y)&&!(null===(p=window.navigator)||void 0===p||!p.standalone)}(Je)&&"_self"!==de)return function Mu(y,p){const g=document.createElement("a");g.href=y,g.target=p;const w=document.createEvent("MouseEvent");w.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(w)}(p||"",de),new rl(null);const _t=window.open(p||"",de,vt);j(_t,y,"popup-blocked");try{_t.focus()}catch{}return new rl(_t)}(p,de,Ka())})()}_openRedirect(p,g,w,M){var O=this;return(0,u.Z)(function*(){return yield O._originValidation(p),function Pr(y){Vn().location.href=y}(Ds(p,g,w,Oe(),M)),new Promise(()=>{})})()}_initialize(p){const g=p._key();if(this.eventManagers[g]){const{manager:M,promise:O}=this.eventManagers[g];return M?Promise.resolve(M):(Q(O,"If manager is not set, promise should be"),O)}const w=this.initAndGetManager(p);return this.eventManagers[g]={promise:w},w.catch(()=>{delete this.eventManagers[g]}),w}initAndGetManager(p){var g=this;return(0,u.Z)(function*(){const w=yield function Iy(y){return xu.apply(this,arguments)}(p),M=new Ys(p);return w.register("authEvent",O=>(j(O?.authEvent,p,"invalid-auth-event"),{status:M.onEvent(O.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[p._key()]={manager:M},g.iframes[p._key()]=w,M})()}_isIframeWebStorageSupported(p,g){this.iframes[p._key()].send(Au,{type:Au},M=>{var O;const K=null===(O=M?.[0])||void 0===O?void 0:O[Au];void 0!==K&&g(!!K),Me(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const g=p._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function Of(y){return wy.apply(this,arguments)}(p)),this.originValidationPromises[g]}get _shouldInitProactively(){return oo()||$n()||nn()}}),this.cordovaResolver=ae(class $f{constructor(){this._redirectPersistence=Wr,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=bt,this._overrideRedirectResult=To}_initialize(p){var g=this;return(0,u.Z)(function*(){const w=p._key();let M=g.eventManagers.get(w);return M||(M=new My(p),g.eventManagers.set(w,M),g.attachCallbackListeners(p,M)),M})()}_openPopup(p){Me(p,"operation-not-supported-in-this-environment")}_openRedirect(p,g,w,M){var O=this;return(0,u.Z)(function*(){!function og(y){var p,g,w,M,O,K,de,Le,Je,vt;const _t=Xr();j("function"==typeof(null===(p=_t?.universalLinks)||void 0===p?void 0:p.subscribe),y,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),j(typeof(null===(g=_t?.BuildInfo)||void 0===g?void 0:g.packageName)<"u",y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),j("function"==typeof(null===(O=null===(M=null===(w=_t?.cordova)||void 0===w?void 0:w.plugins)||void 0===M?void 0:M.browsertab)||void 0===O?void 0:O.openUrl),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),j("function"==typeof(null===(Le=null===(de=null===(K=_t?.cordova)||void 0===K?void 0:K.plugins)||void 0===de?void 0:de.browsertab)||void 0===Le?void 0:Le.isAvailable),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),j("function"==typeof(null===(vt=null===(Je=_t?.cordova)||void 0===Je?void 0:Je.InAppBrowser)||void 0===vt?void 0:vt.open),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(p);const K=yield O._initialize(p);yield K.initialized(),K.resetRedirect(),function qd(){mn.clear()}(),yield O._originValidation(p);const de=function ag(y,p,g=null){return{type:p,eventId:g,urlResponse:null,sessionId:cg(),postBody:null,tenantId:y.tenantId,error:we(y,"no-auth-event")}}(p,w,M);yield function Ru(y,p){return ug()._set(Hf(y),p)}(p,de);const Le=yield function Qd(y,p,g){return Lf.apply(this,arguments)}(p,de,g),Je=yield function sg(y){const{cordova:p}=Xr();return new Promise(g=>{p.plugins.browsertab.isAvailable(w=>{let M=null;w?p.plugins.browsertab.openUrl(y):M=p.InAppBrowser.open(y,function gr(y=(0,N.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(y)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(y)}()?"_blank":"_system","location=yes"),g(M)})})}(Le);return function eo(y,p,g){return ha.apply(this,arguments)}(p,K,Je)})()}_isIframeWebStorageSupported(p,g){throw new Error("Method not implemented.")}_originValidation(p){const g=p._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function Vf(y){return Js.apply(this,arguments)}(p)),this.originValidationPromises[g]}attachCallbackListeners(p,g){const{universalLinks:w,handleOpenURL:M,BuildInfo:O}=Xr(),K=setTimeout((0,u.Z)(function*(){yield Jd(p),g.onEvent(hg())}),500),de=function(){var vt=(0,u.Z)(function*(_t){clearTimeout(K);const ri=yield Jd(p);let Ts=null;ri&&_t?.url&&(Ts=function lg(y,p){var g,w;const M=function jf(y){const p=gc(y),g=p.link?decodeURIComponent(p.link):void 0,w=gc(g).link,M=p.deep_link_id?decodeURIComponent(p.deep_link_id):void 0;return gc(M).link||M||w||g||y}(p);if(M.includes("/__/auth/callback")){const O=gc(M),K=O.firebaseError?function Ou(y){try{return JSON.parse(y)}catch{return null}}(decodeURIComponent(O.firebaseError)):null,de=null===(w=null===(g=K?.code)||void 0===g?void 0:g.split("auth/"))||void 0===w?void 0:w[1],Le=de?we(de):null;return Le?{type:y.type,eventId:y.eventId,tenantId:y.tenantId,error:Le,urlResponse:null,sessionId:null,postBody:null}:{type:y.type,eventId:y.eventId,tenantId:y.tenantId,sessionId:y.sessionId,urlResponse:M,postBody:null}}return null}(ri,_t.url)),g.onEvent(Ts||hg())});return function(ri){return vt.apply(this,arguments)}}();typeof w<"u"&&"function"==typeof w.subscribe&&w.subscribe(null,de);const Le=M,Je=`${O.packageName.toLowerCase()}://`;Xr().handleOpenURL=function(){var vt=(0,u.Z)(function*(_t){if(_t.toLowerCase().startsWith(Je)&&de({url:_t}),"function"==typeof Le)try{Le(_t)}catch(ri){console.error(ri)}});return function(_t){return vt.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=Wr,this._completeRedirectFn=bt,this._overrideRedirectResult=To}_initialize(p){var g=this;return(0,u.Z)(function*(){return yield g.selectUnderlyingResolver(),g.assertedUnderlyingResolver._initialize(p)})()}_openPopup(p,g,w,M){var O=this;return(0,u.Z)(function*(){return yield O.selectUnderlyingResolver(),O.assertedUnderlyingResolver._openPopup(p,g,w,M)})()}_openRedirect(p,g,w,M){var O=this;return(0,u.Z)(function*(){return yield O.selectUnderlyingResolver(),O.assertedUnderlyingResolver._openRedirect(p,g,w,M)})()}_isIframeWebStorageSupported(p,g){this.assertedUnderlyingResolver._isIframeWebStorageSupported(p,g)}_originValidation(p){return this.assertedUnderlyingResolver._originValidation(p)}get _shouldInitProactively(){return mg()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return xo(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var p=this;return(0,u.Z)(function*(){if(p.underlyingResolver)return;const g=yield function qf(){return eh.apply(this,arguments)}();p.underlyingResolver=g?p.cordovaResolver:p.browserResolver})()}}function _c(y){return y.unwrap()}function Py(y){return Uu(y)}function Uu(y){const{_tokenResponse:p}=y instanceof N.ZR?y.customData:y;if(!p)return null;if(!(y instanceof N.ZR)&&"temporaryProof"in p&&"phoneNumber"in p)return dc.credentialFromResult(y);const g=p.providerId;if(!g||"password"===g)return null;let w;switch(g){case"google.com":w=Fl;break;case"facebook.com":w=La;break;case"github.com":w=ru;break;case"twitter.com":w=nr;break;default:const{oauthIdToken:M,oauthAccessToken:O,oauthTokenSecret:K,pendingToken:de,nonce:Le}=p;return O||K||M||de?de?g.startsWith("saml.")?_r._create(g,de):ds._fromParams({providerId:g,signInMethod:g,pendingToken:de,idToken:M,accessToken:O}):new ho(g).credential({idToken:M,accessToken:O,rawNonce:Le}):null}return y instanceof N.ZR?w.credentialFromError(y):w.credentialFromResult(y)}function Kn(y,p){return p.catch(g=>{throw g instanceof N.ZR&&function ih(y,p){var g,w;const M=null===(g=p.customData)||void 0===g?void 0:g._tokenResponse;if("auth/multi-factor-auth-required"===(null===(w=p)||void 0===w?void 0:w.code))p.resolver=new Ny(y,function Rn(y,p){var g;const w=(0,N.m9)(y),M=p;return j(p.customData.operationType,w,"argument-error"),j(null===(g=M.customData._serverResponse)||void 0===g?void 0:g.mfaPendingCredential,w,"argument-error"),Xl._fromError(w,M)}(y,p));else if(M){const O=Uu(p),K=p;O&&(K.credential=O,K.tenantId=M.tenantId||void 0,K.email=M.email||void 0,K.phoneNumber=M.phoneNumber||void 0)}}(y,g),g}).then(g=>{const M=g.user;return{operationType:g.operationType,credential:Py(g),additionalUserInfo:Ql(g),user:Mo.getOrCreate(M)}})}function rh(y,p){return cl.apply(this,arguments)}function cl(){return(cl=(0,u.Z)(function*(y,p){const g=yield p;return{verificationId:g.verificationId,confirm:w=>Kn(y,g.confirm(w))}})).apply(this,arguments)}class Ny{constructor(p,g){this.resolver=g,this.auth=function Bu(y){return y.wrapped()}(p)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(p){return Kn(_c(this.auth),this.resolver.resolveSignIn(p))}}class Mo{constructor(p){this._delegate=p,this.multiFactor=function ea(y){const p=(0,N.m9)(y);return vo.has(p)||vo.set(p,Af._fromUser(p)),vo.get(p)}(p)}static getOrCreate(p){return Mo.USER_MAP.has(p)||Mo.USER_MAP.set(p,new Mo(p)),Mo.USER_MAP.get(p)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(p){return this._delegate.getIdTokenResult(p)}getIdToken(p){return this._delegate.getIdToken(p)}linkAndRetrieveDataWithCredential(p){return this.linkWithCredential(p)}linkWithCredential(p){var g=this;return(0,u.Z)(function*(){return Kn(g.auth,Hl(g._delegate,p))})()}linkWithPhoneNumber(p,g){var w=this;return(0,u.Z)(function*(){return rh(w.auth,function sr(y,p,g){return Nr.apply(this,arguments)}(w._delegate,p,g))})()}linkWithPopup(p){var g=this;return(0,u.Z)(function*(){return Kn(g.auth,function Du(y,p,g){return tl.apply(this,arguments)}(g._delegate,p,pa))})()}linkWithRedirect(p){var g=this;return(0,u.Z)(function*(){return yield th(wn(g.auth)),function J(y,p,g){return function ue(y,p,g){return Se.apply(this,arguments)}(y,p,g)}(g._delegate,p,pa)})()}reauthenticateAndRetrieveDataWithCredential(p){return this.reauthenticateWithCredential(p)}reauthenticateWithCredential(p){var g=this;return(0,u.Z)(function*(){return Kn(g.auth,jl(g._delegate,p))})()}reauthenticateWithPhoneNumber(p,g){return rh(this.auth,function Eu(y,p,g){return aa.apply(this,arguments)}(this._delegate,p,g))}reauthenticateWithPopup(p){return Kn(this.auth,function Xm(y,p,g){return zd.apply(this,arguments)}(this._delegate,p,pa))}reauthenticateWithRedirect(p){var g=this;return(0,u.Z)(function*(){return yield th(wn(g.auth)),function T(y,p,g){return function k(y,p,g){return V.apply(this,arguments)}(y,p,g)}(g._delegate,p,pa)})()}sendEmailVerification(p){return function hu(y,p){return Ga.apply(this,arguments)}(this._delegate,p)}unlink(p){var g=this;return(0,u.Z)(function*(){return yield function Vi(y,p){return Vl.apply(this,arguments)}(g._delegate,p),g})()}updateEmail(p){return function Pd(y,p){return _o((0,N.m9)(y),p,null)}(this._delegate,p)}updatePassword(p){return function go(y,p){return _o((0,N.m9)(y),null,p)}(this._delegate,p)}updatePhoneNumber(p){return function Zn(y,p){return it.apply(this,arguments)}(this._delegate,p)}updateProfile(p){return function mu(y,p){return gu.apply(this,arguments)}(this._delegate,p)}verifyBeforeUpdateEmail(p,g){return function fu(y,p,g){return Zl.apply(this,arguments)}(this._delegate,p,g)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Mo.USER_MAP=new WeakMap;const ul=j;let dl=(()=>{class y{constructor(g,w){if(this.app=g,w.isInitialized())return this._delegate=w.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:M}=g.options;ul(M,"invalid-api-key",{appName:g.name}),ul(M,"invalid-api-key",{appName:g.name});const O=typeof window<"u"?pa:void 0;this._delegate=w.initialize({options:{persistence:Zf(M,g.name),popupRedirectResolver:O}}),this._delegate._updateErrorMap(Ce),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Mo.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(g){this._delegate.languageCode=g}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(g){this._delegate.tenantId=g}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(g,w){!function Yc(y,p,g){const w=wn(y);j(w._canInitEmulator,w,"emulator-config-failed"),j(/^https?:\/\//.test(p),w,"invalid-emulator-scheme");const M=!!g?.disableWarnings,O=Gr(p),{host:K,port:de}=function zn(y){const p=Gr(y),g=/(\/\/)?([^?#/]+)/.exec(y.substr(p.length));if(!g)return{host:"",port:null};const w=g[2].split("@").pop()||"",M=/^(\[[^\]]+\])(:|$)/.exec(w);if(M){const O=M[1];return{host:O,port:Bs(w.substr(O.length+1))}}{const[O,K]=w.split(":");return{host:O,port:Bs(K)}}}(p);w.config.emulator={url:`${O}//${K}${null===de?"":`:${de}`}/`},w.settings.appVerificationDisabledForTesting=!0,w.emulatorConfig=Object.freeze({host:K,port:de,protocol:O.replace(":",""),options:Object.freeze({disableWarnings:M})}),M||function Us(){function y(){const p=document.createElement("p"),g=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",y):y())}()}(this._delegate,g,w)}applyActionCode(g){return function br(y,p){return Ua.apply(this,arguments)}(this._delegate,g)}checkActionCode(g){return Ha(this._delegate,g)}confirmPasswordReset(g,w){return function ql(y,p,g){return Yo.apply(this,arguments)}(this._delegate,g,w)}createUserWithEmailAndPassword(g,w){var M=this;return(0,u.Z)(function*(){return Kn(M._delegate,function po(y,p,g){return kn.apply(this,arguments)}(M._delegate,g,w))})()}fetchProvidersForEmail(g){return this.fetchSignInMethodsForEmail(g)}fetchSignInMethodsForEmail(g){return function Wl(y,p){return $a.apply(this,arguments)}(this._delegate,g)}isSignInWithEmailLink(g){return function _s(y,p){return"EMAIL_SIGNIN"===Nl.parseLink(p)?.operation}(0,g)}getRedirectResult(){var g=this;return(0,u.Z)(function*(){ul(Fu(),g._delegate,"operation-not-supported-in-this-environment");const w=yield function He(y,p){return ut.apply(this,arguments)}(g._delegate,pa);return w?Kn(g._delegate,Promise.resolve(w)):{credential:null,user:null}})()}addFrameworkForLogging(g){!function Bn(y,p){wn(y)._logFramework(p)}(this._delegate,g)}onAuthStateChanged(g,w,M){const{next:O,error:K,complete:de}=Fy(g,w,M);return this._delegate.onAuthStateChanged(O,K,de)}onIdTokenChanged(g,w,M){const{next:O,error:K,complete:de}=Fy(g,w,M);return this._delegate.onIdTokenChanged(O,K,de)}sendSignInLinkToEmail(g,w){return function uu(y,p,g){return mo.apply(this,arguments)}(this._delegate,g,w)}sendPasswordResetEmail(g,w){return function zl(y,p,g){return An.apply(this,arguments)}(this._delegate,g,w||void 0)}setPersistence(g){var w=this;return(0,u.Z)(function*(){let M;switch(function iw(y,p){ll(Object.values(wr).includes(p),y,"invalid-persistence-type"),(0,N.b$)()?ll(p!==wr.SESSION,y,"unsupported-persistence-type"):(0,N.UG)()?ll(p===wr.NONE,y,"unsupported-persistence-type"):fa()?ll(p===wr.NONE||p===wr.LOCAL&&(0,N.hl)(),y,"unsupported-persistence-type"):ll(p===wr.NONE||Oy(),y,"unsupported-persistence-type")}(w._delegate,g),g){case wr.SESSION:M=Wr;break;case wr.LOCAL:M=(yield ae(na)._isAvailable())?na:qa;break;case wr.NONE:M=Jt;break;default:return Me("argument-error",{appName:w._delegate.name})}return w._delegate.setPersistence(M)})()}signInAndRetrieveDataWithCredential(g){return this.signInWithCredential(g)}signInAnonymously(){return Kn(this._delegate,function Tf(y){return Mn.apply(this,arguments)}(this._delegate))}signInWithCredential(g){return Kn(this._delegate,Tn(this._delegate,g))}signInWithCustomToken(g){return Kn(this._delegate,function au(y,p){return Ba.apply(this,arguments)}(this._delegate,g))}signInWithEmailAndPassword(g,w){return Kn(this._delegate,function qr(y,p,g){return Tn((0,N.m9)(y),zr.credential(p,g))}(this._delegate,g,w))}signInWithEmailLink(g,w){return Kn(this._delegate,function qm(y,p,g){return ja.apply(this,arguments)}(this._delegate,g,w))}signInWithPhoneNumber(g,w){return rh(this._delegate,function Rf(y,p,g){return uc.apply(this,arguments)}(this._delegate,g,w))}signInWithPopup(g){var w=this;return(0,u.Z)(function*(){return ul(Fu(),w._delegate,"operation-not-supported-in-this-environment"),Kn(w._delegate,function hc(y,p,g){return el.apply(this,arguments)}(w._delegate,g,pa))})()}signInWithRedirect(g){var w=this;return(0,u.Z)(function*(){return ul(Fu(),w._delegate,"operation-not-supported-in-this-environment"),yield th(w._delegate),function On(y,p,g){return function Wd(y,p,g){return D.apply(this,arguments)}(y,p,g)}(w._delegate,g,pa)})()}updateCurrentUser(g){return this._delegate.updateCurrentUser(g)}verifyPasswordResetCode(g){return function cu(y,p){return Od.apply(this,arguments)}(this._delegate,g)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return y.Persistence=wr,y})();function Fy(y,p,g){let w=y;"function"!=typeof y&&({next:w,error:p,complete:g}=y);const M=w;return{next:K=>M(K&&Mo.getOrCreate(K)),error:p,complete:g}}function Zf(y,p){const g=function nh(y,p){const g=Wf();if(!g)return[];const w=ei(Lu,y,p);switch(g.getItem(w)){case wr.NONE:return[Jt];case wr.LOCAL:return[na,Wr];case wr.SESSION:return[Wr];default:return[]}}(y,p);if(typeof self<"u"&&!g.includes(na)&&g.push(na),typeof window<"u")for(const w of[qa,Wr])g.includes(w)||g.push(w);return g.includes(Jt)||g.push(Jt),g}class Kf{constructor(){this.providerId="phone",this._delegate=new dc(_c(te.Z.auth()))}static credential(p,g){return dc.credential(p,g)}verifyPhoneNumber(p,g){return this._delegate.verifyPhoneNumber(p,g)}unwrap(){return this._delegate}}Kf.PHONE_SIGN_IN_METHOD=dc.PHONE_SIGN_IN_METHOD,Kf.PROVIDER_ID=dc.PROVIDER_ID;const _g=j;class sh{constructor(p,g,w=te.Z.app()){var M;_g(null===(M=w.options)||void 0===M?void 0:M.apiKey,"invalid-api-key",{appName:w.name}),this._delegate=new gi(p,g,w.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function yg(y){y.INTERNAL.registerComponent(new re.wA("auth-compat",p=>{const g=p.getProvider("app-compat").getImmediate(),w=p.getProvider("auth");return new dl(g,w)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:zr,FacebookAuthProvider:La,GithubAuthProvider:ru,GoogleAuthProvider:Fl,OAuthProvider:ho,SAMLAuthProvider:yr,PhoneAuthProvider:Kf,PhoneMultiFactorGenerator:al,RecaptchaVerifier:sh,TwitterAuthProvider:nr,Auth:dl,AuthCredential:wi,Error:N.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),y.registerVersion("@firebase/auth-compat","0.2.19")}(te.Z)},9751:(at,De,P)=>{P.d(De,{y:()=>pe});var u=P(930),te=P(727),N=P(8822),le=P(9635),oe=P(2416),fe=P(576),re=P(2806);let pe=(()=>{class X{constructor(Ae){Ae&&(this._subscribe=Ae)}lift(Ae){const Ce=new X;return Ce.source=this,Ce.operator=Ae,Ce}subscribe(Ae,Ce,tt){const ye=function z(X){return X&&X instanceof u.Lv||function $(X){return X&&(0,fe.m)(X.next)&&(0,fe.m)(X.error)&&(0,fe.m)(X.complete)}(X)&&(0,te.Nn)(X)}(Ae)?Ae:new u.Hp(Ae,Ce,tt);return(0,re.x)(()=>{const{operator:me,source:Qe}=this;ye.add(me?me.call(ye,Qe):Qe?this._subscribe(ye):this._trySubscribe(ye))}),ye}_trySubscribe(Ae){try{return this._subscribe(Ae)}catch(Ce){Ae.error(Ce)}}forEach(Ae,Ce){return new(Ce=ge(Ce))((tt,ye)=>{const me=new u.Hp({next:Qe=>{try{Ae(Qe)}catch(st){ye(st),me.unsubscribe()}},error:ye,complete:tt});this.subscribe(me)})}_subscribe(Ae){var Ce;return null===(Ce=this.source)||void 0===Ce?void 0:Ce.subscribe(Ae)}[N.L](){return this}pipe(...Ae){return(0,le.U)(Ae)(this)}toPromise(Ae){return new(Ae=ge(Ae))((Ce,tt)=>{let ye;this.subscribe(me=>ye=me,me=>tt(me),()=>Ce(ye))})}}return X.create=Ve=>new X(Ve),X})();function ge(X){var Ve;return null!==(Ve=X??oe.v.Promise)&&void 0!==Ve?Ve:Promise}},7579:(at,De,P)=>{P.d(De,{x:()=>re});var u=P(9751),te=P(727);const le=(0,P(3888).d)(ge=>function(){ge(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var oe=P(8737),fe=P(2806);let re=(()=>{class ge extends u.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(z){const X=new pe(this,this);return X.operator=z,X}_throwIfClosed(){if(this.closed)throw new le}next(z){(0,fe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const X of this.currentObservers)X.next(z)}})}error(z){(0,fe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=z;const{observers:X}=this;for(;X.length;)X.shift().error(z)}})}complete(){(0,fe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:z}=this;for(;z.length;)z.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var z;return(null===(z=this.observers)||void 0===z?void 0:z.length)>0}_trySubscribe(z){return this._throwIfClosed(),super._trySubscribe(z)}_subscribe(z){return this._throwIfClosed(),this._checkFinalizedStatuses(z),this._innerSubscribe(z)}_innerSubscribe(z){const{hasError:X,isStopped:Ve,observers:Ae}=this;return X||Ve?te.Lc:(this.currentObservers=null,Ae.push(z),new te.w0(()=>{this.currentObservers=null,(0,oe.P)(Ae,z)}))}_checkFinalizedStatuses(z){const{hasError:X,thrownError:Ve,isStopped:Ae}=this;X?z.error(Ve):Ae&&z.complete()}asObservable(){const z=new u.y;return z.source=this,z}}return ge.create=($,z)=>new pe($,z),ge})();class pe extends re{constructor($,z){super(),this.destination=$,this.source=z}next($){var z,X;null===(X=null===(z=this.destination)||void 0===z?void 0:z.next)||void 0===X||X.call(z,$)}error($){var z,X;null===(X=null===(z=this.destination)||void 0===z?void 0:z.error)||void 0===X||X.call(z,$)}complete(){var $,z;null===(z=null===($=this.destination)||void 0===$?void 0:$.complete)||void 0===z||z.call($)}_subscribe($){var z,X;return null!==(X=null===(z=this.source)||void 0===z?void 0:z.subscribe($))&&void 0!==X?X:te.Lc}}},930:(at,De,P)=>{P.d(De,{Hp:()=>tt,Lv:()=>X});var u=P(576),te=P(727),N=P(2416),le=P(7849),oe=P(5032);const fe=ge("C",void 0,void 0);function ge(Me,we,Ie){return{kind:Me,value:we,error:Ie}}var $=P(3410),z=P(2806);class X extends te.w0{constructor(we){super(),this.isStopped=!1,we?(this.destination=we,(0,te.Nn)(we)&&we.add(this)):this.destination=st}static create(we,Ie,Ue){return new tt(we,Ie,Ue)}next(we){this.isStopped?Qe(function pe(Me){return ge("N",Me,void 0)}(we),this):this._next(we)}error(we){this.isStopped?Qe(function re(Me){return ge("E",void 0,Me)}(we),this):(this.isStopped=!0,this._error(we))}complete(){this.isStopped?Qe(fe,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(we){this.destination.next(we)}_error(we){try{this.destination.error(we)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ve=Function.prototype.bind;function Ae(Me,we){return Ve.call(Me,we)}class Ce{constructor(we){this.partialObserver=we}next(we){const{partialObserver:Ie}=this;if(Ie.next)try{Ie.next(we)}catch(Ue){ye(Ue)}}error(we){const{partialObserver:Ie}=this;if(Ie.error)try{Ie.error(we)}catch(Ue){ye(Ue)}else ye(we)}complete(){const{partialObserver:we}=this;if(we.complete)try{we.complete()}catch(Ie){ye(Ie)}}}class tt extends X{constructor(we,Ie,Ue){let je;if(super(),(0,u.m)(we)||!we)je={next:we??void 0,error:Ie??void 0,complete:Ue??void 0};else{let j;this&&N.v.useDeprecatedNextContext?(j=Object.create(we),j.unsubscribe=()=>this.unsubscribe(),je={next:we.next&&Ae(we.next,j),error:we.error&&Ae(we.error,j),complete:we.complete&&Ae(we.complete,j)}):je=we}this.destination=new Ce(je)}}function ye(Me){N.v.useDeprecatedSynchronousErrorHandling?(0,z.O)(Me):(0,le.h)(Me)}function Qe(Me,we){const{onStoppedNotification:Ie}=N.v;Ie&&$.z.setTimeout(()=>Ie(Me,we))}const st={closed:!0,next:oe.Z,error:function me(Me){throw Me},complete:oe.Z}},727:(at,De,P)=>{P.d(De,{Lc:()=>fe,w0:()=>oe,Nn:()=>re});var u=P(576);const N=(0,P(3888).d)(ge=>function(z){ge(this),this.message=z?`${z.length} errors occurred during unsubscription:\n${z.map((X,Ve)=>`${Ve+1}) ${X.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=z});var le=P(8737);class oe{constructor($){this.initialTeardown=$,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let $;if(!this.closed){this.closed=!0;const{_parentage:z}=this;if(z)if(this._parentage=null,Array.isArray(z))for(const Ae of z)Ae.remove(this);else z.remove(this);const{initialTeardown:X}=this;if((0,u.m)(X))try{X()}catch(Ae){$=Ae instanceof N?Ae.errors:[Ae]}const{_finalizers:Ve}=this;if(Ve){this._finalizers=null;for(const Ae of Ve)try{pe(Ae)}catch(Ce){$=$??[],Ce instanceof N?$=[...$,...Ce.errors]:$.push(Ce)}}if($)throw new N($)}}add($){var z;if($&&$!==this)if(this.closed)pe($);else{if($ instanceof oe){if($.closed||$._hasParent(this))return;$._addParent(this)}(this._finalizers=null!==(z=this._finalizers)&&void 0!==z?z:[]).push($)}}_hasParent($){const{_parentage:z}=this;return z===$||Array.isArray(z)&&z.includes($)}_addParent($){const{_parentage:z}=this;this._parentage=Array.isArray(z)?(z.push($),z):z?[z,$]:$}_removeParent($){const{_parentage:z}=this;z===$?this._parentage=null:Array.isArray(z)&&(0,le.P)(z,$)}remove($){const{_finalizers:z}=this;z&&(0,le.P)(z,$),$ instanceof oe&&$._removeParent(this)}}oe.EMPTY=(()=>{const ge=new oe;return ge.closed=!0,ge})();const fe=oe.EMPTY;function re(ge){return ge instanceof oe||ge&&"closed"in ge&&(0,u.m)(ge.remove)&&(0,u.m)(ge.add)&&(0,u.m)(ge.unsubscribe)}function pe(ge){(0,u.m)(ge)?ge():ge.unsubscribe()}},2416:(at,De,P)=>{P.d(De,{v:()=>u});const u={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(at,De,P)=>{P.d(De,{E:()=>te});const te=new(P(9751).y)(oe=>oe.complete())},8996:(at,De,P)=>{P.d(De,{D:()=>we});var u=P(8421),te=P(5363),N=P(9468),fe=P(9751),pe=P(2202),ge=P(576),$=P(9672);function X(Ie,Ue){if(!Ie)throw new Error("Iterable cannot be null");return new fe.y(je=>{(0,$.f)(je,Ue,()=>{const j=Ie[Symbol.asyncIterator]();(0,$.f)(je,Ue,()=>{j.next().then(_e=>{_e.done?je.complete():je.next(_e.value)})},0,!0)})})}var Ve=P(3670),Ae=P(8239),Ce=P(1144),tt=P(6495),ye=P(2206),me=P(4532),Qe=P(3260);function we(Ie,Ue){return Ue?function Me(Ie,Ue){if(null!=Ie){if((0,Ve.c)(Ie))return function le(Ie,Ue){return(0,u.Xf)(Ie).pipe((0,N.R)(Ue),(0,te.Q)(Ue))}(Ie,Ue);if((0,Ce.z)(Ie))return function re(Ie,Ue){return new fe.y(je=>{let j=0;return Ue.schedule(function(){j===Ie.length?je.complete():(je.next(Ie[j++]),je.closed||this.schedule())})})}(Ie,Ue);if((0,Ae.t)(Ie))return function oe(Ie,Ue){return(0,u.Xf)(Ie).pipe((0,N.R)(Ue),(0,te.Q)(Ue))}(Ie,Ue);if((0,ye.D)(Ie))return X(Ie,Ue);if((0,tt.T)(Ie))return function z(Ie,Ue){return new fe.y(je=>{let j;return(0,$.f)(je,Ue,()=>{j=Ie[pe.h](),(0,$.f)(je,Ue,()=>{let _e,Q;try{({value:_e,done:Q}=j.next())}catch(ne){return void je.error(ne)}Q?je.complete():je.next(_e)},0,!0)}),()=>(0,ge.m)(j?.return)&&j.return()})}(Ie,Ue);if((0,Qe.L)(Ie))return function st(Ie,Ue){return X((0,Qe.Q)(Ie),Ue)}(Ie,Ue)}throw(0,me.z)(Ie)}(Ie,Ue):(0,u.Xf)(Ie)}},8421:(at,De,P)=>{P.d(De,{Xf:()=>Ve});var u=P(655),te=P(1144),N=P(8239),le=P(9751),oe=P(3670),fe=P(2206),re=P(4532),pe=P(6495),ge=P(3260),$=P(576),z=P(7849),X=P(8822);function Ve(Me){if(Me instanceof le.y)return Me;if(null!=Me){if((0,oe.c)(Me))return function Ae(Me){return new le.y(we=>{const Ie=Me[X.L]();if((0,$.m)(Ie.subscribe))return Ie.subscribe(we);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Me);if((0,te.z)(Me))return function Ce(Me){return new le.y(we=>{for(let Ie=0;Ie<Me.length&&!we.closed;Ie++)we.next(Me[Ie]);we.complete()})}(Me);if((0,N.t)(Me))return function tt(Me){return new le.y(we=>{Me.then(Ie=>{we.closed||(we.next(Ie),we.complete())},Ie=>we.error(Ie)).then(null,z.h)})}(Me);if((0,fe.D)(Me))return me(Me);if((0,pe.T)(Me))return function ye(Me){return new le.y(we=>{for(const Ie of Me)if(we.next(Ie),we.closed)return;we.complete()})}(Me);if((0,ge.L)(Me))return function Qe(Me){return me((0,ge.Q)(Me))}(Me)}throw(0,re.z)(Me)}function me(Me){return new le.y(we=>{(function st(Me,we){var Ie,Ue,je,j;return(0,u.mG)(this,void 0,void 0,function*(){try{for(Ie=(0,u.KL)(Me);!(Ue=yield Ie.next()).done;)if(we.next(Ue.value),we.closed)return}catch(_e){je={error:_e}}finally{try{Ue&&!Ue.done&&(j=Ie.return)&&(yield j.call(Ie))}finally{if(je)throw je.error}}we.complete()})})(Me,we).catch(Ie=>we.error(Ie))})}},6451:(at,De,P)=>{P.d(De,{T:()=>fe});var u=P(8189),te=P(8421),N=P(515),le=P(3269),oe=P(8996);function fe(...re){const pe=(0,le.yG)(re),ge=(0,le._6)(re,1/0),$=re;return $.length?1===$.length?(0,te.Xf)($[0]):(0,u.J)(ge)((0,oe.D)($,pe)):N.E}},5403:(at,De,P)=>{P.d(De,{x:()=>te});var u=P(930);function te(le,oe,fe,re,pe){return new N(le,oe,fe,re,pe)}class N extends u.Lv{constructor(oe,fe,re,pe,ge,$){super(oe),this.onFinalize=ge,this.shouldUnsubscribe=$,this._next=fe?function(z){try{fe(z)}catch(X){oe.error(X)}}:super._next,this._error=pe?function(z){try{pe(z)}catch(X){oe.error(X)}finally{this.unsubscribe()}}:super._error,this._complete=re?function(){try{re()}catch(z){oe.error(z)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var oe;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:fe}=this;super.unsubscribe(),!fe&&(null===(oe=this.onFinalize)||void 0===oe||oe.call(this))}}}},4004:(at,De,P)=>{P.d(De,{U:()=>N});var u=P(4482),te=P(5403);function N(le,oe){return(0,u.e)((fe,re)=>{let pe=0;fe.subscribe((0,te.x)(re,ge=>{re.next(le.call(oe,ge,pe++))}))})}},8189:(at,De,P)=>{P.d(De,{J:()=>N});var u=P(5577),te=P(4671);function N(le=1/0){return(0,u.z)(te.y,le)}},5577:(at,De,P)=>{P.d(De,{z:()=>pe});var u=P(4004),te=P(8421),N=P(4482),le=P(9672),oe=P(5403),re=P(576);function pe(ge,$,z=1/0){return(0,re.m)($)?pe((X,Ve)=>(0,u.U)((Ae,Ce)=>$(X,Ae,Ve,Ce))((0,te.Xf)(ge(X,Ve))),z):("number"==typeof $&&(z=$),(0,N.e)((X,Ve)=>function fe(ge,$,z,X,Ve,Ae,Ce,tt){const ye=[];let me=0,Qe=0,st=!1;const Me=()=>{st&&!ye.length&&!me&&$.complete()},we=Ue=>me<X?Ie(Ue):ye.push(Ue),Ie=Ue=>{Ae&&$.next(Ue),me++;let je=!1;(0,te.Xf)(z(Ue,Qe++)).subscribe((0,oe.x)($,j=>{Ve?.(j),Ae?we(j):$.next(j)},()=>{je=!0},void 0,()=>{if(je)try{for(me--;ye.length&&me<X;){const j=ye.shift();Ce?(0,le.f)($,Ce,()=>Ie(j)):Ie(j)}Me()}catch(j){$.error(j)}}))};return ge.subscribe((0,oe.x)($,we,()=>{st=!0,Me()})),()=>{tt?.()}}(X,Ve,ge,z)))}},5363:(at,De,P)=>{P.d(De,{Q:()=>le});var u=P(9672),te=P(4482),N=P(5403);function le(oe,fe=0){return(0,te.e)((re,pe)=>{re.subscribe((0,N.x)(pe,ge=>(0,u.f)(pe,oe,()=>pe.next(ge),fe),()=>(0,u.f)(pe,oe,()=>pe.complete(),fe),ge=>(0,u.f)(pe,oe,()=>pe.error(ge),fe)))})}},3099:(at,De,P)=>{P.d(De,{B:()=>oe});var u=P(8421),te=P(7579),N=P(930),le=P(4482);function oe(re={}){const{connector:pe=(()=>new te.x),resetOnError:ge=!0,resetOnComplete:$=!0,resetOnRefCountZero:z=!0}=re;return X=>{let Ve,Ae,Ce,tt=0,ye=!1,me=!1;const Qe=()=>{Ae?.unsubscribe(),Ae=void 0},st=()=>{Qe(),Ve=Ce=void 0,ye=me=!1},Me=()=>{const we=Ve;st(),we?.unsubscribe()};return(0,le.e)((we,Ie)=>{tt++,!me&&!ye&&Qe();const Ue=Ce=Ce??pe();Ie.add(()=>{tt--,0===tt&&!me&&!ye&&(Ae=fe(Me,z))}),Ue.subscribe(Ie),!Ve&&tt>0&&(Ve=new N.Hp({next:je=>Ue.next(je),error:je=>{me=!0,Qe(),Ae=fe(st,ge,je),Ue.error(je)},complete:()=>{ye=!0,Qe(),Ae=fe(st,$),Ue.complete()}}),(0,u.Xf)(we).subscribe(Ve))})(X)}}function fe(re,pe,...ge){if(!0===pe)return void re();if(!1===pe)return;const $=new N.Hp({next:()=>{$.unsubscribe(),re()}});return pe(...ge).subscribe($)}},9468:(at,De,P)=>{P.d(De,{R:()=>te});var u=P(4482);function te(N,le=0){return(0,u.e)((oe,fe)=>{fe.add(N.schedule(()=>oe.subscribe(fe),le))})}},8505:(at,De,P)=>{P.d(De,{b:()=>oe});var u=P(576),te=P(4482),N=P(5403),le=P(4671);function oe(fe,re,pe){const ge=(0,u.m)(fe)||re||pe?{next:fe,error:re,complete:pe}:fe;return ge?(0,te.e)(($,z)=>{var X;null===(X=ge.subscribe)||void 0===X||X.call(ge);let Ve=!0;$.subscribe((0,N.x)(z,Ae=>{var Ce;null===(Ce=ge.next)||void 0===Ce||Ce.call(ge,Ae),z.next(Ae)},()=>{var Ae;Ve=!1,null===(Ae=ge.complete)||void 0===Ae||Ae.call(ge),z.complete()},Ae=>{var Ce;Ve=!1,null===(Ce=ge.error)||void 0===Ce||Ce.call(ge,Ae),z.error(Ae)},()=>{var Ae,Ce;Ve&&(null===(Ae=ge.unsubscribe)||void 0===Ae||Ae.call(ge)),null===(Ce=ge.finalize)||void 0===Ce||Ce.call(ge)}))}):le.y}},4408:(at,De,P)=>{P.d(De,{o:()=>oe});var u=P(727);class te extends u.w0{constructor(re,pe){super()}schedule(re,pe=0){return this}}const N={setInterval(fe,re,...pe){const{delegate:ge}=N;return ge?.setInterval?ge.setInterval(fe,re,...pe):setInterval(fe,re,...pe)},clearInterval(fe){const{delegate:re}=N;return(re?.clearInterval||clearInterval)(fe)},delegate:void 0};var le=P(8737);class oe extends te{constructor(re,pe){super(re,pe),this.scheduler=re,this.work=pe,this.pending=!1}schedule(re,pe=0){if(this.closed)return this;this.state=re;const ge=this.id,$=this.scheduler;return null!=ge&&(this.id=this.recycleAsyncId($,ge,pe)),this.pending=!0,this.delay=pe,this.id=this.id||this.requestAsyncId($,this.id,pe),this}requestAsyncId(re,pe,ge=0){return N.setInterval(re.flush.bind(re,this),ge)}recycleAsyncId(re,pe,ge=0){if(null!=ge&&this.delay===ge&&!1===this.pending)return pe;N.clearInterval(pe)}execute(re,pe){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ge=this._execute(re,pe);if(ge)return ge;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(re,pe){let $,ge=!1;try{this.work(re)}catch(z){ge=!0,$=z||new Error("Scheduled action threw falsy error")}if(ge)return this.unsubscribe(),$}unsubscribe(){if(!this.closed){const{id:re,scheduler:pe}=this,{actions:ge}=pe;this.work=this.state=this.scheduler=null,this.pending=!1,(0,le.P)(ge,this),null!=re&&(this.id=this.recycleAsyncId(pe,re,null)),this.delay=null,super.unsubscribe()}}}},7565:(at,De,P)=>{P.d(De,{v:()=>N});var u=P(6063);class te{constructor(oe,fe=te.now){this.schedulerActionCtor=oe,this.now=fe}schedule(oe,fe=0,re){return new this.schedulerActionCtor(this,oe).schedule(re,fe)}}te.now=u.l.now;class N extends te{constructor(oe,fe=te.now){super(oe,fe),this.actions=[],this._active=!1,this._scheduled=void 0}flush(oe){const{actions:fe}=this;if(this._active)return void fe.push(oe);let re;this._active=!0;do{if(re=oe.execute(oe.state,oe.delay))break}while(oe=fe.shift());if(this._active=!1,re){for(;oe=fe.shift();)oe.unsubscribe();throw re}}}},4986:(at,De,P)=>{P.d(De,{P:()=>le,z:()=>N});var u=P(4408);const N=new(P(7565).v)(u.o),le=N},6063:(at,De,P)=>{P.d(De,{l:()=>u});const u={now:()=>(u.delegate||Date).now(),delegate:void 0}},3410:(at,De,P)=>{P.d(De,{z:()=>u});const u={setTimeout(te,N,...le){const{delegate:oe}=u;return oe?.setTimeout?oe.setTimeout(te,N,...le):setTimeout(te,N,...le)},clearTimeout(te){const{delegate:N}=u;return(N?.clearTimeout||clearTimeout)(te)},delegate:void 0}},2202:(at,De,P)=>{P.d(De,{h:()=>te});const te=function u(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(at,De,P)=>{P.d(De,{L:()=>u});const u="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(at,De,P)=>{P.d(De,{_6:()=>fe,jO:()=>le,yG:()=>oe});var u=P(576),te=P(3532);function N(re){return re[re.length-1]}function le(re){return(0,u.m)(N(re))?re.pop():void 0}function oe(re){return(0,te.K)(N(re))?re.pop():void 0}function fe(re,pe){return"number"==typeof N(re)?re.pop():pe}},8737:(at,De,P)=>{function u(te,N){if(te){const le=te.indexOf(N);0<=le&&te.splice(le,1)}}P.d(De,{P:()=>u})},3888:(at,De,P)=>{function u(te){const le=te(oe=>{Error.call(oe),oe.stack=(new Error).stack});return le.prototype=Object.create(Error.prototype),le.prototype.constructor=le,le}P.d(De,{d:()=>u})},2806:(at,De,P)=>{P.d(De,{O:()=>le,x:()=>N});var u=P(2416);let te=null;function N(oe){if(u.v.useDeprecatedSynchronousErrorHandling){const fe=!te;if(fe&&(te={errorThrown:!1,error:null}),oe(),fe){const{errorThrown:re,error:pe}=te;if(te=null,re)throw pe}}else oe()}function le(oe){u.v.useDeprecatedSynchronousErrorHandling&&te&&(te.errorThrown=!0,te.error=oe)}},9672:(at,De,P)=>{function u(te,N,le,oe=0,fe=!1){const re=N.schedule(function(){le(),fe?te.add(this.schedule(null,oe)):this.unsubscribe()},oe);if(te.add(re),!fe)return re}P.d(De,{f:()=>u})},4671:(at,De,P)=>{function u(te){return te}P.d(De,{y:()=>u})},1144:(at,De,P)=>{P.d(De,{z:()=>u});const u=te=>te&&"number"==typeof te.length&&"function"!=typeof te},2206:(at,De,P)=>{P.d(De,{D:()=>te});var u=P(576);function te(N){return Symbol.asyncIterator&&(0,u.m)(N?.[Symbol.asyncIterator])}},576:(at,De,P)=>{function u(te){return"function"==typeof te}P.d(De,{m:()=>u})},3670:(at,De,P)=>{P.d(De,{c:()=>N});var u=P(8822),te=P(576);function N(le){return(0,te.m)(le[u.L])}},6495:(at,De,P)=>{P.d(De,{T:()=>N});var u=P(2202),te=P(576);function N(le){return(0,te.m)(le?.[u.h])}},8239:(at,De,P)=>{P.d(De,{t:()=>te});var u=P(576);function te(N){return(0,u.m)(N?.then)}},3260:(at,De,P)=>{P.d(De,{L:()=>le,Q:()=>N});var u=P(655),te=P(576);function N(oe){return(0,u.FC)(this,arguments,function*(){const re=oe.getReader();try{for(;;){const{value:pe,done:ge}=yield(0,u.qq)(re.read());if(ge)return yield(0,u.qq)(void 0);yield yield(0,u.qq)(pe)}}finally{re.releaseLock()}})}function le(oe){return(0,te.m)(oe?.getReader)}},3532:(at,De,P)=>{P.d(De,{K:()=>te});var u=P(576);function te(N){return N&&(0,u.m)(N.schedule)}},4482:(at,De,P)=>{P.d(De,{A:()=>te,e:()=>N});var u=P(576);function te(le){return(0,u.m)(le?.lift)}function N(le){return oe=>{if(te(oe))return oe.lift(function(fe){try{return le(fe,this)}catch(re){this.error(re)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(at,De,P)=>{function u(){}P.d(De,{Z:()=>u})},9635:(at,De,P)=>{P.d(De,{U:()=>N,z:()=>te});var u=P(4671);function te(...le){return N(le)}function N(le){return 0===le.length?u.y:1===le.length?le[0]:function(fe){return le.reduce((re,pe)=>pe(re),fe)}}},7849:(at,De,P)=>{P.d(De,{h:()=>N});var u=P(2416),te=P(3410);function N(le){te.z.setTimeout(()=>{const{onUnhandledError:oe}=u.v;if(!oe)throw le;oe(le)})}},4532:(at,De,P)=>{function u(te){return new TypeError(`You provided ${null!==te&&"object"==typeof te?"an invalid object":`'${te}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}P.d(De,{z:()=>u})},655:(at,De,P)=>{function le(Q,ne){var ae={};for(var se in Q)Object.prototype.hasOwnProperty.call(Q,se)&&ne.indexOf(se)<0&&(ae[se]=Q[se]);if(null!=Q&&"function"==typeof Object.getOwnPropertySymbols){var Fe=0;for(se=Object.getOwnPropertySymbols(Q);Fe<se.length;Fe++)ne.indexOf(se[Fe])<0&&Object.prototype.propertyIsEnumerable.call(Q,se[Fe])&&(ae[se[Fe]]=Q[se[Fe]])}return ae}function pe(Q,ne,ae,se){return new(ae||(ae=Promise))(function(Oe,ft){function Zt(an){try{We(se.next(an))}catch(Nn){ft(Nn)}}function $t(an){try{We(se.throw(an))}catch(Nn){ft(Nn)}}function We(an){an.done?Oe(an.value):function Fe(Oe){return Oe instanceof ae?Oe:new ae(function(ft){ft(Oe)})}(an.value).then(Zt,$t)}We((se=se.apply(Q,ne||[])).next())})}function ye(Q){return this instanceof ye?(this.v=Q,this):new ye(Q)}function me(Q,ne,ae){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Fe,se=ae.apply(Q,ne||[]),Oe=[];return Fe={},ft("next"),ft("throw"),ft("return"),Fe[Symbol.asyncIterator]=function(){return this},Fe;function ft(Yt){se[Yt]&&(Fe[Yt]=function(Qt){return new Promise(function(Pi,Vt){Oe.push([Yt,Qt,Pi,Vt])>1||Zt(Yt,Qt)})})}function Zt(Yt,Qt){try{!function $t(Yt){Yt.value instanceof ye?Promise.resolve(Yt.value.v).then(We,an):Nn(Oe[0][2],Yt)}(se[Yt](Qt))}catch(Pi){Nn(Oe[0][3],Pi)}}function We(Yt){Zt("next",Yt)}function an(Yt){Zt("throw",Yt)}function Nn(Yt,Qt){Yt(Qt),Oe.shift(),Oe.length&&Zt(Oe[0][0],Oe[0][1])}}function st(Q){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ae,ne=Q[Symbol.asyncIterator];return ne?ne.call(Q):(Q=function X(Q){var ne="function"==typeof Symbol&&Symbol.iterator,ae=ne&&Q[ne],se=0;if(ae)return ae.call(Q);if(Q&&"number"==typeof Q.length)return{next:function(){return Q&&se>=Q.length&&(Q=void 0),{value:Q&&Q[se++],done:!Q}}};throw new TypeError(ne?"Object is not iterable.":"Symbol.iterator is not defined.")}(Q),ae={},se("next"),se("throw"),se("return"),ae[Symbol.asyncIterator]=function(){return this},ae);function se(Oe){ae[Oe]=Q[Oe]&&function(ft){return new Promise(function(Zt,$t){!function Fe(Oe,ft,Zt,$t){Promise.resolve($t).then(function(We){Oe({value:We,done:Zt})},ft)}(Zt,$t,(ft=Q[Oe](ft)).done,ft.value)})}}}P.d(De,{FC:()=>me,KL:()=>st,_T:()=>le,mG:()=>pe,qq:()=>ye})},4650:(at,De,P)=>{P.d(De,{$8M:()=>lc,$Z:()=>JD,AFp:()=>Uc,AaK:()=>pe,BQk:()=>Ap,CHM:()=>Gl,CRH:()=>cm,CZH:()=>kl,CqO:()=>Gv,D6c:()=>GS,EJc:()=>B_,EiD:()=>$f,EpF:()=>t_,F$t:()=>Zv,F4k:()=>$v,FYo:()=>vt,FiY:()=>He,G48:()=>_m,Gf:()=>Hb,GfV:()=>yc,Gpc:()=>z,Hsn:()=>Rp,JOm:()=>ml,JVY:()=>Sy,KtG:()=>zl,L6k:()=>X0,LAX:()=>J0,LFG:()=>On,LSH:()=>fg,Lbi:()=>PE,Lck:()=>Pe,MAs:()=>Vv,MMx:()=>St,NdJ:()=>kp,OlP:()=>pn,Oqu:()=>h_,PXZ:()=>RS,Q6J:()=>Bv,QGY:()=>n_,QP$:()=>$r,QbO:()=>IS,Qsj:()=>_t,R0b:()=>Rs,RDi:()=>Y0,Rgc:()=>cd,SBq:()=>de,Sil:()=>NE,Suo:()=>Al,TTD:()=>fs,TgZ:()=>Ju,Tol:()=>Vp,Udp:()=>Fp,WFA:()=>zv,X6Q:()=>OS,XFs:()=>Ke,Xpm:()=>W,Xts:()=>Fu,Y36:()=>hp,YKP:()=>_E,YNc:()=>lC,Yjl:()=>Ht,Yz7:()=>Qt,Z0I:()=>Pa,ZZ4:()=>K_,_Bn:()=>Tl,_UZ:()=>ur,_Vd:()=>M,_c5:()=>$c,_uU:()=>ab,aQg:()=>bm,c2e:()=>DS,cJS:()=>Vt,cg1:()=>Ac,d8E:()=>xh,dDg:()=>AS,dqk:()=>ln,eBb:()=>xy,eFA:()=>GE,ekj:()=>Lp,eoX:()=>VE,f3M:()=>D,g9A:()=>md,h0i:()=>Oc,hGG:()=>oI,hij:()=>td,iGM:()=>Gh,ifc:()=>ct,ip1:()=>t0,jDz:()=>Ze,kEZ:()=>wE,kL8:()=>kc,lG2:()=>ei,lqb:()=>Kn,lri:()=>l0,mCW:()=>Js,n5z:()=>vs,n_E:()=>sm,oAB:()=>lt,oJD:()=>Ay,oxw:()=>Wv,pB0:()=>Ff,q3G:()=>Bn,q4F:()=>vg,qLn:()=>Xf,qOj:()=>Kg,qZA:()=>Mp,qzn:()=>al,rWj:()=>Jh,sBO:()=>ZE,sIi:()=>Tp,s_b:()=>Ia,soG:()=>gd,tb:()=>r0,tp0:()=>bt,uIk:()=>Ch,vHH:()=>Ce,vpe:()=>Ea,wAp:()=>mt,xp6:()=>Ew,ynx:()=>Wi,z2F:()=>gm,z3N:()=>Qr,zSh:()=>_c,zs3:()=>Fr});var u=P(7579),te=P(727),N=P(9751),le=P(6451),oe=P(3099);function fe(s){for(let o in s)if(s[o]===fe)return o;throw Error("Could not find renamed property on target object.")}function re(s,o){for(const l in o)o.hasOwnProperty(l)&&!s.hasOwnProperty(l)&&(s[l]=o[l])}function pe(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(pe).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const o=s.toString();if(null==o)return""+o;const l=o.indexOf("\n");return-1===l?o:o.substring(0,l)}function ge(s,o){return null==s||""===s?null===o?"":o:null==o||""===o?s:s+" "+o}const $=fe({__forward_ref__:fe});function z(s){return s.__forward_ref__=z,s.toString=function(){return pe(this())},s}function X(s){return Ve(s)?s():s}function Ve(s){return"function"==typeof s&&s.hasOwnProperty($)&&s.__forward_ref__===z}class Ce extends Error{constructor(o,l){super(function tt(s,o){return`NG0${Math.abs(s)}${o?": "+o.trim():""}`}(o,l)),this.code=o}}function ye(s){return"string"==typeof s?s:null==s?"":String(s)}function we(s,o){throw new Ce(-201,!1)}function $t(s,o){null==s&&function We(s,o,l,d){throw new Error(`ASSERTION ERROR: ${s}`+(null==d?"":` [Expected=> ${l} ${d} ${o} <=Actual]`))}(o,s,null,"!=")}function Qt(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function Vt(s){return{providers:s.providers||[],imports:s.imports||[]}}function on(s){return Xi(s,jr)||Xi(s,xr)}function Pa(s){return null!==on(s)}function Xi(s,o){return s.hasOwnProperty(o)?s[o]:null}function Ls(s){return s&&(s.hasOwnProperty(er)||s.hasOwnProperty(Wo))?s[er]:null}const jr=fe({\u0275prov:fe}),er=fe({\u0275inj:fe}),xr=fe({ngInjectableDef:fe}),Wo=fe({ngInjectorDef:fe});var Ke=(()=>((Ke=Ke||{})[Ke.Default=0]="Default",Ke[Ke.Host=1]="Host",Ke[Ke.Self=2]="Self",Ke[Ke.SkipSelf=4]="SkipSelf",Ke[Ke.Optional=8]="Optional",Ke))();let tr;function Fn(s){const o=tr;return tr=s,o}function Mr(s,o,l){const d=on(s);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:l&Ke.Optional?null:void 0!==o?o:void we(pe(s))}function Ln(s){return{toString:s}.toString()}var Jn=(()=>((Jn=Jn||{})[Jn.OnPush=0]="OnPush",Jn[Jn.Default=1]="Default",Jn))(),ct=(()=>{return(s=ct||(ct={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",ct;var s})();const ln=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Ni={},It=[],us=fe({\u0275cmp:fe}),Xt=fe({\u0275dir:fe}),Ar=fe({\u0275pipe:fe}),Kt=fe({\u0275mod:fe}),Y=fe({\u0275fac:fe}),G=fe({__NG_ELEMENT_ID__:fe});let U=0;function W(s){return Ln(()=>{const l=!0===s.standalone,d={},h={type:s.type,providersResolver:null,decls:s.decls,vars:s.vars,factory:null,template:s.template||null,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:d,inputs:null,outputs:null,exportAs:s.exportAs||null,onPush:s.changeDetection===Jn.OnPush,directiveDefs:null,pipeDefs:null,standalone:l,dependencies:l&&s.dependencies||null,getStandaloneInjector:null,selectors:s.selectors||It,viewQuery:s.viewQuery||null,features:s.features||null,data:s.data||{},encapsulation:s.encapsulation||ct.Emulated,id:"c"+U++,styles:s.styles||It,_:null,setInput:null,schemas:s.schemas||null,tView:null},m=s.dependencies,v=s.features;return h.inputs=Jt(s.inputs,d),h.outputs=Jt(s.outputs),v&&v.forEach(C=>C(h)),h.directiveDefs=m?()=>("function"==typeof m?m():m).map(Te).filter(Be):null,h.pipeDefs=m?()=>("function"==typeof m?m():m).map($n).filter(Be):null,h})}function Te(s){return Ot(s)||vn(s)}function Be(s){return null!==s}function lt(s){return Ln(()=>({type:s.type,bootstrap:s.bootstrap||It,declarations:s.declarations||It,imports:s.imports||It,exports:s.exports||It,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null}))}function Jt(s,o){if(null==s)return Ni;const l={};for(const d in s)if(s.hasOwnProperty(d)){let h=s[d],m=h;Array.isArray(h)&&(m=h[1],h=h[0]),l[h]=d,o&&(o[h]=m)}return l}const ei=W;function Ht(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,standalone:!0===s.standalone,onDestroy:s.type.prototype.ngOnDestroy||null}}function Ot(s){return s[us]||null}function vn(s){return s[Xt]||null}function $n(s){return s[Ar]||null}function $r(s){const o=Ot(s)||vn(s)||$n(s);return null!==o&&o.standalone}function Fi(s,o){const l=s[Kt]||null;if(!l&&!0===o)throw new Error(`Type ${pe(s)} does not have '\u0275mod' property.`);return l}function pi(s){return Array.isArray(s)&&"object"==typeof s[1]}function Li(s){return Array.isArray(s)&&!0===s[1]}function Pl(s){return 0!=(8&s.flags)}function Fa(s){return 2==(2&s.flags)}function eu(s){return 1==(1&s.flags)}function Ai(s){return null!==s.template}function Cf(s){return 0!=(256&s[2])}function zr(s,o){return s.hasOwnProperty(Y)?s[Y]:null}class hs{constructor(o,l,d){this.previousValue=o,this.currentValue=l,this.firstChange=d}isFirstChange(){return this.firstChange}}function fs(){return ho}function ho(s){return s.type.prototype.ngOnChanges&&(s.setInput=Fl),La}function La(){const s=If(this),o=s?.current;if(o){const l=s.previous;if(l===Ni)s.previous=o;else for(let d in o)l[d]=o[d];s.current=null,this.ngOnChanges(o)}}function Fl(s,o,l,d){const h=If(s)||function _r(s,o){return s[ru]=o}(s,{previous:Ni,current:null}),m=h.current||(h.current={}),v=h.previous,C=this.declaredInputs[l],E=v[C];m[C]=new hs(E&&E.currentValue,o,v===Ni),s[d]=o}fs.ngInherit=!0;const ru="__ngSimpleChanges__";function If(s){return s[ru]||null}function Mn(s){for(;Array.isArray(s);)s=s[0];return s}function vr(s,o){return Mn(o[s])}function Vi(s,o){return Mn(o[s.index])}function Ko(s,o){return s.data[o]}function Wt(s,o){const l=o[s];return pi(l)?l:l[0]}function Va(s){return 4==(4&s[2])}function fo(s){return 64==(64&s[2])}function Or(s,o){return null==o?null:s[o]}function Ul(s){s[18]=0}function Tn(s,o){s[5]+=o;let l=s,d=s[3];for(;null!==d&&(1===o&&1===l[5]||-1===o&&0===l[5]);)d[5]+=o,l=d,d=d[3]}const Dt={lFrame:mu(null),bindingsEnabled:!0};function gs(){return Dt.bindingsEnabled}function xe(){return Dt.lFrame.lView}function jt(){return Dt.lFrame.tView}function Gl(s){return Dt.lFrame.contextLView=s,s[8]}function zl(s){return Dt.lFrame.contextLView=null,s}function An(){let s=ql();for(;null!==s&&64===s.type;)s=s.parent;return s}function ql(){return Dt.lFrame.currentTNode}function br(s,o){const l=Dt.lFrame;l.currentTNode=s,l.isParent=o}function Ua(){return Dt.lFrame.isParent}function Ha(){Dt.lFrame.isParent=!1}function mo(){return Dt.lFrame.bindingIndex++}function _s(s){const o=Dt.lFrame,l=o.bindingIndex;return o.bindingIndex=o.bindingIndex+s,l}function Wm(s,o){const l=Dt.lFrame;l.bindingIndex=l.bindingRootIndex=s,Wl(o)}function Wl(s){Dt.lFrame.currentDirectiveIndex=s}function $a(s){const o=Dt.lFrame.currentDirectiveIndex;return-1===o?null:s[o]}function hu(){return Dt.lFrame.currentQueryIndex}function Ga(s){Dt.lFrame.currentQueryIndex=s}function fu(s){const o=s[1];return 2===o.type?o.declTNode:1===o.type?s[6]:null}function Zl(s,o,l){if(l&Ke.SkipSelf){let h=o,m=s;for(;!(h=h.parent,null!==h||l&Ke.Host||(h=fu(m),null===h||(m=m[15],10&h.type))););if(null===h)return!1;o=h,s=m}const d=Dt.lFrame=pu();return d.currentTNode=o,d.lView=s,!0}function Kl(s){const o=pu(),l=s[1];Dt.lFrame=o,o.currentTNode=l.firstChild,o.lView=s,o.tView=l,o.contextLView=s,o.bindingIndex=l.bindingStartIndex,o.inI18n=!1}function pu(){const s=Dt.lFrame,o=null===s?null:s.child;return null===o?mu(s):o}function mu(s){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=o),o}function gu(){const s=Dt.lFrame;return Dt.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const Pd=gu;function go(){const s=gu();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function ii(){return Dt.lFrame.selectedIndex}function ir(s){Dt.lFrame.selectedIndex=s}function yn(){const s=Dt.lFrame;return Ko(s.tView,s.selectedIndex)}function vu(s,o){for(let l=o.directiveStart,d=o.directiveEnd;l<d;l++){const m=s.data[l].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:C,ngAfterViewInit:E,ngAfterViewChecked:S,ngOnDestroy:R}=m;v&&(s.contentHooks||(s.contentHooks=[])).push(-l,v),C&&((s.contentHooks||(s.contentHooks=[])).push(l,C),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(l,C)),E&&(s.viewHooks||(s.viewHooks=[])).push(-l,E),S&&((s.viewHooks||(s.viewHooks=[])).push(l,S),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(l,S)),null!=R&&(s.destroyHooks||(s.destroyHooks=[])).push(l,R)}}function Qo(s,o,l){Jo(s,o,3,l)}function Xo(s,o,l,d){(3&s[2])===l&&Jo(s,o,l,d)}function Ld(s,o){let l=s[2];(3&l)===o&&(l&=2047,l+=1,s[2]=l)}function Jo(s,o,l,d){const m=d??-1,v=o.length-1;let C=0;for(let E=void 0!==d?65535&s[18]:0;E<v;E++)if("number"==typeof o[E+1]){if(C=o[E],null!=d&&C>=d)break}else o[E]<0&&(s[18]+=65536),(C<m||-1==m)&&(Vd(s,l,o,E),s[18]=(4294901760&s[18])+E+2),E++}function Vd(s,o,l,d){const h=l[d]<0,m=l[d+1],C=s[h?-l[d]:l[d]];if(h){if(s[2]>>11<s[18]>>16&&(3&s[2])===o){s[2]+=2048;try{m.call(C)}finally{}}}else try{m.call(C)}finally{}}class zs{constructor(o,l,d){this.factory=o,this.resolving=!1,this.canSeeViewProviders=l,this.injectImpl=d}}function ea(s,o,l){let d=0;for(;d<l.length;){const h=l[d];if("number"==typeof h){if(0!==h)break;d++;const m=l[d++],v=l[d++],C=l[d++];s.setAttribute(o,v,C,m)}else{const m=h,v=l[++d];tc(m)?s.setProperty(o,m,v):s.setAttribute(o,m,v),d++}}return d}function bo(s){return 3===s||4===s||6===s}function tc(s){return 64===s.charCodeAt(0)}function za(s,o){if(null!==o&&0!==o.length)if(null===s||0===s.length)s=o.slice();else{let l=-1;for(let d=0;d<o.length;d++){const h=o[d];"number"==typeof h?l=h:0===l||Ud(s,l,h,null,-1===l||2===l?o[++d]:null)}}return s}function Ud(s,o,l,d,h){let m=0,v=s.length;if(-1===o)v=-1;else for(;m<s.length;){const C=s[m++];if("number"==typeof C){if(C===o){v=-1;break}if(C>o){v=m-1;break}}}for(;m<s.length;){const C=s[m];if("number"==typeof C)break;if(C===l){if(null===d)return void(null!==h&&(s[m+1]=h));if(d===s[m+1])return void(s[m+2]=h)}m++,null!==d&&m++,null!==h&&m++}-1!==v&&(s.splice(v,0,o),m=v+1),s.splice(m++,0,l),null!==d&&s.splice(m++,0,d),null!==h&&s.splice(m++,0,h)}function Hd(s){return-1!==s}function mi(s){return 32767&s}function Wa(s,o){let l=function qa(s){return s>>16}(s),d=o;for(;l>0;)d=d[15],l--;return d}let Wr=!0;function Za(s){const o=Wr;return Wr=s,o}let Vn=0;const Pr={};function wo(s,o){const l=ic(s,o);if(-1!==l)return l;const d=o[1];d.firstCreatePass&&(s.injectorIndex=o.length,Ya(d.data,s),Ya(o,null),Ya(d.blueprint,null));const h=rc(s,o),m=s.injectorIndex;if(Hd(h)){const v=mi(h),C=Wa(h,o),E=C[1].data;for(let S=0;S<8;S++)o[m+S]=C[v+S]|E[v+S]}return o[m+8]=h,m}function Ya(s,o){s.push(0,0,0,0,0,0,0,0,o)}function ic(s,o){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===o[s.injectorIndex+8]?-1:s.injectorIndex}function rc(s,o){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let l=0,d=null,h=o;for(;null!==h;){if(d=ia(h),null===d)return-1;if(l++,h=h[15],-1!==d.injectorIndex)return d.injectorIndex|l<<16}return-1}function qs(s,o,l){!function nc(s,o,l){let d;"string"==typeof l?d=l.charCodeAt(0)||0:l.hasOwnProperty(G)&&(d=l[G]),null==d&&(d=l[G]=Vn++);const h=255&d;o.data[s+(h>>5)]|=1<<h}(s,o,l)}function Ws(s,o,l){if(l&Ke.Optional)return s;we()}function sc(s,o,l,d){if(l&Ke.Optional&&void 0===d&&(d=null),0==(l&(Ke.Self|Ke.Host))){const h=s[9],m=Fn(void 0);try{return h?h.get(o,d,l&Ke.Optional):Mr(o,d,l&Ke.Optional)}finally{Fn(m)}}return Ws(d,0,l)}function Co(s,o,l,d=Ke.Default,h){if(null!==s){if(1024&o[2]){const v=function na(s,o,l,d,h){let m=s,v=o;for(;null!==m&&null!==v&&1024&v[2]&&!(256&v[2]);){const C=Qa(m,v,l,d|Ke.Self,Pr);if(C!==Pr)return C;let E=m.parent;if(!E){const S=v[21];if(S){const R=S.get(l,Pr,d);if(R!==Pr)return R}E=ia(v),v=v[15]}m=E}return h}(s,o,l,d,Pr);if(v!==Pr)return v}const m=Qa(s,o,l,d,Pr);if(m!==Pr)return m}return sc(o,l,d,h)}function Qa(s,o,l,d,h){const m=function wu(s){if("string"==typeof s)return s.charCodeAt(0)||0;const o=s.hasOwnProperty(G)?s[G]:void 0;return"number"==typeof o?o>=0?255&o:Cu:o}(l);if("function"==typeof m){if(!Zl(o,s,d))return d&Ke.Host?Ws(h,0,d):sc(o,l,d,h);try{const v=m(d);if(null!=v||d&Ke.Optional)return v;we()}finally{Pd()}}else if("number"==typeof m){let v=null,C=ic(s,o),E=-1,S=d&Ke.Host?o[16][6]:null;for((-1===C||d&Ke.SkipSelf)&&(E=-1===C?rc(s,o):o[C+8],-1!==E&&Xa(d,!1)?(v=o[1],C=mi(E),o=Wa(E,o)):C=-1);-1!==C;){const R=o[1];if(oc(m,C,R.data)){const F=Gd(C,o,l,v,d,S);if(F!==Pr)return F}E=o[C+8],-1!==E&&Xa(d,o[1].data[C+8]===S)&&oc(m,C,o)?(v=R,C=mi(E),o=Wa(E,o)):C=-1}}return h}function Gd(s,o,l,d,h,m){const v=o[1],C=v.data[s+8],R=ta(C,v,l,null==d?Fa(C)&&Wr:d!=v&&0!=(3&C.type),h&Ke.Host&&m===C);return null!==R?ys(o,v,R,C):Pr}function ta(s,o,l,d,h){const m=s.providerIndexes,v=o.data,C=1048575&m,E=s.directiveStart,R=m>>20,q=h?C+R:s.directiveEnd;for(let ie=d?C:C+R;ie<q;ie++){const Ee=v[ie];if(ie<E&&l===Ee||ie>=E&&Ee.type===l)return ie}if(h){const ie=v[E];if(ie&&Ai(ie)&&ie.type===l)return E}return null}function ys(s,o,l,d){let h=s[l];const m=o.data;if(function yo(s){return s instanceof zs}(h)){const v=h;v.resolving&&function Qe(s,o){const l=o?`. Dependency path: ${o.join(" > ")} > ${s}`:"";throw new Ce(-200,`Circular dependency in DI detected for ${s}${l}`)}(function me(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():ye(s)}(m[l]));const C=Za(v.canSeeViewProviders);v.resolving=!0;const E=v.injectImpl?Fn(v.injectImpl):null;Zl(s,d,Ke.Default);try{h=s[l]=v.factory(void 0,m,s,d),o.firstCreatePass&&l>=d.directiveStart&&function Fd(s,o,l){const{ngOnChanges:d,ngOnInit:h,ngDoCheck:m}=o.type.prototype;if(d){const v=ho(o);(l.preOrderHooks||(l.preOrderHooks=[])).push(s,v),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(s,v)}h&&(l.preOrderHooks||(l.preOrderHooks=[])).push(0-s,h),m&&((l.preOrderHooks||(l.preOrderHooks=[])).push(s,m),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(s,m))}(l,m[l],o)}finally{null!==E&&Fn(E),Za(C),v.resolving=!1,Pd()}}return h}function oc(s,o,l){return!!(l[o+(s>>5)]&1<<s)}function Xa(s,o){return!(s&Ke.Self||s&Ke.Host&&o)}class Eo{constructor(o,l){this._tNode=o,this._lView=l}get(o,l,d){return Co(this._tNode,this._lView,o,d,l)}}function Cu(){return new Eo(An(),xe())}function vs(s){return Ln(()=>{const o=s.prototype.constructor,l=o[Y]||ac(o),d=Object.prototype;let h=Object.getPrototypeOf(s.prototype).constructor;for(;h&&h!==d;){const m=h[Y]||ac(h);if(m&&m!==l)return m;h=Object.getPrototypeOf(h)}return m=>new m})}function ac(s){return Ve(s)?()=>{const o=ac(X(s));return o&&o()}:zr(s)}function ia(s){const o=s[1],l=o.type;return 2===l?o.declTNode:1===l?s[6]:null}function lc(s){return function $d(s,o){if("class"===o)return s.classes;if("style"===o)return s.styles;const l=s.attrs;if(l){const d=l.length;let h=0;for(;h<d;){const m=l[h];if(bo(m))break;if(0===m)h+=2;else if("number"==typeof m)for(h++;h<d&&"string"==typeof l[h];)h++;else{if(m===o)return l[h+1];h+=2}}}return null}(An(),s)}const Zs="__parameters__";function oa(s,o,l){return Ln(()=>{const d=function cc(s){return function(...l){if(s){const d=s(...l);for(const h in d)this[h]=d[h]}}}(o);function h(...m){if(this instanceof h)return d.apply(this,m),this;const v=new h(...m);return C.annotation=v,C;function C(E,S,R){const F=E.hasOwnProperty(Zs)?E[Zs]:Object.defineProperty(E,Zs,{value:[]})[Zs];for(;F.length<=R;)F.push(null);return(F[R]=F[R]||[]).push(v),E}}return l&&(h.prototype=Object.create(l.prototype)),h.prototype.ngMetadataName=s,h.annotationCls=h,h})}class pn{constructor(o,l){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof l?this.__NG_ELEMENT_ID__=l:void 0!==l&&(this.\u0275prov=Qt({token:this,providedIn:l.providedIn||"root",factory:l.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function sr(s,o){void 0===o&&(o=s);for(let l=0;l<s.length;l++){let d=s[l];Array.isArray(d)?(o===s&&(o=s.slice(0,l)),sr(d,o)):o!==s&&o.push(d)}return o}function Nr(s,o){s.forEach(l=>Array.isArray(l)?Nr(l,o):o(l))}function Eu(s,o,l){o>=s.length?s.push(l):s.splice(o,0,l)}function aa(s,o){return o>=s.length-1?s.pop():s.splice(o,1)[0]}function Bi(s,o){const l=[];for(let d=0;d<s;d++)l.push(o);return l}function Ui(s,o,l){let d=ws(s,o);return d>=0?s[1|d]=l:(d=~d,function it(s,o,l,d){let h=s.length;if(h==o)s.push(l,d);else if(1===h)s.push(d,s[0]),s[0]=l;else{for(h--,s.push(s[h-1],s[h]);h>o;)s[h]=s[h-2],h--;s[o]=l,s[o+1]=d}}(s,d,o,l)),d}function ua(s,o){const l=ws(s,o);if(l>=0)return s[1|l]}function ws(s,o){return function Hi(s,o,l){let d=0,h=s.length>>l;for(;h!==d;){const m=d+(h-d>>1),v=s[m<<l];if(o===v)return m<<l;v>o?h=m:d=m+1}return~(h<<l)}(s,o,1)}const mn={},Kr="__NG_DI_FLAG__",fc="ngTempTokenPath",pc=/\n/gm,qd="__source";let To;function Cs(s){const o=To;return To=s,o}function Tu(s,o=Ke.Default){if(void 0===To)throw new Ce(-203,!1);return null===To?Mr(s,void 0,o):To.get(s,o&Ke.Optional?null:void 0,o)}function On(s,o=Ke.Default){return(function cs(){return tr}()||Tu)(X(s),o)}function D(s,o=Ke.Default){return"number"!=typeof o&&(o=0|(o.optional&&8)|(o.host&&1)|(o.self&&2)|(o.skipSelf&&4)),On(s,o)}function T(s){const o=[];for(let l=0;l<s.length;l++){const d=X(s[l]);if(Array.isArray(d)){if(0===d.length)throw new Ce(900,!1);let h,m=Ke.Default;for(let v=0;v<d.length;v++){const C=d[v],E=V(C);"number"==typeof E?-1===E?h=C.token:m|=E:h=C}o.push(On(h,m))}else o.push(On(d))}return o}function k(s,o){return s[Kr]=o,s.prototype[Kr]=o,s}function V(s){return s[Kr]}const He=k(oa("Optional"),8),bt=k(oa("SkipSelf"),4);let tg,xu,rl;function Y0(s){tg=s}function il(s){return function Nf(){if(void 0===xu&&(xu=null,ln.trustedTypes))try{xu=ln.trustedTypes.createPolicy("angular",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return xu}()?.createHTML(s)||s}function Mu(s){return function sl(){if(void 0===rl&&(rl=null,ln.trustedTypes))try{rl=ln.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return rl}()?.createHTML(s)||s}class Ds{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class ng extends Ds{getTypeName(){return"HTML"}}class Au extends Ds{getTypeName(){return"Style"}}class ig extends Ds{getTypeName(){return"Script"}}class ku extends Ds{getTypeName(){return"URL"}}class rg extends Ds{getTypeName(){return"ResourceURL"}}function Qr(s){return s instanceof Ds?s.changingThisBreaksApplicationSecurity:s}function al(s,o){const l=function Kd(s){return s instanceof Ds&&s.getTypeName()||null}(s);if(null!=l&&l!==o){if("ResourceURL"===l&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${l} (see https://g.co/ng/security#xss)`)}return l===o}function Sy(s){return new ng(s)}function X0(s){return new Au(s)}function xy(s){return new ig(s)}function J0(s){return new ku(s)}function Ff(s){return new rg(s)}class Yd{constructor(o){this.inertDocumentHelper=o}getInertBodyElement(o){o="<body><remove></remove>"+o;try{const l=(new window.DOMParser).parseFromString(il(o),"text/html").body;return null===l?this.inertDocumentHelper.getInertBodyElement(o):(l.removeChild(l.firstChild),l)}catch{return null}}}class Qd{constructor(o){if(this.defaultDoc=o,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const l=this.inertDocument.createElement("html");this.inertDocument.appendChild(l);const d=this.inertDocument.createElement("body");l.appendChild(d)}}getInertBodyElement(o){const l=this.inertDocument.createElement("template");if("content"in l)return l.innerHTML=il(o),l;const d=this.inertDocument.createElement("body");return d.innerHTML=il(o),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(d),d}stripCustomNsAttrs(o){const l=o.attributes;for(let h=l.length-1;0<h;h--){const v=l.item(h).name;("xmlns:ns1"===v||0===v.indexOf("ns1:"))&&o.removeAttribute(v)}let d=o.firstChild;for(;d;)d.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(d),d=d.nextSibling}}const Vf=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function Js(s){return(s=String(s)).match(Vf)?s:"unsafe:"+s}function eo(s){const o={};for(const l of s.split(","))o[l]=!0;return o}function ha(...s){const o={};for(const l of s)for(const d in l)l.hasOwnProperty(d)&&(o[d]=!0);return o}const og=eo("area,br,col,hr,img,wbr"),Bf=eo("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Xd=eo("rp,rt"),ag=ha(og,ha(Bf,eo("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),ha(Xd,eo("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),ha(Xd,Bf)),Ru=eo("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Jd=eo("srcset"),cg=ha(Ru,Jd,eo("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),eo("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),ug=eo("script,style,template");class Hf{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(o){let l=o.firstChild,d=!0;for(;l;)if(l.nodeType===Node.ELEMENT_NODE?d=this.startElement(l):l.nodeType===Node.TEXT_NODE?this.chars(l.nodeValue):this.sanitizedSomething=!0,d&&l.firstChild)l=l.firstChild;else for(;l;){l.nodeType===Node.ELEMENT_NODE&&this.endElement(l);let h=this.checkClobberedElement(l,l.nextSibling);if(h){l=h;break}l=this.checkClobberedElement(l,l.parentNode)}return this.buf.join("")}startElement(o){const l=o.nodeName.toLowerCase();if(!ag.hasOwnProperty(l))return this.sanitizedSomething=!0,!ug.hasOwnProperty(l);this.buf.push("<"),this.buf.push(l);const d=o.attributes;for(let h=0;h<d.length;h++){const m=d.item(h),v=m.name,C=v.toLowerCase();if(!cg.hasOwnProperty(C)){this.sanitizedSomething=!0;continue}let E=m.value;Ru[C]&&(E=Js(E)),Jd[C]&&(s=E,E=(s=String(s)).split(",").map(o=>Js(o.trim())).join(", ")),this.buf.push(" ",v,'="',gc(E),'"')}var s;return this.buf.push(">"),!0}endElement(o){const l=o.nodeName.toLowerCase();ag.hasOwnProperty(l)&&!og.hasOwnProperty(l)&&(this.buf.push("</"),this.buf.push(l),this.buf.push(">"))}chars(o){this.buf.push(gc(o))}checkClobberedElement(o,l){if(l&&(o.compareDocumentPosition(l)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${o.outerHTML}`);return l}}const Ou=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,jf=/([^\#-~ |!])/g;function gc(s){return s.replace(/&/g,"&amp;").replace(Ou,function(o){return"&#"+(1024*(o.charCodeAt(0)-55296)+(o.charCodeAt(1)-56320)+65536)+";"}).replace(jf,function(o){return"&#"+o.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Pu;function $f(s,o){let l=null;try{Pu=Pu||function Xr(s){const o=new Qd(s);return function Lf(){try{return!!(new window.DOMParser).parseFromString(il(""),"text/html")}catch{return!1}}()?new Yd(o):o}(s);let d=o?String(o):"";l=Pu.getInertBodyElement(d);let h=5,m=d;do{if(0===h)throw new Error("Failed to sanitize html because the input is unstable");h--,d=m,m=l.innerHTML,l=Pu.getInertBodyElement(d)}while(d!==m);return il((new Hf).sanitizeChildren(dg(l)||l))}finally{if(l){const d=dg(l)||l;for(;d.firstChild;)d.removeChild(d.firstChild)}}}function dg(s){return"content"in s&&function hg(s){return s.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===s.nodeName}(s)?s.content:null}var Bn=(()=>((Bn=Bn||{})[Bn.NONE=0]="NONE",Bn[Bn.HTML=1]="HTML",Bn[Bn.STYLE=2]="STYLE",Bn[Bn.SCRIPT=3]="SCRIPT",Bn[Bn.URL=4]="URL",Bn[Bn.RESOURCE_URL=5]="RESOURCE_URL",Bn))();function Ay(s){const o=fa();return o?Mu(o.sanitize(Bn.HTML,s)||""):al(s,"HTML")?Mu(Qr(s)):$f(function Iy(){return void 0!==tg?tg:typeof document<"u"?document:void 0}(),ye(s))}function fg(s){const o=fa();return o?o.sanitize(Bn.URL,s)||"":al(s,"URL")?Qr(s):Js(ye(s))}function fa(){const s=xe();return s&&s[12]}const Fu=new pn("ENVIRONMENT_INITIALIZER"),mg=new pn("INJECTOR",-1),qf=new pn("INJECTOR_DEF_TYPES");class eh{get(o,l=mn){if(l===mn){const d=new Error(`NullInjectorError: No provider for ${pe(o)}!`);throw d.name="NullInjectorError",d}return l}}function gg(...s){return{\u0275providers:wr(0,s)}}function wr(s,...o){const l=[],d=new Set;let h;return Nr(o,m=>{const v=m;Lu(v,l,[],d)&&(h||(h=[]),h.push(v))}),void 0!==h&&ll(h,l),l}function ll(s,o){for(let l=0;l<s.length;l++){const{providers:h}=s[l];Nr(h,m=>{o.push(m)})}}function Lu(s,o,l,d){if(!(s=X(s)))return!1;let h=null,m=Ls(s);const v=!m&&Ot(s);if(m||v){if(v&&!v.standalone)return!1;h=s}else{const E=s.ngModule;if(m=Ls(E),!m)return!1;h=E}const C=d.has(h);if(v){if(C)return!1;if(d.add(h),v.dependencies){const E="function"==typeof v.dependencies?v.dependencies():v.dependencies;for(const S of E)Lu(S,o,l,d)}}else{if(!m)return!1;{if(null!=m.imports&&!C){let S;d.add(h);try{Nr(m.imports,R=>{Lu(R,o,l,d)&&(S||(S=[]),S.push(R))})}finally{}void 0!==S&&ll(S,o)}if(!C){const S=zr(h)||(()=>new h);o.push({provide:h,useFactory:S,deps:It},{provide:qf,useValue:h,multi:!0},{provide:Fu,useValue:()=>On(h),multi:!0})}const E=m.providers;null==E||C||Nr(E,R=>{o.push(R)})}}return h!==s&&void 0!==s.providers}const th=fe({provide:String,useValue:fe});function Vu(s){return null!==s&&"object"==typeof s&&th in s}function xo(s){return"function"==typeof s}const _c=new pn("Set Injector scope."),Bu={},Py={};let ih;function Uu(){return void 0===ih&&(ih=new eh),ih}class Kn{}class rh extends Kn{constructor(o,l,d,h){super(),this.parent=l,this.source=d,this.scopes=h,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,sh(o,v=>this.processProvider(v)),this.records.set(mg,dl(void 0,this)),h.has("environment")&&this.records.set(Kn,dl(void 0,this));const m=this.records.get(_c);null!=m&&"string"==typeof m.value&&this.scopes.add(m.value),this.injectorDefTypes=new Set(this.get(qf.multi,It,Ke.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();for(const o of this._onDestroyHooks)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(o){this._onDestroyHooks.push(o)}runInContext(o){this.assertNotDestroyed();const l=Cs(this),d=Fn(void 0);try{return o()}finally{Cs(l),Fn(d)}}get(o,l=mn,d=Ke.Default){this.assertNotDestroyed();const h=Cs(this),m=Fn(void 0);try{if(!(d&Ke.SkipSelf)){let C=this.records.get(o);if(void 0===C){const E=function Kf(s){return"function"==typeof s||"object"==typeof s&&s instanceof pn}(o)&&on(o);C=E&&this.injectableDefInScope(E)?dl(cl(o),Bu):null,this.records.set(o,C)}if(null!=C)return this.hydrate(o,C)}return(d&Ke.Self?Uu():this.parent).get(o,l=d&Ke.Optional&&l===mn?null:l)}catch(v){if("NullInjectorError"===v.name){if((v[fc]=v[fc]||[]).unshift(pe(o)),h)throw v;return function J(s,o,l,d){const h=s[fc];throw o[qd]&&h.unshift(o[qd]),s.message=function ue(s,o,l,d=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.slice(2):s;let h=pe(o);if(Array.isArray(o))h=o.map(pe).join(" -> ");else if("object"==typeof o){let m=[];for(let v in o)if(o.hasOwnProperty(v)){let C=o[v];m.push(v+":"+("string"==typeof C?JSON.stringify(C):pe(C)))}h=`{${m.join(", ")}}`}return`${l}${d?"("+d+")":""}[${h}]: ${s.replace(pc,"\n  ")}`}("\n"+s.message,h,l,d),s.ngTokenPath=h,s[fc]=null,s}(v,o,"R3InjectorError",this.source)}throw v}finally{Fn(m),Cs(h)}}resolveInjectorInitializers(){const o=Cs(this),l=Fn(void 0);try{const d=this.get(Fu.multi,It,Ke.Self);for(const h of d)h()}finally{Cs(o),Fn(l)}}toString(){const o=[],l=this.records;for(const d of l.keys())o.push(pe(d));return`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ce(205,!1)}processProvider(o){let l=xo(o=X(o))?o:X(o&&o.provide);const d=function Mo(s){return Vu(s)?dl(void 0,s.useValue):dl(ul(s),Bu)}(o);if(xo(o)||!0!==o.multi)this.records.get(l);else{let h=this.records.get(l);h||(h=dl(void 0,Bu,!0),h.factory=()=>T(h.multi),this.records.set(l,h)),l=o,h.multi.push(o)}this.records.set(l,d)}hydrate(o,l){return l.value===Bu&&(l.value=Py,l.value=l.factory()),"object"==typeof l.value&&l.value&&function Zf(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(l.value)&&this._ngOnDestroyHooks.add(l.value),l.value}injectableDefInScope(o){if(!o.providedIn)return!1;const l=X(o.providedIn);return"string"==typeof l?"any"===l||this.scopes.has(l):this.injectorDefTypes.has(l)}}function cl(s){const o=on(s),l=null!==o?o.factory:zr(s);if(null!==l)return l;if(s instanceof pn)throw new Ce(204,!1);if(s instanceof Function)return function Ny(s){const o=s.length;if(o>0)throw Bi(o,"?"),new Ce(204,!1);const l=function Mi(s){const o=s&&(s[jr]||s[xr]);if(o){const l=function Ji(s){if(s.hasOwnProperty("name"))return s.name;const o=(""+s).match(/^function\s*([^\s(]+)/);return null===o?"":o[1]}(s);return console.warn(`DEPRECATED: DI is instantiating a token "${l}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${l}" class.`),o}return null}(s);return null!==l?()=>l.factory(s):()=>new s}(s);throw new Ce(204,!1)}function ul(s,o,l){let d;if(xo(s)){const h=X(s);return zr(h)||cl(h)}if(Vu(s))d=()=>X(s.useValue);else if(function Wf(s){return!(!s||!s.useFactory)}(s))d=()=>s.useFactory(...T(s.deps||[]));else if(function nh(s){return!(!s||!s.useExisting)}(s))d=()=>On(X(s.useExisting));else{const h=X(s&&(s.useClass||s.provide));if(!function Fy(s){return!!s.deps}(s))return zr(h)||cl(h);d=()=>new h(...T(s.deps))}return d}function dl(s,o,l=!1){return{factory:s,value:o,multi:l?[]:void 0}}function _g(s){return!!s.\u0275providers}function sh(s,o){for(const l of s)Array.isArray(l)?sh(l,o):_g(l)?sh(l.\u0275providers,o):o(l)}class yg{}class w{resolveComponentFactory(o){throw function y(s){const o=Error(`No component factory found for ${pe(s)}. Did you add it to @NgModule.entryComponents?`);return o.ngComponent=s,o}(o)}}let M=(()=>{class s{}return s.NULL=new w,s})();function O(){return K(An(),xe())}function K(s,o){return new de(Vi(s,o))}let de=(()=>{class s{constructor(l){this.nativeElement=l}}return s.__NG_ELEMENT_ID__=O,s})();function Le(s){return s instanceof de?s.nativeElement:s}class vt{}let _t=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function ri(){const s=xe(),l=Wt(An().index,s);return(pi(l)?l:s)[11]}(),s})(),Ts=(()=>{class s{}return s.\u0275prov=Qt({token:s,providedIn:"root",factory:()=>null}),s})();class yc{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const vg=new yc("14.2.1"),oh={};function Qf(s){return s.ngOriginalError}class Xf{constructor(){this._console=console}handleError(o){const l=this._findOriginalError(o);this._console.error("ERROR",o),l&&this._console.error("ORIGINAL ERROR",l)}_findOriginalError(o){let l=o&&Qf(o);for(;l&&Qf(l);)l=Qf(l);return l||null}}const ga=new Map;let fl=0;const ch="__ngContext__";function cr(s,o){pi(o)?(s[ch]=o[20],function Uy(s){ga.set(s[20],s)}(o)):s[ch]=o}function tp(s){const o=s[ch];return"number"==typeof o?function Hy(s){return ga.get(s)||null}(o):o||null}function Ao(s){const o=tp(s);return o?pi(o)?o:o.lView:null}function Jr(s){return s instanceof Function?s():s}var ml=(()=>((ml=ml||{})[ml.Important=1]="Important",ml[ml.DashCase=2]="DashCase",ml))();function ya(s,o){return undefined(s,o)}function hh(s){const o=s[3];return Li(o)?o[3]:o}function Cg(s){return Zy(s[13])}function Wy(s){return Zy(s[4])}function Zy(s){for(;null!==s&&!Li(s);)s=s[4];return s}function gl(s,o,l,d,h){if(null!=d){let m,v=!1;Li(d)?m=d:pi(d)&&(v=!0,d=d[0]);const C=Mn(d);0===s&&null!==l?null==h?hw(o,l,C):Gu(o,l,C,h||null,!0):1===s&&null!==l?Gu(o,l,C,h||null,!0):2===s?function _w(s,o,l){const d=Sg(s,o);d&&function Tg(s,o,l,d){s.removeChild(o,l,d)}(s,d,o,l)}(o,C,v):3===s&&o.destroyNode(C),null!=m&&function yw(s,o,l,d,h){const m=l[7];m!==Mn(l)&&gl(o,s,d,m,h);for(let C=10;C<l.length;C++){const E=l[C];yl(E[1],E,s,o,d,m)}}(o,s,m,l,h)}}function Ky(s,o,l){return s.createElement(o,l)}function fh(s,o){const l=s[9],d=l.indexOf(o),h=o[3];512&o[2]&&(o[2]&=-513,Tn(h,-1)),l.splice(d,1)}function Ig(s,o){if(s.length<=10)return;const l=10+o,d=s[l];if(d){const h=d[17];null!==h&&h!==s&&fh(h,d),o>0&&(s[l-1][4]=d[4]);const m=aa(s,10+o);!function $u(s,o){yl(s,o,o[11],2,null,null),o[0]=null,o[6]=null}(d[1],d);const v=m[19];null!==v&&v.detachView(m[1]),d[3]=null,d[4]=null,d[2]&=-65}return d}function rp(s,o){if(!(128&o[2])){const l=o[11];l.destroyNode&&yl(s,o,l,3,null,null),function Yy(s){let o=s[13];if(!o)return Qy(s[1],s);for(;o;){let l=null;if(pi(o))l=o[13];else{const d=o[10];d&&(l=d)}if(!l){for(;o&&!o[4]&&o!==s;)pi(o)&&Qy(o[1],o),o=o[3];null===o&&(o=s),pi(o)&&Qy(o[1],o),l=o&&o[4]}o=l}}(o)}}function Qy(s,o){if(!(128&o[2])){o[2]&=-65,o[2]|=128,function Dg(s,o){let l;if(null!=s&&null!=(l=s.destroyHooks))for(let d=0;d<l.length;d+=2){const h=o[l[d]];if(!(h instanceof zs)){const m=l[d+1];if(Array.isArray(m))for(let v=0;v<m.length;v+=2){const C=h[m[v]],E=m[v+1];try{E.call(C)}finally{}}else try{m.call(h)}finally{}}}}(s,o),function Xy(s,o){const l=s.cleanup,d=o[7];let h=-1;if(null!==l)for(let m=0;m<l.length-1;m+=2)if("string"==typeof l[m]){const v=l[m+1],C="function"==typeof v?v(o):Mn(o[v]),E=d[h=l[m+2]],S=l[m+3];"boolean"==typeof S?C.removeEventListener(l[m],E,S):S>=0?d[h=S]():d[h=-S].unsubscribe(),m+=2}else{const v=d[h=l[m+1]];l[m].call(v)}if(null!==d){for(let m=h+1;m<d.length;m++)(0,d[m])();o[7]=null}}(s,o),1===o[1].type&&o[11].destroy();const l=o[17];if(null!==l&&Li(o[3])){l!==o[3]&&fh(l,o);const d=o[19];null!==d&&d.detachView(s)}!function $i(s){ga.delete(s[20])}(o)}}function Jy(s,o,l){return function ev(s,o,l){let d=o;for(;null!==d&&40&d.type;)d=(o=d).parent;if(null===d)return l[0];if(2&d.flags){const h=s.data[d.directiveStart].encapsulation;if(h===ct.None||h===ct.Emulated)return null}return Vi(d,l)}(s,o.parent,l)}function Gu(s,o,l,d,h){s.insertBefore(o,l,d,h)}function hw(s,o,l){s.appendChild(o,l)}function fw(s,o,l,d,h){null!==d?Gu(s,o,l,d,h):hw(s,o,l)}function Sg(s,o){return s.parentNode(o)}function pw(s,o,l){return xg(s,o,l)}let xg=function mw(s,o,l){return 40&s.type?Vi(s,l):null};function va(s,o,l,d){const h=Jy(s,d,o),m=o[11],C=pw(d.parent||o[6],d,o);if(null!=h)if(Array.isArray(l))for(let E=0;E<l.length;E++)fw(m,h,l[E],C,!1);else fw(m,h,l,C,!1)}function mh(s,o){if(null!==o){const l=o.type;if(3&l)return Vi(o,s);if(4&l)return tv(-1,s[o.index]);if(8&l){const d=o.child;if(null!==d)return mh(s,d);{const h=s[o.index];return Li(h)?tv(-1,h):Mn(h)}}if(32&l)return ya(o,s)()||Mn(s[o.index]);{const d=BD(s,o);return null!==d?Array.isArray(d)?d[0]:mh(hh(s[16]),d):mh(s,o.next)}}return null}function BD(s,o){return null!==o?s[16][6].projection[o.projection]:null}function tv(s,o){const l=10+s+1;if(l<o.length){const d=o[l],h=d[1].firstChild;if(null!==h)return mh(d,h)}return o[7]}function nv(s,o,l,d,h,m,v){for(;null!=l;){const C=d[l.index],E=l.type;if(v&&0===o&&(C&&cr(Mn(C),d),l.flags|=4),64!=(64&l.flags))if(8&E)nv(s,o,l.child,d,h,m,!1),gl(o,s,h,C,m);else if(32&E){const S=ya(l,d);let R;for(;R=S();)gl(o,s,h,R,m);gl(o,s,h,C,m)}else 16&E?zu(s,o,d,l,h,m):gl(o,s,h,C,m);l=v?l.projectionNext:l.next}}function yl(s,o,l,d,h,m){nv(l,d,s.firstChild,o,h,m,!1)}function zu(s,o,l,d,h,m){const v=l[16],E=v[6].projection[d.projection];if(Array.isArray(E))for(let S=0;S<E.length;S++)gl(o,s,h,E[S],m);else nv(s,o,E,v[3],h,m,!0)}function iv(s,o,l){s.setAttribute(o,"style",l)}function bc(s,o,l){""===l?s.removeAttribute(o,"class"):s.setAttribute(o,"class",l)}function bw(s,o,l){let d=s.length;for(;;){const h=s.indexOf(o,l);if(-1===h)return h;if(0===h||s.charCodeAt(h-1)<=32){const m=o.length;if(h+m===d||s.charCodeAt(h+m)<=32)return h}l=h+1}}const rv="ng-template";function UD(s,o,l){let d=0;for(;d<s.length;){let h=s[d++];if(l&&"class"===h){if(h=s[d],-1!==bw(h.toLowerCase(),o,0))return!0}else if(1===h){for(;d<s.length&&"string"==typeof(h=s[d++]);)if(h.toLowerCase()===o)return!0;return!1}}return!1}function Mg(s){return 4===s.type&&s.value!==rv}function op(s,o,l){return o===(4!==s.type||l?s.value:rv)}function HD(s,o,l){let d=4;const h=s.attrs||[],m=function vl(s){for(let o=0;o<s.length;o++)if(bo(s[o]))return o;return s.length}(h);let v=!1;for(let C=0;C<o.length;C++){const E=o[C];if("number"!=typeof E){if(!v)if(4&d){if(d=2|1&d,""!==E&&!op(s,E,l)||""===E&&1===o.length){if(xs(d))return!1;v=!0}}else{const S=8&d?E:o[++C];if(8&d&&null!==s.attrs){if(!UD(s.attrs,S,l)){if(xs(d))return!1;v=!0}continue}const F=jD(8&d?"class":E,h,Mg(s),l);if(-1===F){if(xs(d))return!1;v=!0;continue}if(""!==S){let q;q=F>m?"":h[F+1].toLowerCase();const ie=8&d?q:null;if(ie&&-1!==bw(ie,S,0)||2&d&&S!==q){if(xs(d))return!1;v=!0}}}}else{if(!v&&!xs(d)&&!xs(E))return!1;if(v&&xs(E))continue;v=!1,d=E|1&d}}return xs(d)||v}function xs(s){return 0==(1&s)}function jD(s,o,l,d){if(null===o)return-1;let h=0;if(d||!l){let m=!1;for(;h<o.length;){const v=o[h];if(v===s)return h;if(3===v||6===v)m=!0;else{if(1===v||2===v){let C=o[++h];for(;"string"==typeof C;)C=o[++h];continue}if(4===v)break;if(0===v){h+=4;continue}}h+=m?1:2}return-1}return function ov(s,o){let l=s.indexOf(4);if(l>-1)for(l++;l<s.length;){const d=s[l];if("number"==typeof d)return-1;if(d===o)return l;l++}return-1}(o,s)}function sv(s,o,l=!1){for(let d=0;d<o.length;d++)if(HD(s,o[d],l))return!0;return!1}function qu(s,o){e:for(let l=0;l<o.length;l++){const d=o[l];if(s.length===d.length){for(let h=0;h<s.length;h++)if(s[h]!==d[h])continue e;return!0}}return!1}function ap(s,o){return s?":not("+o.trim()+")":o}function Cw(s){let o=s[0],l=1,d=2,h="",m=!1;for(;l<s.length;){let v=s[l];if("string"==typeof v)if(2&d){const C=s[++l];h+="["+v+(C.length>0?'="'+C+'"':"")+"]"}else 8&d?h+="."+v:4&d&&(h+=" "+v);else""!==h&&!xs(v)&&(o+=ap(m,h),h=""),d=v,m=m||!xs(d);l++}return""!==h&&(o+=ap(m,h)),o}const Ft={};function Ew(s){Iw(jt(),xe(),ii()+s,!1)}function Iw(s,o,l,d){if(!d)if(3==(3&o[2])){const m=s.preOrderCheckHooks;null!==m&&Qo(o,m,l)}else{const m=s.preOrderHooks;null!==m&&Xo(o,m,0,l)}ir(l)}function Ag(s,o=null,l=null,d){const h=kg(s,o,l,d);return h.resolveInjectorInitializers(),h}function kg(s,o=null,l=null,d,h=new Set){const m=[l||It,gg(s)];return d=d||("object"==typeof s?void 0:pe(s)),new rh(m,o||Uu(),d||null,h)}let Fr=(()=>{class s{static create(l,d){if(Array.isArray(l))return Ag({name:""},d,l,"");{const h=l.name??"";return Ag({name:h},l.parent,l.providers,h)}}}return s.THROW_IF_NOT_FOUND=mn,s.NULL=new eh,s.\u0275prov=Qt({token:s,providedIn:"any",factory:()=>On(mg)}),s.__NG_ELEMENT_ID__=-1,s})();function hp(s,o=Ke.Default){const l=xe();return null===l?On(s,o):Co(An(),l,X(s),o)}function JD(){throw new Error("invalid")}function _h(s,o){return s<<17|o<<2}function ko(s){return s>>17&32767}function fp(s){return 2|s}function Ii(s){return(131068&s)>>2}function Ng(s,o){return-131069&s|o<<2}function dv(s){return 1|s}function bv(s,o){const l=s.contentQueries;if(null!==l)for(let d=0;d<l.length;d+=2){const h=l[d],m=l[d+1];if(-1!==m){const v=s.data[m];Ga(h),v.contentQueries(2,o[m],m)}}}function vp(s,o,l,d,h,m,v,C,E,S,R){const F=o.blueprint.slice();return F[0]=h,F[2]=76|d,(null!==R||s&&1024&s[2])&&(F[2]|=1024),Ul(F),F[3]=F[15]=s,F[8]=l,F[10]=v||s&&s[10],F[11]=C||s&&s[11],F[12]=E||s&&s[12]||null,F[9]=S||s&&s[9]||null,F[6]=m,F[20]=function ji(){return fl++}(),F[21]=R,F[16]=2==o.type?s[16]:F,F}function ba(s,o,l,d,h){let m=s.data[o];if(null===m)m=function Hg(s,o,l,d,h){const m=ql(),v=Ua(),E=s.data[o]=function uT(s,o,l,d,h,m){return{type:l,index:d,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:m,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?m:m&&m.parent,l,o,d,h);return null===s.firstChild&&(s.firstChild=E),null!==m&&(v?null==m.child&&null!==E.parent&&(m.child=E):null===m.next&&(m.next=E)),E}(s,o,l,d,h),function qm(){return Dt.lFrame.inI18n}()&&(m.flags|=64);else if(64&m.type){m.type=l,m.value=d,m.attrs=h;const v=function Yo(){const s=Dt.lFrame,o=s.currentTNode;return s.isParent?o:o.parent}();m.injectorIndex=null===v?-1:v.injectorIndex}return br(m,!0),m}function bh(s,o,l,d){if(0===l)return-1;const h=o.length;for(let m=0;m<l;m++)o.push(d),s.blueprint.push(d),s.data.push(null);return h}function jg(s,o,l){Kl(o);try{const d=s.viewQuery;null!==d&&zg(1,d,l);const h=s.template;null!==h&&Gw(s,o,h,1,l),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&bv(s,o),s.staticViewQueries&&zg(2,s.viewQuery,l);const m=s.components;null!==m&&function Ug(s,o){for(let l=0;l<o.length;l++)wT(s,o[l])}(o,m)}catch(d){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),d}finally{o[2]&=-5,go()}}function bp(s,o,l,d){const h=o[2];if(128!=(128&h)){Kl(o);try{Ul(o),function uu(s){return Dt.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==l&&Gw(s,o,l,2,d);const v=3==(3&h);if(v){const S=s.preOrderCheckHooks;null!==S&&Qo(o,S,null)}else{const S=s.preOrderHooks;null!==S&&Xo(o,S,0,null),Ld(o,0)}if(function vT(s){for(let o=Cg(s);null!==o;o=Wy(o)){if(!o[2])continue;const l=o[9];for(let d=0;d<l.length;d++){const h=l[d],m=h[3];0==(512&h[2])&&Tn(m,1),h[2]|=512}}}(o),function yT(s){for(let o=Cg(s);null!==o;o=Wy(o))for(let l=10;l<o.length;l++){const d=o[l],h=d[1];fo(d)&&bp(h,d,h.template,d[8])}}(o),null!==s.contentQueries&&bv(s,o),v){const S=s.contentCheckHooks;null!==S&&Qo(o,S)}else{const S=s.contentHooks;null!==S&&Xo(o,S,1),Ld(o,1)}!function $w(s,o){const l=s.hostBindingOpCodes;if(null!==l)try{for(let d=0;d<l.length;d++){const h=l[d];if(h<0)ir(~h);else{const m=h,v=l[++d],C=l[++d];Wm(v,m),C(2,o[m])}}}finally{ir(-1)}}(s,o);const C=s.components;null!==C&&function Bg(s,o){for(let l=0;l<o.length;l++)bT(s,o[l])}(o,C);const E=s.viewQuery;if(null!==E&&zg(2,E,d),v){const S=s.viewCheckHooks;null!==S&&Qo(o,S)}else{const S=s.viewHooks;null!==S&&Xo(o,S,2),Ld(o,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),o[2]&=-41,512&o[2]&&(o[2]&=-513,Tn(o[3],-1))}finally{go()}}}function aT(s,o,l,d){const h=o[10],v=Va(o);try{!v&&h.begin&&h.begin(),v&&jg(s,o,d),bp(s,o,l,d)}finally{!v&&h.end&&h.end()}}function Gw(s,o,l,d,h){const m=ii(),v=2&d;try{ir(-1),v&&o.length>22&&Iw(s,o,22,!1),l(d,h)}finally{ir(m)}}function wp(s,o,l){if(Pl(o)){const h=o.directiveEnd;for(let m=o.directiveStart;m<h;m++){const v=s.data[m];v.contentQueries&&v.contentQueries(1,l[m],m)}}}function wv(s,o,l){!gs()||(function Zw(s,o,l,d){const h=l.directiveStart,m=l.directiveEnd;s.firstCreatePass||wo(l,o),cr(d,o);const v=l.initialInputs;for(let C=h;C<m;C++){const E=s.data[C],S=Ai(E);S&&$g(o,l,E);const R=ys(o,s,C,l);cr(R,o),null!==v&&kv(0,C-h,R,E,0,v),S&&(Wt(l.index,o)[8]=R)}}(s,o,l,Vi(l,o)),128==(128&l.flags)&&function Mv(s,o,l){const d=l.directiveStart,h=l.directiveEnd,m=l.index,v=function du(){return Dt.lFrame.currentDirectiveIndex}();try{ir(m);for(let C=d;C<h;C++){const E=s.data[C],S=o[C];Wl(C),(null!==E.hostBindings||0!==E.hostVars||null!==E.hostAttrs)&&Av(E,S)}}finally{ir(-1),Wl(v)}}(s,o,l))}function Cv(s,o,l=Vi){const d=o.localNames;if(null!==d){let h=o.index+1;for(let m=0;m<d.length;m+=2){const v=d[m+1],C=-1===v?l(o,s):s[v];s[h++]=C}}}function zw(s){const o=s.tView;return null===o||o.incompleteFirstPass?s.tView=Ev(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):o}function Ev(s,o,l,d,h,m,v,C,E,S){const R=22+d,F=R+h,q=function lT(s,o){const l=[];for(let d=0;d<o;d++)l.push(d<s?null:Ft);return l}(R,F),ie="function"==typeof S?S():S;return q[1]={type:s,blueprint:q,template:l,queries:null,viewQuery:C,declTNode:o,data:q.slice().fill(null,R),bindingStartIndex:R,expandoStartIndex:F,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof m?m():m,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:E,consts:ie,incompleteFirstPass:!1}}function Iv(s,o,l,d){const h=ET(o);null===l?h.push(d):(h.push(l),s.firstCreatePass&&eC(s).push(d,h.length-1))}function Dv(s,o,l){for(let d in s)if(s.hasOwnProperty(d)){const h=s[d];(l=null===l?{}:l).hasOwnProperty(d)?l[d].push(o,h):l[d]=[o,h]}return l}function Tv(s,o){const d=o.directiveEnd,h=s.data,m=o.attrs,v=[];let C=null,E=null;for(let S=o.directiveStart;S<d;S++){const R=h[S],F=R.inputs,q=null===m||Mg(o)?null:_T(F,m);v.push(q),C=Dv(F,S,C),E=Dv(R.outputs,S,E)}null!==C&&(C.hasOwnProperty("class")&&(o.flags|=16),C.hasOwnProperty("style")&&(o.flags|=32)),o.initialInputs=v,o.inputs=C,o.outputs=E}function es(s,o,l,d,h,m,v,C){const E=Vi(o,l);let R,S=o.inputs;!C&&null!=S&&(R=S[d])?(wh(s,l,R,d,h),Fa(o)&&Sv(l,o.index)):3&o.type&&(d=function qw(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(d),h=null!=v?v(h,o.value||"",d):h,m.setProperty(E,d,h))}function Sv(s,o){const l=Wt(o,s);16&l[2]||(l[2]|=32)}function xv(s,o,l,d){let h=!1;if(gs()){const m=function Kw(s,o,l){const d=s.directiveRegistry;let h=null;if(d)for(let m=0;m<d.length;m++){const v=d[m];sv(l,v.selectors,!1)&&(h||(h=[]),qs(wo(l,o),s,v.type),Ai(v)?(pT(s,l),h.unshift(v)):h.push(v))}return h}(s,o,l),v=null===d?null:{"":-1};if(null!==m){h=!0,Yw(l,s.data.length,m.length);for(let R=0;R<m.length;R++){const F=m[R];F.providersResolver&&F.providersResolver(F)}let C=!1,E=!1,S=bh(s,o,m.length,null);for(let R=0;R<m.length;R++){const F=m[R];l.mergedAttrs=za(l.mergedAttrs,F.hostAttrs),Qw(s,l,o,S,F),gT(S,F,v),null!==F.contentQueries&&(l.flags|=8),(null!==F.hostBindings||null!==F.hostAttrs||0!==F.hostVars)&&(l.flags|=128);const q=F.type.prototype;!C&&(q.ngOnChanges||q.ngOnInit||q.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(l.index),C=!0),!E&&(q.ngOnChanges||q.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(l.index),E=!0),S++}Tv(s,l)}v&&function mT(s,o,l){if(o){const d=s.localNames=[];for(let h=0;h<o.length;h+=2){const m=l[o[h+1]];if(null==m)throw new Ce(-301,!1);d.push(o[h],m)}}}(l,d,v)}return l.mergedAttrs=za(l.mergedAttrs,l.attrs),h}function Ww(s,o,l,d,h,m){const v=m.hostBindings;if(v){let C=s.hostBindingOpCodes;null===C&&(C=s.hostBindingOpCodes=[]);const E=~o.index;(function fT(s){let o=s.length;for(;o>0;){const l=s[--o];if("number"==typeof l&&l<0)return l}return 0})(C)!=E&&C.push(E),C.push(d,h,v)}}function Av(s,o){null!==s.hostBindings&&s.hostBindings(1,o)}function pT(s,o){o.flags|=2,(s.components||(s.components=[])).push(o.index)}function gT(s,o,l){if(l){if(o.exportAs)for(let d=0;d<o.exportAs.length;d++)l[o.exportAs[d]]=s;Ai(o)&&(l[""]=s)}}function Yw(s,o,l){s.flags|=1,s.directiveStart=o,s.directiveEnd=o+l,s.providerIndexes=o}function Qw(s,o,l,d,h){s.data[d]=h;const m=h.factory||(h.factory=zr(h.type)),v=new zs(m,Ai(h),hp);s.blueprint[d]=v,l[d]=v,Ww(s,o,0,d,bh(s,l,h.hostVars,Ft),h)}function $g(s,o,l){const d=Vi(o,s),h=zw(l),m=s[10],v=yi(s,vp(s,h,null,l.onPush?32:16,d,o,m,m.createRenderer(d,l),null,null,null));s[o.index]=v}function Ro(s,o,l,d,h,m){const v=Vi(s,o);!function Cp(s,o,l,d,h,m,v){if(null==m)s.removeAttribute(o,h,l);else{const C=null==v?ye(m):v(m,d||"",h);s.setAttribute(o,h,C,l)}}(o[11],v,m,s.value,l,d,h)}function kv(s,o,l,d,h,m){const v=m[o];if(null!==v){const C=d.setInput;for(let E=0;E<v.length;){const S=v[E++],R=v[E++],F=v[E++];null!==C?d.setInput(l,F,S,R):l[R]=F}}}function _T(s,o){let l=null,d=0;for(;d<o.length;){const h=o[d];if(0!==h)if(5!==h){if("number"==typeof h)break;s.hasOwnProperty(h)&&(null===l&&(l=[]),l.push(h,s[h],o[d+1])),d+=2}else d+=2;else d+=4}return l}function Ep(s,o,l,d){return new Array(s,!0,!1,o,null,0,d,l,null,null)}function bT(s,o){const l=Wt(o,s);if(fo(l)){const d=l[1];48&l[2]?bp(d,l,d.template,l[8]):l[5]>0&&Rv(l)}}function Rv(s){for(let d=Cg(s);null!==d;d=Wy(d))for(let h=10;h<d.length;h++){const m=d[h];if(fo(m))if(512&m[2]){const v=m[1];bp(v,m,v.template,m[8])}else m[5]>0&&Rv(m)}const l=s[1].components;if(null!==l)for(let d=0;d<l.length;d++){const h=Wt(l[d],s);fo(h)&&h[5]>0&&Rv(h)}}function wT(s,o){const l=Wt(o,s),d=l[1];(function Xw(s,o){for(let l=o.length;l<s.blueprint.length;l++)o.push(s.blueprint[l])})(d,l),jg(d,l,l[8])}function yi(s,o){return s[13]?s[14][4]=o:s[13]=o,s[14]=o,o}function Ov(s){for(;s;){s[2]|=32;const o=hh(s);if(Cf(s)&&!o)return s;s=o}return null}function zg(s,o,l){Ga(0),o(s,l)}function ET(s){return s[7]||(s[7]=[])}function eC(s){return s.cleanup||(s.cleanup=[])}function qg(s,o,l){return(null===s||Ai(s))&&(l=function Ll(s){for(;Array.isArray(s);){if("object"==typeof s[1])return s;s=s[0]}return null}(l[o.index])),l[11]}function Pv(s,o){const l=s[9],d=l?l.get(Xf,null):null;d&&d.handleError(o)}function wh(s,o,l,d,h){for(let m=0;m<l.length;){const v=l[m++],C=l[m++],E=o[v],S=s.data[v];null!==S.setInput?S.setInput(E,h,d,C):E[C]=h}}function Ip(s,o,l){let d=l?s.styles:null,h=l?s.classes:null,m=0;if(null!==o)for(let v=0;v<o.length;v++){const C=o[v];"number"==typeof C?m=C:1==m?h=ge(h,C):2==m&&(d=ge(d,C+": "+o[++v]+";"))}l?s.styles=d:s.stylesWithoutHost=d,l?s.classes=h:s.classesWithoutHost=h}function wl(s,o,l,d,h=!1){for(;null!==l;){const m=o[l.index];if(null!==m&&d.push(Mn(m)),Li(m))for(let C=10;C<m.length;C++){const E=m[C],S=E[1].firstChild;null!==S&&wl(E[1],E,S,d)}const v=l.type;if(8&v)wl(s,o,l.child,d);else if(32&v){const C=ya(l,o);let E;for(;E=C();)d.push(E)}else if(16&v){const C=BD(o,l);if(Array.isArray(C))d.push(...C);else{const E=hh(o[16]);wl(E[1],E,C,d,!0)}}l=h?l.projectionNext:l.next}return d}class Yu{constructor(o,l){this._lView=o,this._cdRefInjectingView=l,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const o=this._lView,l=o[1];return wl(l,o,l.firstChild,[])}get context(){return this._lView[8]}set context(o){this._lView[8]=o}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[3];if(Li(o)){const l=o[8],d=l?l.indexOf(this):-1;d>-1&&(Ig(o,d),aa(l,d))}this._attachedToViewContainer=!1}rp(this._lView[1],this._lView)}onDestroy(o){Iv(this._lView[1],this._lView,null,o)}markForCheck(){Ov(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){!function Ku(s,o,l){const d=o[10];d.begin&&d.begin();try{bp(s,o,s.template,l)}catch(h){throw Pv(o,h),h}finally{d.end&&d.end()}}(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ce(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function dw(s,o){yl(s,o,o[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new Ce(902,!1);this._appRef=o}}class fk extends Yu{constructor(o){super(o),this._view=o}detectChanges(){!function Gg(s){!function Jw(s){for(let o=0;o<s.components.length;o++){const l=s.components[o],d=Ao(l);if(null!==d){const h=d[1];aT(h,d,h.template,l)}}}(s[8])}(this._view)}checkNoChanges(){}get context(){return null}}class Wg extends M{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const l=Ot(o);return new Dp(l,this.ngModule)}}function Nv(s){const o=[];for(let l in s)s.hasOwnProperty(l)&&o.push({propName:s[l],templateName:l});return o}class IT{constructor(o,l){this.injector=o,this.parentInjector=l}get(o,l,d){const h=this.injector.get(o,oh,d);return h!==oh||l===oh?h:this.parentInjector.get(o,l,d)}}class Dp extends yg{constructor(o,l){super(),this.componentDef=o,this.ngModule=l,this.componentType=o.type,this.selector=function $D(s){return s.map(Cw).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!l}get inputs(){return Nv(this.componentDef.inputs)}get outputs(){return Nv(this.componentDef.outputs)}create(o,l,d,h){let m=(h=h||this.ngModule)instanceof Kn?h:h?.injector;m&&null!==this.componentDef.getStandaloneInjector&&(m=this.componentDef.getStandaloneInjector(m)||m);const v=m?new IT(o,m):o,C=v.get(vt,null);if(null===C)throw new Ce(407,!1);const E=v.get(Ts,null),S=C.createRenderer(null,this.componentDef),R=this.componentDef.selectors[0][0]||"div",F=d?function cT(s,o,l){return s.selectRootElement(o,l===ct.ShadowDom)}(S,d,this.componentDef.encapsulation):Ky(C.createRenderer(null,this.componentDef),R,function Fv(s){const o=s.toLowerCase();return"svg"===o?"svg":"math"===o?"math":null}(R)),q=this.componentDef.onPush?288:272,ie={components:[]},Ee=Ev(0,null,null,1,0,null,null,null,null,null),Ne=vp(null,Ee,ie,q,null,null,C,S,E,v,null);let ze,Xe;Kl(Ne);try{const Ct=function Zg(s,o,l,d,h,m){const v=l[1];l[22]=s;const E=ba(v,22,2,"#host",null),S=E.mergedAttrs=o.hostAttrs;null!==S&&(Ip(E,S,!0),null!==s&&(ea(h,s,S),null!==E.classes&&bc(h,s,E.classes),null!==E.styles&&iv(h,s,E.styles)));const R=d.createRenderer(s,o),F=vp(l,zw(o),null,o.onPush?32:16,l[22],E,d,R,m||null,null,null);return v.firstCreatePass&&(qs(wo(E,l),v,o.type),pT(v,E),Yw(E,l.length,1)),yi(l,F),l[22]=F}(F,this.componentDef,Ne,C,S);if(F)if(d)ea(S,F,["ng-version",vg.full]);else{const{attrs:ke,classes:ht}=function GD(s){const o=[],l=[];let d=1,h=2;for(;d<s.length;){let m=s[d];if("string"==typeof m)2===h?""!==m&&o.push(m,s[++d]):8===h&&l.push(m);else{if(!xs(h))break;h=m}d++}return{attrs:o,classes:l}}(this.componentDef.selectors[0]);ke&&ea(S,F,ke),ht&&ht.length>0&&bc(S,F,ht.join(" "))}if(Xe=Ko(Ee,22),void 0!==l){const ke=Xe.projection=[];for(let ht=0;ht<this.ngContentSelectors.length;ht++){const qt=l[ht];ke.push(null!=qt?Array.from(qt):null)}}ze=function pk(s,o,l,d,h){const m=l[1],v=function hT(s,o,l){const d=An();s.firstCreatePass&&(l.providersResolver&&l.providersResolver(l),Qw(s,d,o,bh(s,o,1,null),l),Tv(s,d));const h=ys(o,s,d.directiveStart,d);cr(h,o);const m=Vi(d,o);return m&&cr(m,o),h}(m,l,o);if(d.components.push(v),s[8]=v,null!==h)for(const E of h)E(v,o);if(o.contentQueries){const E=An();o.contentQueries(1,v,E.directiveStart)}const C=An();return!m.firstCreatePass||null===o.hostBindings&&null===o.hostAttrs||(ir(C.index),Ww(l[1],C,0,C.directiveStart,C.directiveEnd,o),Av(o,v)),v}(Ct,this.componentDef,Ne,ie,[xT]),jg(Ee,Ne,null)}finally{go()}return new ST(this.componentType,ze,K(Xe,Ne),Ne,Xe)}}class ST extends class hl{}{constructor(o,l,d,h,m){super(),this.location=d,this._rootLView=h,this._tNode=m,this.instance=l,this.hostView=this.changeDetectorRef=new fk(h),this.componentType=o}setInput(o,l){const d=this._tNode.inputs;let h;if(null!==d&&(h=d[o])){const m=this._rootLView;wh(m[1],m,h,o,l),Sv(m,this._tNode.index)}}get injector(){return new Eo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}function xT(){const s=An();vu(xe()[1],s)}function Kg(s){let o=function nC(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),l=!0;const d=[s];for(;o;){let h;if(Ai(s))h=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new Ce(903,!1);h=o.\u0275dir}if(h){if(l){d.push(h);const v=s;v.inputs=Lv(s.inputs),v.declaredInputs=Lv(s.declaredInputs),v.outputs=Lv(s.outputs);const C=h.hostBindings;C&&RT(s,C);const E=h.viewQuery,S=h.contentQueries;if(E&&AT(s,E),S&&kT(s,S),re(s.inputs,h.inputs),re(s.declaredInputs,h.declaredInputs),re(s.outputs,h.outputs),Ai(h)&&h.data.animation){const R=s.data;R.animation=(R.animation||[]).concat(h.data.animation)}}const m=h.features;if(m)for(let v=0;v<m.length;v++){const C=m[v];C&&C.ngInherit&&C(s),C===Kg&&(l=!1)}}o=Object.getPrototypeOf(o)}!function MT(s){let o=0,l=null;for(let d=s.length-1;d>=0;d--){const h=s[d];h.hostVars=o+=h.hostVars,h.hostAttrs=za(h.hostAttrs,l=za(l,h.hostAttrs))}}(d)}function Lv(s){return s===Ni?{}:s===It?[]:s}function AT(s,o){const l=s.viewQuery;s.viewQuery=l?(d,h)=>{o(d,h),l(d,h)}:o}function kT(s,o){const l=s.contentQueries;s.contentQueries=l?(d,h,m)=>{o(d,h,m),l(d,h,m)}:o}function RT(s,o){const l=s.hostBindings;s.hostBindings=l?(d,h)=>{o(d,h),l(d,h)}:o}let Yg=null;function Qu(){if(!Yg){const s=ln.Symbol;if(s&&s.iterator)Yg=s.iterator;else{const o=Object.getOwnPropertyNames(Map.prototype);for(let l=0;l<o.length;++l){const d=o[l];"entries"!==d&&"size"!==d&&Map.prototype[d]===Map.prototype.entries&&(Yg=d)}}}return Yg}function Tp(s){return!!Sp(s)&&(Array.isArray(s)||!(s instanceof Map)&&Qu()in s)}function Sp(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function Vr(s,o,l){return!Object.is(s[o],l)&&(s[o]=l,!0)}function be(s,o,l,d,h){const m=function Xu(s,o,l,d){const h=Vr(s,o,l);return Vr(s,o+1,d)||h}(s,o,l,d);return Vr(s,o+2,h)||m}function Ch(s,o,l,d){const h=xe();return Vr(h,mo(),o)&&(jt(),Ro(yn(),h,s,o,l,d)),Ch}function lC(s,o,l,d,h,m,v,C){const E=xe(),S=jt(),R=s+22,F=S.firstCreatePass?function PT(s,o,l,d,h,m,v,C,E){const S=o.consts,R=ba(o,s,4,v||null,Or(S,C));xv(o,l,R,Or(S,E)),vu(o,R);const F=R.tViews=Ev(2,R,d,h,m,o.directiveRegistry,o.pipeRegistry,null,o.schemas,S);return null!==o.queries&&(o.queries.template(o,R),F.queries=o.queries.embeddedTView(R)),R}(R,S,E,o,l,d,h,m,v):S.data[R];br(F,!1);const q=E[11].createComment("");va(S,E,q,F),cr(q,E),yi(E,E[R]=Ep(q,E,q,F)),eu(F)&&wv(S,E,F),null!=v&&Cv(E,F,C)}function Vv(s){return function ms(s,o){return s[o]}(function cu(){return Dt.lFrame.contextLView}(),22+s)}function Bv(s,o,l){const d=xe();return Vr(d,mo(),o)&&es(jt(),yn(),d,s,o,d[11],l,!1),Bv}function e_(s,o,l,d,h){const v=h?"class":"style";wh(s,l,o.inputs[v],v,d)}function Ju(s,o,l,d){const h=xe(),m=jt(),v=22+s,C=h[11],E=h[v]=Ky(C,o,function Ql(){return Dt.lFrame.currentNamespace}()),S=m.firstCreatePass?function Uv(s,o,l,d,h,m,v){const C=o.consts,S=ba(o,s,2,h,Or(C,m));return xv(o,l,S,Or(C,v)),null!==S.attrs&&Ip(S,S.attrs,!1),null!==S.mergedAttrs&&Ip(S,S.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,S),S}(v,m,h,0,o,l,d):m.data[v];br(S,!0);const R=S.mergedAttrs;null!==R&&ea(C,E,R);const F=S.classes;null!==F&&bc(C,E,F);const q=S.styles;return null!==q&&iv(C,E,q),64!=(64&S.flags)&&va(m,h,E,S),0===function jl(){return Dt.lFrame.elementDepthCount}()&&cr(E,h),function $l(){Dt.lFrame.elementDepthCount++}(),eu(S)&&(wv(m,h,S),wp(m,S,h)),null!==d&&Cv(h,S),Ju}function Mp(){let s=An();Ua()?Ha():(s=s.parent,br(s,!1));const o=s;!function ou(){Dt.lFrame.elementDepthCount--}();const l=jt();return l.firstCreatePass&&(vu(l,s),Pl(s)&&l.queries.elementEnd(s)),null!=o.classesWithoutHost&&function ec(s){return 0!=(16&s.flags)}(o)&&e_(l,o,xe(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function Bd(s){return 0!=(32&s.flags)}(o)&&e_(l,o,xe(),o.stylesWithoutHost,!1),Mp}function ur(s,o,l,d){return Ju(s,o,l,d),Mp(),ur}function Wi(s,o,l){const d=xe(),h=jt(),m=s+22,v=h.firstCreatePass?function Hv(s,o,l,d,h){const m=o.consts,v=Or(m,d),C=ba(o,s,8,"ng-container",v);return null!==v&&Ip(C,v,!0),xv(o,l,C,Or(m,h)),null!==o.queries&&o.queries.elementStart(o,C),C}(m,h,d,o,l):h.data[m];br(v,!0);const C=d[m]=d[11].createComment("");return va(h,d,C,v),cr(C,d),eu(v)&&(wv(h,d,v),wp(h,v,d)),null!=l&&Cv(d,v),Wi}function Ap(){let s=An();const o=jt();return Ua()?Ha():(s=s.parent,br(s,!1)),o.firstCreatePass&&(vu(o,s),Pl(s)&&o.queries.elementEnd(s)),Ap}function t_(){return xe()}function n_(s){return!!s&&"function"==typeof s.then}function $v(s){return!!s&&"function"==typeof s.subscribe}const Gv=$v;function kp(s,o,l,d){const h=xe(),m=jt(),v=An();return ed(m,h,h[11],v,s,o,0,d),kp}function zv(s,o){const l=An(),d=xe(),h=jt();return ed(h,d,qg($a(h.data),l,d),l,s,o),zv}function ed(s,o,l,d,h,m,v,C){const E=eu(d),R=s.firstCreatePass&&eC(s),F=o[8],q=ET(o);let ie=!0;if(3&d.type||C){const ze=Vi(d,o),Xe=C?C(ze):ze,Ct=q.length,ke=C?qt=>C(Mn(qt[d.index])):d.index;let ht=null;if(!C&&E&&(ht=function NT(s,o,l,d){const h=s.cleanup;if(null!=h)for(let m=0;m<h.length-1;m+=2){const v=h[m];if(v===l&&h[m+1]===d){const C=o[7],E=h[m+2];return C.length>E?C[E]:null}"string"==typeof v&&(m+=2)}return null}(s,o,h,d.index)),null!==ht)(ht.__ngLastListenerFn__||ht).__ngNextListenerFn__=m,ht.__ngLastListenerFn__=m,ie=!1;else{m=i_(d,o,F,m,!1);const qt=l.listen(Xe,h,m);q.push(m,qt),R&&R.push(h,ke,Ct,Ct+1)}}else m=i_(d,o,F,m,!1);const Ee=d.outputs;let Ne;if(ie&&null!==Ee&&(Ne=Ee[h])){const ze=Ne.length;if(ze)for(let Xe=0;Xe<ze;Xe+=2){const gn=o[Ne[Xe]][Ne[Xe+1]].subscribe(m),Gc=q.length;q.push(m,gn),R&&R.push(h,d.index,Gc,-(Gc+1))}}}function qv(s,o,l,d){try{return!1!==l(d)}catch(h){return Pv(s,h),!1}}function i_(s,o,l,d,h){return function m(v){if(v===Function)return d;Ov(2&s.flags?Wt(s.index,o):o);let E=qv(o,0,d,v),S=m.__ngNextListenerFn__;for(;S;)E=qv(o,0,S,v)&&E,S=S.__ngNextListenerFn__;return h&&!1===E&&(v.preventDefault(),v.returnValue=!1),E}}function Wv(s=1){return function _o(s){return(Dt.lFrame.contextLView=function Yl(s,o){for(;s>0;)o=o[15],s--;return o}(s,Dt.lFrame.contextLView))[8]}(s)}function FT(s,o){let l=null;const d=function ww(s){const o=s.attrs;if(null!=o){const l=o.indexOf(5);if(0==(1&l))return o[l+1]}return null}(s);for(let h=0;h<o.length;h++){const m=o[h];if("*"!==m){if(null===d?sv(s,m,!0):qu(d,m))return h}else l=h}return l}function Zv(s){const o=xe()[16][6];if(!o.projection){const d=o.projection=Bi(s?s.length:1,null),h=d.slice();let m=o.child;for(;null!==m;){const v=s?FT(m,s):0;null!==v&&(h[v]?h[v].projectionNext=m:d[v]=m,h[v]=m),m=m.next}}}function Rp(s,o=0,l){const d=xe(),h=jt(),m=ba(h,22+s,16,null,l||null);null===m.projection&&(m.projection=o),Ha(),64!=(64&m.flags)&&function sp(s,o,l){zu(o[11],0,o,l,Jy(s,l,o),pw(l.parent||o[6],l,o))}(h,d,m)}function pC(s,o,l,d,h){const m=s[l+1],v=null===o;let C=d?ko(m):Ii(m),E=!1;for(;0!==C&&(!1===E||v);){const R=s[C+1];VT(s[C],o)&&(E=!0,s[C+1]=d?dv(R):fp(R)),C=d?ko(R):Ii(R)}E&&(s[l+1]=d?fp(m):dv(m))}function VT(s,o){return null===s||null==o||(Array.isArray(s)?s[1]:s)===o||!(!Array.isArray(s)||"string"!=typeof o)&&ws(s,o)>=0}const si={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Np(s){return s.substring(si.key,si.keyEnd)}function l_(s,o){const l=si.textEnd;return l===o?-1:(o=si.keyEnd=function mC(s,o,l){for(;o<l&&s.charCodeAt(o)>32;)o++;return o}(s,si.key=o,l),Dh(s,o,l))}function Dh(s,o,l){for(;o<l&&s.charCodeAt(o)<=32;)o++;return o}function Fp(s,o,l){return Oo(s,o,l,!1),Fp}function Lp(s,o){return Oo(s,o,null,!0),Lp}function Vp(s){!function Po(s,o,l,d){const h=jt(),m=_s(2);h.firstUpdatePass&&bC(h,null,m,d);const v=xe();if(l!==Ft&&Vr(v,m,l)){const C=h.data[ii()];if(ob(C,d)&&!tb(h,m)){let E=d?C.classesWithoutHost:C.stylesWithoutHost;null!==E&&(l=ge(E,l||"")),e_(h,C,v,l,d)}else!function rb(s,o,l,d,h,m,v,C){h===Ft&&(h=It);let E=0,S=0,R=0<h.length?h[0]:null,F=0<m.length?m[0]:null;for(;null!==R||null!==F;){const q=E<h.length?h[E+1]:void 0,ie=S<m.length?m[S+1]:void 0;let Ne,Ee=null;R===F?(E+=2,S+=2,q!==ie&&(Ee=F,Ne=ie)):null===F||null!==R&&R<F?(E+=2,Ee=R):(S+=2,Ee=F,Ne=ie),null!==Ee&&u_(s,o,l,d,Ee,Ne,v,C),R=E<h.length?h[E]:null,F=S<m.length?m[S]:null}}(h,C,v,v[11],v[m+1],v[m+1]=function HT(s,o,l){if(null==l||""===l)return It;const d=[],h=Qr(l);if(Array.isArray(h))for(let m=0;m<h.length;m++)s(d,h[m],!0);else if("object"==typeof h)for(const m in h)h.hasOwnProperty(m)&&s(d,m,h[m]);else"string"==typeof h&&o(d,h);return d}(s,o,l),d,m)}}(Ui,no,s,!0)}function no(s,o){for(let l=function Qv(s){return function eb(s){si.key=0,si.keyEnd=0,si.value=0,si.valueEnd=0,si.textEnd=s.length}(s),l_(s,Dh(s,0,si.textEnd))}(o);l>=0;l=l_(o,l))Ui(s,Np(o),!0)}function Oo(s,o,l,d){const h=xe(),m=jt(),v=_s(2);m.firstUpdatePass&&bC(m,s,v,d),o!==Ft&&Vr(h,v,o)&&u_(m,m.data[ii()],h,h[11],s,h[v+1]=function Hp(s,o){return null==s||("string"==typeof o?s+=o:"object"==typeof s&&(s=pe(Qr(s)))),s}(o,l),d,v)}function tb(s,o){return o>=s.expandoStartIndex}function bC(s,o,l,d){const h=s.data;if(null===h[l+1]){const m=h[ii()],v=tb(s,l);ob(m,d)&&null===o&&!v&&(o=!1),o=function BT(s,o,l,d){const h=$a(s);let m=d?o.residualClasses:o.residualStyles;if(null===h)0===(d?o.classBindings:o.styleBindings)&&(l=Th(l=Bp(null,s,o,l,d),o.attrs,d),m=null);else{const v=o.directiveStylingLast;if(-1===v||s[v]!==h)if(l=Bp(h,s,o,l,d),null===m){let E=function nb(s,o,l){const d=l?o.classBindings:o.styleBindings;if(0!==Ii(d))return s[ko(d)]}(s,o,d);void 0!==E&&Array.isArray(E)&&(E=Bp(null,s,o,E[1],d),E=Th(E,o.attrs,d),function ib(s,o,l,d){s[ko(l?o.classBindings:o.styleBindings)]=d}(s,o,d,E))}else m=function UT(s,o,l){let d;const h=o.directiveEnd;for(let m=1+o.directiveStylingLast;m<h;m++)d=Th(d,s[m].hostAttrs,l);return Th(d,o.attrs,l)}(s,o,d)}return void 0!==m&&(d?o.residualClasses=m:o.residualStyles=m),l}(h,m,o,d),function LT(s,o,l,d,h,m){let v=m?o.classBindings:o.styleBindings,C=ko(v),E=Ii(v);s[d]=l;let R,S=!1;if(Array.isArray(l)){const F=l;R=F[1],(null===R||ws(F,R)>0)&&(S=!0)}else R=l;if(h)if(0!==E){const q=ko(s[C+1]);s[d+1]=_h(q,C),0!==q&&(s[q+1]=Ng(s[q+1],d)),s[C+1]=function tT(s,o){return 131071&s|o<<17}(s[C+1],d)}else s[d+1]=_h(C,0),0!==C&&(s[C+1]=Ng(s[C+1],d)),C=d;else s[d+1]=_h(E,0),0===C?C=d:s[E+1]=Ng(s[E+1],d),E=d;S&&(s[d+1]=fp(s[d+1])),pC(s,R,d,!0),pC(s,R,d,!1),function Pp(s,o,l,d,h){const m=h?s.residualClasses:s.residualStyles;null!=m&&"string"==typeof o&&ws(m,o)>=0&&(l[d+1]=dv(l[d+1]))}(o,R,s,d,m),v=_h(C,E),m?o.classBindings=v:o.styleBindings=v}(h,m,o,l,v,d)}}function Bp(s,o,l,d,h){let m=null;const v=l.directiveEnd;let C=l.directiveStylingLast;for(-1===C?C=l.directiveStart:C++;C<v&&(m=o[C],d=Th(d,m.hostAttrs,h),m!==s);)C++;return null!==s&&(l.directiveStylingLast=C),d}function Th(s,o,l){const d=l?1:2;let h=-1;if(null!==o)for(let m=0;m<o.length;m++){const v=o[m];"number"==typeof v?h=v:h===d&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),Ui(s,v,!!l||o[++m]))}return void 0===s?null:s}function u_(s,o,l,d,h,m,v,C){if(!(3&o.type))return;const E=s.data,S=E[C+1];d_(function yh(s){return 1==(1&s)}(S)?sb(E,o,l,h,Ii(S),v):void 0)||(d_(m)||function Bw(s){return 2==(2&s)}(S)&&(m=sb(E,null,l,h,C,v)),function vw(s,o,l,d,h){if(o)h?s.addClass(l,d):s.removeClass(l,d);else{let m=-1===d.indexOf("-")?void 0:ml.DashCase;null==h?s.removeStyle(l,d,m):("string"==typeof h&&h.endsWith("!important")&&(h=h.slice(0,-10),m|=ml.Important),s.setStyle(l,d,h,m))}}(d,v,vr(ii(),l),h,m))}function sb(s,o,l,d,h,m){const v=null===o;let C;for(;h>0;){const E=s[h],S=Array.isArray(E),R=S?E[1]:E,F=null===R;let q=l[h+1];q===Ft&&(q=F?It:void 0);let ie=F?ua(q,d):R===d?q:void 0;if(S&&!d_(ie)&&(ie=ua(E,d)),d_(ie)&&(C=ie,v))return C;const Ee=s[h+1];h=v?ko(Ee):Ii(Ee)}if(null!==o){let E=m?o.residualClasses:o.residualStyles;null!=E&&(C=ua(E,d))}return C}function d_(s){return void 0!==s}function ob(s,o){return 0!=(s.flags&(o?16:32))}function ab(s,o=""){const l=xe(),d=jt(),h=s+22,m=d.firstCreatePass?ba(d,h,1,o,null):d.data[h],v=l[h]=function _l(s,o){return s.createText(o)}(l[11],o);va(d,l,v,m),br(m,!1)}function h_(s){return td("",s,""),h_}function td(s,o,l){const d=xe(),h=function Bt(s,o,l,d){return Vr(s,mo(),l)?o+ye(l)+d:Ft}(d,s,o,l);return h!==Ft&&function Dc(s,o,l){const d=vr(o,s);!function zt(s,o,l){s.setValue(o,l)}(s[11],d,l)}(d,ii(),h),td}function xh(s,o,l){const d=xe();if(Vr(d,mo(),o)){const m=jt(),v=yn();es(m,v,d,s,o,qg($a(m.data),v,d),l,!0)}return xh}const No=void 0;var _b=["en",[["a","p"],["AM","PM"],No],[["AM","PM"],No,No],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],No,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],No,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",No,"{1} 'at' {0}",No],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function id(s){const l=Math.floor(Math.abs(s)),d=s.toString().replace(/^[^.]*\.?/,"").length;return 1===l&&0===d?1:5}];let Mh={};function Ac(s){const o=function El(s){return s.toLowerCase().replace(/_/g,"-")}(s);let l=yb(o);if(l)return l;const d=o.split("-")[0];if(l=yb(d),l)return l;if("en"===d)return _b;throw new Ce(701,!1)}function kc(s){return Ac(s)[mt.PluralCase]}function yb(s){return s in Mh||(Mh[s]=ln.ng&&ln.ng.common&&ln.ng.common.locales&&ln.ng.common.locales[s]),Mh[s]}var mt=(()=>((mt=mt||{})[mt.LocaleId=0]="LocaleId",mt[mt.DayPeriodsFormat=1]="DayPeriodsFormat",mt[mt.DayPeriodsStandalone=2]="DayPeriodsStandalone",mt[mt.DaysFormat=3]="DaysFormat",mt[mt.DaysStandalone=4]="DaysStandalone",mt[mt.MonthsFormat=5]="MonthsFormat",mt[mt.MonthsStandalone=6]="MonthsStandalone",mt[mt.Eras=7]="Eras",mt[mt.FirstDayOfWeek=8]="FirstDayOfWeek",mt[mt.WeekendRange=9]="WeekendRange",mt[mt.DateFormat=10]="DateFormat",mt[mt.TimeFormat=11]="TimeFormat",mt[mt.DateTimeFormat=12]="DateTimeFormat",mt[mt.NumberSymbols=13]="NumberSymbols",mt[mt.NumberFormats=14]="NumberFormats",mt[mt.CurrencyCode=15]="CurrencyCode",mt[mt.CurrencySymbol=16]="CurrencySymbol",mt[mt.CurrencyName=17]="CurrencyName",mt[mt.Currencies=18]="Currencies",mt[mt.Directionality=19]="Directionality",mt[mt.PluralCase=20]="PluralCase",mt[mt.ExtraData=21]="ExtraData",mt))();const Il="en-US";let Ah=Il;function Ab(s,o,l,d,h){if(s=X(s),Array.isArray(s))for(let m=0;m<s.length;m++)Ab(s[m],o,l,d,h);else{const m=jt(),v=xe();let C=xo(s)?s:X(s.provide),E=ul(s);const S=An(),R=1048575&S.providerIndexes,F=S.directiveStart,q=S.providerIndexes>>20;if(xo(s)||!s.multi){const ie=new zs(E,h,hp),Ee=Uh(C,o,h?R:R+q,F);-1===Ee?(qs(wo(S,v),m,C),x_(m,s,o.length),o.push(C),S.directiveStart++,S.directiveEnd++,h&&(S.providerIndexes+=1048576),l.push(ie),v.push(ie)):(l[Ee]=ie,v[Ee]=ie)}else{const ie=Uh(C,o,R+q,F),Ee=Uh(C,o,R,R+q),Ne=ie>=0&&l[ie],ze=Ee>=0&&l[Ee];if(h&&!ze||!h&&!Ne){qs(wo(S,v),m,C);const Xe=function Hh(s,o,l,d,h){const m=new zs(s,l,hp);return m.multi=[],m.index=o,m.componentProviders=0,mE(m,h,d&&!l),m}(h?gE:QT,l.length,h,d,E);!h&&ze&&(l[Ee].providerFactory=Xe),x_(m,s,o.length,0),o.push(C),S.directiveStart++,S.directiveEnd++,h&&(S.providerIndexes+=1048576),l.push(Xe),v.push(Xe)}else x_(m,s,ie>-1?ie:Ee,mE(l[h?Ee:ie],E,!h&&d));!h&&d&&ze&&l[Ee].componentProviders++}}}function x_(s,o,l,d){const h=xo(o),m=function pa(s){return!!s.useClass}(o);if(h||m){const E=(m?X(o.useClass):o).prototype.ngOnDestroy;if(E){const S=s.destroyHooks||(s.destroyHooks=[]);if(!h&&o.multi){const R=S.indexOf(l);-1===R?S.push(l,[d,E]):S[R+1].push(d,E)}else S.push(l,E)}}}function mE(s,o,l){return l&&s.componentProviders++,s.multi.push(o)-1}function Uh(s,o,l,d){for(let h=l;h<d;h++)if(o[h]===s)return h;return-1}function QT(s,o,l,d){return Di(this.multi,[])}function gE(s,o,l,d){const h=this.multi;let m;if(this.providerFactory){const v=this.providerFactory.componentProviders,C=ys(l,l[1],this.providerFactory.index,d);m=C.slice(0,v),Di(h,m);for(let E=v;E<C.length;E++)m.push(C[E])}else m=[],Di(h,m);return m}function Di(s,o){for(let l=0;l<s.length;l++)o.push((0,s[l])());return o}function Tl(s,o=[]){return l=>{l.providersResolver=(d,h)=>function YT(s,o,l){const d=jt();if(d.firstCreatePass){const h=Ai(s);Ab(l,d.data,d.blueprint,h,!0),Ab(o,d.data,d.blueprint,h,!1)}}(d,h?h(s):s,o)}}class Oc{}class _E{}function Pe(s,o){return new Pc(s,o??null)}class Pc extends Oc{constructor(o,l){super(),this._parent=l,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Wg(this);const d=Fi(o);this._bootstrapComponents=Jr(d.bootstrap),this._r3Injector=kg(o,l,[{provide:Oc,useValue:this},{provide:M,useValue:this.componentFactoryResolver}],pe(o),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(o)}get injector(){return this._r3Injector}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(l=>l()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class em extends _E{constructor(o){super(),this.moduleType=o}create(o){return new Pc(this.moduleType,o)}}class rt extends Oc{constructor(o,l,d){super(),this.componentFactoryResolver=new Wg(this),this.instance=null;const h=new rh([...o,{provide:Oc,useValue:this},{provide:M,useValue:this.componentFactoryResolver}],l||Uu(),d,new Set(["environment"]));this.injector=h,h.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(o){this.injector.onDestroy(o)}}function St(s,o,l=null){return new rt(s,o,l).injector}let XT=(()=>{class s{constructor(l){this._injector=l,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(l){if(!l.standalone)return null;if(!this.cachedInjectors.has(l.id)){const d=wr(0,l.type),h=d.length>0?St([d],this._injector,`Standalone[${l.type.name}]`):null;this.cachedInjectors.set(l.id,h)}return this.cachedInjectors.get(l.id)}ngOnDestroy(){try{for(const l of this.cachedInjectors.values())null!==l&&l.destroy()}finally{this.cachedInjectors.clear()}}}return s.\u0275prov=Qt({token:s,providedIn:"environment",factory:()=>new s(On(Kn))}),s})();function Ze(s){s.getStandaloneInjector=o=>o.get(XT).getOrCreateStandaloneInjector(s)}function wE(s,o,l,d,h,m){return function Pb(s,o,l,d,h,m,v,C){const E=o+l;return be(s,E,h,m,v)?function wa(s,o,l){return s[o]=l}(s,E+3,C?d.call(C,h,m,v):d(h,m,v)):function Nc(s,o){const l=s[o];return l===Ft?void 0:l}(s,E+3)}(xe(),function kn(){const s=Dt.lFrame;let o=s.bindingRootIndex;return-1===o&&(o=s.bindingRootIndex=s.tView.bindingStartIndex),o}(),s,o,l,d,h,m)}function Ca(s){return o=>{setTimeout(s,void 0,o)}}const Ea=class rm extends u.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,l,d){let h=o,m=l||(()=>null),v=d;if(o&&"object"==typeof o){const E=o;h=E.next?.bind(E),m=E.error?.bind(E),v=E.complete?.bind(E)}this.__isAsync&&(m=Ca(m),h&&(h=Ca(h)),v&&(v=Ca(v)));const C=super.subscribe({next:h,error:m,complete:v});return o instanceof te.w0&&o.add(C),C}};function ld(){return this._results[Qu()]()}class sm{constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const l=Qu(),d=sm.prototype;d[l]||(d[l]=ld)}get changes(){return this._changes||(this._changes=new Ea)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,l){return this._results.reduce(o,l)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,l){const d=this;d.dirty=!1;const h=sr(o);(this._changesDetected=!function uc(s,o,l){if(s.length!==o.length)return!1;for(let d=0;d<s.length;d++){let h=s[d],m=o[d];if(l&&(h=l(h),m=l(m)),m!==h)return!1}return!0}(d._results,h,l))&&(d._results=h,d.length=h.length,d.last=h[this.length-1],d.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let cd=(()=>{class s{}return s.__NG_ELEMENT_ID__=rs,s})();const aS=cd,lS=class extends aS{constructor(o,l,d){super(),this._declarationLView=o,this._declarationTContainer=l,this.elementRef=d}createEmbeddedView(o,l){const d=this._declarationTContainer.tViews,h=vp(this._declarationLView,d,o,16,null,d.declTNode,null,null,null,null,l||null);h[17]=this._declarationLView[this._declarationTContainer.index];const v=this._declarationLView[19];return null!==v&&(h[19]=v.createEmbeddedView(d)),jg(d,h,o),new Yu(h)}};function rs(){return om(An(),xe())}function om(s,o){return 4&s.type?new lS(o,s,K(s,o)):null}let Ia=(()=>{class s{}return s.__NG_ELEMENT_ID__=IE,s})();function IE(){return Vb(An(),xe())}const li=Ia,am=class extends li{constructor(o,l,d){super(),this._lContainer=o,this._hostTNode=l,this._hostLView=d}get element(){return K(this._hostTNode,this._hostLView)}get injector(){return new Eo(this._hostTNode,this._hostLView)}get parentInjector(){const o=rc(this._hostTNode,this._hostLView);if(Hd(o)){const l=Wa(o,this._hostLView),d=mi(o);return new Eo(l[1].data[d+8],l)}return new Eo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const l=Zi(this._lContainer);return null!==l&&l[o]||null}get length(){return this._lContainer.length-10}createEmbeddedView(o,l,d){let h,m;"number"==typeof d?h=d:null!=d&&(h=d.index,m=d.injector);const v=o.createEmbeddedView(l||{},m);return this.insert(v,h),v}createComponent(o,l,d,h,m){const v=o&&!function Wn(s){return"function"==typeof s}(o);let C;if(v)C=l;else{const F=l||{};C=F.index,d=F.injector,h=F.projectableNodes,m=F.environmentInjector||F.ngModuleRef}const E=v?o:new Dp(Ot(o)),S=d||this.parentInjector;if(!m&&null==E.ngModule){const q=(v?S:this.parentInjector).get(Kn,null);q&&(m=q)}const R=E.create(S,h,void 0,m);return this.insert(R.hostView,C),R}insert(o,l){const d=o._lView,h=d[1];if(function Bl(s){return Li(s[3])}(d)){const R=this.indexOf(o);if(-1!==R)this.detach(R);else{const F=d[3],q=new am(F,F[6],F[3]);q.detach(q.indexOf(o))}}const m=this._adjustIndex(l),v=this._lContainer;!function LD(s,o,l,d){const h=10+d,m=l.length;d>0&&(l[h-1][4]=o),d<m-10?(o[4]=l[h],Eu(l,10+d,o)):(l.push(o),o[4]=null),o[3]=l;const v=o[17];null!==v&&l!==v&&function Eg(s,o){const l=s[9];o[16]!==o[3][3][16]&&(s[2]=!0),null===l?s[9]=[o]:l.push(o)}(v,o);const C=o[19];null!==C&&C.insertView(s),o[2]|=64}(h,d,v,m);const C=tv(m,v),E=d[11],S=Sg(E,v[7]);return null!==S&&function FD(s,o,l,d,h,m){d[0]=h,d[6]=o,yl(s,d,l,1,h,m)}(h,v[6],E,d,S,C),o.attachToViewContainerRef(),Eu(hn(v),m,o),o}move(o,l){return this.insert(o,l)}indexOf(o){const l=Zi(this._lContainer);return null!==l?l.indexOf(o):-1}remove(o){const l=this._adjustIndex(o,-1),d=Ig(this._lContainer,l);d&&(aa(hn(this._lContainer),l),rp(d[1],d))}detach(o){const l=this._adjustIndex(o,-1),d=Ig(this._lContainer,l);return d&&null!=aa(hn(this._lContainer),l)?new Yu(d):null}_adjustIndex(o,l=0){return o??this.length+l}};function Zi(s){return s[8]}function hn(s){return s[8]||(s[8]=[])}function Vb(s,o){let l;const d=o[s.index];if(Li(d))l=d;else{let h;if(8&s.type)h=Mn(d);else{const m=o[11];h=m.createComment("");const v=Vi(s,o);Gu(m,Sg(m,v),h,function VD(s,o){return s.nextSibling(o)}(m,v),!1)}o[s.index]=l=Ep(d,o,h,s),yi(o,l)}return new am(l,s,o)}class vi{constructor(o){this.queryList=o,this.matches=null}clone(){return new vi(this.queryList)}setDirty(){this.queryList.setDirty()}}class Bb{constructor(o=[]){this.queries=o}createEmbeddedView(o){const l=o.queries;if(null!==l){const d=null!==o.contentQueries?o.contentQueries[0]:l.length,h=[];for(let m=0;m<d;m++){const v=l.getByIndex(m);h.push(this.queries[v.indexInDeclarationView].clone())}return new Bb(h)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let l=0;l<this.queries.length;l++)null!==jb(o,l).matches&&this.queries[l].setDirty()}}class Sl{constructor(o,l,d=null){this.predicate=o,this.flags=l,this.read=d}}class Hn{constructor(o=[]){this.queries=o}elementStart(o,l){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(o,l)}elementEnd(o){for(let l=0;l<this.queries.length;l++)this.queries[l].elementEnd(o)}embeddedTView(o){let l=null;for(let d=0;d<this.length;d++){const h=null!==l?l.length:0,m=this.getByIndex(d).embeddedTView(o,h);m&&(m.indexInDeclarationView=d,null!==l?l.push(m):l=[m])}return null!==l?new Hn(l):null}template(o,l){for(let d=0;d<this.queries.length;d++)this.queries[d].template(o,l)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class xl{constructor(o,l=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=l}elementStart(o,l){this.isApplyingToNode(l)&&this.matchTNode(o,l)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,l){this.elementStart(o,l)}embeddedTView(o,l){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,l),new xl(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const l=this._declarationNodeIndex;let d=o.parent;for(;null!==d&&8&d.type&&d.index!==l;)d=d.parent;return l===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(o,l){const d=this.metadata.predicate;if(Array.isArray(d))for(let h=0;h<d.length;h++){const m=d[h];this.matchTNodeWithReadOption(o,l,Ub(l,m)),this.matchTNodeWithReadOption(o,l,ta(l,o,m,!1,!1))}else d===cd?4&l.type&&this.matchTNodeWithReadOption(o,l,-1):this.matchTNodeWithReadOption(o,l,ta(l,o,d,!1,!1))}matchTNodeWithReadOption(o,l,d){if(null!==d){const h=this.metadata.read;if(null!==h)if(h===de||h===Ia||h===cd&&4&l.type)this.addMatch(l.index,-2);else{const m=ta(l,o,h,!1,!1);null!==m&&this.addMatch(l.index,m)}else this.addMatch(l.index,d)}}addMatch(o,l){null===this.matches?this.matches=[o,l]:this.matches.push(o,l)}}function Ub(s,o){const l=s.localNames;if(null!==l)for(let d=0;d<l.length;d+=2)if(l[d]===o)return l[d+1];return null}function lm(s,o,l,d){return-1===l?function DE(s,o){return 11&s.type?K(s,o):4&s.type?om(s,o):null}(o,s):-2===l?function cS(s,o,l){return l===de?K(o,s):l===cd?om(o,s):l===Ia?Vb(o,s):void 0}(s,o,d):ys(s,s[1],l,o)}function Ml(s,o,l,d){const h=o[19].queries[d];if(null===h.matches){const m=s.data,v=l.matches,C=[];for(let E=0;E<v.length;E+=2){const S=v[E];C.push(S<0?null:lm(o,m[S],v[E+1],l.metadata.read))}h.matches=C}return h.matches}function ud(s,o,l,d){const h=s.queries.getByIndex(l),m=h.matches;if(null!==m){const v=Ml(s,o,h,l);for(let C=0;C<m.length;C+=2){const E=m[C];if(E>0)d.push(v[C/2]);else{const S=m[C+1],R=o[-E];for(let F=10;F<R.length;F++){const q=R[F];q[17]===q[3]&&ud(q[1],q,S,d)}if(null!==R[9]){const F=R[9];for(let q=0;q<F.length;q++){const ie=F[q];ud(ie[1],ie,S,d)}}}}}return d}function Gh(s){const o=xe(),l=jt(),d=hu();Ga(d+1);const h=jb(l,d);if(s.dirty&&Va(o)===(2==(2&h.metadata.flags))){if(null===h.matches)s.reset([]);else{const m=h.crossesNgTemplate?ud(l,o,d,[]):Ml(l,o,h,d);s.reset(m,Le),s.notifyOnChanges()}return!0}return!1}function Hb(s,o,l){const d=jt();d.firstCreatePass&&(zh(d,new Sl(s,o,l),-1),2==(2&o)&&(d.staticViewQueries=!0)),Lo(d,xe(),o)}function Al(s,o,l,d){const h=jt();if(h.firstCreatePass){const m=An();zh(h,new Sl(o,l,d),m.index),function Lc(s,o){const l=s.contentQueries||(s.contentQueries=[]);o!==(l.length?l[l.length-1]:-1)&&l.push(s.queries.length-1,o)}(h,s),2==(2&l)&&(h.staticContentQueries=!0)}Lo(h,xe(),l)}function cm(){return function dd(s,o){return s[19].queries[o].queryList}(xe(),hu())}function Lo(s,o,l){const d=new sm(4==(4&l));Iv(s,o,d,d.destroy),null===o[19]&&(o[19]=new Bb),o[19].queries.push(new vi(d))}function zh(s,o,l){null===s.queries&&(s.queries=new Hn),s.queries.track(new xl(o,l))}function jb(s,o){return s.queries.getByIndex(o)}function F_(...s){}const t0=new pn("Application Initializer");let kl=(()=>{class s{constructor(l){this.appInits=l,this.resolve=F_,this.reject=F_,this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,h)=>{this.resolve=d,this.reject=h})}runInitializers(){if(this.initialized)return;const l=[],d=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const m=this.appInits[h]();if(n_(m))l.push(m);else if(Gv(m)){const v=new Promise((C,E)=>{m.subscribe({complete:C,error:E})});l.push(v)}}Promise.all(l).then(()=>{d()}).catch(h=>{this.reject(h)}),0===l.length&&d(),this.initialized=!0}}return s.\u0275fac=function(l){return new(l||s)(On(t0,8))},s.\u0275prov=Qt({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const Uc=new pn("AppId",{providedIn:"root",factory:function n0(){return`${L_()}${L_()}${L_()}`}});function L_(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const md=new pn("Platform Initializer"),PE=new pn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),r0=new pn("appBootstrapListener"),IS=new pn("AnimationModuleType");let DS=(()=>{class s{log(l){console.log(l)}warn(l){console.warn(l)}}return s.\u0275fac=function(l){return new(l||s)},s.\u0275prov=Qt({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();const gd=new pn("LocaleId",{providedIn:"root",factory:()=>D(gd,Ke.Optional|Ke.SkipSelf)||function jn(){return typeof $localize<"u"&&$localize.locale||Il}()}),B_=new pn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class SS{constructor(o,l){this.ngModuleFactory=o,this.componentFactories=l}}let NE=(()=>{class s{compileModuleSync(l){return new em(l)}compileModuleAsync(l){return Promise.resolve(this.compileModuleSync(l))}compileModuleAndAllComponentsSync(l){const d=this.compileModuleSync(l),m=Jr(Fi(l).declarations).reduce((v,C)=>{const E=Ot(C);return E&&v.push(new Dp(E)),v},[]);return new SS(d,m)}compileModuleAndAllComponentsAsync(l){return Promise.resolve(this.compileModuleAndAllComponentsSync(l))}clearCache(){}clearCacheFor(l){}getModuleId(l){}}return s.\u0275fac=function(l){return new(l||s)},s.\u0275prov=Qt({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const xS=(()=>Promise.resolve(0))();function ui(s){typeof Zone>"u"?xS.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class Rs{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:l=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ea(!1),this.onMicrotaskEmpty=new Ea(!1),this.onStable=new Ea(!1),this.onError=new Ea(!1),typeof Zone>"u")throw new Ce(908,!1);Zone.assertZonePatched();const h=this;if(h._nesting=0,h._outer=h._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const m=Zone.AsyncStackTaggingZoneSpec;h._inner=h._inner.fork(new m("Angular"))}Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!d&&l,h.shouldCoalesceRunChangeDetection=d,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function tn(){let s=ln.requestAnimationFrame,o=ln.cancelAnimationFrame;if(typeof Zone<"u"&&s&&o){const l=s[Zone.__symbol__("OriginalDelegate")];l&&(s=l);const d=o[Zone.__symbol__("OriginalDelegate")];d&&(o=d)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function ss(s){const o=()=>{!function MS(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(ln,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,H_(s),s.isCheckStableRunning=!0,Ta(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),H_(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(l,d,h,m,v,C)=>{try{return Xh(s),l.invokeTask(h,m,v,C)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===m.type||s.shouldCoalesceRunChangeDetection)&&o(),a0(s)}},onInvoke:(l,d,h,m,v,C,E)=>{try{return Xh(s),l.invoke(h,m,v,C,E)}finally{s.shouldCoalesceRunChangeDetection&&o(),a0(s)}},onHasTask:(l,d,h,m)=>{l.hasTask(h,m),d===h&&("microTask"==m.change?(s._hasPendingMicrotasks=m.microTask,H_(s),Ta(s)):"macroTask"==m.change&&(s.hasPendingMacrotasks=m.macroTask))},onHandleError:(l,d,h,m)=>(l.handleError(h,m),s.runOutsideAngular(()=>s.onError.emit(m)),!1)})}(h)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Rs.isInAngularZone())throw new Ce(909,!1)}static assertNotInAngularZone(){if(Rs.isInAngularZone())throw new Ce(909,!1)}run(o,l,d){return this._inner.run(o,l,d)}runTask(o,l,d,h){const m=this._inner,v=m.scheduleEventTask("NgZoneEvent: "+h,o,LE,F_,F_);try{return m.runTask(v,l,d)}finally{m.cancelTask(v)}}runGuarded(o,l,d){return this._inner.runGuarded(o,l,d)}runOutsideAngular(o){return this._outer.run(o)}}const LE={};function Ta(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function H_(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function Xh(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function a0(s){s._nesting--,Ta(s)}class Sa{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ea,this.onMicrotaskEmpty=new Ea,this.onStable=new Ea,this.onError=new Ea}run(o,l,d){return o.apply(l,d)}runGuarded(o,l,d){return o.apply(l,d)}runOutsideAngular(o){return o()}runTask(o,l,d,h){return o.apply(l,d)}}const l0=new pn(""),Jh=new pn("");let c0,AS=(()=>{class s{constructor(l,d,h){this._ngZone=l,this.registry=d,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,c0||(function Ut(s){c0=s}(h),h.addToWindow(d)),this._watchAngularEvents(),l.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Rs.assertNotInAngularZone(),ui(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())ui(()=>{for(;0!==this._callbacks.length;){let l=this._callbacks.pop();clearTimeout(l.timeoutId),l.doneCb(this._didWork)}this._didWork=!1});else{let l=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(l)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(l=>({source:l.source,creationLocation:l.creationLocation,data:l.data})):[]}addCallback(l,d,h){let m=-1;d&&d>0&&(m=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==m),l(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:l,timeoutId:m,updateCb:h})}whenStable(l,d,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(l,d,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(l){this.registry.registerApplication(l,this)}unregisterApplication(l){this.registry.unregisterApplication(l)}findProviders(l,d,h){return[]}}return s.\u0275fac=function(l){return new(l||s)(On(Rs),On(VE),On(Jh))},s.\u0275prov=Qt({token:s,factory:s.\u0275fac}),s})(),VE=(()=>{class s{constructor(){this._applications=new Map}registerApplication(l,d){this._applications.set(l,d)}unregisterApplication(l){this._applications.delete(l)}unregisterAllApplications(){this._applications.clear()}getTestability(l){return this._applications.get(l)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(l,d=!0){return c0?.findTestabilityInTree(this,l,d)??null}}return s.\u0275fac=function(l){return new(l||s)},s.\u0275prov=Qt({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})(),Vo=null;const ef=new pn("AllowMultipleToken"),_d=new pn("PlatformDestroyListeners");class RS{constructor(o,l){this.name=o,this.token=l}}function GE(s,o,l=[]){const d=`Platform: ${o}`,h=new pn(d);return(m=[])=>{let v=Si();if(!v||v.injector.get(ef,!1)){const C=[...l,...m,{provide:h,useValue:!0}];s?s(C):function HE(s){if(Vo&&!Vo.get(ef,!1))throw new Ce(400,!1);Vo=s;const o=s.get(j_);(function $E(s){const o=s.get(md,null);o&&o.forEach(l=>l())})(s)}(function u0(s=[],o){return Fr.create({name:o,providers:[{provide:_c,useValue:"platform"},{provide:_d,useValue:new Set([()=>Vo=null])},...s]})}(C,d))}return function mm(s){const o=Si();if(!o)throw new Ce(401,!1);return o}()}}function Si(){return Vo?.get(j_)??null}let j_=(()=>{class s{constructor(l){this._injector=l,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(l,d){const h=function tf(s,o){let l;return l="noop"===s?new Sa:("zone.js"===s?void 0:s)||new Rs(o),l}(d?.ngZone,function d0(s){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!s||!s.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!s||!s.ngZoneRunCoalescing)||!1}}(d)),m=[{provide:Rs,useValue:h}];return h.run(()=>{const v=Fr.create({providers:m,parent:this.injector,name:l.moduleType.name}),C=l.create(v),E=C.injector.get(Xf,null);if(!E)throw new Ce(402,!1);return h.runOutsideAngular(()=>{const S=h.onError.subscribe({next:R=>{E.handleError(R)}});C.onDestroy(()=>{jc(this._modules,C),S.unsubscribe()})}),function Bo(s,o,l){try{const d=l();return n_(d)?d.catch(h=>{throw o.runOutsideAngular(()=>s.handleError(h)),h}):d}catch(d){throw o.runOutsideAngular(()=>s.handleError(d)),d}}(E,h,()=>{const S=C.injector.get(kl);return S.runInitializers(),S.donePromise.then(()=>(function kh(s){$t(s,"Expected localeId to be defined"),"string"==typeof s&&(Ah=s.toLowerCase().replace(/_/g,"-"))}(C.injector.get(gd,Il)||Il),this._moduleDoBootstrap(C),C))})})}bootstrapModule(l,d=[]){const h=$_({},d);return function BE(s,o,l){const d=new em(l);return Promise.resolve(d)}(0,0,l).then(m=>this.bootstrapModuleFactory(m,h))}_moduleDoBootstrap(l){const d=l.injector.get(gm);if(l._bootstrapComponents.length>0)l._bootstrapComponents.forEach(h=>d.bootstrap(h));else{if(!l.instance.ngDoBootstrap)throw new Ce(403,!1);l.instance.ngDoBootstrap(d)}this._modules.push(l)}onDestroy(l){this._destroyListeners.push(l)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ce(404,!1);this._modules.slice().forEach(d=>d.destroy()),this._destroyListeners.forEach(d=>d());const l=this._injector.get(_d,null);l&&(l.forEach(d=>d()),l.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(l){return new(l||s)(On(Fr))},s.\u0275prov=Qt({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();function $_(s,o){return Array.isArray(o)?o.reduce($_,s):{...s,...o}}let gm=(()=>{class s{constructor(l,d,h){this._zone=l,this._injector=d,this._exceptionHandler=h,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const m=new N.y(C=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{C.next(this._stable),C.complete()})}),v=new N.y(C=>{let E;this._zone.runOutsideAngular(()=>{E=this._zone.onStable.subscribe(()=>{Rs.assertNotInAngularZone(),ui(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,C.next(!0))})})});const S=this._zone.onUnstable.subscribe(()=>{Rs.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{C.next(!1)}))});return()=>{E.unsubscribe(),S.unsubscribe()}});this.isStable=(0,le.T)(m,v.pipe((0,oe.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(l,d){const h=l instanceof yg;if(!this._injector.get(kl).done)throw!h&&$r(l),new Ce(405,false);let v;v=h?l:this._injector.get(M).resolveComponentFactory(l),this.componentTypes.push(v.componentType);const C=function UE(s){return s.isBoundToModule}(v)?void 0:this._injector.get(Oc),S=v.create(Fr.NULL,[],d||v.selector,C),R=S.location.nativeElement,F=S.injector.get(l0,null);return F?.registerApplication(R),S.onDestroy(()=>{this.detachView(S.hostView),jc(this.components,S),F?.unregisterApplication(R)}),this._loadComponent(S),S}tick(){if(this._runningTick)throw new Ce(101,!1);try{this._runningTick=!0;for(let l of this._views)l.detectChanges()}catch(l){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(l))}finally{this._runningTick=!1}}attachView(l){const d=l;this._views.push(d),d.attachToAppRef(this)}detachView(l){const d=l;jc(this._views,d),d.detachFromAppRef()}_loadComponent(l){this.attachView(l.hostView),this.tick(),this.components.push(l),this._injector.get(r0,[]).concat(this._bootstrapListeners).forEach(h=>h(l))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(l=>l()),this._views.slice().forEach(l=>l.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(l){return this._destroyListeners.push(l),()=>jc(this._destroyListeners,l)}destroy(){if(this._destroyed)throw new Ce(406,!1);const l=this._injector;l.destroy&&!l.destroyed&&l.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return s.\u0275fac=function(l){return new(l||s)(On(Rs),On(Kn),On(Xf))},s.\u0275prov=Qt({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function jc(s,o){const l=s.indexOf(o);l>-1&&s.splice(l,1)}let f0=!0,qE=!1;function OS(){return qE=!0,f0}function _m(){if(qE)throw new Error("Cannot enable prod mode after platform setup.");f0=!1}let ZE=(()=>{class s{}return s.__NG_ELEMENT_ID__=KE,s})();function KE(s){return function PS(s,o,l){if(Fa(s)&&!l){const d=Wt(s.index,o);return new Yu(d,d)}return 47&s.type?new Yu(o[16],o):null}(An(),xe(),16==(16&s))}class QE{constructor(){}supports(o){return Tp(o)}create(o){return new BS(o)}}const VS=(s,o)=>o;class BS{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||VS}forEachItem(o){let l;for(l=this._itHead;null!==l;l=l._next)o(l)}forEachOperation(o){let l=this._itHead,d=this._removalsHead,h=0,m=null;for(;l||d;){const v=!d||l&&l.currentIndex<JE(d,h,m)?l:d,C=JE(v,h,m),E=v.currentIndex;if(v===d)h--,d=d._nextRemoved;else if(l=l._next,null==v.previousIndex)h++;else{m||(m=[]);const S=C-h,R=E-h;if(S!=R){for(let q=0;q<S;q++){const ie=q<m.length?m[q]:m[q]=0,Ee=ie+q;R<=Ee&&Ee<S&&(m[q]=ie+1)}m[v.previousIndex]=R-S}}C!==E&&o(v,C,E)}}forEachPreviousItem(o){let l;for(l=this._previousItHead;null!==l;l=l._nextPrevious)o(l)}forEachAddedItem(o){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)o(l)}forEachMovedItem(o){let l;for(l=this._movesHead;null!==l;l=l._nextMoved)o(l)}forEachRemovedItem(o){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)o(l)}forEachIdentityChange(o){let l;for(l=this._identityChangesHead;null!==l;l=l._nextIdentityChange)o(l)}diff(o){if(null==o&&(o=[]),!Tp(o))throw new Ce(900,!1);return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let h,m,v,l=this._itHead,d=!1;if(Array.isArray(o)){this.length=o.length;for(let C=0;C<this.length;C++)m=o[C],v=this._trackByFn(C,m),null!==l&&Object.is(l.trackById,v)?(d&&(l=this._verifyReinsertion(l,m,v,C)),Object.is(l.item,m)||this._addIdentityChange(l,m)):(l=this._mismatch(l,m,v,C),d=!0),l=l._next}else h=0,function Cr(s,o){if(Array.isArray(s))for(let l=0;l<s.length;l++)o(s[l]);else{const l=s[Qu()]();let d;for(;!(d=l.next()).done;)o(d.value)}}(o,C=>{v=this._trackByFn(h,C),null!==l&&Object.is(l.trackById,v)?(d&&(l=this._verifyReinsertion(l,C,v,h)),Object.is(l.item,C)||this._addIdentityChange(l,C)):(l=this._mismatch(l,C,v,h),d=!0),l=l._next,h++}),this.length=h;return this._truncate(l),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,l,d,h){let m;return null===o?m=this._itTail:(m=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(o.item,l)||this._addIdentityChange(o,l),this._reinsertAfter(o,m,h)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(d,h))?(Object.is(o.item,l)||this._addIdentityChange(o,l),this._moveAfter(o,m,h)):o=this._addAfter(new US(l,d),m,h),o}_verifyReinsertion(o,l,d,h){let m=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==m?o=this._reinsertAfter(m,o._prev,h):o.currentIndex!=h&&(o.currentIndex=h,this._addToMoves(o,h)),o}_truncate(o){for(;null!==o;){const l=o._next;this._addToRemovals(this._unlink(o)),o=l}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,l,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const h=o._prevRemoved,m=o._nextRemoved;return null===h?this._removalsHead=m:h._nextRemoved=m,null===m?this._removalsTail=h:m._prevRemoved=h,this._insertAfter(o,l,d),this._addToMoves(o,d),o}_moveAfter(o,l,d){return this._unlink(o),this._insertAfter(o,l,d),this._addToMoves(o,d),o}_addAfter(o,l,d){return this._insertAfter(o,l,d),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,l,d){const h=null===l?this._itHead:l._next;return o._next=h,o._prev=l,null===h?this._itTail=o:h._prev=o,null===l?this._itHead=o:l._next=o,null===this._linkedRecords&&(this._linkedRecords=new XE),this._linkedRecords.put(o),o.currentIndex=d,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const l=o._prev,d=o._next;return null===l?this._itHead=d:l._next=d,null===d?this._itTail=l:d._prev=l,o}_addToMoves(o,l){return o.previousIndex===l||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new XE),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,l){return o.item=l,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class US{constructor(o,l){this.item=o,this.trackById=l,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class HS{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,l){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===l||l<=d.currentIndex)&&Object.is(d.trackById,o))return d;return null}remove(o){const l=o._prevDup,d=o._nextDup;return null===l?this._head=d:l._nextDup=d,null===d?this._tail=l:d._prevDup=l,null===this._head}}class XE{constructor(){this.map=new Map}put(o){const l=o.trackById;let d=this.map.get(l);d||(d=new HS,this.map.set(l,d)),d.add(o)}get(o,l){const h=this.map.get(o);return h?h.get(o,l):null}remove(o){const l=o.trackById;return this.map.get(l).remove(o)&&this.map.delete(l),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function JE(s,o,l){const d=s.previousIndex;if(null===d)return d;let h=0;return l&&d<l.length&&(h=l[d]),d+o+h}class eI{constructor(){}supports(o){return o instanceof Map||Sp(o)}create(){return new jS}}class jS{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let l;for(l=this._mapHead;null!==l;l=l._next)o(l)}forEachPreviousItem(o){let l;for(l=this._previousMapHead;null!==l;l=l._nextPrevious)o(l)}forEachChangedItem(o){let l;for(l=this._changesHead;null!==l;l=l._nextChanged)o(l)}forEachAddedItem(o){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)o(l)}forEachRemovedItem(o){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)o(l)}diff(o){if(o){if(!(o instanceof Map||Sp(o)))throw new Ce(900,!1)}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let l=this._mapHead;if(this._appendAfter=null,this._forEach(o,(d,h)=>{if(l&&l.key===h)this._maybeAddToChanges(l,d),this._appendAfter=l,l=l._next;else{const m=this._getOrCreateRecordForKey(h,d);l=this._insertBeforeOrAppend(l,m)}}),l){l._prev&&(l._prev._next=null),this._removalsHead=l;for(let d=l;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,l){if(o){const d=o._prev;return l._next=o,l._prev=d,o._prev=l,d&&(d._next=l),o===this._mapHead&&(this._mapHead=l),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=l,l._prev=this._appendAfter):this._mapHead=l,this._appendAfter=l,null}_getOrCreateRecordForKey(o,l){if(this._records.has(o)){const h=this._records.get(o);this._maybeAddToChanges(h,l);const m=h._prev,v=h._next;return m&&(m._next=v),v&&(v._prev=m),h._next=null,h._prev=null,h}const d=new tI(o);return this._records.set(o,d),d.currentValue=l,this._addToAdditions(d),d}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,l){Object.is(l,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=l,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,l){o instanceof Map?o.forEach(l):Object.keys(o).forEach(d=>l(o[d],d))}}class tI{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function nI(){return new K_([new QE])}let K_=(()=>{class s{constructor(l){this.factories=l}static create(l,d){if(null!=d){const h=d.factories.slice();l=l.concat(h)}return new s(l)}static extend(l){return{provide:s,useFactory:d=>s.create(l,d||nI()),deps:[[s,new bt,new He]]}}find(l){const d=this.factories.find(h=>h.supports(l));if(null!=d)return d;throw new Ce(901,!1)}}return s.\u0275prov=Qt({token:s,providedIn:"root",factory:nI}),s})();function iI(){return new bm([new eI])}let bm=(()=>{class s{constructor(l){this.factories=l}static create(l,d){if(d){const h=d.factories.slice();l=l.concat(h)}return new s(l)}static extend(l){return{provide:s,useFactory:d=>s.create(l,d||iI()),deps:[[s,new bt,new He]]}}find(l){const d=this.factories.find(h=>h.supports(l));if(d)return d;throw new Ce(901,!1)}}return s.\u0275prov=Qt({token:s,providedIn:"root",factory:iI}),s})();const $c=GE(null,"core",[]);let oI=(()=>{class s{constructor(l){}}return s.\u0275fac=function(l){return new(l||s)(On(gm))},s.\u0275mod=lt({type:s}),s.\u0275inj=Vt({}),s})();function GS(s){return"boolean"==typeof s?s:null!=s&&"false"!==s}},3942:(at,De,P)=>{P.d(De,{Z:()=>Ce});var u=P(2090),te=P(4859),N=P(9681),le=P(1877);class oe{constructor(ye,me){this._delegate=ye,this.firebase=me,(0,N._addComponent)(ye,new te.wA("app-compat",()=>this,"PUBLIC")),this.container=ye.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ye){this._delegate.automaticDataCollectionEnabled=ye}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(ye=>{this._delegate.checkDestroyed(),ye()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,N.deleteApp)(this._delegate)))}_getService(ye,me=N._DEFAULT_ENTRY_NAME){var Qe;this._delegate.checkDestroyed();const st=this._delegate.container.getProvider(ye);return!st.isInitialized()&&"EXPLICIT"===(null===(Qe=st.getComponent())||void 0===Qe?void 0:Qe.instantiationMode)&&st.initialize(),st.getImmediate({identifier:me})}_removeServiceInstance(ye,me=N._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(ye).clearInstance(me)}_addComponent(ye){(0,N._addComponent)(this._delegate,ye)}_addOrOverwriteComponent(ye){(0,N._addOrOverwriteComponent)(this._delegate,ye)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const re=new u.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),$=function ge(){const tt=function pe(tt){const ye={},me={__esModule:!0,initializeApp:function Me(je,j={}){const _e=N.initializeApp(je,j);if((0,u.r3)(ye,_e.name))return ye[_e.name];const Q=new tt(_e,me);return ye[_e.name]=Q,Q},app:st,registerVersion:N.registerVersion,setLogLevel:N.setLogLevel,onLog:N.onLog,apps:null,SDK_VERSION:N.SDK_VERSION,INTERNAL:{registerComponent:function Ie(je){const j=je.name,_e=j.replace("-compat","");if(N._registerComponent(je)&&"PUBLIC"===je.type){const Q=(ne=st())=>{if("function"!=typeof ne[_e])throw re.create("invalid-app-argument",{appName:j});return ne[_e]()};void 0!==je.serviceProps&&(0,u.ZB)(Q,je.serviceProps),me[_e]=Q,tt.prototype[_e]=function(...ne){return this._getService.bind(this,j).apply(this,je.multipleInstances?ne:[])}}return"PUBLIC"===je.type?me[_e]:null},removeApp:function Qe(je){delete ye[je]},useAsService:function Ue(je,j){return"serverAuth"===j?null:j},modularAPIs:N}};function st(je){if(!(0,u.r3)(ye,je=je||N._DEFAULT_ENTRY_NAME))throw re.create("no-app",{appName:je});return ye[je]}return me.default=me,Object.defineProperty(me,"apps",{get:function we(){return Object.keys(ye).map(je=>ye[je])}}),st.App=tt,me}(oe);return tt.INTERNAL=Object.assign(Object.assign({},tt.INTERNAL),{createFirebaseNamespace:ge,extendNamespace:function ye(me){(0,u.ZB)(tt,me)},createSubscribe:u.ne,ErrorFactory:u.LL,deepExtend:u.ZB}),tt}(),z=new le.Yd("@firebase/app-compat");if((0,u.jU)()&&void 0!==self.firebase){z.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const tt=self.firebase.SDK_VERSION;tt&&tt.indexOf("LITE")>=0&&z.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ce=$;!function Ae(tt){(0,N.registerVersion)("@firebase/app-compat","0.1.33",tt)}()},9681:(at,De,P)=>{P.r(De),P.d(De,{FirebaseError:()=>le.ZR,SDK_VERSION:()=>Ls,_DEFAULT_ENTRY_NAME:()=>$t,_addComponent:()=>Yt,_addOrOverwriteComponent:()=>Qt,_apps:()=>an,_clearComponents:()=>Pa,_components:()=>Nn,_getProvider:()=>Vt,_registerComponent:()=>Pi,_removeServiceInstance:()=>on,deleteApp:()=>Wo,getApp:()=>er,getApps:()=>xr,initializeApp:()=>jr,onLog:()=>cs,registerVersion:()=>tr,setLogLevel:()=>Fn});var u=P(5861),te=P(4859),N=P(1877),le=P(2090),oe=P(8766);class fe{constructor(W){this.container=W}getPlatformInfoString(){return this.container.getProviders().map(Z=>{if(function re(U){return"VERSION"===U.getComponent()?.type}(Z)){const Te=Z.getImmediate();return`${Te.library}/${Te.version}`}return null}).filter(Z=>Z).join(" ")}}const pe="@firebase/app",$=new N.Yd("@firebase/app"),$t="[DEFAULT]",We={[pe]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},an=new Map,Nn=new Map;function Yt(U,W){try{U.container.addComponent(W)}catch(Z){$.debug(`Component ${W.name} failed to register with FirebaseApp ${U.name}`,Z)}}function Qt(U,W){U.container.addOrOverwriteComponent(W)}function Pi(U){const W=U.name;if(Nn.has(W))return $.debug(`There were multiple attempts to register component ${W}.`),!1;Nn.set(W,U);for(const Z of an.values())Yt(Z,U);return!0}function Vt(U,W){const Z=U.container.getProvider("heartbeat").getImmediate({optional:!0});return Z&&Z.triggerHeartbeat(),U.container.getProvider(W)}function on(U,W,Z=$t){Vt(U,W).clearInstance(Z)}function Pa(){Nn.clear()}const Mi=new le.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Ji{constructor(W,Z,Te){this._isDeleted=!1,this._options=Object.assign({},W),this._config=Object.assign({},Z),this._name=Z.name,this._automaticDataCollectionEnabled=Z.automaticDataCollectionEnabled,this._container=Te,this.container.addComponent(new te.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(W){this.checkDestroyed(),this._automaticDataCollectionEnabled=W}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(W){this._isDeleted=W}checkDestroyed(){if(this.isDeleted)throw Mi.create("app-deleted",{appName:this._name})}}const Ls="9.9.4";function jr(U,W={}){"object"!=typeof W&&(W={name:W});const Z=Object.assign({name:$t,automaticDataCollectionEnabled:!1},W),Te=Z.name;if("string"!=typeof Te||!Te)throw Mi.create("bad-app-name",{appName:String(Te)});const Be=an.get(Te);if(Be){if((0,le.vZ)(U,Be.options)&&(0,le.vZ)(Z,Be.config))return Be;throw Mi.create("duplicate-app",{appName:Te})}const lt=new te.H0(Te);for(const Jt of Nn.values())lt.addComponent(Jt);const fn=new Ji(U,Z,lt);return an.set(Te,fn),fn}function er(U=$t){const W=an.get(U);if(!W)throw Mi.create("no-app",{appName:U});return W}function xr(){return Array.from(an.values())}function Wo(U){return Ke.apply(this,arguments)}function Ke(){return(Ke=(0,u.Z)(function*(U){const W=U.name;an.has(W)&&(an.delete(W),yield Promise.all(U.container.getProviders().map(Z=>Z.delete())),U.isDeleted=!0)})).apply(this,arguments)}function tr(U,W,Z){var Te;let Be=null!==(Te=We[U])&&void 0!==Te?Te:U;Z&&(Be+=`-${Z}`);const lt=Be.match(/\s|\//),fn=W.match(/\s|\//);if(lt||fn){const Jt=[`Unable to register library "${Be}" with version "${W}":`];return lt&&Jt.push(`library name "${Be}" contains illegal characters (whitespace or "/")`),lt&&fn&&Jt.push("and"),fn&&Jt.push(`version name "${W}" contains illegal characters (whitespace or "/")`),void $.warn(Jt.join(" "))}Pi(new te.wA(`${Be}-version`,()=>({library:Be,version:W}),"VERSION"))}function cs(U,W){if(null!==U&&"function"!=typeof U)throw Mi.create("invalid-log-argument");(0,N.Am)(U,W)}function Fn(U){(0,N.Ub)(U)}const Ln="firebase-heartbeat-store";let Jn=null;function _n(){return Jn||(Jn=(0,oe.X3)("firebase-heartbeat-database",1,{upgrade:(U,W)=>{0===W&&U.createObjectStore(Ln)}}).catch(U=>{throw Mi.create("idb-open",{originalErrorMessage:U.message})})),Jn}function ct(){return(ct=(0,u.Z)(function*(U){var W;try{return(yield _n()).transaction(Ln).objectStore(Ln).get(fi(U))}catch(Z){if(Z instanceof le.ZR)$.warn(Z.message);else{const Te=Mi.create("idb-get",{originalErrorMessage:null===(W=Z)||void 0===W?void 0:W.message});$.warn(Te.message)}}})).apply(this,arguments)}function ln(U,W){return hi.apply(this,arguments)}function hi(){return(hi=(0,u.Z)(function*(U,W){var Z;try{const Be=(yield _n()).transaction(Ln,"readwrite");return yield Be.objectStore(Ln).put(W,fi(U)),Be.done}catch(Te){if(Te instanceof le.ZR)$.warn(Te.message);else{const Be=Mi.create("idb-set",{originalErrorMessage:null===(Z=Te)||void 0===Z?void 0:Z.message});$.warn(Be.message)}}})).apply(this,arguments)}function fi(U){return`${U.name}!${U.options.appId}`}class us{constructor(W){this.container=W,this._heartbeatsCache=null;const Z=this.container.getProvider("app").getImmediate();this._storage=new Kt(Z),this._heartbeatsCachePromise=this._storage.read().then(Te=>(this._heartbeatsCache=Te,Te))}triggerHeartbeat(){var W=this;return(0,u.Z)(function*(){const Te=W.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Be=Xt();if(null===W._heartbeatsCache&&(W._heartbeatsCache=yield W._heartbeatsCachePromise),W._heartbeatsCache.lastSentHeartbeatDate!==Be&&!W._heartbeatsCache.heartbeats.some(lt=>lt.date===Be))return W._heartbeatsCache.heartbeats.push({date:Be,agent:Te}),W._heartbeatsCache.heartbeats=W._heartbeatsCache.heartbeats.filter(lt=>{const fn=new Date(lt.date).valueOf();return Date.now()-fn<=2592e6}),W._storage.overwrite(W._heartbeatsCache)})()}getHeartbeatsHeader(){var W=this;return(0,u.Z)(function*(){if(null===W._heartbeatsCache&&(yield W._heartbeatsCachePromise),null===W._heartbeatsCache||0===W._heartbeatsCache.heartbeats.length)return"";const Z=Xt(),{heartbeatsToSend:Te,unsentEntries:Be}=function Ar(U,W=1024){const Z=[];let Te=U.slice();for(const Be of U){const lt=Z.find(fn=>fn.agent===Be.agent);if(lt){if(lt.dates.push(Be.date),Y(Z)>W){lt.dates.pop();break}}else if(Z.push({agent:Be.agent,dates:[Be.date]}),Y(Z)>W){Z.pop();break}Te=Te.slice(1)}return{heartbeatsToSend:Z,unsentEntries:Te}}(W._heartbeatsCache.heartbeats),lt=(0,le.L)(JSON.stringify({version:2,heartbeats:Te}));return W._heartbeatsCache.lastSentHeartbeatDate=Z,Be.length>0?(W._heartbeatsCache.heartbeats=Be,yield W._storage.overwrite(W._heartbeatsCache)):(W._heartbeatsCache.heartbeats=[],W._storage.overwrite(W._heartbeatsCache)),lt})()}}function Xt(){return(new Date).toISOString().substring(0,10)}class Kt{constructor(W){this.app=W,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,u.Z)(function*(){return!!(0,le.hl)()&&(0,le.eu)().then(()=>!0).catch(()=>!1)})()}read(){var W=this;return(0,u.Z)(function*(){return(yield W._canUseIndexedDBPromise)&&(yield function gt(U){return ct.apply(this,arguments)}(W.app))||{heartbeats:[]}})()}overwrite(W){var Z=this;return(0,u.Z)(function*(){var Te;if(yield Z._canUseIndexedDBPromise){const lt=yield Z.read();return ln(Z.app,{lastSentHeartbeatDate:null!==(Te=W.lastSentHeartbeatDate)&&void 0!==Te?Te:lt.lastSentHeartbeatDate,heartbeats:W.heartbeats})}})()}add(W){var Z=this;return(0,u.Z)(function*(){var Te;if(yield Z._canUseIndexedDBPromise){const lt=yield Z.read();return ln(Z.app,{lastSentHeartbeatDate:null!==(Te=W.lastSentHeartbeatDate)&&void 0!==Te?Te:lt.lastSentHeartbeatDate,heartbeats:[...lt.heartbeats,...W.heartbeats]})}})()}}function Y(U){return(0,le.L)(JSON.stringify({version:2,heartbeats:U})).length}!function G(U){Pi(new te.wA("platform-logger",W=>new fe(W),"PRIVATE")),Pi(new te.wA("heartbeat",W=>new us(W),"PRIVATE")),tr(pe,"0.7.32",U),tr(pe,"0.7.32","esm2017"),tr("fire-js","")}("")},4859:(at,De,P)=>{P.d(De,{H0:()=>pe,wA:()=>N});var u=P(5861),te=P(2090);class N{constructor($,z,X){this.name=$,this.instanceFactory=z,this.type=X,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode($){return this.instantiationMode=$,this}setMultipleInstances($){return this.multipleInstances=$,this}setServiceProps($){return this.serviceProps=$,this}setInstanceCreatedCallback($){return this.onInstanceCreated=$,this}}const le="[DEFAULT]";class oe{constructor($,z){this.name=$,this.container=z,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get($){const z=this.normalizeInstanceIdentifier($);if(!this.instancesDeferred.has(z)){const X=new te.BH;if(this.instancesDeferred.set(z,X),this.isInitialized(z)||this.shouldAutoInitialize())try{const Ve=this.getOrInitializeService({instanceIdentifier:z});Ve&&X.resolve(Ve)}catch{}}return this.instancesDeferred.get(z).promise}getImmediate($){var z;const X=this.normalizeInstanceIdentifier($?.identifier),Ve=null!==(z=$?.optional)&&void 0!==z&&z;if(!this.isInitialized(X)&&!this.shouldAutoInitialize()){if(Ve)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:X})}catch(Ae){if(Ve)return null;throw Ae}}getComponent(){return this.component}setComponent($){if($.name!==this.name)throw Error(`Mismatching Component ${$.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=$,this.shouldAutoInitialize()){if(function re(ge){return"EAGER"===ge.instantiationMode}($))try{this.getOrInitializeService({instanceIdentifier:le})}catch{}for(const[z,X]of this.instancesDeferred.entries()){const Ve=this.normalizeInstanceIdentifier(z);try{const Ae=this.getOrInitializeService({instanceIdentifier:Ve});X.resolve(Ae)}catch{}}}}clearInstance($=le){this.instancesDeferred.delete($),this.instancesOptions.delete($),this.instances.delete($)}delete(){var $=this;return(0,u.Z)(function*(){const z=Array.from($.instances.values());yield Promise.all([...z.filter(X=>"INTERNAL"in X).map(X=>X.INTERNAL.delete()),...z.filter(X=>"_delete"in X).map(X=>X._delete())])})()}isComponentSet(){return null!=this.component}isInitialized($=le){return this.instances.has($)}getOptions($=le){return this.instancesOptions.get($)||{}}initialize($={}){const{options:z={}}=$,X=this.normalizeInstanceIdentifier($.instanceIdentifier);if(this.isInitialized(X))throw Error(`${this.name}(${X}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ve=this.getOrInitializeService({instanceIdentifier:X,options:z});for(const[Ae,Ce]of this.instancesDeferred.entries())X===this.normalizeInstanceIdentifier(Ae)&&Ce.resolve(Ve);return Ve}onInit($,z){var X;const Ve=this.normalizeInstanceIdentifier(z),Ae=null!==(X=this.onInitCallbacks.get(Ve))&&void 0!==X?X:new Set;Ae.add($),this.onInitCallbacks.set(Ve,Ae);const Ce=this.instances.get(Ve);return Ce&&$(Ce,Ve),()=>{Ae.delete($)}}invokeOnInitCallbacks($,z){const X=this.onInitCallbacks.get(z);if(X)for(const Ve of X)try{Ve($,z)}catch{}}getOrInitializeService({instanceIdentifier:$,options:z={}}){let X=this.instances.get($);if(!X&&this.component&&(X=this.component.instanceFactory(this.container,{instanceIdentifier:(ge=$,ge===le?void 0:ge),options:z}),this.instances.set($,X),this.instancesOptions.set($,z),this.invokeOnInitCallbacks(X,$),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,$,X)}catch{}var ge;return X||null}normalizeInstanceIdentifier($=le){return this.component?this.component.multipleInstances?$:le:$}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class pe{constructor($){this.name=$,this.providers=new Map}addComponent($){const z=this.getProvider($.name);if(z.isComponentSet())throw new Error(`Component ${$.name} has already been registered with ${this.name}`);z.setComponent($)}addOrOverwriteComponent($){this.getProvider($.name).isComponentSet()&&this.providers.delete($.name),this.addComponent($)}getProvider($){if(this.providers.has($))return this.providers.get($);const z=new oe($,this);return this.providers.set($,z),z}getProviders(){return Array.from(this.providers.values())}}},1877:(at,De,P)=>{P.d(De,{Am:()=>ge,Ub:()=>pe,Yd:()=>re,in:()=>te});const u=[];var te=(()=>{return($=te||(te={}))[$.DEBUG=0]="DEBUG",$[$.VERBOSE=1]="VERBOSE",$[$.INFO=2]="INFO",$[$.WARN=3]="WARN",$[$.ERROR=4]="ERROR",$[$.SILENT=5]="SILENT",te;var $})();const N={debug:te.DEBUG,verbose:te.VERBOSE,info:te.INFO,warn:te.WARN,error:te.ERROR,silent:te.SILENT},le=te.INFO,oe={[te.DEBUG]:"log",[te.VERBOSE]:"log",[te.INFO]:"info",[te.WARN]:"warn",[te.ERROR]:"error"},fe=($,z,...X)=>{if(z<$.logLevel)return;const Ve=(new Date).toISOString(),Ae=oe[z];if(!Ae)throw new Error(`Attempted to log a message with an invalid logType (value: ${z})`);console[Ae](`[${Ve}]  ${$.name}:`,...X)};class re{constructor(z){this.name=z,this._logLevel=le,this._logHandler=fe,this._userLogHandler=null,u.push(this)}get logLevel(){return this._logLevel}set logLevel(z){if(!(z in te))throw new TypeError(`Invalid value "${z}" assigned to \`logLevel\``);this._logLevel=z}setLogLevel(z){this._logLevel="string"==typeof z?N[z]:z}get logHandler(){return this._logHandler}set logHandler(z){if("function"!=typeof z)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=z}get userLogHandler(){return this._userLogHandler}set userLogHandler(z){this._userLogHandler=z}debug(...z){this._userLogHandler&&this._userLogHandler(this,te.DEBUG,...z),this._logHandler(this,te.DEBUG,...z)}log(...z){this._userLogHandler&&this._userLogHandler(this,te.VERBOSE,...z),this._logHandler(this,te.VERBOSE,...z)}info(...z){this._userLogHandler&&this._userLogHandler(this,te.INFO,...z),this._logHandler(this,te.INFO,...z)}warn(...z){this._userLogHandler&&this._userLogHandler(this,te.WARN,...z),this._logHandler(this,te.WARN,...z)}error(...z){this._userLogHandler&&this._userLogHandler(this,te.ERROR,...z),this._logHandler(this,te.ERROR,...z)}}function pe($){u.forEach(z=>{z.setLogLevel($)})}function ge($,z){for(const X of u){let Ve=null;z&&z.level&&(Ve=N[z.level]),X.userLogHandler=null===$?null:(Ae,Ce,...tt)=>{const ye=tt.map(me=>{if(null==me)return null;if("string"==typeof me)return me;if("number"==typeof me||"boolean"==typeof me)return me.toString();if(me instanceof Error)return me.message;try{return JSON.stringify(me)}catch{return null}}).filter(me=>me).join(" ");Ce>=(Ve??Ae.logLevel)&&$({level:te[Ce].toLowerCase(),message:ye,args:tt,type:Ae.name})}}}},8766:(at,De,P)=>{P.d(De,{Lj:()=>Me,X3:()=>st});var u=P(5861);let N,le;const re=new WeakMap,pe=new WeakMap,ge=new WeakMap,$=new WeakMap,z=new WeakMap;let Ae={get(j,_e,Q){if(j instanceof IDBTransaction){if("done"===_e)return pe.get(j);if("objectStoreNames"===_e)return j.objectStoreNames||ge.get(j);if("store"===_e)return Q.objectStoreNames[1]?void 0:Q.objectStore(Q.objectStoreNames[0])}return me(j[_e])},set:(j,_e,Q)=>(j[_e]=Q,!0),has:(j,_e)=>j instanceof IDBTransaction&&("done"===_e||"store"===_e)||_e in j};function ye(j){return"function"==typeof j?function tt(j){return j!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function fe(){return le||(le=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(j)?function(..._e){return j.apply(Qe(this),_e),me(re.get(this))}:function(..._e){return me(j.apply(Qe(this),_e))}:function(_e,...Q){const ne=j.call(Qe(this),_e,...Q);return ge.set(ne,_e.sort?_e.sort():[_e]),me(ne)}}(j):(j instanceof IDBTransaction&&function Ve(j){if(pe.has(j))return;const _e=new Promise((Q,ne)=>{const ae=()=>{j.removeEventListener("complete",se),j.removeEventListener("error",Fe),j.removeEventListener("abort",Fe)},se=()=>{Q(),ae()},Fe=()=>{ne(j.error||new DOMException("AbortError","AbortError")),ae()};j.addEventListener("complete",se),j.addEventListener("error",Fe),j.addEventListener("abort",Fe)});pe.set(j,_e)}(j),((j,_e)=>_e.some(Q=>j instanceof Q))(j,function oe(){return N||(N=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(j,Ae):j)}function me(j){if(j instanceof IDBRequest)return function X(j){const _e=new Promise((Q,ne)=>{const ae=()=>{j.removeEventListener("success",se),j.removeEventListener("error",Fe)},se=()=>{Q(me(j.result)),ae()},Fe=()=>{ne(j.error),ae()};j.addEventListener("success",se),j.addEventListener("error",Fe)});return _e.then(Q=>{Q instanceof IDBCursor&&re.set(Q,j)}).catch(()=>{}),z.set(_e,j),_e}(j);if($.has(j))return $.get(j);const _e=ye(j);return _e!==j&&($.set(j,_e),z.set(_e,j)),_e}const Qe=j=>z.get(j);function st(j,_e,{blocked:Q,upgrade:ne,blocking:ae,terminated:se}={}){const Fe=indexedDB.open(j,_e),Oe=me(Fe);return ne&&Fe.addEventListener("upgradeneeded",ft=>{ne(me(Fe.result),ft.oldVersion,ft.newVersion,me(Fe.transaction))}),Q&&Fe.addEventListener("blocked",()=>Q()),Oe.then(ft=>{se&&ft.addEventListener("close",()=>se()),ae&&ft.addEventListener("versionchange",()=>ae())}).catch(()=>{}),Oe}function Me(j,{blocked:_e}={}){const Q=indexedDB.deleteDatabase(j);return _e&&Q.addEventListener("blocked",()=>_e()),me(Q).then(()=>{})}const we=["get","getKey","getAll","getAllKeys","count"],Ie=["put","add","delete","clear"],Ue=new Map;function je(j,_e){if(!(j instanceof IDBDatabase)||_e in j||"string"!=typeof _e)return;if(Ue.get(_e))return Ue.get(_e);const Q=_e.replace(/FromIndex$/,""),ne=_e!==Q,ae=Ie.includes(Q);if(!(Q in(ne?IDBIndex:IDBObjectStore).prototype)||!ae&&!we.includes(Q))return;const se=function(){var Fe=(0,u.Z)(function*(Oe,...ft){const Zt=this.transaction(Oe,ae?"readwrite":"readonly");let $t=Zt.store;return ne&&($t=$t.index(ft.shift())),(yield Promise.all([$t[Q](...ft),ae&&Zt.done]))[0]});return function(ft){return Fe.apply(this,arguments)}}();return Ue.set(_e,se),se}!function Ce(j){Ae=j(Ae)}(j=>({...j,get:(_e,Q,ne)=>je(_e,Q)||j.get(_e,Q,ne),has:(_e,Q)=>!!je(_e,Q)||j.has(_e,Q)}))},5861:(at,De,P)=>{function u(N,le,oe,fe,re,pe,ge){try{var $=N[pe](ge),z=$.value}catch(X){return void oe(X)}$.done?le(z):Promise.resolve(z).then(fe,re)}function te(N){return function(){var le=this,oe=arguments;return new Promise(function(fe,re){var pe=N.apply(le,oe);function ge(z){u(pe,fe,re,ge,$,"next",z)}function $(z){u(pe,fe,re,ge,$,"throw",z)}ge(void 0)})}}P.d(De,{Z:()=>te})}},at=>{at(at.s=4953)}]);