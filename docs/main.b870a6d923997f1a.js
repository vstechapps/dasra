"use strict";(self.webpackChunktransfer_pricing_digital=self.webpackChunktransfer_pricing_digital||[]).push([[179],{440:(ft,Ue,k)=>{k.d(Ue,{nm:()=>Ki});var y=k(5813);k(4650),k(5867);var Le=k(5861),Me=k(9681),$e=k(4859),It=k(2090),Tt=k(1877);const oe=new Map,Je={activated:!1,tokenObservers:[]},de={initialized:!1,enabled:!1};function fe(Ke){return oe.get(Ke)||Je}function ze(Ke,We){oe.set(Ke,We)}function Xe(){return de}class En{constructor(We,et,Mt,zt,cn){if(this.operation=We,this.retryPolicy=et,this.getWaitDuration=Mt,this.lowerBound=zt,this.upperBound=cn,this.pending=null,this.nextErrorWaitInterval=zt,zt>cn)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(We){var et=this;return(0,Le.Z)(function*(){et.stop();try{et.pending=new It.BH,yield function pn(Ke){return new Promise(We=>{setTimeout(We,Ke)})}(et.getNextRun(We)),et.pending.resolve(),yield et.pending.promise,et.pending=new It.BH,yield et.operation(),et.pending.resolve(),yield et.pending.promise,et.process(!0).catch(()=>{})}catch(Mt){et.retryPolicy(Mt)?et.process(!1).catch(()=>{}):et.stop()}})()}getNextRun(We){if(We)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const et=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),et}}}const gt=new It.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Ge(Ke){if(!fe(Ke).activated)throw gt.create("use-before-activation",{appName:Ke.name})}function tr(Ke,We){return lr.apply(this,arguments)}function lr(){return(lr=(0,Le.Z)(function*({url:Ke,body:We},et){var Mt,zt;const cn={"Content-Type":"application/json"},Tn=et.getImmediate({optional:!0});if(Tn){const ss=yield Tn.getHeartbeatsHeader();ss&&(cn["X-Firebase-Client"]=ss)}const Xr={method:"POST",body:JSON.stringify(We),headers:cn};let ur,$i;try{ur=yield fetch(Ke,Xr)}catch(ss){throw gt.create("fetch-network-error",{originalErrorMessage:null===(Mt=ss)||void 0===Mt?void 0:Mt.message})}if(200!==ur.status)throw gt.create("fetch-status-error",{httpStatus:ur.status});try{$i=yield ur.json()}catch(ss){throw gt.create("fetch-parse-error",{originalErrorMessage:null===(zt=ss)||void 0===zt?void 0:zt.message})}const to=$i.ttl.match(/^([\d.]+)(s)$/);if(!to||!to[2]||isNaN(Number(to[1])))throw gt.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${$i.ttl}`});const Vi=1e3*Number(to[1]),zi=Date.now();return{token:$i.token,expireTimeMillis:zi+Vi,issuedAtTimeMillis:zi}})).apply(this,arguments)}function Dn(Ke,We){const{projectId:et,appId:Mt,apiKey:zt}=Ke.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${et}/apps/${Mt}:exchangeDebugToken?key=${zt}`,body:{debug_token:We}}}const Nn="firebase-app-check-store";let qn=null;function gr(){return qn||(qn=new Promise((Ke,We)=>{var et;try{const Mt=indexedDB.open("firebase-app-check-database",1);Mt.onsuccess=zt=>{Ke(zt.target.result)},Mt.onerror=zt=>{var cn;We(gt.create("storage-open",{originalErrorMessage:null===(cn=zt.target.error)||void 0===cn?void 0:cn.message}))},Mt.onupgradeneeded=zt=>{0===zt.oldVersion&&zt.target.result.createObjectStore(Nn,{keyPath:"compositeKey"})}}catch(Mt){We(gt.create("storage-open",{originalErrorMessage:null===(et=Mt)||void 0===et?void 0:et.message}))}}),qn)}function xe(){return(xe=(0,Le.Z)(function*(Ke,We){const Mt=(yield gr()).transaction(Nn,"readwrite"),cn=Mt.objectStore(Nn).put({compositeKey:Ke,value:We});return new Promise((Tn,Xr)=>{cn.onsuccess=ur=>{Tn()},Mt.onerror=ur=>{var $i;Xr(gt.create("storage-set",{originalErrorMessage:null===($i=ur.target.error)||void 0===$i?void 0:$i.message}))}})})).apply(this,arguments)}const en=new Tt.Yd("@firebase/app-check");function Zt(Ke,We){return(0,It.hl)()?function Yr(Ke,We){return function mt(Ke,We){return xe.apply(this,arguments)}(function yt(Ke){return`${Ke.options.appId}-${Ke.name}`}(Ke),We)}(Ke,We).catch(et=>{en.warn(`Failed to write token to IndexedDB. Error: ${et}`)}):Promise.resolve()}function zr(){return Xe().enabled}function Mn(){return Ae.apply(this,arguments)}function Ae(){return(Ae=(0,Le.Z)(function*(){const Ke=Xe();if(Ke.enabled&&Ke.token)return Ke.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const _e={error:"UNKNOWN_ERROR"};function Oe(Ke){return It.US.encodeString(JSON.stringify(Ke),!1)}function be(Ke){return Ct.apply(this,arguments)}function Ct(){return(Ct=(0,Le.Z)(function*(Ke,We=!1){const et=Ke.app;Ge(et);const Mt=fe(et);let cn,zt=Mt.token;if(!zt){const ur=yield Mt.cachedTokenPromise;ur&&Fn(ur)&&(zt=ur)}if(!We&&zt&&Fn(zt))return{token:zt.token};let Xr,Tn=!1;if(zr()){Mt.exchangeTokenPromise||(Mt.exchangeTokenPromise=tr(Dn(et,yield Mn()),Ke.heartbeatServiceProvider).then($i=>(Mt.exchangeTokenPromise=void 0,$i)),Tn=!0);const ur=yield Mt.exchangeTokenPromise;return yield Zt(et,ur),ze(et,Object.assign(Object.assign({},Mt),{token:ur})),{token:ur.token}}try{Mt.exchangeTokenPromise||(Mt.exchangeTokenPromise=Mt.provider.getToken().then(ur=>(Mt.exchangeTokenPromise=void 0,ur)),Tn=!0),zt=yield Mt.exchangeTokenPromise}catch(ur){"appCheck/throttled"===ur.code?en.warn(ur.message):en.error(ur),cn=ur}return zt?(Xr={token:zt.token},ze(et,Object.assign(Object.assign({},Mt),{token:zt})),yield Zt(et,zt)):Xr=Ln(cn),Tn&&Nr(et,Xr),Xr})).apply(this,arguments)}function tn(Ke,We){const et=fe(Ke),Mt=et.tokenObservers.filter(zt=>zt.next!==We);0===Mt.length&&et.tokenRefresher&&et.tokenRefresher.isRunning()&&et.tokenRefresher.stop(),ze(Ke,Object.assign(Object.assign({},et),{tokenObservers:Mt}))}function cr(Ke){const{app:We}=Ke,et=fe(We);let Mt=et.tokenRefresher;Mt||(Mt=function or(Ke){const{app:We}=Ke;return new En((0,Le.Z)(function*(){let Mt;if(Mt=fe(We).token?yield be(Ke,!0):yield be(Ke),Mt.error)throw Mt.error}),()=>!0,()=>{const et=fe(We);if(et.token){let Mt=et.token.issuedAtTimeMillis+.5*(et.token.expireTimeMillis-et.token.issuedAtTimeMillis)+3e5;return Mt=Math.min(Mt,et.token.expireTimeMillis-3e5),Math.max(0,Mt-Date.now())}return 0},3e4,96e4)}(Ke),ze(We,Object.assign(Object.assign({},et),{tokenRefresher:Mt}))),!Mt.isRunning()&&et.isTokenAutoRefreshEnabled&&Mt.start()}function Nr(Ke,We){const et=fe(Ke).tokenObservers;for(const Mt of et)try{"EXTERNAL"===Mt.type&&null!=We.error?Mt.error(We.error):Mt.next(We)}catch{}}function Fn(Ke){return Ke.expireTimeMillis-Date.now()>0}function Ln(Ke){return{token:Oe(_e),error:Ke}}class mr{constructor(We,et){this.app=We,this.heartbeatServiceProvider=et}_delete(){const{tokenObservers:We}=fe(this.app);for(const et of We)tn(this.app,et.next);return Promise.resolve()}}const Fs="app-check-internal";!function Ti(){(0,Me._registerComponent)(new $e.wA("app-check",Ke=>function Fr(Ke,We){return new mr(Ke,We)}(Ke.getProvider("app").getImmediate(),Ke.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((Ke,We,et)=>{Ke.getProvider(Fs).initialize()})),(0,Me._registerComponent)(new $e.wA(Fs,Ke=>function Ii(Ke){return{getToken:We=>be(Ke,We),addTokenListener:We=>function jt(Ke,We,et,Mt){const{app:zt}=Ke,cn=fe(zt),Tn={next:et,error:Mt,type:We};if(ze(zt,Object.assign(Object.assign({},cn),{tokenObservers:[...cn.tokenObservers,Tn]})),cn.token&&Fn(cn.token)){const Xr=cn.token;Promise.resolve().then(()=>{et({token:Xr.token}),cr(Ke)}).catch(()=>{})}cn.cachedTokenPromise.then(()=>cr(Ke))}(Ke,"INTERNAL",We),removeTokenListener:We=>tn(Ke.app,We)}}(Ke.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Me.registerVersion)("@firebase/app-check","0.5.12")}();class Ki{constructor(){return(0,y.vb)("app-check")}}typeof window<"u"&&window},1205:(ft,Ue,k)=>{k.d(Ue,{zQ:()=>At,rT:()=>de,f7:()=>ze,L6:()=>oe,_Q:()=>Je,lh:()=>fe,Qv:()=>Tt,nw:()=>Xe});var y=k(4650),g=k(7579),Y=k(9646),me=k(9751),Se=k(8996),ke=k(6451),Be=k(5363),Fe=k(3900),Qe=k(4004),he=k(6063);class ge extends g.x{constructor(ln=1/0,on=1/0,Dt=he.l){super(),this._bufferSize=ln,this._windowTime=on,this._timestampProvider=Dt,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=on===1/0,this._bufferSize=Math.max(1,ln),this._windowTime=Math.max(1,on)}next(ln){const{isStopped:on,_buffer:Dt,_infiniteTimeWindow:En,_timestampProvider:pn,_windowTime:it}=this;on||(Dt.push(ln),!En&&Dt.push(pn.now()+it)),this._trimBuffer(),super.next(ln)}_subscribe(ln){this._throwIfClosed(),this._trimBuffer();const on=this._innerSubscribe(ln),{_infiniteTimeWindow:Dt,_buffer:En}=this,pn=En.slice();for(let it=0;it<pn.length&&!ln.closed;it+=Dt?1:2)ln.next(pn[it]);return this._checkFinalizedStatuses(ln),on}_trimBuffer(){const{_bufferSize:ln,_timestampProvider:on,_buffer:Dt,_infiniteTimeWindow:En}=this,pn=(En?1:2)*ln;if(ln<1/0&&pn<Dt.length&&Dt.splice(0,Dt.length-pn),!En){const it=on.now();let gt=0;for(let Te=1;Te<Dt.length&&Dt[Te]<=it;Te+=2)gt=Te;gt&&Dt.splice(0,gt+1)}}}var Pe=k(3099);function Et(Gt,ln,on){let Dt,En=!1;return Gt&&"object"==typeof Gt?({bufferSize:Dt=1/0,windowTime:ln=1/0,refCount:En=!1,scheduler:on}=Gt):Dt=Gt??1/0,(0,Pe.B)({connector:()=>new ge(Dt,ln,on),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:En})}var ot=k(590),nt=k(576);function Nt(Gt,ln){return(0,nt.m)(ln)?(0,Fe.w)(()=>Gt,ln):(0,Fe.w)(()=>Gt)}var rt=k(9468),je=k(9300),Re=k(5813),Ht=k(2011),Le=k(6895),Me=k(440);k(127);const Tt=new y.OlP("angularfire2.auth.use-emulator"),oe=new y.OlP("angularfire2.auth.settings"),Je=new y.OlP("angularfire2.auth.tenant-id"),de=new y.OlP("angularfire2.auth.langugage-code"),fe=new y.OlP("angularfire2.auth.use-device-language"),ze=new y.OlP("angularfire.auth.persistence"),Xe=(Gt,ln,on,Dt,En,pn,it,gt)=>(0,Ht.cc)(`${Gt.name}.auth`,"AngularFireAuth",Gt.name,()=>{const Te=ln.runOutsideAngular(()=>Gt.auth());if(on&&Te.useEmulator(...on),Dt&&(Te.tenantId=Dt),Te.languageCode=En,pn&&Te.useDeviceLanguage(),it)for(const[Ge,Ut]of Object.entries(it))Te.settings[Ge]=Ut;return gt&&Te.setPersistence(gt),Te},[on,Dt,En,pn,it,gt]);let At=(()=>{class Gt{constructor(on,Dt,En,pn,it,gt,Te,Ge,Ut,Cn,tr,lr){const Hn=new g.x,Zn=(0,Y.of)(void 0).pipe((0,Be.Q)(it.outsideAngular),(0,Fe.w)(()=>pn.runOutsideAngular(()=>Promise.resolve().then(k.bind(k,2274)))),(0,Qe.U)(()=>(0,Ht.on)(on,pn,Dt)),(0,Qe.U)(Dn=>Xe(Dn,pn,gt,Ge,Ut,Cn,Te,tr)),Et({bufferSize:1,refCount:!1}));if((0,Le.PM)(En))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,Y.of)(null);else{Zn.pipe((0,ot.P)()).subscribe();const kn=Zn.pipe((0,Fe.w)(xt=>xt.getRedirectResult().then(qn=>qn,()=>null)),Re.iC,Et({bufferSize:1,refCount:!1})),sr=Zn.pipe((0,Fe.w)(xt=>new me.y(qn=>({unsubscribe:pn.runOutsideAngular(()=>xt.onAuthStateChanged(gr=>qn.next(gr),gr=>qn.error(gr),()=>qn.complete()))})))),Nn=Zn.pipe((0,Fe.w)(xt=>new me.y(qn=>({unsubscribe:pn.runOutsideAngular(()=>xt.onIdTokenChanged(gr=>qn.next(gr),gr=>qn.error(gr),()=>qn.complete()))}))));this.authState=kn.pipe(Nt(sr),(0,rt.R)(it.outsideAngular),(0,Be.Q)(it.insideAngular)),this.user=kn.pipe(Nt(Nn),(0,rt.R)(it.outsideAngular),(0,Be.Q)(it.insideAngular)),this.idToken=this.user.pipe((0,Fe.w)(xt=>xt?(0,Se.D)(xt.getIdToken()):(0,Y.of)(null))),this.idTokenResult=this.user.pipe((0,Fe.w)(xt=>xt?(0,Se.D)(xt.getIdTokenResult()):(0,Y.of)(null))),this.credential=(0,ke.T)(kn,Hn,this.authState.pipe((0,je.h)(xt=>!xt))).pipe((0,Qe.U)(xt=>xt?.user?xt:null),(0,rt.R)(it.outsideAngular),(0,Be.Q)(it.insideAngular))}return(0,Ht.pX)(this,Zn,pn,{spy:{apply:(Dn,kn,sr)=>{(Dn.startsWith("signIn")||Dn.startsWith("createUser"))&&sr.then(Nn=>Hn.next(Nn))}}})}}return Gt.\u0275fac=function(on){return new(on||Gt)(y.LFG(Ht.Dh),y.LFG(Ht.xv,8),y.LFG(y.Lbi),y.LFG(y.R0b),y.LFG(Re.HU),y.LFG(Tt,8),y.LFG(oe,8),y.LFG(Je,8),y.LFG(de,8),y.LFG(fe,8),y.LFG(ze,8),y.LFG(Me.nm,8))},Gt.\u0275prov=y.Yz7({token:Gt,factory:Gt.\u0275fac,providedIn:"any"}),Gt})()},2011:(ft,Ue,k)=>{k.d(Ue,{Dh:()=>Fe,GT:()=>ke,cc:()=>ot,hO:()=>Et,on:()=>he,pX:()=>Se,xv:()=>Qe});var y=k(4650),g=k(127),Y=k(5813);ft=k.hmd(ft);const me=["ngOnDestroy"],Se=(je,Re,Ht,Le={})=>new Proxy(je,{get:(Me,$e)=>Ht.runOutsideAngular(()=>{var It;if(je[$e])return!(null===(It=Le?.spy)||void 0===It)&&It.get&&Le.spy.get($e,je[$e]),je[$e];if(me.indexOf($e)>-1)return()=>{};const Tt=Re.toPromise().then(oe=>{const Je=oe&&oe[$e];return"function"==typeof Je?Je.bind(oe):Je&&Je.then?Je.then(de=>Ht.run(()=>de)):Ht.run(()=>Je)});return new Proxy(()=>{},{get:(oe,Je)=>Tt[Je],apply:(oe,Je,de)=>Tt.then(fe=>{var ze;const Xe=fe&&fe(...de);return!(null===(ze=Le?.spy)||void 0===ze)&&ze.apply&&Le.spy.apply($e,de,Xe),Xe})})})}),ke=(je,Re)=>{Re.forEach(Ht=>{Object.getOwnPropertyNames(Ht.prototype||Ht).forEach(Le=>{Object.defineProperty(je.prototype,Le,Object.getOwnPropertyDescriptor(Ht.prototype||Ht,Le))})})};class Be{constructor(Re){return Re}}const Fe=new y.OlP("angularfire2.app.options"),Qe=new y.OlP("angularfire2.app.name");function he(je,Re,Ht){const Me="object"==typeof Ht&&Ht||{};Me.name=Me.name||"string"==typeof Ht&&Ht||"[DEFAULT]";const It=g.Z.apps.filter(Tt=>Tt&&Tt.name===Me.name)[0]||Re.runOutsideAngular(()=>g.Z.initializeApp(je,Me));try{JSON.stringify(je)!==JSON.stringify(It.options)&&ge("error",`${It.name} Firebase App already initialized with different options${ft.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new Be(It)}const ge=(je,...Re)=>{(0,y.X6Q)()&&typeof console<"u"&&console[je](...Re)},Pe={provide:Be,useFactory:he,deps:[Fe,y.R0b,[new y.FiY,Qe]]};let Et=(()=>{class je{constructor(Ht){g.Z.registerVersion("angularfire",Y.q4.full,"core"),g.Z.registerVersion("angularfire",Y.q4.full,"app-compat"),g.Z.registerVersion("angular",y.q4F.full,Ht.toString())}static initializeApp(Ht,Le){return{ngModule:je,providers:[{provide:Fe,useValue:Ht},{provide:Qe,useValue:Le}]}}}return je.\u0275fac=function(Ht){return new(Ht||je)(y.LFG(y.Lbi))},je.\u0275mod=y.oAB({type:je}),je.\u0275inj=y.cJS({providers:[Pe]}),je})();function ot(je,Re,Ht,Le,Me){const[,$e,It]=globalThis.\u0275AngularfireInstanceCache.find(Tt=>Tt[0]===je)||[];if($e)return function nt(je,Re){try{return je.toString()===Re.toString()}catch{return je===Re}}(Me,It)||(rt("error",`${Re} was already initialized on the ${Ht} Firebase App with different settings.${Nt?" You may need to reload as Firebase is not HMR aware.":""}`),rt("warn",{is:Me,was:It})),$e;{const Tt=Le();return globalThis.\u0275AngularfireInstanceCache.push([je,Tt,Me]),Tt}}const Nt=!!ft.hot,rt=(je,...Re)=>{(0,y.X6Q)()&&typeof console<"u"&&console[je](...Re)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(ft,Ue,k)=>{k.d(Ue,{q4:()=>ce,iC:()=>so,HU:()=>qs,vb:()=>di,JM:()=>da});var y=k(4650),g=k(5867),Y=k(5861),me=k(9681),Se=k(2090),ke=k(4859),Be=k(1877),Fe=k(8766);const Qe="@firebase/installations",he="0.5.12",Pe=`w:${he}`,Et="FIS_v2",Re=new Se.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Ht(B){return B instanceof Se.ZR&&B.code.includes("request-failed")}function Le({projectId:B}){return`https://firebaseinstallations.googleapis.com/v1/projects/${B}/installations`}function Me(B){return{token:B.token,requestStatus:2,expiresIn:fe(B.expiresIn),creationTime:Date.now()}}function $e(B,K){return It.apply(this,arguments)}function It(){return(It=(0,Y.Z)(function*(B,K){const pe=(yield K.json()).error;return Re.create("request-failed",{requestName:B,serverCode:pe.code,serverMessage:pe.message,serverStatus:pe.status})})).apply(this,arguments)}function Tt({apiKey:B}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":B})}function oe(B,{refreshToken:K}){const X=Tt(B);return X.append("Authorization",function ze(B){return`${Et} ${B}`}(K)),X}function Je(B){return de.apply(this,arguments)}function de(){return(de=(0,Y.Z)(function*(B){const K=yield B();return K.status>=500&&K.status<600?B():K})).apply(this,arguments)}function fe(B){return Number(B.replace("s","000"))}function Xe(B,K){return At.apply(this,arguments)}function At(){return(At=(0,Y.Z)(function*({appConfig:B,heartbeatServiceProvider:K},{fid:X}){const pe=Le(B),Ye=Tt(B),ct=K.getImmediate({optional:!0});if(ct){const On=yield ct.getHeartbeatsHeader();On&&Ye.append("x-firebase-client",On)}const Xt={method:"POST",headers:Ye,body:JSON.stringify({fid:X,authVersion:Et,appId:B.appId,sdkVersion:Pe})},vn=yield Je(()=>fetch(pe,Xt));if(vn.ok){const On=yield vn.json();return{fid:On.fid||X,registrationStatus:2,refreshToken:On.refreshToken,authToken:Me(On.authToken)}}throw yield $e("Create Installation",vn)})).apply(this,arguments)}function Ft(B){return new Promise(K=>{setTimeout(K,B)})}const ln=/^[cdef][\w-]{21}$/;function Dt(){try{const B=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(B),B[0]=112+B[0]%16;const X=function En(B){return function Gt(B){return btoa(String.fromCharCode(...B)).replace(/\+/g,"-").replace(/\//g,"_")}(B).substr(0,22)}(B);return ln.test(X)?X:""}catch{return""}}function pn(B){return`${B.appName}!${B.appId}`}const it=new Map;function gt(B,K){const X=pn(B);Ut(X,K),function Cn(B,K){const X=function lr(){return!tr&&"BroadcastChannel"in self&&(tr=new BroadcastChannel("[Firebase] FID Change"),tr.onmessage=B=>{Ut(B.data.key,B.data.fid)}),tr}();X&&X.postMessage({key:B,fid:K}),function Hn(){0===it.size&&tr&&(tr.close(),tr=null)}()}(X,K)}function Ut(B,K){const X=it.get(B);if(X)for(const pe of X)pe(K)}let tr=null;const kn="firebase-installations-store";let sr=null;function Nn(){return sr||(sr=(0,Fe.X3)("firebase-installations-database",1,{upgrade:(B,K)=>{0===K&&B.createObjectStore(kn)}})),sr}function xt(B,K){return qn.apply(this,arguments)}function qn(){return(qn=(0,Y.Z)(function*(B,K){const X=pn(B),Ye=(yield Nn()).transaction(kn,"readwrite"),ct=Ye.objectStore(kn),Rt=yield ct.get(X);return yield ct.put(K,X),yield Ye.done,(!Rt||Rt.fid!==K.fid)&&gt(B,K.fid),K})).apply(this,arguments)}function gr(B){return Er.apply(this,arguments)}function Er(){return(Er=(0,Y.Z)(function*(B){const K=pn(B),pe=(yield Nn()).transaction(kn,"readwrite");yield pe.objectStore(kn).delete(K),yield pe.done})).apply(this,arguments)}function Yr(B,K){return Hr.apply(this,arguments)}function Hr(){return(Hr=(0,Y.Z)(function*(B,K){const X=pn(B),Ye=(yield Nn()).transaction(kn,"readwrite"),ct=Ye.objectStore(kn),Rt=yield ct.get(X),Xt=K(Rt);return void 0===Xt?yield ct.delete(X):yield ct.put(Xt,X),yield Ye.done,Xt&&(!Rt||Rt.fid!==Xt.fid)&&gt(B,Xt.fid),Xt})).apply(this,arguments)}function fr(B){return mt.apply(this,arguments)}function mt(){return(mt=(0,Y.Z)(function*(B){let K;const X=yield Yr(B.appConfig,pe=>{const Ye=xe(pe),ct=ye(B,Ye);return K=ct.registrationPromise,ct.installationEntry});return""===X.fid?{installationEntry:yield K}:{installationEntry:X,registrationPromise:K}})).apply(this,arguments)}function xe(B){return Zt(B||{fid:Dt(),registrationStatus:0})}function ye(B,K){if(0===K.registrationStatus){if(!navigator.onLine)return{installationEntry:K,registrationPromise:Promise.reject(Re.create("app-offline"))};const X={fid:K.fid,registrationStatus:1,registrationTime:Date.now()},pe=function lt(B,K){return yt.apply(this,arguments)}(B,X);return{installationEntry:X,registrationPromise:pe}}return 1===K.registrationStatus?{installationEntry:K,registrationPromise:en(B)}:{installationEntry:K}}function yt(){return(yt=(0,Y.Z)(function*(B,K){try{const X=yield Xe(B,K);return xt(B.appConfig,X)}catch(X){throw Ht(X)&&409===X.customData.serverCode?yield gr(B.appConfig):yield xt(B.appConfig,{fid:K.fid,registrationStatus:0}),X}})).apply(this,arguments)}function en(B){return Vt.apply(this,arguments)}function Vt(){return(Vt=(0,Y.Z)(function*(B){let K=yield An(B.appConfig);for(;1===K.registrationStatus;)yield Ft(100),K=yield An(B.appConfig);if(0===K.registrationStatus){const{installationEntry:X,registrationPromise:pe}=yield fr(B);return pe||X}return K})).apply(this,arguments)}function An(B){return Yr(B,K=>{if(!K)throw Re.create("installation-not-found");return Zt(K)})}function Zt(B){return function Un(B){return 1===B.registrationStatus&&B.registrationTime+1e4<Date.now()}(B)?{fid:B.fid,registrationStatus:0}:B}function jn(B,K){return zr.apply(this,arguments)}function zr(){return(zr=(0,Y.Z)(function*({appConfig:B,heartbeatServiceProvider:K},X){const pe=Mn(B,X),Ye=oe(B,X),ct=K.getImmediate({optional:!0});if(ct){const On=yield ct.getHeartbeatsHeader();On&&Ye.append("x-firebase-client",On)}const Xt={method:"POST",headers:Ye,body:JSON.stringify({installation:{sdkVersion:Pe,appId:B.appId}})},vn=yield Je(()=>fetch(pe,Xt));if(vn.ok)return Me(yield vn.json());throw yield $e("Generate Auth Token",vn)})).apply(this,arguments)}function Mn(B,{fid:K}){return`${Le(B)}/${K}/authTokens:generate`}function Ae(B){return ve.apply(this,arguments)}function ve(){return(ve=(0,Y.Z)(function*(B,K=!1){let X;const pe=yield Yr(B.appConfig,ct=>{if(!tn(ct))throw Re.create("not-registered");const Rt=ct.authToken;if(!K&&cr(Rt))return ct;if(1===Rt.requestStatus)return X=_e(B,K),ct;{if(!navigator.onLine)throw Re.create("app-offline");const Xt=Nr(ct);return X=Ct(B,Xt),Xt}});return X?yield X:pe.authToken})).apply(this,arguments)}function _e(B,K){return Oe.apply(this,arguments)}function Oe(){return(Oe=(0,Y.Z)(function*(B,K){let X=yield be(B.appConfig);for(;1===X.authToken.requestStatus;)yield Ft(100),X=yield be(B.appConfig);const pe=X.authToken;return 0===pe.requestStatus?Ae(B,K):pe})).apply(this,arguments)}function be(B){return Yr(B,K=>{if(!tn(K))throw Re.create("not-registered");return function Fn(B){return 1===B.requestStatus&&B.requestTime+1e4<Date.now()}(K.authToken)?Object.assign(Object.assign({},K),{authToken:{requestStatus:0}}):K})}function Ct(B,K){return jt.apply(this,arguments)}function jt(){return(jt=(0,Y.Z)(function*(B,K){try{const X=yield jn(B,K),pe=Object.assign(Object.assign({},K),{authToken:X});return yield xt(B.appConfig,pe),X}catch(X){if(!Ht(X)||401!==X.customData.serverCode&&404!==X.customData.serverCode){const pe=Object.assign(Object.assign({},K),{authToken:{requestStatus:0}});yield xt(B.appConfig,pe)}else yield gr(B.appConfig);throw X}})).apply(this,arguments)}function tn(B){return void 0!==B&&2===B.registrationStatus}function cr(B){return 2===B.requestStatus&&!function or(B){const K=Date.now();return K<B.creationTime||B.creationTime+B.expiresIn<K+36e5}(B)}function Nr(B){const K={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},B),{authToken:K})}function mr(){return(mr=(0,Y.Z)(function*(B){const K=B,{installationEntry:X,registrationPromise:pe}=yield fr(K);return pe?pe.catch(console.error):Ae(K).catch(console.error),X.fid})).apply(this,arguments)}function Ii(){return(Ii=(0,Y.Z)(function*(B,K=!1){const X=B;return yield gi(X),(yield Ae(X,K)).token})).apply(this,arguments)}function gi(B){return Br.apply(this,arguments)}function Br(){return(Br=(0,Y.Z)(function*(B){const{registrationPromise:K}=yield fr(B);K&&(yield K)})).apply(this,arguments)}function Ur(B){return Re.create("missing-app-config-values",{valueName:B})}const wr="installations",dr=B=>{const K=B.getProvider("app").getImmediate(),X=function Kn(B){if(!B||!B.options)throw Ur("App Configuration");if(!B.name)throw Ur("App Name");const K=["projectId","apiKey","appId"];for(const X of K)if(!B.options[X])throw Ur(X);return{appName:B.name,projectId:B.options.projectId,apiKey:B.options.apiKey,appId:B.options.appId}}(K);return{app:K,appConfig:X,heartbeatServiceProvider:(0,me._getProvider)(K,"heartbeat"),_delete:()=>Promise.resolve()}},Mi=B=>{const K=B.getProvider("app").getImmediate(),X=(0,me._getProvider)(K,wr).getImmediate();return{getId:()=>function Ln(B){return mr.apply(this,arguments)}(X),getToken:Ye=>function Fr(B){return Ii.apply(this,arguments)}(X,Ye)}};(function Io(){(0,me._registerComponent)(new ke.wA(wr,dr,"PUBLIC")),(0,me._registerComponent)(new ke.wA("installations-internal",Mi,"PRIVATE"))})(),(0,me.registerVersion)(Qe,he),(0,me.registerVersion)(Qe,he,"esm2017");const Bi="@firebase/remote-config",jr=new Se.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Bs{constructor(K,X,pe,Ye){this.client=K,this.storage=X,this.storageCache=pe,this.logger=Ye}isCachedDataFresh(K,X){if(!X)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const pe=Date.now()-X,Ye=pe<=K;return this.logger.debug(`Config fetch cache check. Cache age millis: ${pe}. Cache max age millis (minimumFetchIntervalMillis setting): ${K}. Is cache hit: ${Ye}.`),Ye}fetch(K){var X=this;return(0,Y.Z)(function*(){const[pe,Ye]=yield Promise.all([X.storage.getLastSuccessfulFetchTimestampMillis(),X.storage.getLastSuccessfulFetchResponse()]);if(Ye&&X.isCachedDataFresh(K.cacheMaxAgeMillis,pe))return Ye;K.eTag=Ye&&Ye.eTag;const ct=yield X.client.fetch(K),Rt=[X.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===ct.status&&Rt.push(X.storage.setLastSuccessfulFetchResponse(ct)),yield Promise.all(Rt),ct})()}}function Wo(B=navigator){return B.languages&&B.languages[0]||B.language}class To{constructor(K,X,pe,Ye,ct,Rt){this.firebaseInstallations=K,this.sdkVersion=X,this.namespace=pe,this.projectId=Ye,this.apiKey=ct,this.appId=Rt}fetch(K){var X=this;return(0,Y.Z)(function*(){var pe,Ye,ct;const[Rt,Xt]=yield Promise.all([X.firebaseInstallations.getId(),X.firebaseInstallations.getToken()]),On=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${X.projectId}/namespaces/${X.namespace}:fetch?key=${X.apiKey}`,zn={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":K.eTag||"*"},Pn={sdk_version:X.sdkVersion,app_instance_id:Rt,app_instance_id_token:Xt,app_id:X.appId,language_code:Wo()},fi={method:"POST",headers:zn,body:JSON.stringify(Pn)},ts=fetch(On,fi),Yo=new Promise((ga,qa)=>{K.signal.addEventListener(()=>{const id=new Error("The operation was aborted.");id.name="AbortError",qa(id)})});let Za;try{yield Promise.race([ts,Yo]),Za=yield ts}catch(ga){let qa="fetch-client-network";throw"AbortError"===(null===(pe=ga)||void 0===pe?void 0:pe.name)&&(qa="fetch-timeout"),jr.create(qa,{originalErrorMessage:null===(Ye=ga)||void 0===Ye?void 0:Ye.message})}let Qo=Za.status;const pl=Za.headers.get("ETag")||void 0;let pa,Xo;if(200===Za.status){let ga;try{ga=yield Za.json()}catch(qa){throw jr.create("fetch-client-parse",{originalErrorMessage:null===(ct=qa)||void 0===ct?void 0:ct.message})}pa=ga.entries,Xo=ga.state}if("INSTANCE_STATE_UNSPECIFIED"===Xo?Qo=500:"NO_CHANGE"===Xo?Qo=304:("NO_TEMPLATE"===Xo||"EMPTY_CONFIG"===Xo)&&(pa={}),304!==Qo&&200!==Qo)throw jr.create("fetch-status",{httpStatus:Qo});return{status:Qo,eTag:pl,config:pa}})()}}class We{constructor(K,X){this.client=K,this.storage=X}fetch(K){var X=this;return(0,Y.Z)(function*(){const pe=(yield X.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return X.attemptFetch(K,pe)})()}attemptFetch(K,{throttleEndTimeMillis:X,backoffCount:pe}){var Ye=this;return(0,Y.Z)(function*(){yield function oi(B,K){return new Promise((X,pe)=>{const Ye=Math.max(K-Date.now(),0),ct=setTimeout(X,Ye);B.addEventListener(()=>{clearTimeout(ct),pe(jr.create("fetch-throttle",{throttleEndTimeMillis:K}))})})}(K.signal,X);try{const ct=yield Ye.client.fetch(K);return yield Ye.storage.deleteThrottleMetadata(),ct}catch(ct){if(!function Ke(B){if(!(B instanceof Se.ZR&&B.customData))return!1;const K=Number(B.customData.httpStatus);return 429===K||500===K||503===K||504===K}(ct))throw ct;const Rt={throttleEndTimeMillis:Date.now()+(0,Se.$s)(pe),backoffCount:pe+1};return yield Ye.storage.setThrottleMetadata(Rt),Ye.attemptFetch(K,Rt)}})()}}class zt{constructor(K,X,pe,Ye,ct){this.app=K,this._client=X,this._storageCache=pe,this._storage=Ye,this._logger=ct,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function cn(B,K){var X;const pe=B.target.error||void 0;return jr.create(K,{originalErrorMessage:pe&&(null===(X=pe)||void 0===X?void 0:X.message)})}const Tn="app_namespace_store";class to{constructor(K,X,pe,Ye=function $i(){return new Promise((B,K)=>{var X;try{const pe=indexedDB.open("firebase_remote_config",1);pe.onerror=Ye=>{K(cn(Ye,"storage-open"))},pe.onsuccess=Ye=>{B(Ye.target.result)},pe.onupgradeneeded=Ye=>{0===Ye.oldVersion&&Ye.target.result.createObjectStore(Tn,{keyPath:"compositeKey"})}}catch(pe){K(jr.create("storage-open",{originalErrorMessage:null===(X=pe)||void 0===X?void 0:X.message}))}})}()){this.appId=K,this.appName=X,this.namespace=pe,this.openDbPromise=Ye}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(K){return this.set("last_fetch_status",K)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(K){return this.set("last_successful_fetch_timestamp_millis",K)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(K){return this.set("last_successful_fetch_response",K)}getActiveConfig(){return this.get("active_config")}setActiveConfig(K){return this.set("active_config",K)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(K){return this.set("active_config_etag",K)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(K){return this.set("throttle_metadata",K)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(K){var X=this;return(0,Y.Z)(function*(){const pe=yield X.openDbPromise;return new Promise((Ye,ct)=>{var Rt;const vn=pe.transaction([Tn],"readonly").objectStore(Tn),On=X.createCompositeKey(K);try{const zn=vn.get(On);zn.onerror=Pn=>{ct(cn(Pn,"storage-get"))},zn.onsuccess=Pn=>{const fi=Pn.target.result;Ye(fi?fi.value:void 0)}}catch(zn){ct(jr.create("storage-get",{originalErrorMessage:null===(Rt=zn)||void 0===Rt?void 0:Rt.message}))}})})()}set(K,X){var pe=this;return(0,Y.Z)(function*(){const Ye=yield pe.openDbPromise;return new Promise((ct,Rt)=>{var Xt;const On=Ye.transaction([Tn],"readwrite").objectStore(Tn),zn=pe.createCompositeKey(K);try{const Pn=On.put({compositeKey:zn,value:X});Pn.onerror=fi=>{Rt(cn(fi,"storage-set"))},Pn.onsuccess=()=>{ct()}}catch(Pn){Rt(jr.create("storage-set",{originalErrorMessage:null===(Xt=Pn)||void 0===Xt?void 0:Xt.message}))}})})()}delete(K){var X=this;return(0,Y.Z)(function*(){const pe=yield X.openDbPromise;return new Promise((Ye,ct)=>{var Rt;const vn=pe.transaction([Tn],"readwrite").objectStore(Tn),On=X.createCompositeKey(K);try{const zn=vn.delete(On);zn.onerror=Pn=>{ct(cn(Pn,"storage-delete"))},zn.onsuccess=()=>{Ye()}}catch(zn){ct(jr.create("storage-delete",{originalErrorMessage:null===(Rt=zn)||void 0===Rt?void 0:Rt.message}))}})})()}createCompositeKey(K){return[this.appId,this.appName,this.namespace,K].join()}}class Vi{constructor(K){this.storage=K}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var K=this;return(0,Y.Z)(function*(){const X=K.storage.getLastFetchStatus(),pe=K.storage.getLastSuccessfulFetchTimestampMillis(),Ye=K.storage.getActiveConfig(),ct=yield X;ct&&(K.lastFetchStatus=ct);const Rt=yield pe;Rt&&(K.lastSuccessfulFetchTimestampMillis=Rt);const Xt=yield Ye;Xt&&(K.activeConfig=Xt)})()}setLastFetchStatus(K){return this.lastFetchStatus=K,this.storage.setLastFetchStatus(K)}setLastSuccessfulFetchTimestampMillis(K){return this.lastSuccessfulFetchTimestampMillis=K,this.storage.setLastSuccessfulFetchTimestampMillis(K)}setActiveConfig(K){return this.activeConfig=K,this.storage.setActiveConfig(K)}}function Cs(){return ia.apply(this,arguments)}function ia(){return(ia=(0,Y.Z)(function*(){if(!(0,Se.hl)())return!1;try{return yield(0,Se.eu)()}catch{return!1}})).apply(this,arguments)}!function zi(){(0,me._registerComponent)(new ke.wA("remote-config",function B(K,{instanceIdentifier:X}){const pe=K.getProvider("app").getImmediate(),Ye=K.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw jr.create("registration-window");if(!(0,Se.hl)())throw jr.create("indexed-db-unavailable");const{projectId:ct,apiKey:Rt,appId:Xt}=pe.options;if(!ct)throw jr.create("registration-project-id");if(!Rt)throw jr.create("registration-api-key");if(!Xt)throw jr.create("registration-app-id");const vn=new to(Xt,pe.name,X=X||"firebase"),On=new Vi(vn),zn=new Be.Yd(Bi);zn.logLevel=Be.in.ERROR;const Pn=new To(Ye,me.SDK_VERSION,X,ct,Rt,Xt),fi=new We(Pn,vn),ts=new Bs(fi,vn,On,zn),Yo=new zt(pe,ts,On,vn,zn);return function Pr(B){const K=(0,Se.m9)(B);K._initializePromise||(K._initializePromise=K._storageCache.loadFromStorage().then(()=>{K._isInitializationComplete=!0}))}(Yo),Yo},"PUBLIC").setMultipleInstances(!0)),(0,me.registerVersion)(Bi,"0.3.11"),(0,me.registerVersion)(Bi,"0.3.11","esm2017")}();const Ds="/firebase-messaging-sw.js",Gi="/firebase-cloud-messaging-push-scope",Zi="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Vs="google.c.a.c_id",ho="google.c.a.c_l",sa="google.c.a.ts",Ba="google.c.a.e";var Is=(()=>{return(B=Is||(Is={})).PUSH_RECEIVED="push-received",B.NOTIFICATION_CLICKED="notification-clicked",Is;var B})();function Hi(B){const K=new Uint8Array(B);return btoa(String.fromCharCode(...K)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function _i(B){const X=(B+"=".repeat((4-B.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),pe=atob(X),Ye=new Uint8Array(pe.length);for(let ct=0;ct<pe.length;++ct)Ye[ct]=pe.charCodeAt(ct);return Ye}const os="fcm_token_details_db",Ei="fcm_token_object_Store";function Ms(B){return Ko.apply(this,arguments)}function Ko(){return Ko=(0,Y.Z)(function*(B){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(ct=>ct.name).includes(os))return null;let K=null;return(yield(0,Fe.X3)(os,5,{upgrade:(pe=(0,Y.Z)(function*(Ye,ct,Rt,Xt){var vn;if(ct<2||!Ye.objectStoreNames.contains(Ei))return;const On=Xt.objectStore(Ei),zn=yield On.index("fcmSenderId").get(B);if(yield On.clear(),zn)if(2===ct){const Pn=zn;if(!Pn.auth||!Pn.p256dh||!Pn.endpoint)return;K={token:Pn.fcmToken,createTime:null!==(vn=Pn.createTime)&&void 0!==vn?vn:Date.now(),subscriptionOptions:{auth:Pn.auth,p256dh:Pn.p256dh,endpoint:Pn.endpoint,swScope:Pn.swScope,vapidKey:"string"==typeof Pn.vapidKey?Pn.vapidKey:Hi(Pn.vapidKey)}}}else if(3===ct){const Pn=zn;K={token:Pn.fcmToken,createTime:Pn.createTime,subscriptionOptions:{auth:Hi(Pn.auth),p256dh:Hi(Pn.p256dh),endpoint:Pn.endpoint,swScope:Pn.swScope,vapidKey:Hi(Pn.vapidKey)}}}else if(4===ct){const Pn=zn;K={token:Pn.fcmToken,createTime:Pn.createTime,subscriptionOptions:{auth:Hi(Pn.auth),p256dh:Hi(Pn.p256dh),endpoint:Pn.endpoint,swScope:Pn.swScope,vapidKey:Hi(Pn.vapidKey)}}}}),function(ct,Rt,Xt,vn){return pe.apply(this,arguments)})})).close(),yield(0,Fe.Lj)(os),yield(0,Fe.Lj)("fcm_vapid_details_db"),yield(0,Fe.Lj)("undefined"),Gr(K)?K:null;var pe}),Ko.apply(this,arguments)}function Gr(B){if(!B||!B.subscriptionOptions)return!1;const{subscriptionOptions:K}=B;return"number"==typeof B.createTime&&B.createTime>0&&"string"==typeof B.token&&B.token.length>0&&"string"==typeof K.auth&&K.auth.length>0&&"string"==typeof K.p256dh&&K.p256dh.length>0&&"string"==typeof K.endpoint&&K.endpoint.length>0&&"string"==typeof K.swScope&&K.swScope.length>0&&"string"==typeof K.vapidKey&&K.vapidKey.length>0}const Ts="firebase-messaging-store";let Ci=null;function as(){return Ci||(Ci=(0,Fe.X3)("firebase-messaging-database",1,{upgrade:(B,K)=>{0===K&&B.createObjectStore(Ts)}})),Ci}function no(B){return qi.apply(this,arguments)}function qi(){return(qi=(0,Y.Z)(function*(B){const K=Jr(B),pe=yield(yield as()).transaction(Ts).objectStore(Ts).get(K);if(pe)return pe;{const Ye=yield Ms(B.appConfig.senderId);if(Ye)return yield nr(B,Ye),Ye}})).apply(this,arguments)}function nr(B,K){return $o.apply(this,arguments)}function $o(){return($o=(0,Y.Z)(function*(B,K){const X=Jr(B),Ye=(yield as()).transaction(Ts,"readwrite");return yield Ye.objectStore(Ts).put(K,X),yield Ye.done,K})).apply(this,arguments)}function yr(B){return ro.apply(this,arguments)}function ro(){return(ro=(0,Y.Z)(function*(B){const K=Jr(B),pe=(yield as()).transaction(Ts,"readwrite");yield pe.objectStore(Ts).delete(K),yield pe.done})).apply(this,arguments)}function Jr({appConfig:B}){return B.appId}const vr=new Se.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function xn(B,K){return Ua.apply(this,arguments)}function Ua(){return(Ua=(0,Y.Z)(function*(B,K){var X;const pe=yield Yi(B),Ye=St(K),ct={method:"POST",headers:pe,body:JSON.stringify(Ye)};let Rt;try{Rt=yield(yield fetch(Ai(B.appConfig),ct)).json()}catch(Xt){throw vr.create("token-subscribe-failed",{errorInfo:null===(X=Xt)||void 0===X?void 0:X.toString()})}if(Rt.error)throw vr.create("token-subscribe-failed",{errorInfo:Rt.error.message});if(!Rt.token)throw vr.create("token-subscribe-no-token");return Rt.token})).apply(this,arguments)}function nl(B,K){return Ao.apply(this,arguments)}function Ao(){return(Ao=(0,Y.Z)(function*(B,K){var X;const pe=yield Yi(B),Ye=St(K.subscriptionOptions),ct={method:"PATCH",headers:pe,body:JSON.stringify(Ye)};let Rt;try{Rt=yield(yield fetch(`${Ai(B.appConfig)}/${K.token}`,ct)).json()}catch(Xt){throw vr.create("token-update-failed",{errorInfo:null===(X=Xt)||void 0===X?void 0:X.toString()})}if(Rt.error)throw vr.create("token-update-failed",{errorInfo:Rt.error.message});if(!Rt.token)throw vr.create("token-update-no-token");return Rt.token})).apply(this,arguments)}function wa(B,K){return Va.apply(this,arguments)}function Va(){return(Va=(0,Y.Z)(function*(B,K){var X;const Ye={method:"DELETE",headers:yield Yi(B)};try{const Rt=yield(yield fetch(`${Ai(B.appConfig)}/${K}`,Ye)).json();if(Rt.error)throw vr.create("token-unsubscribe-failed",{errorInfo:Rt.error.message})}catch(ct){throw vr.create("token-unsubscribe-failed",{errorInfo:null===(X=ct)||void 0===X?void 0:X.toString()})}})).apply(this,arguments)}function Ai({projectId:B}){return`https://fcmregistrations.googleapis.com/v1/projects/${B}/registrations`}function Yi(B){return Qi.apply(this,arguments)}function Qi(){return(Qi=(0,Y.Z)(function*({appConfig:B,installations:K}){const X=yield K.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":B.apiKey,"x-goog-firebase-installations-auth":`FIS ${X}`})})).apply(this,arguments)}function St({p256dh:B,auth:K,endpoint:X,vapidKey:pe}){const Ye={web:{endpoint:X,auth:K,p256dh:B}};return pe!==Zi&&(Ye.web.applicationPubKey=pe),Ye}const $n=6048e5;function As(B){return pi.apply(this,arguments)}function pi(){return(pi=(0,Y.Z)(function*(B){const K=yield an(B.swRegistration,B.vapidKey),X={vapidKey:B.vapidKey,swScope:B.swRegistration.scope,endpoint:K.endpoint,auth:Hi(K.getKey("auth")),p256dh:Hi(K.getKey("p256dh"))},pe=yield no(B.firebaseDependencies);if(pe){if(ps(pe.subscriptionOptions,X))return Date.now()>=pe.createTime+$n?H(B,{token:pe.token,createTime:Date.now(),subscriptionOptions:X}):pe.token;try{yield wa(B.firebaseDependencies,pe.token)}catch(Ye){console.warn(Ye)}return ie(B.firebaseDependencies,X)}return ie(B.firebaseDependencies,X)})).apply(this,arguments)}function Cr(B){return $.apply(this,arguments)}function $(){return($=(0,Y.Z)(function*(B){const K=yield no(B.firebaseDependencies);K&&(yield wa(B.firebaseDependencies,K.token),yield yr(B.firebaseDependencies));const X=yield B.swRegistration.pushManager.getSubscription();return!X||X.unsubscribe()})).apply(this,arguments)}function H(B,K){return U.apply(this,arguments)}function U(){return(U=(0,Y.Z)(function*(B,K){try{const X=yield nl(B.firebaseDependencies,K),pe=Object.assign(Object.assign({},K),{token:X,createTime:Date.now()});return yield nr(B.firebaseDependencies,pe),X}catch(X){throw yield Cr(B),X}})).apply(this,arguments)}function ie(B,K){return pt.apply(this,arguments)}function pt(){return(pt=(0,Y.Z)(function*(B,K){const pe={token:yield xn(B,K),createTime:Date.now(),subscriptionOptions:K};return yield nr(B,pe),pe.token})).apply(this,arguments)}function an(B,K){return ei.apply(this,arguments)}function ei(){return(ei=(0,Y.Z)(function*(B,K){return(yield B.pushManager.getSubscription())||B.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:_i(K)})})).apply(this,arguments)}function ps(B,K){return K.vapidKey===B.vapidKey&&K.endpoint===B.endpoint&&K.auth===B.auth&&K.p256dh===B.p256dh}function ki(B){const K={from:B.from,collapseKey:B.collapse_key,messageId:B.fcmMessageId};return function Ar(B,K){if(!K.notification)return;B.notification={};const X=K.notification.title;X&&(B.notification.title=X);const pe=K.notification.body;pe&&(B.notification.body=pe);const Ye=K.notification.image;Ye&&(B.notification.image=Ye)}(K,B),function io(B,K){!K.data||(B.data=K.data)}(K,B),function rl(B,K){var X,pe,Ye,ct,Rt;if(!(K.fcmOptions||null!==(X=K.notification)&&void 0!==X&&X.click_action))return;B.fcmOptions={};const Xt=null!==(Ye=null===(pe=K.fcmOptions)||void 0===pe?void 0:pe.link)&&void 0!==Ye?Ye:null===(ct=K.notification)||void 0===ct?void 0:ct.click_action;Xt&&(B.fcmOptions.link=Xt);const vn=null===(Rt=K.fcmOptions)||void 0===Rt?void 0:Rt.analytics_label;vn&&(B.fcmOptions.analyticsLabel=vn)}(K,B),K}function js(B){return"object"==typeof B&&!!B&&Vs in B}function ji(B,K){const X=[];for(let pe=0;pe<B.length;pe++)X.push(B.charAt(pe)),pe<K.length&&X.push(K.charAt(pe));return X.join("")}function fo(B){return vr.create("missing-app-config-values",{valueName:B})}ji("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),ji("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class zo{constructor(K,X,pe){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Ye=function il(B){if(!B||!B.options)throw fo("App Configuration Object");if(!B.name)throw fo("App Name");const K=["projectId","apiKey","appId","messagingSenderId"],{options:X}=B;for(const pe of K)if(!X[pe])throw fo(pe);return{appName:B.name,projectId:X.projectId,apiKey:X.apiKey,appId:X.appId,senderId:X.messagingSenderId}}(K);this.firebaseDependencies={app:K,appConfig:Ye,installations:X,analyticsProvider:pe}}_delete(){return Promise.resolve()}}function Ha(B){return po.apply(this,arguments)}function po(){return(po=(0,Y.Z)(function*(B){var K;try{B.swRegistration=yield navigator.serviceWorker.register(Ds,{scope:Gi}),B.swRegistration.update().catch(()=>{})}catch(X){throw vr.create("failed-service-worker-registration",{browserErrorMessage:null===(K=X)||void 0===K?void 0:K.message})}})).apply(this,arguments)}function go(B,K){return Ia.apply(this,arguments)}function Ia(){return(Ia=(0,Y.Z)(function*(B,K){if(!K&&!B.swRegistration&&(yield Ha(B)),K||!B.swRegistration){if(!(K instanceof ServiceWorkerRegistration))throw vr.create("invalid-sw-registration");B.swRegistration=K}})).apply(this,arguments)}function Wr(B,K){return Ma.apply(this,arguments)}function Ma(){return(Ma=(0,Y.Z)(function*(B,K){K?B.vapidKey=K:B.vapidKey||(B.vapidKey=Zi)})).apply(this,arguments)}function sl(){return(sl=(0,Y.Z)(function*(B,K){if(!navigator)throw vr.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw vr.create("permission-blocked");return yield Wr(B,K?.vapidKey),yield go(B,K?.serviceWorkerRegistration),As(B)})).apply(this,arguments)}function Ol(B,K,X){return ja.apply(this,arguments)}function ja(){return(ja=(0,Y.Z)(function*(B,K,X){const pe=ol(K);(yield B.firebaseDependencies.analyticsProvider.get()).logEvent(pe,{message_id:X[Vs],message_name:X[ho],message_time:X[sa],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function ol(B){switch(B){case Is.NOTIFICATION_CLICKED:return"notification_open";case Is.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Q(){return(Q=(0,Y.Z)(function*(B,K){const X=K.data;if(!X.isFirebaseMessaging)return;B.onMessageHandler&&X.messageType===Is.PUSH_RECEIVED&&("function"==typeof B.onMessageHandler?B.onMessageHandler(ki(X)):B.onMessageHandler.next(ki(X)));const pe=X.data;js(pe)&&"1"===pe[Ba]&&(yield Ol(B,X.messageType,pe))})).apply(this,arguments)}const V="@firebase/messaging",De=B=>{const K=new zo(B.getProvider("app").getImmediate(),B.getProvider("installations-internal").getImmediate(),B.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",X=>function N(B,K){return Q.apply(this,arguments)}(K,X)),K},at=B=>{const K=B.getProvider("messaging").getImmediate();return{getToken:pe=>function So(B,K){return sl.apply(this,arguments)}(K,pe)}};function un(){return ar.apply(this,arguments)}function ar(){return(ar=(0,Y.Z)(function*(){try{yield(0,Se.eu)()}catch{return!1}return typeof window<"u"&&(0,Se.hl)()&&(0,Se.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function _t(){(0,me._registerComponent)(new ke.wA("messaging",De,"PUBLIC")),(0,me._registerComponent)(new ke.wA("messaging-internal",at,"PRIVATE")),(0,me.registerVersion)(V,"0.9.16"),(0,me.registerVersion)(V,"0.9.16","esm2017")}();const ls="analytics",mo="firebase_id",$s="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",al="https://www.googletagmanager.com/gtag/js",ai=new Be.Yd("@firebase/analytics");function Wa(B){return Promise.all(B.map(K=>K.catch(X=>X)))}function Rc(B,K){const X=document.createElement("script");X.src=`${al}?l=${B}&id=${K}`,X.async=!0,document.head.appendChild(X)}function dc(B,K,X,pe,Ye,ct){return Pl.apply(this,arguments)}function Pl(){return(Pl=(0,Y.Z)(function*(B,K,X,pe,Ye,ct){const Rt=pe[Ye];try{if(Rt)yield K[Rt];else{const vn=(yield Wa(X)).find(On=>On.measurementId===Ye);vn&&(yield K[vn.appId])}}catch(Xt){ai.error(Xt)}B("config",Ye,ct)})).apply(this,arguments)}function Rl(B,K,X,pe,Ye){return Aa.apply(this,arguments)}function Aa(){return(Aa=(0,Y.Z)(function*(B,K,X,pe,Ye){try{let ct=[];if(Ye&&Ye.send_to){let Rt=Ye.send_to;Array.isArray(Rt)||(Rt=[Rt]);const Xt=yield Wa(X);for(const vn of Rt){const On=Xt.find(Pn=>Pn.measurementId===vn),zn=On&&K[On.appId];if(!zn){ct=[];break}ct.push(zn)}}0===ct.length&&(ct=Object.values(K)),yield Promise.all(ct),B("event",pe,Ye||{})}catch(ct){ai.error(ct)}})).apply(this,arguments)}function hc(){const B=window.document.getElementsByTagName("script");for(const K of Object.values(B))if(K.src&&K.src.includes(al))return K;return null}const li=new Se.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),ll=new class Po{constructor(K={},X=1e3){this.throttleMetadata=K,this.intervalMillis=X}getThrottleMetadata(K){return this.throttleMetadata[K]}setThrottleMetadata(K,X){this.throttleMetadata[K]=X}deleteThrottleMetadata(K){delete this.throttleMetadata[K]}};function Kd(B){return new Headers({Accept:"application/json","x-goog-api-key":B})}function $a(B){return fc.apply(this,arguments)}function fc(){return(fc=(0,Y.Z)(function*(B){var K;const{appId:X,apiKey:pe}=B,Ye={method:"GET",headers:Kd(pe)},ct=$s.replace("{app-id}",X),Rt=yield fetch(ct,Ye);if(200!==Rt.status&&304!==Rt.status){let Xt="";try{const vn=yield Rt.json();null!==(K=vn.error)&&void 0!==K&&K.message&&(Xt=vn.error.message)}catch{}throw li.create("config-fetch-failed",{httpStatus:Rt.status,responseMessage:Xt})}return Rt.json()})).apply(this,arguments)}function ci(B){return cs.apply(this,arguments)}function cs(){return(cs=(0,Y.Z)(function*(B,K=ll,X){const{appId:pe,apiKey:Ye,measurementId:ct}=B.options;if(!pe)throw li.create("no-app-id");if(!Ye){if(ct)return{measurementId:ct,appId:pe};throw li.create("no-api-key")}const Rt=K.getThrottleMetadata(pe)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Xt=new vo;return setTimeout((0,Y.Z)(function*(){Xt.abort()}),void 0!==X?X:6e4),Go({appId:pe,apiKey:Ye,measurementId:ct},Rt,Xt,K)})).apply(this,arguments)}function Go(B,K,X){return ui.apply(this,arguments)}function ui(){return(ui=(0,Y.Z)(function*(B,{throttleEndTimeMillis:K,backoffCount:X},pe,Ye=ll){var ct,Rt;const{appId:Xt,measurementId:vn}=B;try{yield _o(pe,K)}catch(On){if(vn)return ai.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${vn} provided in the "measurementId" field in the local Firebase config. [${null===(ct=On)||void 0===ct?void 0:ct.message}]`),{appId:Xt,measurementId:vn};throw On}try{const On=yield $a(B);return Ye.deleteThrottleMetadata(Xt),On}catch(On){const zn=On;if(!yo(zn)){if(Ye.deleteThrottleMetadata(Xt),vn)return ai.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${vn} provided in the "measurementId" field in the local Firebase config. [${zn?.message}]`),{appId:Xt,measurementId:vn};throw On}const Pn=503===Number(null===(Rt=zn?.customData)||void 0===Rt?void 0:Rt.httpStatus)?(0,Se.$s)(X,Ye.intervalMillis,30):(0,Se.$s)(X,Ye.intervalMillis),fi={throttleEndTimeMillis:Date.now()+Pn,backoffCount:X+1};return Ye.setThrottleMetadata(Xt,fi),ai.debug(`Calling attemptFetch again in ${Pn} millis`),Go(B,fi,pe,Ye)}})).apply(this,arguments)}function _o(B,K){return new Promise((X,pe)=>{const Ye=Math.max(K-Date.now(),0),ct=setTimeout(X,Ye);B.addEventListener(()=>{clearTimeout(ct),pe(li.create("fetch-throttle",{throttleEndTimeMillis:K}))})})}function yo(B){if(!(B instanceof Se.ZR&&B.customData))return!1;const K=Number(B.customData.httpStatus);return 429===K||500===K||503===K||504===K}class vo{constructor(){this.listeners=[]}addEventListener(K){this.listeners.push(K)}abort(){this.listeners.forEach(K=>K())}}let aa,yi;function Zr(){return(Zr=(0,Y.Z)(function*(B,K,X,pe,Ye){if(Ye&&Ye.global)B("event",X,pe);else{const ct=yield K;B("event",X,Object.assign(Object.assign({},pe),{send_to:ct}))}})).apply(this,arguments)}function la(B){yi=B}function kc(B){aa=B}function td(){return Ll.apply(this,arguments)}function Ll(){return(Ll=(0,Y.Z)(function*(){var B;if(!(0,Se.hl)())return ai.warn(li.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,Se.eu)()}catch(K){return ai.warn(li.create("indexeddb-unavailable",{errorInfo:null===(B=K)||void 0===B?void 0:B.toString()}).message),!1}return!0})).apply(this,arguments)}function dl(){return(dl=(0,Y.Z)(function*(B,K,X,pe,Ye,ct,Rt){var Xt;const vn=ci(B);vn.then(ts=>{X[ts.measurementId]=ts.appId,B.options.measurementId&&ts.measurementId!==B.options.measurementId&&ai.warn(`The measurement ID in the local Firebase config (${B.options.measurementId}) does not match the measurement ID fetched from the server (${ts.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(ts=>ai.error(ts)),K.push(vn);const On=td().then(ts=>{if(ts)return pe.getId()}),[zn,Pn]=yield Promise.all([vn,On]);hc()||Rc(ct,zn.measurementId),yi&&(Ye("consent","default",yi),la(void 0)),Ye("js",new Date);const fi=null!==(Xt=Rt?.config)&&void 0!==Xt?Xt:{};return fi.origin="firebase",fi.update=!0,null!=Pn&&(fi[mo]=Pn),Ye("config",zn.measurementId,fi),aa&&(Ye("set",aa),kc(void 0)),zn.measurementId})).apply(this,arguments)}class hl{constructor(K){this.app=K}_delete(){return delete Ji[this.app.options.appId],Promise.resolve()}}let Ji={},Sr=[];const xa={};let Eo,zs,bo="dataLayer",Rr=!1;function Mr(B,K,X){!function pc(){const B=[];if((0,Se.ru)()&&B.push("This is a browser extension environment."),(0,Se.zI)()||B.push("Cookies are not available."),B.length>0){const K=B.map((pe,Ye)=>`(${Ye+1}) ${pe}`).join(" "),X=li.create("invalid-analytics-context",{errorInfo:K});ai.warn(X.message)}}();const pe=B.options.appId;if(!pe)throw li.create("no-app-id");if(!B.options.apiKey){if(!B.options.measurementId)throw li.create("no-api-key");ai.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${B.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Ji[pe])throw li.create("already-exists",{id:pe});if(!Rr){!function Ta(B){let K=[];Array.isArray(window[B])?K=window[B]:window[B]=K}(bo);const{wrappedGtag:ct,gtagCore:Rt}=function Xi(B,K,X,pe,Ye){let ct=function(...Rt){window[pe].push(arguments)};return window[Ye]&&"function"==typeof window[Ye]&&(ct=window[Ye]),window[Ye]=function Sa(B,K,X,pe){function ct(){return(ct=(0,Y.Z)(function*(Rt,Xt,vn){try{"event"===Rt?yield Rl(B,K,X,Xt,vn):"config"===Rt?yield dc(B,K,X,pe,Xt,vn):"consent"===Rt?B("consent","update",vn):B("set",Xt)}catch(On){ai.error(On)}})).apply(this,arguments)}return function Ye(Rt,Xt,vn){return ct.apply(this,arguments)}}(ct,B,K,X),{gtagCore:ct,wrappedGtag:window[Ye]}}(Ji,Sr,xa,bo,"gtag");zs=ct,Eo=Rt,Rr=!0}return Ji[pe]=function ul(B,K,X,pe,Ye,ct,Rt){return dl.apply(this,arguments)}(B,Sr,xa,K,Eo,bo,X),new hl(B)}function rn(){return gc.apply(this,arguments)}function gc(){return(gc=(0,Y.Z)(function*(){if((0,Se.ru)()||!(0,Se.zI)()||!(0,Se.hl)())return!1;try{return yield(0,Se.eu)()}catch{return!1}})).apply(this,arguments)}const Lc="@firebase/analytics";!function xs(){(0,me._registerComponent)(new ke.wA(ls,(K,{options:X})=>Mr(K.getProvider("app").getImmediate(),K.getProvider("installations-internal").getImmediate(),X),"PUBLIC")),(0,me._registerComponent)(new ke.wA("analytics-internal",function B(K){try{const X=K.getProvider(ls).getImmediate();return{logEvent:(pe,Ye,ct)=>function za(B,K,X,pe){B=(0,Se.m9)(B),function Wt(B,K,X,pe,Ye){return Zr.apply(this,arguments)}(zs,Ji[B.app.options.appId],K,X,pe).catch(Ye=>ai.error(Ye))}(X,pe,Ye,ct)}}catch(X){throw li.create("interop-component-reg-failed",{reason:X})}},"PRIVATE")),(0,me.registerVersion)(Lc,"0.8.0"),(0,me.registerVersion)(Lc,"0.8.0","esm2017")}();var us=k(4408),Gs=k(7565);const w=new class ko extends Gs.v{}(class _c extends us.o{constructor(K,X){super(K,X),this.scheduler=K,this.work=X}schedule(K,X=0){return X>0?super.schedule(K,X):(this.delay=X,this.state=K,this.scheduler.flush(this),this)}execute(K,X){return X>0||this.closed?super.execute(K,X):this._execute(K,X)}requestAsyncId(K,X,pe=0){return null!=pe&&pe>0||null==pe&&this.delay>0?super.requestAsyncId(K,X,pe):K.flush(this)}});var T=k(4986),F=k(8505),W=k(9468),J=k(5363);const ce=new y.GfV("7.4.1"),we="__angularfire_symbol__analyticsIsSupportedValue",dt="__angularfire_symbol__analyticsIsSupported",Qt="__angularfire_symbol__remoteConfigIsSupportedValue",Yn="__angularfire_symbol__remoteConfigIsSupported",mn="__angularfire_symbol__messagingIsSupportedValue",Xn="__angularfire_symbol__messagingIsSupported";function da(B,K,X){if(K){if(1===K.length)return K[0];const ct=K.filter(Rt=>Rt.app===X);if(1===ct.length)return ct[0]}return X.container.getProvider(B).getImmediate({optional:!0})}globalThis[dt]||(globalThis[dt]=rn().then(B=>globalThis[we]=B).catch(()=>globalThis[we]=!1)),globalThis[Xn]||(globalThis[Xn]=un().then(B=>globalThis[mn]=B).catch(()=>globalThis[mn]=!1)),globalThis[Yn]||(globalThis[Yn]=Cs().then(B=>globalThis[Qt]=B).catch(()=>globalThis[Qt]=!1));const di=(B,K)=>{const X=K?[K]:(0,g.C6)(),pe=[];return X.forEach(Ye=>{Ye.container.getProvider(B).instances.forEach(Rt=>{pe.includes(Rt)||pe.push(Rt)})}),pe};function xr(){}class ha{constructor(K,X=w){this.zone=K,this.delegate=X}now(){return this.delegate.now()}schedule(K,X,pe){const Ye=this.zone;return this.delegate.schedule(function(Rt){Ye.runGuarded(()=>{K.apply(this,[Rt])})},X,pe)}}class fl{constructor(K){this.zone=K,this.task=null}call(K,X){const pe=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",xr,{},xr,xr)),X.pipe((0,F.b)({next:pe,complete:pe,error:pe})).subscribe(K).add(pe)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let qs=(()=>{class B{constructor(X){this.ngZone=X,this.outsideAngular=X.runOutsideAngular(()=>new ha(Zone.current)),this.insideAngular=X.run(()=>new ha(Zone.current,T.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return B.\u0275fac=function(X){return new(X||B)(y.LFG(y.R0b))},B.\u0275prov=y.Yz7({token:B,factory:B.\u0275fac,providedIn:"root"}),B})();function fa(){const B=globalThis.\u0275AngularFireScheduler;if(!B)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return B}function so(B){return fa(),function Nc(B){return function(X){return(X=X.lift(new fl(B.ngZone))).pipe((0,W.R)(B.outsideAngular),(0,J.Q)(B.insideAngular))}}(fa())(B)}},2090:(ft,Ue,k)=>{k.d(Ue,{$s:()=>Un,BH:()=>Et,G6:()=>Tt,L:()=>Fe,LL:()=>At,Mn:()=>$e,Sg:()=>ot,UG:()=>rt,US:()=>ke,ZB:()=>ge,ZR:()=>Xe,b$:()=>Ht,d:()=>Le,eu:()=>Je,hl:()=>oe,jU:()=>je,m9:()=>Mn,ne:()=>Nn,pd:()=>kn,r3:()=>Te,ru:()=>Re,tV:()=>Qe,uI:()=>Nt,vZ:()=>tr,w1:()=>Me,xO:()=>Zn,xb:()=>Ut,z$:()=>nt,zI:()=>de,zd:()=>Dn});const me=function(Ae){const ve=[];let _e=0;for(let Oe=0;Oe<Ae.length;Oe++){let be=Ae.charCodeAt(Oe);be<128?ve[_e++]=be:be<2048?(ve[_e++]=be>>6|192,ve[_e++]=63&be|128):55296==(64512&be)&&Oe+1<Ae.length&&56320==(64512&Ae.charCodeAt(Oe+1))?(be=65536+((1023&be)<<10)+(1023&Ae.charCodeAt(++Oe)),ve[_e++]=be>>18|240,ve[_e++]=be>>12&63|128,ve[_e++]=be>>6&63|128,ve[_e++]=63&be|128):(ve[_e++]=be>>12|224,ve[_e++]=be>>6&63|128,ve[_e++]=63&be|128)}return ve},ke={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Ae,ve){if(!Array.isArray(Ae))throw Error("encodeByteArray takes an array as a parameter");this.init_();const _e=ve?this.byteToCharMapWebSafe_:this.byteToCharMap_,Oe=[];for(let be=0;be<Ae.length;be+=3){const Ct=Ae[be],jt=be+1<Ae.length,tn=jt?Ae[be+1]:0,cr=be+2<Ae.length,or=cr?Ae[be+2]:0;let Ln=(15&tn)<<2|or>>6,mr=63&or;cr||(mr=64,jt||(Ln=64)),Oe.push(_e[Ct>>2],_e[(3&Ct)<<4|tn>>4],_e[Ln],_e[mr])}return Oe.join("")},encodeString(Ae,ve){return this.HAS_NATIVE_SUPPORT&&!ve?btoa(Ae):this.encodeByteArray(me(Ae),ve)},decodeString(Ae,ve){return this.HAS_NATIVE_SUPPORT&&!ve?atob(Ae):function(Ae){const ve=[];let _e=0,Oe=0;for(;_e<Ae.length;){const be=Ae[_e++];if(be<128)ve[Oe++]=String.fromCharCode(be);else if(be>191&&be<224){const Ct=Ae[_e++];ve[Oe++]=String.fromCharCode((31&be)<<6|63&Ct)}else if(be>239&&be<365){const cr=((7&be)<<18|(63&Ae[_e++])<<12|(63&Ae[_e++])<<6|63&Ae[_e++])-65536;ve[Oe++]=String.fromCharCode(55296+(cr>>10)),ve[Oe++]=String.fromCharCode(56320+(1023&cr))}else{const Ct=Ae[_e++],jt=Ae[_e++];ve[Oe++]=String.fromCharCode((15&be)<<12|(63&Ct)<<6|63&jt)}}return ve.join("")}(this.decodeStringToByteArray(Ae,ve))},decodeStringToByteArray(Ae,ve){this.init_();const _e=ve?this.charToByteMapWebSafe_:this.charToByteMap_,Oe=[];for(let be=0;be<Ae.length;){const Ct=_e[Ae.charAt(be++)],tn=be<Ae.length?_e[Ae.charAt(be)]:0;++be;const or=be<Ae.length?_e[Ae.charAt(be)]:64;++be;const Fn=be<Ae.length?_e[Ae.charAt(be)]:64;if(++be,null==Ct||null==tn||null==or||null==Fn)throw Error();Oe.push(Ct<<2|tn>>4),64!==or&&(Oe.push(tn<<4&240|or>>2),64!==Fn&&Oe.push(or<<6&192|Fn))}return Oe},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Ae=0;Ae<this.ENCODED_VALS.length;Ae++)this.byteToCharMap_[Ae]=this.ENCODED_VALS.charAt(Ae),this.charToByteMap_[this.byteToCharMap_[Ae]]=Ae,this.byteToCharMapWebSafe_[Ae]=this.ENCODED_VALS_WEBSAFE.charAt(Ae),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Ae]]=Ae,Ae>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Ae)]=Ae,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Ae)]=Ae)}}},Fe=function(Ae){return function(Ae){const ve=me(Ae);return ke.encodeByteArray(ve,!0)}(Ae).replace(/\./g,"")},Qe=function(Ae){try{return ke.decodeString(Ae,!0)}catch(ve){console.error("base64Decode failed: ",ve)}return null};function ge(Ae,ve){if(!(ve instanceof Object))return ve;switch(ve.constructor){case Date:return new Date(ve.getTime());case Object:void 0===Ae&&(Ae={});break;case Array:Ae=[];break;default:return ve}for(const _e in ve)!ve.hasOwnProperty(_e)||!Pe(_e)||(Ae[_e]=ge(Ae[_e],ve[_e]));return Ae}function Pe(Ae){return"__proto__"!==Ae}class Et{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((ve,_e)=>{this.resolve=ve,this.reject=_e})}wrapCallback(ve){return(_e,Oe)=>{_e?this.reject(_e):this.resolve(Oe),"function"==typeof ve&&(this.promise.catch(()=>{}),1===ve.length?ve(_e):ve(_e,Oe))}}}function ot(Ae,ve){if(Ae.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Oe=ve||"demo-project",be=Ae.iat||0,Ct=Ae.sub||Ae.user_id;if(!Ct)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const jt=Object.assign({iss:`https://securetoken.google.com/${Oe}`,aud:Oe,iat:be,exp:be+3600,auth_time:be,sub:Ct,user_id:Ct,firebase:{sign_in_provider:"custom",identities:{}}},Ae);return[Fe(JSON.stringify({alg:"none",type:"JWT"})),Fe(JSON.stringify(jt)),""].join(".")}function nt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Nt(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(nt())}function rt(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function je(){return"object"==typeof self&&self.self===self}function Re(){const Ae="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Ae&&void 0!==Ae.id}function Ht(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Le(){return nt().indexOf("Electron/")>=0}function Me(){const Ae=nt();return Ae.indexOf("MSIE ")>=0||Ae.indexOf("Trident/")>=0}function $e(){return nt().indexOf("MSAppHost/")>=0}function Tt(){return!rt()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function oe(){return"object"==typeof indexedDB}function Je(){return new Promise((Ae,ve)=>{try{let _e=!0;const Oe="validate-browser-context-for-indexeddb-analytics-module",be=self.indexedDB.open(Oe);be.onsuccess=()=>{be.result.close(),_e||self.indexedDB.deleteDatabase(Oe),Ae(!0)},be.onupgradeneeded=()=>{_e=!1},be.onerror=()=>{var Ct;ve((null===(Ct=be.error)||void 0===Ct?void 0:Ct.message)||"")}}catch(_e){ve(_e)}})}function de(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Xe extends Error{constructor(ve,_e,Oe){super(_e),this.code=ve,this.customData=Oe,this.name="FirebaseError",Object.setPrototypeOf(this,Xe.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,At.prototype.create)}}class At{constructor(ve,_e,Oe){this.service=ve,this.serviceName=_e,this.errors=Oe}create(ve,..._e){const Oe=_e[0]||{},be=`${this.service}/${ve}`,Ct=this.errors[ve],jt=Ct?function Ft(Ae,ve){return Ae.replace(Gt,(_e,Oe)=>{const be=ve[Oe];return null!=be?String(be):`<${Oe}?>`})}(Ct,Oe):"Error";return new Xe(be,`${this.serviceName}: ${jt} (${be}).`,Oe)}}const Gt=/\{\$([^}]+)}/g;function Te(Ae,ve){return Object.prototype.hasOwnProperty.call(Ae,ve)}function Ut(Ae){for(const ve in Ae)if(Object.prototype.hasOwnProperty.call(Ae,ve))return!1;return!0}function tr(Ae,ve){if(Ae===ve)return!0;const _e=Object.keys(Ae),Oe=Object.keys(ve);for(const be of _e){if(!Oe.includes(be))return!1;const Ct=Ae[be],jt=ve[be];if(lr(Ct)&&lr(jt)){if(!tr(Ct,jt))return!1}else if(Ct!==jt)return!1}for(const be of Oe)if(!_e.includes(be))return!1;return!0}function lr(Ae){return null!==Ae&&"object"==typeof Ae}function Zn(Ae){const ve=[];for(const[_e,Oe]of Object.entries(Ae))Array.isArray(Oe)?Oe.forEach(be=>{ve.push(encodeURIComponent(_e)+"="+encodeURIComponent(be))}):ve.push(encodeURIComponent(_e)+"="+encodeURIComponent(Oe));return ve.length?"&"+ve.join("&"):""}function Dn(Ae){const ve={};return Ae.replace(/^\?/,"").split("&").forEach(Oe=>{if(Oe){const[be,Ct]=Oe.split("=");ve[decodeURIComponent(be)]=decodeURIComponent(Ct)}}),ve}function kn(Ae){const ve=Ae.indexOf("?");if(!ve)return"";const _e=Ae.indexOf("#",ve);return Ae.substring(ve,_e>0?_e:void 0)}function Nn(Ae,ve){const _e=new xt(Ae,ve);return _e.subscribe.bind(_e)}class xt{constructor(ve,_e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=_e,this.task.then(()=>{ve(this)}).catch(Oe=>{this.error(Oe)})}next(ve){this.forEachObserver(_e=>{_e.next(ve)})}error(ve){this.forEachObserver(_e=>{_e.error(ve)}),this.close(ve)}complete(){this.forEachObserver(ve=>{ve.complete()}),this.close()}subscribe(ve,_e,Oe){let be;if(void 0===ve&&void 0===_e&&void 0===Oe)throw new Error("Missing Observer.");be=function gr(Ae,ve){if("object"!=typeof Ae||null===Ae)return!1;for(const _e of ve)if(_e in Ae&&"function"==typeof Ae[_e])return!0;return!1}(ve,["next","error","complete"])?ve:{next:ve,error:_e,complete:Oe},void 0===be.next&&(be.next=Er),void 0===be.error&&(be.error=Er),void 0===be.complete&&(be.complete=Er);const Ct=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?be.error(this.finalError):be.complete()}catch{}}),this.observers.push(be),Ct}unsubscribeOne(ve){void 0===this.observers||void 0===this.observers[ve]||(delete this.observers[ve],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(ve){if(!this.finalized)for(let _e=0;_e<this.observers.length;_e++)this.sendOne(_e,ve)}sendOne(ve,_e){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[ve])try{_e(this.observers[ve])}catch(Oe){typeof console<"u"&&console.error&&console.error(Oe)}})}close(ve){this.finalized||(this.finalized=!0,void 0!==ve&&(this.finalError=ve),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Er(){}function Un(Ae,ve=1e3,_e=2){const Oe=ve*Math.pow(_e,Ae),be=Math.round(.5*Oe*(Math.random()-.5)*2);return Math.min(144e5,Oe+be)}function Mn(Ae){return Ae&&Ae._delegate?Ae._delegate:Ae}},184:(ft,Ue,k)=>{k.d(Ue,{D:()=>Y});var y=k(7579),g=k(4650);let Y=(()=>{class me{constructor(){this.isLoading=new y.x}show(){this.isLoading.next(!0)}hide(){this.isLoading.next(!1)}}return me.\u0275fac=function(ke){return new(ke||me)},me.\u0275prov=g.Yz7({token:me,factory:me.\u0275fac,providedIn:"root"}),me})()},8458:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{G:()=>LoginComponent});var _shared_validations__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2596),_angular_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(4650),_angular_fire_compat_auth__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(1205),_services_firestore_service__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(3261),_angular_router__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(1779),_angular_forms__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(4006);let LoginComponent=(()=>{class LoginComponent{constructor(ft,Ue,k){this.auth=ft,this.firestore=Ue,this.route=k,this.userid="",this.password="",this.validations=[],this.touched=!1,this.validated=!1,this.errors={}}ngOnInit(){this.firestore.auth.signOut(),this.loadValidation()}loadValidation(){this.validated=!1,this.touched=!1,this.errors={},this.validations=_shared_validations__WEBPACK_IMPORTED_MODULE_0__.n.filter(ft=>["userid","password"].includes(ft.ctrl))}login(){this.touched=!0,this.firestore.loader.show(),this.validate()&&this.auth.signInWithEmailAndPassword(this.userid,this.password).then(ft=>{this.firestore.loader.hide(),console.log("User Login Success ",ft),this.firestore.toast.success(this.userid,"User Login Success"),this.route.navigate(["dashboard"])}).catch(ft=>{this.firestore.loader.hide(),console.error(ft),this.handleError(ft.code)})}handleError(ft){switch(ft){case"auth/user-not-found":this.firestore.toast.error("User not Registered, Please register "+this.userid,"Login Error");break;case"auth/wrong-password":this.firestore.toast.error("Invalid Password, Please use forgot password","Login Error");break;default:this.firestore.toast.error("Unable to login "+this.userid,"Login Error")}}validate(){let errs={},validated=!0;if(this.touched)return this.validations.forEach(v=>{for(var c in v.chcks)if(eval(v.chcks[c].chck)){validated=!1,errs[v.ctrl]=v.chcks[c].msg;break}}),this.validated=validated,this.errors=errs,validated}}return LoginComponent.\u0275fac=function ft(Ue){return new(Ue||LoginComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Y36(_angular_fire_compat_auth__WEBPACK_IMPORTED_MODULE_2__.zQ),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Y36(_services_firestore_service__WEBPACK_IMPORTED_MODULE_3__.C),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Y36(_angular_router__WEBPACK_IMPORTED_MODULE_4__.F0))},LoginComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_1__.Xpm({type:LoginComponent,selectors:[["app-login"]],decls:35,vars:4,consts:[[1,"container","h-100"],[1,"row","justify-content-sm-center","h-100"],[1,"col-xxl-4","col-xl-5","col-lg-5","col-md-7","col-sm-9"],[1,"text-center","my-5"],[1,"card","shadow-lg"],[1,"card-body","p-5"],[1,"fs-4","card-title","fw-bold","mb-4"],["method","POST","novalidate","","autocomplete","off",1,"needs-validation"],[1,"mb-1"],[1,"text-muted"],[1,"text-danger"],["type","text","id","username","placeholder","Email ID","name","username",1,"form-control",3,"ngModel","ngModelChange"],[1,"error"],["type","password","id","password","name","password","placeholder","Password",1,"form-control",3,"ngModel","ngModelChange"],[1,"m-1"],["href","forgot.html"],[1,"my-2","text-center"],["type","submit",1,"btn","btn-primary","ms-auto","w-50",3,"click"],[1,"my-3","text-center"],["routerLink","/register/consultant",1,"text-dark"]],template:function ft(Ue,k){1&Ue&&(_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(0,"div",0)(1,"div",1)(2,"div",2),_angular_core__WEBPACK_IMPORTED_MODULE_1__._UZ(3,"div",3),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(4,"div",4)(5,"div",5)(6,"h1",6),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(7,"Login"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(8,"form",7)(9,"div",8)(10,"label",9),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(11,"User ID"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(12,"span",10),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(13,"*"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(14,"input",11),_angular_core__WEBPACK_IMPORTED_MODULE_1__.NdJ("ngModelChange",function(g){return k.userid=g}),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(15,"span",12),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(16),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(17,"div",8)(18,"label",9),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(19,"Password"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(20,"span",10),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(21,"*"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(22,"input",13),_angular_core__WEBPACK_IMPORTED_MODULE_1__.NdJ("ngModelChange",function(g){return k.password=g}),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(23,"span",12),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(24),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(25,"div",14)(26,"a",15),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(27," Forgot Password? "),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(28,"div",16)(29,"button",17),_angular_core__WEBPACK_IMPORTED_MODULE_1__.NdJ("click",function(){return k.login()}),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(30," Login "),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(31,"div",18),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(32," Don't have an account? "),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(33,"a",19),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(34,"Register Now"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()()()()()()()()),2&Ue&&(_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(14),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Q6J("ngModel",k.userid),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Oqu(k.errors.userid),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(6),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Q6J("ngModel",k.password),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Oqu(k.errors.password))},dependencies:[_angular_forms__WEBPACK_IMPORTED_MODULE_5__._Y,_angular_forms__WEBPACK_IMPORTED_MODULE_5__.Fj,_angular_forms__WEBPACK_IMPORTED_MODULE_5__.JJ,_angular_forms__WEBPACK_IMPORTED_MODULE_5__.JL,_angular_forms__WEBPACK_IMPORTED_MODULE_5__.On,_angular_forms__WEBPACK_IMPORTED_MODULE_5__.F,_angular_router__WEBPACK_IMPORTED_MODULE_4__.yS],styles:[".error[_ngcontent-%COMP%]{color:#f61e37;font-size:12px;margin-bottom:0;padding-left:3px}"]}),LoginComponent})()},9087:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{y:()=>RegisterComponent});var _shared_validations__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2596),_angular_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(4650),_angular_router__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(1779),_services_base_data_service__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(9668),_services_firestore_service__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(3261),_angular_common__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(6895),_angular_forms__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(4006);function RegisterComponent_div_0_option_29_Template(ft,Ue){if(1&ft&&(_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(0,"option",27),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(1),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()),2&ft){const k=Ue.$implicit;_angular_core__WEBPACK_IMPORTED_MODULE_1__.Q6J("value",k),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Oqu(k)}}function RegisterComponent_div_0_option_60_Template(ft,Ue){if(1&ft&&(_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(0,"option",27),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(1),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()),2&ft){const k=Ue.$implicit;_angular_core__WEBPACK_IMPORTED_MODULE_1__.Q6J("value",k),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Oqu(k)}}function RegisterComponent_div_0_option_72_Template(ft,Ue){if(1&ft&&(_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(0,"option",27),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(1),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()),2&ft){const k=Ue.$implicit;_angular_core__WEBPACK_IMPORTED_MODULE_1__.Q6J("value",k),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Oqu(k)}}function RegisterComponent_div_0_Template(ft,Ue){if(1&ft){const k=_angular_core__WEBPACK_IMPORTED_MODULE_1__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(0,"div",1),_angular_core__WEBPACK_IMPORTED_MODULE_1__.NdJ("keyup",function(){_angular_core__WEBPACK_IMPORTED_MODULE_1__.CHM(k);const g=_angular_core__WEBPACK_IMPORTED_MODULE_1__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_1__.KtG(g.validate())})("change",function(){_angular_core__WEBPACK_IMPORTED_MODULE_1__.CHM(k);const g=_angular_core__WEBPACK_IMPORTED_MODULE_1__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_1__.KtG(g.validate())}),_angular_core__WEBPACK_IMPORTED_MODULE_1__._UZ(1,"div",2),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(2,"div",3)(3,"div",4)(4,"h2"),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(5,"Company Registration "),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(6,"div",4)(7,"span",5),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(8,"Are you consultant? Register here"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_1__._UZ(9,"br"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(10,"span",6),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(11,"Already Registered? Login now"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()()(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(12,"div",3)(13,"div",4)(14,"label"),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(15,"Company Name"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(16,"span",7),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(17,"*"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(18,"input",8),_angular_core__WEBPACK_IMPORTED_MODULE_1__.NdJ("ngModelChange",function(g){_angular_core__WEBPACK_IMPORTED_MODULE_1__.CHM(k);const Y=_angular_core__WEBPACK_IMPORTED_MODULE_1__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_1__.KtG(Y.companyname=g)}),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(19,"span",9),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(20),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(21,"div",4)(22,"label"),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(23,"Industry"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(24,"span",7),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(25,"*"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(26,"select",10),_angular_core__WEBPACK_IMPORTED_MODULE_1__.NdJ("ngModelChange",function(g){_angular_core__WEBPACK_IMPORTED_MODULE_1__.CHM(k);const Y=_angular_core__WEBPACK_IMPORTED_MODULE_1__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_1__.KtG(Y.industry=g)}),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(27,"option",11),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(28,"Choose Industry"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.YNc(29,RegisterComponent_div_0_option_29_Template,2,2,"option",12),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(30,"span",9),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(31),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()()(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(32,"div",3)(33,"div",13)(34,"label"),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(35,"Company Address"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(36,"span",7),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(37,"*"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(38,"input",14),_angular_core__WEBPACK_IMPORTED_MODULE_1__.NdJ("ngModelChange",function(g){_angular_core__WEBPACK_IMPORTED_MODULE_1__.CHM(k);const Y=_angular_core__WEBPACK_IMPORTED_MODULE_1__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_1__.KtG(Y.address=g)}),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(39,"span",9),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(40),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()()(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(41,"div",3)(42,"div",4)(43,"label"),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(44,"Country"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(45,"span",7),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(46,"*"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(47,"select",15),_angular_core__WEBPACK_IMPORTED_MODULE_1__.NdJ("ngModelChange",function(g){_angular_core__WEBPACK_IMPORTED_MODULE_1__.CHM(k);const Y=_angular_core__WEBPACK_IMPORTED_MODULE_1__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_1__.KtG(Y.country=g)}),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(48,"option",16),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(49,"INDIA"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(50,"span",9),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(51),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(52,"div",4)(53,"label"),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(54,"State"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(55,"span",7),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(56,"*"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(57,"select",17),_angular_core__WEBPACK_IMPORTED_MODULE_1__.NdJ("ngModelChange",function(g){_angular_core__WEBPACK_IMPORTED_MODULE_1__.CHM(k);const Y=_angular_core__WEBPACK_IMPORTED_MODULE_1__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_1__.KtG(Y.state=g)})("change",function(){_angular_core__WEBPACK_IMPORTED_MODULE_1__.CHM(k);const g=_angular_core__WEBPACK_IMPORTED_MODULE_1__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_1__.KtG(g.cities=g.state_city_map[g.state])}),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(58,"option",11),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(59,"Choose State"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.YNc(60,RegisterComponent_div_0_option_60_Template,2,2,"option",12),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(61,"span",9),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(62),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()()(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(63,"div",3)(64,"div",4)(65,"label"),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(66,"City"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(67,"span",7),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(68,"*"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(69,"select",18),_angular_core__WEBPACK_IMPORTED_MODULE_1__.NdJ("ngModelChange",function(g){_angular_core__WEBPACK_IMPORTED_MODULE_1__.CHM(k);const Y=_angular_core__WEBPACK_IMPORTED_MODULE_1__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_1__.KtG(Y.city=g)}),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(70,"option",11),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(71,"Choose City"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.YNc(72,RegisterComponent_div_0_option_72_Template,2,2,"option",12),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(73,"span",9),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(74),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(75,"div",4)(76,"label"),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(77,"Pincode"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(78,"span",7),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(79,"*"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(80,"input",19),_angular_core__WEBPACK_IMPORTED_MODULE_1__.NdJ("ngModelChange",function(g){_angular_core__WEBPACK_IMPORTED_MODULE_1__.CHM(k);const Y=_angular_core__WEBPACK_IMPORTED_MODULE_1__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_1__.KtG(Y.pincode=g)}),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(81,"span",9),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(82),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()()(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(83,"div",3)(84,"div",4)(85,"label"),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(86,"User ID"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(87,"span",7),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(88,"*"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(89,"input",20),_angular_core__WEBPACK_IMPORTED_MODULE_1__.NdJ("ngModelChange",function(g){_angular_core__WEBPACK_IMPORTED_MODULE_1__.CHM(k);const Y=_angular_core__WEBPACK_IMPORTED_MODULE_1__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_1__.KtG(Y.userid=g)}),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(90,"span",9),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(91),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(92,"div",4)(93,"label"),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(94,"Contact Number"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(95,"span",7),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(96,"*"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(97,"input",21),_angular_core__WEBPACK_IMPORTED_MODULE_1__.NdJ("ngModelChange",function(g){_angular_core__WEBPACK_IMPORTED_MODULE_1__.CHM(k);const Y=_angular_core__WEBPACK_IMPORTED_MODULE_1__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_1__.KtG(Y.contact=g)}),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(98,"span",9),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(99),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()()(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(100,"div",3)(101,"div",4)(102,"label"),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(103,"Login Password"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(104,"span",7),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(105,"*"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(106,"input",22),_angular_core__WEBPACK_IMPORTED_MODULE_1__.NdJ("ngModelChange",function(g){_angular_core__WEBPACK_IMPORTED_MODULE_1__.CHM(k);const Y=_angular_core__WEBPACK_IMPORTED_MODULE_1__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_1__.KtG(Y.password=g)}),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(107,"span",9),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(108),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(109,"div",4)(110,"label"),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(111,"Confirm Password"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(112,"span",7),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(113,"*"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(114,"input",23),_angular_core__WEBPACK_IMPORTED_MODULE_1__.NdJ("ngModelChange",function(g){_angular_core__WEBPACK_IMPORTED_MODULE_1__.CHM(k);const Y=_angular_core__WEBPACK_IMPORTED_MODULE_1__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_1__.KtG(Y.cpassword=g)}),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(115,"span",9),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(116),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()()(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(117,"div",24)(118,"div",25)(119,"button",26),_angular_core__WEBPACK_IMPORTED_MODULE_1__.NdJ("click",function(){_angular_core__WEBPACK_IMPORTED_MODULE_1__.CHM(k);const g=_angular_core__WEBPACK_IMPORTED_MODULE_1__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_1__.KtG(g.register())}),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(120,"Register"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()()()()}if(2&ft){const k=_angular_core__WEBPACK_IMPORTED_MODULE_1__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(18),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Q6J("ngModel",k.companyname),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Oqu(k.errors.companyname),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(6),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Q6J("ngModel",k.industry),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(3),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Q6J("ngForOf",k.industries),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Oqu(k.errors.industry),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(7),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Q6J("ngModel",k.address),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Oqu(k.errors.address),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(7),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Q6J("ngModel",k.country),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(4),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Oqu(k.errors.country),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(6),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Q6J("ngModel",k.state),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(3),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Q6J("ngForOf",k.states),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Oqu(k.errors.state),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(7),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Q6J("ngModel",k.city),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(3),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Q6J("ngForOf",k.cities),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Oqu(k.errors.city),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(6),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Q6J("ngModel",k.pincode),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Oqu(k.errors.pincode),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(7),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Q6J("ngModel",k.userid),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Oqu(k.errors.userid),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(6),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Q6J("ngModel",k.contact),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Oqu(k.errors.contact),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(7),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Q6J("ngModel",k.password),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Oqu(k.errors.password),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(6),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Q6J("ngModel",k.cpassword),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Oqu(k.errors.cpassword),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(3),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Q6J("disabled",k.touched&&!k.validated)}}function RegisterComponent_div_1_option_57_Template(ft,Ue){if(1&ft&&(_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(0,"option",27),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(1),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()),2&ft){const k=Ue.$implicit;_angular_core__WEBPACK_IMPORTED_MODULE_1__.Q6J("value",k),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Oqu(k)}}function RegisterComponent_div_1_option_69_Template(ft,Ue){if(1&ft&&(_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(0,"option",27),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(1),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()),2&ft){const k=Ue.$implicit;_angular_core__WEBPACK_IMPORTED_MODULE_1__.Q6J("value",k),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Oqu(k)}}function RegisterComponent_div_1_Template(ft,Ue){if(1&ft){const k=_angular_core__WEBPACK_IMPORTED_MODULE_1__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(0,"div",1),_angular_core__WEBPACK_IMPORTED_MODULE_1__.NdJ("keyup",function(){_angular_core__WEBPACK_IMPORTED_MODULE_1__.CHM(k);const g=_angular_core__WEBPACK_IMPORTED_MODULE_1__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_1__.KtG(g.validate())})("change",function(){_angular_core__WEBPACK_IMPORTED_MODULE_1__.CHM(k);const g=_angular_core__WEBPACK_IMPORTED_MODULE_1__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_1__.KtG(g.validate())}),_angular_core__WEBPACK_IMPORTED_MODULE_1__._UZ(1,"div",2),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(2,"div",3)(3,"div",4)(4,"h2"),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(5,"Consultant Registration "),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(6,"div",4)(7,"span",28),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(8,"Are you company? Register here"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_1__._UZ(9,"br"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(10,"span",6),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(11,"Already Registered? Login now"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()()(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(12,"div",3)(13,"div",4)(14,"label"),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(15,"First Name"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(16,"span",7),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(17,"*"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(18,"input",29),_angular_core__WEBPACK_IMPORTED_MODULE_1__.NdJ("ngModelChange",function(g){_angular_core__WEBPACK_IMPORTED_MODULE_1__.CHM(k);const Y=_angular_core__WEBPACK_IMPORTED_MODULE_1__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_1__.KtG(Y.firstname=g)}),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(19,"span",9),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(20),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(21,"div",4)(22,"label"),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(23,"Last Name"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(24,"span",7),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(25,"*"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(26,"input",30),_angular_core__WEBPACK_IMPORTED_MODULE_1__.NdJ("ngModelChange",function(g){_angular_core__WEBPACK_IMPORTED_MODULE_1__.CHM(k);const Y=_angular_core__WEBPACK_IMPORTED_MODULE_1__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_1__.KtG(Y.lastname=g)}),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(27,"span",9),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(28),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()()(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(29,"div",3)(30,"div",13)(31,"label"),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(32,"Address"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(33,"span",7),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(34,"*"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(35,"input",14),_angular_core__WEBPACK_IMPORTED_MODULE_1__.NdJ("ngModelChange",function(g){_angular_core__WEBPACK_IMPORTED_MODULE_1__.CHM(k);const Y=_angular_core__WEBPACK_IMPORTED_MODULE_1__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_1__.KtG(Y.address=g)}),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(36,"span",9),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(37),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()()(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(38,"div",3)(39,"div",4)(40,"label"),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(41,"Country"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(42,"span",7),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(43,"*"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(44,"select",15),_angular_core__WEBPACK_IMPORTED_MODULE_1__.NdJ("ngModelChange",function(g){_angular_core__WEBPACK_IMPORTED_MODULE_1__.CHM(k);const Y=_angular_core__WEBPACK_IMPORTED_MODULE_1__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_1__.KtG(Y.country=g)}),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(45,"option",16),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(46,"INDIA"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(47,"span",9),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(48),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(49,"div",4)(50,"label"),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(51,"State"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(52,"span",7),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(53,"*"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(54,"select",17),_angular_core__WEBPACK_IMPORTED_MODULE_1__.NdJ("ngModelChange",function(g){_angular_core__WEBPACK_IMPORTED_MODULE_1__.CHM(k);const Y=_angular_core__WEBPACK_IMPORTED_MODULE_1__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_1__.KtG(Y.state=g)})("change",function(){_angular_core__WEBPACK_IMPORTED_MODULE_1__.CHM(k);const g=_angular_core__WEBPACK_IMPORTED_MODULE_1__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_1__.KtG(g.cities=g.state_city_map[g.state])}),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(55,"option",11),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(56,"Choose State"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.YNc(57,RegisterComponent_div_1_option_57_Template,2,2,"option",12),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(58,"span",9),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(59),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()()(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(60,"div",3)(61,"div",4)(62,"label"),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(63,"City"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(64,"span",7),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(65,"*"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(66,"select",18),_angular_core__WEBPACK_IMPORTED_MODULE_1__.NdJ("ngModelChange",function(g){_angular_core__WEBPACK_IMPORTED_MODULE_1__.CHM(k);const Y=_angular_core__WEBPACK_IMPORTED_MODULE_1__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_1__.KtG(Y.city=g)}),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(67,"option",11),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(68,"Choose City"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.YNc(69,RegisterComponent_div_1_option_69_Template,2,2,"option",12),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(70,"span",9),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(71),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(72,"div",4)(73,"label"),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(74,"Pincode"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(75,"span",7),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(76,"*"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(77,"input",19),_angular_core__WEBPACK_IMPORTED_MODULE_1__.NdJ("ngModelChange",function(g){_angular_core__WEBPACK_IMPORTED_MODULE_1__.CHM(k);const Y=_angular_core__WEBPACK_IMPORTED_MODULE_1__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_1__.KtG(Y.pincode=g)}),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(78,"span",9),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(79),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()()(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(80,"div",3)(81,"div",4)(82,"label"),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(83,"User ID"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(84,"span",7),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(85,"*"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(86,"input",31),_angular_core__WEBPACK_IMPORTED_MODULE_1__.NdJ("ngModelChange",function(g){_angular_core__WEBPACK_IMPORTED_MODULE_1__.CHM(k);const Y=_angular_core__WEBPACK_IMPORTED_MODULE_1__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_1__.KtG(Y.userid=g)}),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(87,"span",9),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(88),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(89,"div",4)(90,"label"),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(91,"Contact Number"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(92,"span",7),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(93,"*"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(94,"input",21),_angular_core__WEBPACK_IMPORTED_MODULE_1__.NdJ("ngModelChange",function(g){_angular_core__WEBPACK_IMPORTED_MODULE_1__.CHM(k);const Y=_angular_core__WEBPACK_IMPORTED_MODULE_1__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_1__.KtG(Y.contact=g)}),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(95,"span",9),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(96),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()()(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(97,"div",3)(98,"div",4)(99,"label"),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(100,"Login Password"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(101,"span",7),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(102,"*"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(103,"input",22),_angular_core__WEBPACK_IMPORTED_MODULE_1__.NdJ("ngModelChange",function(g){_angular_core__WEBPACK_IMPORTED_MODULE_1__.CHM(k);const Y=_angular_core__WEBPACK_IMPORTED_MODULE_1__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_1__.KtG(Y.password=g)}),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(104,"span",9),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(105),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(106,"div",4)(107,"label"),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(108,"Confirm Password"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(109,"span",7),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(110,"*"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(111,"input",23),_angular_core__WEBPACK_IMPORTED_MODULE_1__.NdJ("ngModelChange",function(g){_angular_core__WEBPACK_IMPORTED_MODULE_1__.CHM(k);const Y=_angular_core__WEBPACK_IMPORTED_MODULE_1__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_1__.KtG(Y.cpassword=g)}),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(112,"span",9),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(113),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()()(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(114,"div",24)(115,"div",25)(116,"button",26),_angular_core__WEBPACK_IMPORTED_MODULE_1__.NdJ("click",function(){_angular_core__WEBPACK_IMPORTED_MODULE_1__.CHM(k);const g=_angular_core__WEBPACK_IMPORTED_MODULE_1__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_1__.KtG(g.register())}),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(117,"Register"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()()()()}if(2&ft){const k=_angular_core__WEBPACK_IMPORTED_MODULE_1__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(18),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Q6J("ngModel",k.firstname),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Oqu(k.errors.firstname),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(6),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Q6J("ngModel",k.lastname),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Oqu(k.errors.lastname),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(7),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Q6J("ngModel",k.address),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Oqu(k.errors.address),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(7),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Q6J("ngModel",k.country),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(4),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Oqu(k.errors.country),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(6),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Q6J("ngModel",k.state),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(3),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Q6J("ngForOf",k.states),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Oqu(k.errors.state),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(7),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Q6J("ngModel",k.city),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(3),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Q6J("ngForOf",k.cities),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Oqu(k.errors.city),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(6),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Q6J("ngModel",k.pincode),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Oqu(k.errors.pincode),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(7),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Q6J("ngModel",k.userid),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Oqu(k.errors.userid),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(6),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Q6J("ngModel",k.contact),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Oqu(k.errors.contact),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(7),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Q6J("ngModel",k.password),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Oqu(k.errors.password),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(6),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Q6J("ngModel",k.cpassword),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Oqu(k.errors.cpassword),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(3),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Q6J("disabled",k.touched&&!k.validated)}}let RegisterComponent=(()=>{class RegisterComponent{constructor(ft,Ue,k,y){this.route=ft,this.router=Ue,this.baseData=k,this.firestore=y,this.types=["company","consultant"],this.type="",this.states=[],this.cities=[],this.industries=[],this.companyname="",this.firstname="",this.lastname="",this.industry="",this.address="",this.country="INDIA",this.state="",this.city="",this.pincode="",this.userid="",this.contact="",this.password="",this.cpassword="",this.validations=[],this.touched=!1,this.validated=!1,this.errors={}}ngOnInit(){this.route.paramMap.subscribe(ft=>{this.type=ft.get("type"),null!=this.type&&!this.types.includes(this.type)&&this.router.navigate(["home"]),this.loadValidation()}),this.load()}load(){this.baseData.getStateCityMap().then(ft=>{this.state_city_map=ft,this.states=Object.keys(this.state_city_map)}),this.baseData.getIndustries().then(ft=>{this.industries=ft})}loadValidation(){this.validated=!1,this.touched=!1,this.errors={},this.validations=_shared_validations__WEBPACK_IMPORTED_MODULE_0__.n.filter(this.type==this.types[0]?ft=>["address","country","state","city","pincode","contact","userid","password","cpassword","companyname","industry"].includes(ft.ctrl):ft=>["address","country","state","city","pincode","contact","userid","password","cpassword","firstname","lastname"].includes(ft.ctrl))}validate(){let errs={},validated=!0;if(this.touched)return this.validations.forEach(v=>{for(var c in v.chcks)if(eval(v.chcks[c].chck)){validated=!1,errs[v.ctrl]=v.chcks[c].msg;break}}),this.validated=validated,this.errors=errs,validated}register(){if(this.touched=!0,!this.validate())return;let ft=this.getUser();this.firestore.register(ft)}getUser(){return this.type==this.types[0]?this.getCompany():this.getConsultant()}getCompany(){return{id:this.userid,email:this.userid,role:this.types[1],name:this.companyname,industry:this.industry,contact:this.contact,address:this.getAddress(),password:this.password}}getConsultant(){return{id:this.userid,email:this.userid,role:this.types[1],firstName:this.firstname,lastName:this.lastname,contact:this.contact,address:this.getAddress(),password:this.password}}getAddress(){return{address:this.address,country:this.country,state:this.state,city:this.city,pincode:this.pincode}}}return RegisterComponent.\u0275fac=function ft(Ue){return new(Ue||RegisterComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Y36(_angular_router__WEBPACK_IMPORTED_MODULE_2__.gz),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Y36(_angular_router__WEBPACK_IMPORTED_MODULE_2__.F0),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Y36(_services_base_data_service__WEBPACK_IMPORTED_MODULE_3__.B),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Y36(_services_firestore_service__WEBPACK_IMPORTED_MODULE_4__.C))},RegisterComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_1__.Xpm({type:RegisterComponent,selectors:[["app-register"]],decls:2,vars:2,consts:[["class","container mt-3",3,"keyup","change",4,"ngIf"],[1,"container","mt-3",3,"keyup","change"],[1,"image-background"],[1,"row"],[1,"col-md-6","col-sm-12","col-xs-12"],["routerLink","/register/consultant",1,"navigation-link"],["routerLink","/login",1,"navigation-link"],[1,"text-danger"],["type","text","id","companyname","placeholder","Company Name","name","companyname",1,"form-control",3,"ngModel","ngModelChange"],[1,"error"],["id","industry","name","industry",1,"form-select",3,"ngModel","ngModelChange"],["disabled","","value",""],[3,"value",4,"ngFor","ngForOf"],[1,"col-md-12","col-sm-12","col-xs-12"],["type","text","id","address","placeholder","Address","name","address",1,"form-control",3,"ngModel","ngModelChange"],["id","country","name","country","disabled","",1,"form-select",3,"ngModel","ngModelChange"],["default","","value","INDIA"],["id","state","name","state",1,"form-select",3,"ngModel","ngModelChange","change"],["id","city","name","city",1,"form-select",3,"ngModel","ngModelChange"],["type","text","id","pincode","placeholder","Pincode","name","pincode",1,"form-control",3,"ngModel","ngModelChange"],["type","text","id","username","placeholder","Company Email","name","username",1,"form-control",3,"ngModel","ngModelChange"],["type","text","id","contact","placeholder","XXXXXXXXX","name","contact",1,"form-control",3,"ngModel","ngModelChange"],["type","password","id","password","name","password",1,"form-control",3,"ngModel","ngModelChange"],["type","password","id","cpassword","name","cpassword",1,"form-control",3,"ngModel","ngModelChange"],[1,"row","place-center"],[1,"col-md-3","col-sm-6","col-xs-12"],[1,"btn","btn-primary","w-100",3,"disabled","click"],[3,"value"],["routerLink","/register/company",1,"navigation-link"],["type","text","id","firstName","placeholder","First Name","name","firstname",1,"form-control",3,"ngModel","ngModelChange"],["type","text","id","lastName","placeholder","Last Name","name","lastname",1,"form-control",3,"ngModel","ngModelChange"],["type","text","id","username","placeholder","User Email ID","name","username",1,"form-control",3,"ngModel","ngModelChange"]],template:function ft(Ue,k){1&Ue&&(_angular_core__WEBPACK_IMPORTED_MODULE_1__.YNc(0,RegisterComponent_div_0_Template,121,26,"div",0),_angular_core__WEBPACK_IMPORTED_MODULE_1__.YNc(1,RegisterComponent_div_1_Template,118,25,"div",0)),2&Ue&&(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Q6J("ngIf","company"==k.type),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Q6J("ngIf","consultant"==k.type))},dependencies:[_angular_common__WEBPACK_IMPORTED_MODULE_5__.sg,_angular_common__WEBPACK_IMPORTED_MODULE_5__.O5,_angular_forms__WEBPACK_IMPORTED_MODULE_6__.YN,_angular_forms__WEBPACK_IMPORTED_MODULE_6__.Kr,_angular_forms__WEBPACK_IMPORTED_MODULE_6__.Fj,_angular_forms__WEBPACK_IMPORTED_MODULE_6__.EJ,_angular_forms__WEBPACK_IMPORTED_MODULE_6__.JJ,_angular_forms__WEBPACK_IMPORTED_MODULE_6__.On,_angular_router__WEBPACK_IMPORTED_MODULE_2__.rH],styles:[".container[_ngcontent-%COMP%]{max-width:740px}label[_ngcontent-%COMP%]{margin-bottom:.2rem;margin-left:5px;font-size:16px;font-weight:500}h2[_ngcontent-%COMP%]{font-size:25px;text-decoration:underline;-webkit-text-decoration-color:black;text-decoration-color:#000;color:teal}.image-background[_ngcontent-%COMP%]{width:-webkit-fill-available;height:-webkit-fill-available;position:absolute;top:0;left:0;background:url(/assets/icons/tp-icon.png);opacity:.2;background-repeat:no-repeat;background-position:center;z-index:-1}.navigation-link[_ngcontent-%COMP%]{float:right;text-decoration:underline;font-size:12px;cursor:pointer;color:#4169e1;font-weight:400}.navigation-link[_ngcontent-%COMP%]:hover{color:#8b0000}.error[_ngcontent-%COMP%]{color:#f61e37;font-size:12px;margin-bottom:0;padding-left:3px}.btn-primary[_ngcontent-%COMP%]{min-width:130px}"]}),RegisterComponent})()},9668:(ft,Ue,k)=>{k.d(Ue,{B:()=>me});var y=k(8505),g=k(4650),Y=k(529);let me=(()=>{class Se{constructor(Be){this.http=Be}getStateCityMap(){return null!=this.state_city_map?Promise.resolve(this.state_city_map):this.http.get("/assets/collections/state-city.json").pipe((0,y.b)(Be=>this.state_city_map=Be)).toPromise()}getIndustries(){return null!=this.industries?Promise.resolve(this.industries):this.http.get("/assets/collections/industries.json").pipe((0,y.b)(Be=>this.industries=Be)).toPromise()}}return Se.\u0275fac=function(Be){return new(Be||Se)(g.LFG(Y.eN))},Se.\u0275prov=g.Yz7({token:Se,factory:Se.\u0275fac,providedIn:"root"}),Se})()},3261:(ft,Ue,k)=>{k.d(Ue,{C:()=>uc});var y=k(4650),g=k(4986),Y=k(9751),me=k(8996),Se=k(9646),ke=k(5813),Be=k(8675),Fe=k(4482),Qe=k(5403);function he(){return(0,Fe.e)((i,e)=>{let t,o=!1;i.subscribe((0,Qe.x)(e,d=>{const _=t;t=d,o&&e.next([_,d]),o=!0}))})}var oe,ge=k(4004),Pe=k(5026),Et=k(1884),ot=k(9300),nt=k(2011),Nt=k(6895),je=(k(2274),k(3942)),Re=k(5861),Ht=k(9681),Le=k(4859),Me=k(1877),$e=k(2090),It=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Tt={},Je=Je||{},de=It||self;function fe(){}function ze(i){var e=typeof i;return"array"==(e="object"!=e?e:i?Array.isArray(i)?"array":e:"null")||"object"==e&&"number"==typeof i.length}function Xe(i){var e=typeof i;return"object"==e&&null!=i||"function"==e}var Ft="closure_uid_"+(1e9*Math.random()>>>0),Gt=0;function ln(i,e,t){return i.call.apply(i.bind,arguments)}function on(i,e,t){if(!i)throw Error();if(2<arguments.length){var o=Array.prototype.slice.call(arguments,2);return function(){var d=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(d,o),i.apply(e,d)}}return function(){return i.apply(e,arguments)}}function Dt(i,e,t){return(Dt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ln:on).apply(null,arguments)}function En(i,e){var t=Array.prototype.slice.call(arguments,1);return function(){var o=t.slice();return o.push.apply(o,arguments),i.apply(this,o)}}function pn(i,e){function t(){}t.prototype=e.prototype,i.Z=e.prototype,i.prototype=new t,i.prototype.constructor=i,i.Vb=function(o,d,_){for(var D=Array(arguments.length-2),P=2;P<arguments.length;P++)D[P-2]=arguments[P];return e.prototype[d].apply(o,D)}}function it(){this.s=this.s,this.o=this.o}var Te={};it.prototype.s=!1,it.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var i=function At(i){return Object.prototype.hasOwnProperty.call(i,Ft)&&i[Ft]||(i[Ft]=++Gt)}(this);delete Te[i]}},it.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Ge=Array.prototype.indexOf?function(i,e){return Array.prototype.indexOf.call(i,e,void 0)}:function(i,e){if("string"==typeof i)return"string"!=typeof e||1!=e.length?-1:i.indexOf(e,0);for(let t=0;t<i.length;t++)if(t in i&&i[t]===e)return t;return-1},Ut=Array.prototype.forEach?function(i,e,t){Array.prototype.forEach.call(i,e,t)}:function(i,e,t){const o=i.length,d="string"==typeof i?i.split(""):i;for(let _=0;_<o;_++)_ in d&&e.call(t,d[_],_,i)};function tr(i){return Array.prototype.concat.apply([],arguments)}function lr(i){const e=i.length;if(0<e){const t=Array(e);for(let o=0;o<e;o++)t[o]=i[o];return t}return[]}function Hn(i){return/^[\s\xa0]*$/.test(i)}var sr,Zn=String.prototype.trim?function(i){return i.trim()}:function(i){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(i)[1]};function Dn(i,e){return-1!=i.indexOf(e)}function kn(i,e){return i<e?-1:i>e?1:0}e:{var Nn=de.navigator;if(Nn){var xt=Nn.userAgent;if(xt){sr=xt;break e}}sr=""}function qn(i,e,t){for(const o in i)e.call(t,i[o],o,i)}function gr(i){const e={};for(const t in i)e[t]=i[t];return e}var Er="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Yr(i,e){let t,o;for(let d=1;d<arguments.length;d++){for(t in o=arguments[d],o)i[t]=o[t];for(let _=0;_<Er.length;_++)t=Er[_],Object.prototype.hasOwnProperty.call(o,t)&&(i[t]=o[t])}}function Hr(i){return Hr[" "](i),i}Hr[" "]=fe;var An,i,mt=Dn(sr,"Opera"),xe=Dn(sr,"Trident")||Dn(sr,"MSIE"),ye=Dn(sr,"Edge"),lt=ye||xe,yt=Dn(sr,"Gecko")&&!(Dn(sr.toLowerCase(),"webkit")&&!Dn(sr,"Edge"))&&!(Dn(sr,"Trident")||Dn(sr,"MSIE"))&&!Dn(sr,"Edge"),en=Dn(sr.toLowerCase(),"webkit")&&!Dn(sr,"Edge");function Vt(){var i=de.document;return i?i.documentMode:void 0}e:{var Zt="",Un=(i=sr,yt?/rv:([^\);]+)(\)|;)/.exec(i):ye?/Edge\/([\d\.]+)/.exec(i):xe?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):en?/WebKit\/(\S+)/.exec(i):mt?/(?:Version)[ \/]?(\S+)/.exec(i):void 0);if(Un&&(Zt=Un?Un[1]:""),xe){var jn=Vt();if(null!=jn&&jn>parseFloat(Zt)){An=String(jn);break e}}An=Zt}var zr={};var _e=de.document&&xe&&(Vt()||parseInt(An,10))||void 0,Oe=function(){if(!de.addEventListener||!Object.defineProperty)return!1;var i=!1,e=Object.defineProperty({},"passive",{get:function(){i=!0}});try{de.addEventListener("test",fe,e),de.removeEventListener("test",fe,e)}catch{}return i}();function be(i,e){this.type=i,this.g=this.target=e,this.defaultPrevented=!1}function Ct(i,e){if(be.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var t=this.type=i.type,o=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=e,e=i.relatedTarget){if(yt){e:{try{Hr(e.nodeName);var d=!0;break e}catch{}d=!1}d||(e=null)}}else"mouseover"==t?e=i.fromElement:"mouseout"==t&&(e=i.toElement);this.relatedTarget=e,o?(this.clientX=void 0!==o.clientX?o.clientX:o.pageX,this.clientY=void 0!==o.clientY?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType="string"==typeof i.pointerType?i.pointerType:jt[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&Ct.Z.h.call(this)}}be.prototype.h=function(){this.defaultPrevented=!0},pn(Ct,be);var jt={2:"touch",3:"pen",4:"mouse"};Ct.prototype.h=function(){Ct.Z.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var tn="closure_listenable_"+(1e6*Math.random()|0),cr=0;function or(i,e,t,o,d){this.listener=i,this.proxy=null,this.src=e,this.type=t,this.capture=!!o,this.ia=d,this.key=++cr,this.ca=this.fa=!1}function Nr(i){i.ca=!0,i.listener=null,i.proxy=null,i.src=null,i.ia=null}function Fn(i){this.src=i,this.g={},this.h=0}function Ln(i,e){var t=e.type;if(t in i.g){var _,o=i.g[t],d=Ge(o,e);(_=0<=d)&&Array.prototype.splice.call(o,d,1),_&&(Nr(e),0==i.g[t].length&&(delete i.g[t],i.h--))}}function mr(i,e,t,o){for(var d=0;d<i.length;++d){var _=i[d];if(!_.ca&&_.listener==e&&_.capture==!!t&&_.ia==o)return d}return-1}Fn.prototype.add=function(i,e,t,o,d){var _=i.toString();(i=this.g[_])||(i=this.g[_]=[],this.h++);var D=mr(i,e,o,d);return-1<D?(e=i[D],t||(e.fa=!1)):((e=new or(e,this.src,_,!!o,d)).fa=t,i.push(e)),e};var Fr="closure_lm_"+(1e6*Math.random()|0),Ii={};function gi(i,e,t,o,d){if(o&&o.once)return Ee(i,e,t,o,d);if(Array.isArray(e)){for(var _=0;_<e.length;_++)gi(i,e[_],t,o,d);return null}return t=Ur(t),i&&i[tn]?i.N(e,t,Xe(o)?!!o.capture:!!o,d):Br(i,e,t,!1,o,d)}function Br(i,e,t,o,d,_){if(!e)throw Error("Invalid event type");var D=Xe(d)?!!d.capture:!!d,P=Vn(i);if(P||(i[Fr]=P=new Fn(i)),(t=P.add(e,t,o,D,_)).proxy)return t;if(o=function Ie(){var e=sn;return function i(t){return e.call(i.src,i.listener,t)}}(),t.proxy=o,o.src=i,o.listener=t,i.addEventListener)Oe||(d=D),void 0===d&&(d=!1),i.addEventListener(e.toString(),o,d);else if(i.attachEvent)i.attachEvent(bt(e.toString()),o);else{if(!i.addListener||!i.removeListener)throw Error("addEventListener and attachEvent are unavailable.");i.addListener(o)}return t}function Ee(i,e,t,o,d){if(Array.isArray(e)){for(var _=0;_<e.length;_++)Ee(i,e[_],t,o,d);return null}return t=Ur(t),i&&i[tn]?i.O(e,t,Xe(o)?!!o.capture:!!o,d):Br(i,e,t,!0,o,d)}function ae(i,e,t,o,d){if(Array.isArray(e))for(var _=0;_<e.length;_++)ae(i,e[_],t,o,d);else o=Xe(o)?!!o.capture:!!o,t=Ur(t),i&&i[tn]?(i=i.i,(e=String(e).toString())in i.g&&-1<(t=mr(_=i.g[e],t,o,d))&&(Nr(_[t]),Array.prototype.splice.call(_,t,1),0==_.length&&(delete i.g[e],i.h--))):i&&(i=Vn(i))&&(e=i.g[e.toString()],i=-1,e&&(i=mr(e,t,o,d)),(t=-1<i?e[i]:null)&&qe(t))}function qe(i){if("number"!=typeof i&&i&&!i.ca){var e=i.src;if(e&&e[tn])Ln(e.i,i);else{var t=i.type,o=i.proxy;e.removeEventListener?e.removeEventListener(t,o,i.capture):e.detachEvent?e.detachEvent(bt(t),o):e.addListener&&e.removeListener&&e.removeListener(o),(t=Vn(e))?(Ln(t,i),0==t.h&&(t.src=null,e[Fr]=null)):Nr(i)}}}function bt(i){return i in Ii?Ii[i]:Ii[i]="on"+i}function sn(i,e){if(i.ca)i=!0;else{e=new Ct(e,this);var t=i.listener,o=i.ia||i.src;i.fa&&qe(i),i=t.call(o,e)}return i}function Vn(i){return(i=i[Fr])instanceof Fn?i:null}var Kn="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ur(i){return"function"==typeof i?i:(i[Kn]||(i[Kn]=function(e){return i.handleEvent(e)}),i[Kn])}function wr(){it.call(this),this.i=new Fn(this),this.P=this,this.I=null}function hn(i,e){var t,o=i.I;if(o)for(t=[];o;o=o.I)t.push(o);if(i=i.P,o=e.type||e,"string"==typeof e)e=new be(e,i);else if(e instanceof be)e.target=e.target||i;else{var d=e;Yr(e=new be(o,i),d)}if(d=!0,t)for(var _=t.length-1;0<=_;_--){var D=e.g=t[_];d=dr(D,o,!0,e)&&d}if(d=dr(D=e.g=i,o,!0,e)&&d,d=dr(D,o,!1,e)&&d,t)for(_=0;_<t.length;_++)d=dr(D=e.g=t[_],o,!1,e)&&d}function dr(i,e,t,o){if(!(e=i.i.g[String(e)]))return!0;e=e.concat();for(var d=!0,_=0;_<e.length;++_){var D=e[_];if(D&&!D.ca&&D.capture==t){var P=D.listener,j=D.ia||D.src;D.fa&&Ln(i.i,D),d=!1!==P.call(j,o)&&d}}return d&&!o.defaultPrevented}pn(wr,it),wr.prototype[tn]=!0,wr.prototype.removeEventListener=function(i,e,t,o){ae(this,i,e,t,o)},wr.prototype.M=function(){if(wr.Z.M.call(this),this.i){var e,i=this.i;for(e in i.g){for(var t=i.g[e],o=0;o<t.length;o++)Nr(t[o]);delete i.g[e],i.h--}}this.I=null},wr.prototype.N=function(i,e,t,o){return this.i.add(String(i),e,!1,t,o)},wr.prototype.O=function(i,e,t,o){return this.i.add(String(i),e,!0,t,o)};var Mi=de.JSON.stringify;function Io(){var i=Ns;let e=null;return i.g&&(e=i.g,i.g=i.g.next,i.g||(i.h=null),e.next=null),e}var jr,Qr=new class{constructor(i,e){this.i=i,this.j=e,this.h=0,this.g=null}get(){let i;return 0<this.h?(this.h--,i=this.g,this.g=i.next,i.next=null):i=this.i(),i}}(()=>new Pi,i=>i.reset());class Pi{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function bs(i){de.setTimeout(()=>{throw i},0)}function mi(i,e){jr||function co(){var i=de.Promise.resolve(void 0);jr=function(){i.then(Fs)}}(),_r||(jr(),_r=!0),Ns.add(i,e)}var _r=!1,Ns=new class Bi{constructor(){this.h=this.g=null}add(e,t){const o=Qr.get();o.set(e,t),this.h?this.h.next=o:this.g=o,this.h=o}};function Fs(){for(var i;i=Io();){try{i.h.call(i.g)}catch(t){bs(t)}var e=Qr;e.j(i),100>e.h&&(e.h++,i.next=e.g,e.g=i)}_r=!1}function Ti(i,e){wr.call(this),this.h=i||1,this.g=e||de,this.j=Dt(this.kb,this),this.l=Date.now()}function Es(i){i.da=!1,i.S&&(i.g.clearTimeout(i.S),i.S=null)}function Ui(i,e,t){if("function"==typeof i)t&&(i=Dt(i,t));else{if(!i||"function"!=typeof i.handleEvent)throw Error("Invalid listener argument");i=Dt(i.handleEvent,i)}return 2147483647<Number(e)?-1:de.setTimeout(i,e||0)}function Ki(i){i.g=Ui(()=>{i.g=null,i.i&&(i.i=!1,Ki(i))},i.j);const e=i.h;i.h=null,i.m.apply(null,e)}pn(Ti,wr),(oe=Ti.prototype).da=!1,oe.S=null,oe.kb=function(){if(this.da){var i=Date.now()-this.l;0<i&&i<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-i):(this.S&&(this.g.clearTimeout(this.S),this.S=null),hn(this,"tick"),this.da&&(Es(this),this.start()))}},oe.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},oe.M=function(){Ti.Z.M.call(this),Es(this),delete this.g};class bi extends it{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Ki(this)}M(){super.M(),this.g&&(de.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Pr(i){it.call(this),this.h=i,this.g={}}pn(Pr,it);var hs=[];function ii(i,e,t,o){Array.isArray(t)||(t&&(hs[0]=t.toString()),t=hs);for(var d=0;d<t.length;d++){var _=gi(e,t[d],o||i.handleEvent,!1,i.h||i);if(!_)break;i.g[_.key]=_}}function Ri(i){qn(i.g,function(e,t){this.g.hasOwnProperty(t)&&qe(e)},i),i.g={}}function eo(){this.g=!0}function si(i,e,t,o){i.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Ca(i,e){if(!i.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(i=0;i<t.length;i++)if(Array.isArray(t[i])){var o=t[i];if(!(2>o.length)){var d=o[1];if(Array.isArray(d)&&!(1>d.length)){var _=d[0];if("noop"!=_&&"stop"!=_&&"close"!=_)for(var D=1;D<d.length;D++)d[D]=""}}}return Mi(t)}catch{return e}}(i,t)+(o?" "+o:"")})}Pr.prototype.M=function(){Pr.Z.M.call(this),Ri(this)},Pr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},eo.prototype.Aa=function(){this.g=!1},eo.prototype.info=function(){};var Bs={},Wo=null;function To(){return Wo=Wo||new wr}function oi(i){be.call(this,Bs.Ma,i)}function Ke(i){const e=To();hn(e,new oi(e,i))}function We(i,e){be.call(this,Bs.STAT_EVENT,i),this.stat=e}function et(i){const e=To();hn(e,new We(e,i))}function Mt(i,e){be.call(this,Bs.Na,i),this.size=e}function zt(i,e){if("function"!=typeof i)throw Error("Fn must not be null and must be a function");return de.setTimeout(function(){i()},e)}Bs.Ma="serverreachability",pn(oi,be),Bs.STAT_EVENT="statevent",pn(We,be),Bs.Na="timingevent",pn(Mt,be);var cn={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Tn={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Xr(){}function $i(){}Xr.prototype.h=null;var ss,to={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Vi(){be.call(this,"d")}function zi(){be.call(this,"c")}function uo(){}function Cs(i,e,t,o){this.l=i,this.j=e,this.m=t,this.X=o||1,this.V=new Pr(this),this.P=Ds,this.W=new Ti(i=lt?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new ia}function ia(){this.i=null,this.g="",this.h=!1}pn(Vi,be),pn(zi,be),pn(uo,Xr),uo.prototype.g=function(){return new XMLHttpRequest},uo.prototype.i=function(){return{}},ss=new uo;var Ds=45e3,Gi={},Zi={};function Us(i,e,t){i.K=1,i.v=ro(as(e)),i.s=t,i.U=!0,Vs(i,null)}function Vs(i,e){i.F=Date.now(),ws(i),i.A=as(i.v);var t=i.A,o=i.X;Array.isArray(o)||(o=[String(o)]),As(t.h,"t",o),i.C=0,t=i.l.H,i.h=new ia,i.g=Rl(i.l,t?e:null,!i.s),0<i.O&&(i.L=new bi(Dt(i.Ia,i,i.g),i.O)),ii(i.V,i.g,"readystatechange",i.gb),e=i.H?gr(i.H):{},i.s?(i.u||(i.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",i.g.ea(i.A,i.u,i.s,e)):(i.u="GET",i.g.ea(i.A,i.u,null,e)),Ke(1),function Mo(i,e,t,o,d,_){i.info(function(){if(i.g)if(_)for(var D="",P=_.split("&"),j=0;j<P.length;j++){var G=P[j].split("=");if(1<G.length){var re=G[0];G=G[1];var Ce=re.split("_");D=2<=Ce.length&&"type"==Ce[1]?D+(re+"=")+G+"&":D+(re+"=redacted&")}}else D=null;else D=_;return"XMLHTTP REQ ("+o+") [attempt "+d+"]: "+e+"\n"+t+"\n"+D})}(i.j,i.u,i.A,i.m,i.X,i.s)}function ho(i){return!!i.g&&"GET"==i.u&&2!=i.K&&i.l.Ba}function sa(i,e,t){let d,o=!0;for(;!i.I&&i.C<t.length;){if(d=Ba(i,t),d==Zi){4==e&&(i.o=4,et(14),o=!1),si(i.j,i.m,null,"[Incomplete Response]");break}if(d==Gi){i.o=4,et(15),si(i.j,i.m,t,"[Invalid Chunk]"),o=!1;break}si(i.j,i.m,d,null),Hs(i,d)}ho(i)&&d!=Zi&&d!=Gi&&(i.h.g="",i.C=0),4!=e||0!=t.length||i.h.h||(i.o=1,et(16),o=!1),i.i=i.i&&o,o?0<t.length&&!i.aa&&(i.aa=!0,(e=i.l).g==i&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),$s(e),e.L=!0,et(11))):(si(i.j,i.m,t,"[Invalid Chunked Response]"),os(i),_i(i))}function Ba(i,e){var t=i.C,o=e.indexOf("\n",t);return-1==o?Zi:(t=Number(e.substring(t,o)),isNaN(t)?Gi:(o+=1)+t>e.length?Zi:(e=e.substr(o,t),i.C=o+t,e))}function ws(i){i.Y=Date.now()+i.P,Is(i,i.P)}function Is(i,e){if(null!=i.B)throw Error("WatchDog timer not null");i.B=zt(Dt(i.eb,i),e)}function Hi(i){i.B&&(de.clearTimeout(i.B),i.B=null)}function _i(i){0==i.l.G||i.I||Wa(i.l,i)}function os(i){Hi(i);var e=i.L;e&&"function"==typeof e.na&&e.na(),i.L=null,Es(i.W),Ri(i.V),i.g&&(e=i.g,i.g=null,e.abort(),e.na())}function Hs(i,e){try{var t=i.l;if(0!=t.G&&(t.g==i||an(t.i,i)))if(t.I=i.N,!i.J&&an(t.i,i)&&3==t.G){try{var o=t.Ca.g.parse(e)}catch{o=null}if(Array.isArray(o)&&3==o.length){var d=o;if(0==d[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<i.F))break e;ai(t),rr(t)}Ks(t),et(18)}}else t.ta=d[1],0<t.ta-t.U&&37500>d[2]&&t.N&&0==t.A&&!t.v&&(t.v=zt(Dt(t.ab,t),6e3));if(1>=pt(t.i)&&t.ka){try{t.ka()}catch{}t.ka=void 0}}else Ta(t,11)}else if((i.J||t.g==i)&&ai(t),!Hn(e))for(d=t.Ca.g.parse(e),e=0;e<d.length;e++){let G=d[e];if(t.U=G[0],G=G[1],2==t.G)if("c"==G[0]){t.J=G[1],t.la=G[2];const re=G[3];null!=re&&(t.ma=re,t.h.info("VER="+t.ma));const Ce=G[4];null!=Ce&&(t.za=Ce,t.h.info("SVER="+t.za));const tt=G[5];null!=tt&&"number"==typeof tt&&0<tt&&(t.K=o=1.5*tt,t.h.info("backChannelRequestTimeoutMs_="+o)),o=t;const vt=i.g;if(vt){const wt=vt.g?vt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(wt){var _=o.i;!_.g&&(Dn(wt,"spdy")||Dn(wt,"quic")||Dn(wt,"h2"))&&(_.j=_.l,_.g=new Set,_.h&&(ei(_,_.h),_.h=null))}if(o.D){const Kt=vt.g?vt.g.getResponseHeader("X-HTTP-Session-Id"):null;Kt&&(o.sa=Kt,yr(o.F,o.D,Kt))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-i.F,t.h.info("Handshake RTT: "+t.O+"ms"));var D=i;if((o=t).oa=Pl(o,o.H?o.la:null,o.W),D.J){ps(o.i,D);var P=D,j=o.K;j&&P.setTimeout(j),P.B&&(Hi(P),ws(P)),o.g=D}else Ss(o);0<t.l.length&&ti(t)}else"stop"!=G[0]&&"close"!=G[0]||Ta(t,7);else 3==t.G&&("stop"==G[0]||"close"==G[0]?"stop"==G[0]?Ta(t,7):hr(t):"noop"!=G[0]&&t.j&&t.j.wa(G),t.A=0)}Ke(4)}catch{}}function Ms(i,e){if(i.forEach&&"function"==typeof i.forEach)i.forEach(e,void 0);else if(ze(i)||"string"==typeof i)Ut(i,e,void 0);else{if(i.T&&"function"==typeof i.T)var t=i.T();else if(i.R&&"function"==typeof i.R)t=void 0;else if(ze(i)||"string"==typeof i){t=[];for(var o=i.length,d=0;d<o;d++)t.push(d)}else for(d in t=[],o=0,i)t[o++]=d;o=function Ei(i){if(i.R&&"function"==typeof i.R)return i.R();if("string"==typeof i)return i.split("");if(ze(i)){for(var e=[],t=i.length,o=0;o<t;o++)e.push(i[o]);return e}for(o in e=[],t=0,i)e[t++]=i[o];return e}(i),d=o.length;for(var _=0;_<d;_++)e.call(void 0,o[_],t&&t[_],i)}}function Ko(i,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var o=0;o<t;o+=2)this.set(arguments[o],arguments[o+1])}else if(i)if(i instanceof Ko)for(t=i.T(),o=0;o<t.length;o++)this.set(t[o],i.get(t[o]));else for(o in i)this.set(o,i[o])}function Gr(i){if(i.i!=i.g.length){for(var e=0,t=0;e<i.g.length;){var o=i.g[e];fs(i.h,o)&&(i.g[t++]=o),e++}i.g.length=t}if(i.i!=i.g.length){var d={};for(t=e=0;e<i.g.length;)fs(d,o=i.g[e])||(i.g[t++]=o,d[o]=1),e++;i.g.length=t}}function fs(i,e){return Object.prototype.hasOwnProperty.call(i,e)}(oe=Cs.prototype).setTimeout=function(i){this.P=i},oe.gb=function(i){i=i.target;const e=this.L;e&&3==De(i)?e.l():this.Ia(i)},oe.Ia=function(i){try{if(i==this.g)e:{const re=De(this.g);var e=this.g.Da();const Ce=this.g.ba();if(!(3>re)&&(3!=re||lt||this.g&&(this.h.h||this.g.ga()||at(this.g)))){this.I||4!=re||7==e||Ke(8==e||0>=Ce?3:2),Hi(this);var t=this.g.ba();this.N=t;t:if(ho(this)){var o=at(this.g);i="";var d=o.length,_=4==De(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){os(this),_i(this);var D="";break t}this.h.i=new de.TextDecoder}for(e=0;e<d;e++)this.h.h=!0,i+=this.h.i.decode(o[e],{stream:_&&e==d-1});o.splice(0,d),this.h.g+=i,this.C=0,D=this.h.g}else D=this.g.ga();if(this.i=200==t,function Ea(i,e,t,o,d,_,D){i.info(function(){return"XMLHTTP RESP ("+o+") [ attempt "+d+"]: "+e+"\n"+t+"\n"+_+" "+D})}(this.j,this.u,this.A,this.m,this.X,re,t),this.i){if(this.$&&!this.J){t:{if(this.g){var P,j=this.g;if((P=j.g?j.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Hn(P)){var G=P;break t}}G=null}if(!(t=G)){this.i=!1,this.o=3,et(12),os(this),_i(this);break e}si(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Hs(this,t)}this.U?(sa(this,re,D),lt&&this.i&&3==re&&(ii(this.V,this.W,"tick",this.fb),this.W.start())):(si(this.j,this.m,D,null),Hs(this,D)),4==re&&os(this),this.i&&!this.I&&(4==re?Wa(this.l,this):(this.i=!1,ws(this)))}else 400==t&&0<D.indexOf("Unknown SID")?(this.o=3,et(12)):(this.o=0,et(13)),os(this),_i(this)}}}catch{}},oe.fb=function(){if(this.g){var i=De(this.g),e=this.g.ga();this.C<e.length&&(Hi(this),sa(this,i,e),this.i&&4!=i&&ws(this))}},oe.cancel=function(){this.I=!0,os(this)},oe.eb=function(){this.B=null;const i=Date.now();0<=i-this.Y?(function Fa(i,e){i.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Ke(3),et(17)),os(this),this.o=2,_i(this)):Is(this,this.Y-i)},(oe=Ko.prototype).R=function(){Gr(this);for(var i=[],e=0;e<this.g.length;e++)i.push(this.h[this.g[e]]);return i},oe.T=function(){return Gr(this),this.g.concat()},oe.get=function(i,e){return fs(this.h,i)?this.h[i]:e},oe.set=function(i,e){fs(this.h,i)||(this.i++,this.g.push(i)),this.h[i]=e},oe.forEach=function(i,e){for(var t=this.T(),o=0;o<t.length;o++){var d=t[o],_=this.get(d);i.call(e,_,d,this)}};var Da=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Ci(i,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,i instanceof Ci){this.g=void 0!==e?e:i.g,no(this,i.j),this.s=i.s,qi(this,i.i),nr(this,i.m),this.l=i.l,e=i.h;var t=new Yi;t.i=e.i,e.g&&(t.g=new Ko(e.g),t.h=e.h),$o(this,t),this.o=i.o}else i&&(t=String(i).match(Da))?(this.g=!!e,no(this,t[1]||"",!0),this.s=vr(t[2]||""),qi(this,t[3]||"",!0),nr(this,t[4]),this.l=vr(t[5]||"",!0),$o(this,t[6]||"",!0),this.o=vr(t[7]||"")):(this.g=!!e,this.h=new Yi(null,this.g))}function as(i){return new Ci(i)}function no(i,e,t){i.j=t?vr(e,!0):e,i.j&&(i.j=i.j.replace(/:$/,""))}function qi(i,e,t){i.i=t?vr(e,!0):e}function nr(i,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);i.m=e}else i.m=null}function $o(i,e,t){e instanceof Yi?(i.h=e,function Cr(i,e){e&&!i.j&&(Qi(i),i.i=null,i.g.forEach(function(t,o){var d=o.toLowerCase();o!=d&&(St(this,o),As(this,d,t))},i)),i.j=e}(i.h,i.g)):(t||(e=xn(e,Va)),i.h=new Yi(e,i.g))}function yr(i,e,t){i.h.set(e,t)}function ro(i){return yr(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function vr(i,e){return i?e?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function xn(i,e,t){return"string"==typeof i?(i=encodeURI(i).replace(e,Ua),t&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function Ua(i){return"%"+((i=i.charCodeAt(0))>>4&15).toString(16)+(15&i).toString(16)}Ci.prototype.toString=function(){var i=[],e=this.j;e&&i.push(xn(e,nl,!0),":");var t=this.i;return(t||"file"==e)&&(i.push("//"),(e=this.s)&&i.push(xn(e,nl,!0),"@"),i.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&i.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&i.push("/"),i.push(xn(t,"/"==t.charAt(0)?wa:Ao,!0))),(t=this.h.toString())&&i.push("?",t),(t=this.o)&&i.push("#",xn(t,Ai)),i.join("")};var nl=/[#\/\?@]/g,Ao=/[#\?:]/g,wa=/[#\?]/g,Va=/[#\?@]/g,Ai=/#/g;function Yi(i,e){this.h=this.g=null,this.i=i||null,this.j=!!e}function Qi(i){i.g||(i.g=new Ko,i.h=0,i.i&&function Ts(i,e){if(i){i=i.split("&");for(var t=0;t<i.length;t++){var o=i[t].indexOf("="),d=null;if(0<=o){var _=i[t].substring(0,o);d=i[t].substring(o+1)}else _=i[t];e(_,d?decodeURIComponent(d.replace(/\+/g," ")):"")}}}(i.i,function(e,t){i.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function St(i,e){Qi(i),e=pi(i,e),fs(i.g.h,e)&&(i.i=null,i.h-=i.g.get(e).length,fs((i=i.g).h,e)&&(delete i.h[e],i.i--,i.g.length>2*i.i&&Gr(i)))}function $n(i,e){return Qi(i),e=pi(i,e),fs(i.g.h,e)}function As(i,e,t){St(i,e),0<t.length&&(i.i=null,i.g.set(pi(i,e),lr(t)),i.h+=t.length)}function pi(i,e){return e=String(e),i.j&&(e=e.toLowerCase()),e}function H(i){this.l=i||U,i=de.PerformanceNavigationTiming?0<(i=de.performance.getEntriesByType("navigation")).length&&("hq"==i[0].nextHopProtocol||"h2"==i[0].nextHopProtocol):!!(de.g&&de.g.Ea&&de.g.Ea()&&de.g.Ea().Zb),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(oe=Yi.prototype).add=function(i,e){Qi(this),this.i=null,i=pi(this,i);var t=this.g.get(i);return t||this.g.set(i,t=[]),t.push(e),this.h+=1,this},oe.forEach=function(i,e){Qi(this),this.g.forEach(function(t,o){Ut(t,function(d){i.call(e,d,o,this)},this)},this)},oe.T=function(){Qi(this);for(var i=this.g.R(),e=this.g.T(),t=[],o=0;o<e.length;o++)for(var d=i[o],_=0;_<d.length;_++)t.push(e[o]);return t},oe.R=function(i){Qi(this);var e=[];if("string"==typeof i)$n(this,i)&&(e=tr(e,this.g.get(pi(this,i))));else{i=this.g.R();for(var t=0;t<i.length;t++)e=tr(e,i[t])}return e},oe.set=function(i,e){return Qi(this),this.i=null,$n(this,i=pi(this,i))&&(this.h-=this.g.get(i).length),this.g.set(i,[e]),this.h+=1,this},oe.get=function(i,e){return i&&0<(i=this.R(i)).length?String(i[0]):e},oe.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var i=[],e=this.g.T(),t=0;t<e.length;t++){var o=e[t],d=encodeURIComponent(String(o));o=this.R(o);for(var _=0;_<o.length;_++){var D=d;""!==o[_]&&(D+="="+encodeURIComponent(String(o[_]))),i.push(D)}}return this.i=i.join("&")};var U=10;function ie(i){return!!i.h||!!i.g&&i.g.size>=i.j}function pt(i){return i.h?1:i.g?i.g.size:0}function an(i,e){return i.h?i.h==e:!!i.g&&i.g.has(e)}function ei(i,e){i.g?i.g.add(e):i.h=e}function ps(i,e){i.h&&i.h==e?i.h=null:i.g&&i.g.has(e)&&i.g.delete(e)}function ki(i){if(null!=i.h)return i.i.concat(i.h.D);if(null!=i.g&&0!==i.g.size){let e=i.i;for(const t of i.g.values())e=e.concat(t.D);return e}return lr(i.i)}function Ar(){}function io(){this.g=new Ar}function rl(i,e,t){const o=t||"";try{Ms(i,function(d,_){let D=d;Xe(d)&&(D=Mi(d)),e.push(o+_+"="+encodeURIComponent(D))})}catch(d){throw e.push(o+"type="+encodeURIComponent("_badmap")),d}}function ji(i,e,t,o,d){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,d(o)}catch{}}function il(i){this.l=i.$b||null,this.j=i.ib||!1}function fo(i,e){wr.call(this),this.D=i,this.u=e,this.m=void 0,this.readyState=zo,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}H.prototype.cancel=function(){if(this.i=ki(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const i of this.g.values())i.cancel();this.g.clear()}},Ar.prototype.stringify=function(i){return de.JSON.stringify(i,void 0)},Ar.prototype.parse=function(i){return de.JSON.parse(i,void 0)},pn(il,Xr),il.prototype.g=function(){return new fo(this.l,this.j)},il.prototype.i=function(i){return function(){return i}}({}),pn(fo,wr);var zo=0;function Ha(i){i.j.read().then(i.Sa.bind(i)).catch(i.ha.bind(i))}function po(i){i.readyState=4,i.l=null,i.j=null,i.A=null,go(i)}function go(i){i.onreadystatechange&&i.onreadystatechange.call(i)}(oe=fo.prototype).open=function(i,e){if(this.readyState!=zo)throw this.abort(),Error("Error reopening a connection");this.C=i,this.B=e,this.readyState=1,go(this)},oe.send=function(i){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};i&&(e.body=i),(this.D||de).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},oe.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,po(this)),this.readyState=zo},oe.Va=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,go(this)),this.g&&(this.readyState=3,go(this),this.g)))if("arraybuffer"===this.responseType)i.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(typeof de.ReadableStream<"u"&&"body"in i){if(this.j=i.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Ha(this)}else i.text().then(this.Ua.bind(this),this.ha.bind(this))},oe.Sa=function(i){if(this.g){if(this.u&&i.value)this.response.push(i.value);else if(!this.u){var e=i.value?i.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!i.done}))&&(this.response=this.responseText+=e)}i.done?po(this):go(this),3==this.readyState&&Ha(this)}},oe.Ua=function(i){this.g&&(this.response=this.responseText=i,po(this))},oe.Ta=function(i){this.g&&(this.response=i,po(this))},oe.ha=function(){this.g&&po(this)},oe.setRequestHeader=function(i,e){this.v.append(i,e)},oe.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},oe.getAllResponseHeaders=function(){if(!this.h)return"";const i=[],e=this.h.entries();for(var t=e.next();!t.done;)i.push((t=t.value)[0]+": "+t[1]),t=e.next();return i.join("\r\n")},Object.defineProperty(fo.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(i){this.m=i?"include":"same-origin"}});var Ia=de.JSON.parse;function Wr(i){wr.call(this),this.headers=new Ko,this.u=i||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Ma,this.K=this.L=!1}pn(Wr,wr);var Ma="",So=/^https?$/i,sl=["POST","PUT"];function ja(i){return"content-type"==i.toLowerCase()}function ol(i,e){i.h=!1,i.g&&(i.l=!0,i.g.abort(),i.l=!1),i.j=e,i.m=5,N(i),V(i)}function N(i){i.D||(i.D=!0,hn(i,"complete"),hn(i,"error"))}function Q(i){if(i.h&&typeof Je<"u"&&(!i.C[1]||4!=De(i)||2!=i.ba()))if(i.v&&4==De(i))Ui(i.Fa,0,i);else if(hn(i,"readystatechange"),4==De(i)){i.h=!1;try{const P=i.ba();e:switch(P){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var o;if(o=0===P){var d=String(i.H).match(Da)[1]||null;if(!d&&de.self&&de.self.location){var _=de.self.location.protocol;d=_.substr(0,_.length-1)}o=!So.test(d?d.toLowerCase():"")}t=o}if(t)hn(i,"complete"),hn(i,"success");else{i.m=6;try{var D=2<De(i)?i.g.statusText:""}catch{D=""}i.j=D+" ["+i.ba()+"]",N(i)}}finally{V(i)}}}function V(i,e){if(i.g){te(i);const t=i.g,o=i.C[0]?fe:null;i.g=null,i.C=null,e||hn(i,"ready");try{t.onreadystatechange=o}catch{}}}function te(i){i.g&&i.K&&(i.g.ontimeout=null),i.A&&(de.clearTimeout(i.A),i.A=null)}function De(i){return i.g?i.g.readyState:0}function at(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.J){case Ma:case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch{return null}}function un(i,e,t){e:{for(o in t){var o=!1;break e}o=!0}o||(t=function _t(i){let e="";return qn(i,function(t,o){e+=o,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof i?null!=t&&encodeURIComponent(String(t)):yr(i,e,t))}function ar(i,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[i]||e}function Ir(i){this.za=0,this.l=[],this.h=new eo,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=ar("failFast",!1,i),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=ar("baseRetryDelayMs",5e3,i),this.$a=ar("retryDelaySeedMs",1e4,i),this.Ya=ar("forwardChannelMaxRetries",2,i),this.ra=ar("forwardChannelRequestTimeoutMs",2e4,i),this.qa=i&&i.xmlHttpFactory||void 0,this.Ba=i&&i.Yb||!1,this.K=void 0,this.H=i&&i.supportsCrossDomainXhr||!1,this.J="",this.i=new H(i&&i.concurrentRequestLimit),this.Ca=new io,this.ja=i&&i.fastHandshake||!1,this.Ra=i&&i.Wb||!1,i&&i.Aa&&this.h.Aa(),i&&i.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&i&&i.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!i||!1!==i.Xb}function hr(i){if(Si(i),3==i.G){var e=i.V++,t=as(i.F);yr(t,"SID",i.J),yr(t,"RID",e),yr(t,"TYPE","terminate"),ls(i,t),(e=new Cs(i,i.h,e,void 0)).K=2,e.v=ro(as(t)),t=!1,de.navigator&&de.navigator.sendBeacon&&(t=de.navigator.sendBeacon(e.v.toString(),"")),!t&&de.Image&&((new Image).src=e.v,t=!0),t||(e.g=Rl(e.l,null),e.g.ea(e.v)),e.F=Date.now(),ws(e)}dc(i)}function rr(i){i.g&&($s(i),i.g.cancel(),i.g=null)}function Si(i){rr(i),i.u&&(de.clearTimeout(i.u),i.u=null),ai(i),i.i.cancel(),i.m&&("number"==typeof i.m&&de.clearTimeout(i.m),i.m=null)}function br(i,e){i.l.push(new class{constructor(i,e){this.h=i,this.g=e}}(i.Za++,e)),3==i.G&&ti(i)}function ti(i){ie(i.i)||i.m||(i.m=!0,mi(i.Ha,i),i.C=0)}function Ws(i,e){var t;t=e?e.m:i.V++;const o=as(i.F);yr(o,"SID",i.J),yr(o,"RID",t),yr(o,"AID",i.U),ls(i,o),i.o&&i.s&&un(o,i.o,i.s),t=new Cs(i,i.h,t,i.C+1),null===i.o&&(t.H=i.s),e&&(i.l=e.D.concat(i.l)),e=mo(i,t,1e3),t.setTimeout(Math.round(.5*i.ra)+Math.round(.5*i.ra*Math.random())),ei(i.i,t),Us(t,o,e)}function ls(i,e){i.j&&Ms({},function(t,o){yr(e,o,t)})}function mo(i,e,t){t=Math.min(i.l.length,t);var o=i.j?Dt(i.j.Oa,i.j,i):null;e:{var d=i.l;let _=-1;for(;;){const D=["count="+t];-1==_?0<t?(_=d[0].h,D.push("ofs="+_)):_=0:D.push("ofs="+_);let P=!0;for(let j=0;j<t;j++){let G=d[j].h;const re=d[j].g;if(G-=_,0>G)_=Math.max(0,d[j].h-100),P=!1;else try{rl(re,D,"req"+G+"_")}catch{o&&o(re)}}if(P){o=D.join("&");break e}}}return i=i.l.splice(0,t),e.D=i,o}function Ss(i){i.g||i.u||(i.Y=1,mi(i.Ga,i),i.A=0)}function Ks(i){return!(i.g||i.u||3<=i.A||(i.Y++,i.u=zt(Dt(i.Ga,i),Rc(i,i.A)),i.A++,0))}function $s(i){null!=i.B&&(de.clearTimeout(i.B),i.B=null)}function al(i){i.g=new Cs(i,i.h,"rpc",i.Y),null===i.o&&(i.g.H=i.s),i.g.O=0;var e=as(i.oa);yr(e,"RID","rpc"),yr(e,"SID",i.J),yr(e,"CI",i.N?"0":"1"),yr(e,"AID",i.U),ls(i,e),yr(e,"TYPE","xmlhttp"),i.o&&i.s&&un(e,i.o,i.s),i.K&&i.g.setTimeout(i.K);var t=i.g;i=i.la,t.K=1,t.v=ro(as(e)),t.s=null,t.U=!0,Vs(t,i)}function ai(i){null!=i.v&&(de.clearTimeout(i.v),i.v=null)}function Wa(i,e){var t=null;if(i.g==e){ai(i),$s(i),i.g=null;var o=2}else{if(!an(i.i,e))return;t=e.D,ps(i.i,e),o=1}if(i.I=e.N,0!=i.G)if(e.i)if(1==o){t=e.s?e.s.length:0,e=Date.now()-e.F;var d=i.C;hn(o=To(),new Mt(o,t,e,d)),ti(i)}else Ss(i);else if(3==(d=e.o)||0==d&&0<i.I||!(1==o&&function xo(i,e){return!(pt(i.i)>=i.i.j-(i.m?1:0)||(i.m?(i.l=e.D.concat(i.l),0):1==i.G||2==i.G||i.C>=(i.Xa?0:i.Ya)||(i.m=zt(Dt(i.Ha,i,e),Rc(i,i.C)),i.C++,0)))}(i,e)||2==o&&Ks(i)))switch(t&&0<t.length&&(e=i.i,e.i=e.i.concat(t)),d){case 1:Ta(i,5);break;case 4:Ta(i,10);break;case 3:Ta(i,6);break;default:Ta(i,2)}}function Rc(i,e){let t=i.Pa+Math.floor(Math.random()*i.$a);return i.j||(t*=2),t*e}function Ta(i,e){if(i.h.info("Error code "+e),2==e){var t=null;i.j&&(t=null);var o=Dt(i.jb,i);t||(t=new Ci("//www.google.com/images/cleardot.gif"),de.location&&"http"==de.location.protocol||no(t,"https"),ro(t)),function js(i,e){const t=new eo;if(de.Image){const o=new Image;o.onload=En(ji,t,o,"TestLoadImage: loaded",!0,e),o.onerror=En(ji,t,o,"TestLoadImage: error",!1,e),o.onabort=En(ji,t,o,"TestLoadImage: abort",!1,e),o.ontimeout=En(ji,t,o,"TestLoadImage: timeout",!1,e),de.setTimeout(function(){o.ontimeout&&o.ontimeout()},1e4),o.src=i}else e(!1)}(t.toString(),o)}else et(2);i.G=0,i.j&&i.j.va(e),dc(i),Si(i)}function dc(i){i.G=0,i.I=-1,i.j&&((0!=ki(i.i).length||0!=i.l.length)&&(i.i.i.length=0,lr(i.l),i.l.length=0),i.j.ua())}function Pl(i,e,t){let o=function Jr(i){return i instanceof Ci?as(i):new Ci(i,void 0)}(t);if(""!=o.i)e&&qi(o,e+"."+o.i),nr(o,o.m);else{const d=de.location;o=function oa(i,e,t,o){var d=new Ci(null,void 0);return i&&no(d,i),e&&qi(d,e),t&&nr(d,t),o&&(d.l=o),d}(d.protocol,e?e+"."+d.hostname:d.hostname,+d.port,t)}return i.aa&&qn(i.aa,function(d,_){yr(o,_,d)}),t=i.sa,(e=i.D)&&t&&yr(o,e,t),yr(o,"VER",i.ma),ls(i,o),o}function Rl(i,e,t){if(e&&!i.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Wr(t&&i.Ba&&!i.qa?new il({ib:!0}):i.qa)).L=i.H,e}function Aa(){}function Sa(){if(xe&&!(10<=Number(_e)))throw Error("Environmental error: no available transport.")}function Xi(i,e){wr.call(this),this.g=new Ir(e),this.l=i,this.h=e&&e.messageUrlParams||null,i=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.s=i,i=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(i?i["X-WebChannel-Content-Type"]=e.messageContentType:i={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(i?i["X-WebChannel-Client-Profile"]=e.ya:i={"X-WebChannel-Client-Profile":e.ya}),this.g.P=i,(i=e&&e.httpHeadersOverwriteParam)&&!Hn(i)&&(this.g.o=i),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Hn(e)&&(this.g.D=e,null!==(i=this.h)&&e in i&&e in(i=this.h)&&delete i[e]),this.j=new li(this)}function hc(i){Vi.call(this);var e=i.__sm__;if(e){e:{for(const t in e){i=t;break e}i=void 0}(this.i=i)&&(i=this.i,e=null!==e&&i in e?e[i]:void 0),this.data=e}else this.data=i}function kl(){zi.call(this),this.status=1}function li(i){this.g=i}(oe=Wr.prototype).ea=function(i,e,t,o){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+i);e=e?e.toUpperCase():"GET",this.H=i,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():ss.g(),this.C=function ur(i){return i.h||(i.h=i.i())}(this.u?this.u:ss),this.g.onreadystatechange=Dt(this.Fa,this);try{this.F=!0,this.g.open(e,String(i),!0),this.F=!1}catch(_){return void ol(this,_)}i=t||"";const d=new Ko(this.headers);o&&Ms(o,function(_,D){d.set(D,_)}),o=function Cn(i){e:{var e=ja;const t=i.length,o="string"==typeof i?i.split(""):i;for(let d=0;d<t;d++)if(d in o&&e.call(void 0,o[d],d,i)){e=d;break e}e=-1}return 0>e?null:"string"==typeof i?i.charAt(e):i[e]}(d.T()),t=de.FormData&&i instanceof de.FormData,!(0<=Ge(sl,e))||o||t||d.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),d.forEach(function(_,D){this.g.setRequestHeader(D,_)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{te(this),0<this.B&&((this.K=function Ol(i){return xe&&function Mn(){return function fr(i){var e=zr;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=i(9)}(function(){let i=0;const e=Zn(String(An)).split("."),t=Zn("9").split("."),o=Math.max(e.length,t.length);for(let D=0;0==i&&D<o;D++){var d=e[D]||"",_=t[D]||"";do{if(d=/(\d*)(\D*)(.*)/.exec(d)||["","","",""],_=/(\d*)(\D*)(.*)/.exec(_)||["","","",""],0==d[0].length&&0==_[0].length)break;i=kn(0==d[1].length?0:parseInt(d[1],10),0==_[1].length?0:parseInt(_[1],10))||kn(0==d[2].length,0==_[2].length)||kn(d[2],_[2]),d=d[3],_=_[3]}while(0==i)}return 0<=i})}()&&"number"==typeof i.timeout&&void 0!==i.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Dt(this.pa,this)):this.A=Ui(this.pa,this.B,this)),this.v=!0,this.g.send(i),this.v=!1}catch(_){ol(this,_)}},oe.pa=function(){typeof Je<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,hn(this,"timeout"),this.abort(8))},oe.abort=function(i){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=i||7,hn(this,"complete"),hn(this,"abort"),V(this))},oe.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),V(this,!0)),Wr.Z.M.call(this)},oe.Fa=function(){this.s||(this.F||this.v||this.l?Q(this):this.cb())},oe.cb=function(){Q(this)},oe.ba=function(){try{return 2<De(this)?this.g.status:-1}catch{return-1}},oe.ga=function(){try{return this.g?this.g.responseText:""}catch{return""}},oe.Qa=function(i){if(this.g){var e=this.g.responseText;return i&&0==e.indexOf(i)&&(e=e.substring(i.length)),Ia(e)}},oe.Da=function(){return this.m},oe.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(oe=Ir.prototype).ma=8,oe.G=1,oe.hb=function(i){try{this.h.info("Origin Trials invoked: "+i)}catch{}},oe.Ha=function(i){if(this.m)if(this.m=null,1==this.G){if(!i){this.V=Math.floor(1e5*Math.random()),i=this.V++;const d=new Cs(this,this.h,i,void 0);let _=this.s;if(this.P&&(_?(_=gr(_),Yr(_,this.P)):_=this.P),null===this.o&&(d.H=_),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var o=this.l[t];if(void 0===(o="__data__"in o.g&&"string"==typeof(o=o.g.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=mo(this,d,e),yr(t=as(this.F),"RID",i),yr(t,"CVER",22),this.D&&yr(t,"X-HTTP-Session-Id",this.D),ls(this,t),this.o&&_&&un(t,this.o,_),ei(this.i,d),this.Ra&&yr(t,"TYPE","init"),this.ja?(yr(t,"$req",e),yr(t,"SID","null"),d.$=!0,Us(d,t,null)):Us(d,t,e),this.G=2}}else 3==this.G&&(i?Ws(this,i):0==this.l.length||ie(this.i)||Ws(this))},oe.Ga=function(){if(this.u=null,al(this),this.$&&!(this.L||null==this.g||0>=this.O)){var i=2*this.O;this.h.info("BP detection timer enabled: "+i),this.B=zt(Dt(this.bb,this),i)}},oe.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,et(10),rr(this),al(this))},oe.ab=function(){null!=this.v&&(this.v=null,rr(this),Ks(this),et(19))},oe.jb=function(i){i?(this.h.info("Successfully pinged google.com"),et(2)):(this.h.info("Failed to ping google.com"),et(1))},(oe=Aa.prototype).xa=function(){},oe.wa=function(){},oe.va=function(){},oe.ua=function(){},oe.Oa=function(){},Sa.prototype.g=function(i,e){return new Xi(i,e)},pn(Xi,wr),Xi.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var i=this.g,e=this.l,t=this.h||void 0;i.Wa&&(i.h.info("Origin Trials enabled."),mi(Dt(i.hb,i,e))),et(0),i.W=e,i.aa=t||{},i.N=i.X,i.F=Pl(i,null,i.W),ti(i)},Xi.prototype.close=function(){hr(this.g)},Xi.prototype.u=function(i){if("string"==typeof i){var e={};e.__data__=i,br(this.g,e)}else this.v?((e={}).__data__=Mi(i),br(this.g,e)):br(this.g,i)},Xi.prototype.M=function(){this.g.j=null,delete this.j,hr(this.g),delete this.g,Xi.Z.M.call(this)},pn(hc,Vi),pn(kl,zi),pn(li,Aa),li.prototype.xa=function(){hn(this.g,"a")},li.prototype.wa=function(i){hn(this.g,new hc(i))},li.prototype.va=function(i){hn(this.g,new kl(i))},li.prototype.ua=function(){hn(this.g,"b")},Sa.prototype.createWebChannel=Sa.prototype.g,Xi.prototype.send=Xi.prototype.u,Xi.prototype.open=Xi.prototype.m,Xi.prototype.close=Xi.prototype.close,cn.NO_ERROR=0,cn.TIMEOUT=8,cn.HTTP_ERROR=6,Tn.COMPLETE="complete",$i.EventType=to,to.OPEN="a",to.CLOSE="b",to.ERROR="c",to.MESSAGE="d",wr.prototype.listen=wr.prototype.N,Wr.prototype.listenOnce=Wr.prototype.O,Wr.prototype.getLastError=Wr.prototype.La,Wr.prototype.getLastErrorCode=Wr.prototype.Da,Wr.prototype.getStatus=Wr.prototype.ba,Wr.prototype.getResponseJson=Wr.prototype.Qa,Wr.prototype.getResponseText=Wr.prototype.ga,Wr.prototype.send=Wr.prototype.ea;var Oo=Tt.createWebChannelTransport=function(){return new Sa},Ka=Tt.getStatEventTarget=function(){return To()},Po=Tt.ErrorCode=cn,ll=Tt.EventType=Tn,Kd=Tt.Event=Bs,$a=Tt.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},fc=Tt.FetchXmlHttpFactory=il,ci=Tt.WebChannel=$i,cs=Tt.XhrIo=Wr;const Go="@firebase/firestore";class ui{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ui.UNAUTHENTICATED=new ui(null),ui.GOOGLE_CREDENTIALS=new ui("google-credentials-uid"),ui.FIRST_PARTY=new ui("first-party-uid"),ui.MOCK_USER=new ui("mock-user");let _o="9.9.4";const yo=new Me.Yd("@firebase/firestore");function vo(){return yo.logLevel}function Wt(i,...e){if(yo.logLevel<=Me.in.DEBUG){const t=e.map(Ro);yo.debug(`Firestore (${_o}): ${i}`,...t)}}function Zr(i,...e){if(yo.logLevel<=Me.in.ERROR){const t=e.map(Ro);yo.error(`Firestore (${_o}): ${i}`,...t)}}function Zo(i,...e){if(yo.logLevel<=Me.in.WARN){const t=e.map(Ro);yo.warn(`Firestore (${_o}): ${i}`,...t)}}function Ro(i){if("string"==typeof i)return i;try{return JSON.stringify(i)}catch{return i}}function dn(i="Unexpected state"){const e=`FIRESTORE (${_o}) INTERNAL ASSERTION FAILED: `+i;throw Zr(e),new Error(e)}function fn(i,e){i||dn()}function qt(i,e){return i}const ut={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Pt extends $e.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class yi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class la{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class kc{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(ui.UNAUTHENTICATED))}shutdown(){}}class td{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Ll{constructor(e){this.t=e,this.currentUser=ui.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var o=this;let d=this.i;const _=G=>this.i!==d?(d=this.i,t(G)):Promise.resolve();let D=new yi;this.o=()=>{this.i++,this.currentUser=this.u(),D.resolve(),D=new yi,e.enqueueRetryable(()=>_(this.currentUser))};const P=()=>{const G=D;e.enqueueRetryable((0,Re.Z)(function*(){yield G.promise,yield _(o.currentUser)}))},j=G=>{Wt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=G,this.auth.addAuthTokenListener(this.o),P()};this.t.onInit(G=>j(G)),setTimeout(()=>{if(!this.auth){const G=this.t.getImmediate({optional:!0});G?j(G):(Wt("FirebaseAuthCredentialsProvider","Auth not yet detected"),D.resolve(),D=new yi)}},0),P()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(o=>this.i!==e?(Wt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(fn("string"==typeof o.accessToken),new la(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return fn(null===e||"string"==typeof e),new ui(e)}}class ul{constructor(e,t,o,d){this.h=e,this.l=t,this.m=o,this.g=d,this.type="FirstParty",this.user=ui.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(fn(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class dl{constructor(e,t,o,d){this.h=e,this.l=t,this.m=o,this.g=d}getToken(){return Promise.resolve(new ul(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable(()=>t(ui.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class hl{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Ji{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){const o=_=>{null!=_.error&&Wt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${_.error.message}`);const D=_.token!==this.A;return this.A=_.token,Wt("FirebaseAppCheckTokenProvider",`Received ${D?"new":"existing"} token.`),D?t(_.token):Promise.resolve()};this.o=_=>{e.enqueueRetryable(()=>o(_))};const d=_=>{Wt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=_,this.appCheck.addTokenListener(this.o)};this.T.onInit(_=>d(_)),setTimeout(()=>{if(!this.appCheck){const _=this.T.getImmediate({optional:!0});_?d(_):Wt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(fn("string"==typeof t.token),this.A=t.token,new hl(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function xa(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(i);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let o=0;o<i;o++)t[o]=Math.floor(256*Math.random());return t}class bo{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let o="";for(;o.length<20;){const d=xa(40);for(let _=0;_<d.length;++_)o.length<20&&d[_]<t&&(o+=e.charAt(d[_]%e.length))}return o}}function Bn(i,e){return i<e?-1:i>e?1:0}function Eo(i,e,t){return i.length===e.length&&i.every((o,d)=>t(o,e[d]))}function zs(i){return i+"\0"}class Rr{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Pt(ut.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Pt(ut.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Pt(ut.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Pt(ut.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Rr.fromMillis(Date.now())}static fromDate(e){return Rr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),o=Math.floor(1e6*(e-1e3*t));return new Rr(t,o)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Bn(this.nanoseconds,e.nanoseconds):Bn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class nn{constructor(e){this.timestamp=e}static fromTimestamp(e){return new nn(e)}static min(){return new nn(new Rr(0,0))}static max(){return new nn(new Rr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class pc{constructor(e,t,o){void 0===t?t=0:t>e.length&&dn(),void 0===o?o=e.length-t:o>e.length-t&&dn(),this.segments=e,this.offset=t,this.len=o}get length(){return this.len}isEqual(e){return 0===pc.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof pc?e.forEach(o=>{t.push(o)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,o=this.limit();t<o;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const o=Math.min(e.length,t.length);for(let d=0;d<o;d++){const _=e.get(d),D=t.get(d);if(_<D)return-1;if(_>D)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Mr extends pc{construct(e,t,o){return new Mr(e,t,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const o of e){if(o.indexOf("//")>=0)throw new Pt(ut.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);t.push(...o.split("/").filter(d=>d.length>0))}return new Mr(t)}static emptyPath(){return new Mr([])}}const nd=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Di extends pc{construct(e,t,o){return new Di(e,t,o)}static isValidIdentifier(e){return nd.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Di.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Di(["__name__"])}static fromServerFormat(e){const t=[];let o="",d=0;const _=()=>{if(0===o.length)throw new Pt(ut.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(o),o=""};let D=!1;for(;d<e.length;){const P=e[d];if("\\"===P){if(d+1===e.length)throw new Pt(ut.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const j=e[d+1];if("\\"!==j&&"."!==j&&"`"!==j)throw new Pt(ut.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);o+=j,d+=2}else"`"===P?(D=!D,d++):"."!==P||D?(o+=P,d++):(_(),d++)}if(_(),D)throw new Pt(ut.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Di(t)}static emptyPath(){return new Di([])}}class rn{constructor(e){this.path=e}static fromPath(e){return new rn(Mr.fromString(e))}static fromName(e){return new rn(Mr.fromString(e).popFirst(5))}static empty(){return new rn(Mr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Mr.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Mr.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new rn(new Mr(e.slice()))}}class gc{constructor(e,t,o,d){this.indexId=e,this.collectionGroup=t,this.fields=o,this.indexState=d}}function mc(i){return i.fields.find(e=>2===e.kind)}function ca(i){return i.fields.filter(e=>2!==e.kind)}gc.UNKNOWN_ID=-1;class hu{constructor(e,t){this.fieldPath=e,this.kind=t}}class za{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new za(0,gs.min())}}function Ga(i,e){const t=i.toTimestamp().seconds,o=i.toTimestamp().nanoseconds+1,d=nn.fromTimestamp(1e9===o?new Rr(t+1,0):new Rr(t,o));return new gs(d,rn.empty(),e)}function Lc(i){return new gs(i.readTime,i.key,-1)}class gs{constructor(e,t,o){this.readTime=e,this.documentKey=t,this.largestBatchId=o}static min(){return new gs(nn.min(),rn.empty(),-1)}static max(){return new gs(nn.max(),rn.empty(),-1)}}function xs(i,e){let t=i.readTime.compareTo(e.readTime);return 0!==t?t:(t=rn.comparator(i.documentKey,e.documentKey),0!==t?t:Bn(i.largestBatchId,e.largestBatchId))}const us="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class _c{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Gs(i){return ko.apply(this,arguments)}function ko(){return ko=(0,Re.Z)(function*(i){if(i.code!==ut.FAILED_PRECONDITION||i.message!==us)throw i;Wt("LocalStore","Unexpectedly lost primary lease")}),ko.apply(this,arguments)}class w{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&dn(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new w((o,d)=>{this.nextCallback=_=>{this.wrapSuccess(e,_).next(o,d)},this.catchCallback=_=>{this.wrapFailure(t,_).next(o,d)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof w?t:w.resolve(t)}catch(t){return w.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):w.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):w.reject(t)}static resolve(e){return new w((t,o)=>{t(e)})}static reject(e){return new w((t,o)=>{o(e)})}static waitFor(e){return new w((t,o)=>{let d=0,_=0,D=!1;e.forEach(P=>{++d,P.next(()=>{++_,D&&_===d&&t()},j=>o(j))}),D=!0,_===d&&t()})}static or(e){let t=w.resolve(!1);for(const o of e)t=t.next(d=>d?w.resolve(d):o());return t}static forEach(e,t){const o=[];return e.forEach((d,_)=>{o.push(t.call(this,d,_))}),this.waitFor(o)}static mapArray(e,t){return new w((o,d)=>{const _=e.length,D=new Array(_);let P=0;for(let j=0;j<_;j++){const G=j;t(e[G]).next(re=>{D[G]=re,++P,P===_&&o(D)},re=>d(re))}})}static doWhile(e,t){return new w((o,d)=>{const _=()=>{!0===e()?t().next(()=>{_()},d):o()};_()})}}class O{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.P=new yi,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{t.error?this.P.reject(new W(e,t.error)):this.P.resolve()},this.transaction.onerror=o=>{const d=Qt(o.target.error);this.P.reject(new W(e,d))}}static open(e,t,o,d){try{return new O(t,e.transaction(d,o))}catch(_){throw new W(t,_)}}get v(){return this.P.promise}abort(e){e&&this.P.reject(e),this.aborted||(Wt("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new ce(t)}}class T{constructor(e,t,o){this.name=e,this.version=t,this.S=o,12.2===T.D((0,$e.z$)())&&Zr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Wt("SimpleDb","Removing database:",e),we(window.indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!(0,$e.hl)())return!1;if(T.N())return!0;const e=(0,$e.z$)(),t=T.D(e),o=0<t&&t<10,d=T.k(e),_=0<d&&d<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||o||_)}static N(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.M)}static O(e,t){return e.store(t)}static D(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),o=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(o)}static k(e){const t=e.match(/Android ([\d.]+)/i),o=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(o)}F(e){var t=this;return(0,Re.Z)(function*(){return t.db||(Wt("SimpleDb","Opening database:",t.name),t.db=yield new Promise((o,d)=>{const _=indexedDB.open(t.name,t.version);_.onsuccess=D=>{o(D.target.result)},_.onblocked=()=>{d(new W(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},_.onerror=D=>{const P=D.target.error;d("VersionError"===P.name?new Pt(ut.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===P.name?new Pt(ut.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+P):new W(e,P))},_.onupgradeneeded=D=>{Wt("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',D.oldVersion),t.S.$(D.target.result,_.transaction,D.oldVersion,t.version).next(()=>{Wt("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.B&&(t.db.onversionchange=o=>t.B(o)),t.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,o,d){var _=this;return(0,Re.Z)(function*(){const D="readonly"===t;let P=0;for(;;){++P;try{_.db=yield _.F(e);const j=O.open(_.db,e,D?"readonly":"readwrite",o),G=d(j).next(re=>(j.V(),re)).catch(re=>(j.abort(re),w.reject(re))).toPromise();return G.catch(()=>{}),yield j.v,G}catch(j){const G=j,re="FirebaseError"!==G.name&&P<3;if(Wt("SimpleDb","Transaction failed with error:",G.message,"Retrying:",re),_.close(),!re)return Promise.reject(G)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class F{constructor(e){this.U=e,this.q=!1,this.K=null}get isDone(){return this.q}get G(){return this.K}set cursor(e){this.U=e}done(){this.q=!0}j(e){this.K=e}delete(){return we(this.U.delete())}}class W extends Pt{constructor(e,t){super(ut.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function J(i){return"IndexedDbTransactionError"===i.name}class ce{constructor(e){this.store=e}put(e,t){let o;return void 0!==t?(Wt("SimpleDb","PUT",this.store.name,e,t),o=this.store.put(t,e)):(Wt("SimpleDb","PUT",this.store.name,"<auto-key>",e),o=this.store.put(e)),we(o)}add(e){return Wt("SimpleDb","ADD",this.store.name,e,e),we(this.store.add(e))}get(e){return we(this.store.get(e)).next(t=>(void 0===t&&(t=null),Wt("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Wt("SimpleDb","DELETE",this.store.name,e),we(this.store.delete(e))}count(){return Wt("SimpleDb","COUNT",this.store.name),we(this.store.count())}W(e,t){const o=this.options(e,t);if(o.index||"function"!=typeof this.store.getAll){const d=this.cursor(o),_=[];return this.H(d,(D,P)=>{_.push(P)}).next(()=>_)}{const d=this.store.getAll(o.range);return new w((_,D)=>{d.onerror=P=>{D(P.target.error)},d.onsuccess=P=>{_(P.target.result)}})}}J(e,t){const o=this.store.getAll(e,null===t?void 0:t);return new w((d,_)=>{o.onerror=D=>{_(D.target.error)},o.onsuccess=D=>{d(D.target.result)}})}Y(e,t){Wt("SimpleDb","DELETE ALL",this.store.name);const o=this.options(e,t);o.X=!1;const d=this.cursor(o);return this.H(d,(_,D,P)=>P.delete())}Z(e,t){let o;t?o=e:(o={},t=e);const d=this.cursor(o);return this.H(d,t)}tt(e){const t=this.cursor({});return new w((o,d)=>{t.onerror=_=>{const D=Qt(_.target.error);d(D)},t.onsuccess=_=>{const D=_.target.result;D?e(D.primaryKey,D.value).next(P=>{P?D.continue():o()}):o()}})}H(e,t){const o=[];return new w((d,_)=>{e.onerror=D=>{_(D.target.error)},e.onsuccess=D=>{const P=D.target.result;if(!P)return void d();const j=new F(P),G=t(P.primaryKey,P.value,j);if(G instanceof w){const re=G.catch(Ce=>(j.done(),w.reject(Ce)));o.push(re)}j.isDone?d():null===j.G?P.continue():P.continue(j.G)}}).next(()=>w.waitFor(o))}options(e,t){let o;return void 0!==e&&("string"==typeof e?o=e:t=e),{index:o,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const o=this.store.index(e.index);return e.X?o.openKeyCursor(e.range,t):o.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function we(i){return new w((e,t)=>{i.onsuccess=o=>{e(o.target.result)},i.onerror=o=>{const d=Qt(o.target.error);t(d)}})}let dt=!1;function Qt(i){const e=T.D((0,$e.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(i.message.indexOf(t)>=0){const o=new Pt("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return dt||(dt=!0,setTimeout(()=>{throw o},0)),o}}return i}class Yn{constructor(e,t){this.asyncQueue=e,this.et=t,this.task=null}start(){this.nt(15)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(e){var t=this;Wt("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,Re.Z)(function*(){t.task=null;try{Wt("IndexBackiller",`Documents written: ${yield t.et.st()}`)}catch(o){J(o)?Wt("IndexBackiller","Ignoring IndexedDB error during index backfill: ",o):yield Gs(o)}yield t.nt(1)}))}}class mn{constructor(e,t){this.localStore=e,this.persistence=t}st(e=50){var t=this;return(0,Re.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",o=>t.it(o,e))})()}it(e,t){const o=new Set;let d=t,_=!0;return w.doWhile(()=>!0===_&&d>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(D=>{if(null!==D&&!o.has(D))return Wt("IndexBackiller",`Processing collection: ${D}`),this.rt(e,D,d).next(P=>{d-=P,o.add(D)});_=!1})).next(()=>t-d)}rt(e,t,o){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(d=>this.localStore.localDocuments.getNextDocuments(e,t,d,o).next(_=>{const D=_.changes;return this.localStore.indexManager.updateIndexEntries(e,D).next(()=>this.ot(d,_)).next(P=>(Wt("IndexBackiller",`Updating offset: ${P}`),this.localStore.indexManager.updateCollectionGroup(e,t,P))).next(()=>D.size)}))}ot(e,t){let o=e;return t.changes.forEach((d,_)=>{const D=Lc(_);xs(D,o)>0&&(o=D)}),new gs(o.readTime,o.documentKey,Math.max(t.batchId,e.largestBatchId))}}class Xn{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=o=>this.ut(o),this.ct=o=>t.writeSequenceNumber(o))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ct&&this.ct(e),e}}function Wi(i){let e=0;for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e++;return e}function Zs(i,e){for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(t,i[t])}function ua(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}Xn.at=-1;class kr{constructor(e,t){this.comparator=e,this.root=t||di.EMPTY}insert(e,t){return new kr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,di.BLACK,null,null))}remove(e){return new kr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,di.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const o=this.comparator(e,t.key);if(0===o)return t.value;o<0?t=t.left:o>0&&(t=t.right)}return null}indexOf(e){let t=0,o=this.root;for(;!o.isEmpty();){const d=this.comparator(e,o.key);if(0===d)return t+o.left.size;d<0?o=o.left:(t+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,o)=>(e(t,o),!1))}toString(){const e=[];return this.inorderTraversal((t,o)=>(e.push(`${t}:${o}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new da(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new da(this.root,e,this.comparator,!1)}getReverseIterator(){return new da(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new da(this.root,e,this.comparator,!0)}}class da{constructor(e,t,o,d){this.isReverse=d,this.nodeStack=[];let _=1;for(;!e.isEmpty();)if(_=t?o(e.key,t):1,t&&d&&(_*=-1),_<0)e=this.isReverse?e.left:e.right;else{if(0===_){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class di{constructor(e,t,o,d,_){this.key=e,this.value=t,this.color=o??di.RED,this.left=d??di.EMPTY,this.right=_??di.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,o,d,_){return new di(e??this.key,t??this.value,o??this.color,d??this.left,_??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,o){let d=this;const _=o(e,d.key);return d=_<0?d.copy(null,null,null,d.left.insert(e,t,o),null):0===_?d.copy(null,t,null,null,null):d.copy(null,null,null,null,d.right.insert(e,t,o)),d.fixUp()}removeMin(){if(this.left.isEmpty())return di.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let o,d=this;if(t(e,d.key)<0)d.left.isEmpty()||d.left.isRed()||d.left.left.isRed()||(d=d.moveRedLeft()),d=d.copy(null,null,null,d.left.remove(e,t),null);else{if(d.left.isRed()&&(d=d.rotateRight()),d.right.isEmpty()||d.right.isRed()||d.right.left.isRed()||(d=d.moveRedRight()),0===t(e,d.key)){if(d.right.isEmpty())return di.EMPTY;o=d.right.min(),d=d.copy(o.key,o.value,null,null,d.right.removeMin())}d=d.copy(null,null,null,null,d.right.remove(e,t))}return d.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,di.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,di.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw dn();const e=this.left.check();if(e!==this.right.check())throw dn();return e+(this.isRed()?0:1)}}di.EMPTY=null,di.RED=!0,di.BLACK=!1,di.EMPTY=new class{constructor(){this.size=0}get key(){throw dn()}get value(){throw dn()}get color(){throw dn()}get left(){throw dn()}get right(){throw dn()}copy(i,e,t,o,d){return this}insert(i,e,t){return new di(i,e)}remove(i,e){return this}isEmpty(){return!0}inorderTraversal(i){return!1}reverseTraversal(i){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class xr{constructor(e){this.comparator=e,this.data=new kr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,o)=>(e(t),!1))}forEachInRange(e,t){const o=this.data.getIteratorFrom(e[0]);for(;o.hasNext();){const d=o.getNext();if(this.comparator(d.key,e[1])>=0)return;t(d.key)}}forEachWhile(e,t){let o;for(o=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();o.hasNext();)if(!e(o.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new ha(this.data.getIterator())}getIteratorFrom(e){return new ha(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(o=>{t=t.add(o)}),t}isEqual(e){if(!(e instanceof xr)||this.size!==e.size)return!1;const t=this.data.getIterator(),o=e.data.getIterator();for(;t.hasNext();){const d=t.getNext().key,_=o.getNext().key;if(0!==this.comparator(d,_))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new xr(this.comparator);return t.data=e,t}}class ha{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function fl(i){return i.hasNext()?i.getNext():void 0}class qs{constructor(e){this.fields=e,e.sort(Di.comparator)}static empty(){return new qs([])}unionWith(e){let t=new xr(Di.comparator);for(const o of this.fields)t=t.add(o);for(const o of e)t=t.add(o);return new qs(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Eo(this.fields,e.fields,(t,o)=>t.isEqual(o))}}class Li{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Li(t)}static fromUint8Array(e){const t=function(o){let d="";for(let _=0;_<o.length;++_)d+=String.fromCharCode(o[_]);return d}(e);return new Li(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let o=0;o<e.length;o++)t[o]=e.charCodeAt(o);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Bn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Li.EMPTY_BYTE_STRING=new Li("");const qo=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function kt(i){if(fn(!!i),"string"==typeof i){let e=0;const t=qo.exec(i);if(fn(!!t),t[1]){let d=t[1];d=(d+"000000000").substr(0,9),e=Number(d)}const o=new Date(i);return{seconds:Math.floor(o.getTime()/1e3),nanos:e}}return{seconds:hi(i.seconds),nanos:hi(i.nanos)}}function hi(i){return"number"==typeof i?i:"string"==typeof i?Number(i):0}function so(i){return"string"==typeof i?Li.fromBase64String(i):Li.fromUint8Array(i)}function Nc(i){var e,t;return"server_timestamp"===(null===(t=((null===(e=i?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Ni(i){const e=i.mapValue.fields.__previous_value__;return Nc(e)?Ni(e):e}function yc(i){const e=kt(i.mapValue.fields.__local_write_time__.timestampValue);return new Rr(e.seconds,e.nanos)}class B{constructor(e,t,o,d,_,D,P,j){this.databaseId=e,this.appId=t,this.persistenceKey=o,this.host=d,this.ssl=_,this.forceLongPolling=D,this.autoDetectLongPolling=P,this.useFetchStreams=j}}class K{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new K("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof K&&e.projectId===this.projectId&&e.database===this.database}}function X(i){return null==i}function pe(i){return 0===i&&1/i==-1/0}function Ye(i){return"number"==typeof i&&Number.isInteger(i)&&!pe(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}const ct={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Rt={nullValue:"NULL_VALUE"};function Xt(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Nc(i)?4:qa(i)?9007199254740991:10:dn()}function vn(i,e){if(i===e)return!0;const t=Xt(i);if(t!==Xt(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return yc(i).isEqual(yc(e));case 3:return function(o,d){if("string"==typeof o.timestampValue&&"string"==typeof d.timestampValue&&o.timestampValue.length===d.timestampValue.length)return o.timestampValue===d.timestampValue;const _=kt(o.timestampValue),D=kt(d.timestampValue);return _.seconds===D.seconds&&_.nanos===D.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return d=e,so(i.bytesValue).isEqual(so(d.bytesValue));case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,d){return hi(o.geoPointValue.latitude)===hi(d.geoPointValue.latitude)&&hi(o.geoPointValue.longitude)===hi(d.geoPointValue.longitude)}(i,e);case 2:return function(o,d){if("integerValue"in o&&"integerValue"in d)return hi(o.integerValue)===hi(d.integerValue);if("doubleValue"in o&&"doubleValue"in d){const _=hi(o.doubleValue),D=hi(d.doubleValue);return _===D?pe(_)===pe(D):isNaN(_)&&isNaN(D)}return!1}(i,e);case 9:return Eo(i.arrayValue.values||[],e.arrayValue.values||[],vn);case 10:return function(o,d){const _=o.mapValue.fields||{},D=d.mapValue.fields||{};if(Wi(_)!==Wi(D))return!1;for(const P in _)if(_.hasOwnProperty(P)&&(void 0===D[P]||!vn(_[P],D[P])))return!1;return!0}(i,e);default:return dn()}var d}function On(i,e){return void 0!==(i.values||[]).find(t=>vn(t,e))}function zn(i,e){if(i===e)return 0;const t=Xt(i),o=Xt(e);if(t!==o)return Bn(t,o);switch(t){case 0:case 9007199254740991:return 0;case 1:return Bn(i.booleanValue,e.booleanValue);case 2:return function(d,_){const D=hi(d.integerValue||d.doubleValue),P=hi(_.integerValue||_.doubleValue);return D<P?-1:D>P?1:D===P?0:isNaN(D)?isNaN(P)?0:-1:1}(i,e);case 3:return Pn(i.timestampValue,e.timestampValue);case 4:return Pn(yc(i),yc(e));case 5:return Bn(i.stringValue,e.stringValue);case 6:return function(d,_){const D=so(d),P=so(_);return D.compareTo(P)}(i.bytesValue,e.bytesValue);case 7:return function(d,_){const D=d.split("/"),P=_.split("/");for(let j=0;j<D.length&&j<P.length;j++){const G=Bn(D[j],P[j]);if(0!==G)return G}return Bn(D.length,P.length)}(i.referenceValue,e.referenceValue);case 8:return function(d,_){const D=Bn(hi(d.latitude),hi(_.latitude));return 0!==D?D:Bn(hi(d.longitude),hi(_.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return function(d,_){const D=d.values||[],P=_.values||[];for(let j=0;j<D.length&&j<P.length;++j){const G=zn(D[j],P[j]);if(G)return G}return Bn(D.length,P.length)}(i.arrayValue,e.arrayValue);case 10:return function(d,_){if(d===ct.mapValue&&_===ct.mapValue)return 0;if(d===ct.mapValue)return 1;if(_===ct.mapValue)return-1;const D=d.fields||{},P=Object.keys(D),j=_.fields||{},G=Object.keys(j);P.sort(),G.sort();for(let re=0;re<P.length&&re<G.length;++re){const Ce=Bn(P[re],G[re]);if(0!==Ce)return Ce;const tt=zn(D[P[re]],j[G[re]]);if(0!==tt)return tt}return Bn(P.length,G.length)}(i.mapValue,e.mapValue);default:throw dn()}}function Pn(i,e){if("string"==typeof i&&"string"==typeof e&&i.length===e.length)return Bn(i,e);const t=kt(i),o=kt(e),d=Bn(t.seconds,o.seconds);return 0!==d?d:Bn(t.nanos,o.nanos)}function fi(i){return ts(i)}function ts(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(o){const d=kt(o);return`time(${d.seconds},${d.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?so(i.bytesValue).toBase64():"referenceValue"in i?rn.fromName(i.referenceValue).toString():"geoPointValue"in i?`geo(${(e=i.geoPointValue).latitude},${e.longitude})`:"arrayValue"in i?function(o){let d="[",_=!0;for(const D of o.values||[])_?_=!1:d+=",",d+=ts(D);return d+"]"}(i.arrayValue):"mapValue"in i?function(o){const d=Object.keys(o.fields||{}).sort();let _="{",D=!0;for(const P of d)D?D=!1:_+=",",_+=`${P}:${ts(o.fields[P])}`;return _+"}"}(i.mapValue):dn();var e}function Yo(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function Za(i){return!!i&&"integerValue"in i}function Qo(i){return!!i&&"arrayValue"in i}function pl(i){return!!i&&"nullValue"in i}function pa(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Xo(i){return!!i&&"mapValue"in i}function ga(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&"object"==typeof i.timestampValue)return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return Zs(i.mapValue.fields,(t,o)=>e.mapValue.fields[t]=ga(o)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(i.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=ga(i.arrayValue.values[t]);return e}return Object.assign({},i)}function qa(i){return"__max__"===(((i.mapValue||{}).fields||{}).__type__||{}).stringValue}function id(i){return"nullValue"in i?Rt:"booleanValue"in i?{booleanValue:!1}:"integerValue"in i||"doubleValue"in i?{doubleValue:NaN}:"timestampValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in i?{stringValue:""}:"bytesValue"in i?{bytesValue:""}:"referenceValue"in i?Yo(K.empty(),rn.empty()):"geoPointValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in i?{arrayValue:{}}:"mapValue"in i?{mapValue:{}}:dn()}function $h(i){return"nullValue"in i?{booleanValue:!1}:"booleanValue"in i?{doubleValue:NaN}:"integerValue"in i||"doubleValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in i?{stringValue:""}:"stringValue"in i?{bytesValue:""}:"bytesValue"in i?Yo(K.empty(),rn.empty()):"referenceValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in i?{arrayValue:{}}:"arrayValue"in i?{mapValue:{}}:"mapValue"in i?ct:dn()}function $d(i,e){const t=zn(i.value,e.value);return 0!==t?t:i.inclusive&&!e.inclusive?-1:!i.inclusive&&e.inclusive?1:0}function zd(i,e){const t=zn(i.value,e.value);return 0!==t?t:i.inclusive&&!e.inclusive?1:!i.inclusive&&e.inclusive?-1:0}class Os{constructor(e){this.value=e}static empty(){return new Os({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let o=0;o<e.length-1;++o)if(t=(t.mapValue.fields||{})[e.get(o)],!Xo(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ga(t)}setAll(e){let t=Di.emptyPath(),o={},d=[];e.forEach((D,P)=>{if(!t.isImmediateParentOf(P)){const j=this.getFieldsMap(t);this.applyChanges(j,o,d),o={},d=[],t=P.popLast()}D?o[P.lastSegment()]=ga(D):d.push(P.lastSegment())});const _=this.getFieldsMap(t);this.applyChanges(_,o,d)}delete(e){const t=this.field(e.popLast());Xo(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return vn(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let o=0;o<e.length;++o){let d=t.mapValue.fields[e.get(o)];Xo(d)&&d.mapValue.fields||(d={mapValue:{fields:{}}},t.mapValue.fields[e.get(o)]=d),t=d}return t.mapValue.fields}applyChanges(e,t,o){Zs(t,(d,_)=>e[d]=_);for(const d of o)delete e[d]}clone(){return new Os(ga(this.value))}}function Fc(i){const e=[];return Zs(i.fields,(t,o)=>{const d=new Di([t]);if(Xo(o)){const _=Fc(o.mapValue).fields;if(0===_.length)e.push(d);else for(const D of _)e.push(d.child(D))}else e.push(d)}),new qs(e)}class ni{constructor(e,t,o,d,_,D){this.key=e,this.documentType=t,this.version=o,this.readTime=d,this.data=_,this.documentState=D}static newInvalidDocument(e){return new ni(e,0,nn.min(),nn.min(),Os.empty(),0)}static newFoundDocument(e,t,o){return new ni(e,1,t,nn.min(),o,0)}static newNoDocument(e,t){return new ni(e,2,t,nn.min(),Os.empty(),0)}static newUnknownDocument(e,t){return new ni(e,3,t,nn.min(),Os.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Os.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Os.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=nn.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof ni&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ni(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class vp{constructor(e,t=null,o=[],d=[],_=null,D=null,P=null){this.path=e,this.collectionGroup=t,this.orderBy=o,this.filters=d,this.limit=_,this.startAt=D,this.endAt=P,this.ht=null}}function Gd(i,e=null,t=[],o=[],d=null,_=null,D=null){return new vp(i,e,t,o,d,_,D)}function Bc(i){const e=qt(i);if(null===e.ht){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(o=>{return(d=o).field.canonicalString()+d.op.toString()+fi(d.value);var d}).join(","),t+="|ob:",t+=e.orderBy.map(o=>{return(d=o).field.canonicalString()+d.dir;var d}).join(","),X(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(o=>fi(o)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(o=>fi(o)).join(",")),e.ht=t}return e.ht}function sd(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let d=0;d<i.orderBy.length;d++)if(!qh(i.orderBy[d],e.orderBy[d]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let d=0;d<i.filters.length;d++)if((t=i.filters[d]).op!==(o=e.filters[d]).op||!t.field.isEqual(o.field)||!vn(t.value,o.value))return!1;var t,o;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!Yh(i.startAt,e.startAt)&&Yh(i.endAt,e.endAt)}function Uc(i){return rn.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length}function od(i,e){return i.filters.filter(t=>t instanceof ms&&t.field.isEqual(e))}function gl(i,e,t){let o=Rt,d=!0;for(const _ of od(i,e)){let D=Rt,P=!0;switch(_.op){case"<":case"<=":D=id(_.value);break;case"==":case"in":case">=":D=_.value;break;case">":D=_.value,P=!1;break;case"!=":case"not-in":D=Rt}$d({value:o,inclusive:d},{value:D,inclusive:P})<0&&(o=D,d=P)}if(null!==t)for(let _=0;_<i.orderBy.length;++_)if(i.orderBy[_].field.isEqual(e)){const D=t.position[_];$d({value:o,inclusive:d},{value:D,inclusive:t.inclusive})<0&&(o=D,d=t.inclusive);break}return{value:o,inclusive:d}}function vc(i,e,t){let o=ct,d=!0;for(const _ of od(i,e)){let D=ct,P=!0;switch(_.op){case">=":case">":D=$h(_.value),P=!1;break;case"==":case"in":case"<=":D=_.value;break;case"<":D=_.value,P=!1;break;case"!=":case"not-in":D=ct}zd({value:o,inclusive:d},{value:D,inclusive:P})>0&&(o=D,d=P)}if(null!==t)for(let _=0;_<i.orderBy.length;++_)if(i.orderBy[_].field.isEqual(e)){const D=t.position[_];zd({value:o,inclusive:d},{value:D,inclusive:t.inclusive})>0&&(o=D,d=t.inclusive);break}return{value:o,inclusive:d}}class ms extends class{}{constructor(e,t,o){super(),this.field=e,this.op=t,this.value=o}static create(e,t,o){return e.isKeyField()?"in"===t||"not-in"===t?this.lt(e,t,o):new Vc(e,t,o):"array-contains"===t?new pu(e,o):"in"===t?new Zd(e,o):"not-in"===t?new Zh(e,o):"array-contains-any"===t?new qd(e,o):new ms(e,t,o)}static lt(e,t,o){return"in"===t?new bp(e,o):new fu(e,o)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.ft(zn(t,this.value)):null!==t&&Xt(this.value)===Xt(t)&&this.ft(zn(t,this.value))}ft(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return dn()}}dt(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class Vc extends ms{constructor(e,t,o){super(e,t,o),this.key=rn.fromName(o.referenceValue)}matches(e){const t=rn.comparator(e.key,this.key);return this.ft(t)}}class bp extends ms{constructor(e,t){super(e,"in",t),this.keys=Gh(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class fu extends ms{constructor(e,t){super(e,"not-in",t),this.keys=Gh(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Gh(i,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(o=>rn.fromName(o.referenceValue))}class pu extends ms{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Qo(t)&&On(t.arrayValue,this.value)}}class Zd extends ms{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&On(this.value.arrayValue,t)}}class Zh extends ms{constructor(e,t){super(e,"not-in",t)}matches(e){if(On(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!On(this.value.arrayValue,t)}}class qd extends ms{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Qo(t)||!t.arrayValue.values)&&t.arrayValue.values.some(o=>On(this.value.arrayValue,o))}}class Jo{constructor(e,t){this.position=e,this.inclusive=t}}class Lo{constructor(e,t="asc"){this.field=e,this.dir=t}}function qh(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}function ad(i,e,t){let o=0;for(let d=0;d<i.position.length;d++){const _=e[d],D=i.position[d];if(o=_.field.isKeyField()?rn.comparator(rn.fromName(D.referenceValue),t.key):zn(D,t.data.field(_.field)),"desc"===_.dir&&(o*=-1),0!==o)break}return o}function Yh(i,e){if(null===i)return null===e;if(null===e||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let t=0;t<i.position.length;t++)if(!vn(i.position[t],e.position[t]))return!1;return!0}class ml{constructor(e,t=null,o=[],d=[],_=null,D="F",P=null,j=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=o,this.filters=d,this.limit=_,this.limitType=D,this.startAt=P,this.endAt=j,this._t=null,this.wt=null}}function Qh(i,e,t,o,d,_,D,P){return new ml(i,e,t,o,d,_,D,P)}function Ps(i){return new ml(i)}function Ya(i){return 0===i.filters.length&&null===i.limit&&null==i.startAt&&null==i.endAt&&(0===i.explicitOrderBy.length||1===i.explicitOrderBy.length&&i.explicitOrderBy[0].field.isKeyField())}function gu(i){return i.explicitOrderBy.length>0?i.explicitOrderBy[0].field:null}function ld(i){for(const e of i.filters)if(e.dt())return e.field;return null}function Xh(i){return null!==i.collectionGroup}function Hc(i){const e=qt(i);if(null===e._t){e._t=[];const t=ld(e),o=gu(e);if(null!==t&&null===o)t.isKeyField()||e._t.push(new Lo(t)),e._t.push(new Lo(Di.keyField(),"asc"));else{let d=!1;for(const _ of e.explicitOrderBy)e._t.push(_),_.field.isKeyField()&&(d=!0);if(!d){const _=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e._t.push(new Lo(Di.keyField(),_))}}}return e._t}function No(i){const e=qt(i);if(!e.wt)if("F"===e.limitType)e.wt=Gd(e.path,e.collectionGroup,Hc(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const _ of Hc(e))t.push(new Lo(_.field,"desc"===_.dir?"asc":"desc"));const o=e.endAt?new Jo(e.endAt.position,e.endAt.inclusive):null,d=e.startAt?new Jo(e.startAt.position,e.startAt.inclusive):null;e.wt=Gd(e.path,e.collectionGroup,t,e.filters,e.limit,o,d)}return e.wt}function jc(i,e,t){return new ml(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,t,i.startAt,i.endAt)}function ma(i,e){return sd(No(i),No(e))&&i.limitType===e.limitType}function Jh(i){return`${Bc(No(i))}|lt:${i.limitType}`}function Yd(i){return`Query(target=${function zh(i){let e=i.path.canonicalString();return null!==i.collectionGroup&&(e+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(e+=`, filters: [${i.filters.map(t=>{return`${(o=t).field.canonicalString()} ${o.op} ${fi(o.value)}`;var o}).join(", ")}]`),X(i.limit)||(e+=", limit: "+i.limit),i.orderBy.length>0&&(e+=`, orderBy: [${i.orderBy.map(t=>{return`${(o=t).field.canonicalString()} (${o.dir})`;var o}).join(", ")}]`),i.startAt&&(e+=", startAt: ",e+=i.startAt.inclusive?"b:":"a:",e+=i.startAt.position.map(t=>fi(t)).join(",")),i.endAt&&(e+=", endAt: ",e+=i.endAt.inclusive?"a:":"b:",e+=i.endAt.position.map(t=>fi(t)).join(",")),`Target(${e})`}(No(i))}; limitType=${i.limitType})`}function cd(i,e){return e.isFoundDocument()&&function(t,o){const d=o.key.path;return null!==t.collectionGroup?o.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(d):rn.isDocumentKey(t.path)?t.path.isEqual(d):t.path.isImmediateParentOf(d)}(i,e)&&function(t,o){for(const d of t.explicitOrderBy)if(!d.field.isKeyField()&&null===o.data.field(d.field))return!1;return!0}(i,e)&&function(t,o){for(const d of t.filters)if(!d.matches(o))return!1;return!0}(i,e)&&(o=e,!((t=i).startAt&&!function(d,_,D){const P=ad(d,_,D);return d.inclusive?P<=0:P<0}(t.startAt,Hc(t),o)||t.endAt&&!function(d,_,D){const P=ad(d,_,D);return d.inclusive?P>=0:P>0}(t.endAt,Hc(t),o)));var t,o}function ef(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function Nl(i){return(e,t)=>{let o=!1;for(const d of Hc(i)){const _=tf(d,e,t);if(0!==_)return _;o=o||d.field.isKeyField()}return 0}}function tf(i,e,t){const o=i.field.isKeyField()?rn.comparator(e.key,t.key):function(d,_,D){const P=_.data.field(d),j=D.data.field(d);return null!==P&&null!==j?zn(P,j):dn()}(i.field,e,t);switch(i.dir){case"asc":return o;case"desc":return-1*o;default:return dn()}}function Oa(i,e){if(i.gt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:pe(e)?"-0":e}}function _l(i){return{integerValue:""+i}}function nf(i,e){return Ye(e)?_l(e):Oa(i,e)}class ud{constructor(){this._=void 0}}function Qd(i,e,t){return i instanceof dd?function(o,d){const _={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return d&&(_.fields.__previous_value__=d),{mapValue:_}}(t,e):i instanceof yl?Wc(i,e):i instanceof _a?Xd(i,e):function(o,d){const _=Fg(o,d),D=rf(_)+rf(o.yt);return Za(_)&&Za(o.yt)?_l(D):Oa(o.It,D)}(i,e)}function h_(i,e,t){return i instanceof yl?Wc(i,e):i instanceof _a?Xd(i,e):t}function Fg(i,e){return i instanceof Fl?Za(t=e)||(o=t)&&"doubleValue"in o?e:{integerValue:0}:null;var o,t}class dd extends ud{}class yl extends ud{constructor(e){super(),this.elements=e}}function Wc(i,e){const t=Jd(e);for(const o of i.elements)t.some(d=>vn(d,o))||t.push(o);return{arrayValue:{values:t}}}class _a extends ud{constructor(e){super(),this.elements=e}}function Xd(i,e){let t=Jd(e);for(const o of i.elements)t=t.filter(d=>!vn(d,o));return{arrayValue:{values:t}}}class Fl extends ud{constructor(e,t){super(),this.It=e,this.yt=t}}function rf(i){return hi(i.integerValue||i.doubleValue)}function Jd(i){return Qo(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class Kc{constructor(e,t){this.field=e,this.transform=t}}class Ug{constructor(e,t){this.version=e,this.transformResults=t}}class vi{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new vi}static exists(e){return new vi(void 0,e)}static updateTime(e){return new vi(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function $c(i,e){return void 0!==i.updateTime?e.isFoundDocument()&&e.version.isEqual(i.updateTime):void 0===i.exists||i.exists===e.isFoundDocument()}class hd{}function eh(i,e){if(!i.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return i.isNoDocument()?new mu(i.key,vi.none()):new Bl(i.key,i.data,vi.none());{const t=i.data,o=Os.empty();let d=new xr(Di.comparator);for(let _ of e.fields)if(!d.has(_)){let D=t.field(_);null===D&&_.length>1&&(_=_.popLast(),D=t.field(_)),null===D?o.delete(_):o.set(_,D),d=d.add(_)}return new Fo(i.key,o,new qs(d.toArray()),vi.none())}}function zc(i,e,t){i instanceof Bl?function(o,d,_){const D=o.value.clone(),P=rh(o.fieldTransforms,d,_.transformResults);D.setAll(P),d.convertToFoundDocument(_.version,D).setHasCommittedMutations()}(i,e,t):i instanceof Fo?function(o,d,_){if(!$c(o.precondition,d))return void d.convertToUnknownDocument(_.version);const D=rh(o.fieldTransforms,d,_.transformResults),P=d.data;P.setAll(sf(o)),P.setAll(D),d.convertToFoundDocument(_.version,P).setHasCommittedMutations()}(i,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function wi(i,e,t,o){return i instanceof Bl?function(d,_,D,P){if(!$c(d.precondition,_))return D;const j=d.value.clone(),G=af(d.fieldTransforms,P,_);return j.setAll(G),_.convertToFoundDocument(_.version,j).setHasLocalMutations(),null}(i,e,t,o):i instanceof Fo?function(d,_,D,P){if(!$c(d.precondition,_))return D;const j=af(d.fieldTransforms,P,_),G=_.data;return G.setAll(sf(d)),G.setAll(j),_.convertToFoundDocument(_.version,G).setHasLocalMutations(),null===D?null:D.unionWith(d.fieldMask.fields).unionWith(d.fieldTransforms.map(re=>re.field))}(i,e,t,o):(D=t,$c(i.precondition,_=e)?(_.convertToNoDocument(_.version).setHasLocalMutations(),null):D);var _,D}function th(i,e){let t=null;for(const o of i.fieldTransforms){const d=e.data.field(o.field),_=Fg(o.transform,d||null);null!=_&&(null===t&&(t=Os.empty()),t.set(o.field,_))}return t||null}function nh(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&(o=e.fieldTransforms,!!(void 0===(t=i.fieldTransforms)&&void 0===o||t&&o&&Eo(t,o,(d,_)=>function Bg(i,e){return i.field.isEqual(e.field)&&(o=e.transform,(t=i.transform)instanceof yl&&o instanceof yl||t instanceof _a&&o instanceof _a?Eo(t.elements,o.elements,vn):t instanceof Fl&&o instanceof Fl?vn(t.yt,o.yt):t instanceof dd&&o instanceof dd);var t,o}(d,_))))&&(0===i.type?i.value.isEqual(e.value):1!==i.type||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask));var t,o}class Bl extends hd{constructor(e,t,o,d=[]){super(),this.key=e,this.value=t,this.precondition=o,this.fieldTransforms=d,this.type=0}getFieldMask(){return null}}class Fo extends hd{constructor(e,t,o,d,_=[]){super(),this.key=e,this.data=t,this.fieldMask=o,this.precondition=d,this.fieldTransforms=_,this.type=1}getFieldMask(){return this.fieldMask}}function sf(i){const e=new Map;return i.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const o=i.data.field(t);e.set(t,o)}}),e}function rh(i,e,t){const o=new Map;fn(i.length===t.length);for(let d=0;d<t.length;d++){const _=i[d],D=_.transform,P=e.data.field(_.field);o.set(_.field,h_(D,P,t[d]))}return o}function af(i,e,t){const o=new Map;for(const d of i){const _=d.transform,D=t.data.field(d.field);o.set(d.field,Qd(_,D,e))}return o}class mu extends hd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class lf extends hd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class f_{constructor(e){this.count=e}}var _s,pr;function Gc(i){switch(i){default:return dn();case ut.CANCELLED:case ut.UNKNOWN:case ut.DEADLINE_EXCEEDED:case ut.RESOURCE_EXHAUSTED:case ut.INTERNAL:case ut.UNAVAILABLE:case ut.UNAUTHENTICATED:return!1;case ut.INVALID_ARGUMENT:case ut.NOT_FOUND:case ut.ALREADY_EXISTS:case ut.PERMISSION_DENIED:case ut.FAILED_PRECONDITION:case ut.ABORTED:case ut.OUT_OF_RANGE:case ut.UNIMPLEMENTED:case ut.DATA_LOSS:return!0}}function ih(i){if(void 0===i)return Zr("GRPC error has no .code"),ut.UNKNOWN;switch(i){case _s.OK:return ut.OK;case _s.CANCELLED:return ut.CANCELLED;case _s.UNKNOWN:return ut.UNKNOWN;case _s.DEADLINE_EXCEEDED:return ut.DEADLINE_EXCEEDED;case _s.RESOURCE_EXHAUSTED:return ut.RESOURCE_EXHAUSTED;case _s.INTERNAL:return ut.INTERNAL;case _s.UNAVAILABLE:return ut.UNAVAILABLE;case _s.UNAUTHENTICATED:return ut.UNAUTHENTICATED;case _s.INVALID_ARGUMENT:return ut.INVALID_ARGUMENT;case _s.NOT_FOUND:return ut.NOT_FOUND;case _s.ALREADY_EXISTS:return ut.ALREADY_EXISTS;case _s.PERMISSION_DENIED:return ut.PERMISSION_DENIED;case _s.FAILED_PRECONDITION:return ut.FAILED_PRECONDITION;case _s.ABORTED:return ut.ABORTED;case _s.OUT_OF_RANGE:return ut.OUT_OF_RANGE;case _s.UNIMPLEMENTED:return ut.UNIMPLEMENTED;case _s.DATA_LOSS:return ut.DATA_LOSS;default:return dn()}}(pr=_s||(_s={}))[pr.OK=0]="OK",pr[pr.CANCELLED=1]="CANCELLED",pr[pr.UNKNOWN=2]="UNKNOWN",pr[pr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",pr[pr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",pr[pr.NOT_FOUND=5]="NOT_FOUND",pr[pr.ALREADY_EXISTS=6]="ALREADY_EXISTS",pr[pr.PERMISSION_DENIED=7]="PERMISSION_DENIED",pr[pr.UNAUTHENTICATED=16]="UNAUTHENTICATED",pr[pr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",pr[pr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",pr[pr.ABORTED=10]="ABORTED",pr[pr.OUT_OF_RANGE=11]="OUT_OF_RANGE",pr[pr.UNIMPLEMENTED=12]="UNIMPLEMENTED",pr[pr.INTERNAL=13]="INTERNAL",pr[pr.UNAVAILABLE=14]="UNAVAILABLE",pr[pr.DATA_LOSS=15]="DATA_LOSS";class vl{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),o=this.inner[t];if(void 0!==o)for(const[d,_]of o)if(this.equalsFn(d,e))return _}has(e){return void 0!==this.get(e)}set(e,t){const o=this.mapKeyFn(e),d=this.inner[o];if(void 0===d)return this.inner[o]=[[e,t]],void this.innerSize++;for(let _=0;_<d.length;_++)if(this.equalsFn(d[_][0],e))return void(d[_]=[e,t]);d.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),o=this.inner[t];if(void 0===o)return!1;for(let d=0;d<o.length;d++)if(this.equalsFn(o[d][0],e))return 1===o.length?delete this.inner[t]:o.splice(d,1),this.innerSize--,!0;return!1}forEach(e){Zs(this.inner,(t,o)=>{for(const[d,_]of o)e(d,_)})}isEmpty(){return ua(this.inner)}size(){return this.innerSize}}const _u=new kr(rn.comparator);function Bo(){return _u}const Ys=new kr(rn.comparator);function Pa(...i){let e=Ys;for(const t of i)e=e.insert(t.key,t);return e}function Zc(i){let e=Ys;return i.forEach((t,o)=>e=e.insert(t,o.overlayedDocument)),e}function Ul(){return Vl()}function sh(){return Vl()}function Vl(){return new vl(i=>i.toString(),(i,e)=>i.isEqual(e))}const cf=new kr(rn.comparator),oh=new xr(rn.comparator);function Qn(...i){let e=oh;for(const t of i)e=e.add(t);return e}const Hl=new xr(Bn);function jl(){return Hl}class Wl{constructor(e,t,o,d,_){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=o,this.documentUpdates=d,this.resolvedLimboDocuments=_}static createSynthesizedRemoteEventForCurrentChange(e,t){const o=new Map;return o.set(e,Kl.createSynthesizedTargetChangeForCurrentChange(e,t)),new Wl(nn.min(),o,jl(),Bo(),Qn())}}class Kl{constructor(e,t,o,d,_){this.resumeToken=e,this.current=t,this.addedDocuments=o,this.modifiedDocuments=d,this.removedDocuments=_}static createSynthesizedTargetChangeForCurrentChange(e,t){return new Kl(Li.EMPTY_BYTE_STRING,t,Qn(),Qn(),Qn())}}class qc{constructor(e,t,o,d){this.Tt=e,this.removedTargetIds=t,this.key=o,this.Et=d}}class bl{constructor(e,t){this.targetId=e,this.At=t}}class ns{constructor(e,t,o=Li.EMPTY_BYTE_STRING,d=null){this.state=e,this.targetIds=t,this.resumeToken=o,this.cause=d}}class El{constructor(){this.Rt=0,this.bt=Ra(),this.Pt=Li.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}get current(){return this.vt}get resumeToken(){return this.Pt}get St(){return 0!==this.Rt}get Dt(){return this.Vt}Ct(e){e.approximateByteSize()>0&&(this.Vt=!0,this.Pt=e)}xt(){let e=Qn(),t=Qn(),o=Qn();return this.bt.forEach((d,_)=>{switch(_){case 0:e=e.add(d);break;case 2:t=t.add(d);break;case 1:o=o.add(d);break;default:dn()}}),new Kl(this.Pt,this.vt,e,t,o)}Nt(){this.Vt=!1,this.bt=Ra()}kt(e,t){this.Vt=!0,this.bt=this.bt.insert(e,t)}Mt(e){this.Vt=!0,this.bt=this.bt.remove(e)}Ot(){this.Rt+=1}Ft(){this.Rt-=1}$t(){this.Vt=!0,this.vt=!0}}class Yc{constructor(e){this.Bt=e,this.Lt=new Map,this.Ut=Bo(),this.qt=uf(),this.Kt=new xr(Bn)}Gt(e){for(const t of e.Tt)e.Et&&e.Et.isFoundDocument()?this.Qt(t,e.Et):this.jt(t,e.key,e.Et);for(const t of e.removedTargetIds)this.jt(t,e.key,e.Et)}Wt(e){this.forEachTarget(e,t=>{const o=this.zt(t);switch(e.state){case 0:this.Ht(t)&&o.Ct(e.resumeToken);break;case 1:o.Ft(),o.St||o.Nt(),o.Ct(e.resumeToken);break;case 2:o.Ft(),o.St||this.removeTarget(t);break;case 3:this.Ht(t)&&(o.$t(),o.Ct(e.resumeToken));break;case 4:this.Ht(t)&&(this.Jt(t),o.Ct(e.resumeToken));break;default:dn()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Lt.forEach((o,d)=>{this.Ht(d)&&t(d)})}Yt(e){const t=e.targetId,o=e.At.count,d=this.Xt(t);if(d){const _=d.target;if(Uc(_))if(0===o){const D=new rn(_.path);this.jt(t,D,ni.newNoDocument(D,nn.min()))}else fn(1===o);else this.Zt(t)!==o&&(this.Jt(t),this.Kt=this.Kt.add(t))}}te(e){const t=new Map;this.Lt.forEach((_,D)=>{const P=this.Xt(D);if(P){if(_.current&&Uc(P.target)){const j=new rn(P.target.path);null!==this.Ut.get(j)||this.ee(D,j)||this.jt(D,j,ni.newNoDocument(j,e))}_.Dt&&(t.set(D,_.xt()),_.Nt())}});let o=Qn();this.qt.forEach((_,D)=>{let P=!0;D.forEachWhile(j=>{const G=this.Xt(j);return!G||2===G.purpose||(P=!1,!1)}),P&&(o=o.add(_))}),this.Ut.forEach((_,D)=>D.setReadTime(e));const d=new Wl(e,t,this.Kt,this.Ut,o);return this.Ut=Bo(),this.qt=uf(),this.Kt=new xr(Bn),d}Qt(e,t){if(!this.Ht(e))return;const o=this.ee(e,t.key)?2:0;this.zt(e).kt(t.key,o),this.Ut=this.Ut.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ne(t.key).add(e))}jt(e,t,o){if(!this.Ht(e))return;const d=this.zt(e);this.ee(e,t)?d.kt(t,1):d.Mt(t),this.qt=this.qt.insert(t,this.ne(t).delete(e)),o&&(this.Ut=this.Ut.insert(t,o))}removeTarget(e){this.Lt.delete(e)}Zt(e){const t=this.zt(e).xt();return this.Bt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ot(e){this.zt(e).Ot()}zt(e){let t=this.Lt.get(e);return t||(t=new El,this.Lt.set(e,t)),t}ne(e){let t=this.qt.get(e);return t||(t=new xr(Bn),this.qt=this.qt.insert(e,t)),t}Ht(e){const t=null!==this.Xt(e);return t||Wt("WatchChangeAggregator","Detected inactive target",e),t}Xt(e){const t=this.Lt.get(e);return t&&t.St?null:this.Bt.se(e)}Jt(e){this.Lt.set(e,new El),this.Bt.getRemoteKeysForTarget(e).forEach(t=>{this.jt(e,t,null)})}ee(e,t){return this.Bt.getRemoteKeysForTarget(e).has(t)}}function uf(){return new kr(rn.comparator)}function Ra(){return new kr(rn.comparator)}const bc={asc:"ASCENDING",desc:"DESCENDING"},ea={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class yu{constructor(e,t){this.databaseId=e,this.gt=t}}function vu(i,e){return i.gt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function ah(i,e){return i.gt?e.toBase64():e.toUint8Array()}function fd(i,e){return vu(i,e.toTimestamp())}function rs(i){return fn(!!i),nn.fromTimestamp(function(e){const t=kt(e);return new Rr(t.seconds,t.nanos)}(i))}function lh(i,e){return(t=i,new Mr(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function ch(i){const e=Mr.fromString(i);return fn(uh(e)),e}function I(i,e){return lh(i.databaseId,e.path)}function m(i,e){const t=ch(e);if(t.get(1)!==i.databaseId.projectId)throw new Pt(ut.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+i.databaseId.projectId);if(t.get(3)!==i.databaseId.database)throw new Pt(ut.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+i.databaseId.database);return new rn(se(t))}function E(i,e){return lh(i.databaseId,e)}function x(i){const e=ch(i);return 4===e.length?Mr.emptyPath():se(e)}function q(i){return new Mr(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function se(i){return fn(i.length>4&&"documents"===i.get(4)),i.popFirst(5)}function Ve(i,e,t){return{name:I(i,e),fields:t.value.mapValue.fields}}function ht(i,e,t){const o=m(i,e.name),d=rs(e.updateTime),_=new Os({mapValue:{fields:e.fields}}),D=ni.newFoundDocument(o,d,_);return t&&D.setHasCommittedMutations(),t?D.setHasCommittedMutations():D}function Rn(i,e){let t;if(e instanceof Bl)t={update:Ve(i,e.key,e.value)};else if(e instanceof mu)t={delete:I(i,e.key)};else if(e instanceof Fo)t={update:Ve(i,e.key,e.data),updateMask:Vg(e.fieldMask)};else{if(!(e instanceof lf))return dn();t={verify:I(i,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(o=>function(d,_){const D=_.transform;if(D instanceof dd)return{fieldPath:_.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(D instanceof yl)return{fieldPath:_.field.canonicalString(),appendMissingElements:{values:D.elements}};if(D instanceof _a)return{fieldPath:_.field.canonicalString(),removeAllFromArray:{values:D.elements}};if(D instanceof Fl)return{fieldPath:_.field.canonicalString(),increment:D.yt};throw dn()}(0,o))),e.precondition.isNone||(t.currentDocument=void 0!==(d=e.precondition).updateTime?{updateTime:fd(i,d.updateTime)}:void 0!==d.exists?{exists:d.exists}:dn()),t;var d}function Sn(i,e){const t=e.currentDocument?void 0!==(d=e.currentDocument).updateTime?vi.updateTime(rs(d.updateTime)):void 0!==d.exists?vi.exists(d.exists):vi.none():vi.none(),o=e.updateTransforms?e.updateTransforms.map(d=>function(_,D){let P=null;"setToServerValue"in D?(fn("REQUEST_TIME"===D.setToServerValue),P=new dd):"appendMissingElements"in D?P=new yl(D.appendMissingElements.values||[]):"removeAllFromArray"in D?P=new _a(D.removeAllFromArray.values||[]):"increment"in D?P=new Fl(_,D.increment):dn();const j=Di.fromServerFormat(D.fieldPath);return new Kc(j,P)}(i,d)):[];var d;if(e.update){const d=m(i,e.update.name),_=new Os({mapValue:{fields:e.update.fields}});if(e.updateMask){const D=new qs((e.updateMask.fieldPaths||[]).map(G=>Di.fromServerFormat(G)));return new Fo(d,_,D,t,o)}return new Bl(d,_,t,o)}if(e.delete){const d=m(i,e.delete);return new mu(d,t)}if(e.verify){const d=m(i,e.verify);return new lf(d,t)}return dn()}function ka(i,e){return{documents:[E(i,e.path)]}}function Qc(i,e){const t={structuredQuery:{}},o=e.path;null!==e.collectionGroup?(t.parent=E(i,o),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=E(i,o.popLast()),t.structuredQuery.from=[{collectionId:o.lastSegment()}]);const d=function(j){if(0===j.length)return;const G=j.map(re=>function(Ce){if("=="===Ce.op){if(pa(Ce.value))return{unaryFilter:{field:Xc(Ce.field),op:"IS_NAN"}};if(pl(Ce.value))return{unaryFilter:{field:Xc(Ce.field),op:"IS_NULL"}}}else if("!="===Ce.op){if(pa(Ce.value))return{unaryFilter:{field:Xc(Ce.field),op:"IS_NOT_NAN"}};if(pl(Ce.value))return{unaryFilter:{field:Xc(Ce.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Xc(Ce.field),op:Eu(Ce.op),value:Ce.value}}}(re));return 1===G.length?G[0]:{compositeFilter:{op:"AND",filters:G}}}(e.filters);d&&(t.structuredQuery.where=d);const _=function(j){if(0!==j.length)return j.map(G=>{return{field:Xc((re=G).field),direction:hf(re.dir)};var re})}(e.orderBy);_&&(t.structuredQuery.orderBy=_);const D=(G=e.limit,i.gt||X(G)?G:{value:G});var G,P,j;return null!==D&&(t.structuredQuery.limit=D),e.startAt&&(t.structuredQuery.startAt={before:(P=e.startAt).inclusive,values:P.position}),e.endAt&&(t.structuredQuery.endAt={before:!(j=e.endAt).inclusive,values:j.position}),t}function pd(i){let e=x(i.parent);const t=i.structuredQuery,o=t.from?t.from.length:0;let d=null;if(o>0){fn(1===o);const re=t.from[0];re.allDescendants?d=re.collectionId:e=e.child(re.collectionId)}let _=[];t.where&&(_=df(t.where));let D=[];t.orderBy&&(D=t.orderBy.map(re=>{return new Lo(Jc((Ce=re).field),function(tt){switch(tt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Ce.direction));var Ce}));let P=null;t.limit&&(P=function(re){let Ce;return Ce="object"==typeof re?re.value:re,X(Ce)?null:Ce}(t.limit));let j=null;var re;t.startAt&&(j=new Jo((re=t.startAt).values||[],!!re.before));let G=null;return t.endAt&&(G=function(re){return new Jo(re.values||[],!re.before)}(t.endAt)),Qh(e,d,D,_,P,"F",j,G)}function df(i){return i?void 0!==i.unaryFilter?[ff(i)]:void 0!==i.fieldFilter?[gd(i)]:void 0!==i.compositeFilter?i.compositeFilter.filters.map(e=>df(e)).reduce((e,t)=>e.concat(t)):dn():[]}function hf(i){return bc[i]}function Eu(i){return ea[i]}function Xc(i){return{fieldPath:i.canonicalString()}}function Jc(i){return Di.fromServerFormat(i.fieldPath)}function gd(i){return ms.create(Jc(i.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return dn()}}(i.fieldFilter.op),i.fieldFilter.value)}function ff(i){switch(i.unaryFilter.op){case"IS_NAN":const e=Jc(i.unaryFilter.field);return ms.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=Jc(i.unaryFilter.field);return ms.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Jc(i.unaryFilter.field);return ms.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Jc(i.unaryFilter.field);return ms.create(d,"!=",{nullValue:"NULL_VALUE"});default:return dn()}}function Vg(i){const e=[];return i.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function uh(i){return i.length>=4&&"projects"===i.get(0)&&"databases"===i.get(2)}function Uo(i){let e="";for(let t=0;t<i.length;t++)e.length>0&&(e=Ep(e)),e=Py(i.get(t),e);return Ep(e)}function Py(i,e){let t=e;const o=i.length;for(let d=0;d<o;d++){const _=i.charAt(d);switch(_){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=_}}return t}function Ep(i){return i+"\x01\x01"}function Cl(i){const e=i.length;if(fn(e>=2),2===e)return fn("\x01"===i.charAt(0)&&"\x01"===i.charAt(1)),Mr.emptyPath();const t=e-2,o=[];let d="";for(let _=0;_<e;){const D=i.indexOf("\x01",_);switch((D<0||D>t)&&dn(),i.charAt(D+1)){case"\x01":const P=i.substring(_,D);let j;0===d.length?j=P:(d+=P,j=d,d=""),o.push(j);break;case"\x10":d+=i.substring(_,D),d+="\0";break;case"\x11":d+=i.substring(_,D+1);break;default:dn()}_=D+2}return new Mr(o)}const pf=["userId","batchId"];function Cu(i,e){return[i,Uo(e)]}function Cp(i,e,t){return[i,Uo(e),t]}const Hg={},Dp=["prefixPath","collectionGroup","readTime","documentId"],p_=["prefixPath","collectionGroup","documentId"],wp=["collectionGroup","readTime","prefixPath","documentId"],La=["canonicalId","targetId"],g_=["targetId","path"],Ry=["path","targetId"],m_=["collectionId","parent"],jg=["indexId","uid"],__=["uid","sequenceNumber"],Wg=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],ky=["indexId","uid","orderedDocumentKey"],Kg=["userId","collectionPath","documentId"],Ip=["userId","collectionPath","largestBatchId"],y_=["userId","collectionGroup","largestBatchId"],$g=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],v_=[...$g,"documentOverlays"],Mp=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],zg=Mp,b_=[...zg,"indexConfiguration","indexState","indexEntries"];class Co extends _c{constructor(e,t){super(),this.ie=e,this.currentSequenceNumber=t}}function Rs(i,e){const t=qt(i);return T.O(t.ie,e)}class gf{constructor(e,t,o,d){this.batchId=e,this.localWriteTime=t,this.baseMutations=o,this.mutations=d}applyToRemoteDocument(e,t){const o=t.mutationResults;for(let d=0;d<this.mutations.length;d++){const _=this.mutations[d];_.key.isEqual(e.key)&&zc(_,e,o[d])}}applyToLocalView(e,t){for(const o of this.baseMutations)o.key.isEqual(e.key)&&(t=wi(o,e,t,this.localWriteTime));for(const o of this.mutations)o.key.isEqual(e.key)&&(t=wi(o,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const o=sh();return this.mutations.forEach(d=>{const _=e.get(d.key),D=_.overlayedDocument;let P=this.applyToLocalView(D,_.mutatedFields);P=t.has(d.key)?null:P;const j=eh(D,P);null!==j&&o.set(d.key,j),D.isValidDocument()||D.convertToNoDocument(nn.min())}),o}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Qn())}isEqual(e){return this.batchId===e.batchId&&Eo(this.mutations,e.mutations,(t,o)=>nh(t,o))&&Eo(this.baseMutations,e.baseMutations,(t,o)=>nh(t,o))}}class mf{constructor(e,t,o,d){this.batch=e,this.commitVersion=t,this.mutationResults=o,this.docVersions=d}static from(e,t,o){fn(e.mutations.length===o.length);let d=cf;const _=e.mutations;for(let D=0;D<_.length;D++)d=d.insert(_[D].key,o[D].version);return new mf(e,t,o,d)}}class oo{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Qa{constructor(e,t,o,d,_=nn.min(),D=nn.min(),P=Li.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=o,this.sequenceNumber=d,this.snapshotVersion=_,this.lastLimboFreeSnapshotVersion=D,this.resumeToken=P}withSequenceNumber(e){return new Qa(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Qa(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Qa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class _f{constructor(e){this.re=e}}function Gg(i,e){const t=e.key,o={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:dh(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())o.document={name:I(d=i.re,(_=e).key),fields:_.data.value.mapValue.fields,updateTime:vu(d,_.version.toTimestamp())};else if(e.isNoDocument())o.noDocument={path:t.path.toArray(),readTime:Du(e.version)};else{if(!e.isUnknownDocument())return dn();o.unknownDocument={path:t.path.toArray(),version:Du(e.version)}}var d,_;return o}function dh(i){const e=i.toTimestamp();return[e.seconds,e.nanoseconds]}function Du(i){const e=i.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function eu(i){const e=new Rr(i.seconds,i.nanoseconds);return nn.fromTimestamp(e)}function wu(i,e){const t=(e.baseMutations||[]).map(_=>Sn(i.re,_));for(let _=0;_<e.mutations.length-1;++_){const D=e.mutations[_];_+1<e.mutations.length&&void 0!==e.mutations[_+1].transform&&(D.updateTransforms=e.mutations[_+1].transform.fieldTransforms,e.mutations.splice(_+1,1),++_)}const o=e.mutations.map(_=>Sn(i.re,_)),d=Rr.fromMillis(e.localWriteTimeMs);return new gf(e.batchId,d,t,o)}function md(i){const e=eu(i.readTime),t=void 0!==i.lastLimboFreeSnapshotVersion?eu(i.lastLimboFreeSnapshotVersion):nn.min();let o;var d;return void 0!==i.query.documents?(fn(1===(d=i.query).documents.length),o=No(Ps(x(d.documents[0])))):o=No(pd(i.query)),new Qa(o,i.targetId,0,i.lastListenSequenceNumber,e,t,Li.fromBase64String(i.resumeToken))}function Zg(i,e){const t=Du(e.snapshotVersion),o=Du(e.lastLimboFreeSnapshotVersion);let d;d=Uc(e.target)?ka(i.re,e.target):Qc(i.re,e.target);const _=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Bc(e.target),readTime:t,resumeToken:_,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:o,query:d}}function Tp(i){const e=pd({parent:i.parent,structuredQuery:i.structuredQuery});return"LAST"===i.limitType?jc(e,e.limit,"L"):e}function yf(i,e){return new oo(e.largestBatchId,Sn(i.re,e.overlayMutation))}function qg(i,e){const t=e.path.lastSegment();return[i,Uo(e.path.popLast()),t]}function Yg(i,e,t,o){return{indexId:i,uid:e.uid||"",sequenceNumber:t,readTime:Du(o.readTime),documentKey:Uo(o.documentKey.path),largestBatchId:o.largestBatchId}}class _d{getBundleMetadata(e,t){return $l(e).get(t).next(o=>{if(o)return{id:(d=o).bundleId,createTime:eu(d.createTime),version:d.version};var d})}saveBundleMetadata(e,t){return $l(e).put({bundleId:(o=t).id,createTime:Du(rs(o.createTime)),version:o.version});var o}getNamedQuery(e,t){return Qg(e).get(t).next(o=>{if(o)return{name:(d=o).name,query:Tp(d.bundledQuery),readTime:eu(d.readTime)};var d})}saveNamedQuery(e,t){return Qg(e).put({name:(o=t).name,readTime:Du(rs(o.readTime)),bundledQuery:o.bundledQuery});var o}}function $l(i){return Rs(i,"bundles")}function Qg(i){return Rs(i,"namedQueries")}class vf{constructor(e,t){this.It=e,this.userId=t}static oe(e,t){return new vf(e,t.uid||"")}getOverlay(e,t){return bf(e).get(qg(this.userId,t)).next(o=>o?yf(this.It,o):null)}getOverlays(e,t){const o=Ul();return w.forEach(t,d=>this.getOverlay(e,d).next(_=>{null!==_&&o.set(d,_)})).next(()=>o)}saveOverlays(e,t,o){const d=[];return o.forEach((_,D)=>{const P=new oo(t,D);d.push(this.ue(e,P))}),w.waitFor(d)}removeOverlaysForBatchId(e,t,o){const d=new Set;t.forEach(D=>d.add(Uo(D.getCollectionPath())));const _=[];return d.forEach(D=>{const P=IDBKeyRange.bound([this.userId,D,o],[this.userId,D,o+1],!1,!0);_.push(bf(e).Y("collectionPathOverlayIndex",P))}),w.waitFor(_)}getOverlaysForCollection(e,t,o){const d=Ul(),_=Uo(t),D=IDBKeyRange.bound([this.userId,_,o],[this.userId,_,Number.POSITIVE_INFINITY],!0);return bf(e).W("collectionPathOverlayIndex",D).next(P=>{for(const j of P){const G=yf(this.It,j);d.set(G.getKey(),G)}return d})}getOverlaysForCollectionGroup(e,t,o,d){const _=Ul();let D;const P=IDBKeyRange.bound([this.userId,t,o],[this.userId,t,Number.POSITIVE_INFINITY],!0);return bf(e).Z({index:"collectionGroupOverlayIndex",range:P},(j,G,re)=>{const Ce=yf(this.It,G);_.size()<d||Ce.largestBatchId===D?(_.set(Ce.getKey(),Ce),D=Ce.largestBatchId):re.done()}).next(()=>_)}ue(e,t){return bf(e).put(function(o,d,_){const[D,P,j]=qg(d,_.mutation.key);return{userId:d,collectionPath:P,documentId:j,collectionGroup:_.mutation.key.getCollectionGroup(),largestBatchId:_.largestBatchId,overlayMutation:Rn(o.re,_.mutation)}}(this.It,this.userId,t))}}function bf(i){return Rs(i,"documentOverlays")}class yd{constructor(){}ce(e,t){this.ae(e,t),t.he()}ae(e,t){if("nullValue"in e)this.le(t,5);else if("booleanValue"in e)this.le(t,10),t.fe(e.booleanValue?1:0);else if("integerValue"in e)this.le(t,15),t.fe(hi(e.integerValue));else if("doubleValue"in e){const o=hi(e.doubleValue);isNaN(o)?this.le(t,13):(this.le(t,15),pe(o)?t.fe(0):t.fe(o))}else if("timestampValue"in e){const o=e.timestampValue;this.le(t,20),"string"==typeof o?t.de(o):(t.de(`${o.seconds||""}`),t.fe(o.nanos||0))}else if("stringValue"in e)this._e(e.stringValue,t),this.we(t);else if("bytesValue"in e)this.le(t,30),t.me(so(e.bytesValue)),this.we(t);else if("referenceValue"in e)this.ge(e.referenceValue,t);else if("geoPointValue"in e){const o=e.geoPointValue;this.le(t,45),t.fe(o.latitude||0),t.fe(o.longitude||0)}else"mapValue"in e?qa(e)?this.le(t,Number.MAX_SAFE_INTEGER):(this.ye(e.mapValue,t),this.we(t)):"arrayValue"in e?(this.pe(e.arrayValue,t),this.we(t)):dn()}_e(e,t){this.le(t,25),this.Ie(e,t)}Ie(e,t){t.de(e)}ye(e,t){const o=e.fields||{};this.le(t,55);for(const d of Object.keys(o))this._e(d,t),this.ae(o[d],t)}pe(e,t){const o=e.values||[];this.le(t,50);for(const d of o)this.ae(d,t)}ge(e,t){this.le(t,37),rn.fromName(e).path.forEach(o=>{this.le(t,60),this.Ie(o,t)})}le(e,t){e.fe(t)}we(e){e.fe(2)}}function Xg(i){if(0===i)return 8;let e=0;return i>>4==0&&(e+=4,i<<=4),i>>6==0&&(e+=2,i<<=2),i>>7==0&&(e+=1),e}function Ly(i){const e=64-function(t){let o=0;for(let d=0;d<8;++d){const _=Xg(255&t[d]);if(o+=_,8!==_)break}return o}(i);return Math.ceil(e/8)}yd.Te=new yd;class zl{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ee(e){const t=e[Symbol.iterator]();let o=t.next();for(;!o.done;)this.Ae(o.value),o=t.next();this.Re()}be(e){const t=e[Symbol.iterator]();let o=t.next();for(;!o.done;)this.Pe(o.value),o=t.next();this.ve()}Ve(e){for(const t of e){const o=t.charCodeAt(0);if(o<128)this.Ae(o);else if(o<2048)this.Ae(960|o>>>6),this.Ae(128|63&o);else if(t<"\ud800"||"\udbff"<t)this.Ae(480|o>>>12),this.Ae(128|63&o>>>6),this.Ae(128|63&o);else{const d=t.codePointAt(0);this.Ae(240|d>>>18),this.Ae(128|63&d>>>12),this.Ae(128|63&d>>>6),this.Ae(128|63&d)}}this.Re()}Se(e){for(const t of e){const o=t.charCodeAt(0);if(o<128)this.Pe(o);else if(o<2048)this.Pe(960|o>>>6),this.Pe(128|63&o);else if(t<"\ud800"||"\udbff"<t)this.Pe(480|o>>>12),this.Pe(128|63&o>>>6),this.Pe(128|63&o);else{const d=t.codePointAt(0);this.Pe(240|d>>>18),this.Pe(128|63&d>>>12),this.Pe(128|63&d>>>6),this.Pe(128|63&d)}}this.ve()}De(e){const t=this.Ce(e),o=Ly(t);this.xe(1+o),this.buffer[this.position++]=255&o;for(let d=t.length-o;d<t.length;++d)this.buffer[this.position++]=255&t[d]}Ne(e){const t=this.Ce(e),o=Ly(t);this.xe(1+o),this.buffer[this.position++]=~(255&o);for(let d=t.length-o;d<t.length;++d)this.buffer[this.position++]=~(255&t[d])}ke(){this.Me(255),this.Me(255)}Oe(){this.Fe(255),this.Fe(255)}reset(){this.position=0}seed(e){this.xe(e.length),this.buffer.set(e,this.position),this.position+=e.length}$e(){return this.buffer.slice(0,this.position)}Ce(e){const t=function(d){const _=new DataView(new ArrayBuffer(8));return _.setFloat64(0,d,!1),new Uint8Array(_.buffer)}(e),o=0!=(128&t[0]);t[0]^=o?255:128;for(let d=1;d<t.length;++d)t[d]^=o?255:0;return t}Ae(e){const t=255&e;0===t?(this.Me(0),this.Me(255)):255===t?(this.Me(255),this.Me(0)):this.Me(t)}Pe(e){const t=255&e;0===t?(this.Fe(0),this.Fe(255)):255===t?(this.Fe(255),this.Fe(0)):this.Fe(e)}Re(){this.Me(0),this.Me(1)}ve(){this.Fe(0),this.Fe(1)}Me(e){this.xe(1),this.buffer[this.position++]=e}Fe(e){this.xe(1),this.buffer[this.position++]=~e}xe(e){const t=e+this.position;if(t<=this.buffer.length)return;let o=2*this.buffer.length;o<t&&(o=t);const d=new Uint8Array(o);d.set(this.buffer),this.buffer=d}}class Ap{constructor(e){this.Be=e}me(e){this.Be.Ee(e)}de(e){this.Be.Ve(e)}fe(e){this.Be.De(e)}he(){this.Be.ke()}}class Sp{constructor(e){this.Be=e}me(e){this.Be.be(e)}de(e){this.Be.Se(e)}fe(e){this.Be.Ne(e)}he(){this.Be.Oe()}}class Iu{constructor(){this.Be=new zl,this.Le=new Ap(this.Be),this.Ue=new Sp(this.Be)}seed(e){this.Be.seed(e)}qe(e){return 0===e?this.Le:this.Ue}$e(){return this.Be.$e()}reset(){this.Be.reset()}}class ta{constructor(e,t,o,d){this.indexId=e,this.documentKey=t,this.arrayValue=o,this.directionalValue=d}Ke(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,o=new Uint8Array(t);return o.set(this.directionalValue,0),t!==e?o.set([0],this.directionalValue.length):++o[o.length-1],new ta(this.indexId,this.documentKey,this.arrayValue,o)}}function tu(i,e){let t=i.indexId-e.indexId;return 0!==t?t:(t=nu(i.arrayValue,e.arrayValue),0!==t?t:(t=nu(i.directionalValue,e.directionalValue),0!==t?t:rn.comparator(i.documentKey,e.documentKey)))}function nu(i,e){for(let t=0;t<i.length&&t<e.length;++t){const o=i[t]-e[t];if(0!==o)return o}return i.length-e.length}class xp{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ge=e.orderBy,this.Qe=[];for(const t of e.filters){const o=t;o.dt()?this.je=o:this.Qe.push(o)}}We(e){const t=mc(e);if(void 0!==t&&!this.ze(t))return!1;const o=ca(e);let d=0,_=0;for(;d<o.length&&this.ze(o[d]);++d);if(d===o.length)return!0;if(void 0!==this.je){const D=o[d];if(!this.He(this.je,D)||!this.Je(this.Ge[_++],D))return!1;++d}for(;d<o.length;++d){const D=o[d];if(_>=this.Ge.length||!this.Je(this.Ge[_++],D))return!1}return!0}ze(e){for(const t of this.Qe)if(this.He(t,e))return!0;return!1}He(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Je(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class Op{constructor(){this.Ye=new Do}addToCollectionParentIndex(e,t){return this.Ye.add(t),w.resolve()}getCollectionParents(e,t){return w.resolve(this.Ye.getEntries(t))}addFieldIndex(e,t){return w.resolve()}deleteFieldIndex(e,t){return w.resolve()}getDocumentsMatchingTarget(e,t){return w.resolve(null)}getIndexType(e,t){return w.resolve(0)}getFieldIndexes(e,t){return w.resolve([])}getNextCollectionGroupToUpdate(e){return w.resolve(null)}getMinOffset(e,t){return w.resolve(gs.min())}getMinOffsetFromCollectionGroup(e,t){return w.resolve(gs.min())}updateCollectionGroup(e,t,o){return w.resolve()}updateIndexEntries(e,t){return w.resolve()}}class Do{constructor(){this.index={}}add(e){const t=e.lastSegment(),o=e.popLast(),d=this.index[t]||new xr(Mr.comparator),_=!d.has(o);return this.index[t]=d.add(o),_}has(e){const t=e.lastSegment(),o=e.popLast(),d=this.index[t];return d&&d.has(o)}getEntries(e){return(this.index[e]||new xr(Mr.comparator)).toArray()}}const Mu=new Uint8Array(0);class Ef{constructor(e,t){this.user=e,this.databaseId=t,this.Xe=new Do,this.Ze=new vl(o=>Bc(o),(o,d)=>sd(o,d)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Xe.has(t)){const o=t.lastSegment(),d=t.popLast();e.addOnCommittedListener(()=>{this.Xe.add(t)});const _={collectionId:o,parent:Uo(d)};return Jg(e).put(_)}return w.resolve()}getCollectionParents(e,t){const o=[],d=IDBKeyRange.bound([t,""],[zs(t),""],!1,!0);return Jg(e).W(d).next(_=>{for(const D of _){if(D.collectionId!==t)break;o.push(Cl(D.parent))}return o})}addFieldIndex(e,t){const o=ru(e),d={indexId:(D=t).indexId,collectionGroup:D.collectionGroup,fields:D.fields.map(P=>[P.fieldPath.canonicalString(),P.kind])};var D;delete d.indexId;const _=o.add(d);if(t.indexState){const D=hh(e);return _.next(P=>{D.put(Yg(P,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return _.next()}deleteFieldIndex(e,t){const o=ru(e),d=hh(e),_=Dl(e);return o.delete(t.indexId).next(()=>d.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>_.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const o=Dl(e);let d=!0;const _=new Map;return w.forEach(this.tn(t),D=>this.en(e,D).next(P=>{d&&(d=!!P),_.set(D,P)})).next(()=>{if(d){let D=Qn();const P=[];return w.forEach(_,(j,G)=>{var re;Wt("IndexedDbIndexManager",`Using index ${re=j,`id=${re.indexId}|cg=${re.collectionGroup}|f=${re.fields.map(Or=>`${Or.fieldPath}:${Or.kind}`).join(",")}`} to execute ${Bc(t)}`);const Ce=function(Or,$r){const Vr=mc($r);if(void 0===Vr)return null;for(const qr of od(Or,Vr.fieldPath))switch(qr.op){case"array-contains-any":return qr.value.arrayValue.values||[];case"array-contains":return[qr.value]}return null}(G,j),tt=function(Or,$r){const Vr=new Map;for(const qr of ca($r))for(const lo of od(Or,qr.fieldPath))switch(lo.op){case"==":case"in":Vr.set(qr.fieldPath.canonicalString(),lo.value);break;case"not-in":case"!=":return Vr.set(qr.fieldPath.canonicalString(),lo.value),Array.from(Vr.values())}return null}(G,j),vt=function(Or,$r){const Vr=[];let qr=!0;for(const lo of ca($r)){const _p=0===lo.kind?gl(Or,lo.fieldPath,Or.startAt):vc(Or,lo.fieldPath,Or.startAt);Vr.push(_p.value),qr&&(qr=_p.inclusive)}return new Jo(Vr,qr)}(G,j),wt=function(Or,$r){const Vr=[];let qr=!0;for(const lo of ca($r)){const _p=0===lo.kind?vc(Or,lo.fieldPath,Or.endAt):gl(Or,lo.fieldPath,Or.endAt);Vr.push(_p.value),qr&&(qr=_p.inclusive)}return new Jo(Vr,qr)}(G,j),Kt=this.nn(j,G,vt),wn=this.nn(j,G,wt),Tr=this.sn(j,G,tt),Jn=this.rn(j.indexId,Ce,Kt,vt.inclusive,wn,wt.inclusive,Tr);return w.forEach(Jn,Or=>o.J(Or,t.limit).next($r=>{$r.forEach(Vr=>{const qr=rn.fromSegments(Vr.documentKey);D.has(qr)||(D=D.add(qr),P.push(qr))})}))}).next(()=>P)}return w.resolve(null)})}tn(e){let t=this.Ze.get(e);return t||(t=[e],this.Ze.set(e,t),t)}rn(e,t,o,d,_,D,P){const j=(null!=t?t.length:1)*Math.max(o.length,_.length),G=j/(null!=t?t.length:1),re=[];for(let Ce=0;Ce<j;++Ce){const tt=t?this.on(t[Ce/G]):Mu,vt=this.un(e,tt,o[Ce%G],d),wt=this.cn(e,tt,_[Ce%G],D),Kt=P.map(wn=>this.un(e,tt,wn,!0));re.push(...this.createRange(vt,wt,Kt))}return re}un(e,t,o,d){const _=new ta(e,rn.empty(),t,o);return d?_:_.Ke()}cn(e,t,o,d){const _=new ta(e,rn.empty(),t,o);return d?_.Ke():_}en(e,t){const o=new xp(t),d=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,d).next(_=>{let D=null;for(const P of _)o.We(P)&&(!D||P.fields.length>D.fields.length)&&(D=P);return D})}getIndexType(e,t){let o=2;return w.forEach(this.tn(t),d=>this.en(e,d).next(_=>{_?0!==o&&_.fields.length<function(D){let P=new xr(Di.comparator),j=!1;for(const G of D.filters){const re=G;re.field.isKeyField()||("array-contains"===re.op||"array-contains-any"===re.op?j=!0:P=P.add(re.field))}for(const G of D.orderBy)G.field.isKeyField()||(P=P.add(G.field));return P.size+(j?1:0)}(d)&&(o=1):o=0})).next(()=>o)}an(e,t){const o=new Iu;for(const d of ca(e)){const _=t.data.field(d.fieldPath);if(null==_)return null;const D=o.qe(d.kind);yd.Te.ce(_,D)}return o.$e()}on(e){const t=new Iu;return yd.Te.ce(e,t.qe(0)),t.$e()}hn(e,t){const o=new Iu;return yd.Te.ce(Yo(this.databaseId,t),o.qe(function(d){const _=ca(d);return 0===_.length?0:_[_.length-1].kind}(e))),o.$e()}sn(e,t,o){if(null===o)return[];let d=[];d.push(new Iu);let _=0;for(const D of ca(e)){const P=o[_++];for(const j of d)if(this.ln(t,D.fieldPath)&&Qo(P))d=this.fn(d,D,P);else{const G=j.qe(D.kind);yd.Te.ce(P,G)}}return this.dn(d)}nn(e,t,o){return this.sn(e,t,o.position)}dn(e){const t=[];for(let o=0;o<e.length;++o)t[o]=e[o].$e();return t}fn(e,t,o){const d=[...e],_=[];for(const D of o.arrayValue.values||[])for(const P of d){const j=new Iu;j.seed(P.$e()),yd.Te.ce(D,j.qe(t.kind)),_.push(j)}return _}ln(e,t){return!!e.filters.find(o=>o instanceof ms&&o.field.isEqual(t)&&("in"===o.op||"not-in"===o.op))}getFieldIndexes(e,t){const o=ru(e),d=hh(e);return(t?o.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):o.W()).next(_=>{const D=[];return w.forEach(_,P=>d.get([P.indexId,this.uid]).next(j=>{D.push(function(G,re){const Ce=re?new za(re.sequenceNumber,new gs(eu(re.readTime),new rn(Cl(re.documentKey)),re.largestBatchId)):za.empty(),tt=G.fields.map(([vt,wt])=>new hu(Di.fromServerFormat(vt),wt));return new gc(G.indexId,G.collectionGroup,tt,Ce)}(P,j))})).next(()=>D)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((o,d)=>{const _=o.indexState.sequenceNumber-d.indexState.sequenceNumber;return 0!==_?_:Bn(o.collectionGroup,d.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,o){const d=ru(e),_=hh(e);return this._n(e).next(D=>d.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(P=>w.forEach(P,j=>_.put(Yg(j.indexId,this.user,D,o)))))}updateIndexEntries(e,t){const o=new Map;return w.forEach(t,(d,_)=>{const D=o.get(d.collectionGroup);return(D?w.resolve(D):this.getFieldIndexes(e,d.collectionGroup)).next(P=>(o.set(d.collectionGroup,P),w.forEach(P,j=>this.wn(e,d,j).next(G=>{const re=this.mn(_,j);return G.isEqual(re)?w.resolve():this.gn(e,_,j,G,re)}))))})}yn(e,t,o,d){return Dl(e).put({indexId:d.indexId,uid:this.uid,arrayValue:d.arrayValue,directionalValue:d.directionalValue,orderedDocumentKey:this.hn(o,t.key),documentKey:t.key.path.toArray()})}pn(e,t,o,d){return Dl(e).delete([d.indexId,this.uid,d.arrayValue,d.directionalValue,this.hn(o,t.key),t.key.path.toArray()])}wn(e,t,o){const d=Dl(e);let _=new xr(tu);return d.Z({index:"documentKeyIndex",range:IDBKeyRange.only([o.indexId,this.uid,this.hn(o,t)])},(D,P)=>{_=_.add(new ta(o.indexId,t,P.arrayValue,P.directionalValue))}).next(()=>_)}mn(e,t){let o=new xr(tu);const d=this.an(t,e);if(null==d)return o;const _=mc(t);if(null!=_){const D=e.data.field(_.fieldPath);if(Qo(D))for(const P of D.arrayValue.values||[])o=o.add(new ta(t.indexId,e.key,this.on(P),d))}else o=o.add(new ta(t.indexId,e.key,Mu,d));return o}gn(e,t,o,d,_){Wt("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const D=[];return function(P,j,G,re,Ce){const tt=P.getIterator(),vt=j.getIterator();let wt=fl(tt),Kt=fl(vt);for(;wt||Kt;){let wn=!1,Tr=!1;if(wt&&Kt){const Jn=G(wt,Kt);Jn<0?Tr=!0:Jn>0&&(wn=!0)}else null!=wt?Tr=!0:wn=!0;wn?(re(Kt),Kt=fl(vt)):Tr?(Ce(wt),wt=fl(tt)):(wt=fl(tt),Kt=fl(vt))}}(d,_,tu,P=>{D.push(this.yn(e,t,o,P))},P=>{D.push(this.pn(e,t,o,P))}),w.waitFor(D)}_n(e){let t=1;return hh(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(o,d,_)=>{_.done(),t=d.sequenceNumber+1}).next(()=>t)}createRange(e,t,o){o=o.sort((D,P)=>tu(D,P)).filter((D,P,j)=>!P||0!==tu(D,j[P-1]));const d=[];d.push(e);for(const D of o){const P=tu(D,e),j=tu(D,t);if(0===P)d[0]=e.Ke();else if(P>0&&j<0)d.push(D),d.push(D.Ke());else if(j>0)break}d.push(t);const _=[];for(let D=0;D<d.length;D+=2)_.push(IDBKeyRange.bound([d[D].indexId,this.uid,d[D].arrayValue,d[D].directionalValue,Mu,[]],[d[D+1].indexId,this.uid,d[D+1].arrayValue,d[D+1].directionalValue,Mu,[]]));return _}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(em)}getMinOffset(e,t){return w.mapArray(this.tn(t),o=>this.en(e,o).next(d=>d||dn())).next(em)}}function Jg(i){return Rs(i,"collectionParents")}function Dl(i){return Rs(i,"indexEntries")}function ru(i){return Rs(i,"indexConfiguration")}function hh(i){return Rs(i,"indexState")}function em(i){fn(0!==i.length);let e=i[0].indexState.offset,t=e.largestBatchId;for(let o=1;o<i.length;o++){const d=i[o].indexState.offset;xs(d,e)<0&&(e=d),t<d.largestBatchId&&(t=d.largestBatchId)}return new gs(e.readTime,e.documentKey,t)}const Gl={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class na{constructor(e,t,o){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=o}static withCacheSize(e){return new na(e,na.DEFAULT_COLLECTION_PERCENTILE,na.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function tm(i,e,t){const o=i.store("mutations"),d=i.store("documentMutations"),_=[],D=IDBKeyRange.only(t.batchId);let P=0;const j=o.Z({range:D},(re,Ce,tt)=>(P++,tt.delete()));_.push(j.next(()=>{fn(1===P)}));const G=[];for(const re of t.mutations){const Ce=Cp(e,re.key.path,t.batchId);_.push(d.delete(Ce)),G.push(re.key)}return w.waitFor(_).next(()=>G)}function Pp(i){if(!i)return 0;let e;if(i.document)e=i.document;else if(i.unknownDocument)e=i.unknownDocument;else{if(!i.noDocument)throw dn();e=i.noDocument}return JSON.stringify(e).length}na.DEFAULT_COLLECTION_PERCENTILE=10,na.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,na.DEFAULT=new na(41943040,na.DEFAULT_COLLECTION_PERCENTILE,na.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),na.DISABLED=new na(-1,0,0);class Cf{constructor(e,t,o,d){this.userId=e,this.It=t,this.indexManager=o,this.referenceDelegate=d,this.In={}}static oe(e,t,o,d){fn(""!==e.uid);const _=e.isAuthenticated()?e.uid:"";return new Cf(_,t,o,d)}checkEmpty(e){let t=!0;const o=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ec(e).Z({index:"userMutationsIndex",range:o},(d,_,D)=>{t=!1,D.done()}).next(()=>t)}addMutationBatch(e,t,o,d){const _=vd(e),D=Ec(e);return D.add({}).next(P=>{fn("number"==typeof P);const j=new gf(P,t,o,d),G=function(tt,vt,wt){const Kt=wt.baseMutations.map(Tr=>Rn(tt.re,Tr)),wn=wt.mutations.map(Tr=>Rn(tt.re,Tr));return{userId:vt,batchId:wt.batchId,localWriteTimeMs:wt.localWriteTime.toMillis(),baseMutations:Kt,mutations:wn}}(this.It,this.userId,j),re=[];let Ce=new xr((tt,vt)=>Bn(tt.canonicalString(),vt.canonicalString()));for(const tt of d){const vt=Cp(this.userId,tt.key.path,P);Ce=Ce.add(tt.key.path.popLast()),re.push(D.put(G)),re.push(_.put(vt,Hg))}return Ce.forEach(tt=>{re.push(this.indexManager.addToCollectionParentIndex(e,tt))}),e.addOnCommittedListener(()=>{this.In[P]=j.keys()}),w.waitFor(re).next(()=>j)})}lookupMutationBatch(e,t){return Ec(e).get(t).next(o=>o?(fn(o.userId===this.userId),wu(this.It,o)):null)}Tn(e,t){return this.In[t]?w.resolve(this.In[t]):this.lookupMutationBatch(e,t).next(o=>{if(o){const d=o.keys();return this.In[t]=d,d}return null})}getNextMutationBatchAfterBatchId(e,t){const o=t+1,d=IDBKeyRange.lowerBound([this.userId,o]);let _=null;return Ec(e).Z({index:"userMutationsIndex",range:d},(D,P,j)=>{P.userId===this.userId&&(fn(P.batchId>=o),_=wu(this.It,P)),j.done()}).next(()=>_)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let o=-1;return Ec(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(d,_,D)=>{o=_.batchId,D.done()}).next(()=>o)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Ec(e).W("userMutationsIndex",t).next(o=>o.map(d=>wu(this.It,d)))}getAllMutationBatchesAffectingDocumentKey(e,t){const o=Cu(this.userId,t.path),d=IDBKeyRange.lowerBound(o),_=[];return vd(e).Z({range:d},(D,P,j)=>{const[G,re,Ce]=D,tt=Cl(re);if(G===this.userId&&t.path.isEqual(tt))return Ec(e).get(Ce).next(vt=>{if(!vt)throw dn();fn(vt.userId===this.userId),_.push(wu(this.It,vt))});j.done()}).next(()=>_)}getAllMutationBatchesAffectingDocumentKeys(e,t){let o=new xr(Bn);const d=[];return t.forEach(_=>{const D=Cu(this.userId,_.path),P=IDBKeyRange.lowerBound(D),j=vd(e).Z({range:P},(G,re,Ce)=>{const[tt,vt,wt]=G,Kt=Cl(vt);tt===this.userId&&_.path.isEqual(Kt)?o=o.add(wt):Ce.done()});d.push(j)}),w.waitFor(d).next(()=>this.En(e,o))}getAllMutationBatchesAffectingQuery(e,t){const o=t.path,d=o.length+1,_=Cu(this.userId,o),D=IDBKeyRange.lowerBound(_);let P=new xr(Bn);return vd(e).Z({range:D},(j,G,re)=>{const[Ce,tt,vt]=j,wt=Cl(tt);Ce===this.userId&&o.isPrefixOf(wt)?wt.length===d&&(P=P.add(vt)):re.done()}).next(()=>this.En(e,P))}En(e,t){const o=[],d=[];return t.forEach(_=>{d.push(Ec(e).get(_).next(D=>{if(null===D)throw dn();fn(D.userId===this.userId),o.push(wu(this.It,D))}))}),w.waitFor(d).next(()=>o)}removeMutationBatch(e,t){return tm(e.ie,this.userId,t).next(o=>(e.addOnCommittedListener(()=>{this.An(t.batchId)}),w.forEach(o,d=>this.referenceDelegate.markPotentiallyOrphaned(e,d))))}An(e){delete this.In[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return w.resolve();const o=IDBKeyRange.lowerBound([this.userId]),d=[];return vd(e).Z({range:o},(_,D,P)=>{if(_[0]===this.userId){const j=Cl(_[1]);d.push(j)}else P.done()}).next(()=>{fn(0===d.length)})})}containsKey(e,t){return Rp(e,this.userId,t)}Rn(e){return fh(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Rp(i,e,t){const o=Cu(e,t.path),d=o[1],_=IDBKeyRange.lowerBound(o);let D=!1;return vd(i).Z({range:_,X:!0},(P,j,G)=>{const[re,Ce,tt]=P;re===e&&Ce===d&&(D=!0),G.done()}).next(()=>D)}function Ec(i){return Rs(i,"mutations")}function vd(i){return Rs(i,"documentMutations")}function fh(i){return Rs(i,"mutationQueues")}class Zl{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new Zl(0)}static vn(){return new Zl(-1)}}class kp{constructor(e,t){this.referenceDelegate=e,this.It=t}allocateTargetId(e){return this.Vn(e).next(t=>{const o=new Zl(t.highestTargetId);return t.highestTargetId=o.next(),this.Sn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Vn(e).next(t=>nn.fromTimestamp(new Rr(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Vn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,o){return this.Vn(e).next(d=>(d.highestListenSequenceNumber=t,o&&(d.lastRemoteSnapshotVersion=o.toTimestamp()),t>d.highestListenSequenceNumber&&(d.highestListenSequenceNumber=t),this.Sn(e,d)))}addTargetData(e,t){return this.Dn(e,t).next(()=>this.Vn(e).next(o=>(o.targetCount+=1,this.Cn(t,o),this.Sn(e,o))))}updateTargetData(e,t){return this.Dn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Tu(e).delete(t.targetId)).next(()=>this.Vn(e)).next(o=>(fn(o.targetCount>0),o.targetCount-=1,this.Sn(e,o)))}removeTargets(e,t,o){let d=0;const _=[];return Tu(e).Z((D,P)=>{const j=md(P);j.sequenceNumber<=t&&null===o.get(j.targetId)&&(d++,_.push(this.removeTargetData(e,j)))}).next(()=>w.waitFor(_)).next(()=>d)}forEachTarget(e,t){return Tu(e).Z((o,d)=>{const _=md(d);t(_)})}Vn(e){return nm(e).get("targetGlobalKey").next(t=>(fn(null!==t),t))}Sn(e,t){return nm(e).put("targetGlobalKey",t)}Dn(e,t){return Tu(e).put(Zg(this.It,t))}Cn(e,t){let o=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,o=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,o=!0),o}getTargetCount(e){return this.Vn(e).next(t=>t.targetCount)}getTargetData(e,t){const o=Bc(t),d=IDBKeyRange.bound([o,Number.NEGATIVE_INFINITY],[o,Number.POSITIVE_INFINITY]);let _=null;return Tu(e).Z({range:d,index:"queryTargetsIndex"},(D,P,j)=>{const G=md(P);sd(t,G.target)&&(_=G,j.done())}).next(()=>_)}addMatchingKeys(e,t,o){const d=[],_=wl(e);return t.forEach(D=>{const P=Uo(D.path);d.push(_.put({targetId:o,path:P})),d.push(this.referenceDelegate.addReference(e,o,D))}),w.waitFor(d)}removeMatchingKeys(e,t,o){const d=wl(e);return w.forEach(t,_=>{const D=Uo(_.path);return w.waitFor([d.delete([o,D]),this.referenceDelegate.removeReference(e,o,_)])})}removeMatchingKeysForTargetId(e,t){const o=wl(e),d=IDBKeyRange.bound([t],[t+1],!1,!0);return o.delete(d)}getMatchingKeysForTargetId(e,t){const o=IDBKeyRange.bound([t],[t+1],!1,!0),d=wl(e);let _=Qn();return d.Z({range:o,X:!0},(D,P,j)=>{const G=Cl(D[1]),re=new rn(G);_=_.add(re)}).next(()=>_)}containsKey(e,t){const o=Uo(t.path),d=IDBKeyRange.bound([o],[zs(o)],!1,!0);let _=0;return wl(e).Z({index:"documentTargetsIndex",X:!0,range:d},([D,P],j,G)=>{0!==D&&(_++,G.done())}).next(()=>_>0)}se(e,t){return Tu(e).get(t).next(o=>o?md(o):null)}}function Tu(i){return Rs(i,"targets")}function nm(i){return Rs(i,"targetGlobal")}function wl(i){return Rs(i,"targetDocuments")}function bd([i,e],[t,o]){const d=Bn(i,t);return 0===d?Bn(e,o):d}class ql{constructor(e){this.xn=e,this.buffer=new xr(bd),this.Nn=0}kn(){return++this.Nn}Mn(e){const t=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(t);else{const o=this.buffer.last();bd(t,o)<0&&(this.buffer=this.buffer.delete(o).add(t))}}get maxValue(){return this.buffer.last()[0]}}class ph{constructor(e,t,o){this.garbageCollector=e,this.asyncQueue=t,this.localStore=o,this.On=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}stop(){this.On&&(this.On.cancel(),this.On=null)}get started(){return null!==this.On}Fn(e){var t=this;Wt("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.On=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,Re.Z)(function*(){t.On=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(o){J(o)?Wt("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",o):yield Gs(o)}yield t.Fn(3e5)}))}}class Lp{constructor(e,t){this.$n=e,this.params=t}calculateTargetCount(e,t){return this.$n.Bn(e).next(o=>Math.floor(t/100*o))}nthSequenceNumber(e,t){if(0===t)return w.resolve(Xn.at);const o=new ql(t);return this.$n.forEachTarget(e,d=>o.Mn(d.sequenceNumber)).next(()=>this.$n.Ln(e,d=>o.Mn(d))).next(()=>o.maxValue)}removeTargets(e,t,o){return this.$n.removeTargets(e,t,o)}removeOrphanedDocuments(e,t){return this.$n.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Wt("LruGarbageCollector","Garbage collection skipped; disabled"),w.resolve(Gl)):this.getCacheSize(e).next(o=>o<this.params.cacheSizeCollectionThreshold?(Wt("LruGarbageCollector",`Garbage collection skipped; Cache size ${o} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Gl):this.Un(e,t))}getCacheSize(e){return this.$n.getCacheSize(e)}Un(e,t){let o,d,_,D,P,j,G;const re=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(Ce=>(Ce>this.params.maximumSequenceNumbersToCollect?(Wt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${Ce}`),d=this.params.maximumSequenceNumbersToCollect):d=Ce,D=Date.now(),this.nthSequenceNumber(e,d))).next(Ce=>(o=Ce,P=Date.now(),this.removeTargets(e,o,t))).next(Ce=>(_=Ce,j=Date.now(),this.removeOrphanedDocuments(e,o))).next(Ce=>(G=Date.now(),vo()<=Me.in.DEBUG&&Wt("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${D-re}ms\n\tDetermined least recently used ${d} in `+(P-D)+`ms\n\tRemoved ${_} targets in `+(j-P)+`ms\n\tRemoved ${Ce} documents in `+(G-j)+`ms\nTotal Duration: ${G-re}ms`),w.resolve({didRun:!0,sequenceNumbersCollected:d,targetsRemoved:_,documentsRemoved:Ce})))}}class Np{constructor(e,t){this.db=e,this.garbageCollector=new Lp(this,t)}Bn(e){const t=this.qn(e);return this.db.getTargetCache().getTargetCount(e).next(o=>t.next(d=>o+d))}qn(e){let t=0;return this.Ln(e,o=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Ln(e,t){return this.Kn(e,(o,d)=>t(d))}addReference(e,t,o){return Yl(e,o)}removeReference(e,t,o){return Yl(e,o)}removeTargets(e,t,o){return this.db.getTargetCache().removeTargets(e,t,o)}markPotentiallyOrphaned(e,t){return Yl(e,t)}Gn(e,t){return function(o,d){let _=!1;return fh(o).tt(D=>Rp(o,D,d).next(P=>(P&&(_=!0),w.resolve(!P)))).next(()=>_)}(e,t)}removeOrphanedDocuments(e,t){const o=this.db.getRemoteDocumentCache().newChangeBuffer(),d=[];let _=0;return this.Kn(e,(D,P)=>{if(P<=t){const j=this.Gn(e,D).next(G=>{if(!G)return _++,o.getEntry(e,D).next(()=>(o.removeEntry(D,nn.min()),wl(e).delete([0,Uo(D.path)])))});d.push(j)}}).next(()=>w.waitFor(d)).next(()=>o.apply(e)).next(()=>_)}removeTarget(e,t){const o=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,o)}updateLimboDocument(e,t){return Yl(e,t)}Kn(e,t){const o=wl(e);let d,_=Xn.at;return o.Z({index:"documentTargetsIndex"},([D,P],{path:j,sequenceNumber:G})=>{0===D?(_!==Xn.at&&t(new rn(Cl(d)),_),_=G,d=j):_=Xn.at}).next(()=>{_!==Xn.at&&t(new rn(Cl(d)),_)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Yl(i,e){return wl(i).put((o=i.currentSequenceNumber,{targetId:0,path:Uo(e.path),sequenceNumber:o}));var o}class Au{constructor(){this.changes=new vl(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,ni.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const o=this.changes.get(t);return void 0!==o?w.resolve(o):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Df{constructor(e){this.It=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,o){return Cc(e).put(o)}removeEntry(e,t,o){return Cc(e).delete(function(d,_){const D=d.path.toArray();return[D.slice(0,D.length-2),D[D.length-2],dh(_),D[D.length-1]]}(t,o))}updateMetadata(e,t){return this.getMetadata(e).next(o=>(o.byteSize+=t,this.Qn(e,o)))}getEntry(e,t){let o=ni.newInvalidDocument(t);return Cc(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Su(t))},(d,_)=>{o=this.jn(t,_)}).next(()=>o)}Wn(e,t){let o={size:0,document:ni.newInvalidDocument(t)};return Cc(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Su(t))},(d,_)=>{o={document:this.jn(t,_),size:Pp(_)}}).next(()=>o)}getEntries(e,t){let o=Bo();return this.zn(e,t,(d,_)=>{const D=this.jn(d,_);o=o.insert(d,D)}).next(()=>o)}Hn(e,t){let o=Bo(),d=new kr(rn.comparator);return this.zn(e,t,(_,D)=>{const P=this.jn(_,D);o=o.insert(_,P),d=d.insert(_,Pp(D))}).next(()=>({documents:o,Jn:d}))}zn(e,t,o){if(t.isEmpty())return w.resolve();let d=new xr(Cd);t.forEach(j=>d=d.add(j));const _=IDBKeyRange.bound(Su(d.first()),Su(d.last())),D=d.getIterator();let P=D.getNext();return Cc(e).Z({index:"documentKeyIndex",range:_},(j,G,re)=>{const Ce=rn.fromSegments([...G.prefixPath,G.collectionGroup,G.documentId]);for(;P&&Cd(P,Ce)<0;)o(P,null),P=D.getNext();P&&P.isEqual(Ce)&&(o(P,G),P=D.hasNext()?D.getNext():null),P?re.j(Su(P)):re.done()}).next(()=>{for(;P;)o(P,null),P=D.hasNext()?D.getNext():null})}getAllFromCollection(e,t,o){const d=[t.popLast().toArray(),t.lastSegment(),dh(o.readTime),o.documentKey.path.isEmpty()?"":o.documentKey.path.lastSegment()],_=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Cc(e).W(IDBKeyRange.bound(d,_,!0)).next(D=>{let P=Bo();for(const j of D){const G=this.jn(rn.fromSegments(j.prefixPath.concat(j.collectionGroup,j.documentId)),j);P=P.insert(G.key,G)}return P})}getAllFromCollectionGroup(e,t,o,d){let _=Bo();const D=Xa(t,o),P=Xa(t,gs.max());return Cc(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(D,P,!0)},(j,G,re)=>{const Ce=this.jn(rn.fromSegments(G.prefixPath.concat(G.collectionGroup,G.documentId)),G);_=_.insert(Ce.key,Ce),_.size===d&&re.done()}).next(()=>_)}newChangeBuffer(e){return new Ed(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return wf(e).get("remoteDocumentGlobalKey").next(t=>(fn(!!t),t))}Qn(e,t){return wf(e).put("remoteDocumentGlobalKey",t)}jn(e,t){if(t){const o=function E_(i,e){let t;if(e.document)t=ht(i.re,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const o=rn.fromSegments(e.noDocument.path),d=eu(e.noDocument.readTime);t=ni.newNoDocument(o,d),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return dn();{const o=rn.fromSegments(e.unknownDocument.path),d=eu(e.unknownDocument.version);t=ni.newUnknownDocument(o,d)}}return e.readTime&&t.setReadTime(function(o){const d=new Rr(o[0],o[1]);return nn.fromTimestamp(d)}(e.readTime)),t}(this.It,t);if(!o.isNoDocument()||!o.version.isEqual(nn.min()))return o}return ni.newInvalidDocument(e)}}function Fp(i){return new Df(i)}class Ed extends Au{constructor(e,t){super(),this.Yn=e,this.trackRemovals=t,this.Xn=new vl(o=>o.toString(),(o,d)=>o.isEqual(d))}applyChanges(e){const t=[];let o=0,d=new xr((_,D)=>Bn(_.canonicalString(),D.canonicalString()));return this.changes.forEach((_,D)=>{const P=this.Xn.get(_);if(t.push(this.Yn.removeEntry(e,_,P.readTime)),D.isValidDocument()){const j=Gg(this.Yn.It,D);d=d.add(_.path.popLast()),o+=Pp(j)-P.size,t.push(this.Yn.addEntry(e,_,j))}else if(o-=P.size,this.trackRemovals){const j=Gg(this.Yn.It,D.convertToNoDocument(nn.min()));t.push(this.Yn.addEntry(e,_,j))}}),d.forEach(_=>{t.push(this.Yn.indexManager.addToCollectionParentIndex(e,_))}),t.push(this.Yn.updateMetadata(e,o)),w.waitFor(t)}getFromCache(e,t){return this.Yn.Wn(e,t).next(o=>(this.Xn.set(t,{size:o.size,readTime:o.document.readTime}),o.document))}getAllFromCache(e,t){return this.Yn.Hn(e,t).next(({documents:o,Jn:d})=>(d.forEach((_,D)=>{this.Xn.set(_,{size:D,readTime:o.get(_).readTime})}),o))}}function wf(i){return Rs(i,"remoteDocumentGlobal")}function Cc(i){return Rs(i,"remoteDocumentsV14")}function Su(i){const e=i.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Xa(i,e){const t=e.documentKey.path.toArray();return[i,dh(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function Cd(i,e){const t=i.path.toArray(),o=e.path.toArray();let d=0;for(let _=0;_<t.length-2&&_<o.length-2;++_)if(d=Bn(t[_],o[_]),d)return d;return d=Bn(t.length,o.length),d||(d=Bn(t[t.length-2],o[o.length-2]),d||Bn(t[t.length-1],o[o.length-1]))}class Bp{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Na{constructor(e,t,o,d){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=o,this.indexManager=d}getDocument(e,t){let o=null;return this.documentOverlayCache.getOverlay(e,t).next(d=>(o=d,this.getBaseDocument(e,t,o))).next(d=>(null!==o&&wi(o.mutation,d,qs.empty(),Rr.now()),d))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(o=>this.getLocalViewOfDocuments(e,o,Qn()).next(()=>o))}getLocalViewOfDocuments(e,t,o=Qn()){const d=Ul();return this.populateOverlays(e,d,t).next(()=>this.computeViews(e,t,d,o).next(_=>{let D=Pa();return _.forEach((P,j)=>{D=D.insert(P,j.overlayedDocument)}),D}))}getOverlayedDocuments(e,t){const o=Ul();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,Qn()))}populateOverlays(e,t,o){const d=[];return o.forEach(_=>{t.has(_)||d.push(_)}),this.documentOverlayCache.getOverlays(e,d).next(_=>{_.forEach((D,P)=>{t.set(D,P)})})}computeViews(e,t,o,d){let _=Bo();const D=Vl(),P=Vl();return t.forEach((j,G)=>{const re=o.get(G.key);d.has(G.key)&&(void 0===re||re.mutation instanceof Fo)?_=_.insert(G.key,G):void 0!==re&&(D.set(G.key,re.mutation.getFieldMask()),wi(re.mutation,G,re.mutation.getFieldMask(),Rr.now()))}),this.recalculateAndSaveOverlays(e,_).next(j=>(j.forEach((G,re)=>D.set(G,re)),t.forEach((G,re)=>{var Ce;return P.set(G,new Bp(re,null!==(Ce=D.get(G))&&void 0!==Ce?Ce:null))}),P))}recalculateAndSaveOverlays(e,t){const o=Vl();let d=new kr((D,P)=>D-P),_=Qn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(D=>{for(const P of D)P.keys().forEach(j=>{const G=t.get(j);if(null===G)return;let re=o.get(j)||qs.empty();re=P.applyToLocalView(G,re),o.set(j,re);const Ce=(d.get(P.batchId)||Qn()).add(j);d=d.insert(P.batchId,Ce)})}).next(()=>{const D=[],P=d.getReverseIterator();for(;P.hasNext();){const j=P.getNext(),G=j.key,re=j.value,Ce=sh();re.forEach(tt=>{if(!_.has(tt)){const vt=eh(t.get(tt),o.get(tt));null!==vt&&Ce.set(tt,vt),_=_.add(tt)}}),D.push(this.documentOverlayCache.saveOverlays(e,G,Ce))}return w.waitFor(D)}).next(()=>o)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(o=>this.recalculateAndSaveOverlays(e,o))}getDocumentsMatchingQuery(e,t,o){return rn.isDocumentKey((d=t).path)&&null===d.collectionGroup&&0===d.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):Xh(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,o):this.getDocumentsMatchingCollectionQuery(e,t,o);var d}getNextDocuments(e,t,o,d){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,o,d).next(_=>{const D=d-_.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,o.largestBatchId,d-_.size):w.resolve(Ul());let P=-1,j=_;return D.next(G=>w.forEach(G,(re,Ce)=>(P<Ce.largestBatchId&&(P=Ce.largestBatchId),_.get(re)?w.resolve():this.getBaseDocument(e,re,Ce).next(tt=>{j=j.insert(re,tt)}))).next(()=>this.populateOverlays(e,G,_)).next(()=>this.computeViews(e,j,G,Qn())).next(re=>({batchId:P,changes:Zc(re)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new rn(t)).next(o=>{let d=Pa();return o.isFoundDocument()&&(d=d.insert(o.key,o)),d})}getDocumentsMatchingCollectionGroupQuery(e,t,o){const d=t.collectionGroup;let _=Pa();return this.indexManager.getCollectionParents(e,d).next(D=>w.forEach(D,P=>{const j=(G=t,re=P.child(d),new ml(re,null,G.explicitOrderBy.slice(),G.filters.slice(),G.limit,G.limitType,G.startAt,G.endAt));var G,re;return this.getDocumentsMatchingCollectionQuery(e,j,o).next(G=>{G.forEach((re,Ce)=>{_=_.insert(re,Ce)})})}).next(()=>_))}getDocumentsMatchingCollectionQuery(e,t,o){let d;return this.remoteDocumentCache.getAllFromCollection(e,t.path,o).next(_=>(d=_,this.documentOverlayCache.getOverlaysForCollection(e,t.path,o.largestBatchId))).next(_=>{_.forEach((P,j)=>{const G=j.getKey();null===d.get(G)&&(d=d.insert(G,ni.newInvalidDocument(G)))});let D=Pa();return d.forEach((P,j)=>{const G=_.get(P);void 0!==G&&wi(G.mutation,j,qs.empty(),Rr.now()),cd(t,j)&&(D=D.insert(P,j))}),D})}getBaseDocument(e,t,o){return null===o||1===o.mutation.type?this.remoteDocumentCache.getEntry(e,t):w.resolve(ni.newInvalidDocument(t))}}class iu{constructor(e){this.It=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,t){return w.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){var o;return this.Zn.set(t.id,{id:(o=t).id,version:o.version,createTime:rs(o.createTime)}),w.resolve()}getNamedQuery(e,t){return w.resolve(this.ts.get(t))}saveNamedQuery(e,t){return this.ts.set(t.name,{name:(o=t).name,query:Tp(o.bundledQuery),readTime:rs(o.readTime)}),w.resolve();var o}}class xu{constructor(){this.overlays=new kr(rn.comparator),this.es=new Map}getOverlay(e,t){return w.resolve(this.overlays.get(t))}getOverlays(e,t){const o=Ul();return w.forEach(t,d=>this.getOverlay(e,d).next(_=>{null!==_&&o.set(d,_)})).next(()=>o)}saveOverlays(e,t,o){return o.forEach((d,_)=>{this.ue(e,t,_)}),w.resolve()}removeOverlaysForBatchId(e,t,o){const d=this.es.get(o);return void 0!==d&&(d.forEach(_=>this.overlays=this.overlays.remove(_)),this.es.delete(o)),w.resolve()}getOverlaysForCollection(e,t,o){const d=Ul(),_=t.length+1,D=new rn(t.child("")),P=this.overlays.getIteratorFrom(D);for(;P.hasNext();){const j=P.getNext().value,G=j.getKey();if(!t.isPrefixOf(G.path))break;G.path.length===_&&j.largestBatchId>o&&d.set(j.getKey(),j)}return w.resolve(d)}getOverlaysForCollectionGroup(e,t,o,d){let _=new kr((G,re)=>G-re);const D=this.overlays.getIterator();for(;D.hasNext();){const G=D.getNext().value;if(G.getKey().getCollectionGroup()===t&&G.largestBatchId>o){let re=_.get(G.largestBatchId);null===re&&(re=Ul(),_=_.insert(G.largestBatchId,re)),re.set(G.getKey(),G)}}const P=Ul(),j=_.getIterator();for(;j.hasNext()&&(j.getNext().value.forEach((G,re)=>P.set(G,re)),!(P.size()>=d)););return w.resolve(P)}ue(e,t,o){const d=this.overlays.get(o.key);if(null!==d){const D=this.es.get(d.largestBatchId).delete(o.key);this.es.set(d.largestBatchId,D)}this.overlays=this.overlays.insert(o.key,new oo(t,o));let _=this.es.get(t);void 0===_&&(_=Qn(),this.es.set(t,_)),this.es.set(t,_.add(o.key))}}class Ou{constructor(){this.ns=new xr(ks.ss),this.rs=new xr(ks.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,t){const o=new ks(e,t);this.ns=this.ns.add(o),this.rs=this.rs.add(o)}us(e,t){e.forEach(o=>this.addReference(o,t))}removeReference(e,t){this.cs(new ks(e,t))}hs(e,t){e.forEach(o=>this.removeReference(o,t))}ls(e){const t=new rn(new Mr([])),o=new ks(t,e),d=new ks(t,e+1),_=[];return this.rs.forEachInRange([o,d],D=>{this.cs(D),_.push(D.key)}),_}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const t=new rn(new Mr([])),o=new ks(t,e),d=new ks(t,e+1);let _=Qn();return this.rs.forEachInRange([o,d],D=>{_=_.add(D.key)}),_}containsKey(e){const t=new ks(e,0),o=this.ns.firstAfterOrEqual(t);return null!==o&&e.isEqual(o.key)}}class ks{constructor(e,t){this.key=e,this._s=t}static ss(e,t){return rn.comparator(e.key,t.key)||Bn(e._s,t._s)}static os(e,t){return Bn(e._s,t._s)||rn.comparator(e.key,t.key)}}class Up{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this.gs=new xr(ks.ss)}checkEmpty(e){return w.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,o,d){const _=this.ws;this.ws++;const D=new gf(_,t,o,d);this.mutationQueue.push(D);for(const P of d)this.gs=this.gs.add(new ks(P.key,_)),this.indexManager.addToCollectionParentIndex(e,P.key.path.popLast());return w.resolve(D)}lookupMutationBatch(e,t){return w.resolve(this.ys(t))}getNextMutationBatchAfterBatchId(e,t){const d=this.ps(t+1),_=d<0?0:d;return w.resolve(this.mutationQueue.length>_?this.mutationQueue[_]:null)}getHighestUnacknowledgedBatchId(){return w.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return w.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const o=new ks(t,0),d=new ks(t,Number.POSITIVE_INFINITY),_=[];return this.gs.forEachInRange([o,d],D=>{const P=this.ys(D._s);_.push(P)}),w.resolve(_)}getAllMutationBatchesAffectingDocumentKeys(e,t){let o=new xr(Bn);return t.forEach(d=>{const _=new ks(d,0),D=new ks(d,Number.POSITIVE_INFINITY);this.gs.forEachInRange([_,D],P=>{o=o.add(P._s)})}),w.resolve(this.Is(o))}getAllMutationBatchesAffectingQuery(e,t){const o=t.path,d=o.length+1;let _=o;rn.isDocumentKey(_)||(_=_.child(""));const D=new ks(new rn(_),0);let P=new xr(Bn);return this.gs.forEachWhile(j=>{const G=j.key.path;return!!o.isPrefixOf(G)&&(G.length===d&&(P=P.add(j._s)),!0)},D),w.resolve(this.Is(P))}Is(e){const t=[];return e.forEach(o=>{const d=this.ys(o);null!==d&&t.push(d)}),t}removeMutationBatch(e,t){fn(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();let o=this.gs;return w.forEach(t.mutations,d=>{const _=new ks(d.key,t.batchId);return o=o.delete(_),this.referenceDelegate.markPotentiallyOrphaned(e,d.key)}).next(()=>{this.gs=o})}An(e){}containsKey(e,t){const o=new ks(t,0),d=this.gs.firstAfterOrEqual(o);return w.resolve(t.isEqual(d&&d.key))}performConsistencyCheck(e){return w.resolve()}Ts(e,t){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class If{constructor(e){this.Es=e,this.docs=new kr(rn.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const o=t.key,d=this.docs.get(o),_=d?d.size:0,D=this.Es(t);return this.docs=this.docs.insert(o,{document:t.mutableCopy(),size:D}),this.size+=D-_,this.indexManager.addToCollectionParentIndex(e,o.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const o=this.docs.get(t);return w.resolve(o?o.document.mutableCopy():ni.newInvalidDocument(t))}getEntries(e,t){let o=Bo();return t.forEach(d=>{const _=this.docs.get(d);o=o.insert(d,_?_.document.mutableCopy():ni.newInvalidDocument(d))}),w.resolve(o)}getAllFromCollection(e,t,o){let d=Bo();const _=new rn(t.child("")),D=this.docs.getIteratorFrom(_);for(;D.hasNext();){const{key:P,value:{document:j}}=D.getNext();if(!t.isPrefixOf(P.path))break;P.path.length>t.length+1||xs(Lc(j),o)<=0||(d=d.insert(j.key,j.mutableCopy()))}return w.resolve(d)}getAllFromCollectionGroup(e,t,o,d){dn()}As(e,t){return w.forEach(this.docs,o=>t(o))}newChangeBuffer(e){return new Mf(this)}getSize(e){return w.resolve(this.size)}}class Mf extends Au{constructor(e){super(),this.Yn=e}applyChanges(e){const t=[];return this.changes.forEach((o,d)=>{d.isValidDocument()?t.push(this.Yn.addEntry(e,d)):this.Yn.removeEntry(o)}),w.waitFor(t)}getFromCache(e,t){return this.Yn.getEntry(e,t)}getAllFromCache(e,t){return this.Yn.getEntries(e,t)}}class rm{constructor(e){this.persistence=e,this.Rs=new vl(t=>Bc(t),sd),this.lastRemoteSnapshotVersion=nn.min(),this.highestTargetId=0,this.bs=0,this.Ps=new Ou,this.targetCount=0,this.vs=Zl.Pn()}forEachTarget(e,t){return this.Rs.forEach((o,d)=>t(d)),w.resolve()}getLastRemoteSnapshotVersion(e){return w.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return w.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),w.resolve(this.highestTargetId)}setTargetsMetadata(e,t,o){return o&&(this.lastRemoteSnapshotVersion=o),t>this.bs&&(this.bs=t),w.resolve()}Dn(e){this.Rs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.vs=new Zl(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,t){return this.Dn(t),this.targetCount+=1,w.resolve()}updateTargetData(e,t){return this.Dn(t),w.resolve()}removeTargetData(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,w.resolve()}removeTargets(e,t,o){let d=0;const _=[];return this.Rs.forEach((D,P)=>{P.sequenceNumber<=t&&null===o.get(P.targetId)&&(this.Rs.delete(D),_.push(this.removeMatchingKeysForTargetId(e,P.targetId)),d++)}),w.waitFor(_).next(()=>d)}getTargetCount(e){return w.resolve(this.targetCount)}getTargetData(e,t){const o=this.Rs.get(t)||null;return w.resolve(o)}addMatchingKeys(e,t,o){return this.Ps.us(t,o),w.resolve()}removeMatchingKeys(e,t,o){this.Ps.hs(t,o);const d=this.persistence.referenceDelegate,_=[];return d&&t.forEach(D=>{_.push(d.markPotentiallyOrphaned(e,D))}),w.waitFor(_)}removeMatchingKeysForTargetId(e,t){return this.Ps.ls(t),w.resolve()}getMatchingKeysForTargetId(e,t){const o=this.Ps.ds(t);return w.resolve(o)}containsKey(e,t){return w.resolve(this.Ps.containsKey(t))}}class Dd{constructor(e,t){this.Vs={},this.overlays={},this.Ss=new Xn(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new rm(this),this.indexManager=new Op,this.remoteDocumentCache=new If(o=>this.referenceDelegate.xs(o)),this.It=new _f(t),this.Ns=new iu(this.It)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new xu,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let o=this.Vs[e.toKey()];return o||(o=new Up(t,this.referenceDelegate),this.Vs[e.toKey()]=o),o}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,t,o){Wt("MemoryPersistence","Starting transaction:",e);const d=new im(this.Ss.next());return this.referenceDelegate.ks(),o(d).next(_=>this.referenceDelegate.Ms(d).next(()=>_)).toPromise().then(_=>(d.raiseOnCommittedEvent(),_))}Os(e,t){return w.or(Object.values(this.Vs).map(o=>()=>o.containsKey(e,t)))}}class im extends _c{constructor(e){super(),this.currentSequenceNumber=e}}class Vp{constructor(e){this.persistence=e,this.Fs=new Ou,this.$s=null}static Bs(e){return new Vp(e)}get Ls(){if(this.$s)return this.$s;throw dn()}addReference(e,t,o){return this.Fs.addReference(o,t),this.Ls.delete(o.toString()),w.resolve()}removeReference(e,t,o){return this.Fs.removeReference(o,t),this.Ls.add(o.toString()),w.resolve()}markPotentiallyOrphaned(e,t){return this.Ls.add(t.toString()),w.resolve()}removeTarget(e,t){this.Fs.ls(t.targetId).forEach(d=>this.Ls.add(d.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(e,t.targetId).next(d=>{d.forEach(_=>this.Ls.add(_.toString()))}).next(()=>o.removeTargetData(e,t))}ks(){this.$s=new Set}Ms(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return w.forEach(this.Ls,o=>{const d=rn.fromPath(o);return this.Us(e,d).next(_=>{_||t.removeEntry(d,nn.min())})}).next(()=>(this.$s=null,t.apply(e)))}updateLimboDocument(e,t){return this.Us(e,t).next(o=>{o?this.Ls.delete(t.toString()):this.Ls.add(t.toString())})}xs(e){return 0}Us(e,t){return w.or([()=>w.resolve(this.Fs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Os(e,t)])}}class sm{constructor(e){this.It=e}$(e,t,o,d){const _=new O("createOrUpgrade",t);var P;o<1&&d>=1&&(e.createObjectStore("owner"),(P=e).createObjectStore("mutationQueues",{keyPath:"userId"}),P.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",pf,{unique:!0}),P.createObjectStore("documentMutations"),ya(e),function(P){P.createObjectStore("remoteDocuments")}(e));let D=w.resolve();return o<3&&d>=3&&(0!==o&&(function(P){P.deleteObjectStore("targetDocuments"),P.deleteObjectStore("targets"),P.deleteObjectStore("targetGlobal")}(e),ya(e)),D=D.next(()=>function(P){const j=P.store("targetGlobal"),G={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:nn.min().toTimestamp(),targetCount:0};return j.put("targetGlobalKey",G)}(_))),o<4&&d>=4&&(0!==o&&(D=D.next(()=>function(P,j){return j.store("mutations").W().next(G=>{P.deleteObjectStore("mutations"),P.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",pf,{unique:!0});const re=j.store("mutations"),Ce=G.map(tt=>re.put(tt));return w.waitFor(Ce)})}(e,_))),D=D.next(()=>{!function(P){P.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),o<5&&d>=5&&(D=D.next(()=>this.qs(_))),o<6&&d>=6&&(D=D.next(()=>(function(P){P.createObjectStore("remoteDocumentGlobal")}(e),this.Ks(_)))),o<7&&d>=7&&(D=D.next(()=>this.Gs(_))),o<8&&d>=8&&(D=D.next(()=>this.Qs(e,_))),o<9&&d>=9&&(D=D.next(()=>{!function(P){P.objectStoreNames.contains("remoteDocumentChanges")&&P.deleteObjectStore("remoteDocumentChanges")}(e)})),o<10&&d>=10&&(D=D.next(()=>this.js(_))),o<11&&d>=11&&(D=D.next(()=>{(function(P){P.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(P){P.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),o<12&&d>=12&&(D=D.next(()=>{!function(P){const j=P.createObjectStore("documentOverlays",{keyPath:Kg});j.createIndex("collectionPathOverlayIndex",Ip,{unique:!1}),j.createIndex("collectionGroupOverlayIndex",y_,{unique:!1})}(e)})),o<13&&d>=13&&(D=D.next(()=>function(P){const j=P.createObjectStore("remoteDocumentsV14",{keyPath:Dp});j.createIndex("documentKeyIndex",p_),j.createIndex("collectionGroupIndex",wp)}(e)).next(()=>this.Ws(e,_)).next(()=>e.deleteObjectStore("remoteDocuments"))),o<14&&d>=14&&(D=D.next(()=>this.zs(e,_))),o<15&&d>=15&&(D=D.next(()=>function(P){P.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),P.createObjectStore("indexState",{keyPath:jg}).createIndex("sequenceNumberIndex",__,{unique:!1}),P.createObjectStore("indexEntries",{keyPath:Wg}).createIndex("documentKeyIndex",ky,{unique:!1})}(e))),D}Ks(e){let t=0;return e.store("remoteDocuments").Z((o,d)=>{t+=Pp(d)}).next(()=>{const o={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",o)})}qs(e){const t=e.store("mutationQueues"),o=e.store("mutations");return t.W().next(d=>w.forEach(d,_=>{const D=IDBKeyRange.bound([_.userId,-1],[_.userId,_.lastAcknowledgedBatchId]);return o.W("userMutationsIndex",D).next(P=>w.forEach(P,j=>{fn(j.userId===_.userId);const G=wu(this.It,j);return tm(e,_.userId,G).next(()=>{})}))}))}Gs(e){const t=e.store("targetDocuments"),o=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(d=>{const _=[];return o.Z((D,P)=>{const j=new Mr(D),G=[0,Uo(j)];_.push(t.get(G).next(re=>re?w.resolve():t.put({targetId:0,path:Uo(j),sequenceNumber:d.highestListenSequenceNumber})))}).next(()=>w.waitFor(_))})}Qs(e,t){e.createObjectStore("collectionParents",{keyPath:m_});const o=t.store("collectionParents"),d=new Do,_=D=>{if(d.add(D)){const P=D.lastSegment(),j=D.popLast();return o.put({collectionId:P,parent:Uo(j)})}};return t.store("remoteDocuments").Z({X:!0},(D,P)=>{const j=new Mr(D);return _(j.popLast())}).next(()=>t.store("documentMutations").Z({X:!0},([D,P,j],G)=>{const re=Cl(P);return _(re.popLast())}))}js(e){const t=e.store("targets");return t.Z((o,d)=>{const _=md(d),D=Zg(this.It,_);return t.put(D)})}Ws(e,t){const o=t.store("remoteDocuments"),d=[];return o.Z((_,D)=>{const P=t.store("remoteDocumentsV14"),j=(G=D,G.document?new rn(Mr.fromString(G.document.name).popFirst(5)):G.noDocument?rn.fromSegments(G.noDocument.path):G.unknownDocument?rn.fromSegments(G.unknownDocument.path):dn()).path.toArray();var G;const re={prefixPath:j.slice(0,j.length-2),collectionGroup:j[j.length-2],documentId:j[j.length-1],readTime:D.readTime||[0,0],unknownDocument:D.unknownDocument,noDocument:D.noDocument,document:D.document,hasCommittedMutations:!!D.hasCommittedMutations};d.push(P.put(re))}).next(()=>w.waitFor(d))}zs(e,t){const o=t.store("mutations"),d=Fp(this.It),_=new Dd(Vp.Bs,this.It.re);return o.W().next(D=>{const P=new Map;return D.forEach(j=>{var G;let re=null!==(G=P.get(j.userId))&&void 0!==G?G:Qn();wu(this.It,j).keys().forEach(Ce=>re=re.add(Ce)),P.set(j.userId,re)}),w.forEach(P,(j,G)=>{const re=new ui(G),Ce=vf.oe(this.It,re),tt=_.getIndexManager(re),vt=Cf.oe(re,this.It,tt,_.referenceDelegate);return new Na(d,vt,Ce,tt).recalculateAndSaveOverlaysForDocumentKeys(new Co(t,Xn.at),j).next()})})}}function ya(i){i.createObjectStore("targetDocuments",{keyPath:g_}).createIndex("documentTargetsIndex",Ry,{unique:!0}),i.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",La,{unique:!0}),i.createObjectStore("targetGlobal")}const gh="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class wd{constructor(e,t,o,d,_,D,P,j,G,re,Ce=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=o,this.Hs=_,this.window=D,this.document=P,this.Js=G,this.Ys=re,this.Xs=Ce,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=tt=>Promise.resolve(),!wd.C())throw new Pt(ut.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Np(this,d),this.ii=t+"main",this.It=new _f(j),this.ri=new T(this.ii,this.Xs,new sm(this.It)),this.Cs=new kp(this.referenceDelegate,this.It),this.remoteDocumentCache=Fp(this.It),this.Ns=new _d,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===re&&Zr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Pt(ut.FAILED_PRECONDITION,gh);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Cs.getHighestSequenceNumber(e))}).then(e=>{this.Ss=new Xn(e,this.Js)}).then(()=>{this.Ds=!0}).catch(e=>(this.ri&&this.ri.close(),Promise.reject(e)))}li(e){var t=this;return this.si=function(){var o=(0,Re.Z)(function*(d){if(t.started)return e(d)});return function(d){return o.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ri.L(function(){var t=(0,Re.Z)(function*(o){null===o.newVersion&&(yield e())});return function(o){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget((0,Re.Z)(function*(){t.started&&(yield t.ui())})))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>va(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(t=>{t||(this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)))})}).next(()=>this.di(e)).next(t=>this.isPrimary&&!t?this._i(e).next(()=>!1):!!t&&this.wi(e).next(()=>!0))).catch(e=>{if(J(e))return Wt("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Wt("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Hs.enqueueRetryable(()=>this.si(e)),this.isPrimary=e})}fi(e){return su(e).get("owner").next(t=>w.resolve(this.mi(t)))}gi(e){return va(e).delete(this.clientId)}yi(){var e=this;return(0,Re.Z)(function*(){if(e.isPrimary&&!e.pi(e.ni,18e5)){e.ni=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",o=>{const d=Rs(o,"clientMetadata");return d.W().next(_=>{const D=e.Ii(_,18e5),P=_.filter(j=>-1===D.indexOf(j));return w.forEach(P,j=>d.delete(j.clientId)).next(()=>P)})}).catch(()=>[]);if(e.oi)for(const o of t)e.oi.removeItem(e.Ti(o.clientId))}})()}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ui().then(()=>this.yi()).then(()=>this.hi()))}mi(e){return!!e&&e.ownerId===this.clientId}di(e){return this.Ys?w.resolve(!0):su(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)){if(this.mi(t)&&this.networkEnabled)return!0;if(!this.mi(t)){if(!t.allowTabSynchronization)throw new Pt(ut.FAILED_PRECONDITION,gh);return!1}}return!(!this.networkEnabled||!this.inForeground)||va(e).W().next(o=>void 0===this.Ii(o,5e3).find(d=>{if(this.clientId!==d.clientId){const D=!this.inForeground&&d.inForeground,P=this.networkEnabled===d.networkEnabled;if(!this.networkEnabled&&d.networkEnabled||D&&P)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Wt("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,Re.Z)(function*(){e.Ds=!1,e.Ai(),e.ei&&(e.ei.cancel(),e.ei=null),e.Ri(),e.bi(),yield e.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const o=new Co(t,Xn.at);return e._i(o).next(()=>e.gi(o))}),e.ri.close(),e.Pi()})()}Ii(e,t){return e.filter(o=>this.pi(o.updateTimeMs,t)&&!this.Ei(o.clientId))}vi(){return this.runTransaction("getActiveClients","readonly",e=>va(e).W().next(t=>this.Ii(t,18e5).map(o=>o.clientId)))}get started(){return this.Ds}getMutationQueue(e,t){return Cf.oe(e,this.It,t,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Ef(e,this.It.re.databaseId)}getDocumentOverlayCache(e){return vf.oe(this.It,e)}getBundleCache(){return this.Ns}runTransaction(e,t,o){Wt("IndexedDbPersistence","Starting transaction:",e);const d="readonly"===t?"readonly":"readwrite",_=15===(D=this.Xs)?b_:14===D?zg:13===D?Mp:12===D?v_:11===D?$g:void dn();var D;let P;return this.ri.runTransaction(e,d,_,j=>(P=new Co(j,this.Ss?this.Ss.next():Xn.at),"readwrite-primary"===t?this.fi(P).next(G=>!!G||this.di(P)).next(G=>{if(!G)throw Zr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)),new Pt(ut.FAILED_PRECONDITION,us);return o(P)}).next(G=>this.wi(P).next(()=>G)):this.Vi(P).next(()=>o(P)))).then(j=>(P.raiseOnCommittedEvent(),j))}Vi(e){return su(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)&&!this.mi(t)&&!(this.Ys||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Pt(ut.FAILED_PRECONDITION,gh)})}wi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return su(e).put("owner",t)}static C(){return T.C()}_i(e){const t=su(e);return t.get("owner").next(o=>this.mi(o)?(Wt("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):w.resolve())}pi(e,t){const o=Date.now();return!(e<o-t||e>o&&(Zr(`Detected an update time that is in the future: ${e} > ${o}`),1))}ci(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=()=>{this.Hs.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ui()))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=()=>{this.Ai(),(0,$e.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(e){var t;try{const o=null!==(null===(t=this.oi)||void 0===t?void 0:t.getItem(this.Ti(e)));return Wt("IndexedDbPersistence",`Client '${e}' ${o?"is":"is not"} zombied in LocalStorage`),o}catch(o){return Zr("IndexedDbPersistence","Failed to get zombied client id.",o),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(e){Zr("Failed to set zombie client id.",e)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch{}}Ti(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function su(i){return Rs(i,"owner")}function va(i){return Rs(i,"clientMetadata")}function Hp(i,e){let t=i.projectId;return i.isDefaultDatabase||(t+="."+i.database),"firestore/"+e+"/"+t+"/"}class Tf{constructor(e,t,o,d){this.targetId=e,this.fromCache=t,this.Si=o,this.Di=d}static Ci(e,t){let o=Qn(),d=Qn();for(const _ of t.docChanges)switch(_.type){case 0:o=o.add(_.doc.key);break;case 1:d=d.add(_.doc.key)}return new Tf(e,t.fromCache,o,d)}}class C_{constructor(){this.xi=!1}initialize(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}getDocumentsMatchingQuery(e,t,o,d){return this.ki(e,t).next(_=>_||this.Mi(e,t,d,o)).next(_=>_||this.Oi(e,t))}ki(e,t){if(Ya(t))return w.resolve(null);let o=No(t);return this.indexManager.getIndexType(e,o).next(d=>0===d?null:(null!==t.limit&&1===d&&(t=jc(t,null,"F"),o=No(t)),this.indexManager.getDocumentsMatchingTarget(e,o).next(_=>{const D=Qn(..._);return this.Ni.getDocuments(e,D).next(P=>this.indexManager.getMinOffset(e,o).next(j=>{const G=this.Fi(t,P);return this.$i(t,G,D,j.readTime)?this.ki(e,jc(t,null,"F")):this.Bi(e,G,t,j)}))})))}Mi(e,t,o,d){return Ya(t)||d.isEqual(nn.min())?this.Oi(e,t):this.Ni.getDocuments(e,o).next(_=>{const D=this.Fi(t,_);return this.$i(t,D,o,d)?this.Oi(e,t):(vo()<=Me.in.DEBUG&&Wt("QueryEngine","Re-using previous result from %s to execute query: %s",d.toString(),Yd(t)),this.Bi(e,D,t,Ga(d,-1)))})}Fi(e,t){let o=new xr(Nl(e));return t.forEach((d,_)=>{cd(e,_)&&(o=o.add(_))}),o}$i(e,t,o,d){if(null===e.limit)return!1;if(o.size!==t.size)return!0;const _="F"===e.limitType?t.last():t.first();return!!_&&(_.hasPendingWrites||_.version.compareTo(d)>0)}Oi(e,t){return vo()<=Me.in.DEBUG&&Wt("QueryEngine","Using full collection scan to execute query:",Yd(t)),this.Ni.getDocumentsMatchingQuery(e,t,gs.min())}Bi(e,t,o,d){return this.Ni.getDocumentsMatchingQuery(e,o,d).next(_=>(t.forEach(D=>{_=_.insert(D.key,D)}),_))}}class Ny{constructor(e,t,o,d){this.persistence=e,this.Li=t,this.It=d,this.Ui=new kr(Bn),this.qi=new vl(_=>Bc(_),sd),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(o)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Na(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ui))}}function mh(i,e,t,o){return new Ny(i,e,t,o)}function om(i,e){return Af.apply(this,arguments)}function Af(){return Af=(0,Re.Z)(function*(i,e){const t=qt(i);return yield t.persistence.runTransaction("Handle user change","readonly",o=>{let d;return t.mutationQueue.getAllMutationBatches(o).next(_=>(d=_,t.Qi(e),t.mutationQueue.getAllMutationBatches(o))).next(_=>{const D=[],P=[];let j=Qn();for(const G of d){D.push(G.batchId);for(const re of G.mutations)j=j.add(re.key)}for(const G of _){P.push(G.batchId);for(const re of G.mutations)j=j.add(re.key)}return t.localDocuments.getDocuments(o,j).next(G=>({ji:G,removedBatchIds:D,addedBatchIds:P}))})})}),Af.apply(this,arguments)}function D_(i,e){const t=qt(i);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",o=>{const d=e.batch.keys(),_=t.Gi.newChangeBuffer({trackRemovals:!0});return function(D,P,j,G){const re=j.batch,Ce=re.keys();let tt=w.resolve();return Ce.forEach(vt=>{tt=tt.next(()=>G.getEntry(P,vt)).next(wt=>{const Kt=j.docVersions.get(vt);fn(null!==Kt),wt.version.compareTo(Kt)<0&&(re.applyToRemoteDocument(wt,j),wt.isValidDocument()&&(wt.setReadTime(j.commitVersion),G.addEntry(wt)))})}),tt.next(()=>D.mutationQueue.removeMutationBatch(P,re))}(t,o,e,_).next(()=>_.apply(o)).next(()=>t.mutationQueue.performConsistencyCheck(o)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(o,d,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(o,function(D){let P=Qn();for(let j=0;j<D.mutationResults.length;++j)D.mutationResults[j].transformResults.length>0&&(P=P.add(D.batch.mutations[j].key));return P}(e))).next(()=>t.localDocuments.getDocuments(o,d))})}function _h(i){const e=qt(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Cs.getLastRemoteSnapshotVersion(t))}function Sf(i,e){const t=qt(i),o=e.snapshotVersion;let d=t.Ui;return t.persistence.runTransaction("Apply remote event","readwrite-primary",_=>{const D=t.Gi.newChangeBuffer({trackRemovals:!0});d=t.Ui;const P=[];e.targetChanges.forEach((re,Ce)=>{const tt=d.get(Ce);if(!tt)return;P.push(t.Cs.removeMatchingKeys(_,re.removedDocuments,Ce).next(()=>t.Cs.addMatchingKeys(_,re.addedDocuments,Ce)));let vt=tt.withSequenceNumber(_.currentSequenceNumber);var wt,Kt,wn;e.targetMismatches.has(Ce)?vt=vt.withResumeToken(Li.EMPTY_BYTE_STRING,nn.min()).withLastLimboFreeSnapshotVersion(nn.min()):re.resumeToken.approximateByteSize()>0&&(vt=vt.withResumeToken(re.resumeToken,o)),d=d.insert(Ce,vt),Kt=vt,wn=re,(0===(wt=tt).resumeToken.approximateByteSize()||Kt.snapshotVersion.toMicroseconds()-wt.snapshotVersion.toMicroseconds()>=3e8||wn.addedDocuments.size+wn.modifiedDocuments.size+wn.removedDocuments.size>0)&&P.push(t.Cs.updateTargetData(_,vt))});let j=Bo(),G=Qn();if(e.documentUpdates.forEach(re=>{e.resolvedLimboDocuments.has(re)&&P.push(t.persistence.referenceDelegate.updateLimboDocument(_,re))}),P.push(ir(_,D,e.documentUpdates).next(re=>{j=re.Wi,G=re.zi})),!o.isEqual(nn.min())){const re=t.Cs.getLastRemoteSnapshotVersion(_).next(Ce=>t.Cs.setTargetsMetadata(_,_.currentSequenceNumber,o));P.push(re)}return w.waitFor(P).next(()=>D.apply(_)).next(()=>t.localDocuments.getLocalViewOfDocuments(_,j,G)).next(()=>j)}).then(_=>(t.Ui=d,_))}function ir(i,e,t){let o=Qn(),d=Qn();return t.forEach(_=>o=o.add(_)),e.getEntries(i,o).next(_=>{let D=Bo();return t.forEach((P,j)=>{const G=_.get(P);j.isFoundDocument()!==G.isFoundDocument()&&(d=d.add(P)),j.isNoDocument()&&j.version.isEqual(nn.min())?(e.removeEntry(P,j.readTime),D=D.insert(P,j)):!G.isValidDocument()||j.version.compareTo(G.version)>0||0===j.version.compareTo(G.version)&&G.hasPendingWrites?(e.addEntry(j),D=D.insert(P,j)):Wt("LocalStore","Ignoring outdated watch update for ",P,". Current version:",G.version," Watch version:",j.version)}),{Wi:D,zi:d}})}function jp(i,e){const t=qt(i);return t.persistence.runTransaction("Get next mutation batch","readonly",o=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(o,e)))}function Pu(i,e){const t=qt(i);return t.persistence.runTransaction("Allocate target","readwrite",o=>{let d;return t.Cs.getTargetData(o,e).next(_=>_?(d=_,w.resolve(d)):t.Cs.allocateTargetId(o).next(D=>(d=new Qa(e,D,0,o.currentSequenceNumber),t.Cs.addTargetData(o,d).next(()=>d))))}).then(o=>{const d=t.Ui.get(o.targetId);return(null===d||o.snapshotVersion.compareTo(d.snapshotVersion)>0)&&(t.Ui=t.Ui.insert(o.targetId,o),t.qi.set(e,o.targetId)),o})}function Dc(i,e,t){return xf.apply(this,arguments)}function xf(){return xf=(0,Re.Z)(function*(i,e,t){const o=qt(i),d=o.Ui.get(e),_=t?"readwrite":"readwrite-primary";try{t||(yield o.persistence.runTransaction("Release target",_,D=>o.persistence.referenceDelegate.removeTarget(D,d)))}catch(D){if(!J(D))throw D;Wt("LocalStore",`Failed to update sequence numbers for target ${e}: ${D}`)}o.Ui=o.Ui.remove(e),o.qi.delete(d.target)}),xf.apply(this,arguments)}function Of(i,e,t){const o=qt(i);let d=nn.min(),_=Qn();return o.persistence.runTransaction("Execute query","readonly",D=>function(P,j,G){const re=qt(P),Ce=re.qi.get(G);return void 0!==Ce?w.resolve(re.Ui.get(Ce)):re.Cs.getTargetData(j,G)}(o,D,No(e)).next(P=>{if(P)return d=P.lastLimboFreeSnapshotVersion,o.Cs.getMatchingKeysForTargetId(D,P.targetId).next(j=>{_=j})}).next(()=>o.Li.getDocumentsMatchingQuery(D,e,t?d:nn.min(),t?_:Qn())).next(P=>(Kp(o,ef(e),P),{documents:P,Hi:_})))}function Wp(i,e){const t=qt(i),o=qt(t.Cs),d=t.Ui.get(e);return d?Promise.resolve(d.target):t.persistence.runTransaction("Get target data","readonly",_=>o.se(_,e).next(D=>D?D.target:null))}function am(i,e){const t=qt(i),o=t.Ki.get(e)||nn.min();return t.persistence.runTransaction("Get new document changes","readonly",d=>t.Gi.getAllFromCollectionGroup(d,e,Ga(o,-1),Number.MAX_SAFE_INTEGER)).then(d=>(Kp(t,e,d),d))}function Kp(i,e,t){let o=nn.min();t.forEach((d,_)=>{_.readTime.compareTo(o)>0&&(o=_.readTime)}),i.Ki.set(e,o)}function $p(){return $p=(0,Re.Z)(function*(i,e,t,o){const d=qt(i);let _=Qn(),D=Bo();for(const G of t){const re=e.Ji(G.metadata.name);G.document&&(_=_.add(re));const Ce=e.Yi(G);Ce.setReadTime(e.Xi(G.metadata.readTime)),D=D.insert(re,Ce)}const P=d.Gi.newChangeBuffer({trackRemovals:!0}),j=yield Pu(d,(G=o,No(Ps(Mr.fromString(`__bundle__/docs/${G}`)))));var G;return d.persistence.runTransaction("Apply bundle documents","readwrite",G=>ir(G,P,D).next(re=>(P.apply(G),re)).next(re=>d.Cs.removeMatchingKeysForTargetId(G,j.targetId).next(()=>d.Cs.addMatchingKeys(G,_,j.targetId)).next(()=>d.localDocuments.getLocalViewOfDocuments(G,re.Wi,re.zi)).next(()=>re.Wi)))}),$p.apply(this,arguments)}function Id(i,e){return Md.apply(this,arguments)}function Md(){return Md=(0,Re.Z)(function*(i,e,t=Qn()){const o=yield Pu(i,No(Tp(e.bundledQuery))),d=qt(i);return d.persistence.runTransaction("Save named query","readwrite",_=>{const D=rs(e.readTime);if(o.snapshotVersion.compareTo(D)>=0)return d.Ns.saveNamedQuery(_,e);const P=o.withResumeToken(Li.EMPTY_BYTE_STRING,D);return d.Ui=d.Ui.insert(P.targetId,P),d.Cs.updateTargetData(_,P).next(()=>d.Cs.removeMatchingKeysForTargetId(_,o.targetId)).next(()=>d.Cs.addMatchingKeys(_,t,o.targetId)).next(()=>d.Ns.saveNamedQuery(_,e))})}),Md.apply(this,arguments)}function yh(i,e){return`firestore_clients_${i}_${e}`}function Il(i,e,t){let o=`firestore_mutations_${i}_${t}`;return e.isAuthenticated()&&(o+=`_${e.uid}`),o}function zp(i,e){return`firestore_targets_${i}_${e}`}class Td{constructor(e,t,o,d){this.user=e,this.batchId=t,this.state=o,this.error=d}static Zi(e,t,o){const d=JSON.parse(o);let _,D="object"==typeof d&&-1!==["pending","acknowledged","rejected"].indexOf(d.state)&&(void 0===d.error||"object"==typeof d.error);return D&&d.error&&(D="string"==typeof d.error.message&&"string"==typeof d.error.code,D&&(_=new Pt(d.error.code,d.error.message))),D?new Td(e,t,d.state,_):(Zr("SharedClientState",`Failed to parse mutation state for ID '${t}': ${o}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Ru{constructor(e,t,o){this.targetId=e,this.state=t,this.error=o}static Zi(e,t){const o=JSON.parse(t);let d,_="object"==typeof o&&-1!==["not-current","current","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return _&&o.error&&(_="string"==typeof o.error.message&&"string"==typeof o.error.code,_&&(d=new Pt(o.error.code,o.error.message))),_?new Ru(e,o.state,d):(Zr("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Pf{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Zi(e,t){const o=JSON.parse(t);let d="object"==typeof o&&o.activeTargetIds instanceof Array,_=jl();for(let D=0;d&&D<o.activeTargetIds.length;++D)d=Ye(o.activeTargetIds[D]),_=_.add(o.activeTargetIds[D]);return d?new Pf(e,_):(Zr("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class lm{constructor(e,t){this.clientId=e,this.onlineState=t}static Zi(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new lm(t.clientId,t.onlineState):(Zr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Rf{constructor(){this.activeTargetIds=jl()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class cm{constructor(e,t,o,d,_){this.window=e,this.Hs=t,this.persistenceKey=o,this.sr=d,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new kr(Bn),this.started=!1,this.cr=[];const D=o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=_,this.ar=yh(this.persistenceKey,this.sr),this.hr=`firestore_sequence_number_${this.persistenceKey}`,this.ur=this.ur.insert(this.sr,new Rf),this.lr=new RegExp(`^firestore_clients_${D}_([^_]*)$`),this.dr=new RegExp(`^firestore_mutations_${D}_(\\d+)(?:_(.*))?$`),this._r=new RegExp(`^firestore_targets_${D}_(\\d+)$`),this.wr=`firestore_online_state_${this.persistenceKey}`,this.mr=function(P){return`firestore_bundle_loaded_v2_${P}`}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}static C(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,Re.Z)(function*(){const t=yield e.syncEngine.vi();for(const d of t){if(d===e.sr)continue;const _=e.getItem(yh(e.persistenceKey,d));if(_){const D=Pf.Zi(d,_);D&&(e.ur=e.ur.insert(D.clientId,D))}}e.gr();const o=e.storage.getItem(e.wr);if(o){const d=e.yr(o);d&&e.pr(d)}for(const d of e.cr)e.rr(d);e.cr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.hr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ir(this.ur)}isActiveQueryTarget(e){let t=!1;return this.ur.forEach((o,d)=>{d.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Tr(e,"pending")}updateMutationState(e,t,o){this.Tr(e,t,o),this.Er(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const o=this.storage.getItem(zp(this.persistenceKey,e));if(o){const d=Ru.Zi(e,o);d&&(t=d.state)}}return this.Ar.er(e),this.gr(),t}removeLocalQueryTarget(e){this.Ar.nr(e),this.gr()}isLocalQueryTarget(e){return this.Ar.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(zp(this.persistenceKey,e))}updateQueryState(e,t,o){this.Rr(e,t,o)}handleUserChange(e,t,o){t.forEach(d=>{this.Er(d)}),this.currentUser=e,o.forEach(d=>{this.addPendingMutation(d)})}setOnlineState(e){this.br(e)}notifyBundleLoaded(e){this.Pr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Wt("SharedClientState","READ",e,t),t}setItem(e,t){Wt("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Wt("SharedClientState","REMOVE",e),this.storage.removeItem(e)}rr(e){var t=this;const o=e;if(o.storageArea===this.storage){if(Wt("SharedClientState","EVENT",o.key,o.newValue),o.key===this.ar)return void Zr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable((0,Re.Z)(function*(){if(t.started){if(null!==o.key)if(t.lr.test(o.key)){if(null==o.newValue){const d=t.vr(o.key);return t.Vr(d,null)}{const d=t.Sr(o.key,o.newValue);if(d)return t.Vr(d.clientId,d)}}else if(t.dr.test(o.key)){if(null!==o.newValue){const d=t.Dr(o.key,o.newValue);if(d)return t.Cr(d)}}else if(t._r.test(o.key)){if(null!==o.newValue){const d=t.Nr(o.key,o.newValue);if(d)return t.kr(d)}}else if(o.key===t.wr){if(null!==o.newValue){const d=t.yr(o.newValue);if(d)return t.pr(d)}}else if(o.key===t.hr){const d=function(_){let D=Xn.at;if(null!=_)try{const P=JSON.parse(_);fn("number"==typeof P),D=P}catch(P){Zr("SharedClientState","Failed to read sequence number from WebStorage",P)}return D}(o.newValue);d!==Xn.at&&t.sequenceNumberHandler(d)}else if(o.key===t.mr){const d=t.Mr(o.newValue);yield Promise.all(d.map(_=>t.syncEngine.Or(_)))}}else t.cr.push(o)}))}}get Ar(){return this.ur.get(this.sr)}gr(){this.setItem(this.ar,this.Ar.tr())}Tr(e,t,o){const d=new Td(this.currentUser,e,t,o),_=Il(this.persistenceKey,this.currentUser,e);this.setItem(_,d.tr())}Er(e){const t=Il(this.persistenceKey,this.currentUser,e);this.removeItem(t)}br(e){this.storage.setItem(this.wr,JSON.stringify({clientId:this.sr,onlineState:e}))}Rr(e,t,o){const d=zp(this.persistenceKey,e),_=new Ru(e,t,o);this.setItem(d,_.tr())}Pr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.mr,t)}vr(e){const t=this.lr.exec(e);return t?t[1]:null}Sr(e,t){const o=this.vr(e);return Pf.Zi(o,t)}Dr(e,t){const o=this.dr.exec(e),d=Number(o[1]);return Td.Zi(new ui(void 0!==o[2]?o[2]:null),d,t)}Nr(e,t){const o=this._r.exec(e),d=Number(o[1]);return Ru.Zi(d,t)}yr(e){return lm.Zi(e)}Mr(e){return JSON.parse(e)}Cr(e){var t=this;return(0,Re.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Fr(e.batchId,e.state,e.error);Wt("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}kr(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}Vr(e,t){const o=t?this.ur.insert(e,t):this.ur.remove(e),d=this.Ir(this.ur),_=this.Ir(o),D=[],P=[];return _.forEach(j=>{d.has(j)||D.push(j)}),d.forEach(j=>{_.has(j)||P.push(j)}),this.syncEngine.Br(D,P).then(()=>{this.ur=o})}pr(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ir(e){let t=jl();return e.forEach((o,d)=>{t=t.unionWith(d.activeTargetIds)}),t}}class vh{constructor(){this.Lr=new Rf,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,o){}addLocalQueryTarget(e){return this.Lr.er(e),this.Ur[e]||"not-current"}updateQueryState(e,t,o){this.Ur[e]=t}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.Ur[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new Rf,Promise.resolve()}handleUserChange(e,t,o){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class kf{qr(e){}shutdown(){}}class Lf{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}qr(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){Wt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){Wt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const I_={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class ku{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class M_ extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.oo=(e.ssl?"https":"http")+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}co(e,t,o,d,_){const D=this.ao(e,t);Wt("RestConnection","Sending: ",D,o);const P={};return this.ho(P,d,_),this.lo(e,D,P,o).then(j=>(Wt("RestConnection","Received: ",j),j),j=>{throw Zo("RestConnection",`${e} failed with error: `,j,"url: ",D,"request:",o),j})}fo(e,t,o,d,_,D){return this.co(e,t,o,d,_)}ho(e,t,o){e["X-Goog-Api-Client"]="gl-js/ fire/"+_o,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((d,_)=>e[_]=d),o&&o.headers.forEach((d,_)=>e[_]=d)}ao(e,t){return`${this.oo}/v1/${t}:${I_[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}lo(e,t,o,d){return new Promise((_,D)=>{const P=new cs;P.listenOnce(ll.COMPLETE,()=>{try{switch(P.getLastErrorCode()){case Po.NO_ERROR:const G=P.getResponseJson();Wt("Connection","XHR received:",JSON.stringify(G)),_(G);break;case Po.TIMEOUT:Wt("Connection",'RPC "'+e+'" timed out'),D(new Pt(ut.DEADLINE_EXCEEDED,"Request time out"));break;case Po.HTTP_ERROR:const re=P.getStatus();if(Wt("Connection",'RPC "'+e+'" failed with status:',re,"response text:",P.getResponseText()),re>0){const Ce=P.getResponseJson().error;if(Ce&&Ce.status&&Ce.message){const tt=function(vt){const wt=vt.toLowerCase().replace(/_/g,"-");return Object.values(ut).indexOf(wt)>=0?wt:ut.UNKNOWN}(Ce.status);D(new Pt(tt,Ce.message))}else D(new Pt(ut.UNKNOWN,"Server responded with status "+P.getStatus()))}else D(new Pt(ut.UNAVAILABLE,"Connection failed."));break;default:dn()}}finally{Wt("Connection",'RPC "'+e+'" completed.')}});const j=JSON.stringify(d);P.send(t,"POST",j,o,15)})}_o(e,t,o){const d=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],_=Oo(),D=Ka(),P={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(P.xmlHttpFactory=new fc({})),this.ho(P.initMessageHeaders,t,o),(0,$e.uI)()||(0,$e.b$)()||(0,$e.d)()||(0,$e.w1)()||(0,$e.Mn)()||(0,$e.ru)()||(P.httpHeadersOverwriteParam="$httpHeaders");const j=d.join("");Wt("Connection","Creating WebChannel: "+j,P);const G=_.createWebChannel(j,P);let re=!1,Ce=!1;const tt=new ku({Hr:wt=>{Ce?Wt("Connection","Not sending because WebChannel is closed:",wt):(re||(Wt("Connection","Opening WebChannel transport."),G.open(),re=!0),Wt("Connection","WebChannel sending:",wt),G.send(wt))},Jr:()=>G.close()}),vt=(wt,Kt,wn)=>{wt.listen(Kt,Tr=>{try{wn(Tr)}catch(Jn){setTimeout(()=>{throw Jn},0)}})};return vt(G,ci.EventType.OPEN,()=>{Ce||Wt("Connection","WebChannel transport opened.")}),vt(G,ci.EventType.CLOSE,()=>{Ce||(Ce=!0,Wt("Connection","WebChannel transport closed"),tt.io())}),vt(G,ci.EventType.ERROR,wt=>{Ce||(Ce=!0,Zo("Connection","WebChannel transport errored:",wt),tt.io(new Pt(ut.UNAVAILABLE,"The operation could not be completed")))}),vt(G,ci.EventType.MESSAGE,wt=>{var Kt;if(!Ce){const wn=wt.data[0];fn(!!wn);const Tr=wn,Jn=Tr.error||(null===(Kt=Tr[0])||void 0===Kt?void 0:Kt.error);if(Jn){Wt("Connection","WebChannel received error:",Jn);const Or=Jn.status;let $r=function(qr){const lo=_s[qr];if(void 0!==lo)return ih(lo)}(Or),Vr=Jn.message;void 0===$r&&($r=ut.INTERNAL,Vr="Unknown error status: "+Or+" with message "+Jn.message),Ce=!0,tt.io(new Pt($r,Vr)),G.close()}else Wt("Connection","WebChannel received:",wn),tt.ro(wn)}}),vt(D,Kd.STAT_EVENT,wt=>{wt.stat===$a.PROXY?Wt("Connection","Detected buffering proxy"):wt.stat===$a.NOPROXY&&Wt("Connection","Detected no buffering proxy")}),setTimeout(()=>{tt.so()},0),tt}}function um(){return typeof window<"u"?window:null}function wc(){return typeof document<"u"?document:null}function Nf(i){return new yu(i,!0)}class Ff{constructor(e,t,o=1e3,d=1.5,_=6e4){this.Hs=e,this.timerId=t,this.wo=o,this.mo=d,this.yo=_,this.po=0,this.Io=null,this.To=Date.now(),this.reset()}reset(){this.po=0}Eo(){this.po=this.yo}Ao(e){this.cancel();const t=Math.floor(this.po+this.Ro()),o=Math.max(0,Date.now()-this.To),d=Math.max(0,t-o);d>0&&Wt("ExponentialBackoff",`Backing off for ${d} ms (base delay: ${this.po} ms, delay with jitter: ${t} ms, last attempt: ${o} ms ago)`),this.Io=this.Hs.enqueueAfterDelay(this.timerId,d,()=>(this.To=Date.now(),e())),this.po*=this.mo,this.po<this.wo&&(this.po=this.wo),this.po>this.yo&&(this.po=this.yo)}bo(){null!==this.Io&&(this.Io.skipDelay(),this.Io=null)}cancel(){null!==this.Io&&(this.Io.cancel(),this.Io=null)}Ro(){return(Math.random()-.5)*this.po}}class dm{constructor(e,t,o,d,_,D,P,j){this.Hs=e,this.Po=o,this.vo=d,this.Vo=_,this.authCredentialsProvider=D,this.appCheckCredentialsProvider=P,this.listener=j,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new Ff(e,t)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Mo()}stop(){var e=this;return(0,Re.Z)(function*(){e.No()&&(yield e.close(0))})()}Oo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.Po,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}$o(){var e=this;return(0,Re.Z)(function*(){if(e.ko())return e.close(0)})()}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}close(e,t){var o=this;return(0,Re.Z)(function*(){o.Lo(),o.Uo(),o.xo.cancel(),o.So++,4!==e?o.xo.reset():t&&t.code===ut.RESOURCE_EXHAUSTED?(Zr(t.toString()),Zr("Using maximum backoff delay to prevent overloading the backend."),o.xo.Eo()):t&&t.code===ut.UNAUTHENTICATED&&3!==o.state&&(o.authCredentialsProvider.invalidateToken(),o.appCheckCredentialsProvider.invalidateToken()),null!==o.stream&&(o.qo(),o.stream.close(),o.stream=null),o.state=e,yield o.listener.Zr(t)})()}qo(){}auth(){this.state=1;const e=this.Ko(this.So),t=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([o,d])=>{this.So===t&&this.Go(o,d)},o=>{e(()=>{const d=new Pt(ut.UNKNOWN,"Fetching auth token failed: "+o.message);return this.Qo(d)})})}Go(e,t){const o=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr(()=>{o(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(d=>{o(()=>this.Qo(d))}),this.stream.onMessage(d=>{o(()=>this.onMessage(d))})}Mo(){var e=this;this.state=5,this.xo.Ao((0,Re.Z)(function*(){e.state=0,e.start()}))}Qo(e){return Wt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return t=>{this.Hs.enqueueAndForget(()=>this.So===e?t():(Wt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class hm extends dm{constructor(e,t,o,d,_,D){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,o,d,D),this.It=_}jo(e,t){return this.Vo._o("Listen",e,t)}onMessage(e){this.xo.reset();const t=function yn(i,e){let t;if("targetChange"in e){const o="NO_CHANGE"===(j=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===j?1:"REMOVE"===j?2:"CURRENT"===j?3:"RESET"===j?4:dn(),d=e.targetChange.targetIds||[],_=function(j,G){return j.gt?(fn(void 0===G||"string"==typeof G),Li.fromBase64String(G||"")):(fn(void 0===G||G instanceof Uint8Array),Li.fromUint8Array(G||new Uint8Array))}(i,e.targetChange.resumeToken),D=e.targetChange.cause,P=D&&function(j){const G=void 0===j.code?ut.UNKNOWN:ih(j.code);return new Pt(G,j.message||"")}(D);t=new ns(o,d,_,P||null)}else if("documentChange"in e){const o=e.documentChange,d=m(i,o.document.name),_=rs(o.document.updateTime),D=new Os({mapValue:{fields:o.document.fields}}),P=ni.newFoundDocument(d,_,D);t=new qc(o.targetIds||[],o.removedTargetIds||[],P.key,P)}else if("documentDelete"in e){const o=e.documentDelete,d=m(i,o.document),_=o.readTime?rs(o.readTime):nn.min(),D=ni.newNoDocument(d,_);t=new qc([],o.removedTargetIds||[],D.key,D)}else if("documentRemove"in e){const o=e.documentRemove,d=m(i,o.document);t=new qc([],o.removedTargetIds||[],d,null)}else{if(!("filter"in e))return dn();{const o=e.filter,_=new f_(o.count||0);t=new bl(o.targetId,_)}}var j;return t}(this.It,e),o=function(d){if(!("targetChange"in d))return nn.min();const _=d.targetChange;return _.targetIds&&_.targetIds.length?nn.min():_.readTime?rs(_.readTime):nn.min()}(e);return this.listener.Wo(t,o)}zo(e){const t={};t.database=q(this.It),t.addTarget=function(d,_){let D;const P=_.target;return D=Uc(P)?{documents:ka(d,P)}:{query:Qc(d,P)},D.targetId=_.targetId,_.resumeToken.approximateByteSize()>0?D.resumeToken=ah(d,_.resumeToken):_.snapshotVersion.compareTo(nn.min())>0&&(D.readTime=vu(d,_.snapshotVersion.toTimestamp())),D}(this.It,e);const o=function bu(i,e){const t=function(o,d){switch(d){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return dn()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);o&&(t.labels=o),this.Bo(t)}Ho(e){const t={};t.database=q(this.It),t.removeTarget=e,this.Bo(t)}}class Gp extends dm{constructor(e,t,o,d,_,D){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,o,d,D),this.It=_,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}qo(){this.Jo&&this.Xo([])}jo(e,t){return this.Vo._o("Write",e,t)}onMessage(e){if(fn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const t=function ds(i,e){return i&&i.length>0?(fn(void 0!==e),i.map(t=>function(o,d){let _=rs(o.updateTime?o.updateTime:d);return _.isEqual(nn.min())&&(_=rs(d)),new Ug(_,o.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),o=rs(e.commitTime);return this.listener.Zo(o,t)}return fn(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=q(this.It),this.Bo(e)}Xo(e){const t={streamToken:this.lastStreamToken,writes:e.map(o=>Rn(this.It,o))};this.Bo(t)}}class fm extends class{}{constructor(e,t,o,d){super(),this.authCredentials=e,this.appCheckCredentials=t,this.Vo=o,this.It=d,this.nu=!1}su(){if(this.nu)throw new Pt(ut.FAILED_PRECONDITION,"The client has already been terminated.")}co(e,t,o){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,_])=>this.Vo.co(e,t,o,d,_)).catch(d=>{throw"FirebaseError"===d.name?(d.code===ut.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new Pt(ut.UNKNOWN,d.toString())})}fo(e,t,o,d){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([_,D])=>this.Vo.fo(e,t,o,_,D,d)).catch(_=>{throw"FirebaseError"===_.name?(_.code===ut.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),_):new Pt(ut.UNKNOWN,_.toString())})}terminate(){this.nu=!0}}class Fy{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(Zr(t),this.ou=!1):Wt("OnlineStateTracker",t)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class pm{constructor(e,t,o,d,_){var D=this;this.localStore=e,this.datastore=t,this.asyncQueue=o,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=_,this.mu.qr(P=>{o.enqueueAndForget((0,Re.Z)(function*(){var j;Ml(D)&&(Wt("RemoteStore","Restarting streams for network reachability change."),yield(j=(0,Re.Z)(function*(G){const re=qt(G);re._u.add(4),yield Lu(re),re.gu.set("Unknown"),re._u.delete(4),yield bh(re)}),function(G){return j.apply(this,arguments)})(D))}))}),this.gu=new Fy(o,d)}}function bh(i){return Bf.apply(this,arguments)}function Bf(){return Bf=(0,Re.Z)(function*(i){if(Ml(i))for(const e of i.wu)yield e(!0)}),Bf.apply(this,arguments)}function Lu(i){return Eh.apply(this,arguments)}function Eh(){return Eh=(0,Re.Z)(function*(i){for(const e of i.wu)yield e(!1)}),Eh.apply(this,arguments)}function Zp(i,e){const t=qt(i);t.du.has(e.targetId)||(t.du.set(e.targetId,e),Uf(t)?Ic(t):xd(t).ko()&&qp(t,e))}function ou(i,e){const t=qt(i),o=xd(t);t.du.delete(e),o.ko()&&T_(t,e),0===t.du.size&&(o.ko()?o.Fo():Ml(t)&&t.gu.set("Unknown"))}function qp(i,e){i.yu.Ot(e.targetId),xd(i).zo(e)}function T_(i,e){i.yu.Ot(e),xd(i).Ho(e)}function Ic(i){i.yu=new Yc({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),se:e=>i.du.get(e)||null}),xd(i).start(),i.gu.uu()}function Uf(i){return Ml(i)&&!xd(i).No()&&i.du.size>0}function Ml(i){return 0===qt(i)._u.size}function Ch(i){i.yu=void 0}function Tl(i){return Vf.apply(this,arguments)}function Vf(){return Vf=(0,Re.Z)(function*(i){i.du.forEach((e,t)=>{qp(i,e)})}),Vf.apply(this,arguments)}function A_(i,e){return Ad.apply(this,arguments)}function Ad(){return Ad=(0,Re.Z)(function*(i,e){Ch(i),Uf(i)?(i.gu.hu(e),Ic(i)):i.gu.set("Unknown")}),Ad.apply(this,arguments)}function Mc(i,e,t){return Vo.apply(this,arguments)}function Vo(){return Vo=(0,Re.Z)(function*(i,e,t){if(i.gu.set("Online"),e instanceof ns&&2===e.state&&e.cause)try{yield(o=(0,Re.Z)(function*(d,_){const D=_.cause;for(const P of _.targetIds)d.du.has(P)&&(yield d.remoteSyncer.rejectListen(P,D),d.du.delete(P),d.yu.removeTarget(P))}),function(d,_){return o.apply(this,arguments)})(i,e)}catch(o){Wt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),o),yield Nu(i,o)}else if(e instanceof qc?i.yu.Gt(e):e instanceof bl?i.yu.Yt(e):i.yu.Wt(e),!t.isEqual(nn.min()))try{const o=yield _h(i.localStore);t.compareTo(o)>=0&&(yield function(d,_){const D=d.yu.te(_);return D.targetChanges.forEach((P,j)=>{if(P.resumeToken.approximateByteSize()>0){const G=d.du.get(j);G&&d.du.set(j,G.withResumeToken(P.resumeToken,_))}}),D.targetMismatches.forEach(P=>{const j=d.du.get(P);if(!j)return;d.du.set(P,j.withResumeToken(Li.EMPTY_BYTE_STRING,j.snapshotVersion)),T_(d,P);const G=new Qa(j.target,P,1,j.sequenceNumber);qp(d,G)}),d.remoteSyncer.applyRemoteEvent(D)}(i,t))}catch(o){Wt("RemoteStore","Failed to raise snapshot:",o),yield Nu(i,o)}var o}),Vo.apply(this,arguments)}function Nu(i,e,t){return Tc.apply(this,arguments)}function Tc(){return Tc=(0,Re.Z)(function*(i,e,t){if(!J(e))throw e;i._u.add(1),yield Lu(i),i.gu.set("Offline"),t||(t=()=>_h(i.localStore)),i.asyncQueue.enqueueRetryable((0,Re.Z)(function*(){Wt("RemoteStore","Retrying IndexedDB access"),yield t(),i._u.delete(1),yield bh(i)}))}),Tc.apply(this,arguments)}function Yp(i,e){return e().catch(t=>Nu(i,t,e))}function Fu(i){return gm.apply(this,arguments)}function gm(){return gm=(0,Re.Z)(function*(i){const e=qt(i),t=Ql(e);let o=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;Sd(e);)try{const d=yield jp(e.localStore,o);if(null===d){0===e.fu.length&&t.Fo();break}o=d.batchId,Hf(e,d)}catch(d){yield Nu(e,d)}jf(e)&&Bu(e)}),gm.apply(this,arguments)}function Sd(i){return Ml(i)&&i.fu.length<10}function Hf(i,e){i.fu.push(e);const t=Ql(i);t.ko()&&t.Yo&&t.Xo(e.mutations)}function jf(i){return Ml(i)&&!Ql(i).No()&&i.fu.length>0}function Bu(i){Ql(i).start()}function Qp(i){return Xp.apply(this,arguments)}function Xp(){return Xp=(0,Re.Z)(function*(i){Ql(i).eu()}),Xp.apply(this,arguments)}function mm(i){return Wf.apply(this,arguments)}function Wf(){return Wf=(0,Re.Z)(function*(i){const e=Ql(i);for(const t of i.fu)e.Xo(t.mutations)}),Wf.apply(this,arguments)}function Ja(i,e,t){return au.apply(this,arguments)}function au(){return au=(0,Re.Z)(function*(i,e,t){const o=i.fu.shift(),d=mf.from(o,e,t);yield Yp(i,()=>i.remoteSyncer.applySuccessfulWrite(d)),yield Fu(i)}),au.apply(this,arguments)}function _m(i,e){return ym.apply(this,arguments)}function ym(){return ym=(0,Re.Z)(function*(i,e){var t;e&&Ql(i).Yo&&(yield(t=(0,Re.Z)(function*(o,d){if(Gc(_=d.code)&&_!==ut.ABORTED){const D=o.fu.shift();Ql(o).Oo(),yield Yp(o,()=>o.remoteSyncer.rejectFailedWrite(D.batchId,d)),yield Fu(o)}var _}),function(o,d){return t.apply(this,arguments)})(i,e)),jf(i)&&Bu(i)}),ym.apply(this,arguments)}function Jp(i,e){return vm.apply(this,arguments)}function vm(){return vm=(0,Re.Z)(function*(i,e){const t=qt(i);t.asyncQueue.verifyOperationInProgress(),Wt("RemoteStore","RemoteStore received new credentials");const o=Ml(t);t._u.add(3),yield Lu(t),o&&t.gu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t._u.delete(3),yield bh(t)}),vm.apply(this,arguments)}function Dh(i,e){return Uu.apply(this,arguments)}function Uu(){return Uu=(0,Re.Z)(function*(i,e){const t=qt(i);e?(t._u.delete(2),yield bh(t)):e||(t._u.add(2),yield Lu(t),t.gu.set("Unknown"))}),Uu.apply(this,arguments)}function xd(i){return i.pu||(i.pu=function(e,t,o){const d=qt(e);return d.su(),new hm(t,d.Vo,d.authCredentials,d.appCheckCredentials,d.It,o)}(i.datastore,i.asyncQueue,{Yr:Tl.bind(null,i),Zr:A_.bind(null,i),Wo:Mc.bind(null,i)}),i.wu.push(function(){var e=(0,Re.Z)(function*(t){t?(i.pu.Oo(),Uf(i)?Ic(i):i.gu.set("Unknown")):(yield i.pu.stop(),Ch(i))});return function(t){return e.apply(this,arguments)}}())),i.pu}function Ql(i){return i.Iu||(i.Iu=function(e,t,o){const d=qt(e);return d.su(),new Gp(t,d.Vo,d.authCredentials,d.appCheckCredentials,d.It,o)}(i.datastore,i.asyncQueue,{Yr:Qp.bind(null,i),Zr:_m.bind(null,i),tu:mm.bind(null,i),Zo:Ja.bind(null,i)}),i.wu.push(function(){var e=(0,Re.Z)(function*(t){t?(i.Iu.Oo(),yield Fu(i)):(yield i.Iu.stop(),i.fu.length>0&&(Wt("RemoteStore",`Stopping write stream with ${i.fu.length} pending writes`),i.fu=[]))});return function(t){return e.apply(this,arguments)}}())),i.Iu}class Kf{constructor(e,t,o,d,_){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=o,this.op=d,this.removalCallback=_,this.deferred=new yi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(D=>{})}static createAndSchedule(e,t,o,d,_){const D=Date.now()+o,P=new Kf(e,t,D,d,_);return P.start(o),P}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Pt(ut.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function wh(i,e){if(Zr("AsyncQueue",`${e}: ${i}`),J(i))return new Pt(ut.UNAVAILABLE,`${e}: ${i}`);throw i}class Od{constructor(e){this.comparator=e?(t,o)=>e(t,o)||rn.comparator(t.key,o.key):(t,o)=>rn.comparator(t.key,o.key),this.keyedMap=Pa(),this.sortedSet=new kr(this.comparator)}static emptySet(e){return new Od(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,o)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Od)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),o=e.sortedSet.getIterator();for(;t.hasNext();){const d=t.getNext().key,_=o.getNext().key;if(!d.isEqual(_))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const o=new Od;return o.comparator=this.comparator,o.keyedMap=e,o.sortedSet=t,o}}class S_{constructor(){this.Tu=new kr(rn.comparator)}track(e){const t=e.doc.key,o=this.Tu.get(t);o?0!==e.type&&3===o.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==o.type?this.Tu=this.Tu.insert(t,{type:o.type,doc:e.doc}):2===e.type&&2===o.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===o.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===o.type?this.Tu=this.Tu.remove(t):1===e.type&&2===o.type?this.Tu=this.Tu.insert(t,{type:1,doc:o.doc}):0===e.type&&1===o.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):dn():this.Tu=this.Tu.insert(t,e)}Eu(){const e=[];return this.Tu.inorderTraversal((t,o)=>{e.push(o)}),e}}class Ih{constructor(e,t,o,d,_,D,P,j){this.query=e,this.docs=t,this.oldDocs=o,this.docChanges=d,this.mutatedKeys=_,this.fromCache=D,this.syncStateChanged=P,this.excludesMetadataChanges=j}static fromInitialDocuments(e,t,o,d){const _=[];return t.forEach(D=>{_.push({type:0,doc:D})}),new Ih(e,t,Od.emptySet(t),_,o,d,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ma(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,o=e.docChanges;if(t.length!==o.length)return!1;for(let d=0;d<t.length;d++)if(t[d].type!==o[d].type||!t[d].doc.isEqual(o[d].doc))return!1;return!0}}class By{constructor(){this.Au=void 0,this.listeners=[]}}class Uy{constructor(){this.queries=new vl(e=>Jh(e),ma),this.onlineState="Unknown",this.Ru=new Set}}function eg(i,e){return Mh.apply(this,arguments)}function Mh(){return Mh=(0,Re.Z)(function*(i,e){const t=qt(i),o=e.query;let d=!1,_=t.queries.get(o);if(_||(d=!0,_=new By),d)try{_.Au=yield t.onListen(o)}catch(D){const P=wh(D,`Initialization of query '${Yd(e.query)}' failed`);return void e.onError(P)}t.queries.set(o,_),_.listeners.push(e),e.bu(t.onlineState),_.Au&&e.Pu(_.Au)&&zf(t)}),Mh.apply(this,arguments)}function tg(i,e){return Xl.apply(this,arguments)}function Xl(){return Xl=(0,Re.Z)(function*(i,e){const t=qt(i),o=e.query;let d=!1;const _=t.queries.get(o);if(_){const D=_.listeners.indexOf(e);D>=0&&(_.listeners.splice(D,1),d=0===_.listeners.length)}if(d)return t.queries.delete(o),t.onUnlisten(o)}),Xl.apply(this,arguments)}function $f(i,e){const t=qt(i);let o=!1;for(const d of e){const D=t.queries.get(d.query);if(D){for(const P of D.listeners)P.Pu(d)&&(o=!0);D.Au=d}}o&&zf(t)}function x_(i,e,t){const o=qt(i),d=o.queries.get(e);if(d)for(const _ of d.listeners)_.onError(t);o.queries.delete(e)}function zf(i){i.Ru.forEach(e=>{e.next()})}class Th{constructor(e,t,o){this.query=e,this.vu=t,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=o||{}}Pu(e){if(!this.options.includeMetadataChanges){const o=[];for(const d of e.docChanges)3!==d.type&&o.push(d);e=new Ih(e.query,e.docs,e.oldDocs,o,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),t=!0):this.Cu(e,this.onlineState)&&(this.xu(e),t=!0),this.Su=e,t}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}Cu(e,t){return!e.fromCache||!(this.options.Nu&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}Du(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}xu(e){e=Ih.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Vu=!0,this.vu.next(e)}}class bm{constructor(e,t){this.payload=e,this.byteLength=t}ku(){return"metadata"in this.payload}}class Gf{constructor(e){this.It=e}Ji(e){return m(this.It,e)}Yi(e){return e.metadata.exists?ht(this.It,e.document,!1):ni.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}Xi(e){return rs(e)}}class O_{constructor(e,t,o){this.Mu=e,this.localStore=t,this.It=o,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Jl(e)}Ou(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;const o=Mr.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(o.get(o.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Fu(e){const t=new Map,o=new Gf(this.It);for(const d of e)if(d.metadata.queries){const _=o.Ji(d.metadata.name);for(const D of d.metadata.queries){const P=(t.get(D)||Qn()).add(_);t.set(D,P)}}return t}complete(){var e=this;return(0,Re.Z)(function*(){const t=yield function w_(i,e,t,o){return $p.apply(this,arguments)}(e.localStore,new Gf(e.It),e.documents,e.Mu.id),o=e.Fu(e.documents);for(const d of e.queries)yield Id(e.localStore,d,o.get(d.name));return e.progress.taskState="Success",{progress:e.progress,$u:e.collectionGroups,Bu:t}})()}}function Jl(i){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:i.totalDocuments,totalBytes:i.totalBytes}}class Ah{constructor(e){this.key=e}}class ng{constructor(e){this.key=e}}class Em{constructor(e,t){this.query=e,this.Lu=t,this.Uu=null,this.current=!1,this.qu=Qn(),this.mutatedKeys=Qn(),this.Ku=Nl(e),this.Gu=new Od(this.Ku)}get Qu(){return this.Lu}ju(e,t){const o=t?t.Wu:new S_,d=t?t.Gu:this.Gu;let _=t?t.mutatedKeys:this.mutatedKeys,D=d,P=!1;const j="F"===this.query.limitType&&d.size===this.query.limit?d.last():null,G="L"===this.query.limitType&&d.size===this.query.limit?d.first():null;if(e.inorderTraversal((re,Ce)=>{const tt=d.get(re),vt=cd(this.query,Ce)?Ce:null,wt=!!tt&&this.mutatedKeys.has(tt.key),Kt=!!vt&&(vt.hasLocalMutations||this.mutatedKeys.has(vt.key)&&vt.hasCommittedMutations);let wn=!1;tt&&vt?tt.data.isEqual(vt.data)?wt!==Kt&&(o.track({type:3,doc:vt}),wn=!0):this.zu(tt,vt)||(o.track({type:2,doc:vt}),wn=!0,(j&&this.Ku(vt,j)>0||G&&this.Ku(vt,G)<0)&&(P=!0)):!tt&&vt?(o.track({type:0,doc:vt}),wn=!0):tt&&!vt&&(o.track({type:1,doc:tt}),wn=!0,(j||G)&&(P=!0)),wn&&(vt?(D=D.add(vt),_=Kt?_.add(re):_.delete(re)):(D=D.delete(re),_=_.delete(re)))}),null!==this.query.limit)for(;D.size>this.query.limit;){const re="F"===this.query.limitType?D.last():D.first();D=D.delete(re.key),_=_.delete(re.key),o.track({type:1,doc:re})}return{Gu:D,Wu:o,$i:P,mutatedKeys:_}}zu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,o){const d=this.Gu;this.Gu=e.Gu,this.mutatedKeys=e.mutatedKeys;const _=e.Wu.Eu();_.sort((G,re)=>function(Ce,tt){const vt=wt=>{switch(wt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return dn()}};return vt(Ce)-vt(tt)}(G.type,re.type)||this.Ku(G.doc,re.doc)),this.Hu(o);const D=t?this.Ju():[],P=0===this.qu.size&&this.current?1:0,j=P!==this.Uu;return this.Uu=P,0!==_.length||j?{snapshot:new Ih(this.query,e.Gu,d,_,e.mutatedKeys,0===P,j,!1),Yu:D}:{Yu:D}}bu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Gu:this.Gu,Wu:new S_,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Yu:[]}}Xu(e){return!this.Lu.has(e)&&!!this.Gu.has(e)&&!this.Gu.get(e).hasLocalMutations}Hu(e){e&&(e.addedDocuments.forEach(t=>this.Lu=this.Lu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Lu=this.Lu.delete(t)),this.current=e.current)}Ju(){if(!this.current)return[];const e=this.qu;this.qu=Qn(),this.Gu.forEach(o=>{this.Xu(o.key)&&(this.qu=this.qu.add(o.key))});const t=[];return e.forEach(o=>{this.qu.has(o)||t.push(new ng(o))}),this.qu.forEach(o=>{e.has(o)||t.push(new Ah(o))}),t}Zu(e){this.Lu=e.Hi,this.qu=Qn();const t=this.ju(e.documents);return this.applyChanges(t,!0)}tc(){return Ih.fromInitialDocuments(this.query,this.Gu,this.mutatedKeys,0===this.Uu)}}class P_{constructor(e,t,o){this.query=e,this.targetId=t,this.view=o}}class Vy{constructor(e){this.key=e,this.ec=!1}}class Hy{constructor(e,t,o,d,_,D){this.localStore=e,this.remoteStore=t,this.eventManager=o,this.sharedClientState=d,this.currentUser=_,this.maxConcurrentLimboResolutions=D,this.nc={},this.sc=new vl(P=>Jh(P),ma),this.ic=new Map,this.rc=new Set,this.oc=new kr(rn.comparator),this.uc=new Map,this.cc=new Ou,this.ac={},this.hc=new Map,this.lc=Zl.vn(),this.onlineState="Unknown",this.fc=void 0}get isPrimaryClient(){return!0===this.fc}}function Zf(i,e){return Vu.apply(this,arguments)}function Vu(){return Vu=(0,Re.Z)(function*(i,e){const t=Om(i);let o,d;const _=t.sc.get(e);if(_)o=_.targetId,t.sharedClientState.addLocalQueryTarget(o),d=_.view.tc();else{const D=yield Pu(t.localStore,No(e));t.isPrimaryClient&&Zp(t.remoteStore,D);const P=t.sharedClientState.addLocalQueryTarget(D.targetId);o=D.targetId,d=yield qf(t,e,o,"current"===P)}return d}),Vu.apply(this,arguments)}function qf(i,e,t,o){return Hu.apply(this,arguments)}function Hu(){return Hu=(0,Re.Z)(function*(i,e,t,o){i.dc=(re,Ce,tt)=>{return(vt=(0,Re.Z)(function*(wt,Kt,wn,Tr){let Jn=Kt.view.ju(wn);Jn.$i&&(Jn=yield Of(wt.localStore,Kt.query,!1).then(({documents:Vr})=>Kt.view.ju(Vr,Jn)));const Or=Tr&&Tr.targetChanges.get(Kt.targetId),$r=Kt.view.applyChanges(Jn,wt.isPrimaryClient,Or);return wm(wt,Kt.targetId,$r.Yu),$r.snapshot}),function(wt,Kt,wn,Tr){return vt.apply(this,arguments)})(i,re,Ce,tt);var vt};const d=yield Of(i.localStore,e,!0),_=new Em(e,d.Hi),D=_.ju(d.documents),P=Kl.createSynthesizedTargetChangeForCurrentChange(t,o&&"Offline"!==i.onlineState),j=_.applyChanges(D,i.isPrimaryClient,P);wm(i,t,j.Yu);const G=new P_(e,t,_);return i.sc.set(e,G),i.ic.has(t)?i.ic.get(t).push(e):i.ic.set(t,[e]),j.snapshot}),Hu.apply(this,arguments)}function rg(i,e){return Pd.apply(this,arguments)}function Pd(){return Pd=(0,Re.Z)(function*(i,e){const t=qt(i),o=t.sc.get(e),d=t.ic.get(o.targetId);if(d.length>1)return t.ic.set(o.targetId,d.filter(_=>!ma(_,e))),void t.sc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(o.targetId),t.sharedClientState.isActiveQueryTarget(o.targetId)||(yield Dc(t.localStore,o.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(o.targetId),ou(t.remoteStore,o.targetId),wo(t,o.targetId)}).catch(Gs))):(wo(t,o.targetId),yield Dc(t.localStore,o.targetId,!0))}),Pd.apply(this,arguments)}function Yf(){return Yf=(0,Re.Z)(function*(i,e,t){const o=ep(i);try{const d=yield function(_,D){const P=qt(_),j=Rr.now(),G=D.reduce((tt,vt)=>tt.add(vt.key),Qn());let re,Ce;return P.persistence.runTransaction("Locally write mutations","readwrite",tt=>{let vt=Bo(),wt=Qn();return P.Gi.getEntries(tt,G).next(Kt=>{vt=Kt,vt.forEach((wn,Tr)=>{Tr.isValidDocument()||(wt=wt.add(wn))})}).next(()=>P.localDocuments.getOverlayedDocuments(tt,vt)).next(Kt=>{re=Kt;const wn=[];for(const Tr of D){const Jn=th(Tr,re.get(Tr.key).overlayedDocument);null!=Jn&&wn.push(new Fo(Tr.key,Jn,Fc(Jn.value.mapValue),vi.exists(!0)))}return P.mutationQueue.addMutationBatch(tt,j,wn,D)}).next(Kt=>{Ce=Kt;const wn=Kt.applyToLocalDocumentSet(re,wt);return P.documentOverlayCache.saveOverlays(tt,Kt.batchId,wn)})}).then(()=>({batchId:Ce.batchId,changes:Zc(re)}))}(o.localStore,e);o.sharedClientState.addPendingMutation(d.batchId),function(_,D,P){let j=_.ac[_.currentUser.toKey()];j||(j=new kr(Bn)),j=j.insert(D,P),_.ac[_.currentUser.toKey()]=j}(o,d.batchId,t),yield ec(o,d.changes),yield Fu(o.remoteStore)}catch(d){const _=wh(d,"Failed to persist write");t.reject(_)}}),Yf.apply(this,arguments)}function ig(i,e){return Qf.apply(this,arguments)}function Qf(){return Qf=(0,Re.Z)(function*(i,e){const t=qt(i);try{const o=yield Sf(t.localStore,e);e.targetChanges.forEach((d,_)=>{const D=t.uc.get(_);D&&(fn(d.addedDocuments.size+d.modifiedDocuments.size+d.removedDocuments.size<=1),d.addedDocuments.size>0?D.ec=!0:d.modifiedDocuments.size>0?fn(D.ec):d.removedDocuments.size>0&&(fn(D.ec),D.ec=!1))}),yield ec(t,o,e)}catch(o){yield Gs(o)}}),Qf.apply(this,arguments)}function sg(i,e,t){const o=qt(i);if(o.isPrimaryClient&&0===t||!o.isPrimaryClient&&1===t){const d=[];o.sc.forEach((_,D)=>{const P=D.view.bu(e);P.snapshot&&d.push(P.snapshot)}),function(_,D){const P=qt(_);P.onlineState=D;let j=!1;P.queries.forEach((G,re)=>{for(const Ce of re.listeners)Ce.bu(D)&&(j=!0)}),j&&zf(P)}(o.eventManager,e),d.length&&o.nc.Wo(d),o.onlineState=e,o.isPrimaryClient&&o.sharedClientState.setOnlineState(e)}}function k_(i,e,t){return Xf.apply(this,arguments)}function Xf(){return Xf=(0,Re.Z)(function*(i,e,t){const o=qt(i);o.sharedClientState.updateQueryState(e,"rejected",t);const d=o.uc.get(e),_=d&&d.key;if(_){let D=new kr(rn.comparator);D=D.insert(_,ni.newNoDocument(_,nn.min()));const P=Qn().add(_),j=new Wl(nn.min(),new Map,new xr(Bn),D,P);yield ig(o,j),o.oc=o.oc.remove(_),o.uc.delete(e),Im(o)}else yield Dc(o.localStore,e,!1).then(()=>wo(o,e,t)).catch(Gs)}),Xf.apply(this,arguments)}function L_(i,e){return N_.apply(this,arguments)}function N_(){return N_=(0,Re.Z)(function*(i,e){const t=qt(i),o=e.batch.batchId;try{const d=yield D_(t.localStore,e);Cm(t,o,null),lg(t,o),t.sharedClientState.updateMutationState(o,"acknowledged"),yield ec(t,d)}catch(d){yield Gs(d)}}),N_.apply(this,arguments)}function jy(i,e,t){return og.apply(this,arguments)}function og(){return og=(0,Re.Z)(function*(i,e,t){const o=qt(i);try{const d=yield function(_,D){const P=qt(_);return P.persistence.runTransaction("Reject batch","readwrite-primary",j=>{let G;return P.mutationQueue.lookupMutationBatch(j,D).next(re=>(fn(null!==re),G=re.keys(),P.mutationQueue.removeMutationBatch(j,re))).next(()=>P.mutationQueue.performConsistencyCheck(j)).next(()=>P.documentOverlayCache.removeOverlaysForBatchId(j,G,D)).next(()=>P.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(j,G)).next(()=>P.localDocuments.getDocuments(j,G))})}(o.localStore,e);Cm(o,e,t),lg(o,e),o.sharedClientState.updateMutationState(e,"rejected",t),yield ec(o,d)}catch(d){yield Gs(d)}}),og.apply(this,arguments)}function ag(){return ag=(0,Re.Z)(function*(i,e){const t=qt(i);Ml(t.remoteStore)||Wt("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const o=yield function(_){const D=qt(_);return D.persistence.runTransaction("Get highest unacknowledged batch id","readonly",P=>D.mutationQueue.getHighestUnacknowledgedBatchId(P))}(t.localStore);if(-1===o)return void e.resolve();const d=t.hc.get(o)||[];d.push(e),t.hc.set(o,d)}catch(o){const d=wh(o,"Initialization of waitForPendingWrites() operation failed");e.reject(d)}}),ag.apply(this,arguments)}function lg(i,e){(i.hc.get(e)||[]).forEach(t=>{t.resolve()}),i.hc.delete(e)}function Cm(i,e,t){const o=qt(i);let d=o.ac[o.currentUser.toKey()];if(d){const _=d.get(e);_&&(t?_.reject(t):_.resolve(),d=d.remove(e)),o.ac[o.currentUser.toKey()]=d}}function wo(i,e,t=null){i.sharedClientState.removeLocalQueryTarget(e);for(const o of i.ic.get(e))i.sc.delete(o),t&&i.nc._c(o,t);i.ic.delete(e),i.isPrimaryClient&&i.cc.ls(e).forEach(o=>{i.cc.containsKey(o)||Dm(i,o)})}function Dm(i,e){i.rc.delete(e.path.canonicalString());const t=i.oc.get(e);null!==t&&(ou(i.remoteStore,t),i.oc=i.oc.remove(e),i.uc.delete(t),Im(i))}function wm(i,e,t){for(const o of t)o instanceof Ah?(i.cc.addReference(o.key,e),Iv(i,o)):o instanceof ng?(Wt("SyncEngine","Document no longer in limbo: "+o.key),i.cc.removeReference(o.key,e),i.cc.containsKey(o.key)||Dm(i,o.key)):dn()}function Iv(i,e){const t=e.key,o=t.path.canonicalString();i.oc.get(t)||i.rc.has(o)||(Wt("SyncEngine","New document in limbo: "+t),i.rc.add(o),Im(i))}function Im(i){for(;i.rc.size>0&&i.oc.size<i.maxConcurrentLimboResolutions;){const e=i.rc.values().next().value;i.rc.delete(e);const t=new rn(Mr.fromString(e)),o=i.lc.next();i.uc.set(o,new Vy(t)),i.oc=i.oc.insert(t,o),Zp(i.remoteStore,new Qa(No(Ps(t.path)),o,2,Xn.at))}}function ec(i,e,t){return cg.apply(this,arguments)}function cg(){return cg=(0,Re.Z)(function*(i,e,t){const o=qt(i),d=[],_=[],D=[];var P;o.sc.isEmpty()||(o.sc.forEach((P,j)=>{D.push(o.dc(j,e,t).then(G=>{if(G){o.isPrimaryClient&&o.sharedClientState.updateQueryState(j.targetId,G.fromCache?"not-current":"current"),d.push(G);const re=Tf.Ci(j.targetId,G);_.push(re)}}))}),yield Promise.all(D),o.nc.Wo(d),yield(P=(0,Re.Z)(function*(j,G){const re=qt(j);try{yield re.persistence.runTransaction("notifyLocalViewChanges","readwrite",Ce=>w.forEach(G,tt=>w.forEach(tt.Si,vt=>re.persistence.referenceDelegate.addReference(Ce,tt.targetId,vt)).next(()=>w.forEach(tt.Di,vt=>re.persistence.referenceDelegate.removeReference(Ce,tt.targetId,vt)))))}catch(Ce){if(!J(Ce))throw Ce;Wt("LocalStore","Failed to update sequence numbers: "+Ce)}for(const Ce of G){const tt=Ce.targetId;if(!Ce.fromCache){const vt=re.Ui.get(tt),Kt=vt.withLastLimboFreeSnapshotVersion(vt.snapshotVersion);re.Ui=re.Ui.insert(tt,Kt)}}}),function(j,G){return P.apply(this,arguments)})(o.localStore,_))}),cg.apply(this,arguments)}function Ky(i,e){return Mm.apply(this,arguments)}function Mm(){return Mm=(0,Re.Z)(function*(i,e){const t=qt(i);if(!t.currentUser.isEqual(e)){Wt("SyncEngine","User change. New user:",e.toKey());const o=yield om(t.localStore,e);t.currentUser=e,(d=t).hc.forEach(D=>{D.forEach(P=>{P.reject(new Pt(ut.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),d.hc.clear(),t.sharedClientState.handleUserChange(e,o.removedBatchIds,o.addedBatchIds),yield ec(t,o.ji)}var d}),Mm.apply(this,arguments)}function $y(i,e){const t=qt(i),o=t.uc.get(e);if(o&&o.ec)return Qn().add(o.key);{let d=Qn();const _=t.ic.get(e);if(!_)return d;for(const D of _){const P=t.sc.get(D);d=d.unionWith(P.view.Qu)}return d}}function F_(i,e){return Tm.apply(this,arguments)}function Tm(){return Tm=(0,Re.Z)(function*(i,e){const t=qt(i),o=yield Of(t.localStore,e.query,!0),d=e.view.Zu(o);return t.isPrimaryClient&&wm(t,e.targetId,d.Yu),d}),Tm.apply(this,arguments)}function B_(i,e){return Am.apply(this,arguments)}function Am(){return Am=(0,Re.Z)(function*(i,e){const t=qt(i);return am(t.localStore,e).then(o=>ec(t,o))}),Am.apply(this,arguments)}function zy(i,e,t,o){return ug.apply(this,arguments)}function ug(){return ug=(0,Re.Z)(function*(i,e,t,o){const d=qt(i),_=yield function(D,P){const j=qt(D),G=qt(j.mutationQueue);return j.persistence.runTransaction("Lookup mutation documents","readonly",re=>G.Tn(re,P).next(Ce=>Ce?j.localDocuments.getDocuments(re,Ce):w.resolve(null)))}(d.localStore,e);var P;null!==_?("pending"===t?yield Fu(d.remoteStore):"acknowledged"===t||"rejected"===t?(Cm(d,e,o||null),lg(d,e),P=e,qt(qt(d.localStore).mutationQueue).An(P)):dn(),yield ec(d,_)):Wt("SyncEngine","Cannot apply mutation batch with id: "+e)}),ug.apply(this,arguments)}function Sm(){return Sm=(0,Re.Z)(function*(i,e){const t=qt(i);if(Om(t),ep(t),!0===e&&!0!==t.fc){const o=t.sharedClientState.getAllActiveQueryTargets(),d=yield tc(t,o.toArray());t.fc=!0,yield Dh(t.remoteStore,!0);for(const _ of d)Zp(t.remoteStore,_)}else if(!1===e&&!1!==t.fc){const o=[];let d=Promise.resolve();t.ic.forEach((_,D)=>{t.sharedClientState.isLocalQueryTarget(D)?o.push(D):d=d.then(()=>(wo(t,D),Dc(t.localStore,D,!0))),ou(t.remoteStore,D)}),yield d,yield tc(t,o),function(_){const D=qt(_);D.uc.forEach((P,j)=>{ou(D.remoteStore,j)}),D.cc.fs(),D.uc=new Map,D.oc=new kr(rn.comparator)}(t),t.fc=!1,yield Dh(t.remoteStore,!1)}}),Sm.apply(this,arguments)}function tc(i,e,t){return Jf.apply(this,arguments)}function Jf(){return Jf=(0,Re.Z)(function*(i,e,t){const o=qt(i),d=[],_=[];for(const D of e){let P;const j=o.ic.get(D);if(j&&0!==j.length){P=yield Pu(o.localStore,No(j[0]));for(const G of j){const re=o.sc.get(G),Ce=yield F_(o,re);Ce.snapshot&&_.push(Ce.snapshot)}}else{const G=yield Wp(o.localStore,D);P=yield Pu(o.localStore,G),yield qf(o,dg(G),D,!1)}d.push(P)}return o.nc.Wo(_),d}),Jf.apply(this,arguments)}function dg(i){return Qh(i.path,i.collectionGroup,i.orderBy,i.filters,i.limit,"F",i.startAt,i.endAt)}function Gy(i){const e=qt(i);return qt(qt(e.localStore).persistence).vi()}function Mv(i,e,t,o){return hg.apply(this,arguments)}function hg(){return hg=(0,Re.Z)(function*(i,e,t,o){const d=qt(i);if(d.fc)return void Wt("SyncEngine","Ignoring unexpected query state notification.");const _=d.ic.get(e);if(_&&_.length>0)switch(t){case"current":case"not-current":{const D=yield am(d.localStore,ef(_[0])),P=Wl.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield ec(d,D,P);break}case"rejected":yield Dc(d.localStore,e,!0),wo(d,e,o);break;default:dn()}}),hg.apply(this,arguments)}function Zy(i,e,t){return xm.apply(this,arguments)}function xm(){return xm=(0,Re.Z)(function*(i,e,t){const o=Om(i);if(o.fc){for(const d of e){if(o.ic.has(d)){Wt("SyncEngine","Adding an already active target "+d);continue}const _=yield Wp(o.localStore,d),D=yield Pu(o.localStore,_);yield qf(o,dg(_),D.targetId,!1),Zp(o.remoteStore,D)}for(const d of t)o.ic.has(d)&&(yield Dc(o.localStore,d,!1).then(()=>{ou(o.remoteStore,d),wo(o,d)}).catch(Gs))}}),xm.apply(this,arguments)}function Om(i){const e=qt(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=ig.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=$y.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=k_.bind(null,e),e.nc.Wo=$f.bind(null,e.eventManager),e.nc._c=x_.bind(null,e.eventManager),e}function ep(i){const e=qt(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=L_.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=jy.bind(null,e),e}class V_{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,Re.Z)(function*(){t.It=Nf(e.databaseInfo.databaseId),t.sharedClientState=t.mc(e),t.persistence=t.gc(e),yield t.persistence.start(),t.localStore=t.yc(e),t.gcScheduler=t.Ic(e,t.localStore),t.indexBackfillerScheduler=t.Tc(e,t.localStore)})()}Ic(e,t){return null}Tc(e,t){return null}yc(e){return mh(this.persistence,new C_,e.initialUser,this.It)}gc(e){return new Dd(Vp.Bs,this.It)}mc(e){return new vh}terminate(){var e=this;return(0,Re.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class tp extends V_{constructor(e,t,o){super(),this.Ec=e,this.cacheSizeBytes=t,this.forceOwnership=o,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,o=this;return(0,Re.Z)(function*(){yield t().call(o,e),yield o.Ec.initialize(o,e),yield ep(o.Ec.syncEngine),yield Fu(o.Ec.remoteStore),yield o.persistence.li(()=>(o.gcScheduler&&!o.gcScheduler.started&&o.gcScheduler.start(),o.indexBackfillerScheduler&&!o.indexBackfillerScheduler.started&&o.indexBackfillerScheduler.start(),Promise.resolve()))})()}yc(e){return mh(this.persistence,new C_,e.initialUser,this.It)}Ic(e,t){return new ph(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}Tc(e,t){const o=new mn(t,this.persistence);return new Yn(e.asyncQueue,o)}gc(e){const t=Hp(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),o=void 0!==this.cacheSizeBytes?na.withCacheSize(this.cacheSizeBytes):na.DEFAULT;return new wd(this.synchronizeTabs,t,e.clientId,o,e.asyncQueue,um(),wc(),this.It,this.sharedClientState,!!this.forceOwnership)}mc(e){return new vh}}class Pm extends tp{constructor(e,t){super(e,t,!1),this.Ec=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,o=this;return(0,Re.Z)(function*(){yield t().call(o,e);const d=o.Ec.syncEngine;o.sharedClientState instanceof cm&&(o.sharedClientState.syncEngine={Fr:zy.bind(null,d),$r:Mv.bind(null,d),Br:Zy.bind(null,d),vi:Gy.bind(null,d),Or:B_.bind(null,d)},yield o.sharedClientState.start()),yield o.persistence.li(function(){var _=(0,Re.Z)(function*(D){yield function U_(i,e){return Sm.apply(this,arguments)}(o.Ec.syncEngine,D),o.gcScheduler&&(D&&!o.gcScheduler.started?o.gcScheduler.start():D||o.gcScheduler.stop()),o.indexBackfillerScheduler&&(D&&!o.indexBackfillerScheduler.started?o.indexBackfillerScheduler.start():D||o.indexBackfillerScheduler.stop())});return function(D){return _.apply(this,arguments)}}())})()}mc(e){const t=um();if(!cm.C(t))throw new Pt(ut.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const o=Hp(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new cm(t,e.asyncQueue,o,e.clientId,e.initialUser)}}class Rm{initialize(e,t){var o=this;return(0,Re.Z)(function*(){o.localStore||(o.localStore=e.localStore,o.sharedClientState=e.sharedClientState,o.datastore=o.createDatastore(t),o.remoteStore=o.createRemoteStore(t),o.eventManager=o.createEventManager(t),o.syncEngine=o.createSyncEngine(t,!e.synchronizeTabs),o.sharedClientState.onlineStateHandler=d=>sg(o.syncEngine,d,1),o.remoteStore.remoteSyncer.handleCredentialChange=Ky.bind(null,o.syncEngine),yield Dh(o.remoteStore,o.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Uy}createDatastore(e){const t=Nf(e.databaseInfo.databaseId),o=new M_(e.databaseInfo);return new fm(e.authCredentials,e.appCheckCredentials,o,t)}createRemoteStore(e){return t=this.localStore,o=this.datastore,d=e.asyncQueue,_=P=>sg(this.syncEngine,P,0),D=Lf.C()?new Lf:new kf,new pm(t,o,d,_,D);var t,o,d,_,D}createSyncEngine(e,t){return function(o,d,_,D,P,j,G){const re=new Hy(o,d,_,D,P,j);return G&&(re.fc=!0),re}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,Re.Z)(function*(t){const o=qt(t);Wt("RemoteStore","RemoteStore shutting down."),o._u.add(5),yield Lu(o),o.mu.shutdown(),o.gu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function np(i,e=10240){let t=0;return{read:()=>(0,Re.Z)(function*(){if(t<i.byteLength){const o={value:i.slice(t,t+e),done:!1};return t+=e,o}return{done:!0}})(),cancel:()=>(0,Re.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class Sh{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ac(this.observer.next,e)}error(e){this.observer.error?this.Ac(this.observer.error,e):Zr("Uncaught Error in snapshot listener:",e)}Rc(){this.muted=!0}Ac(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class Yy{constructor(e,t){this.bc=e,this.It=t,this.metadata=new yi,this.buffer=new Uint8Array,this.Pc=new TextDecoder("utf-8"),this.vc().then(o=>{o&&o.ku()?this.metadata.resolve(o.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(o?.payload)}`))},o=>this.metadata.reject(o))}close(){return this.bc.cancel()}getMetadata(){var e=this;return(0,Re.Z)(function*(){return e.metadata.promise})()}wc(){var e=this;return(0,Re.Z)(function*(){return yield e.getMetadata(),e.vc()})()}vc(){var e=this;return(0,Re.Z)(function*(){const t=yield e.Vc();if(null===t)return null;const o=e.Pc.decode(t),d=Number(o);isNaN(d)&&e.Sc(`length string (${o}) is not valid number`);const _=yield e.Dc(d);return new bm(JSON.parse(_),t.length+d)})()}Cc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Vc(){var e=this;return(0,Re.Z)(function*(){for(;e.Cc()<0&&!(yield e.xc()););if(0===e.buffer.length)return null;const t=e.Cc();t<0&&e.Sc("Reached the end of bundle when a length string is expected.");const o=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),o})()}Dc(e){var t=this;return(0,Re.Z)(function*(){for(;t.buffer.length<e;)(yield t.xc())&&t.Sc("Reached the end of bundle when more is expected.");const o=t.Pc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),o})()}Sc(e){throw this.bc.cancel(),new Error(`Invalid bundle format: ${e}`)}xc(){var e=this;return(0,Re.Z)(function*(){const t=yield e.bc.read();if(!t.done){const o=new Uint8Array(e.buffer.length+t.value.length);o.set(e.buffer),o.set(t.value,e.buffer.length),e.buffer=o}return t.done})()}}class Tv{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,Re.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Pt(ut.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const o=yield(d=(0,Re.Z)(function*(_,D){const P=qt(_),j=q(P.It)+"/documents",G={documents:D.map(vt=>I(P.It,vt))},re=yield P.fo("BatchGetDocuments",j,G,D.length),Ce=new Map;re.forEach(vt=>{const wt=function Jt(i,e){return"found"in e?function(t,o){fn(!!o.found);const d=m(t,o.found.name),_=rs(o.found.updateTime),D=new Os({mapValue:{fields:o.found.fields}});return ni.newFoundDocument(d,_,D)}(i,e):"missing"in e?function(t,o){fn(!!o.missing),fn(!!o.readTime);const d=m(t,o.missing),_=rs(o.readTime);return ni.newNoDocument(d,_)}(i,e):dn()}(P.It,vt);Ce.set(wt.key.toString(),wt)});const tt=[];return D.forEach(vt=>{const wt=Ce.get(vt.toString());fn(!!wt),tt.push(wt)}),tt}),function(_,D){return d.apply(this,arguments)})(t.datastore,e);var d;return o.forEach(d=>t.recordVersion(d)),o})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(o){this.lastWriteError=o}this.writtenDocs.add(e.toString())}delete(e){this.write(new mu(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,Re.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var o;e.mutations.forEach(o=>{t.delete(o.key.toString())}),t.forEach((o,d)=>{const _=rn.fromPath(d);e.mutations.push(new lf(_,e.precondition(_)))}),yield(o=(0,Re.Z)(function*(d,_){const D=qt(d),P=q(D.It)+"/documents",j={writes:_.map(G=>Rn(D.It,G))};yield D.co("Commit",P,j)}),function(d,_){return o.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw dn();t=nn.min()}const o=this.readVersions.get(e.key.toString());if(o){if(!t.isEqual(o))throw new Pt(ut.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(nn.min())?vi.exists(!1):vi.updateTime(t):vi.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(nn.min()))throw new Pt(ut.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return vi.updateTime(t)}return vi.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class km{constructor(e,t,o,d,_){this.asyncQueue=e,this.datastore=t,this.options=o,this.updateFunction=d,this.deferred=_,this.Nc=o.maxAttempts,this.xo=new Ff(this.asyncQueue,"transaction_retry")}run(){this.Nc-=1,this.kc()}kc(){var e=this;this.xo.Ao((0,Re.Z)(function*(){const t=new Tv(e.datastore),o=e.Mc(t);o&&o.then(d=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(d)}).catch(_=>{e.Oc(_)}))}).catch(d=>{e.Oc(d)})}))}Mc(e){try{const t=this.updateFunction(e);return!X(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Oc(e){this.Nc>0&&this.Fc(e)?(this.Nc-=1,this.asyncQueue.enqueueAndForget(()=>(this.kc(),Promise.resolve()))):this.deferred.reject(e)}Fc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!Gc(t)}return!1}}class Av{constructor(e,t,o,d){var _=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=o,this.databaseInfo=d,this.user=ui.UNAUTHENTICATED,this.clientId=bo.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(o,function(){var D=(0,Re.Z)(function*(P){Wt("FirestoreClient","Received user=",P.uid),yield _.authCredentialListener(P),_.user=P});return function(P){return D.apply(this,arguments)}}()),this.appCheckCredentials.start(o,D=>(Wt("FirestoreClient","Received new app check token=",D),this.appCheckCredentialListener(D,this.user)))}getConfiguration(){var e=this;return(0,Re.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Pt(ut.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new yi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Re.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(o){const d=wh(o,"Failed to shutdown persistence");t.reject(d)}})),t.promise}}function Lm(i,e){return rp.apply(this,arguments)}function rp(){return rp=(0,Re.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress(),Wt("FirestoreClient","Initializing OfflineComponentProvider");const t=yield i.getConfiguration();yield e.initialize(t);let o=t.initialUser;i.setCredentialChangeListener(function(){var d=(0,Re.Z)(function*(_){o.isEqual(_)||(yield om(e.localStore,_),o=_)});return function(_){return d.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i.offlineComponents=e}),rp.apply(this,arguments)}function Nm(i,e){return fg.apply(this,arguments)}function fg(){return fg=(0,Re.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress();const t=yield ip(i);Wt("FirestoreClient","Initializing OnlineComponentProvider");const o=yield i.getConfiguration();yield e.initialize(t,o),i.setCredentialChangeListener(d=>Jp(e.remoteStore,d)),i.setAppCheckTokenChangeListener((d,_)=>Jp(e.remoteStore,_)),i.onlineComponents=e}),fg.apply(this,arguments)}function ip(i){return nc.apply(this,arguments)}function nc(){return nc=(0,Re.Z)(function*(i){return i.offlineComponents||(Wt("FirestoreClient","Using default OfflineComponentProvider"),yield Lm(i,new V_)),i.offlineComponents}),nc.apply(this,arguments)}function Rd(i){return xh.apply(this,arguments)}function xh(){return xh=(0,Re.Z)(function*(i){return i.onlineComponents||(Wt("FirestoreClient","Using default OnlineComponentProvider"),yield Nm(i,new Rm)),i.onlineComponents}),xh.apply(this,arguments)}function Oh(i){return ip(i).then(e=>e.persistence)}function pg(i){return ip(i).then(e=>e.localStore)}function gg(i){return Rd(i).then(e=>e.remoteStore)}function mg(i){return Rd(i).then(e=>e.syncEngine)}function Ph(i){return Fm.apply(this,arguments)}function Fm(){return Fm=(0,Re.Z)(function*(i){const e=yield Rd(i),t=e.eventManager;return t.onListen=Zf.bind(null,e.syncEngine),t.onUnlisten=rg.bind(null,e.syncEngine),t}),Fm.apply(this,arguments)}function H_(i,e,t={}){const o=new yi;return i.asyncQueue.enqueueAndForget((0,Re.Z)(function*(){return function(d,_,D,P,j){const G=new Sh({next:Ce=>{_.enqueueAndForget(()=>tg(d,re));const tt=Ce.docs.has(D);!tt&&Ce.fromCache?j.reject(new Pt(ut.UNAVAILABLE,"Failed to get document because the client is offline.")):tt&&Ce.fromCache&&P&&"server"===P.source?j.reject(new Pt(ut.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):j.resolve(Ce)},error:Ce=>j.reject(Ce)}),re=new Th(Ps(D.path),G,{includeMetadataChanges:!0,Nu:!0});return eg(d,re)}(yield Ph(i),i.asyncQueue,e,t,o)})),o.promise}function j_(i,e,t={}){const o=new yi;return i.asyncQueue.enqueueAndForget((0,Re.Z)(function*(){return function(d,_,D,P,j){const G=new Sh({next:Ce=>{_.enqueueAndForget(()=>tg(d,re)),Ce.fromCache&&"server"===P.source?j.reject(new Pt(ut.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):j.resolve(Ce)},error:Ce=>j.reject(Ce)}),re=new Th(D,G,{includeMetadataChanges:!0,Nu:!0});return eg(d,re)}(yield Ph(i),i.asyncQueue,e,t,o)})),o.promise}const _g=new Map;function Bm(i,e,t){if(!t)throw new Pt(ut.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function yg(i,e,t,o){if(!0===e&&!0===o)throw new Pt(ut.INVALID_ARGUMENT,`${i} and ${t} cannot be used together.`)}function K_(i){if(!rn.isDocumentKey(i))throw new Pt(ut.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function $_(i){if(rn.isDocumentKey(i))throw new Pt(ut.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function vg(i){if(void 0===i)return"undefined";if(null===i)return"null";if("string"==typeof i)return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if("number"==typeof i||"boolean"==typeof i)return""+i;if("object"==typeof i){if(i instanceof Array)return"an array";{const e=(t=i).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof i?"a function":dn()}function Kr(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new Pt(ut.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=vg(i);throw new Pt(ut.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return i}function z_(i,e){if(e<=0)throw new Pt(ut.INVALID_ARGUMENT,`Function ${i}() requires a positive number, but it was: ${e}.`)}class G_{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Pt(ut.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Pt(ut.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,yg("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ju{constructor(e,t,o,d){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=o,this._app=d,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new G_({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Pt(ut.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Pt(ut.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new G_(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new kc;switch(t.type){case"gapi":return new dl(t.client,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Pt(ut.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=_g.get(e);t&&(Wt("ComponentProvider","Removing Datastore"),_g.delete(e),t.terminate())}(this),Promise.resolve()}}class is{constructor(e,t,o){this.converter=t,this._key=o,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new rc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new is(this.firestore,e,this._key)}}class Qs{constructor(e,t,o){this.converter=t,this._query=o,this.type="query",this.firestore=e}withConverter(e){return new Qs(this.firestore,e,this._query)}}class rc extends Qs{constructor(e,t,o){super(e,t,Ps(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new is(this.firestore,null,new rn(e))}withConverter(e){return new rc(this.firestore,e,this._path)}}function bg(i,e,...t){if(i=(0,$e.m9)(i),Bm("collection","path",e),i instanceof ju){const o=Mr.fromString(e,...t);return $_(o),new rc(i,null,o)}{if(!(i instanceof is||i instanceof rc))throw new Pt(ut.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(Mr.fromString(e,...t));return $_(o),new rc(i.firestore,null,o)}}function Cg(i,e,...t){if(i=(0,$e.m9)(i),1===arguments.length&&(e=bo.R()),Bm("doc","path",e),i instanceof ju){const o=Mr.fromString(e,...t);return K_(o),new is(i,null,new rn(o))}{if(!(i instanceof is||i instanceof rc))throw new Pt(ut.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(Mr.fromString(e,...t));return K_(o),new is(i.firestore,i instanceof rc?i.converter:null,new rn(o))}}function Al(i,e){return i=(0,$e.m9)(i),e=(0,$e.m9)(e),(i instanceof is||i instanceof rc)&&(e instanceof is||e instanceof rc)&&i.firestore===e.firestore&&i.path===e.path&&i.converter===e.converter}function Wu(i,e){return i=(0,$e.m9)(i),e=(0,$e.m9)(e),i instanceof Qs&&e instanceof Qs&&i.firestore===e.firestore&&ma(i._query,e._query)&&i.converter===e.converter}class ao{constructor(){this.$c=Promise.resolve(),this.Bc=[],this.Lc=!1,this.Uc=[],this.qc=null,this.Kc=!1,this.Gc=!1,this.Qc=[],this.xo=new Ff(this,"async_queue_retry"),this.jc=()=>{const t=wc();t&&Wt("AsyncQueue","Visibility state changed to "+t.visibilityState),this.xo.bo()};const e=wc();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.jc)}get isShuttingDown(){return this.Lc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Wc(),this.zc(e)}enterRestrictedMode(e){if(!this.Lc){this.Lc=!0,this.Gc=e||!1;const t=wc();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.jc)}}enqueue(e){if(this.Wc(),this.Lc)return new Promise(()=>{});const t=new yi;return this.zc(()=>this.Lc&&this.Gc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Bc.push(e),this.Hc()))}Hc(){var e=this;return(0,Re.Z)(function*(){if(0!==e.Bc.length){try{yield e.Bc[0](),e.Bc.shift(),e.xo.reset()}catch(t){if(!J(t))throw t;Wt("AsyncQueue","Operation failed with retryable error: "+t)}e.Bc.length>0&&e.xo.Ao(()=>e.Hc())}})()}zc(e){const t=this.$c.then(()=>(this.Kc=!0,e().catch(o=>{throw this.qc=o,this.Kc=!1,Zr("INTERNAL UNHANDLED ERROR: ",function(_){let D=_.message||"";return _.stack&&(D=_.stack.includes(_.message)?_.stack:_.message+"\n"+_.stack),D}(o)),o}).then(o=>(this.Kc=!1,o))));return this.$c=t,t}enqueueAfterDelay(e,t,o){this.Wc(),this.Qc.indexOf(e)>-1&&(t=0);const d=Kf.createAndSchedule(this,e,t,o,_=>this.Jc(_));return this.Uc.push(d),d}Wc(){this.qc&&dn()}verifyOperationInProgress(){}Yc(){var e=this;return(0,Re.Z)(function*(){let t;do{t=e.$c,yield t}while(t!==e.$c)})()}Xc(e){for(const t of this.Uc)if(t.timerId===e)return!0;return!1}Zc(e){return this.Yc().then(()=>{this.Uc.sort((t,o)=>t.targetTimeMs-o.targetTimeMs);for(const t of this.Uc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Yc()})}ta(e){this.Qc.push(e)}Jc(e){const t=this.Uc.indexOf(e);this.Uc.splice(t,1)}}function ic(i){return function(e,t){if("object"!=typeof e||null===e)return!1;const o=e;for(const d of["next","error","complete"])if(d in o&&"function"==typeof o[d])return!0;return!1}(i)}class op{constructor(){this._progressObserver={},this._taskCompletionResolver=new yi,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,o){this._progressObserver={next:e,error:t,complete:o}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class xi extends ju{constructor(e,t,o,d){super(e,t,o,d),this.type="firestore",this._queue=new ao,this._persistenceKey=d?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||Ld(this),this._firestoreClient.terminate()}}function Fi(i){return i._firestoreClient||Ld(i),i._firestoreClient.verifyNotTerminated(),i._firestoreClient}function Ld(i){var e;const t=i._freezeSettings(),o=(_=(null===(e=i._app)||void 0===e?void 0:e.options.appId)||"",new B(i._databaseId,_,i._persistenceKey,(P=t).host,P.ssl,P.experimentalForceLongPolling,P.experimentalAutoDetectLongPolling,P.useFetchStreams));var _,P;i._firestoreClient=new Av(i._authCredentials,i._appCheckCredentials,i._queue,o)}function $u(i,e,t){const o=new yi;return i.asyncQueue.enqueue((0,Re.Z)(function*(){try{yield Lm(i,t),yield Nm(i,e),o.resolve()}catch(d){const _=d;if(!("FirebaseError"===(D=_).name?D.code===ut.FAILED_PRECONDITION||D.code===ut.UNIMPLEMENTED:!(typeof DOMException<"u"&&D instanceof DOMException)||22===D.code||20===D.code||11===D.code))throw _;Zo("Error enabling offline persistence. Falling back to persistence disabled: "+_),o.reject(_)}var D})).then(()=>o.promise)}function cp(i){if(i._initialized||i._terminated)throw new Pt(ut.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Sl{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Pt(ut.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Di(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class sc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new sc(Li.fromBase64String(e))}catch(t){throw new Pt(ut.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new sc(Li.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class cu{constructor(e){this._methodName=e}}class up{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Pt(ut.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Pt(ut.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Bn(this._lat,e._lat)||Bn(this._long,e._long)}}const Hm=/^__.*__$/;class q_{constructor(e,t,o){this.data=e,this.fieldMask=t,this.fieldTransforms=o}toMutation(e,t){return null!==this.fieldMask?new Fo(e,this.data,this.fieldMask,t,this.fieldTransforms):new Bl(e,this.data,t,this.fieldTransforms)}}class kh{constructor(e,t,o){this.data=e,this.fieldMask=t,this.fieldTransforms=o}toMutation(e,t){return new Fo(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function wg(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw dn()}}class Fd{constructor(e,t,o,d,_,D){this.settings=e,this.databaseId=t,this.It=o,this.ignoreUndefinedProperties=d,void 0===_&&this.ea(),this.fieldTransforms=_||[],this.fieldMask=D||[]}get path(){return this.settings.path}get na(){return this.settings.na}sa(e){return new Fd(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ia(e){var t;const o=null===(t=this.path)||void 0===t?void 0:t.child(e),d=this.sa({path:o,ra:!1});return d.oa(e),d}ua(e){var t;const o=null===(t=this.path)||void 0===t?void 0:t.child(e),d=this.sa({path:o,ra:!1});return d.ea(),d}ca(e){return this.sa({path:void 0,ra:!0})}aa(e){return Sg(e,this.settings.methodName,this.settings.ha||!1,this.path,this.settings.la)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ea(){if(this.path)for(let e=0;e<this.path.length;e++)this.oa(this.path.get(e))}oa(e){if(0===e.length)throw this.aa("Document fields must not be empty");if(wg(this.na)&&Hm.test(e))throw this.aa('Document fields cannot begin and end with "__"')}}class nv{constructor(e,t,o){this.databaseId=e,this.ignoreUndefinedProperties=t,this.It=o||Nf(e)}fa(e,t,o,d=!1){return new Fd({na:e,methodName:t,la:o,path:Di.emptyPath(),ra:!1,ha:d},this.databaseId,this.It,this.ignoreUndefinedProperties)}}function Ac(i){const e=i._freezeSettings(),t=Nf(i._databaseId);return new nv(i._databaseId,!!e.ignoreUndefinedProperties,t)}function Gu(i,e,t,o,d,_={}){const D=i.fa(_.merge||_.mergeFields?2:0,e,t,d);Tg("Data must be an object, but it was:",D,o);const P=Mg(o,D);let j,G;if(_.merge)j=new qs(D.fieldMask),G=D.fieldTransforms;else if(_.mergeFields){const re=[];for(const Ce of _.mergeFields){const tt=Ag(e,Ce,t);if(!D.contains(tt))throw new Pt(ut.INVALID_ARGUMENT,`Field '${tt}' is specified in your field mask but missing from your input data.`);Km(re,tt)||re.push(tt)}j=new qs(re),G=D.fieldTransforms.filter(Ce=>j.covers(Ce.field))}else j=null,G=D.fieldTransforms;return new q_(new Os(P),j,G)}class Zu extends cu{_toFieldTransform(e){if(2!==e.na)throw e.aa(1===e.na?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Zu}}function jm(i,e,t){return new Fd({na:3,la:e.settings.la,methodName:i._methodName,ra:t},e.databaseId,e.It,e.ignoreUndefinedProperties)}class Lh extends cu{_toFieldTransform(e){return new Kc(e.path,new dd)}isEqual(e){return e instanceof Lh}}class Ig extends cu{constructor(e,t){super(e),this.da=t}_toFieldTransform(e){const t=jm(this,e,!0),o=this.da.map(_=>uu(_,t)),d=new yl(o);return new Kc(e.path,d)}isEqual(e){return this===e}}class Y_ extends cu{constructor(e,t){super(e),this.da=t}_toFieldTransform(e){const t=jm(this,e,!0),o=this.da.map(_=>uu(_,t)),d=new _a(o);return new Kc(e.path,d)}isEqual(e){return this===e}}class Q_ extends cu{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=new Fl(e.It,nf(e.It,this._a));return new Kc(e.path,t)}isEqual(e){return this===e}}function Nh(i,e,t,o){const d=i.fa(1,e,t);Tg("Data must be an object, but it was:",d,o);const _=[],D=Os.empty();Zs(o,(j,G)=>{const re=hp(e,j,t);G=(0,$e.m9)(G);const Ce=d.ua(re);if(G instanceof Zu)_.push(re);else{const tt=uu(G,Ce);null!=tt&&(_.push(re),D.set(re,tt))}});const P=new qs(_);return new kh(D,P,d.fieldTransforms)}function dp(i,e,t,o,d,_){const D=i.fa(1,e,t),P=[Ag(e,o,t)],j=[d];if(_.length%2!=0)throw new Pt(ut.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let tt=0;tt<_.length;tt+=2)P.push(Ag(e,_[tt])),j.push(_[tt+1]);const G=[],re=Os.empty();for(let tt=P.length-1;tt>=0;--tt)if(!Km(G,P[tt])){const vt=P[tt];let wt=j[tt];wt=(0,$e.m9)(wt);const Kt=D.ua(vt);if(wt instanceof Zu)G.push(vt);else{const wn=uu(wt,Kt);null!=wn&&(G.push(vt),re.set(vt,wn))}}const Ce=new qs(G);return new kh(re,Ce,D.fieldTransforms)}function Wm(i,e,t,o=!1){return uu(t,i.fa(o?4:3,e))}function uu(i,e){if(X_(i=(0,$e.m9)(i)))return Tg("Unsupported field value:",e,i),Mg(i,e);if(i instanceof cu)return function(t,o){if(!wg(o.na))throw o.aa(`${t._methodName}() can only be used with update() and set()`);if(!o.path)throw o.aa(`${t._methodName}() is not currently supported inside arrays`);const d=t._toFieldTransform(o);d&&o.fieldTransforms.push(d)}(i,e),null;if(void 0===i&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.ra&&4!==e.na)throw e.aa("Nested arrays are not supported");return function(t,o){const d=[];let _=0;for(const D of t){let P=uu(D,o.ca(_));null==P&&(P={nullValue:"NULL_VALUE"}),d.push(P),_++}return{arrayValue:{values:d}}}(i,e)}return function(t,o){if(null===(t=(0,$e.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return nf(o.It,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const d=Rr.fromDate(t);return{timestampValue:vu(o.It,d)}}if(t instanceof Rr){const d=new Rr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:vu(o.It,d)}}if(t instanceof up)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof sc)return{bytesValue:ah(o.It,t._byteString)};if(t instanceof is){const d=o.databaseId,_=t.firestore._databaseId;if(!_.isEqual(d))throw o.aa(`Document reference is for database ${_.projectId}/${_.database} but should be for database ${d.projectId}/${d.database}`);return{referenceValue:lh(t.firestore._databaseId||o.databaseId,t._key.path)}}throw o.aa(`Unsupported field value: ${vg(t)}`)}(i,e)}function Mg(i,e){const t={};return ua(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Zs(i,(o,d)=>{const _=uu(d,e.ia(o));null!=_&&(t[o]=_)}),{mapValue:{fields:t}}}function X_(i){return!("object"!=typeof i||null===i||i instanceof Array||i instanceof Date||i instanceof Rr||i instanceof up||i instanceof sc||i instanceof is||i instanceof cu)}function Tg(i,e,t){if(!X_(t)||"object"!=typeof(o=t)||null===o||Object.getPrototypeOf(o)!==Object.prototype&&null!==Object.getPrototypeOf(o)){const o=vg(t);throw e.aa("an object"===o?i+" a custom object":i+" "+o)}var o}function Ag(i,e,t){if((e=(0,$e.m9)(e))instanceof Sl)return e._internalPath;if("string"==typeof e)return hp(i,e);throw Sg("Field path arguments must be of type string or ",i,!1,void 0,t)}const J_=new RegExp("[~\\*/\\[\\]]");function hp(i,e,t){if(e.search(J_)>=0)throw Sg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,t);try{return new Sl(...e.split("."))._internalPath}catch{throw Sg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,t)}}function Sg(i,e,t,o,d){const _=o&&!o.isEmpty(),D=void 0!==d;let P=`Function ${e}() called with invalid data`;t&&(P+=" (via `toFirestore()`)"),P+=". ";let j="";return(_||D)&&(j+=" (found",_&&(j+=` in field ${o}`),D&&(j+=` in document ${d}`),j+=")"),new Pt(ut.INVALID_ARGUMENT,P+i+j)}function Km(i,e){return i.some(t=>t.isEqual(e))}class qu{constructor(e,t,o,d,_){this._firestore=e,this._userDataWriter=t,this._key=o,this._document=d,this._converter=_}get id(){return this._key.path.lastSegment()}get ref(){return new is(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new $m(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Fh("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class $m extends qu{data(){return super.data()}}function Fh(i,e){return"string"==typeof e?hp(i,e):e instanceof Sl?e._internalPath:e._delegate._internalPath}class Yu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Sc extends qu{constructor(e,t,o,d,_,D){super(e,t,o,d,D),this._firestore=e,this._firestoreImpl=e,this.metadata=_}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Bd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const o=this._document.data.field(Fh("DocumentSnapshot.get",e));if(null!==o)return this._userDataWriter.convertValue(o,t.serverTimestamps)}}}class Bd extends Sc{data(e={}){return super.data(e)}}class xc{constructor(e,t,o,d){this._firestore=e,this._userDataWriter=t,this._snapshot=d,this.metadata=new Yu(d.hasPendingWrites,d.fromCache),this.query=o}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(o=>{e.call(t,new Bd(this._firestore,this._userDataWriter,o.key,o,new Yu(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Pt(ut.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,d){if(o._snapshot.oldDocs.isEmpty()){let _=0;return o._snapshot.docChanges.map(D=>({type:"added",doc:new Bd(o._firestore,o._userDataWriter,D.doc.key,D.doc,new Yu(o._snapshot.mutatedKeys.has(D.doc.key),o._snapshot.fromCache),o.query.converter),oldIndex:-1,newIndex:_++}))}{let _=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(D=>d||3!==D.type).map(D=>{const P=new Bd(o._firestore,o._userDataWriter,D.doc.key,D.doc,new Yu(o._snapshot.mutatedKeys.has(D.doc.key),o._snapshot.fromCache),o.query.converter);let j=-1,G=-1;return 0!==D.type&&(j=_.indexOf(D.doc.key),_=_.delete(D.doc.key)),1!==D.type&&(_=_.add(D.doc),G=_.indexOf(D.doc.key)),{type:ey(D.type),doc:P,oldIndex:j,newIndex:G}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function ey(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return dn()}}function xg(i,e){return i instanceof Sc&&e instanceof Sc?i._firestore===e._firestore&&i._key.isEqual(e._key)&&(null===i._document?null===e._document:i._document.isEqual(e._document))&&i._converter===e._converter:i instanceof xc&&e instanceof xc&&i._firestore===e._firestore&&Wu(i.query,e.query)&&i.metadata.isEqual(e.metadata)&&i._snapshot.isEqual(e._snapshot)}function zm(i){if("L"===i.limitType&&0===i.explicitOrderBy.length)throw new Pt(ut.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Bh{}function Ud(i,...e){for(const t of e)i=t._apply(i);return i}class rv extends Bh{constructor(e,t,o){super(),this.wa=e,this.ma=t,this.ga=o,this.type="where"}_apply(e){const t=Ac(e.firestore),o=function(d,_,D,P,j,G,re){let Ce;if(j.isKeyField()){if("array-contains"===G||"array-contains-any"===G)throw new Pt(ut.INVALID_ARGUMENT,`Invalid Query. You can't perform '${G}' queries on documentId().`);if("in"===G||"not-in"===G){Zm(re,G);const vt=[];for(const wt of re)vt.push(ly(P,d,wt));Ce={arrayValue:{values:vt}}}else Ce=ly(P,d,re)}else"in"!==G&&"not-in"!==G&&"array-contains-any"!==G||Zm(re,G),Ce=Wm(D,"where",re,"in"===G||"not-in"===G);const tt=ms.create(j,G,Ce);return function(vt,wt){if(wt.dt()){const wn=ld(vt);if(null!==wn&&!wn.isEqual(wt.field))throw new Pt(ut.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${wn.toString()}' and '${wt.field.toString()}'`);const Tr=gu(vt);null!==Tr&&cy(0,wt.field,Tr)}const Kt=function(wn,Tr){for(const Jn of wn.filters)if(Tr.indexOf(Jn.op)>=0)return Jn.op;return null}(vt,function(wn){switch(wn){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(wt.op));if(null!==Kt)throw new Pt(ut.INVALID_ARGUMENT,Kt===wt.op?`Invalid query. You cannot use more than one '${wt.op.toString()}' filter.`:`Invalid query. You cannot use '${wt.op.toString()}' filters with '${Kt.toString()}' filters.`)}(d,tt),tt}(e._query,0,t,e.firestore._databaseId,this.wa,this.ma,this.ga);return new Qs(e.firestore,e.converter,function(d,_){const D=d.filters.concat([_]);return new ml(d.path,d.collectionGroup,d.explicitOrderBy.slice(),D,d.limit,d.limitType,d.startAt,d.endAt)}(e._query,o))}}class ty extends Bh{constructor(e,t){super(),this.wa=e,this.ya=t,this.type="orderBy"}_apply(e){const t=function(o,d,_){if(null!==o.startAt)throw new Pt(ut.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==o.endAt)throw new Pt(ut.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const D=new Lo(d,_);return function(P,j){if(null===gu(P)){const G=ld(P);null!==G&&cy(0,G,j.field)}}(o,D),D}(e._query,this.wa,this.ya);return new Qs(e.firestore,e.converter,function(o,d){const _=o.explicitOrderBy.concat([d]);return new ml(o.path,o.collectionGroup,_,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,t))}}class Xs extends Bh{constructor(e,t,o){super(),this.type=e,this.pa=t,this.Ia=o}_apply(e){return new Qs(e.firestore,e.converter,jc(e._query,this.pa,this.Ia))}}class iy extends Bh{constructor(e,t,o){super(),this.type=e,this.Ta=t,this.Ea=o}_apply(e){const t=ay(e,this.type,this.Ta,this.Ea);return new Qs(e.firestore,e.converter,(d=t,new ml((o=e._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,d,o.endAt)));var o,d}}class Gm extends Bh{constructor(e,t,o){super(),this.type=e,this.Ta=t,this.Ea=o}_apply(e){const t=ay(e,this.type,this.Ta,this.Ea);return new Qs(e.firestore,e.converter,(d=t,new ml((o=e._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,o.startAt,d)));var o,d}}function ay(i,e,t,o){if(t[0]=(0,$e.m9)(t[0]),t[0]instanceof qu)return function(d,_,D,P,j){if(!P)throw new Pt(ut.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${D}().`);const G=[];for(const re of Hc(d))if(re.field.isKeyField())G.push(Yo(_,P.key));else{const Ce=P.data.field(re.field);if(Nc(Ce))throw new Pt(ut.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+re.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===Ce){const tt=re.field.canonicalString();throw new Pt(ut.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${tt}' (used as the orderBy) does not exist.`)}G.push(Ce)}return new Jo(G,j)}(i._query,i.firestore._databaseId,e,t[0]._document,o);{const d=Ac(i.firestore);return function(_,D,P,j,G,re){const Ce=_.explicitOrderBy;if(G.length>Ce.length)throw new Pt(ut.INVALID_ARGUMENT,`Too many arguments provided to ${j}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const tt=[];for(let vt=0;vt<G.length;vt++){const wt=G[vt];if(Ce[vt].field.isKeyField()){if("string"!=typeof wt)throw new Pt(ut.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${j}(), but got a ${typeof wt}`);if(!Xh(_)&&-1!==wt.indexOf("/"))throw new Pt(ut.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${j}() must be a plain document ID, but '${wt}' contains a slash.`);const Kt=_.path.child(Mr.fromString(wt));if(!rn.isDocumentKey(Kt))throw new Pt(ut.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${j}() must result in a valid document path, but '${Kt}' is not because it contains an odd number of segments.`);const wn=new rn(Kt);tt.push(Yo(D,wn))}else{const Kt=Wm(P,j,wt);tt.push(Kt)}}return new Jo(tt,re)}(i._query,i.firestore._databaseId,d,e,t,o)}}function ly(i,e,t){if("string"==typeof(t=(0,$e.m9)(t))){if(""===t)throw new Pt(ut.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Xh(e)&&-1!==t.indexOf("/"))throw new Pt(ut.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const o=e.path.child(Mr.fromString(t));if(!rn.isDocumentKey(o))throw new Pt(ut.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${o}' is not because it has an odd number of segments (${o.length}).`);return Yo(i,new rn(o))}if(t instanceof is)return Yo(i,t._key);throw new Pt(ut.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${vg(t)}.`)}function Zm(i,e){if(!Array.isArray(i)||0===i.length)throw new Pt(ut.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(i.length>10)throw new Pt(ut.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function cy(i,e,t){if(!t.isEqual(e))throw new Pt(ut.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}const uy={maxAttempts:5};class dy{convertValue(e,t="none"){switch(Xt(e)){case 0:return null;case 1:return e.booleanValue;case 2:return hi(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(so(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw dn()}}convertObject(e,t){const o={};return Zs(e.fields,(d,_)=>{o[d]=this.convertValue(_,t)}),o}convertGeoPoint(e){return new up(hi(e.latitude),hi(e.longitude))}convertArray(e,t){return(e.values||[]).map(o=>this.convertValue(o,t))}convertServerTimestamp(e,t){switch(t){case"previous":const o=Ni(e);return null==o?null:this.convertValue(o,t);case"estimate":return this.convertTimestamp(yc(e));default:return null}}convertTimestamp(e){const t=kt(e);return new Rr(t.seconds,t.nanos)}convertDocumentKey(e,t){const o=Mr.fromString(e);fn(uh(o));const d=new K(o.get(1),o.get(3)),_=new rn(o.popFirst(5));return d.isEqual(t)||Zr(`Document ${_} contains a document reference within a different database (${d.projectId}/${d.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),_}}function Vh(i,e,t){let o;return o=i?t&&(t.merge||t.mergeFields)?i.toFirestore(e,t):i.toFirestore(e):e,o}class qm extends dy{constructor(e){super(),this.firestore=e}convertBytes(e){return new sc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new is(this.firestore,null,t)}}class oc{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Ac(e)}set(e,t,o){this._verifyNotCommitted();const d=Qu(e,this._firestore),_=Vh(d.converter,t,o),D=Gu(this._dataReader,"WriteBatch.set",d._key,_,null!==d.converter,o);return this._mutations.push(D.toMutation(d._key,vi.none())),this}update(e,t,o,...d){this._verifyNotCommitted();const _=Qu(e,this._firestore);let D;return D="string"==typeof(t=(0,$e.m9)(t))||t instanceof Sl?dp(this._dataReader,"WriteBatch.update",_._key,t,o,d):Nh(this._dataReader,"WriteBatch.update",_._key,t),this._mutations.push(D.toMutation(_._key,vi.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Qu(e,this._firestore);return this._mutations=this._mutations.concat(new mu(t._key,vi.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Pt(ut.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Qu(i,e){if((i=(0,$e.m9)(i)).firestore!==e)throw new Pt(ut.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}class Ho extends dy{constructor(e){super(),this.firestore=e}convertBytes(e){return new sc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new is(this.firestore,null,t)}}function gy(i,e,t){i=Kr(i,is);const o=Kr(i.firestore,xi),d=Vh(i.converter,e,t);return Vd(o,[Gu(Ac(o),"setDoc",i._key,d,null!==i.converter,t).toMutation(i._key,vi.none())])}function my(i,e,t,...o){i=Kr(i,is);const d=Kr(i.firestore,xi),_=Ac(d);let D;return D="string"==typeof(e=(0,$e.m9)(e))||e instanceof Sl?dp(_,"updateDoc",i._key,e,t,o):Nh(_,"updateDoc",i._key,e),Vd(d,[D.toMutation(i._key,vi.exists(!0))])}function Hh(i,...e){var t,o,d;i=(0,$e.m9)(i);let _={includeMetadataChanges:!1},D=0;"object"!=typeof e[D]||ic(e[D])||(_=e[D],D++);const P={includeMetadataChanges:_.includeMetadataChanges};if(ic(e[D])){const Ce=e[D];e[D]=null===(t=Ce.next)||void 0===t?void 0:t.bind(Ce),e[D+1]=null===(o=Ce.error)||void 0===o?void 0:o.bind(Ce),e[D+2]=null===(d=Ce.complete)||void 0===d?void 0:d.bind(Ce)}let j,G,re;if(i instanceof is)G=Kr(i.firestore,xi),re=Ps(i._key.path),j={next:Ce=>{e[D]&&e[D](Og(G,i,Ce))},error:e[D+1],complete:e[D+2]};else{const Ce=Kr(i,Qs);G=Kr(Ce.firestore,xi),re=Ce._query;const tt=new Ho(G);j={next:vt=>{e[D]&&e[D](new xc(G,tt,Ce,vt))},error:e[D+1],complete:e[D+2]},zm(i._query)}return function(Ce,tt,vt,wt){const Kt=new Sh(wt),wn=new Th(tt,Kt,vt);return Ce.asyncQueue.enqueueAndForget((0,Re.Z)(function*(){return eg(yield Ph(Ce),wn)})),()=>{Kt.Rc(),Ce.asyncQueue.enqueueAndForget((0,Re.Z)(function*(){return tg(yield Ph(Ce),wn)}))}}(Fi(G),re,P,j)}function Vd(i,e){return function(t,o){const d=new yi;return t.asyncQueue.enqueueAndForget((0,Re.Z)(function*(){return function R_(i,e,t){return Yf.apply(this,arguments)}(yield mg(t),o,d)})),d.promise}(Fi(i),e)}function Og(i,e,t){const o=t.docs.get(e._key),d=new Ho(i);return new Sc(i,d,e._key,o,new Yu(t.hasPendingWrites,t.fromCache),e.converter)}class _y extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Ac(e)}get(e){const t=Qu(e,this._firestore),o=new qm(this._firestore);return this._transaction.lookup([t._key]).then(d=>{if(!d||1!==d.length)return dn();const _=d[0];if(_.isFoundDocument())return new qu(this._firestore,o,_.key,_,t.converter);if(_.isNoDocument())return new qu(this._firestore,o,t._key,null,t.converter);throw dn()})}set(e,t,o){const d=Qu(e,this._firestore),_=Vh(d.converter,t,o),D=Gu(this._dataReader,"Transaction.set",d._key,_,null!==d.converter,o);return this._transaction.set(d._key,D),this}update(e,t,o,...d){const _=Qu(e,this._firestore);let D;return D="string"==typeof(t=(0,$e.m9)(t))||t instanceof Sl?dp(this._dataReader,"Transaction.update",_._key,t,o,d):Nh(this._dataReader,"Transaction.update",_._key,t),this._transaction.update(_._key,D),this}delete(e){const t=Qu(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Qu(e,this._firestore),o=new Ho(this._firestore);return super.get(e).then(d=>new Sc(this._firestore,o,t._key,d._document,new Yu(!1,!1),t.converter))}}function Pg(i,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Pt("invalid-argument",`Invalid options passed to function ${i}(): You cannot specify both "merge" and "mergeFields".`);return e}function Rg(){if(typeof Uint8Array>"u")throw new Pt("unimplemented","Uint8Arrays are not available in this environment.")}function pp(){if(!function fa(){return typeof atob<"u"}())throw new Pt("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(i,e=!0){_o=Ht.SDK_VERSION,(0,Ht._registerComponent)(new Le.wA("firestore",(t,{instanceIdentifier:o,options:d})=>{const _=t.getProvider("app").getImmediate(),D=new xi(new Ll(t.getProvider("auth-internal")),new Ji(t.getProvider("app-check-internal")),function(P,j){if(!Object.prototype.hasOwnProperty.apply(P.options,["projectId"]))throw new Pt(ut.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new K(P.options.projectId,j)}(_,o),_);return d=Object.assign({useFetchStreams:e},d),D._setSettings(d),D},"PUBLIC").setMultipleInstances(!0)),(0,Ht.registerVersion)(Go,"3.4.15",i),(0,Ht.registerVersion)(Go,"3.4.15","esm2017")}();class Hd{constructor(e){this._delegate=e}static fromBase64String(e){return pp(),new Hd(sc.fromBase64String(e))}static fromUint8Array(e){return Rg(),new Hd(sc.fromUint8Array(e))}toBase64(){return pp(),this._delegate.toBase64()}toUint8Array(){return Rg(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function gp(i){return function r_(i,e){if("object"!=typeof i||null===i)return!1;const t=i;for(const o of e)if(o in t&&"function"==typeof t[o])return!0;return!1}(i,["next","error","complete"])}class Ey{enableIndexedDbPersistence(e,t){return function Rh(i,e){cp(i=Kr(i,xi));const t=Fi(i),o=i._freezeSettings(),d=new Rm;return $u(t,d,new tp(d,o.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function Ku(i){cp(i=Kr(i,xi));const e=Fi(i),t=i._freezeSettings(),o=new Rm;return $u(e,o,new Pm(o,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function Nd(i){if(i._initialized&&!i._terminated)throw new Pt(ut.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new yi;return i._queue.enqueueAndForgetEvenWhileRestricted((0,Re.Z)(function*(){try{yield(t=(0,Re.Z)(function*(o){if(!T.C())return Promise.resolve();const d=o+"main";yield T.delete(d)}),function(o){return t.apply(this,arguments)})(Hp(i._databaseId,i._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class Cy{constructor(e,t,o){this._delegate=t,this._persistenceProvider=o,this.INTERNAL={delete:()=>this.terminate()},e instanceof K||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Zo("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,o={}){!function kd(i,e,t,o={}){var d;const _=(i=Kr(i,ju))._getSettings();if("firestore.googleapis.com"!==_.host&&_.host!==e&&Zo("Host has been set in both settings() and useEmulator(), emulator host will be used"),i._setSettings(Object.assign(Object.assign({},_),{host:`${e}:${t}`,ssl:!1})),o.mockUserToken){let D,P;if("string"==typeof o.mockUserToken)D=o.mockUserToken,P=ui.MOCK_USER;else{D=(0,$e.Sg)(o.mockUserToken,null===(d=i._app)||void 0===d?void 0:d.options.projectId);const j=o.mockUserToken.sub||o.mockUserToken.user_id;if(!j)throw new Pt(ut.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");P=new ui(j)}i._authCredentials=new td(new la(D,P))}}(this._delegate,e,t,o)}enableNetwork(){return function Um(i){return function sp(i){return i.asyncQueue.enqueue((0,Re.Z)(function*(){const e=yield Oh(i),t=yield gg(i);return e.setNetworkEnabled(!0),function(o){const d=qt(o);return d._u.delete(0),bh(d)}(t)}))}(Fi(i=Kr(i,xi)))}(this._delegate)}disableNetwork(){return function Dg(i){return function Qy(i){return i.asyncQueue.enqueue((0,Re.Z)(function*(){const e=yield Oh(i),t=yield gg(i);return e.setNetworkEnabled(!1),(o=(0,Re.Z)(function*(d){const _=qt(d);_._u.add(0),yield Lu(_),_.gu.set("Offline")}),function(d){return o.apply(this,arguments)})(t);var o}))}(Fi(i=Kr(i,xi)))}(this._delegate)}enablePersistence(e){let t=!1,o=!1;return e&&(t=!!e.synchronizeTabs,o=!!e.experimentalForceOwningTab,yg("synchronizeTabs",t,"experimentalForceOwningTab",o)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,o)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function zu(i){return function(e){const t=new yi;return e.asyncQueue.enqueueAndForget((0,Re.Z)(function*(){return function Wy(i,e){return ag.apply(this,arguments)}(yield mg(e),t)})),t.promise}(Fi(i=Kr(i,xi)))}(this._delegate)}onSnapshotsInSync(e){return function cv(i,e){return function Xy(i,e){const t=new Sh(e);return i.asyncQueue.enqueueAndForget((0,Re.Z)(function*(){return o=yield Ph(i),d=t,qt(o).Ru.add(d),void d.next();var o,d})),()=>{t.Rc(),i.asyncQueue.enqueueAndForget((0,Re.Z)(function*(){return o=yield Ph(i),d=t,void qt(o).Ru.delete(d);var o,d}))}}(Fi(i=Kr(i,xi)),ic(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Pt("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new jd(this,bg(this._delegate,e))}catch(t){throw ra(t,"collection()","Firestore.collection()")}}doc(e){try{return new tl(this,Cg(this._delegate,e))}catch(t){throw ra(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new ba(this,function Eg(i,e){if(i=Kr(i,ju),Bm("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Pt(ut.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Qs(i,null,(t=e,new ml(Mr.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw ra(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function Qm(i,e,t){i=Kr(i,xi);const o=Object.assign(Object.assign({},uy),t);return function(d){if(d.maxAttempts<1)throw new Pt(ut.INVALID_ARGUMENT,"Max attempts must be at least 1")}(o),function Jy(i,e,t){const o=new yi;return i.asyncQueue.enqueueAndForget((0,Re.Z)(function*(){const d=yield(_=i,Rd(_).then(D=>D.datastore));var _;new km(i.asyncQueue,d,t,e,o).run()})),o.promise}(Fi(i),d=>e(new _y(i,d)),o)}(this._delegate,t=>e(new Dy(this,t)))}batch(){return Fi(this._delegate),new wy(new oc(this._delegate,e=>Vd(this._delegate,e)))}loadBundle(e){return function Vm(i,e){const t=Fi(i=Kr(i,xi)),o=new op;return function ev(i,e,t,o){const d=function(_,D){let P;return P="string"==typeof _?(new TextEncoder).encode(_):_,j=function(j,G){if(j instanceof Uint8Array)return np(j,G);if(j instanceof ArrayBuffer)return np(new Uint8Array(j),G);if(j instanceof ReadableStream)return j.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(P),new Yy(j,D);var j}(t,Nf(e));i.asyncQueue.enqueueAndForget((0,Re.Z)(function*(){!function qy(i,e,t){const o=qt(i);var d;(d=(0,Re.Z)(function*(_,D,P){try{const j=yield D.getMetadata();if(yield function(tt,vt){const wt=qt(tt),Kt=rs(vt.createTime);return wt.persistence.runTransaction("hasNewerBundle","readonly",wn=>wt.Ns.getBundleMetadata(wn,vt.id)).then(wn=>!!wn&&wn.createTime.compareTo(Kt)>=0)}(_.localStore,j))return yield D.close(),P._completeWith({taskState:"Success",documentsLoaded:(tt=j).totalDocuments,bytesLoaded:tt.totalBytes,totalDocuments:tt.totalDocuments,totalBytes:tt.totalBytes}),Promise.resolve(new Set);P._updateProgress(Jl(j));const G=new O_(j,_.localStore,D.It);let re=yield D.wc();for(;re;){const tt=yield G.Ou(re);tt&&P._updateProgress(tt),re=yield D.wc()}const Ce=yield G.complete();return yield ec(_,Ce.Bu,void 0),yield function(tt,vt){const wt=qt(tt);return wt.persistence.runTransaction("Save bundle","readwrite",Kt=>wt.Ns.saveBundleMetadata(Kt,vt))}(_.localStore,j),P._completeWith(Ce.progress),Promise.resolve(Ce.$u)}catch(j){return Zo("SyncEngine",`Loading bundle failed with ${j}`),P._failWith(j),Promise.resolve(new Set)}var tt}),function(_,D,P){return d.apply(this,arguments)})(o,e,t).then(d=>{o.sharedClientState.notifyBundleLoaded(d)})}(yield mg(i),d,o)}))}(t,i._databaseId,e,o),o}(this._delegate,e)}namedQuery(e){return function lu(i,e){return function W_(i,e){return i.asyncQueue.enqueue((0,Re.Z)(function*(){return function(t,o){const d=qt(t);return d.persistence.runTransaction("Get named query","readonly",_=>d.Ns.getNamedQuery(_,o))}(yield pg(i),e)}))}(Fi(i=Kr(i,xi)),e).then(t=>t?new Qs(i,null,t.query):null)}(this._delegate,e).then(t=>t?new ba(this,t):null)}}class mp extends dy{constructor(e){super(),this.firestore=e}convertBytes(e){return new Hd(new sc(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return tl.forKey(t,this.firestore,null)}}class Dy{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new mp(e)}get(e){const t=Xu(e);return this._delegate.get(t).then(o=>new jh(this._firestore,new Sc(this._firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,t.converter)))}set(e,t,o){const d=Xu(e);return o?(Pg("Transaction.set",o),this._delegate.set(d,t,o)):this._delegate.set(d,t),this}update(e,t,o,...d){const _=Xu(e);return 2===arguments.length?this._delegate.update(_,t):this._delegate.update(_,t,o,...d),this}delete(e){const t=Xu(e);return this._delegate.delete(t),this}}class wy{constructor(e){this._delegate=e}set(e,t,o){const d=Xu(e);return o?(Pg("WriteBatch.set",o),this._delegate.set(d,t,o)):this._delegate.set(d,t),this}update(e,t,o,...d){const _=Xu(e);return 2===arguments.length?this._delegate.update(_,t):this._delegate.update(_,t,o,...d),this}delete(e){const t=Xu(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Oc{constructor(e,t,o){this._firestore=e,this._userDataWriter=t,this._delegate=o}fromFirestore(e,t){const o=new Bd(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Wh(this._firestore,o),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const o=Oc.INSTANCES;let d=o.get(e);d||(d=new WeakMap,o.set(e,d));let _=d.get(t);return _||(_=new Oc(e,new mp(e),t),d.set(t,_)),_}}Oc.INSTANCES=new WeakMap;class tl{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new mp(e)}static forPath(e,t,o){if(e.length%2!=0)throw new Pt("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new tl(t,new is(t._delegate,o,new rn(e)))}static forKey(e,t,o){return new tl(t,new is(t._delegate,o,e))}get id(){return this._delegate.id}get parent(){return new jd(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new jd(this.firestore,bg(this._delegate,e))}catch(t){throw ra(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,$e.m9)(e))instanceof is&&Al(this._delegate,e)}set(e,t){t=Pg("DocumentReference.set",t);try{return t?gy(this._delegate,e,t):gy(this._delegate,e)}catch(o){throw ra(o,"setDoc()","DocumentReference.set()")}}update(e,t,...o){try{return 1===arguments.length?my(this._delegate,e):my(this._delegate,e,t,...o)}catch(d){throw ra(d,"updateDoc()","DocumentReference.update()")}}delete(){return function lv(i){return Vd(Kr(i.firestore,xi),[new mu(i._key,vi.none())])}(this._delegate)}onSnapshot(...e){const t=Iy(e),o=My(e,d=>new jh(this.firestore,new Sc(this.firestore._delegate,this._userDataWriter,d._key,d._document,d.metadata,this._delegate.converter)));return Hh(this._delegate,t,o)}get(e){let t;return t="cache"===e?.source?function ac(i){i=Kr(i,is);const e=Kr(i.firestore,xi),t=Fi(e),o=new Ho(e);return function Sv(i,e){const t=new yi;return i.asyncQueue.enqueueAndForget((0,Re.Z)(function*(){return(o=(0,Re.Z)(function*(d,_,D){try{const P=yield function(j,G){const re=qt(j);return re.persistence.runTransaction("read document","readonly",Ce=>re.localDocuments.getDocument(Ce,G))}(d,_);P.isFoundDocument()?D.resolve(P):P.isNoDocument()?D.resolve(null):D.reject(new Pt(ut.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(P){const j=wh(P,`Failed to get document '${_} from cache`);D.reject(j)}}),function(d,_,D){return o.apply(this,arguments)})(yield pg(i),e,t);var o})),t.promise}(t,i._key).then(d=>new Sc(e,o,i._key,d,new Yu(null!==d&&d.hasLocalMutations,!0),i.converter))}(this._delegate):"server"===e?.source?function lc(i){i=Kr(i,is);const e=Kr(i.firestore,xi);return H_(Fi(e),i._key,{source:"server"}).then(t=>Og(e,i,t))}(this._delegate):function hy(i){i=Kr(i,is);const e=Kr(i.firestore,xi);return H_(Fi(e),i._key).then(t=>Og(e,i,t))}(this._delegate),t.then(o=>new jh(this.firestore,new Sc(this.firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,this._delegate.converter)))}withConverter(e){return new tl(this.firestore,this._delegate.withConverter(e?Oc.getInstance(this.firestore,e):null))}}function ra(i,e,t){return i.message=i.message.replace(e,t),i}function Iy(i){for(const e of i)if("object"==typeof e&&!gp(e))return e;return{}}function My(i,e){var t,o;let d;return d=gp(i[0])?i[0]:gp(i[1])?i[1]:"function"==typeof i[0]?{next:i[0],error:i[1],complete:i[2]}:{next:i[1],error:i[2],complete:i[3]},{next:_=>{d.next&&d.next(e(_))},error:null===(t=d.error)||void 0===t?void 0:t.bind(d),complete:null===(o=d.complete)||void 0===o?void 0:o.bind(d)}}class jh{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new tl(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return xg(this._delegate,e._delegate)}}class Wh extends jh{data(e){const t=this._delegate.data(e);return function cl(i,e){i||dn()}(void 0!==t),t}}class ba{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new mp(e)}where(e,t,o){try{return new ba(this.firestore,Ud(this._delegate,function iv(i,e,t){const o=e,d=Fh("where",i);return new rv(d,o,t)}(e,t,o)))}catch(d){throw ra(d,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new ba(this.firestore,Ud(this._delegate,function ny(i,e="asc"){const t=e,o=Fh("orderBy",i);return new ty(o,t)}(e,t)))}catch(o){throw ra(o,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new ba(this.firestore,Ud(this._delegate,function ry(i){return z_("limit",i),new Xs("limit",i,"F")}(e)))}catch(t){throw ra(t,"limit()","Query.limit()")}}limitToLast(e){try{return new ba(this.firestore,Ud(this._delegate,function sv(i){return z_("limitToLast",i),new Xs("limitToLast",i,"L")}(e)))}catch(t){throw ra(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new ba(this.firestore,Ud(this._delegate,function sy(...i){return new iy("startAt",i,!0)}(...e)))}catch(t){throw ra(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new ba(this.firestore,Ud(this._delegate,function ov(...i){return new iy("startAfter",i,!1)}(...e)))}catch(t){throw ra(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new ba(this.firestore,Ud(this._delegate,function oy(...i){return new Gm("endBefore",i,!1)}(...e)))}catch(t){throw ra(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new ba(this.firestore,Ud(this._delegate,function Uh(...i){return new Gm("endAt",i,!0)}(...e)))}catch(t){throw ra(t,"endAt()","Query.endAt()")}}isEqual(e){return Wu(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function py(i){i=Kr(i,Qs);const e=Kr(i.firestore,xi),t=Fi(e),o=new Ho(e);return function xv(i,e){const t=new yi;return i.asyncQueue.enqueueAndForget((0,Re.Z)(function*(){return(o=(0,Re.Z)(function*(d,_,D){try{const P=yield Of(d,_,!0),j=new Em(_,P.Hi),G=j.ju(P.documents),re=j.applyChanges(G,!1);D.resolve(re.snapshot)}catch(P){const j=wh(P,`Failed to execute query '${_} against cache`);D.reject(j)}}),function(d,_,D){return o.apply(this,arguments)})(yield pg(i),e,t);var o})),t.promise}(t,i._query).then(d=>new xc(e,o,i,d))}(this._delegate):"server"===e?.source?function av(i){i=Kr(i,Qs);const e=Kr(i.firestore,xi),t=Fi(e),o=new Ho(e);return j_(t,i._query,{source:"server"}).then(d=>new xc(e,o,i,d))}(this._delegate):function fy(i){i=Kr(i,Qs);const e=Kr(i.firestore,xi),t=Fi(e),o=new Ho(e);return zm(i._query),j_(t,i._query).then(d=>new xc(e,o,i,d))}(this._delegate),t.then(o=>new i_(this.firestore,new xc(this.firestore._delegate,this._userDataWriter,this._delegate,o._snapshot)))}onSnapshot(...e){const t=Iy(e),o=My(e,d=>new i_(this.firestore,new xc(this.firestore._delegate,this._userDataWriter,this._delegate,d._snapshot)));return Hh(this._delegate,t,o)}withConverter(e){return new ba(this.firestore,this._delegate.withConverter(e?Oc.getInstance(this.firestore,e):null))}}class hv{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Wh(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class i_{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new ba(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Wh(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new hv(this._firestore,t))}forEach(e,t){this._delegate.forEach(o=>{e.call(t,new Wh(this._firestore,o))})}isEqual(e){return xg(this._delegate,e._delegate)}}class jd extends ba{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new tl(this.firestore,e):null}doc(e){try{return new tl(this.firestore,void 0===e?Cg(this._delegate):Cg(this._delegate,e))}catch(t){throw ra(t,"doc()","CollectionReference.doc()")}}add(e){return function Ym(i,e){const t=Kr(i.firestore,xi),o=Cg(i),d=Vh(i.converter,e);return Vd(t,[Gu(Ac(i.firestore),"addDoc",o._key,d,null!==i.converter,{}).toMutation(o._key,vi.exists(!1))]).then(()=>o)}(this._delegate,e).then(t=>new tl(this.firestore,t))}isEqual(e){return Al(this._delegate,e._delegate)}withConverter(e){return new jd(this.firestore,this._delegate.withConverter(e?Oc.getInstance(this.firestore,e):null))}}function Xu(i){return Kr(i,is)}class kg{constructor(...e){this._delegate=new Sl(...e)}static documentId(){return new kg(Di.keyField().canonicalString())}isEqual(e){return(e=(0,$e.m9)(e))instanceof Sl&&this._delegate._internalPath.isEqual(e._internalPath)}}class Ju{constructor(e){this._delegate=e}static serverTimestamp(){const e=function yy(){return new Lh("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Ju(e)}static delete(){const e=function fp(){return new Zu("deleteField")}();return e._methodName="FieldValue.delete",new Ju(e)}static arrayUnion(...e){const t=function Xm(...i){return new Ig("arrayUnion",i)}(...e);return t._methodName="FieldValue.arrayUnion",new Ju(t)}static arrayRemove(...e){const t=function vy(...i){return new Y_("arrayRemove",i)}(...e);return t._methodName="FieldValue.arrayRemove",new Ju(t)}static increment(e){const t=function Jm(i){return new Q_("increment",i)}(e);return t._methodName="FieldValue.increment",new Ju(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const s_={Firestore:Cy,GeoPoint:up,Timestamp:Rr,Blob:Hd,Transaction:Dy,WriteBatch:wy,DocumentReference:tl,DocumentSnapshot:jh,Query:ba,QueryDocumentSnapshot:Wh,QuerySnapshot:i_,CollectionReference:jd,FieldPath:kg,FieldValue:Ju,setLogLevel:function dv(i){!function aa(i){yo.setLogLevel(i)}(i)},CACHE_SIZE_UNLIMITED:-1};!function a_(i){(function o_(i,e){i.INTERNAL.registerComponent(new Le.wA("firestore-compat",t=>{const o=t.getProvider("app-compat").getImmediate(),d=t.getProvider("firestore").getImmediate();return e(o,d)},"PUBLIC").setServiceProps(Object.assign({},s_)))})(i,(e,t)=>new Cy(e,t,new Ey)),i.registerVersion("@firebase/firestore-compat","0.1.24")}(je.Z);var cc=k(1205),f=k(440);function h(i,e){return function s(i,e=g.z){return new Y.y(t=>{let o;return null!=e?e.schedule(()=>{o=i.onSnapshot({includeMetadataChanges:!0},t)}):o=i.onSnapshot({includeMetadataChanges:!0},t),()=>{o?.()}})}(i,e)}function S(i,e){return h(i,e).pipe((0,ge.U)(t=>({payload:t,type:"query"})))}function z(i,e){return S(i,e).pipe((0,Be.O)(void 0),he(),(0,ge.U)(([t,o])=>{const d=o.payload.docChanges(),_=d.map(D=>({type:D.type,payload:D}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(o.payload.metadata)&&o.payload.docs.forEach((D,P)=>{const j=d.find(re=>re.doc.ref.isEqual(D.ref)),G=t?.payload.docs.find(re=>re.ref.isEqual(D.ref));j&&JSON.stringify(j.doc.metadata)===JSON.stringify(D.metadata)||!j&&G&&JSON.stringify(G.metadata)===JSON.stringify(D.metadata)||_.push({type:"modified",payload:{oldIndex:P,newIndex:P,type:"modified",doc:D}})}),_}))}function ee(i,e,t){return z(i,t).pipe((0,Pe.R)((o,d)=>function ue(i,e,t){return e.forEach(o=>{t.indexOf(o.type)>-1&&(i=function Ze(i,e){switch(e.type){case"added":if(!i[e.newIndex]||!i[e.newIndex].doc.ref.isEqual(e.doc.ref))return Ne(i,e.newIndex,0,e);break;case"modified":if(null==i[e.oldIndex]||i[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=i.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return Ne(i,e.newIndex,1,e)}break;case"removed":if(i[e.oldIndex]&&i[e.oldIndex].doc.ref.isEqual(e.doc.ref))return Ne(i,e.oldIndex,1)}return i}(i,o))}),i}(o,d.map(_=>_.payload),e),[]),(0,Et.x)(),(0,ge.U)(o=>o.map(d=>({type:d.type,payload:d}))))}function Ne(i,e,t,...o){const d=i.slice();return d.splice(e,t,...o),d}function Lt(i){return(!i||0===i.length)&&(i=["added","removed","modified"]),i}k(127);class Wn{constructor(e,t,o){this.ref=e,this.query=t,this.afs=o}stateChanges(e){let t=z(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,ge.U)(o=>o.filter(d=>e.indexOf(d.type)>-1)))),t.pipe((0,Be.O)(void 0),he(),(0,ot.h)(([o,d])=>d.length>0||!o),(0,ge.U)(([o,d])=>d),ke.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,Pe.R)((t,o)=>[...t,...o],[]))}snapshotChanges(e){const t=Lt(e);return ee(this.query,t,this.afs.schedulers.outsideAngular).pipe(ke.iC)}valueChanges(e={}){return S(this.query,this.afs.schedulers.outsideAngular).pipe((0,ge.U)(t=>t.payload.docs.map(o=>e.idField?Object.assign(Object.assign({},o.data()),{[e.idField]:o.id}):o.data())),ke.iC)}get(e){return(0,me.D)(this.query.get(e)).pipe(ke.iC)}add(e){return this.ref.add(e)}doc(e){return new Bt(this.ref.doc(e),this.afs)}}class Bt{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const o=this.ref.collection(e),{ref:d,query:_}=Js(o,t);return new Wn(d,_,this.afs)}snapshotChanges(){return function C(i,e){return h(i,e).pipe((0,Be.O)(void 0),he(),(0,ge.U)(([t,o])=>o.exists?t?.exists?{payload:o,type:"modified"}:{payload:o,type:"added"}:{payload:o,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(ke.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,ge.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,me.D)(this.ref.get(e)).pipe(ke.iC)}}class _n{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?z(this.query,this.afs.schedulers.outsideAngular).pipe((0,ge.U)(t=>t.filter(o=>e.indexOf(o.type)>-1)),(0,ot.h)(t=>t.length>0),ke.iC):z(this.query,this.afs.schedulers.outsideAngular).pipe(ke.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,Pe.R)((t,o)=>[...t,...o],[]))}snapshotChanges(e){const t=Lt(e);return ee(this.query,t,this.afs.schedulers.outsideAngular).pipe(ke.iC)}valueChanges(e={}){return S(this.query,this.afs.schedulers.outsideAngular).pipe((0,ge.U)(o=>o.payload.docs.map(d=>e.idField?Object.assign({[e.idField]:d.id},d.data()):d.data())),ke.iC)}get(e){return(0,me.D)(this.query.get(e)).pipe(ke.iC)}}const bn=new y.OlP("angularfire2.enableFirestorePersistence"),Dr=new y.OlP("angularfire2.firestore.persistenceSettings"),Lr=new y.OlP("angularfire2.firestore.settings"),ys=new y.OlP("angularfire2.firestore.use-emulator");function Js(i,e=(t=>t)){return{query:e(i),ref:i}}let Ls=(()=>{class i{constructor(t,o,d,_,D,P,j,G,re,Ce,tt,vt,wt,Kt,wn,Tr,Jn){this.schedulers=j;const Or=(0,nt.on)(t,P,o),$r=re;Ce&&(0,cc.nw)(Or,P,tt,wt,Kt,wn,vt,Tr),[this.firestore,this.persistenceEnabled$]=(0,nt.cc)(`${Or.name}.firestore`,"AngularFirestore",Or.name,()=>{const Vr=P.runOutsideAngular(()=>Or.firestore());if(_&&Vr.settings(_),$r&&Vr.useEmulator(...$r),d&&!(0,Nt.PM)(D)){const qr=()=>{try{return(0,me.D)(Vr.enablePersistence(G||void 0).then(()=>!0,()=>!1))}catch(lo){return typeof console<"u"&&console.warn(lo),(0,Se.of)(!1)}};return[Vr,P.runOutsideAngular(qr)]}return[Vr,(0,Se.of)(!1)]},[_,$r,d])}collection(t,o){let d;d="string"==typeof t?this.firestore.collection(t):t;const{ref:_,query:D}=Js(d,o),P=this.schedulers.ngZone.run(()=>_);return new Wn(P,D,this)}collectionGroup(t,o){const d=o||(D=>D),_=this.firestore.collectionGroup(t);return new _n(d(_),this)}doc(t){let o;o="string"==typeof t?this.firestore.doc(t):t;const d=this.schedulers.ngZone.run(()=>o);return new Bt(d,this)}createId(){return this.firestore.collection("_").doc().id}}return i.\u0275fac=function(t){return new(t||i)(y.LFG(nt.Dh),y.LFG(nt.xv,8),y.LFG(bn,8),y.LFG(Lr,8),y.LFG(y.Lbi),y.LFG(y.R0b),y.LFG(ke.HU),y.LFG(Dr,8),y.LFG(ys,8),y.LFG(cc.zQ,8),y.LFG(cc.Qv,8),y.LFG(cc.L6,8),y.LFG(cc._Q,8),y.LFG(cc.rT,8),y.LFG(cc.lh,8),y.LFG(cc.f7,8),y.LFG(f.nm,8))},i.\u0275prov=y.Yz7({token:i,factory:i.\u0275fac,providedIn:"any"}),i})();var Pc=k(7185),jo=k(184);let uc=(()=>{class i{constructor(t,o,d,_){this.firestore=t,this.auth=o,this.toast=d,this.loader=_,this.UserUpdateEvent=new y.vpe,this.users=this.firestore.collection("users"),this.toast.toastrConfig.timeOut=1e4,this.onAuthStateChanged()}onAuthStateChanged(){this.auth.authState.subscribe(t=>{null!=t?(console.log("FirestoreService: Auth State Changed ",t),this.users?.doc(t.email).get().subscribe(o=>{this.user=o.data(),console.log("FirestoreService: User Updated ",this.user),this.UserUpdateEvent.emit(this.user)})):this.UserUpdateEvent.emit(void 0)})}register(t){!t.password||(this.loader.show(),this.auth.createUserWithEmailAndPassword(t.email,t.password).then(o=>{t.password="",this.firestore.collection("users").doc(t.email).set(t).then(d=>{this.loader.hide(),this.toast.success(t.email,"User Registration Success"),this.user=t},d=>{this.loader.hide(),console.error("FirestoreService",d),this.toast.error("Unable to register User","Registration Error")})},o=>{this.loader.hide(),console.error("FirestoreService",o),this.handleRegisterError(o.code,t)}))}handleRegisterError(t,o){this.toast.error("auth/email-already-in-use"===t?o.id+" is already registered in our system.":"Unable to register "+o.id+" "+t,"Registration Error")}}return i.\u0275fac=function(t){return new(t||i)(y.LFG(Ls),y.LFG(cc.zQ),y.LFG(Pc._W),y.LFG(jo.D))},i.\u0275prov=y.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})()},2596:(ft,Ue,k)=>{k.d(Ue,{n:()=>y});const y=[{ctrl:"companyname",chcks:[{chck:"this.companyname==null || this.companyname==''",msg:"Company Name is required"},{chck:"this.companyname.length<3",msg:"Company Name should have min 3 characters"}]},{ctrl:"firstname",chcks:[{chck:"this.firstname==null || this.firstname==''",msg:"First Name is required"},{chck:"this.firstname.length<3",msg:"First Name should have min 3 characters"}]},{ctrl:"lastname",chcks:[{chck:"this.lastname==null || this.lastname==''",msg:"Last Name is required"}]},{ctrl:"industry",chcks:[{chck:"this.industry==null || this.industry==''",msg:"Industry is required"}]},{ctrl:"address",chcks:[{chck:"this.address==null || this.address==''",msg:"Address is required"}]},{ctrl:"country",chcks:[{chck:"this.country==null || this.country==''",msg:"Country is required"}]},{ctrl:"state",chcks:[{chck:"this.state==null || this.state==''",msg:"State is required"}]},{ctrl:"city",chcks:[{chck:"this.city==null || this.city==''",msg:"City is required"}]},{ctrl:"pincode",chcks:[{chck:"this.pincode==null || this.pincode==''",msg:"Pincode is required"}]},{ctrl:"userid",chcks:[{chck:"this.userid==null || this.userid==''",msg:"User ID is required"},{chck:"!validateEmail(this.userid)",msg:"Enter valid email address"}]},{ctrl:"contact",chcks:[{chck:"this.contact==null || this.contact==''",msg:"Contact Number is required"},{chck:"this.contact.length<10",msg:"Enter 10 digits contact number"}]},{ctrl:"password",chcks:[{chck:"this.password==null || this.password==''",msg:"Password is required"},{chck:"this.password.length<8",msg:"Password should be min 8 characters"}]},{ctrl:"cpassword",chcks:[{chck:"this.cpassword==null || this.cpassword==''",msg:"Confirm password is required"},{chck:"this.cpassword!=this.password",msg:"Confirm password does not match with password"}]}]},1140:(ft,Ue,k)=>{var y=k(1481),g=k(4650),Y=k(4006),me=k(1779);let Pe=(()=>{class f{constructor(){this._listeners=[]}notify(s,h){for(let C of this._listeners)C(s,h)}listen(s){return this._listeners.push(s),()=>{this._listeners=this._listeners.filter(h=>s!==h)}}ngOnDestroy(){this._listeners=[]}}return f.\u0275fac=function(s){return new(s||f)},f.\u0275prov=g.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"}),f})();function ot(f){return null!=f&&"false"!=`${f}`}function nt(f,l=0){return function Nt(f){return!isNaN(parseFloat(f))&&!isNaN(Number(f))}(f)?Number(f):l}function rt(f){return Array.isArray(f)?f:[f]}function je(f){return null==f?"":"string"==typeof f?f:`${f}px`}function Re(f){return f instanceof g.SBq?f.nativeElement:f}var Le=k(7579),Me=k(727);let $e=0;const It=new g.OlP("CdkAccordion");let Tt=(()=>{class f{constructor(){this._stateChanges=new Le.x,this._openCloseAllActions=new Le.x,this.id="cdk-accordion-"+$e++,this._multi=!1}get multi(){return this._multi}set multi(s){this._multi=ot(s)}openAll(){this._multi&&this._openCloseAllActions.next(!0)}closeAll(){this._openCloseAllActions.next(!1)}ngOnChanges(s){this._stateChanges.next(s)}ngOnDestroy(){this._stateChanges.complete(),this._openCloseAllActions.complete()}}return f.\u0275fac=function(s){return new(s||f)},f.\u0275dir=g.lG2({type:f,selectors:[["cdk-accordion"],["","cdkAccordion",""]],inputs:{multi:"multi"},exportAs:["cdkAccordion"],features:[g._Bn([{provide:It,useExisting:f}]),g.TTD]}),f})(),oe=0,Je=(()=>{class f{constructor(s,h,C){this.accordion=s,this._changeDetectorRef=h,this._expansionDispatcher=C,this._openCloseAllSubscription=Me.w0.EMPTY,this.closed=new g.vpe,this.opened=new g.vpe,this.destroyed=new g.vpe,this.expandedChange=new g.vpe,this.id="cdk-accordion-child-"+oe++,this._expanded=!1,this._disabled=!1,this._removeUniqueSelectionListener=()=>{},this._removeUniqueSelectionListener=C.listen((S,z)=>{this.accordion&&!this.accordion.multi&&this.accordion.id===z&&this.id!==S&&(this.expanded=!1)}),this.accordion&&(this._openCloseAllSubscription=this._subscribeToOpenCloseAllActions())}get expanded(){return this._expanded}set expanded(s){s=ot(s),this._expanded!==s&&(this._expanded=s,this.expandedChange.emit(s),s?(this.opened.emit(),this._expansionDispatcher.notify(this.id,this.accordion?this.accordion.id:this.id)):this.closed.emit(),this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(s){this._disabled=ot(s)}ngOnDestroy(){this.opened.complete(),this.closed.complete(),this.destroyed.emit(),this.destroyed.complete(),this._removeUniqueSelectionListener(),this._openCloseAllSubscription.unsubscribe()}toggle(){this.disabled||(this.expanded=!this.expanded)}close(){this.disabled||(this.expanded=!1)}open(){this.disabled||(this.expanded=!0)}_subscribeToOpenCloseAllActions(){return this.accordion._openCloseAllActions.subscribe(s=>{this.disabled||(this.expanded=s)})}}return f.\u0275fac=function(s){return new(s||f)(g.Y36(It,12),g.Y36(g.sBO),g.Y36(Pe))},f.\u0275dir=g.lG2({type:f,selectors:[["cdk-accordion-item"],["","cdkAccordionItem",""]],inputs:{expanded:"expanded",disabled:"disabled"},outputs:{closed:"closed",opened:"opened",destroyed:"destroyed",expandedChange:"expandedChange"},exportAs:["cdkAccordionItem"],features:[g._Bn([{provide:It,useValue:void 0}])]}),f})(),de=(()=>{class f{}return f.\u0275fac=function(s){return new(s||f)},f.\u0275mod=g.oAB({type:f}),f.\u0275inj=g.cJS({}),f})();var fe=k(6895);class on{attach(l){return this._attachedHost=l,l.attach(this)}detach(){let l=this._attachedHost;null!=l&&(this._attachedHost=null,l.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(l){this._attachedHost=l}}class Dt extends on{constructor(l,s,h,C){super(),this.component=l,this.viewContainerRef=s,this.injector=h,this.componentFactoryResolver=C}}class En extends on{constructor(l,s,h,C){super(),this.templateRef=l,this.viewContainerRef=s,this.context=h,this.injector=C}get origin(){return this.templateRef.elementRef}attach(l,s=this.context){return this.context=s,super.attach(l)}detach(){return this.context=void 0,super.detach()}}class pn extends on{constructor(l){super(),this.element=l instanceof g.SBq?l.nativeElement:l}}class it{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(l){return l instanceof Dt?(this._attachedPortal=l,this.attachComponentPortal(l)):l instanceof En?(this._attachedPortal=l,this.attachTemplatePortal(l)):this.attachDomPortal&&l instanceof pn?(this._attachedPortal=l,this.attachDomPortal(l)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(l){this._disposeFn=l}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class Te extends it{constructor(l,s,h,C,S){super(),this.outletElement=l,this._componentFactoryResolver=s,this._appRef=h,this._defaultInjector=C,this.attachDomPortal=z=>{const ee=z.element,ue=this._document.createComment("dom-portal");ee.parentNode.insertBefore(ue,ee),this.outletElement.appendChild(ee),this._attachedPortal=z,super.setDisposeFn(()=>{ue.parentNode&&ue.parentNode.replaceChild(ee,ue)})},this._document=S}attachComponentPortal(l){const h=(l.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(l.component);let C;return l.viewContainerRef?(C=l.viewContainerRef.createComponent(h,l.viewContainerRef.length,l.injector||l.viewContainerRef.injector),this.setDisposeFn(()=>C.destroy())):(C=h.create(l.injector||this._defaultInjector||g.zs3.NULL),this._appRef.attachView(C.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(C.hostView),C.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(C)),this._attachedPortal=l,C}attachTemplatePortal(l){let s=l.viewContainerRef,h=s.createEmbeddedView(l.templateRef,l.context,{injector:l.injector});return h.rootNodes.forEach(C=>this.outletElement.appendChild(C)),h.detectChanges(),this.setDisposeFn(()=>{let C=s.indexOf(h);-1!==C&&s.remove(C)}),this._attachedPortal=l,h}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(l){return l.hostView.rootNodes[0]}}let Dn,tr=(()=>{class f extends it{constructor(s,h,C){super(),this._componentFactoryResolver=s,this._viewContainerRef=h,this._isInitialized=!1,this.attached=new g.vpe,this.attachDomPortal=S=>{const z=S.element,ee=this._document.createComment("dom-portal");S.setAttachedHost(this),z.parentNode.insertBefore(ee,z),this._getRootNode().appendChild(z),this._attachedPortal=S,super.setDisposeFn(()=>{ee.parentNode&&ee.parentNode.replaceChild(z,ee)})},this._document=C}get portal(){return this._attachedPortal}set portal(s){this.hasAttached()&&!s&&!this._isInitialized||(this.hasAttached()&&super.detach(),s&&super.attach(s),this._attachedPortal=s||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(s){s.setAttachedHost(this);const h=null!=s.viewContainerRef?s.viewContainerRef:this._viewContainerRef,S=(s.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(s.component),z=h.createComponent(S,h.length,s.injector||h.injector);return h!==this._viewContainerRef&&this._getRootNode().appendChild(z.hostView.rootNodes[0]),super.setDisposeFn(()=>z.destroy()),this._attachedPortal=s,this._attachedRef=z,this.attached.emit(z),z}attachTemplatePortal(s){s.setAttachedHost(this);const h=this._viewContainerRef.createEmbeddedView(s.templateRef,s.context,{injector:s.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=s,this._attachedRef=h,this.attached.emit(h),h}_getRootNode(){const s=this._viewContainerRef.element.nativeElement;return s.nodeType===s.ELEMENT_NODE?s:s.parentNode}}return f.\u0275fac=function(s){return new(s||f)(g.Y36(g._Vd),g.Y36(g.s_b),g.Y36(fe.K0))},f.\u0275dir=g.lG2({type:f,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[g.qOj]}),f})(),Hn=(()=>{class f{}return f.\u0275fac=function(s){return new(s||f)},f.\u0275mod=g.oAB({type:f}),f.\u0275inj=g.cJS({}),f})();try{Dn=typeof Intl<"u"&&Intl.v8BreakIterator}catch{Dn=!1}let gr,Hr,fr,ye,kn=(()=>{class f{constructor(s){this._platformId=s,this.isBrowser=this._platformId?(0,fe.NF)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Dn)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return f.\u0275fac=function(s){return new(s||f)(g.LFG(g.Lbi))},f.\u0275prov=g.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"}),f})();function Yr(f){return function Er(){if(null==gr&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>gr=!0}))}finally{gr=gr||!1}return gr}()?f:!!f.capture}function mt(){if(null==fr){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return fr=!1,fr;if("scrollBehavior"in document.documentElement.style)fr=!0;else{const f=Element.prototype.scrollTo;fr=!!f&&!/\{\s*\[native code\]\s*\}/.test(f.toString())}}return fr}function xe(){if("object"!=typeof document||!document)return 0;if(null==Hr){const f=document.createElement("div"),l=f.style;f.dir="rtl",l.width="1px",l.overflow="auto",l.visibility="hidden",l.pointerEvents="none",l.position="absolute";const s=document.createElement("div"),h=s.style;h.width="2px",h.height="1px",f.appendChild(s),document.body.appendChild(f),Hr=0,0===f.scrollLeft&&(f.scrollLeft=1,Hr=0===f.scrollLeft?1:2),f.remove()}return Hr}function yt(f){if(function lt(){if(null==ye){const f=typeof document<"u"?document.head:null;ye=!(!f||!f.createShadowRoot&&!f.attachShadow)}return ye}()){const l=f.getRootNode?f.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&l instanceof ShadowRoot)return l}return null}function Vt(f){return f.composedPath?f.composedPath()[0]:f.target}function An(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}var Zt=k(1135),Un=k(9646);function Ai(f,...l){return l.length?l.some(s=>f[s]):f.altKey||f.shiftKey||f.ctrlKey||f.metaKey}var Yi=k(8505),Qi=k(4986),St=k(4482),$n=k(5403);function As(f,l=Qi.z){return(0,St.e)((s,h)=>{let C=null,S=null,z=null;const ee=()=>{if(C){C.unsubscribe(),C=null;const Ne=S;S=null,h.next(Ne)}};function ue(){const Ne=z+f,Ze=l.now();if(Ze<Ne)return C=this.schedule(void 0,Ne-Ze),void h.add(C);ee()}s.subscribe((0,$n.x)(h,Ne=>{S=Ne,z=l.now(),C||(C=l.schedule(ue,f),h.add(C))},()=>{ee(),h.complete()},void 0,()=>{S=C=null}))})}var pi=k(9300),Cr=k(4004),$=k(5698);function H(f){return(0,pi.h)((l,s)=>f<=s)}var U=k(1884),ie=k(8421),pt=k(5032);function an(f){return(0,St.e)((l,s)=>{(0,ie.Xf)(f).subscribe((0,$n.x)(s,()=>s.complete(),pt.Z)),!s.closed&&l.subscribe(s)})}let ei=(()=>{class f{create(s){return typeof MutationObserver>"u"?null:new MutationObserver(s)}}return f.\u0275fac=function(s){return new(s||f)},f.\u0275prov=g.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"}),f})(),Ar=(()=>{class f{}return f.\u0275fac=function(s){return new(s||f)},f.\u0275mod=g.oAB({type:f}),f.\u0275inj=g.cJS({providers:[ei]}),f})();var io=k(9841),rl=k(7272),js=k(9751),ji=k(8675);const fo=new Set;let zo,Ha=(()=>{class f{constructor(s){this._platform=s,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):go}matchMedia(s){return(this._platform.WEBKIT||this._platform.BLINK)&&function po(f){if(!fo.has(f))try{zo||(zo=document.createElement("style"),zo.setAttribute("type","text/css"),document.head.appendChild(zo)),zo.sheet&&(zo.sheet.insertRule(`@media ${f} {body{ }}`,0),fo.add(f))}catch(l){console.error(l)}}(s),this._matchMedia(s)}}return f.\u0275fac=function(s){return new(s||f)(g.LFG(kn))},f.\u0275prov=g.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"}),f})();function go(f){return{matches:"all"===f||""===f,media:f,addListener:()=>{},removeListener:()=>{}}}let Ia=(()=>{class f{constructor(s,h){this._mediaMatcher=s,this._zone=h,this._queries=new Map,this._destroySubject=new Le.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(s){return Wr(rt(s)).some(C=>this._registerQuery(C).mql.matches)}observe(s){const C=Wr(rt(s)).map(z=>this._registerQuery(z).observable);let S=(0,io.a)(C);return S=(0,rl.z)(S.pipe((0,$.q)(1)),S.pipe(H(1),As(0))),S.pipe((0,Cr.U)(z=>{const ee={matches:!1,breakpoints:{}};return z.forEach(({matches:ue,query:Ne})=>{ee.matches=ee.matches||ue,ee.breakpoints[Ne]=ue}),ee}))}_registerQuery(s){if(this._queries.has(s))return this._queries.get(s);const h=this._mediaMatcher.matchMedia(s),S={observable:new js.y(z=>{const ee=ue=>this._zone.run(()=>z.next(ue));return h.addListener(ee),()=>{h.removeListener(ee)}}).pipe((0,ji.O)(h),(0,Cr.U)(({matches:z})=>({query:s,matches:z})),an(this._destroySubject)),mql:h};return this._queries.set(s,S),S}}return f.\u0275fac=function(s){return new(s||f)(g.LFG(Ha),g.LFG(g.R0b))},f.\u0275prov=g.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"}),f})();function Wr(f){return f.map(l=>l.split(",")).reduce((l,s)=>l.concat(s)).map(l=>l.trim())}class ar extends class _t{constructor(l){this._items=l,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new Le.x,this._typeaheadSubscription=Me.w0.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=s=>s.disabled,this._pressedLetters=[],this.tabOut=new Le.x,this.change=new Le.x,l instanceof g.n_E&&l.changes.subscribe(s=>{if(this._activeItem){const C=s.toArray().indexOf(this._activeItem);C>-1&&C!==this._activeItemIndex&&(this._activeItemIndex=C)}})}skipPredicate(l){return this._skipPredicateFn=l,this}withWrap(l=!0){return this._wrap=l,this}withVerticalOrientation(l=!0){return this._vertical=l,this}withHorizontalOrientation(l){return this._horizontal=l,this}withAllowedModifierKeys(l){return this._allowedModifierKeys=l,this}withTypeAhead(l=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,Yi.b)(s=>this._pressedLetters.push(s)),As(l),(0,pi.h)(()=>this._pressedLetters.length>0),(0,Cr.U)(()=>this._pressedLetters.join(""))).subscribe(s=>{const h=this._getItemsArray();for(let C=1;C<h.length+1;C++){const S=(this._activeItemIndex+C)%h.length,z=h[S];if(!this._skipPredicateFn(z)&&0===z.getLabel().toUpperCase().trim().indexOf(s)){this.setActiveItem(S);break}}this._pressedLetters=[]}),this}withHomeAndEnd(l=!0){return this._homeAndEnd=l,this}setActiveItem(l){const s=this._activeItem;this.updateActiveItem(l),this._activeItem!==s&&this.change.next(this._activeItemIndex)}onKeydown(l){const s=l.keyCode,C=["altKey","ctrlKey","metaKey","shiftKey"].every(S=>!l[S]||this._allowedModifierKeys.indexOf(S)>-1);switch(s){case 9:return void this.tabOut.next();case 40:if(this._vertical&&C){this.setNextItemActive();break}return;case 38:if(this._vertical&&C){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&C){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&C){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&C){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&C){this.setLastItemActive();break}return;default:return void((C||Ai(l,"shiftKey"))&&(l.key&&1===l.key.length?this._letterKeyStream.next(l.key.toLocaleUpperCase()):(s>=65&&s<=90||s>=48&&s<=57)&&this._letterKeyStream.next(String.fromCharCode(s))))}this._pressedLetters=[],l.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(l){const s=this._getItemsArray(),h="number"==typeof l?l:s.indexOf(l);this._activeItem=s[h]??null,this._activeItemIndex=h}_setActiveItemByDelta(l){this._wrap?this._setActiveInWrapMode(l):this._setActiveInDefaultMode(l)}_setActiveInWrapMode(l){const s=this._getItemsArray();for(let h=1;h<=s.length;h++){const C=(this._activeItemIndex+l*h+s.length)%s.length;if(!this._skipPredicateFn(s[C]))return void this.setActiveItem(C)}}_setActiveInDefaultMode(l){this._setActiveItemByIndex(this._activeItemIndex+l,l)}_setActiveItemByIndex(l,s){const h=this._getItemsArray();if(h[l]){for(;this._skipPredicateFn(h[l]);)if(!h[l+=s])return;this.setActiveItem(l)}}_getItemsArray(){return this._items instanceof g.n_E?this._items.toArray():this._items}}{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(l){return this._origin=l,this}setActiveItem(l){super.setActiveItem(l),this.activeItem&&this.activeItem.focus(this._origin)}}let hr=(()=>{class f{constructor(s){this._platform=s}isDisabled(s){return s.hasAttribute("disabled")}isVisible(s){return function Si(f){return!!(f.offsetWidth||f.offsetHeight||"function"==typeof f.getClientRects&&f.getClientRects().length)}(s)&&"visible"===getComputedStyle(s).visibility}isTabbable(s){if(!this._platform.isBrowser)return!1;const h=function rr(f){try{return f.frameElement}catch{return null}}(function al(f){return f.ownerDocument&&f.ownerDocument.defaultView||window}(s));if(h&&(-1===Ss(h)||!this.isVisible(h)))return!1;let C=s.nodeName.toLowerCase(),S=Ss(s);return s.hasAttribute("contenteditable")?-1!==S:!("iframe"===C||"object"===C||this._platform.WEBKIT&&this._platform.IOS&&!function Ks(f){let l=f.nodeName.toLowerCase(),s="input"===l&&f.type;return"text"===s||"password"===s||"select"===l||"textarea"===l}(s))&&("audio"===C?!!s.hasAttribute("controls")&&-1!==S:"video"===C?-1!==S&&(null!==S||this._platform.FIREFOX||s.hasAttribute("controls")):s.tabIndex>=0)}isFocusable(s,h){return function $s(f){return!function ti(f){return function Ws(f){return"input"==f.nodeName.toLowerCase()}(f)&&"hidden"==f.type}(f)&&(function br(f){let l=f.nodeName.toLowerCase();return"input"===l||"select"===l||"button"===l||"textarea"===l}(f)||function xo(f){return function ls(f){return"a"==f.nodeName.toLowerCase()}(f)&&f.hasAttribute("href")}(f)||f.hasAttribute("contenteditable")||mo(f))}(s)&&!this.isDisabled(s)&&(h?.ignoreVisibility||this.isVisible(s))}}return f.\u0275fac=function(s){return new(s||f)(g.LFG(kn))},f.\u0275prov=g.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"}),f})();function mo(f){if(!f.hasAttribute("tabindex")||void 0===f.tabIndex)return!1;let l=f.getAttribute("tabindex");return!(!l||isNaN(parseInt(l,10)))}function Ss(f){if(!mo(f))return null;const l=parseInt(f.getAttribute("tabindex")||"",10);return isNaN(l)?-1:l}class ai{constructor(l,s,h,C,S=!1){this._element=l,this._checker=s,this._ngZone=h,this._document=C,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,S||this.attachAnchors()}get enabled(){return this._enabled}set enabled(l){this._enabled=l,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(l,this._startAnchor),this._toggleAnchorTabIndex(l,this._endAnchor))}destroy(){const l=this._startAnchor,s=this._endAnchor;l&&(l.removeEventListener("focus",this.startAnchorListener),l.remove()),s&&(s.removeEventListener("focus",this.endAnchorListener),s.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(l){return new Promise(s=>{this._executeOnStable(()=>s(this.focusInitialElement(l)))})}focusFirstTabbableElementWhenReady(l){return new Promise(s=>{this._executeOnStable(()=>s(this.focusFirstTabbableElement(l)))})}focusLastTabbableElementWhenReady(l){return new Promise(s=>{this._executeOnStable(()=>s(this.focusLastTabbableElement(l)))})}_getRegionBoundary(l){const s=this._element.querySelectorAll(`[cdk-focus-region-${l}], [cdkFocusRegion${l}], [cdk-focus-${l}]`);return"start"==l?s.length?s[0]:this._getFirstTabbableElement(this._element):s.length?s[s.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(l){const s=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(s){if(!this._checker.isFocusable(s)){const h=this._getFirstTabbableElement(s);return h?.focus(l),!!h}return s.focus(l),!0}return this.focusFirstTabbableElement(l)}focusFirstTabbableElement(l){const s=this._getRegionBoundary("start");return s&&s.focus(l),!!s}focusLastTabbableElement(l){const s=this._getRegionBoundary("end");return s&&s.focus(l),!!s}hasAttached(){return this._hasAttached}_getFirstTabbableElement(l){if(this._checker.isFocusable(l)&&this._checker.isTabbable(l))return l;const s=l.children;for(let h=0;h<s.length;h++){const C=s[h].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(s[h]):null;if(C)return C}return null}_getLastTabbableElement(l){if(this._checker.isFocusable(l)&&this._checker.isTabbable(l))return l;const s=l.children;for(let h=s.length-1;h>=0;h--){const C=s[h].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(s[h]):null;if(C)return C}return null}_createAnchor(){const l=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,l),l.classList.add("cdk-visually-hidden"),l.classList.add("cdk-focus-trap-anchor"),l.setAttribute("aria-hidden","true"),l}_toggleAnchorTabIndex(l,s){l?s.setAttribute("tabindex","0"):s.removeAttribute("tabindex")}toggleAnchors(l){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(l,this._startAnchor),this._toggleAnchorTabIndex(l,this._endAnchor))}_executeOnStable(l){this._ngZone.isStable?l():this._ngZone.onStable.pipe((0,$.q)(1)).subscribe(l)}}let Wa=(()=>{class f{constructor(s,h,C){this._checker=s,this._ngZone=h,this._document=C}create(s,h=!1){return new ai(s,this._checker,this._ngZone,this._document,h)}}return f.\u0275fac=function(s){return new(s||f)(g.LFG(hr),g.LFG(g.R0b),g.LFG(fe.K0))},f.\u0275prov=g.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"}),f})();function Sa(f){return 0===f.buttons||0===f.offsetX&&0===f.offsetY}function Xi(f){const l=f.touches&&f.touches[0]||f.changedTouches&&f.changedTouches[0];return!(!l||-1!==l.identifier||null!=l.radiusX&&1!==l.radiusX||null!=l.radiusY&&1!==l.radiusY)}const hc=new g.OlP("cdk-input-modality-detector-options"),kl={ignoreKeys:[18,17,224,91,16]},Oo=Yr({passive:!0,capture:!0});let Ka=(()=>{class f{constructor(s,h,C,S){this._platform=s,this._mostRecentTarget=null,this._modality=new Zt.X(null),this._lastTouchMs=0,this._onKeydown=z=>{this._options?.ignoreKeys?.some(ee=>ee===z.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=Vt(z))},this._onMousedown=z=>{Date.now()-this._lastTouchMs<650||(this._modality.next(Sa(z)?"keyboard":"mouse"),this._mostRecentTarget=Vt(z))},this._onTouchstart=z=>{Xi(z)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Vt(z))},this._options={...kl,...S},this.modalityDetected=this._modality.pipe(H(1)),this.modalityChanged=this.modalityDetected.pipe((0,U.x)()),s.isBrowser&&h.runOutsideAngular(()=>{C.addEventListener("keydown",this._onKeydown,Oo),C.addEventListener("mousedown",this._onMousedown,Oo),C.addEventListener("touchstart",this._onTouchstart,Oo)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Oo),document.removeEventListener("mousedown",this._onMousedown,Oo),document.removeEventListener("touchstart",this._onTouchstart,Oo))}}return f.\u0275fac=function(s){return new(s||f)(g.LFG(kn),g.LFG(g.R0b),g.LFG(fe.K0),g.LFG(hc,8))},f.\u0275prov=g.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"}),f})();const ci=new g.OlP("cdk-focus-monitor-default-options"),cs=Yr({passive:!0,capture:!0});let Go=(()=>{class f{constructor(s,h,C,S,z){this._ngZone=s,this._platform=h,this._inputModalityDetector=C,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Le.x,this._rootNodeFocusAndBlurListener=ee=>{for(let Ne=Vt(ee);Ne;Ne=Ne.parentElement)"focus"===ee.type?this._onFocus(ee,Ne):this._onBlur(ee,Ne)},this._document=S,this._detectionMode=z?.detectionMode||0}monitor(s,h=!1){const C=Re(s);if(!this._platform.isBrowser||1!==C.nodeType)return(0,Un.of)(null);const S=yt(C)||this._getDocument(),z=this._elementInfo.get(C);if(z)return h&&(z.checkChildren=!0),z.subject;const ee={checkChildren:h,subject:new Le.x,rootNode:S};return this._elementInfo.set(C,ee),this._registerGlobalListeners(ee),ee.subject}stopMonitoring(s){const h=Re(s),C=this._elementInfo.get(h);C&&(C.subject.complete(),this._setClasses(h),this._elementInfo.delete(h),this._removeGlobalListeners(C))}focusVia(s,h,C){const S=Re(s);S===this._getDocument().activeElement?this._getClosestElementsInfo(S).forEach(([ee,ue])=>this._originChanged(ee,h,ue)):(this._setOrigin(h),"function"==typeof S.focus&&S.focus(C))}ngOnDestroy(){this._elementInfo.forEach((s,h)=>this.stopMonitoring(h))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(s){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(s)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:s&&this._isLastInteractionFromInputLabel(s)?"mouse":"program"}_shouldBeAttributedToTouch(s){return 1===this._detectionMode||!!s?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(s,h){s.classList.toggle("cdk-focused",!!h),s.classList.toggle("cdk-touch-focused","touch"===h),s.classList.toggle("cdk-keyboard-focused","keyboard"===h),s.classList.toggle("cdk-mouse-focused","mouse"===h),s.classList.toggle("cdk-program-focused","program"===h)}_setOrigin(s,h=!1){this._ngZone.runOutsideAngular(()=>{this._origin=s,this._originFromTouchInteraction="touch"===s&&h,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(s,h){const C=this._elementInfo.get(h),S=Vt(s);!C||!C.checkChildren&&h!==S||this._originChanged(h,this._getFocusOrigin(S),C)}_onBlur(s,h){const C=this._elementInfo.get(h);!C||C.checkChildren&&s.relatedTarget instanceof Node&&h.contains(s.relatedTarget)||(this._setClasses(h),this._emitOrigin(C,null))}_emitOrigin(s,h){s.subject.observers.length&&this._ngZone.run(()=>s.subject.next(h))}_registerGlobalListeners(s){if(!this._platform.isBrowser)return;const h=s.rootNode,C=this._rootNodeFocusListenerCount.get(h)||0;C||this._ngZone.runOutsideAngular(()=>{h.addEventListener("focus",this._rootNodeFocusAndBlurListener,cs),h.addEventListener("blur",this._rootNodeFocusAndBlurListener,cs)}),this._rootNodeFocusListenerCount.set(h,C+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(an(this._stopInputModalityDetector)).subscribe(S=>{this._setOrigin(S,!0)}))}_removeGlobalListeners(s){const h=s.rootNode;if(this._rootNodeFocusListenerCount.has(h)){const C=this._rootNodeFocusListenerCount.get(h);C>1?this._rootNodeFocusListenerCount.set(h,C-1):(h.removeEventListener("focus",this._rootNodeFocusAndBlurListener,cs),h.removeEventListener("blur",this._rootNodeFocusAndBlurListener,cs),this._rootNodeFocusListenerCount.delete(h))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(s,h,C){this._setClasses(s,h),this._emitOrigin(C,h),this._lastFocusOrigin=h}_getClosestElementsInfo(s){const h=[];return this._elementInfo.forEach((C,S)=>{(S===s||C.checkChildren&&S.contains(s))&&h.push([S,C])}),h}_isLastInteractionFromInputLabel(s){const{_mostRecentTarget:h,mostRecentModality:C}=this._inputModalityDetector;if("mouse"!==C||!h||h===s||"INPUT"!==s.nodeName&&"TEXTAREA"!==s.nodeName||s.disabled)return!1;const S=s.labels;if(S)for(let z=0;z<S.length;z++)if(S[z].contains(h))return!0;return!1}}return f.\u0275fac=function(s){return new(s||f)(g.LFG(g.R0b),g.LFG(kn),g.LFG(Ka),g.LFG(fe.K0,8),g.LFG(ci,8))},f.\u0275prov=g.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"}),f})();const _o="cdk-high-contrast-black-on-white",yo="cdk-high-contrast-white-on-black",vo="cdk-high-contrast-active";let aa=(()=>{class f{constructor(s,h){this._platform=s,this._document=h,this._breakpointSubscription=(0,g.f3M)(Ia).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const s=this._document.createElement("div");s.style.backgroundColor="rgb(1,2,3)",s.style.position="absolute",this._document.body.appendChild(s);const h=this._document.defaultView||window,C=h&&h.getComputedStyle?h.getComputedStyle(s):null,S=(C&&C.backgroundColor||"").replace(/ /g,"");switch(s.remove(),S){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const s=this._document.body.classList;s.remove(vo,_o,yo),this._hasCheckedHighContrastMode=!0;const h=this.getHighContrastMode();1===h?s.add(vo,_o):2===h&&s.add(vo,yo)}}}return f.\u0275fac=function(s){return new(s||f)(g.LFG(kn),g.LFG(fe.K0))},f.\u0275prov=g.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"}),f})(),Wt=(()=>{class f{constructor(s){s._applyBodyHighContrastModeCssClasses()}}return f.\u0275fac=function(s){return new(s||f)(g.LFG(aa))},f.\u0275mod=g.oAB({type:f}),f.\u0275inj=g.cJS({imports:[Ar]}),f})();const Zr=new g.OlP("cdk-dir-doc",{providedIn:"root",factory:function Zo(){return(0,g.f3M)(fe.K0)}}),Ro=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let fn=(()=>{class f{constructor(s){if(this.value="ltr",this.change=new g.vpe,s){const C=s.documentElement?s.documentElement.dir:null;this.value=function dn(f){const l=f?.toLowerCase()||"";return"auto"===l&&typeof navigator<"u"&&navigator?.language?Ro.test(navigator.language)?"rtl":"ltr":"rtl"===l?"rtl":"ltr"}((s.body?s.body.dir:null)||C||"ltr")}}ngOnDestroy(){this.change.complete()}}return f.\u0275fac=function(s){return new(s||f)(g.LFG(Zr,8))},f.\u0275prov=g.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"}),f})(),qt=(()=>{class f{}return f.\u0275fac=function(s){return new(s||f)},f.\u0275mod=g.oAB({type:f}),f.\u0275inj=g.cJS({}),f})();const Ji=new g.OlP("mat-sanity-checks",{providedIn:"root",factory:function hl(){return!0}});let Sr=(()=>{class f{constructor(s,h,C){this._sanityChecks=h,this._document=C,this._hasDoneGlobalChecks=!1,s._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(s){return!An()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[s])}}return f.\u0275fac=function(s){return new(s||f)(g.LFG(aa),g.LFG(Ji,8),g.LFG(fe.K0))},f.\u0275mod=g.oAB({type:f}),f.\u0275inj=g.cJS({imports:[qt,qt]}),f})();function Eo(f){return class extends f{constructor(...l){super(...l),this._disabled=!1}get disabled(){return this._disabled}set disabled(l){this._disabled=ot(l)}}}function zs(f,l){return class extends f{constructor(...s){super(...s),this.defaultColor=l,this.color=l}get color(){return this._color}set color(s){const h=s||this.defaultColor;h!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),h&&this._elementRef.nativeElement.classList.add(`mat-${h}`),this._color=h)}}}function Rr(f){return class extends f{constructor(...l){super(...l),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(l){this._disableRipple=ot(l)}}}function nn(f,l=0){return class extends f{constructor(...s){super(...s),this._tabIndex=l,this.defaultTabIndex=l}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(s){this._tabIndex=null!=s?nt(s):this.defaultTabIndex}}}let Lc=(()=>{class f{isErrorState(s,h){return!!(s&&s.invalid&&(s.touched||h&&h.submitted))}}return f.\u0275fac=function(s){return new(s||f)},f.\u0275prov=g.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"}),f})();class Gs{constructor(l,s,h,C=!1){this._renderer=l,this.element=s,this.config=h,this._animationForciblyDisabledThroughCss=C,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const ko={enterDuration:225,exitDuration:150},O=Yr({passive:!0}),T=["mousedown","touchstart"],F=["mouseup","mouseleave","touchend","touchcancel"];class W{constructor(l,s,h,C){this._target=l,this._ngZone=s,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,C.isBrowser&&(this._containerElement=Re(h))}fadeInRipple(l,s,h={}){const C=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),S={...ko,...h.animation};h.centered&&(l=C.left+C.width/2,s=C.top+C.height/2);const z=h.radius||function J(f,l,s){const h=Math.max(Math.abs(f-s.left),Math.abs(f-s.right)),C=Math.max(Math.abs(l-s.top),Math.abs(l-s.bottom));return Math.sqrt(h*h+C*C)}(l,s,C),ee=l-C.left,ue=s-C.top,Ne=S.enterDuration,Ze=document.createElement("div");Ze.classList.add("mat-ripple-element"),Ze.style.left=ee-z+"px",Ze.style.top=ue-z+"px",Ze.style.height=2*z+"px",Ze.style.width=2*z+"px",null!=h.color&&(Ze.style.backgroundColor=h.color),Ze.style.transitionDuration=`${Ne}ms`,this._containerElement.appendChild(Ze);const Lt=window.getComputedStyle(Ze),Bt=Lt.transitionDuration,_n="none"===Lt.transitionProperty||"0s"===Bt||"0s, 0s"===Bt,bn=new Gs(this,Ze,h,_n);Ze.style.transform="scale3d(1, 1, 1)",bn.state=0,h.persistent||(this._mostRecentTransientRipple=bn);let Dr=null;return!_n&&(Ne||S.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const Lr=()=>this._finishRippleTransition(bn),ys=()=>this._destroyRipple(bn);Ze.addEventListener("transitionend",Lr),Ze.addEventListener("transitioncancel",ys),Dr={onTransitionEnd:Lr,onTransitionCancel:ys}}),this._activeRipples.set(bn,Dr),(_n||!Ne)&&this._finishRippleTransition(bn),bn}fadeOutRipple(l){if(2===l.state||3===l.state)return;const s=l.element,h={...ko,...l.config.animation};s.style.transitionDuration=`${h.exitDuration}ms`,s.style.opacity="0",l.state=2,(l._animationForciblyDisabledThroughCss||!h.exitDuration)&&this._finishRippleTransition(l)}fadeOutAll(){this._getActiveRipples().forEach(l=>l.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(l=>{l.config.persistent||l.fadeOut()})}setupTriggerEvents(l){const s=Re(l);!s||s===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=s,this._registerEvents(T))}handleEvent(l){"mousedown"===l.type?this._onMousedown(l):"touchstart"===l.type?this._onTouchStart(l):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(F),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(l){0===l.state?this._startFadeOutTransition(l):2===l.state&&this._destroyRipple(l)}_startFadeOutTransition(l){const s=l===this._mostRecentTransientRipple,{persistent:h}=l.config;l.state=1,!h&&(!s||!this._isPointerDown)&&l.fadeOut()}_destroyRipple(l){const s=this._activeRipples.get(l)??null;this._activeRipples.delete(l),this._activeRipples.size||(this._containerRect=null),l===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),l.state=3,null!==s&&(l.element.removeEventListener("transitionend",s.onTransitionEnd),l.element.removeEventListener("transitioncancel",s.onTransitionCancel)),l.element.remove()}_onMousedown(l){const s=Sa(l),h=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!s&&!h&&(this._isPointerDown=!0,this.fadeInRipple(l.clientX,l.clientY,this._target.rippleConfig))}_onTouchStart(l){if(!this._target.rippleDisabled&&!Xi(l)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const s=l.changedTouches;for(let h=0;h<s.length;h++)this.fadeInRipple(s[h].clientX,s[h].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._getActiveRipples().forEach(l=>{!l.config.persistent&&(1===l.state||l.config.terminateOnPointerUp&&0===l.state)&&l.fadeOut()}))}_registerEvents(l){this._ngZone.runOutsideAngular(()=>{l.forEach(s=>{this._triggerElement.addEventListener(s,this,O)})})}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){this._triggerElement&&(T.forEach(l=>{this._triggerElement.removeEventListener(l,this,O)}),this._pointerUpEventsRegistered&&F.forEach(l=>{this._triggerElement.removeEventListener(l,this,O)}))}}const ce=new g.OlP("mat-ripple-global-options");let we=(()=>{class f{constructor(s,h,C,S,z){this._elementRef=s,this._animationMode=z,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=S||{},this._rippleRenderer=new W(this,h,s,C)}get disabled(){return this._disabled}set disabled(s){s&&this.fadeOutAllNonPersistent(),this._disabled=s,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(s){this._trigger=s,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(s,h=0,C){return"number"==typeof s?this._rippleRenderer.fadeInRipple(s,h,{...this.rippleConfig,...C}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...s})}}return f.\u0275fac=function(s){return new(s||f)(g.Y36(g.SBq),g.Y36(g.R0b),g.Y36(kn),g.Y36(ce,8),g.Y36(g.QbO,8))},f.\u0275dir=g.lG2({type:f,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(s,h){2&s&&g.ekj("mat-ripple-unbounded",h.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),f})(),dt=(()=>{class f{}return f.\u0275fac=function(s){return new(s||f)},f.\u0275mod=g.oAB({type:f}),f.\u0275inj=g.cJS({imports:[Sr,Sr]}),f})(),Yn=(()=>{class f{}return f.\u0275fac=function(s){return new(s||f)},f.\u0275mod=g.oAB({type:f}),f.\u0275inj=g.cJS({imports:[Sr]}),f})(),fa=(()=>{class f{}return f.\u0275fac=function(s){return new(s||f)},f.\u0275mod=g.oAB({type:f}),f.\u0275inj=g.cJS({imports:[dt,fe.ez,Sr,Yn]}),f})();var Li=k(515),qo=k(6451),kt=k(7340);const hi=["body"];function so(f,l){}const Nc=[[["mat-expansion-panel-header"]],"*",[["mat-action-row"]]],Ni=["mat-expansion-panel-header","*","mat-action-row"];function yc(f,l){if(1&f&&g._UZ(0,"span",2),2&f){const s=g.oxw();g.Q6J("@indicatorRotate",s._getExpandedState())}}const B=[[["mat-panel-title"]],[["mat-panel-description"]],"*"],K=["mat-panel-title","mat-panel-description","*"],X=new g.OlP("MAT_ACCORDION"),pe="225ms cubic-bezier(0.4,0.0,0.2,1)",Ye={indicatorRotate:(0,kt.X$)("indicatorRotate",[(0,kt.SB)("collapsed, void",(0,kt.oB)({transform:"rotate(0deg)"})),(0,kt.SB)("expanded",(0,kt.oB)({transform:"rotate(180deg)"})),(0,kt.eR)("expanded <=> collapsed, void => collapsed",(0,kt.jt)(pe))]),bodyExpansion:(0,kt.X$)("bodyExpansion",[(0,kt.SB)("collapsed, void",(0,kt.oB)({height:"0px",visibility:"hidden"})),(0,kt.SB)("expanded",(0,kt.oB)({height:"*",visibility:"visible"})),(0,kt.eR)("expanded <=> collapsed, void => collapsed",(0,kt.jt)(pe))])},ct=new g.OlP("MAT_EXPANSION_PANEL");let Rt=(()=>{class f{constructor(s,h){this._template=s,this._expansionPanel=h}}return f.\u0275fac=function(s){return new(s||f)(g.Y36(g.Rgc),g.Y36(ct,8))},f.\u0275dir=g.lG2({type:f,selectors:[["ng-template","matExpansionPanelContent",""]]}),f})(),Xt=0;const vn=new g.OlP("MAT_EXPANSION_PANEL_DEFAULT_OPTIONS");let On=(()=>{class f extends Je{constructor(s,h,C,S,z,ee,ue){super(s,h,C),this._viewContainerRef=S,this._animationMode=ee,this._hideToggle=!1,this.afterExpand=new g.vpe,this.afterCollapse=new g.vpe,this._inputChanges=new Le.x,this._headerId="mat-expansion-panel-header-"+Xt++,this._bodyAnimationDone=new Le.x,this.accordion=s,this._document=z,this._bodyAnimationDone.pipe((0,U.x)((Ne,Ze)=>Ne.fromState===Ze.fromState&&Ne.toState===Ze.toState)).subscribe(Ne=>{"void"!==Ne.fromState&&("expanded"===Ne.toState?this.afterExpand.emit():"collapsed"===Ne.toState&&this.afterCollapse.emit())}),ue&&(this.hideToggle=ue.hideToggle)}get hideToggle(){return this._hideToggle||this.accordion&&this.accordion.hideToggle}set hideToggle(s){this._hideToggle=ot(s)}get togglePosition(){return this._togglePosition||this.accordion&&this.accordion.togglePosition}set togglePosition(s){this._togglePosition=s}_hasSpacing(){return!!this.accordion&&this.expanded&&"default"===this.accordion.displayMode}_getExpandedState(){return this.expanded?"expanded":"collapsed"}toggle(){this.expanded=!this.expanded}close(){this.expanded=!1}open(){this.expanded=!0}ngAfterContentInit(){this._lazyContent&&this._lazyContent._expansionPanel===this&&this.opened.pipe((0,ji.O)(null),(0,pi.h)(()=>this.expanded&&!this._portal),(0,$.q)(1)).subscribe(()=>{this._portal=new En(this._lazyContent._template,this._viewContainerRef)})}ngOnChanges(s){this._inputChanges.next(s)}ngOnDestroy(){super.ngOnDestroy(),this._bodyAnimationDone.complete(),this._inputChanges.complete()}_containsFocus(){if(this._body){const s=this._document.activeElement,h=this._body.nativeElement;return s===h||h.contains(s)}return!1}}return f.\u0275fac=function(s){return new(s||f)(g.Y36(X,12),g.Y36(g.sBO),g.Y36(Pe),g.Y36(g.s_b),g.Y36(fe.K0),g.Y36(g.QbO,8),g.Y36(vn,8))},f.\u0275cmp=g.Xpm({type:f,selectors:[["mat-expansion-panel"]],contentQueries:function(s,h,C){if(1&s&&g.Suo(C,Rt,5),2&s){let S;g.iGM(S=g.CRH())&&(h._lazyContent=S.first)}},viewQuery:function(s,h){if(1&s&&g.Gf(hi,5),2&s){let C;g.iGM(C=g.CRH())&&(h._body=C.first)}},hostAttrs:[1,"mat-expansion-panel"],hostVars:6,hostBindings:function(s,h){2&s&&g.ekj("mat-expanded",h.expanded)("_mat-animation-noopable","NoopAnimations"===h._animationMode)("mat-expansion-panel-spacing",h._hasSpacing())},inputs:{disabled:"disabled",expanded:"expanded",hideToggle:"hideToggle",togglePosition:"togglePosition"},outputs:{opened:"opened",closed:"closed",expandedChange:"expandedChange",afterExpand:"afterExpand",afterCollapse:"afterCollapse"},exportAs:["matExpansionPanel"],features:[g._Bn([{provide:X,useValue:void 0},{provide:ct,useExisting:f}]),g.qOj,g.TTD],ngContentSelectors:Ni,decls:7,vars:4,consts:[["role","region",1,"mat-expansion-panel-content",3,"id"],["body",""],[1,"mat-expansion-panel-body"],[3,"cdkPortalOutlet"]],template:function(s,h){1&s&&(g.F$t(Nc),g.Hsn(0),g.TgZ(1,"div",0,1),g.NdJ("@bodyExpansion.done",function(S){return h._bodyAnimationDone.next(S)}),g.TgZ(3,"div",2),g.Hsn(4,1),g.YNc(5,so,0,0,"ng-template",3),g.qZA(),g.Hsn(6,2),g.qZA()),2&s&&(g.xp6(1),g.Q6J("@bodyExpansion",h._getExpandedState())("id",h.id),g.uIk("aria-labelledby",h._headerId),g.xp6(4),g.Q6J("cdkPortalOutlet",h._portal))},dependencies:[tr],styles:['.mat-expansion-panel{box-sizing:content-box;display:block;margin:0;border-radius:4px;overflow:hidden;transition:margin 225ms cubic-bezier(0.4, 0, 0.2, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);position:relative}.mat-accordion .mat-expansion-panel:not(.mat-expanded),.mat-accordion .mat-expansion-panel:not(.mat-expansion-panel-spacing){border-radius:0}.mat-accordion .mat-expansion-panel:first-of-type{border-top-right-radius:4px;border-top-left-radius:4px}.mat-accordion .mat-expansion-panel:last-of-type{border-bottom-right-radius:4px;border-bottom-left-radius:4px}.cdk-high-contrast-active .mat-expansion-panel{outline:solid 1px}.mat-expansion-panel.ng-animate-disabled,.ng-animate-disabled .mat-expansion-panel,.mat-expansion-panel._mat-animation-noopable{transition:none}.mat-expansion-panel-content{display:flex;flex-direction:column;overflow:visible}.mat-expansion-panel-content[style*="visibility: hidden"] *{visibility:hidden !important}.mat-expansion-panel-body{padding:0 24px 16px}.mat-expansion-panel-spacing{margin:16px 0}.mat-accordion>.mat-expansion-panel-spacing:first-child,.mat-accordion>*:first-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-top:0}.mat-accordion>.mat-expansion-panel-spacing:last-child,.mat-accordion>*:last-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-bottom:0}.mat-action-row{border-top-style:solid;border-top-width:1px;display:flex;flex-direction:row;justify-content:flex-end;padding:16px 8px 16px 24px}.mat-action-row .mat-button-base,.mat-action-row .mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-action-row .mat-button-base,[dir=rtl] .mat-action-row .mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2,data:{animation:[Ye.bodyExpansion]},changeDetection:0}),f})();class Pn{}const fi=nn(Pn);let ts=(()=>{class f extends fi{constructor(s,h,C,S,z,ee,ue){super(),this.panel=s,this._element=h,this._focusMonitor=C,this._changeDetectorRef=S,this._animationMode=ee,this._parentChangeSubscription=Me.w0.EMPTY;const Ne=s.accordion?s.accordion._stateChanges.pipe((0,pi.h)(Ze=>!(!Ze.hideToggle&&!Ze.togglePosition))):Li.E;this.tabIndex=parseInt(ue||"")||0,this._parentChangeSubscription=(0,qo.T)(s.opened,s.closed,Ne,s._inputChanges.pipe((0,pi.h)(Ze=>!!(Ze.hideToggle||Ze.disabled||Ze.togglePosition)))).subscribe(()=>this._changeDetectorRef.markForCheck()),s.closed.pipe((0,pi.h)(()=>s._containsFocus())).subscribe(()=>C.focusVia(h,"program")),z&&(this.expandedHeight=z.expandedHeight,this.collapsedHeight=z.collapsedHeight)}get disabled(){return this.panel.disabled}_toggle(){this.disabled||this.panel.toggle()}_isExpanded(){return this.panel.expanded}_getExpandedState(){return this.panel._getExpandedState()}_getPanelId(){return this.panel.id}_getTogglePosition(){return this.panel.togglePosition}_showToggle(){return!this.panel.hideToggle&&!this.panel.disabled}_getHeaderHeight(){const s=this._isExpanded();return s&&this.expandedHeight?this.expandedHeight:!s&&this.collapsedHeight?this.collapsedHeight:null}_keydown(s){switch(s.keyCode){case 32:case 13:Ai(s)||(s.preventDefault(),this._toggle());break;default:return void(this.panel.accordion&&this.panel.accordion._handleHeaderKeydown(s))}}focus(s,h){s?this._focusMonitor.focusVia(this._element,s,h):this._element.nativeElement.focus(h)}ngAfterViewInit(){this._focusMonitor.monitor(this._element).subscribe(s=>{s&&this.panel.accordion&&this.panel.accordion._handleHeaderFocus(this)})}ngOnDestroy(){this._parentChangeSubscription.unsubscribe(),this._focusMonitor.stopMonitoring(this._element)}}return f.\u0275fac=function(s){return new(s||f)(g.Y36(On,1),g.Y36(g.SBq),g.Y36(Go),g.Y36(g.sBO),g.Y36(vn,8),g.Y36(g.QbO,8),g.$8M("tabindex"))},f.\u0275cmp=g.Xpm({type:f,selectors:[["mat-expansion-panel-header"]],hostAttrs:["role","button",1,"mat-expansion-panel-header","mat-focus-indicator"],hostVars:15,hostBindings:function(s,h){1&s&&g.NdJ("click",function(){return h._toggle()})("keydown",function(S){return h._keydown(S)}),2&s&&(g.uIk("id",h.panel._headerId)("tabindex",h.tabIndex)("aria-controls",h._getPanelId())("aria-expanded",h._isExpanded())("aria-disabled",h.panel.disabled),g.Udp("height",h._getHeaderHeight()),g.ekj("mat-expanded",h._isExpanded())("mat-expansion-toggle-indicator-after","after"===h._getTogglePosition())("mat-expansion-toggle-indicator-before","before"===h._getTogglePosition())("_mat-animation-noopable","NoopAnimations"===h._animationMode))},inputs:{tabIndex:"tabIndex",expandedHeight:"expandedHeight",collapsedHeight:"collapsedHeight"},features:[g.qOj],ngContentSelectors:K,decls:5,vars:3,consts:[[1,"mat-content"],["class","mat-expansion-indicator",4,"ngIf"],[1,"mat-expansion-indicator"]],template:function(s,h){1&s&&(g.F$t(B),g.TgZ(0,"span",0),g.Hsn(1),g.Hsn(2,1),g.Hsn(3,2),g.qZA(),g.YNc(4,yc,1,1,"span",1)),2&s&&(g.ekj("mat-content-hide-toggle",!h._showToggle()),g.xp6(4),g.Q6J("ngIf",h._showToggle()))},dependencies:[fe.O5],styles:['.mat-expansion-panel-header{display:flex;flex-direction:row;align-items:center;padding:0 24px;border-radius:inherit;transition:height 225ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-expansion-panel-header._mat-animation-noopable{transition:none}.mat-expansion-panel-header:focus,.mat-expansion-panel-header:hover{outline:none}.mat-expansion-panel-header.mat-expanded:focus,.mat-expansion-panel-header.mat-expanded:hover{background:inherit}.mat-expansion-panel-header:not([aria-disabled=true]){cursor:pointer}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before{flex-direction:row-reverse}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 16px 0 0}[dir=rtl] .mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 0 0 16px}.mat-content{display:flex;flex:1;flex-direction:row;overflow:hidden}.mat-content.mat-content-hide-toggle{margin-right:8px}[dir=rtl] .mat-content.mat-content-hide-toggle{margin-right:0;margin-left:8px}.mat-expansion-toggle-indicator-before .mat-content.mat-content-hide-toggle{margin-left:24px;margin-right:0}[dir=rtl] .mat-expansion-toggle-indicator-before .mat-content.mat-content-hide-toggle{margin-right:24px;margin-left:0}.mat-expansion-panel-header-title,.mat-expansion-panel-header-description{display:flex;flex-grow:1;flex-basis:0;margin-right:16px;align-items:center}[dir=rtl] .mat-expansion-panel-header-title,[dir=rtl] .mat-expansion-panel-header-description{margin-right:0;margin-left:16px}.mat-expansion-panel-header-description{flex-grow:2}.mat-expansion-indicator::after{border-style:solid;border-width:0 2px 2px 0;content:"";display:inline-block;padding:3px;transform:rotate(45deg);vertical-align:middle}.cdk-high-contrast-active .mat-expansion-panel-content{border-top:1px solid;border-top-left-radius:0;border-top-right-radius:0}'],encapsulation:2,data:{animation:[Ye.indicatorRotate]},changeDetection:0}),f})(),Za=(()=>{class f{}return f.\u0275fac=function(s){return new(s||f)},f.\u0275dir=g.lG2({type:f,selectors:[["mat-panel-title"]],hostAttrs:[1,"mat-expansion-panel-header-title"]}),f})(),Qo=(()=>{class f extends Tt{constructor(){super(...arguments),this._ownHeaders=new g.n_E,this._hideToggle=!1,this.displayMode="default",this.togglePosition="after"}get hideToggle(){return this._hideToggle}set hideToggle(s){this._hideToggle=ot(s)}ngAfterContentInit(){this._headers.changes.pipe((0,ji.O)(this._headers)).subscribe(s=>{this._ownHeaders.reset(s.filter(h=>h.panel.accordion===this)),this._ownHeaders.notifyOnChanges()}),this._keyManager=new ar(this._ownHeaders).withWrap().withHomeAndEnd()}_handleHeaderKeydown(s){this._keyManager.onKeydown(s)}_handleHeaderFocus(s){this._keyManager.updateActiveItem(s)}ngOnDestroy(){super.ngOnDestroy(),this._ownHeaders.destroy()}}return f.\u0275fac=function(){let l;return function(h){return(l||(l=g.n5z(f)))(h||f)}}(),f.\u0275dir=g.lG2({type:f,selectors:[["mat-accordion"]],contentQueries:function(s,h,C){if(1&s&&g.Suo(C,ts,5),2&s){let S;g.iGM(S=g.CRH())&&(h._headers=S)}},hostAttrs:[1,"mat-accordion"],hostVars:2,hostBindings:function(s,h){2&s&&g.ekj("mat-accordion-multi",h.multi)},inputs:{multi:"multi",hideToggle:"hideToggle",displayMode:"displayMode",togglePosition:"togglePosition"},exportAs:["matAccordion"],features:[g._Bn([{provide:X,useExisting:f}]),g.qOj]}),f})(),pl=(()=>{class f{}return f.\u0275fac=function(s){return new(s||f)},f.\u0275mod=g.oAB({type:f}),f.\u0275inj=g.cJS({imports:[fe.ez,Sr,de,Hn]}),f})(),pa=(()=>{class f{constructor(){}ngOnInit(){}}return f.\u0275fac=function(s){return new(s||f)},f.\u0275cmp=g.Xpm({type:f,selectors:[["app-our-services"]],decls:140,vars:0,consts:[[1,"container"],[1,"mt-1"],[1,"mt-2"]],template:function(s,h){1&s&&(g.TgZ(0,"div",0)(1,"div",1)(2,"h2"),g._uU(3,"Our Services"),g.qZA(),g.TgZ(4,"mat-accordion")(5,"mat-expansion-panel",2)(6,"mat-expansion-panel-header")(7,"mat-panel-title"),g._uU(8," Transfer Pricing Compliances "),g.qZA()(),g.TgZ(9,"ul")(10,"li"),g._uU(11,"Transfer Pricing Compliances"),g.qZA(),g.TgZ(12,"li"),g._uU(13,"Transfer Pricing Documentation"),g.qZA(),g.TgZ(14,"li"),g._uU(15,"Accountant's Report - Form No. 3CEB"),g.qZA(),g.TgZ(16,"li"),g._uU(17,"Master File"),g.qZA(),g.TgZ(18,"li"),g._uU(19,"Country-by-Country Report"),g.qZA(),g.TgZ(20,"li"),g._uU(21,"Global Transfer Pricing Compliance - Regional/Country comparable studies & filings adhering to OECD guidelines and local regulations. (SBC has access to all major Indian and Global databases/software - Prowess, CapitalineTP, AceTP, Amadeus, Compustat, Kt-Mine, RoyaltyRange, RoyaltyStat, Orbis, Osiris, IBISWorld, Factiva, One Source, Loan Connector, etc.)"),g.qZA(),g.TgZ(22,"li"),g._uU(23,"Transfer Pricing Comfort Letters/Memos for Statutory Auditors"),g.qZA(),g.TgZ(24,"li"),g._uU(25,"FIN 48 Assistance - Quantification & Opinion on Transfer Pricing exposure and uncertain tax positions"),g.qZA(),g.TgZ(26,"li"),g._uU(27,"Transfer Pricing analysis and Board meeting presentations for Listed Companies from SEBI Regulations and Companies Act perspective."),g.qZA()()(),g.TgZ(28,"mat-expansion-panel",2)(29,"mat-expansion-panel-header")(30,"mat-panel-title"),g._uU(31," Transfer Pricing Advisory On "),g.qZA()(),g.TgZ(32,"ul")(33,"li"),g._uU(34,"Transfer Pricing Policy & Price Setting"),g.qZA(),g.TgZ(35,"li"),g._uU(36,"Drafting/Review of Inter-Company Agreements"),g.qZA(),g.TgZ(37,"li"),g._uU(38,"Alternative Business and Remuneration Models that are sustainable"),g.qZA(),g.TgZ(39,"li"),g._uU(40,"Comparable Studies and Benchmarking analyses"),g.qZA(),g.TgZ(41,"li"),g._uU(42,"Operational Transfer Pricing"),g.qZA(),g.TgZ(43,"li"),g._uU(44,"Group Profit & Effective Tax Planning"),g.qZA(),g.TgZ(45,"li"),g._uU(46,"Tax efficient structuring of international transactions & transaction flows"),g.qZA(),g.TgZ(47,"li"),g._uU(48,"Supplementary analyses to strengthen the documentation from litigation perspective"),g.qZA(),g.TgZ(49,"li"),g._uU(50,"Voluntary Transfer Pricing Adjustments"),g.qZA(),g.TgZ(51,"li"),g._uU(52,"Secondary Adjustments"),g.qZA(),g.TgZ(53,"li"),g._uU(54,"Transfer Pricing Health Check-Up to avoid/mitigate risks"),g.qZA(),g.TgZ(55,"li"),g._uU(56,"Transfer Pricing Due Diligence"),g.qZA(),g.TgZ(57,"li"),g._uU(58,"Drawing Segmental P&L for Transfer Pricing Purposes"),g.qZA(),g.TgZ(59,"li"),g._uU(60,"Economic adjustments computation - Risk, Working Capital, Forex, Capacity Utilisation, Depreciation, Cash PLI adjustments"),g.qZA()()(),g.TgZ(61,"mat-expansion-panel",2)(62,"mat-expansion-panel-header")(63,"mat-panel-title"),g._uU(64," Complex inter-company transactions - Planning, Implementation & Compliance support for: "),g.qZA()(),g.TgZ(65,"ul")(66,"li"),g._uU(67,"Intangibles - Structuring, Royalty & Licencing rates, Withholding implications, Agreements "),g.qZA(),g.TgZ(68,"li"),g._uU(69,"Financial Transactions - Interest rates, Withholding implications, Agreements"),g.qZA(),g.TgZ(70,"li"),g._uU(71,"Intra-Group Services, Management Charges, Cost Contribution Arrangements - Charging/mark-up rates, Agreements, Cost pooling & allocation"),g.qZA(),g.TgZ(72,"li"),g._uU(73,"Business Restructurings - Transfer Pricing implications, Agreements & Contracts review"),g.qZA(),g.TgZ(74,"li"),g._uU(75,"General Anti Avoidance Rules (GAAR) implications"),g.qZA(),g.TgZ(76,"li"),g._uU(77,"Permanent Establishment (PE) Exposure for existing/proposed transactions"),g.qZA()()(),g.TgZ(78,"mat-expansion-panel",2)(79,"mat-expansion-panel-header")(80,"mat-panel-title"),g._uU(81," Transfer Pricing Litigation support & Representations before "),g.qZA()(),g.TgZ(82,"ul")(83,"li"),g._uU(84,"First level authorities - Transfer Pricing Officers (TPO)/ Assessing Officers (AO)"),g.qZA(),g.TgZ(85,"li"),g._uU(86,"Dispute Resolution Panel (DRP)"),g.qZA(),g.TgZ(87,"li"),g._uU(88,"Appellate authorities - Commissioner of Income Tax (Appeals) [CIT(A)], Income Tax Appellate Tribunals (ITAT), High Court, Supreme Court"),g.qZA(),g.TgZ(89,"li"),g._uU(90,"Penalty, Rectification, Re-assessment, Revision, Remand, Order giving effect, Stay of demand proceedings"),g.qZA()()(),g.TgZ(91,"mat-expansion-panel",2)(92,"mat-expansion-panel-header")(93,"mat-panel-title"),g._uU(94," Alternate Dispute Resolution Routes - Advance Pricing Agreement (APA), Mutual Agreement Procedure (MAP), Safe Harbour Rules (SHR) "),g.qZA()(),g.TgZ(95,"ul")(96,"li"),g._uU(97,"Cost Benefit Analysis for decision making"),g.qZA(),g.TgZ(98,"li"),g._uU(99,"Filing of Applications in prescribed Forms"),g.qZA(),g.TgZ(100,"li"),g._uU(101,"Representations & Submissions"),g.qZA(),g.TgZ(102,"li"),g._uU(103,"Application Renewals"),g.qZA(),g.TgZ(104,"li"),g._uU(105,"APAs - both unilateral & bilateral"),g.qZA()()(),g.TgZ(106,"mat-expansion-panel",2)(107,"mat-expansion-panel-header")(108,"mat-panel-title"),g._uU(109," BEPS Advisory - Readiness, Implementation, Impact on International Tax Structures: "),g.qZA()(),g.TgZ(110,"ul")(111,"li"),g._uU(112,"BEPS Contract Analysis"),g.qZA(),g.TgZ(113,"li"),g._uU(114,"Value Chain Analysis and Management"),g.qZA(),g.TgZ(115,"li"),g._uU(116,"OECD Pillar 1 & 2 \u2013 Readiness, Implementation & Impact"),g.qZA(),g.TgZ(117,"li"),g._uU(118,"Supply Chain Restructuring"),g.qZA(),g.TgZ(119,"li"),g._uU(120,"Three Tier Documentation support in line with Action 13"),g.qZA(),g.TgZ(121,"li"),g._uU(122,"IP Structuring /DEMPE analysis in view of Action 8"),g.qZA(),g.TgZ(123,"li"),g._uU(124,"Financial Transactions planning factoring in Action 4 and 9 and OECD guidelines on Financial Transactions"),g.qZA(),g.TgZ(125,"li"),g._uU(126,"High risk transactions structuring in coherence with Action 10"),g.qZA(),g.TgZ(127,"li"),g._uU(128,"Profit Split Method \u2013 applicability, implementation, splitting factors, projections, segmentation, planning/price setting as per BEPS"),g.qZA()()(),g.TgZ(129,"mat-expansion-panel",2)(130,"mat-expansion-panel-header")(131,"mat-panel-title"),g._uU(132," Valuations for arm's length determination for Transfer Pricing purposes: "),g.qZA()(),g.TgZ(133,"ul")(134,"li"),g._uU(135,"Assets (tangibles & intangibles) transfer between related parties"),g.qZA(),g.TgZ(136,"li"),g._uU(137,"Capital/financial transactions (equity, debt & hybrid instruments, guarantees) - issue, sale, buybacks between related parties"),g.qZA(),g.TgZ(138,"li"),g._uU(139,"Mergers & Acquisitions transactions - selling, buying, combining, restructuring involving related parties "),g.qZA()()()()()())},dependencies:[Qo,On,ts,Za],styles:[".container[_ngcontent-%COMP%]{text-align:left;background:#efefef;margin-top:2em;padding:3em}h2[_ngcontent-%COMP%]{font-size:30px;color:gray;text-decoration:underline}.mat-expansion-panel-header-title[_ngcontent-%COMP%]{font-size:20px;font-weight:500}  .mat-expansion-panel-body{background:white;color:#000;padding-top:25px!important}mat-expansion-panel[_ngcontent-%COMP%]{background:cadetblue;color:#fff}@media only screen and (max-width: 500px){.container[_ngcontent-%COMP%]{padding:1em}}"]}),f})(),Xo=(()=>{class f{constructor(){}ngOnInit(){}}return f.\u0275fac=function(s){return new(s||f)},f.\u0275cmp=g.Xpm({type:f,selectors:[["app-workflow"]],decls:51,vars:0,consts:[[1,"container",2,"position","relative","padding-left","1rem","padding-right","1rem","padding-top","4rem","padding-bottom","4rem"],[1,"h1",2,"text-align","center"],[1,"text-center"],[2,"text-align","center"],["id","s8-templatessection5",1,"content-services","s8-templates-section"],[1,"s8-templates-section-background"],[1,"s8-templates-section-content","s8-templates-section-contentsize-md","s8-templates-section-content-paddingleft","s8-templates-section-content-paddingright",2,"position","relative","padding-left","1rem","padding-right","1rem","padding-top","2rem","padding-bottom","1rem"],[1,"row"],[1,"services-box","col-sm-3"],[1,"price-box"],[1,"price-details"],[1,"services-box","prices-box","col-sm-3"]],template:function(s,h){1&s&&(g.TgZ(0,"div",0)(1,"h1",1),g._uU(2,"Our Workflow"),g.qZA(),g.TgZ(3,"div",2)(4,"p",3),g._uU(5," The benchmarking process starts after the analysis of identifying and characterising the international related party transaction has already be performed. Please contact us if you require assistance with this area and we can quote separately. If you have already performed this analysis, you are ready for benchmarking. Our benchmarking process can be summarised as follows: "),g.qZA()(),g.TgZ(6,"section",4),g._UZ(7,"div",5),g.TgZ(8,"div",6)(9,"div",7)(10,"div",8)(11,"h3"),g._uU(12,"Step One"),g.qZA(),g.TgZ(13,"div",9)(14,"h4"),g._uU(15,"Data Gathering"),g.qZA(),g.TgZ(16,"div",10)(17,"p"),g._uU(18," Complete the online questionnaire regarding the company, industry and transaction information. We are willing to sign confidentiality agreements if required. "),g.qZA()()()(),g.TgZ(19,"div",11)(20,"h3"),g._uU(21,"Step Two"),g.qZA(),g.TgZ(22,"div",9)(23,"h4"),g._uU(24,"Benchmarking Analysis"),g.qZA(),g.TgZ(25,"div",10)(26,"p"),g._uU(27," Transfer Pricing Benchmarking performs the benchmarking analysis. The analysis itself has many steps in the process before a final comparable set is identified. "),g.qZA()()()(),g.TgZ(28,"div",11)(29,"h3"),g._uU(30,"Step Three"),g.qZA(),g.TgZ(31,"div",9)(32,"h4"),g._uU(33,"Draft Report"),g.qZA(),g.TgZ(34,"div",10)(35,"p"),g._uU(36,"Transfer Pricing Solutions finalises the benchmarking analysis and provides a draft report for discussion."),g.qZA(),g.TgZ(37,"p"),g._UZ(38,"br"),g.qZA(),g._UZ(39,"p"),g.qZA()()(),g.TgZ(40,"div",11)(41,"h3"),g._uU(42,"Step Four"),g.qZA(),g.TgZ(43,"div",9)(44,"h4"),g._uU(45,"Final Report"),g.qZA(),g.TgZ(46,"div",10)(47,"p"),g._uU(48," The final report includes the full search write up, the benchmarking analysis, the elimination chart and financials of the final comparable companies."),g._UZ(49,"br")(50,"br"),g.qZA()()()()()()()())},styles:["div.container[_ngcontent-%COMP%]{background:#efefef;margin-top:2em}div.container[_ngcontent-%COMP%] > div.text-center[_ngcontent-%COMP%]{padding:30px;font-size:16px}div.container[_ngcontent-%COMP%] > div.text-center[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{padding:0 5%}h1.h1[_ngcontent-%COMP%]{font-size:36px;color:#071f4d}.services-box[_ngcontent-%COMP%] > h3[_ngcontent-%COMP%]{text-align:center;font-size:20px;font-weight:500;margin-bottom:5px}div.price-box[_ngcontent-%COMP%]{padding-bottom:20px;background:indianred;color:#fff;text-align:center;min-height:200px}div.price-box[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{text-align:center;text-transform:uppercase;font-size:15px;font-weight:500;background:lightgray;color:#000;padding-top:5px}@media only screen and (max-width: 500px){.div.container[_ngcontent-%COMP%] > div.text-center[_ngcontent-%COMP%]{padding:5px}}"]}),f})();function ga(f,l){if(1&f&&(g.TgZ(0,"div",2)(1,"div",3)(2,"div",4),g._UZ(3,"img",5),g.qZA(),g.TgZ(4,"div",6)(5,"h4"),g._uU(6),g.qZA()(),g.TgZ(7,"div",7)(8,"button",8),g._uU(9),g.qZA()()()()),2&f){const s=l.$implicit;g.xp6(3),g.Q6J("src",s.image,g.LSH),g.xp6(3),g.Oqu(s.head),g.xp6(2),g.Q6J("routerLink",s.route),g.xp6(1),g.Oqu(s.action)}}let qa=(()=>{class f{constructor(){this.cards=[],this.cards.push({image:"assets/icons/company.png",head:"Are you company",content:"",action:"Get Started",route:"/register/company"}),this.cards.push({image:"assets/icons/consultant.png",head:"Are you consultant",content:"",action:"Get Started",route:"/register/consultant"}),this.cards.push({image:"assets/icons/support.png",head:"Talk to our Team",content:"",action:"Get Started",route:"/contact-us"})}ngOnInit(){}}return f.\u0275fac=function(s){return new(s||f)},f.\u0275cmp=g.Xpm({type:f,selectors:[["app-section-cards"]],decls:2,vars:1,consts:[[1,"row",2,"justify-content","center"],["class","col-xs-12 col-sm-4 col-md-3 mx-3",4,"ngFor","ngForOf"],[1,"col-xs-12","col-sm-4","col-md-3","mx-3"],[1,"card"],[1,"card-image"],["height","200","width","auto",3,"src"],[1,"card-content"],[1,"card-actions"],[1,"btn-action",3,"routerLink"]],template:function(s,h){1&s&&(g.TgZ(0,"div",0),g.YNc(1,ga,10,4,"div",1),g.qZA()),2&s&&(g.xp6(1),g.Q6J("ngForOf",h.cards))},dependencies:[fe.sg,me.rH],styles:[".card[_ngcontent-%COMP%]{box-shadow:0 4px 6px #000b281a;width:100%;display:inline-block;margin:10px}.card-content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-weight:600;font-size:22px}.btn-action[_ngcontent-%COMP%]{color:#b64b4d;border-width:1px!important;border-color:#b64b4d;border-radius:50px;margin-bottom:10px;padding:10px 30px!important;border:2px solid}.btn-action[_ngcontent-%COMP%]:hover{color:#fff!important;background-color:#b64b4d!important;border-color:#b64b4d!important;border-radius:50px}"]}),f})(),id=(()=>{class f{constructor(){}ngOnInit(){}}return f.\u0275fac=function(s){return new(s||f)},f.\u0275cmp=g.Xpm({type:f,selectors:[["app-home"]],decls:15,vars:0,consts:[[1,"container"],[1,"main","text-center"],[1,"top"],[1,"head1"],[1,"head2"],[1,"link1"],[1,"bottom"]],template:function(s,h){1&s&&(g.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),g._uU(4,"TRANSFER PRICING 'MADE EASY'"),g.qZA(),g.TgZ(5,"div",4)(6,"span",5),g._uU(7,"Transferpricing.in"),g.qZA(),g._uU(8," is the one-stop solution for creating & managing Transfer Pricing documentation, including Local Files, Master Files, CbCR, Benchmarks, Inter Company Agreements and much more. "),g.qZA()(),g.TgZ(9,"div",6),g._UZ(10,"app-section-cards"),g.qZA()(),g.TgZ(11,"div"),g._UZ(12,"app-our-services"),g.qZA(),g.TgZ(13,"div"),g._UZ(14,"app-workflow"),g.qZA()())},dependencies:[pa,Xo,qa],styles:["h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%]{color:#071f4d}h2[_ngcontent-%COMP%], .h2[_ngcontent-%COMP%]{font-size:30px}h1[_ngcontent-%COMP%], .h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], .h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], .h3[_ngcontent-%COMP%]{margin-top:20px;margin-bottom:10px}.main[_ngcontent-%COMP%]{background:ghostwhite;padding:20px;margin-top:2%}.main[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]{display:inline-block;max-width:700px}.main[_ngcontent-%COMP%]   .bottom[_ngcontent-%COMP%]{margin-top:20px}.proceed-login[_ngcontent-%COMP%]{font-size:20px}.head1[_ngcontent-%COMP%]{font-family:Montserrat,Helvetica,Arial,Lucida,sans-serif;font-weight:700;font-size:35px;line-height:1.5em}.head2[_ngcontent-%COMP%]{font-size:18px;line-height:35px}.link1[_ngcontent-%COMP%]{color:red;text-decoration:underline;cursor:pointer;font-weight:700}@media only screen and (max-width: 500px){.head1[_ngcontent-%COMP%]{font-size:30px}}"]}),f})(),$h=(()=>{class f{constructor(){this.isLinear=!1}ngOnInit(){}}return f.\u0275fac=function(s){return new(s||f)},f.\u0275cmp=g.Xpm({type:f,selectors:[["app-dashboard"]],decls:22,vars:0,consts:[[1,"container","mt-3"],[1,"steps-container"],[1,"step","active",2,"width","33.3333%"],[1,"step-index"],[1,"step-circle"],[1,"step-text"],[1,"step","inactive",2,"width","33.3333%"],[1,"step-main"]],template:function(s,h){1&s&&(g.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"span",4),g._uU(5,"1"),g.qZA()(),g.TgZ(6,"div",5),g._uU(7," Provide Company Information "),g.qZA()(),g.TgZ(8,"div",6)(9,"div",3)(10,"span",4),g._uU(11,"2"),g.qZA()(),g.TgZ(12,"div",5),g._uU(13," Upload Required Documents "),g.qZA()(),g.TgZ(14,"div",6)(15,"div",3)(16,"span",4),g._uU(17,"3"),g.qZA()(),g.TgZ(18,"div",5),g._uU(19," Place Order "),g.qZA()()(),g.TgZ(20,"div",7),g._uU(21," Hello World "),g.qZA()())},styles:[".steps-container[_ngcontent-%COMP%]{display:block;width:100%}.step.active[_ngcontent-%COMP%]{background:#eee;border-bottom:5px solid #eee}.step[_ngcontent-%COMP%]{display:inline-block;position:relative;padding-top:10px;border-right:5px solid #fff;border-bottom:5px solid #fff;background:#ccc}.step.active[_ngcontent-%COMP%]   .step-text[_ngcontent-%COMP%]{color:#582c4f}.step-main[_ngcontent-%COMP%]{background:#eee;border-right:5px solid #fff}.step[_ngcontent-%COMP%]   .step-text[_ngcontent-%COMP%]{margin-top:10px}.step-text[_ngcontent-%COMP%]{font-size:18px!important;font-weight:400!important}.step-index[_ngcontent-%COMP%], .step-text[_ngcontent-%COMP%]{width:100%;text-align:center}.step.active[_ngcontent-%COMP%]   .step-index[_ngcontent-%COMP%]   .step-circle[_ngcontent-%COMP%], .step.completed[_ngcontent-%COMP%]   .step-index[_ngcontent-%COMP%]   .step-circle[_ngcontent-%COMP%]{border:1px solid #805679;background-color:#805679;color:#fff}.step.inactive[_ngcontent-%COMP%]   .step-index[_ngcontent-%COMP%]   .step-circle[_ngcontent-%COMP%]{border:1px solid #000;background:#fff;color:#000}.step-circle[_ngcontent-%COMP%]{font-size:18px!important;font-weight:400!important;display:inline-block;padding-top:5px;border-radius:1em;width:2em;height:2em}@media only screen and (max-width: 800px){.step[_ngcontent-%COMP%]{min-height:127px;vertical-align:top}}@media only screen and (max-width: 800px){.step-text[_ngcontent-%COMP%]{font-size:16px!important}}"]}),f})();var $d=k(3261),zd=k(7185);let Os=(()=>{class f{constructor(s,h){this.firestore=s,this.toaster=h,this.editing=!1}ngOnInit(){}update(){}}return f.\u0275fac=function(s){return new(s||f)(g.Y36($d.C),g.Y36(zd._W))},f.\u0275cmp=g.Xpm({type:f,selectors:[["app-profile"]],decls:0,vars:0,template:function(s,h){},styles:[".header[_ngcontent-%COMP%]{text-align:center;margin:10px;font-size:23px}.content[_ngcontent-%COMP%]{padding:30px}.content[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{vertical-align:middle;text-align:center}.actions[_ngcontent-%COMP%]{text-align:center}.image[_ngcontent-%COMP%]{width:100px;height:100px;border-radius:50px!important}"]}),f})();var Fc=k(8458);let ni=(()=>{class f{constructor(){}ngOnInit(){}}return f.\u0275fac=function(s){return new(s||f)},f.\u0275cmp=g.Xpm({type:f,selectors:[["app-contact-us"]],decls:0,vars:0,template:function(s,h){}}),f})(),vp=(()=>{class f{constructor(){this.questions=Gd}ngOnInit(){}}return f.\u0275fac=function(s){return new(s||f)},f.\u0275cmp=g.Xpm({type:f,selectors:[["app-faq"]],decls:1,vars:0,consts:[[1,"container","mt-1","p-5"]],template:function(s,h){1&s&&g._UZ(0,"div",0)},styles:["mat-expansion-panel[_ngcontent-%COMP%]{background:cadetblue;color:#fff}.mat-expansion-panel-header-title[_ngcontent-%COMP%], .mat-expansion-panel-header-description[_ngcontent-%COMP%]{color:#fffaf0;font-size:20px}.mat-expansion-indicator[_ngcontent-%COMP%]{font-size:20px}"]}),f})();const Gd=[{q:"What is Transfer Pricing?",a:"Transfer pricing is an accounting practice that represents the price that one division in a company charges another division for goods and services provided"},{q:"Does your company need Transfer Pricing?",a:"Transfer pricing is an accounting practice that represents the price that one division in a company charges another division for goods and services provided"},{q:"Who will perform Benchmarking analysis?",a:"Transfer pricing is an accounting practice that represents the price that one division in a company charges another division for goods and services provided"}];var Bc=k(9087);const zh=[{path:"",pathMatch:"full",redirectTo:"home"},{path:"home",component:id},{path:"our-services",component:pa},{path:"contact-us",component:ni},{path:"faq",component:vp},{path:"workflow",component:Xo},{path:"register/:type",component:Bc.y},{path:"login",component:Fc.G},{path:"profile",component:Os},{path:"dashboard",component:$h},{path:"login",component:Fc.G}];let sd=(()=>{class f{}return f.\u0275fac=function(s){return new(s||f)},f.\u0275mod=g.oAB({type:f}),f.\u0275inj=g.cJS({imports:[me.Bz.forRoot(zh),me.Bz]}),f})();var Uc=k(5577),od=k(1144),gl=k(576),vc=k(3268);const ms=["addListener","removeListener"],Vc=["addEventListener","removeEventListener"],bp=["on","off"];function fu(f,l,s,h){if((0,gl.m)(s)&&(h=s,s=void 0),h)return fu(f,l,s).pipe((0,vc.Z)(h));const[C,S]=function Zh(f){return(0,gl.m)(f.addEventListener)&&(0,gl.m)(f.removeEventListener)}(f)?Vc.map(z=>ee=>f[z](l,ee,s)):function pu(f){return(0,gl.m)(f.addListener)&&(0,gl.m)(f.removeListener)}(f)?ms.map(Gh(f,l)):function Zd(f){return(0,gl.m)(f.on)&&(0,gl.m)(f.off)}(f)?bp.map(Gh(f,l)):[];if(!C&&(0,od.z)(f))return(0,Uc.z)(z=>fu(z,l,s))((0,ie.Xf)(f));if(!C)throw new TypeError("Invalid event target");return new js.y(z=>{const ee=(...ue)=>z.next(1<ue.length?ue:ue[0]);return C(ee),()=>S(ee)})}function Gh(f,l){return s=>h=>f[s](l,h)}var qd=k(4408);const Jo={schedule(f){let l=requestAnimationFrame,s=cancelAnimationFrame;const{delegate:h}=Jo;h&&(l=h.requestAnimationFrame,s=h.cancelAnimationFrame);const C=l(S=>{s=void 0,f(S)});return new Me.w0(()=>s?.(C))},requestAnimationFrame(...f){const{delegate:l}=Jo;return(l?.requestAnimationFrame||requestAnimationFrame)(...f)},cancelAnimationFrame(...f){const{delegate:l}=Jo;return(l?.cancelAnimationFrame||cancelAnimationFrame)(...f)},delegate:void 0};var qh=k(7565);new class ad extends qh.v{flush(l){this._active=!0;const s=this._scheduled;this._scheduled=void 0;const{actions:h}=this;let C;l=l||h.shift();do{if(C=l.execute(l.state,l.delay))break}while((l=h[0])&&l.id===s&&h.shift());if(this._active=!1,C){for(;(l=h[0])&&l.id===s&&h.shift();)l.unsubscribe();throw C}}}(class Lo extends qd.o{constructor(l,s){super(l,s),this.scheduler=l,this.work=s}requestAsyncId(l,s,h=0){return null!==h&&h>0?super.requestAsyncId(l,s,h):(l.actions.push(this),l._scheduled||(l._scheduled=Jo.requestAnimationFrame(()=>l.flush(void 0))))}recycleAsyncId(l,s,h=0){if(null!=h&&h>0||null==h&&this.delay>0)return super.recycleAsyncId(l,s,h);l.actions.some(C=>C.id===s)||(Jo.cancelAnimationFrame(s),l._scheduled=void 0)}});let Ps,Qh=1;const Ya={};function gu(f){return f in Ya&&(delete Ya[f],!0)}const ld={setImmediate(f){const l=Qh++;return Ya[l]=!0,Ps||(Ps=Promise.resolve()),Ps.then(()=>gu(l)&&f()),l},clearImmediate(f){gu(f)}},{setImmediate:Hc,clearImmediate:No}=ld,jc={setImmediate(...f){const{delegate:l}=jc;return(l?.setImmediate||Hc)(...f)},clearImmediate(f){const{delegate:l}=jc;return(l?.clearImmediate||No)(f)},delegate:void 0};new class Jh extends qh.v{flush(l){this._active=!0;const s=this._scheduled;this._scheduled=void 0;const{actions:h}=this;let C;l=l||h.shift();do{if(C=l.execute(l.state,l.delay))break}while((l=h[0])&&l.id===s&&h.shift());if(this._active=!1,C){for(;(l=h[0])&&l.id===s&&h.shift();)l.unsubscribe();throw C}}}(class ma extends qd.o{constructor(l,s){super(l,s),this.scheduler=l,this.work=s}requestAsyncId(l,s,h=0){return null!==h&&h>0?super.requestAsyncId(l,s,h):(l.actions.push(this),l._scheduled||(l._scheduled=jc.setImmediate(l.flush.bind(l,void 0))))}recycleAsyncId(l,s,h=0){if(null!=h&&h>0||null==h&&this.delay>0)return super.recycleAsyncId(l,s,h);l.actions.some(C=>C.id===s)||(jc.clearImmediate(s),l._scheduled=void 0)}});var Nl=k(3532);function _l(f,l=Qi.z){return function ef(f){return(0,St.e)((l,s)=>{let h=!1,C=null,S=null,z=!1;const ee=()=>{if(S?.unsubscribe(),S=null,h){h=!1;const Ne=C;C=null,s.next(Ne)}z&&s.complete()},ue=()=>{S=null,z&&s.complete()};l.subscribe((0,$n.x)(s,Ne=>{h=!0,C=Ne,S||(0,ie.Xf)(f(Ne)).subscribe(S=(0,$n.x)(s,ee,ue))},()=>{z=!0,(!h||!S||S.closed)&&s.complete()}))})}(()=>function Oa(f=0,l,s=Qi.P){let h=-1;return null!=l&&((0,Nl.K)(l)?s=l:h=l),new js.y(C=>{let S=function tf(f){return f instanceof Date&&!isNaN(f)}(f)?+f-s.now():f;S<0&&(S=0);let z=0;return s.schedule(function(){C.closed||(C.next(z++),0<=h?this.schedule(void 0,h):C.complete())},S)})}(f,l))}let Wc=(()=>{class f{constructor(s,h,C){this._ngZone=s,this._platform=h,this._scrolled=new Le.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=C}register(s){this.scrollContainers.has(s)||this.scrollContainers.set(s,s.elementScrolled().subscribe(()=>this._scrolled.next(s)))}deregister(s){const h=this.scrollContainers.get(s);h&&(h.unsubscribe(),this.scrollContainers.delete(s))}scrolled(s=20){return this._platform.isBrowser?new js.y(h=>{this._globalSubscription||this._addGlobalListener();const C=s>0?this._scrolled.pipe(_l(s)).subscribe(h):this._scrolled.subscribe(h);return this._scrolledCount++,()=>{C.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,Un.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((s,h)=>this.deregister(h)),this._scrolled.complete()}ancestorScrolled(s,h){const C=this.getAncestorScrollContainers(s);return this.scrolled(h).pipe((0,pi.h)(S=>!S||C.indexOf(S)>-1))}getAncestorScrollContainers(s){const h=[];return this.scrollContainers.forEach((C,S)=>{this._scrollableContainsElement(S,s)&&h.push(S)}),h}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(s,h){let C=Re(h),S=s.getElementRef().nativeElement;do{if(C==S)return!0}while(C=C.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>fu(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return f.\u0275fac=function(s){return new(s||f)(g.LFG(g.R0b),g.LFG(kn),g.LFG(fe.K0,8))},f.\u0275prov=g.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"}),f})(),_a=(()=>{class f{constructor(s,h,C,S){this.elementRef=s,this.scrollDispatcher=h,this.ngZone=C,this.dir=S,this._destroyed=new Le.x,this._elementScrolled=new js.y(z=>this.ngZone.runOutsideAngular(()=>fu(this.elementRef.nativeElement,"scroll").pipe(an(this._destroyed)).subscribe(z)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(s){const h=this.elementRef.nativeElement,C=this.dir&&"rtl"==this.dir.value;null==s.left&&(s.left=C?s.end:s.start),null==s.right&&(s.right=C?s.start:s.end),null!=s.bottom&&(s.top=h.scrollHeight-h.clientHeight-s.bottom),C&&0!=xe()?(null!=s.left&&(s.right=h.scrollWidth-h.clientWidth-s.left),2==xe()?s.left=s.right:1==xe()&&(s.left=s.right?-s.right:s.right)):null!=s.right&&(s.left=h.scrollWidth-h.clientWidth-s.right),this._applyScrollToOptions(s)}_applyScrollToOptions(s){const h=this.elementRef.nativeElement;mt()?h.scrollTo(s):(null!=s.top&&(h.scrollTop=s.top),null!=s.left&&(h.scrollLeft=s.left))}measureScrollOffset(s){const h="left",C="right",S=this.elementRef.nativeElement;if("top"==s)return S.scrollTop;if("bottom"==s)return S.scrollHeight-S.clientHeight-S.scrollTop;const z=this.dir&&"rtl"==this.dir.value;return"start"==s?s=z?C:h:"end"==s&&(s=z?h:C),z&&2==xe()?s==h?S.scrollWidth-S.clientWidth-S.scrollLeft:S.scrollLeft:z&&1==xe()?s==h?S.scrollLeft+S.scrollWidth-S.clientWidth:-S.scrollLeft:s==h?S.scrollLeft:S.scrollWidth-S.clientWidth-S.scrollLeft}}return f.\u0275fac=function(s){return new(s||f)(g.Y36(g.SBq),g.Y36(Wc),g.Y36(g.R0b),g.Y36(fn,8))},f.\u0275dir=g.lG2({type:f,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]}),f})(),Fl=(()=>{class f{constructor(s,h,C){this._platform=s,this._change=new Le.x,this._changeListener=S=>{this._change.next(S)},this._document=C,h.runOutsideAngular(()=>{if(s.isBrowser){const S=this._getWindow();S.addEventListener("resize",this._changeListener),S.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const s=this._getWindow();s.removeEventListener("resize",this._changeListener),s.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const s={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),s}getViewportRect(){const s=this.getViewportScrollPosition(),{width:h,height:C}=this.getViewportSize();return{top:s.top,left:s.left,bottom:s.top+C,right:s.left+h,height:C,width:h}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const s=this._document,h=this._getWindow(),C=s.documentElement,S=C.getBoundingClientRect();return{top:-S.top||s.body.scrollTop||h.scrollY||C.scrollTop||0,left:-S.left||s.body.scrollLeft||h.scrollX||C.scrollLeft||0}}change(s=20){return s>0?this._change.pipe(_l(s)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const s=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:s.innerWidth,height:s.innerHeight}:{width:0,height:0}}}return f.\u0275fac=function(s){return new(s||f)(g.LFG(kn),g.LFG(g.R0b),g.LFG(fe.K0,8))},f.\u0275prov=g.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"}),f})(),zc=(()=>{class f{}return f.\u0275fac=function(s){return new(s||f)},f.\u0275mod=g.oAB({type:f}),f.\u0275inj=g.cJS({}),f})(),wi=(()=>{class f{}return f.\u0275fac=function(s){return new(s||f)},f.\u0275mod=g.oAB({type:f}),f.\u0275inj=g.cJS({imports:[qt,zc,qt,zc]}),f})();var th=k(9718);const nh=["*"],Bl=["content"];function Fo(f,l){if(1&f){const s=g.EpF();g.TgZ(0,"div",2),g.NdJ("click",function(){g.CHM(s);const C=g.oxw();return g.KtG(C._onBackdropClicked())}),g.qZA()}if(2&f){const s=g.oxw();g.ekj("mat-drawer-shown",s._isShowingBackdrop())}}function sf(f,l){1&f&&(g.TgZ(0,"mat-drawer-content"),g.Hsn(1,2),g.qZA())}const rh=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],af=["mat-drawer","mat-drawer-content","*"],Gc={transformDrawer:(0,kt.X$)("transform",[(0,kt.SB)("open, open-instant",(0,kt.oB)({transform:"none",visibility:"visible"})),(0,kt.SB)("void",(0,kt.oB)({"box-shadow":"none",visibility:"hidden"})),(0,kt.eR)("void => open-instant",(0,kt.jt)("0ms")),(0,kt.eR)("void <=> open, open-instant => void",(0,kt.jt)("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])},vl=new g.OlP("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function Bo(){return!1}}),_u=new g.OlP("MAT_DRAWER_CONTAINER");let Ys=(()=>{class f extends _a{constructor(s,h,C,S,z){super(C,S,z),this._changeDetectorRef=s,this._container=h}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}}return f.\u0275fac=function(s){return new(s||f)(g.Y36(g.sBO),g.Y36((0,g.Gpc)(()=>Zc)),g.Y36(g.SBq),g.Y36(Wc),g.Y36(g.R0b))},f.\u0275cmp=g.Xpm({type:f,selectors:[["mat-drawer-content"]],hostAttrs:[1,"mat-drawer-content"],hostVars:4,hostBindings:function(s,h){2&s&&g.Udp("margin-left",h._container._contentMargins.left,"px")("margin-right",h._container._contentMargins.right,"px")},features:[g._Bn([{provide:_a,useExisting:f}]),g.qOj],ngContentSelectors:nh,decls:1,vars:0,template:function(s,h){1&s&&(g.F$t(),g.Hsn(0))},encapsulation:2,changeDetection:0}),f})(),Pa=(()=>{class f{constructor(s,h,C,S,z,ee,ue,Ne){this._elementRef=s,this._focusTrapFactory=h,this._focusMonitor=C,this._platform=S,this._ngZone=z,this._interactivityChecker=ee,this._doc=ue,this._container=Ne,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new Le.x,this._animationEnd=new Le.x,this._animationState="void",this.openedChange=new g.vpe(!0),this._openedStream=this.openedChange.pipe((0,pi.h)(Ze=>Ze),(0,Cr.U)(()=>{})),this.openedStart=this._animationStarted.pipe((0,pi.h)(Ze=>Ze.fromState!==Ze.toState&&0===Ze.toState.indexOf("open")),(0,th.h)(void 0)),this._closedStream=this.openedChange.pipe((0,pi.h)(Ze=>!Ze),(0,Cr.U)(()=>{})),this.closedStart=this._animationStarted.pipe((0,pi.h)(Ze=>Ze.fromState!==Ze.toState&&"void"===Ze.toState),(0,th.h)(void 0)),this._destroyed=new Le.x,this.onPositionChanged=new g.vpe,this._modeChanged=new Le.x,this.openedChange.subscribe(Ze=>{Ze?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus(this._openedVia||"program")}),this._ngZone.runOutsideAngular(()=>{fu(this._elementRef.nativeElement,"keydown").pipe((0,pi.h)(Ze=>27===Ze.keyCode&&!this.disableClose&&!Ai(Ze)),an(this._destroyed)).subscribe(Ze=>this._ngZone.run(()=>{this.close(),Ze.stopPropagation(),Ze.preventDefault()}))}),this._animationEnd.pipe((0,U.x)((Ze,Lt)=>Ze.fromState===Lt.fromState&&Ze.toState===Lt.toState)).subscribe(Ze=>{const{fromState:Lt,toState:Wn}=Ze;(0===Wn.indexOf("open")&&"void"===Lt||"void"===Wn&&0===Lt.indexOf("open"))&&this.openedChange.emit(this._opened)})}get position(){return this._position}set position(s){(s="end"===s?"end":"start")!==this._position&&(this._isAttached&&this._updatePositionInParent(s),this._position=s,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(s){this._mode=s,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(s){this._disableClose=ot(s)}get autoFocus(){return this._autoFocus??("side"===this.mode?"dialog":"first-tabbable")}set autoFocus(s){("true"===s||"false"===s||null==s)&&(s=ot(s)),this._autoFocus=s}get opened(){return this._opened}set opened(s){this.toggle(ot(s))}_forceFocus(s,h){this._interactivityChecker.isFocusable(s)||(s.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const C=()=>{s.removeEventListener("blur",C),s.removeEventListener("mousedown",C),s.removeAttribute("tabindex")};s.addEventListener("blur",C),s.addEventListener("mousedown",C)})),s.focus(h)}_focusByCssSelector(s,h){let C=this._elementRef.nativeElement.querySelector(s);C&&this._forceFocus(C,h)}_takeFocus(){if(!this._focusTrap)return;const s=this._elementRef.nativeElement;switch(this.autoFocus){case!1:case"dialog":return;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(h=>{!h&&"function"==typeof this._elementRef.nativeElement.focus&&s.focus()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.autoFocus)}}_restoreFocus(s){"dialog"!==this.autoFocus&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,s):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null)}_isFocusWithinDrawer(){const s=this._doc.activeElement;return!!s&&this._elementRef.nativeElement.contains(s)}ngAfterViewInit(){this._isAttached=!0,this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState(),"end"===this._position&&this._updatePositionInParent("end")}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){this._focusTrap&&this._focusTrap.destroy(),this._anchor?.remove(),this._anchor=null,this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(s){return this.toggle(!0,s)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0,"mouse")}toggle(s=!this.opened,h){s&&h&&(this._openedVia=h);const C=this._setOpen(s,!s&&this._isFocusWithinDrawer(),this._openedVia||"program");return s||(this._openedVia=null),C}_setOpen(s,h,C){return this._opened=s,s?this._animationState=this._enableAnimations?"open":"open-instant":(this._animationState="void",h&&this._restoreFocus(C)),this._updateFocusTrapState(),new Promise(S=>{this.openedChange.pipe((0,$.q)(1)).subscribe(z=>S(z?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=this.opened&&"side"!==this.mode)}_updatePositionInParent(s){const h=this._elementRef.nativeElement,C=h.parentNode;"end"===s?(this._anchor||(this._anchor=this._doc.createComment("mat-drawer-anchor"),C.insertBefore(this._anchor,h)),C.appendChild(h)):this._anchor&&this._anchor.parentNode.insertBefore(h,this._anchor)}}return f.\u0275fac=function(s){return new(s||f)(g.Y36(g.SBq),g.Y36(Wa),g.Y36(Go),g.Y36(kn),g.Y36(g.R0b),g.Y36(hr),g.Y36(fe.K0,8),g.Y36(_u,8))},f.\u0275cmp=g.Xpm({type:f,selectors:[["mat-drawer"]],viewQuery:function(s,h){if(1&s&&g.Gf(Bl,5),2&s){let C;g.iGM(C=g.CRH())&&(h._content=C.first)}},hostAttrs:["tabIndex","-1",1,"mat-drawer"],hostVars:12,hostBindings:function(s,h){1&s&&g.WFA("@transform.start",function(S){return h._animationStarted.next(S)})("@transform.done",function(S){return h._animationEnd.next(S)}),2&s&&(g.uIk("align",null),g.d8E("@transform",h._animationState),g.ekj("mat-drawer-end","end"===h.position)("mat-drawer-over","over"===h.mode)("mat-drawer-push","push"===h.mode)("mat-drawer-side","side"===h.mode)("mat-drawer-opened",h.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],ngContentSelectors:nh,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(s,h){1&s&&(g.F$t(),g.TgZ(0,"div",0,1),g.Hsn(2),g.qZA())},dependencies:[_a],encapsulation:2,data:{animation:[Gc.transformDrawer]},changeDetection:0}),f})(),Zc=(()=>{class f{constructor(s,h,C,S,z,ee=!1,ue){this._dir=s,this._element=h,this._ngZone=C,this._changeDetectorRef=S,this._animationMode=ue,this._drawers=new g.n_E,this.backdropClick=new g.vpe,this._destroyed=new Le.x,this._doCheckSubject=new Le.x,this._contentMargins={left:null,right:null},this._contentMarginChanges=new Le.x,s&&s.change.pipe(an(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),z.change().pipe(an(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=ee}get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(s){this._autosize=ot(s)}get hasBackdrop(){return this._backdropOverride??(!this._start||"side"!==this._start.mode||!this._end||"side"!==this._end.mode)}set hasBackdrop(s){this._backdropOverride=null==s?null:ot(s)}get scrollable(){return this._userContent||this._content}ngAfterContentInit(){this._allDrawers.changes.pipe((0,ji.O)(this._allDrawers),an(this._destroyed)).subscribe(s=>{this._drawers.reset(s.filter(h=>!h._container||h._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe((0,ji.O)(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(s=>{this._watchDrawerToggle(s),this._watchDrawerPosition(s),this._watchDrawerMode(s)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe(As(10),an(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(s=>s.open())}close(){this._drawers.forEach(s=>s.close())}updateContentMargins(){let s=0,h=0;if(this._left&&this._left.opened)if("side"==this._left.mode)s+=this._left._getWidth();else if("push"==this._left.mode){const C=this._left._getWidth();s+=C,h-=C}if(this._right&&this._right.opened)if("side"==this._right.mode)h+=this._right._getWidth();else if("push"==this._right.mode){const C=this._right._getWidth();h+=C,s-=C}s=s||null,h=h||null,(s!==this._contentMargins.left||h!==this._contentMargins.right)&&(this._contentMargins={left:s,right:h},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(s){s._animationStarted.pipe((0,pi.h)(h=>h.fromState!==h.toState),an(this._drawers.changes)).subscribe(h=>{"open-instant"!==h.toState&&"NoopAnimations"!==this._animationMode&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),"side"!==s.mode&&s.openedChange.pipe(an(this._drawers.changes)).subscribe(()=>this._setContainerClass(s.opened))}_watchDrawerPosition(s){!s||s.onPositionChanged.pipe(an(this._drawers.changes)).subscribe(()=>{this._ngZone.onMicrotaskEmpty.pipe((0,$.q)(1)).subscribe(()=>{this._validateDrawers()})})}_watchDrawerMode(s){s&&s._modeChanged.pipe(an((0,qo.T)(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(s){const h=this._element.nativeElement.classList,C="mat-drawer-container-has-open";s?h.add(C):h.remove(C)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(s=>{"end"==s.position?this._end=s:this._start=s}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(s=>s&&!s.disableClose&&this._canHaveBackdrop(s)).forEach(s=>s._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._canHaveBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._canHaveBackdrop(this._end)}_canHaveBackdrop(s){return"side"!==s.mode||!!this._backdropOverride}_isDrawerOpen(s){return null!=s&&s.opened}}return f.\u0275fac=function(s){return new(s||f)(g.Y36(fn,8),g.Y36(g.SBq),g.Y36(g.R0b),g.Y36(g.sBO),g.Y36(Fl),g.Y36(vl),g.Y36(g.QbO,8))},f.\u0275cmp=g.Xpm({type:f,selectors:[["mat-drawer-container"]],contentQueries:function(s,h,C){if(1&s&&(g.Suo(C,Ys,5),g.Suo(C,Pa,5)),2&s){let S;g.iGM(S=g.CRH())&&(h._content=S.first),g.iGM(S=g.CRH())&&(h._allDrawers=S)}},viewQuery:function(s,h){if(1&s&&g.Gf(Ys,5),2&s){let C;g.iGM(C=g.CRH())&&(h._userContent=C.first)}},hostAttrs:[1,"mat-drawer-container"],hostVars:2,hostBindings:function(s,h){2&s&&g.ekj("mat-drawer-container-explicit-backdrop",h._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],features:[g._Bn([{provide:_u,useExisting:f}])],ngContentSelectors:af,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(s,h){1&s&&(g.F$t(rh),g.YNc(0,Fo,1,2,"div",0),g.Hsn(1),g.Hsn(2,1),g.YNc(3,sf,2,0,"mat-drawer-content",1)),2&s&&(g.Q6J("ngIf",h.hasBackdrop),g.xp6(3),g.Q6J("ngIf",!h._content))},dependencies:[fe.O5,Ys],styles:['.mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}'],encapsulation:2,changeDetection:0}),f})(),cf=(()=>{class f{}return f.\u0275fac=function(s){return new(s||f)},f.\u0275mod=g.oAB({type:f}),f.\u0275inj=g.cJS({imports:[fe.ez,Sr,zc,zc,Sr]}),f})();var oh=k(2843),Qn=k(4128),Hl=k(262),jl=k(8746),Wl=k(3099),Kl=k(529);const qc=["*"];let bl;function El(f){return function ns(){if(void 0===bl&&(bl=null,typeof window<"u")){const f=window;void 0!==f.trustedTypes&&(bl=f.trustedTypes.createPolicy("angular#components",{createHTML:l=>l}))}return bl}()?.createHTML(f)||f}function Yc(f){return Error(`Unable to find icon with the name "${f}"`)}function Ra(f){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${f}".`)}function bc(f){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${f}".`)}class ea{constructor(l,s,h){this.url=l,this.svgText=s,this.options=h}}let yu=(()=>{class f{constructor(s,h,C,S){this._httpClient=s,this._sanitizer=h,this._errorHandler=S,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=C}addSvgIcon(s,h,C){return this.addSvgIconInNamespace("",s,h,C)}addSvgIconLiteral(s,h,C){return this.addSvgIconLiteralInNamespace("",s,h,C)}addSvgIconInNamespace(s,h,C,S){return this._addSvgIconConfig(s,h,new ea(C,null,S))}addSvgIconResolver(s){return this._resolvers.push(s),this}addSvgIconLiteralInNamespace(s,h,C,S){const z=this._sanitizer.sanitize(g.q3G.HTML,C);if(!z)throw bc(C);const ee=El(z);return this._addSvgIconConfig(s,h,new ea("",ee,S))}addSvgIconSet(s,h){return this.addSvgIconSetInNamespace("",s,h)}addSvgIconSetLiteral(s,h){return this.addSvgIconSetLiteralInNamespace("",s,h)}addSvgIconSetInNamespace(s,h,C){return this._addSvgIconSetConfig(s,new ea(h,null,C))}addSvgIconSetLiteralInNamespace(s,h,C){const S=this._sanitizer.sanitize(g.q3G.HTML,h);if(!S)throw bc(h);const z=El(S);return this._addSvgIconSetConfig(s,new ea("",z,C))}registerFontClassAlias(s,h=s){return this._fontCssClassesByAlias.set(s,h),this}classNameForFontAlias(s){return this._fontCssClassesByAlias.get(s)||s}setDefaultFontSetClass(...s){return this._defaultFontSetClass=s,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(s){const h=this._sanitizer.sanitize(g.q3G.RESOURCE_URL,s);if(!h)throw Ra(s);const C=this._cachedIconsByUrl.get(h);return C?(0,Un.of)(fd(C)):this._loadSvgIconFromConfig(new ea(s,null)).pipe((0,Yi.b)(S=>this._cachedIconsByUrl.set(h,S)),(0,Cr.U)(S=>fd(S)))}getNamedSvgIcon(s,h=""){const C=rs(h,s);let S=this._svgIconConfigs.get(C);if(S)return this._getSvgFromConfig(S);if(S=this._getIconConfigFromResolvers(h,s),S)return this._svgIconConfigs.set(C,S),this._getSvgFromConfig(S);const z=this._iconSetConfigs.get(h);return z?this._getSvgFromIconSetConfigs(s,z):(0,oh._)(Yc(C))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(s){return s.svgText?(0,Un.of)(fd(this._svgElementFromConfig(s))):this._loadSvgIconFromConfig(s).pipe((0,Cr.U)(h=>fd(h)))}_getSvgFromIconSetConfigs(s,h){const C=this._extractIconWithNameFromAnySet(s,h);if(C)return(0,Un.of)(C);const S=h.filter(z=>!z.svgText).map(z=>this._loadSvgIconSetFromConfig(z).pipe((0,Hl.K)(ee=>{const Ne=`Loading icon set URL: ${this._sanitizer.sanitize(g.q3G.RESOURCE_URL,z.url)} failed: ${ee.message}`;return this._errorHandler.handleError(new Error(Ne)),(0,Un.of)(null)})));return(0,Qn.D)(S).pipe((0,Cr.U)(()=>{const z=this._extractIconWithNameFromAnySet(s,h);if(!z)throw Yc(s);return z}))}_extractIconWithNameFromAnySet(s,h){for(let C=h.length-1;C>=0;C--){const S=h[C];if(S.svgText&&S.svgText.toString().indexOf(s)>-1){const z=this._svgElementFromConfig(S),ee=this._extractSvgIconFromSet(z,s,S.options);if(ee)return ee}}return null}_loadSvgIconFromConfig(s){return this._fetchIcon(s).pipe((0,Yi.b)(h=>s.svgText=h),(0,Cr.U)(()=>this._svgElementFromConfig(s)))}_loadSvgIconSetFromConfig(s){return s.svgText?(0,Un.of)(null):this._fetchIcon(s).pipe((0,Yi.b)(h=>s.svgText=h))}_extractSvgIconFromSet(s,h,C){const S=s.querySelector(`[id="${h}"]`);if(!S)return null;const z=S.cloneNode(!0);if(z.removeAttribute("id"),"svg"===z.nodeName.toLowerCase())return this._setSvgAttributes(z,C);if("symbol"===z.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(z),C);const ee=this._svgElementFromString(El("<svg></svg>"));return ee.appendChild(z),this._setSvgAttributes(ee,C)}_svgElementFromString(s){const h=this._document.createElement("DIV");h.innerHTML=s;const C=h.querySelector("svg");if(!C)throw Error("<svg> tag not found");return C}_toSvgElement(s){const h=this._svgElementFromString(El("<svg></svg>")),C=s.attributes;for(let S=0;S<C.length;S++){const{name:z,value:ee}=C[S];"id"!==z&&h.setAttribute(z,ee)}for(let S=0;S<s.childNodes.length;S++)s.childNodes[S].nodeType===this._document.ELEMENT_NODE&&h.appendChild(s.childNodes[S].cloneNode(!0));return h}_setSvgAttributes(s,h){return s.setAttribute("fit",""),s.setAttribute("height","100%"),s.setAttribute("width","100%"),s.setAttribute("preserveAspectRatio","xMidYMid meet"),s.setAttribute("focusable","false"),h&&h.viewBox&&s.setAttribute("viewBox",h.viewBox),s}_fetchIcon(s){const{url:h,options:C}=s,S=C?.withCredentials??!1;if(!this._httpClient)throw function uf(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==h)throw Error(`Cannot fetch icon from URL "${h}".`);const z=this._sanitizer.sanitize(g.q3G.RESOURCE_URL,h);if(!z)throw Ra(h);const ee=this._inProgressUrlFetches.get(z);if(ee)return ee;const ue=this._httpClient.get(z,{responseType:"text",withCredentials:S}).pipe((0,Cr.U)(Ne=>El(Ne)),(0,jl.x)(()=>this._inProgressUrlFetches.delete(z)),(0,Wl.B)());return this._inProgressUrlFetches.set(z,ue),ue}_addSvgIconConfig(s,h,C){return this._svgIconConfigs.set(rs(s,h),C),this}_addSvgIconSetConfig(s,h){const C=this._iconSetConfigs.get(s);return C?C.push(h):this._iconSetConfigs.set(s,[h]),this}_svgElementFromConfig(s){if(!s.svgElement){const h=this._svgElementFromString(s.svgText);this._setSvgAttributes(h,s.options),s.svgElement=h}return s.svgElement}_getIconConfigFromResolvers(s,h){for(let C=0;C<this._resolvers.length;C++){const S=this._resolvers[C](h,s);if(S)return lh(S)?new ea(S.url,null,S.options):new ea(S,null)}}}return f.\u0275fac=function(s){return new(s||f)(g.LFG(Kl.eN,8),g.LFG(y.H7),g.LFG(fe.K0,8),g.LFG(g.qLn))},f.\u0275prov=g.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"}),f})();function fd(f){return f.cloneNode(!0)}function rs(f,l){return f+":"+l}function lh(f){return!(!f.url||!f.options)}const ch=zs(class{constructor(f){this._elementRef=f}}),I=new g.OlP("MAT_ICON_DEFAULT_OPTIONS"),m=new g.OlP("mat-icon-location",{providedIn:"root",factory:function E(){const f=(0,g.f3M)(fe.K0),l=f?f.location:null;return{getPathname:()=>l?l.pathname+l.search:""}}}),x=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],q=x.map(f=>`[${f}]`).join(", "),se=/^url\(['"]?#(.*?)['"]?\)$/;let Ve=(()=>{class f extends ch{constructor(s,h,C,S,z,ee){super(s),this._iconRegistry=h,this._location=S,this._errorHandler=z,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=Me.w0.EMPTY,ee&&(ee.color&&(this.color=this.defaultColor=ee.color),ee.fontSet&&(this.fontSet=ee.fontSet)),C||s.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(s){this._inline=ot(s)}get svgIcon(){return this._svgIcon}set svgIcon(s){s!==this._svgIcon&&(s?this._updateSvgIcon(s):this._svgIcon&&this._clearSvgElement(),this._svgIcon=s)}get fontSet(){return this._fontSet}set fontSet(s){const h=this._cleanupFontValue(s);h!==this._fontSet&&(this._fontSet=h,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(s){const h=this._cleanupFontValue(s);h!==this._fontIcon&&(this._fontIcon=h,this._updateFontIconClasses())}_splitIconName(s){if(!s)return["",""];const h=s.split(":");switch(h.length){case 1:return["",h[0]];case 2:return h;default:throw Error(`Invalid icon name: "${s}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const s=this._elementsWithExternalReferences;if(s&&s.size){const h=this._location.getPathname();h!==this._previousPath&&(this._previousPath=h,this._prependPathToReferences(h))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(s){this._clearSvgElement();const h=this._location.getPathname();this._previousPath=h,this._cacheChildrenWithExternalReferences(s),this._prependPathToReferences(h),this._elementRef.nativeElement.appendChild(s)}_clearSvgElement(){const s=this._elementRef.nativeElement;let h=s.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();h--;){const C=s.childNodes[h];(1!==C.nodeType||"svg"===C.nodeName.toLowerCase())&&C.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const s=this._elementRef.nativeElement,h=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(C=>C.length>0);this._previousFontSetClass.forEach(C=>s.classList.remove(C)),h.forEach(C=>s.classList.add(C)),this._previousFontSetClass=h,this.fontIcon!==this._previousFontIconClass&&!h.includes("mat-ligature-font")&&(this._previousFontIconClass&&s.classList.remove(this._previousFontIconClass),this.fontIcon&&s.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(s){return"string"==typeof s?s.trim().split(" ")[0]:s}_prependPathToReferences(s){const h=this._elementsWithExternalReferences;h&&h.forEach((C,S)=>{C.forEach(z=>{S.setAttribute(z.name,`url('${s}#${z.value}')`)})})}_cacheChildrenWithExternalReferences(s){const h=s.querySelectorAll(q),C=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let S=0;S<h.length;S++)x.forEach(z=>{const ee=h[S],ue=ee.getAttribute(z),Ne=ue?ue.match(se):null;if(Ne){let Ze=C.get(ee);Ze||(Ze=[],C.set(ee,Ze)),Ze.push({name:z,value:Ne[1]})}})}_updateSvgIcon(s){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),s){const[h,C]=this._splitIconName(s);h&&(this._svgNamespace=h),C&&(this._svgName=C),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(C,h).pipe((0,$.q)(1)).subscribe(S=>this._setSvgElement(S),S=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${h}:${C}! ${S.message}`))})}}}return f.\u0275fac=function(s){return new(s||f)(g.Y36(g.SBq),g.Y36(yu),g.$8M("aria-hidden"),g.Y36(m),g.Y36(g.qLn),g.Y36(I,8))},f.\u0275cmp=g.Xpm({type:f,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(s,h){2&s&&(g.uIk("data-mat-icon-type",h._usingFontIcon()?"font":"svg")("data-mat-icon-name",h._svgName||h.fontIcon)("data-mat-icon-namespace",h._svgNamespace||h.fontSet),g.ekj("mat-icon-inline",h.inline)("mat-icon-no-color","primary"!==h.color&&"accent"!==h.color&&"warn"!==h.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[g.qOj],ngContentSelectors:qc,decls:1,vars:0,template:function(s,h){1&s&&(g.F$t(),g.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0}),f})(),ht=(()=>{class f{}return f.\u0275fac=function(s){return new(s||f)},f.\u0275mod=g.oAB({type:f}),f.\u0275inj=g.cJS({imports:[Sr,Sr]}),f})();const Jt=["*",[["mat-toolbar-row"]]],yn=["*","mat-toolbar-row"],Rn=zs(class{constructor(f){this._elementRef=f}});let Sn=(()=>{class f{}return f.\u0275fac=function(s){return new(s||f)},f.\u0275dir=g.lG2({type:f,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),f})(),ds=(()=>{class f extends Rn{constructor(s,h,C){super(s),this._platform=h,this._document=C}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return f.\u0275fac=function(s){return new(s||f)(g.Y36(g.SBq),g.Y36(kn),g.Y36(fe.K0))},f.\u0275cmp=g.Xpm({type:f,selectors:[["mat-toolbar"]],contentQueries:function(s,h,C){if(1&s&&g.Suo(C,Sn,5),2&s){let S;g.iGM(S=g.CRH())&&(h._toolbarRows=S)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(s,h){2&s&&g.ekj("mat-toolbar-multiple-rows",h._toolbarRows.length>0)("mat-toolbar-single-row",0===h._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[g.qOj],ngContentSelectors:yn,decls:2,vars:0,template:function(s,h){1&s&&(g.F$t(Jt),g.Hsn(0),g.Hsn(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}"],encapsulation:2,changeDetection:0}),f})(),Qc=(()=>{class f{}return f.\u0275fac=function(s){return new(s||f)},f.\u0275mod=g.oAB({type:f}),f.\u0275inj=g.cJS({imports:[Sr,Sr]}),f})();const pd=["mat-button",""],bu=["*"],Eu=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],Xc=zs(Eo(Rr(class{constructor(f){this._elementRef=f}})));let Jc=(()=>{class f extends Xc{constructor(s,h,C){super(s),this._focusMonitor=h,this._animationMode=C,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const S of Eu)this._hasHostAttributes(S)&&this._getHostElement().classList.add(S);s.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(s,h){s?this._focusMonitor.focusVia(this._getHostElement(),s,h):this._getHostElement().focus(h)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...s){return s.some(h=>this._getHostElement().hasAttribute(h))}}return f.\u0275fac=function(s){return new(s||f)(g.Y36(g.SBq),g.Y36(Go),g.Y36(g.QbO,8))},f.\u0275cmp=g.Xpm({type:f,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(s,h){if(1&s&&g.Gf(we,5),2&s){let C;g.iGM(C=g.CRH())&&(h.ripple=C.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(s,h){2&s&&(g.uIk("disabled",h.disabled||null),g.ekj("_mat-animation-noopable","NoopAnimations"===h._animationMode)("mat-button-disabled",h.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[g.qOj],attrs:pd,ngContentSelectors:bu,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(s,h){1&s&&(g.F$t(),g.TgZ(0,"span",0),g.Hsn(1),g.qZA(),g._UZ(2,"span",1)(3,"span",2)),2&s&&(g.xp6(2),g.ekj("mat-button-ripple-round",h.isRoundButton||h.isIconButton),g.Q6J("matRippleDisabled",h._isRippleDisabled())("matRippleCentered",h.isIconButton)("matRippleTrigger",h._getHostElement()))},dependencies:[we],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}.mat-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.mat-flat-button::before,.mat-raised-button::before,.mat-fab::before,.mat-mini-fab::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-stroked-button::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px) * -1)}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}"],encapsulation:2,changeDetection:0}),f})(),ff=(()=>{class f{}return f.\u0275fac=function(s){return new(s||f)},f.\u0275mod=g.oAB({type:f}),f.\u0275inj=g.cJS({imports:[dt,Sr,Sr]}),f})();function Vg(f,l){if(1&f&&(g.TgZ(0,"button",13),g._uU(1),g.qZA()),2&f){const s=l.$implicit;g.s9C("routerLinkActive",s.class),g.Q6J("routerLink",s.link),g.xp6(1),g.Oqu(s.name)}}function uh(f,l){if(1&f&&(g.TgZ(0,"div")(1,"button",14),g._uU(2),g.qZA()()),2&f){const s=l.$implicit;g.xp6(1),g.s9C("routerLinkActive",s.class),g.Q6J("routerLink",s.link),g.xp6(1),g.Oqu(s.name)}}let Uo=(()=>{class f{constructor(s,h){this.firestore=s,this.router=h,this.menu=[],this.contentScreenHeight=800,this.contentScreenHeight=window.innerHeight-110}ngOnInit(){this.loadMenu(),this.firestore.UserUpdateEvent.subscribe(s=>{this.user=s,this.loadMenu()})}onResize(s){this.contentScreenHeight=window.innerHeight-110}loadMenu(){let s=[];null==this.user?(s.push({name:"Home",link:"/home",class:"active-link"}),s.push({name:"Our Services",link:"/our-services",class:"active-link"}),s.push({name:"Our Workflow",link:"/workflow",class:"active-link"}),s.push({name:"FAQ",link:"/faq",class:"active-link"}),s.push({name:"Login",link:"/login",class:"active-link"}),s.push({name:"Contact",link:"/contact-us",class:"active-link"})):(s.push({name:"Dashboard",link:"/dashboard",class:"active-link"}),s.push({name:"My Profile",link:"/profile",class:"active-link"}),s.push({name:"My Orders",link:"/orders",class:"active-link"}),s.push({name:"Logout",link:"/login",class:"active-link"})),this.menu=s}}return f.\u0275fac=function(s){return new(s||f)(g.Y36($d.C),g.Y36(me.F0))},f.\u0275cmp=g.Xpm({type:f,selectors:[["app-header"]],hostBindings:function(s,h){1&s&&g.NdJ("resize",function(S){return h.onResize(S)},!1,g.Jf7)},decls:29,vars:5,consts:[[1,"d-block","d-md-none"],["mat-icon-button","",3,"click"],["src","assets/icons/tp-icon.png","alt","logo",1,"logo"],[1,"title-cap"],[1,"title-sm"],[1,"example-spacer"],[1,"d-none","d-md-block"],["mat-button","",3,"routerLink","routerLinkActive",4,"ngFor","ngForOf"],[1,"example-container",3,"hasBackdrop"],["mode","over"],["drawer",""],[2,"margin","0 10px"],[4,"ngFor","ngForOf"],["mat-button","",3,"routerLink","routerLinkActive"],["mat-button","",1,"menu-left",3,"routerLink","routerLinkActive"]],template:function(s,h){if(1&s){const C=g.EpF();g.TgZ(0,"mat-toolbar")(1,"div",0)(2,"button",1),g.NdJ("click",function(){g.CHM(C);const z=g.MAs(25);return g.KtG(z.toggle())}),g.TgZ(3,"mat-icon"),g._uU(4,"menu"),g.qZA()()(),g.TgZ(5,"span"),g._UZ(6,"img",2),g.qZA(),g.TgZ(7,"span")(8,"span",3),g._uU(9,"T"),g.qZA(),g.TgZ(10,"span",4),g._uU(11,"RANSFER "),g.qZA(),g.TgZ(12,"span",3),g._uU(13,"P"),g.qZA(),g.TgZ(14,"span",4),g._uU(15,"RICING "),g.qZA(),g.TgZ(16,"span",3),g._uU(17,".I"),g.qZA(),g.TgZ(18,"span",4),g._uU(19,"N"),g.qZA()(),g._UZ(20,"span",5),g.TgZ(21,"div",6),g.YNc(22,Vg,2,3,"button",7),g.qZA()(),g.TgZ(23,"mat-drawer-container",8)(24,"mat-drawer",9,10)(26,"div",11),g.YNc(27,uh,3,3,"div",12),g.qZA()(),g._UZ(28,"router-outlet"),g.qZA()}2&s&&(g.xp6(22),g.Q6J("ngForOf",h.menu),g.xp6(1),g.Udp("height",h.contentScreenHeight,"px"),g.Q6J("hasBackdrop",!0),g.xp6(4),g.Q6J("ngForOf",h.menu))},dependencies:[fe.sg,me.lC,me.rH,me.Od,Pa,Zc,Ve,ds,Jc],styles:[".mat-toolbar-row[_ngcontent-%COMP%], .mat-toolbar-single-row[_ngcontent-%COMP%]{height:80px;background-color:#fff;color:#000}.logo[_ngcontent-%COMP%]{height:50px;margin-right:15px}.title-cap[_ngcontent-%COMP%]{font-size:35px;color:red}.title-sm[_ngcontent-%COMP%]{font-size:25px;color:teal}.example-spacer[_ngcontent-%COMP%]{flex:1 1 auto}.mat-drawer[_ngcontent-%COMP%]{min-width:30%}.mat-toolbar[_ngcontent-%COMP%]{box-shadow:0 3px 5px -1px #0003,0 6px 10px #00000024,0 1px 18px #0000001f}button[_ngcontent-%COMP%]{border-bottom:2px solid transparent;border-radius:0;font-weight:600}button.active-link[_ngcontent-%COMP%]{border-bottom:2px solid gold}router-outlet[_ngcontent-%COMP%]{margin-top:10px}.menu-left[_ngcontent-%COMP%]{font-size:18px;font-weight:500;width:100%;text-align:center}@media only screen and (max-width: 500px){.title-cap[_ngcontent-%COMP%]{font-size:30px}.title-sm[_ngcontent-%COMP%]{font-size:20px}.logo[_ngcontent-%COMP%]{height:40px;margin-right:10px}}"]}),f})(),Py=(()=>{class f{constructor(){}ngOnInit(){}}return f.\u0275fac=function(s){return new(s||f)},f.\u0275cmp=g.Xpm({type:f,selectors:[["app-footer"]],decls:5,vars:0,consts:[[1,"example-spacer"]],template:function(s,h){1&s&&(g.TgZ(0,"mat-toolbar"),g._UZ(1,"span",0),g.TgZ(2,"span"),g._uU(3,"\xa9 Design and Development by V.V.S.K Chaitanya"),g.qZA(),g._UZ(4,"span",0),g.qZA())},dependencies:[ds],styles:["mat-toolbar[_ngcontent-%COMP%]{position:absolute;bottom:0;font-size:15px;height:30px}.example-spacer[_ngcontent-%COMP%]{flex:1 1 auto}"]}),f})();var Ep=k(184);function Cl(f,l){if(1&f&&(g.O4$(),g._UZ(0,"circle",4)),2&f){const s=g.oxw(),h=g.MAs(1);g.Udp("animation-name","mat-progress-spinner-stroke-rotate-"+s._spinnerAnimationLabel)("stroke-dashoffset",s._getStrokeDashOffset(),"px")("stroke-dasharray",s._getStrokeCircumference(),"px")("stroke-width",s._getCircleStrokeWidth(),"%")("transform-origin",s._getCircleTransformOrigin(h)),g.uIk("r",s._getCircleRadius())}}function pf(f,l){if(1&f&&(g.O4$(),g._UZ(0,"circle",4)),2&f){const s=g.oxw(),h=g.MAs(1);g.Udp("stroke-dashoffset",s._getStrokeDashOffset(),"px")("stroke-dasharray",s._getStrokeCircumference(),"px")("stroke-width",s._getCircleStrokeWidth(),"%")("transform-origin",s._getCircleTransformOrigin(h)),g.uIk("r",s._getCircleRadius())}}const Hg=zs(class{constructor(f){this._elementRef=f}},"primary"),Dp=new g.OlP("mat-progress-spinner-default-options",{providedIn:"root",factory:function p_(){return{diameter:100}}});class La extends Hg{constructor(l,s,h,C,S,z,ee,ue){super(l),this._document=h,this._diameter=100,this._value=0,this._resizeSubscription=Me.w0.EMPTY,this.mode="determinate";const Ne=La._diameters;this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),Ne.has(h.head)||Ne.set(h.head,new Set([100])),this._noopAnimations="NoopAnimations"===C&&!!S&&!S._forceAnimations,"mat-spinner"===l.nativeElement.nodeName.toLowerCase()&&(this.mode="indeterminate"),S&&(S.color&&(this.color=this.defaultColor=S.color),S.diameter&&(this.diameter=S.diameter),S.strokeWidth&&(this.strokeWidth=S.strokeWidth)),s.isBrowser&&s.SAFARI&&ee&&z&&ue&&(this._resizeSubscription=ee.change(150).subscribe(()=>{"indeterminate"===this.mode&&ue.run(()=>z.markForCheck())}))}get diameter(){return this._diameter}set diameter(l){this._diameter=nt(l),this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),this._styleRoot&&this._attachStyleNode()}get strokeWidth(){return this._strokeWidth||this.diameter/10}set strokeWidth(l){this._strokeWidth=nt(l)}get value(){return"determinate"===this.mode?this._value:0}set value(l){this._value=Math.max(0,Math.min(100,nt(l)))}ngOnInit(){const l=this._elementRef.nativeElement;this._styleRoot=yt(l)||this._document.head,this._attachStyleNode(),l.classList.add("mat-progress-spinner-indeterminate-animation")}ngOnDestroy(){this._resizeSubscription.unsubscribe()}_getCircleRadius(){return(this.diameter-10)/2}_getViewBox(){const l=2*this._getCircleRadius()+this.strokeWidth;return`0 0 ${l} ${l}`}_getStrokeCircumference(){return 2*Math.PI*this._getCircleRadius()}_getStrokeDashOffset(){return"determinate"===this.mode?this._getStrokeCircumference()*(100-this._value)/100:null}_getCircleStrokeWidth(){return this.strokeWidth/this.diameter*100}_getCircleTransformOrigin(l){const s=50*(l.currentScale??1);return`${s}% ${s}%`}_attachStyleNode(){const l=this._styleRoot,s=this._diameter,h=La._diameters;let C=h.get(l);if(!C||!C.has(s)){const S=this._document.createElement("style");S.setAttribute("mat-spinner-animation",this._spinnerAnimationLabel),S.textContent=this._getAnimationText(),l.appendChild(S),C||(C=new Set,h.set(l,C)),C.add(s)}}_getAnimationText(){const l=this._getStrokeCircumference();return"\n @keyframes mat-progress-spinner-stroke-rotate-DIAMETER {\n    0%      { stroke-dashoffset: START_VALUE;  transform: rotate(0); }\n    12.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(0); }\n    12.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(72.5deg); }\n    25%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(72.5deg); }\n\n    25.0001%   { stroke-dashoffset: START_VALUE;  transform: rotate(270deg); }\n    37.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(270deg); }\n    37.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(161.5deg); }\n    50%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(161.5deg); }\n\n    50.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(180deg); }\n    62.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(180deg); }\n    62.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(251.5deg); }\n    75%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(251.5deg); }\n\n    75.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(90deg); }\n    87.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(90deg); }\n    87.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(341.5deg); }\n    100%    { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(341.5deg); }\n  }\n".replace(/START_VALUE/g,""+.95*l).replace(/END_VALUE/g,""+.2*l).replace(/DIAMETER/g,`${this._spinnerAnimationLabel}`)}_getSpinnerAnimationLabel(){return this.diameter.toString().replace(".","_")}}La._diameters=new WeakMap,La.\u0275fac=function(l){return new(l||La)(g.Y36(g.SBq),g.Y36(kn),g.Y36(fe.K0,8),g.Y36(g.QbO,8),g.Y36(Dp),g.Y36(g.sBO),g.Y36(Fl),g.Y36(g.R0b))},La.\u0275cmp=g.Xpm({type:La,selectors:[["mat-progress-spinner"],["mat-spinner"]],hostAttrs:["role","progressbar","tabindex","-1",1,"mat-progress-spinner","mat-spinner"],hostVars:10,hostBindings:function(l,s){2&l&&(g.uIk("aria-valuemin","determinate"===s.mode?0:null)("aria-valuemax","determinate"===s.mode?100:null)("aria-valuenow","determinate"===s.mode?s.value:null)("mode",s.mode),g.Udp("width",s.diameter,"px")("height",s.diameter,"px"),g.ekj("_mat-animation-noopable",s._noopAnimations))},inputs:{color:"color",diameter:"diameter",strokeWidth:"strokeWidth",mode:"mode",value:"value"},exportAs:["matProgressSpinner"],features:[g.qOj],decls:4,vars:8,consts:[["preserveAspectRatio","xMidYMid meet","focusable","false","aria-hidden","true",3,"ngSwitch"],["svg",""],["cx","50%","cy","50%",3,"animation-name","stroke-dashoffset","stroke-dasharray","stroke-width","transform-origin",4,"ngSwitchCase"],["cx","50%","cy","50%",3,"stroke-dashoffset","stroke-dasharray","stroke-width","transform-origin",4,"ngSwitchCase"],["cx","50%","cy","50%"]],template:function(l,s){1&l&&(g.O4$(),g.TgZ(0,"svg",0,1),g.YNc(2,Cl,1,11,"circle",2),g.YNc(3,pf,1,9,"circle",3),g.qZA()),2&l&&(g.Udp("width",s.diameter,"px")("height",s.diameter,"px"),g.Q6J("ngSwitch","indeterminate"===s.mode),g.uIk("viewBox",s._getViewBox()),g.xp6(2),g.Q6J("ngSwitchCase",!0),g.xp6(1),g.Q6J("ngSwitchCase",!1))},dependencies:[fe.RF,fe.n9],styles:[".mat-progress-spinner{display:block;position:relative;overflow:hidden}.mat-progress-spinner svg{position:absolute;transform:rotate(-90deg);top:0;left:0;transform-origin:center;overflow:visible}.mat-progress-spinner circle{fill:rgba(0,0,0,0);transition:stroke-dashoffset 225ms linear}.cdk-high-contrast-active .mat-progress-spinner circle{stroke:CanvasText}.mat-progress-spinner[mode=indeterminate] svg{animation:mat-progress-spinner-linear-rotate 2000ms linear infinite}.mat-progress-spinner[mode=indeterminate] circle{transition-property:stroke;animation-duration:4000ms;animation-timing-function:cubic-bezier(0.35, 0, 0.25, 1);animation-iteration-count:infinite}.mat-progress-spinner._mat-animation-noopable svg,.mat-progress-spinner._mat-animation-noopable circle{animation:none;transition:none}@keyframes mat-progress-spinner-linear-rotate{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes mat-progress-spinner-stroke-rotate-100{0%{stroke-dashoffset:268.606171575px;transform:rotate(0)}12.5%{stroke-dashoffset:56.5486677px;transform:rotate(0)}12.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(72.5deg)}25%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(72.5deg)}25.0001%{stroke-dashoffset:268.606171575px;transform:rotate(270deg)}37.5%{stroke-dashoffset:56.5486677px;transform:rotate(270deg)}37.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(161.5deg)}50%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(161.5deg)}50.0001%{stroke-dashoffset:268.606171575px;transform:rotate(180deg)}62.5%{stroke-dashoffset:56.5486677px;transform:rotate(180deg)}62.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(251.5deg)}75%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(251.5deg)}75.0001%{stroke-dashoffset:268.606171575px;transform:rotate(90deg)}87.5%{stroke-dashoffset:56.5486677px;transform:rotate(90deg)}87.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(341.5deg)}100%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(341.5deg)}}"],encapsulation:2,changeDetection:0});let g_=(()=>{class f{}return f.\u0275fac=function(s){return new(s||f)},f.\u0275mod=g.oAB({type:f}),f.\u0275inj=g.cJS({imports:[Sr,fe.ez,Sr]}),f})();function m_(f,l){if(1&f&&(g.TgZ(0,"div",1),g._UZ(1,"mat-progress-spinner",2),g.qZA()),2&f){const s=g.oxw();g.xp6(1),g.Q6J("color",s.color)}}let jg=(()=>{class f{constructor(s){this.loaderService=s,this.color="primary",this.value=50,this.isLoading=this.loaderService.isLoading}}return f.\u0275fac=function(s){return new(s||f)(g.Y36(Ep.D))},f.\u0275cmp=g.Xpm({type:f,selectors:[["app-loader"]],decls:2,vars:3,consts:[["class","overlay",4,"ngIf"],[1,"overlay"],["mode","indeterminate",1,"spinner",3,"color"]],template:function(s,h){1&s&&(g.YNc(0,m_,2,1,"div",0),g.ALo(1,"async")),2&s&&g.Q6J("ngIf",g.lcZ(1,1,h.isLoading))},dependencies:[fe.O5,La,fe.Ov],styles:[".overlay[_ngcontent-%COMP%]{position:fixed;display:block;width:100%;height:100%;top:0;left:0;background-color:#4a4a4acc;z-index:99999}.spinner[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}"]}),f})(),__=(()=>{class f{constructor(){this.title="webedu"}}return f.\u0275fac=function(s){return new(s||f)},f.\u0275cmp=g.Xpm({type:f,selectors:[["app-root"]],decls:4,vars:0,template:function(s,h){1&s&&g._UZ(0,"app-header")(1,"router-outlet")(2,"app-footer")(3,"app-loader")},dependencies:[me.lC,Uo,Py,jg]}),f})();const Wg_firebase={apiKey:"AIzaSyC_-QzpiYjm5nZFnekbnStXRcNfpp1C9tA",authDomain:"transfer-pricing-dev.firebaseapp.com",projectId:"transfer-pricing-dev",storageBucket:"transfer-pricing-dev.appspot.com",messagingSenderId:"620960304507",appId:"1:620960304507:web:68b366b199a5a52194c1de"};function Kg(f){return new g.vHH(3e3,!1)}function Sp(){return typeof window<"u"&&typeof window.document<"u"}function Iu(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function ta(f){switch(f.length){case 0:return new kt.ZN;case 1:return f[0];default:return new kt.ZE(f)}}function tu(f,l,s,h,C=new Map,S=new Map){const z=[],ee=[];let ue=-1,Ne=null;if(h.forEach(Ze=>{const Lt=Ze.get("offset"),Wn=Lt==ue,Bt=Wn&&Ne||new Map;Ze.forEach((_n,bn)=>{let Dr=bn,Lr=_n;if("offset"!==bn)switch(Dr=l.normalizePropertyName(Dr,z),Lr){case kt.k1:Lr=C.get(bn);break;case kt.l3:Lr=S.get(bn);break;default:Lr=l.normalizeStyleValue(bn,Dr,Lr,z)}Bt.set(Dr,Lr)}),Wn||ee.push(Bt),Ne=Bt,ue=Lt}),z.length)throw function yf(f){return new g.vHH(3502,!1)}();return ee}function nu(f,l,s,h){switch(l){case"start":f.onStart(()=>h(s&&xp(s,"start",f)));break;case"done":f.onDone(()=>h(s&&xp(s,"done",f)));break;case"destroy":f.onDestroy(()=>h(s&&xp(s,"destroy",f)))}}function xp(f,l,s){const S=Op(f.element,f.triggerName,f.fromState,f.toState,l||f.phaseName,s.totalTime??f.totalTime,!!s.disabled),z=f._data;return null!=z&&(S._data=z),S}function Op(f,l,s,h,C="",S=0,z){return{element:f,triggerName:l,fromState:s,toState:h,phaseName:C,totalTime:S,disabled:!!z}}function Do(f,l,s){let h=f.get(l);return h||f.set(l,h=s),h}function Mu(f){const l=f.indexOf(":");return[f.substring(1,l),f.slice(l+1)]}let Ef=(f,l)=>!1,Jg=(f,l,s)=>[],Dl=null;function ru(f){const l=f.parentNode||f.host;return l===Dl?null:l}(Iu()||typeof Element<"u")&&(Sp()?(Dl=(()=>document.documentElement)(),Ef=(f,l)=>{for(;l;){if(l===f)return!0;l=ru(l)}return!1}):Ef=(f,l)=>f.contains(l),Jg=(f,l,s)=>{if(s)return Array.from(f.querySelectorAll(l));const h=f.querySelector(l);return h?[h]:[]});let Gl=null,na=!1;const Rp=Ef,Ec=Jg;let fh=(()=>{class f{validateStyleProperty(s){return function tm(f){Gl||(Gl=function Cf(){return typeof document<"u"?document.body:null}()||{},na=!!Gl.style&&"WebkitAppearance"in Gl.style);let l=!0;return Gl.style&&!function em(f){return"ebkit"==f.substring(1,6)}(f)&&(l=f in Gl.style,!l&&na&&(l="Webkit"+f.charAt(0).toUpperCase()+f.slice(1)in Gl.style)),l}(s)}matchesElement(s,h){return!1}containsElement(s,h){return Rp(s,h)}getParentElement(s){return ru(s)}query(s,h,C){return Ec(s,h,C)}computeStyle(s,h,C){return C||""}animate(s,h,C,S,z,ee=[],ue){return new kt.ZN(C,S)}}return f.\u0275fac=function(s){return new(s||f)},f.\u0275prov=g.Yz7({token:f,factory:f.\u0275fac}),f})(),Zl=(()=>{class f{}return f.NOOP=new fh,f})();const wl="ng-enter",bd="ng-leave",ql="ng-trigger",ph=".ng-trigger",Lp="ng-animating",Np=".ng-animating";function Yl(f){if("number"==typeof f)return f;const l=f.match(/^(-?[\.\d]+)(m?s)/);return!l||l.length<2?0:Au(parseFloat(l[1]),l[2])}function Au(f,l){return"s"===l?1e3*f:f}function Df(f,l,s){return f.hasOwnProperty("duration")?f:function Fp(f,l,s){let C,S=0,z="";if("string"==typeof f){const ee=f.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===ee)return l.push(Kg()),{duration:0,delay:0,easing:""};C=Au(parseFloat(ee[1]),ee[2]);const ue=ee[3];null!=ue&&(S=Au(parseFloat(ue),ee[4]));const Ne=ee[5];Ne&&(z=Ne)}else C=f;if(!s){let ee=!1,ue=l.length;C<0&&(l.push(function Ip(){return new g.vHH(3100,!1)}()),ee=!0),S<0&&(l.push(function y_(){return new g.vHH(3101,!1)}()),ee=!0),ee&&l.splice(ue,0,Kg())}return{duration:C,delay:S,easing:z}}(f,l,s)}function Ed(f,l={}){return Object.keys(f).forEach(s=>{l[s]=f[s]}),l}function wf(f){const l=new Map;return Object.keys(f).forEach(s=>{l.set(s,f[s])}),l}function Xa(f,l=new Map,s){if(s)for(let[h,C]of s)l.set(h,C);for(let[h,C]of f)l.set(h,C);return l}function Cd(f,l,s){return s?l+":"+s+";":""}function Bp(f){let l="";for(let s=0;s<f.style.length;s++){const h=f.style.item(s);l+=Cd(0,h,f.style.getPropertyValue(h))}for(const s in f.style)f.style.hasOwnProperty(s)&&!s.startsWith("_")&&(l+=Cd(0,im(s),f.style[s]));f.setAttribute("style",l)}function Na(f,l,s){f.style&&(l.forEach((h,C)=>{const S=Dd(C);s&&!s.has(C)&&s.set(C,f.style[S]),f.style[S]=h}),Iu()&&Bp(f))}function iu(f,l){f.style&&(l.forEach((s,h)=>{const C=Dd(h);f.style[C]=""}),Iu()&&Bp(f))}function xu(f){return Array.isArray(f)?1==f.length?f[0]:(0,kt.vP)(f):f}const ks=new RegExp("{{\\s*(.+?)\\s*}}","g");function Up(f){let l=[];if("string"==typeof f){let s;for(;s=ks.exec(f);)l.push(s[1]);ks.lastIndex=0}return l}function If(f,l,s){const h=f.toString(),C=h.replace(ks,(S,z)=>{let ee=l[z];return null==ee&&(s.push(function v_(f){return new g.vHH(3003,!1)}()),ee=""),ee.toString()});return C==h?f:C}function Mf(f){const l=[];let s=f.next();for(;!s.done;)l.push(s.value),s=f.next();return l}const rm=/-+([a-z0-9])/g;function Dd(f){return f.replace(rm,(...l)=>l[1].toUpperCase())}function im(f){return f.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function ya(f,l,s){switch(l.type){case 7:return f.visitTrigger(l,s);case 0:return f.visitState(l,s);case 1:return f.visitTransition(l,s);case 2:return f.visitSequence(l,s);case 3:return f.visitGroup(l,s);case 4:return f.visitAnimate(l,s);case 5:return f.visitKeyframes(l,s);case 6:return f.visitStyle(l,s);case 8:return f.visitReference(l,s);case 9:return f.visitAnimateChild(l,s);case 10:return f.visitAnimateRef(l,s);case 11:return f.visitQuery(l,s);case 12:return f.visitStagger(l,s);default:throw function Mp(f){return new g.vHH(3004,!1)}()}}function gh(f,l){return window.getComputedStyle(f)[l]}function om(f,l){const s=[];return"string"==typeof f?f.split(/\s*,\s*/).forEach(h=>function Af(f,l,s){if(":"==f[0]){const ue=function D_(f,l){switch(f){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(s,h)=>parseFloat(h)>parseFloat(s);case":decrement":return(s,h)=>parseFloat(h)<parseFloat(s);default:return l.push(function wu(f){return new g.vHH(3016,!1)}()),"* => *"}}(f,s);if("function"==typeof ue)return void l.push(ue);f=ue}const h=f.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==h||h.length<4)return s.push(function eu(f){return new g.vHH(3015,!1)}()),l;const C=h[1],S=h[2],z=h[3];l.push(ir(C,z));"<"==S[0]&&!("*"==C&&"*"==z)&&l.push(ir(z,C))}(h,s,l)):s.push(f),s}const _h=new Set(["true","1"]),Sf=new Set(["false","0"]);function ir(f,l){const s=_h.has(f)||Sf.has(f),h=_h.has(l)||Sf.has(l);return(C,S)=>{let z="*"==f||f==C,ee="*"==l||l==S;return!z&&s&&"boolean"==typeof C&&(z=C?_h.has(f):Sf.has(f)),!ee&&h&&"boolean"==typeof S&&(ee=S?_h.has(l):Sf.has(l)),z&&ee}}const Pu=new RegExp("s*:selfs*,?","g");function Dc(f,l,s,h){return new Of(f).build(l,s,h)}class Of{constructor(l){this._driver=l}build(l,s,h){const C=new Kp(s);return this._resetContextStyleTimingState(C),ya(this,xu(l),C)}_resetContextStyleTimingState(l){l.currentQuerySelector="",l.collectedStyles=new Map,l.collectedStyles.set("",new Map),l.currentTime=0}visitTrigger(l,s){let h=s.queryCount=0,C=s.depCount=0;const S=[],z=[];return"@"==l.name.charAt(0)&&s.errors.push(function b_(){return new g.vHH(3006,!1)}()),l.definitions.forEach(ee=>{if(this._resetContextStyleTimingState(s),0==ee.type){const ue=ee,Ne=ue.name;Ne.toString().split(/\s*,\s*/).forEach(Ze=>{ue.name=Ze,S.push(this.visitState(ue,s))}),ue.name=Ne}else if(1==ee.type){const ue=this.visitTransition(ee,s);h+=ue.queryCount,C+=ue.depCount,z.push(ue)}else s.errors.push(function Co(){return new g.vHH(3007,!1)}())}),{type:7,name:l.name,states:S,transitions:z,queryCount:h,depCount:C,options:null}}visitState(l,s){const h=this.visitStyle(l.styles,s),C=l.options&&l.options.params||null;if(h.containsDynamicStyles){const S=new Set,z=C||{};h.styles.forEach(ee=>{ee instanceof Map&&ee.forEach(ue=>{Up(ue).forEach(Ne=>{z.hasOwnProperty(Ne)||S.add(Ne)})})}),S.size&&(Mf(S.values()),s.errors.push(function Rs(f,l){return new g.vHH(3008,!1)}()))}return{type:0,name:l.name,style:h,options:C?{params:C}:null}}visitTransition(l,s){s.queryCount=0,s.depCount=0;const h=ya(this,xu(l.animation),s);return{type:1,matchers:om(l.expr,s.errors),animation:h,queryCount:s.queryCount,depCount:s.depCount,options:Id(l.options)}}visitSequence(l,s){return{type:2,steps:l.steps.map(h=>ya(this,h,s)),options:Id(l.options)}}visitGroup(l,s){const h=s.currentTime;let C=0;const S=l.steps.map(z=>{s.currentTime=h;const ee=ya(this,z,s);return C=Math.max(C,s.currentTime),ee});return s.currentTime=C,{type:3,steps:S,options:Id(l.options)}}visitAnimate(l,s){const h=function $p(f,l){if(f.hasOwnProperty("duration"))return f;if("number"==typeof f)return Md(Df(f,l).duration,0,"");const s=f;if(s.split(/\s+/).some(S=>"{"==S.charAt(0)&&"{"==S.charAt(1))){const S=Md(0,0,"");return S.dynamic=!0,S.strValue=s,S}const C=Df(s,l);return Md(C.duration,C.delay,C.easing)}(l.timings,s.errors);s.currentAnimateTimings=h;let C,S=l.styles?l.styles:(0,kt.oB)({});if(5==S.type)C=this.visitKeyframes(S,s);else{let z=l.styles,ee=!1;if(!z){ee=!0;const Ne={};h.easing&&(Ne.easing=h.easing),z=(0,kt.oB)(Ne)}s.currentTime+=h.duration+h.delay;const ue=this.visitStyle(z,s);ue.isEmptyStep=ee,C=ue}return s.currentAnimateTimings=null,{type:4,timings:h,style:C,options:null}}visitStyle(l,s){const h=this._makeStyleAst(l,s);return this._validateStyleAst(h,s),h}_makeStyleAst(l,s){const h=[],C=Array.isArray(l.styles)?l.styles:[l.styles];for(let ee of C)"string"==typeof ee?ee===kt.l3?h.push(ee):s.errors.push(new g.vHH(3002,!1)):h.push(wf(ee));let S=!1,z=null;return h.forEach(ee=>{if(ee instanceof Map&&(ee.has("easing")&&(z=ee.get("easing"),ee.delete("easing")),!S))for(let ue of ee.values())if(ue.toString().indexOf("{{")>=0){S=!0;break}}),{type:6,styles:h,easing:z,offset:l.offset,containsDynamicStyles:S,options:null}}_validateStyleAst(l,s){const h=s.currentAnimateTimings;let C=s.currentTime,S=s.currentTime;h&&S>0&&(S-=h.duration+h.delay),l.styles.forEach(z=>{"string"!=typeof z&&z.forEach((ee,ue)=>{const Ne=s.collectedStyles.get(s.currentQuerySelector),Ze=Ne.get(ue);let Lt=!0;Ze&&(S!=C&&S>=Ze.startTime&&C<=Ze.endTime&&(s.errors.push(function oo(f,l,s,h,C){return new g.vHH(3010,!1)}()),Lt=!1),S=Ze.startTime),Lt&&Ne.set(ue,{startTime:S,endTime:C}),s.options&&function Ou(f,l,s){const h=l.params||{},C=Up(f);C.length&&C.forEach(S=>{h.hasOwnProperty(S)||s.push(function $g(f){return new g.vHH(3001,!1)}())})}(ee,s.options,s.errors)})})}visitKeyframes(l,s){const h={type:5,styles:[],options:null};if(!s.currentAnimateTimings)return s.errors.push(function Qa(){return new g.vHH(3011,!1)}()),h;let S=0;const z=[];let ee=!1,ue=!1,Ne=0;const Ze=l.steps.map(Lr=>{const ys=this._makeStyleAst(Lr,s);let Js=null!=ys.offset?ys.offset:function w_(f){if("string"==typeof f)return null;let l=null;if(Array.isArray(f))f.forEach(s=>{if(s instanceof Map&&s.has("offset")){const h=s;l=parseFloat(h.get("offset")),h.delete("offset")}});else if(f instanceof Map&&f.has("offset")){const s=f;l=parseFloat(s.get("offset")),s.delete("offset")}return l}(ys.styles),Ls=0;return null!=Js&&(S++,Ls=ys.offset=Js),ue=ue||Ls<0||Ls>1,ee=ee||Ls<Ne,Ne=Ls,z.push(Ls),ys});ue&&s.errors.push(function _f(){return new g.vHH(3012,!1)}()),ee&&s.errors.push(function E_(){return new g.vHH(3200,!1)}());const Lt=l.steps.length;let Wn=0;S>0&&S<Lt?s.errors.push(function Gg(){return new g.vHH(3202,!1)}()):0==S&&(Wn=1/(Lt-1));const Bt=Lt-1,_n=s.currentTime,bn=s.currentAnimateTimings,Dr=bn.duration;return Ze.forEach((Lr,ys)=>{const Js=Wn>0?ys==Bt?1:Wn*ys:z[ys],Ls=Js*Dr;s.currentTime=_n+bn.delay+Ls,bn.duration=Ls,this._validateStyleAst(Lr,s),Lr.offset=Js,h.styles.push(Lr)}),h}visitReference(l,s){return{type:8,animation:ya(this,xu(l.animation),s),options:Id(l.options)}}visitAnimateChild(l,s){return s.depCount++,{type:9,options:Id(l.options)}}visitAnimateRef(l,s){return{type:10,animation:this.visitReference(l.animation,s),options:Id(l.options)}}visitQuery(l,s){const h=s.currentQuerySelector,C=l.options||{};s.queryCount++,s.currentQuery=l;const[S,z]=function Wp(f){const l=!!f.split(/\s*,\s*/).find(s=>":self"==s);return l&&(f=f.replace(Pu,"")),f=f.replace(/@\*/g,ph).replace(/@\w+/g,s=>ph+"-"+s.slice(1)).replace(/:animating/g,Np),[f,l]}(l.selector);s.currentQuerySelector=h.length?h+" "+S:S,Do(s.collectedStyles,s.currentQuerySelector,new Map);const ee=ya(this,xu(l.animation),s);return s.currentQuery=null,s.currentQuerySelector=h,{type:11,selector:S,limit:C.limit||0,optional:!!C.optional,includeSelf:z,animation:ee,originalSelector:l.selector,options:Id(l.options)}}visitStagger(l,s){s.currentQuery||s.errors.push(function dh(){return new g.vHH(3013,!1)}());const h="full"===l.timings?{duration:0,delay:0,easing:"full"}:Df(l.timings,s.errors,!0);return{type:12,animation:ya(this,xu(l.animation),s),timings:h,options:null}}}class Kp{constructor(l){this.errors=l,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Id(f){return f?(f=Ed(f)).params&&(f.params=function am(f){return f?Ed(f):null}(f.params)):f={},f}function Md(f,l,s){return{duration:f,delay:l,easing:s}}function yh(f,l,s,h,C,S,z=null,ee=!1){return{type:1,element:f,keyframes:l,preStyleProps:s,postStyleProps:h,duration:C,delay:S,totalTime:C+S,easing:z,subTimeline:ee}}class Il{constructor(){this._map=new Map}get(l){return this._map.get(l)||[]}append(l,s){let h=this._map.get(l);h||this._map.set(l,h=[]),h.push(...s)}has(l){return this._map.has(l)}clear(){this._map.clear()}}const Ru=new RegExp(":enter","g"),lm=new RegExp(":leave","g");function Rf(f,l,s,h,C,S=new Map,z=new Map,ee,ue,Ne=[]){return(new cm).buildKeyframes(f,l,s,h,C,S,z,ee,ue,Ne)}class cm{buildKeyframes(l,s,h,C,S,z,ee,ue,Ne,Ze=[]){Ne=Ne||new Il;const Lt=new kf(l,s,Ne,C,S,Ze,[]);Lt.options=ue;const Wn=ue.delay?Yl(ue.delay):0;Lt.currentTimeline.delayNextStep(Wn),Lt.currentTimeline.setStyles([z],null,Lt.errors,ue),ya(this,h,Lt);const Bt=Lt.timelines.filter(_n=>_n.containsAnimation());if(Bt.length&&ee.size){let _n;for(let bn=Bt.length-1;bn>=0;bn--){const Dr=Bt[bn];if(Dr.element===s){_n=Dr;break}}_n&&!_n.allowOnlyTimelineStyles()&&_n.setStyles([ee],null,Lt.errors,ue)}return Bt.length?Bt.map(_n=>_n.buildKeyframes()):[yh(s,[],[],[],0,Wn,"",!1)]}visitTrigger(l,s){}visitState(l,s){}visitTransition(l,s){}visitAnimateChild(l,s){const h=s.subInstructions.get(s.element);if(h){const C=s.createSubContext(l.options),S=s.currentTimeline.currentTime,z=this._visitSubInstructions(h,C,C.options);S!=z&&s.transformIntoNewTimeline(z)}s.previousNode=l}visitAnimateRef(l,s){const h=s.createSubContext(l.options);h.transformIntoNewTimeline(),this.visitReference(l.animation,h),s.transformIntoNewTimeline(h.currentTimeline.currentTime),s.previousNode=l}_visitSubInstructions(l,s,h){let S=s.currentTimeline.currentTime;const z=null!=h.duration?Yl(h.duration):null,ee=null!=h.delay?Yl(h.delay):null;return 0!==z&&l.forEach(ue=>{const Ne=s.appendInstructionToTimeline(ue,z,ee);S=Math.max(S,Ne.duration+Ne.delay)}),S}visitReference(l,s){s.updateOptions(l.options,!0),ya(this,l.animation,s),s.previousNode=l}visitSequence(l,s){const h=s.subContextCount;let C=s;const S=l.options;if(S&&(S.params||S.delay)&&(C=s.createSubContext(S),C.transformIntoNewTimeline(),null!=S.delay)){6==C.previousNode.type&&(C.currentTimeline.snapshotCurrentStyles(),C.previousNode=vh);const z=Yl(S.delay);C.delayNextStep(z)}l.steps.length&&(l.steps.forEach(z=>ya(this,z,C)),C.currentTimeline.applyStylesToKeyframe(),C.subContextCount>h&&C.transformIntoNewTimeline()),s.previousNode=l}visitGroup(l,s){const h=[];let C=s.currentTimeline.currentTime;const S=l.options&&l.options.delay?Yl(l.options.delay):0;l.steps.forEach(z=>{const ee=s.createSubContext(l.options);S&&ee.delayNextStep(S),ya(this,z,ee),C=Math.max(C,ee.currentTimeline.currentTime),h.push(ee.currentTimeline)}),h.forEach(z=>s.currentTimeline.mergeTimelineCollectedStyles(z)),s.transformIntoNewTimeline(C),s.previousNode=l}_visitTiming(l,s){if(l.dynamic){const h=l.strValue;return Df(s.params?If(h,s.params,s.errors):h,s.errors)}return{duration:l.duration,delay:l.delay,easing:l.easing}}visitAnimate(l,s){const h=s.currentAnimateTimings=this._visitTiming(l.timings,s),C=s.currentTimeline;h.delay&&(s.incrementTime(h.delay),C.snapshotCurrentStyles());const S=l.style;5==S.type?this.visitKeyframes(S,s):(s.incrementTime(h.duration),this.visitStyle(S,s),C.applyStylesToKeyframe()),s.currentAnimateTimings=null,s.previousNode=l}visitStyle(l,s){const h=s.currentTimeline,C=s.currentAnimateTimings;!C&&h.hasCurrentStyleProperties()&&h.forwardFrame();const S=C&&C.easing||l.easing;l.isEmptyStep?h.applyEmptyStep(S):h.setStyles(l.styles,S,s.errors,s.options),s.previousNode=l}visitKeyframes(l,s){const h=s.currentAnimateTimings,C=s.currentTimeline.duration,S=h.duration,ee=s.createSubContext().currentTimeline;ee.easing=h.easing,l.styles.forEach(ue=>{ee.forwardTime((ue.offset||0)*S),ee.setStyles(ue.styles,ue.easing,s.errors,s.options),ee.applyStylesToKeyframe()}),s.currentTimeline.mergeTimelineCollectedStyles(ee),s.transformIntoNewTimeline(C+S),s.previousNode=l}visitQuery(l,s){const h=s.currentTimeline.currentTime,C=l.options||{},S=C.delay?Yl(C.delay):0;S&&(6===s.previousNode.type||0==h&&s.currentTimeline.hasCurrentStyleProperties())&&(s.currentTimeline.snapshotCurrentStyles(),s.previousNode=vh);let z=h;const ee=s.invokeQuery(l.selector,l.originalSelector,l.limit,l.includeSelf,!!C.optional,s.errors);s.currentQueryTotal=ee.length;let ue=null;ee.forEach((Ne,Ze)=>{s.currentQueryIndex=Ze;const Lt=s.createSubContext(l.options,Ne);S&&Lt.delayNextStep(S),Ne===s.element&&(ue=Lt.currentTimeline),ya(this,l.animation,Lt),Lt.currentTimeline.applyStylesToKeyframe(),z=Math.max(z,Lt.currentTimeline.currentTime)}),s.currentQueryIndex=0,s.currentQueryTotal=0,s.transformIntoNewTimeline(z),ue&&(s.currentTimeline.mergeTimelineCollectedStyles(ue),s.currentTimeline.snapshotCurrentStyles()),s.previousNode=l}visitStagger(l,s){const h=s.parentContext,C=s.currentTimeline,S=l.timings,z=Math.abs(S.duration),ee=z*(s.currentQueryTotal-1);let ue=z*s.currentQueryIndex;switch(S.duration<0?"reverse":S.easing){case"reverse":ue=ee-ue;break;case"full":ue=h.currentStaggerTime}const Ze=s.currentTimeline;ue&&Ze.delayNextStep(ue);const Lt=Ze.currentTime;ya(this,l.animation,s),s.previousNode=l,h.currentStaggerTime=C.currentTime-Lt+(C.startTime-h.currentTimeline.startTime)}}const vh={};class kf{constructor(l,s,h,C,S,z,ee,ue){this._driver=l,this.element=s,this.subInstructions=h,this._enterClassName=C,this._leaveClassName=S,this.errors=z,this.timelines=ee,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=vh,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=ue||new Lf(this._driver,s,0),ee.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(l,s){if(!l)return;const h=l;let C=this.options;null!=h.duration&&(C.duration=Yl(h.duration)),null!=h.delay&&(C.delay=Yl(h.delay));const S=h.params;if(S){let z=C.params;z||(z=this.options.params={}),Object.keys(S).forEach(ee=>{(!s||!z.hasOwnProperty(ee))&&(z[ee]=If(S[ee],z,this.errors))})}}_copyOptions(){const l={};if(this.options){const s=this.options.params;if(s){const h=l.params={};Object.keys(s).forEach(C=>{h[C]=s[C]})}}return l}createSubContext(l=null,s,h){const C=s||this.element,S=new kf(this._driver,C,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(C,h||0));return S.previousNode=this.previousNode,S.currentAnimateTimings=this.currentAnimateTimings,S.options=this._copyOptions(),S.updateOptions(l),S.currentQueryIndex=this.currentQueryIndex,S.currentQueryTotal=this.currentQueryTotal,S.parentContext=this,this.subContextCount++,S}transformIntoNewTimeline(l){return this.previousNode=vh,this.currentTimeline=this.currentTimeline.fork(this.element,l),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(l,s,h){const C={duration:s??l.duration,delay:this.currentTimeline.currentTime+(h??0)+l.delay,easing:""},S=new I_(this._driver,l.element,l.keyframes,l.preStyleProps,l.postStyleProps,C,l.stretchStartingKeyframe);return this.timelines.push(S),C}incrementTime(l){this.currentTimeline.forwardTime(this.currentTimeline.duration+l)}delayNextStep(l){l>0&&this.currentTimeline.delayNextStep(l)}invokeQuery(l,s,h,C,S,z){let ee=[];if(C&&ee.push(this.element),l.length>0){l=(l=l.replace(Ru,"."+this._enterClassName)).replace(lm,"."+this._leaveClassName);let Ne=this._driver.query(this.element,l,1!=h);0!==h&&(Ne=h<0?Ne.slice(Ne.length+h,Ne.length):Ne.slice(0,h)),ee.push(...Ne)}return!S&&0==ee.length&&z.push(function Du(f){return new g.vHH(3014,!1)}()),ee}}class Lf{constructor(l,s,h,C){this._driver=l,this.element=s,this.startTime=h,this._elementTimelineStylesLookup=C,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(s),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(s,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(l){const s=1===this._keyframes.size&&this._pendingStyles.size;this.duration||s?(this.forwardTime(this.currentTime+l),s&&this.snapshotCurrentStyles()):this.startTime+=l}fork(l,s){return this.applyStylesToKeyframe(),new Lf(this._driver,l,s||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(l){this.applyStylesToKeyframe(),this.duration=l,this._loadKeyframe()}_updateStyle(l,s){this._localTimelineStyles.set(l,s),this._globalTimelineStyles.set(l,s),this._styleSummary.set(l,{time:this.currentTime,value:s})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(l){l&&this._previousKeyframe.set("easing",l);for(let[s,h]of this._globalTimelineStyles)this._backFill.set(s,h||kt.l3),this._currentKeyframe.set(s,kt.l3);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(l,s,h,C){s&&this._previousKeyframe.set("easing",s);const S=C&&C.params||{},z=function M_(f,l){const s=new Map;let h;return f.forEach(C=>{if("*"===C){h=h||l.keys();for(let S of h)s.set(S,kt.l3)}else Xa(C,s)}),s}(l,this._globalTimelineStyles);for(let[ee,ue]of z){const Ne=If(ue,S,h);this._pendingStyles.set(ee,Ne),this._localTimelineStyles.has(ee)||this._backFill.set(ee,this._globalTimelineStyles.get(ee)??kt.l3),this._updateStyle(ee,Ne)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((l,s)=>{this._currentKeyframe.set(s,l)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((l,s)=>{this._currentKeyframe.has(s)||this._currentKeyframe.set(s,l)}))}snapshotCurrentStyles(){for(let[l,s]of this._localTimelineStyles)this._pendingStyles.set(l,s),this._updateStyle(l,s)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const l=[];for(let s in this._currentKeyframe)l.push(s);return l}mergeTimelineCollectedStyles(l){l._styleSummary.forEach((s,h)=>{const C=this._styleSummary.get(h);(!C||s.time>C.time)&&this._updateStyle(h,s.value)})}buildKeyframes(){this.applyStylesToKeyframe();const l=new Set,s=new Set,h=1===this._keyframes.size&&0===this.duration;let C=[];this._keyframes.forEach((ee,ue)=>{const Ne=Xa(ee,new Map,this._backFill);Ne.forEach((Ze,Lt)=>{Ze===kt.k1?l.add(Lt):Ze===kt.l3&&s.add(Lt)}),h||Ne.set("offset",ue/this.duration),C.push(Ne)});const S=l.size?Mf(l.values()):[],z=s.size?Mf(s.values()):[];if(h){const ee=C[0],ue=new Map(ee);ee.set("offset",0),ue.set("offset",1),C=[ee,ue]}return yh(this.element,C,S,z,this.duration,this.startTime,this.easing,!1)}}class I_ extends Lf{constructor(l,s,h,C,S,z,ee=!1){super(l,s,z.delay),this.keyframes=h,this.preStyleProps=C,this.postStyleProps=S,this._stretchStartingKeyframe=ee,this.timings={duration:z.duration,delay:z.delay,easing:z.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let l=this.keyframes,{delay:s,duration:h,easing:C}=this.timings;if(this._stretchStartingKeyframe&&s){const S=[],z=h+s,ee=s/z,ue=Xa(l[0]);ue.set("offset",0),S.push(ue);const Ne=Xa(l[0]);Ne.set("offset",ku(ee)),S.push(Ne);const Ze=l.length-1;for(let Lt=1;Lt<=Ze;Lt++){let Wn=Xa(l[Lt]);const Bt=Wn.get("offset");Wn.set("offset",ku((s+Bt*h)/z)),S.push(Wn)}h=z,s=0,C="",l=S}return yh(this.element,l,this.preStyleProps,this.postStyleProps,h,s,C,!0)}}function ku(f,l=3){const s=Math.pow(10,l-1);return Math.round(f*s)/s}class wc{}const Ff=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class dm extends wc{normalizePropertyName(l,s){return Dd(l)}normalizeStyleValue(l,s,h,C){let S="";const z=h.toString().trim();if(Ff.has(s)&&0!==h&&"0"!==h)if("number"==typeof h)S="px";else{const ee=h.match(/^[+-]?[\d\.]+([a-z]*)$/);ee&&0==ee[1].length&&C.push(function zg(f,l){return new g.vHH(3005,!1)}())}return z+S}}function hm(f,l,s,h,C,S,z,ee,ue,Ne,Ze,Lt,Wn){return{type:0,element:f,triggerName:l,isRemovalTransition:C,fromState:s,fromStyles:S,toState:h,toStyles:z,timelines:ee,queriedElements:ue,preStyleProps:Ne,postStyleProps:Ze,totalTime:Lt,errors:Wn}}const Gp={};class fm{constructor(l,s,h){this._triggerName=l,this.ast=s,this._stateStyles=h}match(l,s,h,C){return function pm(f,l,s,h,C){return f.some(S=>S(l,s,h,C))}(this.ast.matchers,l,s,h,C)}buildStyles(l,s,h){let C=this._stateStyles.get("*");return void 0!==l&&(C=this._stateStyles.get(l?.toString())||C),C?C.buildStyles(s,h):new Map}build(l,s,h,C,S,z,ee,ue,Ne,Ze){const Lt=[],Wn=this.ast.options&&this.ast.options.params||Gp,_n=this.buildStyles(h,ee&&ee.params||Gp,Lt),bn=ue&&ue.params||Gp,Dr=this.buildStyles(C,bn,Lt),Lr=new Set,ys=new Map,Js=new Map,Ls="void"===C,Oi={params:bh(bn,Wn),delay:this.ast.options?.delay},Pc=Ze?[]:Rf(l,s,this.ast.animation,S,z,_n,Dr,Oi,Ne,Lt);let jo=0;if(Pc.forEach(i=>{jo=Math.max(i.duration+i.delay,jo)}),Lt.length)return hm(s,this._triggerName,h,C,Ls,_n,Dr,[],[],ys,Js,jo,Lt);Pc.forEach(i=>{const e=i.element,t=Do(ys,e,new Set);i.preStyleProps.forEach(d=>t.add(d));const o=Do(Js,e,new Set);i.postStyleProps.forEach(d=>o.add(d)),e!==s&&Lr.add(e)});const uc=Mf(Lr.values());return hm(s,this._triggerName,h,C,Ls,_n,Dr,Pc,uc,ys,Js,jo)}}function bh(f,l){const s=Ed(l);for(const h in f)f.hasOwnProperty(h)&&null!=f[h]&&(s[h]=f[h]);return s}class Bf{constructor(l,s,h){this.styles=l,this.defaultParams=s,this.normalizer=h}buildStyles(l,s){const h=new Map,C=Ed(this.defaultParams);return Object.keys(l).forEach(S=>{const z=l[S];null!==z&&(C[S]=z)}),this.styles.styles.forEach(S=>{"string"!=typeof S&&S.forEach((z,ee)=>{z&&(z=If(z,C,s));const ue=this.normalizer.normalizePropertyName(ee,s);z=this.normalizer.normalizeStyleValue(ee,ue,z,s),h.set(ue,z)})}),h}}class Eh{constructor(l,s,h){this.name=l,this.ast=s,this._normalizer=h,this.transitionFactories=[],this.states=new Map,s.states.forEach(C=>{this.states.set(C.name,new Bf(C.style,C.options&&C.options.params||{},h))}),ou(this.states,"true","1"),ou(this.states,"false","0"),s.transitions.forEach(C=>{this.transitionFactories.push(new fm(l,C,this.states))}),this.fallbackTransition=function Zp(f,l,s){return new fm(f,{type:1,animation:{type:2,steps:[],options:null},matchers:[(z,ee)=>!0],options:null,queryCount:0,depCount:0},l)}(l,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(l,s,h,C){return this.transitionFactories.find(z=>z.match(l,s,h,C))||null}matchStyles(l,s,h){return this.fallbackTransition.buildStyles(l,s,h)}}function ou(f,l,s){f.has(l)?f.has(s)||f.set(s,f.get(l)):f.has(s)&&f.set(l,f.get(s))}const qp=new Il;class T_{constructor(l,s,h){this.bodyNode=l,this._driver=s,this._normalizer=h,this._animations=new Map,this._playersById=new Map,this.players=[]}register(l,s){const h=[],S=Dc(this._driver,s,h,[]);if(h.length)throw function qg(f){return new g.vHH(3503,!1)}();this._animations.set(l,S)}_buildPlayer(l,s,h){const C=l.element,S=tu(0,this._normalizer,0,l.keyframes,s,h);return this._driver.animate(C,S,l.duration,l.delay,l.easing,[],!0)}create(l,s,h={}){const C=[],S=this._animations.get(l);let z;const ee=new Map;if(S?(z=Rf(this._driver,s,S,wl,bd,new Map,new Map,h,qp,C),z.forEach(Ze=>{const Lt=Do(ee,Ze.element,new Map);Ze.postStyleProps.forEach(Wn=>Lt.set(Wn,null))})):(C.push(function Yg(){return new g.vHH(3300,!1)}()),z=[]),C.length)throw function _d(f){return new g.vHH(3504,!1)}();ee.forEach((Ze,Lt)=>{Ze.forEach((Wn,Bt)=>{Ze.set(Bt,this._driver.computeStyle(Lt,Bt,kt.l3))})});const Ne=ta(z.map(Ze=>{const Lt=ee.get(Ze.element);return this._buildPlayer(Ze,new Map,Lt)}));return this._playersById.set(l,Ne),Ne.onDestroy(()=>this.destroy(l)),this.players.push(Ne),Ne}destroy(l){const s=this._getPlayer(l);s.destroy(),this._playersById.delete(l);const h=this.players.indexOf(s);h>=0&&this.players.splice(h,1)}_getPlayer(l){const s=this._playersById.get(l);if(!s)throw function $l(f){return new g.vHH(3301,!1)}();return s}listen(l,s,h,C){const S=Op(s,"","","");return nu(this._getPlayer(l),h,S,C),()=>{}}command(l,s,h,C){if("register"==h)return void this.register(l,C[0]);if("create"==h)return void this.create(l,s,C[0]||{});const S=this._getPlayer(l);switch(h){case"play":S.play();break;case"pause":S.pause();break;case"reset":S.reset();break;case"restart":S.restart();break;case"finish":S.finish();break;case"init":S.init();break;case"setPosition":S.setPosition(parseFloat(C[0]));break;case"destroy":this.destroy(l)}}}const Ic="ng-animate-queued",Ml="ng-animate-disabled",A_=[],Ad={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Mc={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Vo="__ng_removed";class Nu{constructor(l,s=""){this.namespaceId=s;const h=l&&l.hasOwnProperty("value");if(this.value=function jf(f){return f??null}(h?l.value:l),h){const S=Ed(l);delete S.value,this.options=S}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(l){const s=l.params;if(s){const h=this.options.params;Object.keys(s).forEach(C=>{null==h[C]&&(h[C]=s[C])})}}}const Tc="void",Yp=new Nu(Tc);class Fu{constructor(l,s,h){this.id=l,this.hostElement=s,this._engine=h,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+l,Ja(s,this._hostClassName)}listen(l,s,h,C){if(!this._triggers.has(s))throw function Qg(f,l){return new g.vHH(3302,!1)}();if(null==h||0==h.length)throw function vf(f){return new g.vHH(3303,!1)}();if(!function Qp(f){return"start"==f||"done"==f}(h))throw function bf(f,l){return new g.vHH(3400,!1)}();const S=Do(this._elementListeners,l,[]),z={name:s,phase:h,callback:C};S.push(z);const ee=Do(this._engine.statesByElement,l,new Map);return ee.has(s)||(Ja(l,ql),Ja(l,ql+"-"+s),ee.set(s,Yp)),()=>{this._engine.afterFlush(()=>{const ue=S.indexOf(z);ue>=0&&S.splice(ue,1),this._triggers.has(s)||ee.delete(s)})}}register(l,s){return!this._triggers.has(l)&&(this._triggers.set(l,s),!0)}_getTrigger(l){const s=this._triggers.get(l);if(!s)throw function yd(f){return new g.vHH(3401,!1)}();return s}trigger(l,s,h,C=!0){const S=this._getTrigger(s),z=new Sd(this.id,s,l);let ee=this._engine.statesByElement.get(l);ee||(Ja(l,ql),Ja(l,ql+"-"+s),this._engine.statesByElement.set(l,ee=new Map));let ue=ee.get(s);const Ne=new Nu(h,this.id);if(!(h&&h.hasOwnProperty("value"))&&ue&&Ne.absorbOptions(ue.options),ee.set(s,Ne),ue||(ue=Yp),Ne.value!==Tc&&ue.value===Ne.value){if(!function vm(f,l){const s=Object.keys(f),h=Object.keys(l);if(s.length!=h.length)return!1;for(let C=0;C<s.length;C++){const S=s[C];if(!l.hasOwnProperty(S)||f[S]!==l[S])return!1}return!0}(ue.params,Ne.params)){const bn=[],Dr=S.matchStyles(ue.value,ue.params,bn),Lr=S.matchStyles(Ne.value,Ne.params,bn);bn.length?this._engine.reportError(bn):this._engine.afterFlush(()=>{iu(l,Dr),Na(l,Lr)})}return}const Wn=Do(this._engine.playersByElement,l,[]);Wn.forEach(bn=>{bn.namespaceId==this.id&&bn.triggerName==s&&bn.queued&&bn.destroy()});let Bt=S.matchTransition(ue.value,Ne.value,l,Ne.params),_n=!1;if(!Bt){if(!C)return;Bt=S.fallbackTransition,_n=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:l,triggerName:s,transition:Bt,fromState:ue,toState:Ne,player:z,isFallbackTransition:_n}),_n||(Ja(l,Ic),z.onStart(()=>{au(l,Ic)})),z.onDone(()=>{let bn=this.players.indexOf(z);bn>=0&&this.players.splice(bn,1);const Dr=this._engine.playersByElement.get(l);if(Dr){let Lr=Dr.indexOf(z);Lr>=0&&Dr.splice(Lr,1)}}),this.players.push(z),Wn.push(z),z}deregister(l){this._triggers.delete(l),this._engine.statesByElement.forEach(s=>s.delete(l)),this._elementListeners.forEach((s,h)=>{this._elementListeners.set(h,s.filter(C=>C.name!=l))})}clearElementCache(l){this._engine.statesByElement.delete(l),this._elementListeners.delete(l);const s=this._engine.playersByElement.get(l);s&&(s.forEach(h=>h.destroy()),this._engine.playersByElement.delete(l))}_signalRemovalForInnerTriggers(l,s){const h=this._engine.driver.query(l,ph,!0);h.forEach(C=>{if(C[Vo])return;const S=this._engine.fetchNamespacesByElement(C);S.size?S.forEach(z=>z.triggerLeaveAnimation(C,s,!1,!0)):this.clearElementCache(C)}),this._engine.afterFlushAnimationsDone(()=>h.forEach(C=>this.clearElementCache(C)))}triggerLeaveAnimation(l,s,h,C){const S=this._engine.statesByElement.get(l),z=new Map;if(S){const ee=[];if(S.forEach((ue,Ne)=>{if(z.set(Ne,ue.value),this._triggers.has(Ne)){const Ze=this.trigger(l,Ne,Tc,C);Ze&&ee.push(Ze)}}),ee.length)return this._engine.markElementAsRemoved(this.id,l,!0,s,z),h&&ta(ee).onDone(()=>this._engine.processLeaveNode(l)),!0}return!1}prepareLeaveAnimationListeners(l){const s=this._elementListeners.get(l),h=this._engine.statesByElement.get(l);if(s&&h){const C=new Set;s.forEach(S=>{const z=S.name;if(C.has(z))return;C.add(z);const ue=this._triggers.get(z).fallbackTransition,Ne=h.get(z)||Yp,Ze=new Nu(Tc),Lt=new Sd(this.id,z,l);this._engine.totalQueuedPlayers++,this._queue.push({element:l,triggerName:z,transition:ue,fromState:Ne,toState:Ze,player:Lt,isFallbackTransition:!0})})}}removeNode(l,s){const h=this._engine;if(l.childElementCount&&this._signalRemovalForInnerTriggers(l,s),this.triggerLeaveAnimation(l,s,!0))return;let C=!1;if(h.totalAnimations){const S=h.players.length?h.playersByQueriedElement.get(l):[];if(S&&S.length)C=!0;else{let z=l;for(;z=z.parentNode;)if(h.statesByElement.get(z)){C=!0;break}}}if(this.prepareLeaveAnimationListeners(l),C)h.markElementAsRemoved(this.id,l,!1,s);else{const S=l[Vo];(!S||S===Ad)&&(h.afterFlush(()=>this.clearElementCache(l)),h.destroyInnerAnimations(l),h._onRemovalComplete(l,s))}}insertNode(l,s){Ja(l,this._hostClassName)}drainQueuedTransitions(l){const s=[];return this._queue.forEach(h=>{const C=h.player;if(C.destroyed)return;const S=h.element,z=this._elementListeners.get(S);z&&z.forEach(ee=>{if(ee.name==h.triggerName){const ue=Op(S,h.triggerName,h.fromState.value,h.toState.value);ue._data=l,nu(h.player,ee.phase,ue,ee.callback)}}),C.markedForDestroy?this._engine.afterFlush(()=>{C.destroy()}):s.push(h)}),this._queue=[],s.sort((h,C)=>{const S=h.transition.ast.depCount,z=C.transition.ast.depCount;return 0==S||0==z?S-z:this._engine.driver.containsElement(h.element,C.element)?1:-1})}destroy(l){this.players.forEach(s=>s.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,l)}elementContainsData(l){let s=!1;return this._elementListeners.has(l)&&(s=!0),s=!!this._queue.find(h=>h.element===l)||s,s}}class gm{constructor(l,s,h){this.bodyNode=l,this.driver=s,this._normalizer=h,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(C,S)=>{}}_onRemovalComplete(l,s){this.onRemovalComplete(l,s)}get queuedPlayers(){const l=[];return this._namespaceList.forEach(s=>{s.players.forEach(h=>{h.queued&&l.push(h)})}),l}createNamespace(l,s){const h=new Fu(l,s,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,s)?this._balanceNamespaceList(h,s):(this.newHostElements.set(s,h),this.collectEnterElement(s)),this._namespaceLookup[l]=h}_balanceNamespaceList(l,s){const h=this._namespaceList,C=this.namespacesByHostElement;if(h.length-1>=0){let z=!1,ee=this.driver.getParentElement(s);for(;ee;){const ue=C.get(ee);if(ue){const Ne=h.indexOf(ue);h.splice(Ne+1,0,l),z=!0;break}ee=this.driver.getParentElement(ee)}z||h.unshift(l)}else h.push(l);return C.set(s,l),l}register(l,s){let h=this._namespaceLookup[l];return h||(h=this.createNamespace(l,s)),h}registerTrigger(l,s,h){let C=this._namespaceLookup[l];C&&C.register(s,h)&&this.totalAnimations++}destroy(l,s){if(!l)return;const h=this._fetchNamespace(l);this.afterFlush(()=>{this.namespacesByHostElement.delete(h.hostElement),delete this._namespaceLookup[l];const C=this._namespaceList.indexOf(h);C>=0&&this._namespaceList.splice(C,1)}),this.afterFlushAnimationsDone(()=>h.destroy(s))}_fetchNamespace(l){return this._namespaceLookup[l]}fetchNamespacesByElement(l){const s=new Set,h=this.statesByElement.get(l);if(h)for(let C of h.values())if(C.namespaceId){const S=this._fetchNamespace(C.namespaceId);S&&s.add(S)}return s}trigger(l,s,h,C){if(Bu(s)){const S=this._fetchNamespace(l);if(S)return S.trigger(s,h,C),!0}return!1}insertNode(l,s,h,C){if(!Bu(s))return;const S=s[Vo];if(S&&S.setForRemoval){S.setForRemoval=!1,S.setForMove=!0;const z=this.collectedLeaveElements.indexOf(s);z>=0&&this.collectedLeaveElements.splice(z,1)}if(l){const z=this._fetchNamespace(l);z&&z.insertNode(s,h)}C&&this.collectEnterElement(s)}collectEnterElement(l){this.collectedEnterElements.push(l)}markElementAsDisabled(l,s){s?this.disabledNodes.has(l)||(this.disabledNodes.add(l),Ja(l,Ml)):this.disabledNodes.has(l)&&(this.disabledNodes.delete(l),au(l,Ml))}removeNode(l,s,h,C){if(Bu(s)){const S=l?this._fetchNamespace(l):null;if(S?S.removeNode(s,C):this.markElementAsRemoved(l,s,!1,C),h){const z=this.namespacesByHostElement.get(s);z&&z.id!==l&&z.removeNode(s,C)}}else this._onRemovalComplete(s,C)}markElementAsRemoved(l,s,h,C,S){this.collectedLeaveElements.push(s),s[Vo]={namespaceId:l,setForRemoval:C,hasAnimation:h,removedBeforeQueried:!1,previousTriggersValues:S}}listen(l,s,h,C,S){return Bu(s)?this._fetchNamespace(l).listen(s,h,C,S):()=>{}}_buildInstruction(l,s,h,C,S){return l.transition.build(this.driver,l.element,l.fromState.value,l.toState.value,h,C,l.fromState.options,l.toState.options,s,S)}destroyInnerAnimations(l){let s=this.driver.query(l,ph,!0);s.forEach(h=>this.destroyActiveAnimationsForElement(h)),0!=this.playersByQueriedElement.size&&(s=this.driver.query(l,Np,!0),s.forEach(h=>this.finishActiveQueriedAnimationOnElement(h)))}destroyActiveAnimationsForElement(l){const s=this.playersByElement.get(l);s&&s.forEach(h=>{h.queued?h.markedForDestroy=!0:h.destroy()})}finishActiveQueriedAnimationOnElement(l){const s=this.playersByQueriedElement.get(l);s&&s.forEach(h=>h.finish())}whenRenderingDone(){return new Promise(l=>{if(this.players.length)return ta(this.players).onDone(()=>l());l()})}processLeaveNode(l){const s=l[Vo];if(s&&s.setForRemoval){if(l[Vo]=Ad,s.namespaceId){this.destroyInnerAnimations(l);const h=this._fetchNamespace(s.namespaceId);h&&h.clearElementCache(l)}this._onRemovalComplete(l,s.setForRemoval)}l.classList?.contains(Ml)&&this.markElementAsDisabled(l,!1),this.driver.query(l,".ng-animate-disabled",!0).forEach(h=>{this.markElementAsDisabled(h,!1)})}flush(l=-1){let s=[];if(this.newHostElements.size&&(this.newHostElements.forEach((h,C)=>this._balanceNamespaceList(h,C)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let h=0;h<this.collectedEnterElements.length;h++)Ja(this.collectedEnterElements[h],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const h=[];try{s=this._flushAnimations(h,l)}finally{for(let C=0;C<h.length;C++)h[C]()}}else for(let h=0;h<this.collectedLeaveElements.length;h++)this.processLeaveNode(this.collectedLeaveElements[h]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(h=>h()),this._flushFns=[],this._whenQuietFns.length){const h=this._whenQuietFns;this._whenQuietFns=[],s.length?ta(s).onDone(()=>{h.forEach(C=>C())}):h.forEach(C=>C())}}reportError(l){throw function Xg(f){return new g.vHH(3402,!1)}()}_flushAnimations(l,s){const h=new Il,C=[],S=new Map,z=[],ee=new Map,ue=new Map,Ne=new Map,Ze=new Set;this.disabledNodes.forEach(P=>{Ze.add(P);const j=this.driver.query(P,".ng-animate-queued",!0);for(let G=0;G<j.length;G++)Ze.add(j[G])});const Lt=this.bodyNode,Wn=Array.from(this.statesByElement.keys()),Bt=Wf(Wn,this.collectedEnterElements),_n=new Map;let bn=0;Bt.forEach((P,j)=>{const G=wl+bn++;_n.set(j,G),P.forEach(re=>Ja(re,G))});const Dr=[],Lr=new Set,ys=new Set;for(let P=0;P<this.collectedLeaveElements.length;P++){const j=this.collectedLeaveElements[P],G=j[Vo];G&&G.setForRemoval&&(Dr.push(j),Lr.add(j),G.hasAnimation?this.driver.query(j,".ng-star-inserted",!0).forEach(re=>Lr.add(re)):ys.add(j))}const Js=new Map,Ls=Wf(Wn,Array.from(Lr));Ls.forEach((P,j)=>{const G=bd+bn++;Js.set(j,G),P.forEach(re=>Ja(re,G))}),l.push(()=>{Bt.forEach((P,j)=>{const G=_n.get(j);P.forEach(re=>au(re,G))}),Ls.forEach((P,j)=>{const G=Js.get(j);P.forEach(re=>au(re,G))}),Dr.forEach(P=>{this.processLeaveNode(P)})});const Oi=[],Pc=[];for(let P=this._namespaceList.length-1;P>=0;P--)this._namespaceList[P].drainQueuedTransitions(s).forEach(G=>{const re=G.player,Ce=G.element;if(Oi.push(re),this.collectedEnterElements.length){const Jn=Ce[Vo];if(Jn&&Jn.setForMove){if(Jn.previousTriggersValues&&Jn.previousTriggersValues.has(G.triggerName)){const Or=Jn.previousTriggersValues.get(G.triggerName),$r=this.statesByElement.get(G.element);if($r&&$r.has(G.triggerName)){const Vr=$r.get(G.triggerName);Vr.value=Or,$r.set(G.triggerName,Vr)}}return void re.destroy()}}const tt=!Lt||!this.driver.containsElement(Lt,Ce),vt=Js.get(Ce),wt=_n.get(Ce),Kt=this._buildInstruction(G,h,wt,vt,tt);if(Kt.errors&&Kt.errors.length)return void Pc.push(Kt);if(tt)return re.onStart(()=>iu(Ce,Kt.fromStyles)),re.onDestroy(()=>Na(Ce,Kt.toStyles)),void C.push(re);if(G.isFallbackTransition)return re.onStart(()=>iu(Ce,Kt.fromStyles)),re.onDestroy(()=>Na(Ce,Kt.toStyles)),void C.push(re);const wn=[];Kt.timelines.forEach(Jn=>{Jn.stretchStartingKeyframe=!0,this.disabledNodes.has(Jn.element)||wn.push(Jn)}),Kt.timelines=wn,h.append(Ce,Kt.timelines),z.push({instruction:Kt,player:re,element:Ce}),Kt.queriedElements.forEach(Jn=>Do(ee,Jn,[]).push(re)),Kt.preStyleProps.forEach((Jn,Or)=>{if(Jn.size){let $r=ue.get(Or);$r||ue.set(Or,$r=new Set),Jn.forEach((Vr,qr)=>$r.add(qr))}}),Kt.postStyleProps.forEach((Jn,Or)=>{let $r=Ne.get(Or);$r||Ne.set(Or,$r=new Set),Jn.forEach((Vr,qr)=>$r.add(qr))})});if(Pc.length){const P=[];Pc.forEach(j=>{P.push(function zl(f,l){return new g.vHH(3505,!1)}())}),Oi.forEach(j=>j.destroy()),this.reportError(P)}const jo=new Map,uc=new Map;z.forEach(P=>{const j=P.element;h.has(j)&&(uc.set(j,j),this._beforeAnimationBuild(P.player.namespaceId,P.instruction,jo))}),C.forEach(P=>{const j=P.element;this._getPreviousPlayers(j,!1,P.namespaceId,P.triggerName,null).forEach(re=>{Do(jo,j,[]).push(re),re.destroy()})});const i=Dr.filter(P=>Dh(P,ue,Ne)),e=new Map;mm(e,this.driver,ys,Ne,kt.l3).forEach(P=>{Dh(P,ue,Ne)&&i.push(P)});const o=new Map;Bt.forEach((P,j)=>{mm(o,this.driver,new Set(P),ue,kt.k1)}),i.forEach(P=>{const j=e.get(P),G=o.get(P);e.set(P,new Map([...Array.from(j?.entries()??[]),...Array.from(G?.entries()??[])]))});const d=[],_=[],D={};z.forEach(P=>{const{element:j,player:G,instruction:re}=P;if(h.has(j)){if(Ze.has(j))return G.onDestroy(()=>Na(j,re.toStyles)),G.disabled=!0,G.overrideTotalTime(re.totalTime),void C.push(G);let Ce=D;if(uc.size>1){let vt=j;const wt=[];for(;vt=vt.parentNode;){const Kt=uc.get(vt);if(Kt){Ce=Kt;break}wt.push(vt)}wt.forEach(Kt=>uc.set(Kt,Ce))}const tt=this._buildAnimation(G.namespaceId,re,jo,S,o,e);if(G.setRealPlayer(tt),Ce===D)d.push(G);else{const vt=this.playersByElement.get(Ce);vt&&vt.length&&(G.parentPlayer=ta(vt)),C.push(G)}}else iu(j,re.fromStyles),G.onDestroy(()=>Na(j,re.toStyles)),_.push(G),Ze.has(j)&&C.push(G)}),_.forEach(P=>{const j=S.get(P.element);if(j&&j.length){const G=ta(j);P.setRealPlayer(G)}}),C.forEach(P=>{P.parentPlayer?P.syncPlayerEvents(P.parentPlayer):P.destroy()});for(let P=0;P<Dr.length;P++){const j=Dr[P],G=j[Vo];if(au(j,bd),G&&G.hasAnimation)continue;let re=[];if(ee.size){let tt=ee.get(j);tt&&tt.length&&re.push(...tt);let vt=this.driver.query(j,Np,!0);for(let wt=0;wt<vt.length;wt++){let Kt=ee.get(vt[wt]);Kt&&Kt.length&&re.push(...Kt)}}const Ce=re.filter(tt=>!tt.destroyed);Ce.length?_m(this,j,Ce):this.processLeaveNode(j)}return Dr.length=0,d.forEach(P=>{this.players.push(P),P.onDone(()=>{P.destroy();const j=this.players.indexOf(P);this.players.splice(j,1)}),P.play()}),d}elementContainsData(l,s){let h=!1;const C=s[Vo];return C&&C.setForRemoval&&(h=!0),this.playersByElement.has(s)&&(h=!0),this.playersByQueriedElement.has(s)&&(h=!0),this.statesByElement.has(s)&&(h=!0),this._fetchNamespace(l).elementContainsData(s)||h}afterFlush(l){this._flushFns.push(l)}afterFlushAnimationsDone(l){this._whenQuietFns.push(l)}_getPreviousPlayers(l,s,h,C,S){let z=[];if(s){const ee=this.playersByQueriedElement.get(l);ee&&(z=ee)}else{const ee=this.playersByElement.get(l);if(ee){const ue=!S||S==Tc;ee.forEach(Ne=>{Ne.queued||!ue&&Ne.triggerName!=C||z.push(Ne)})}}return(h||C)&&(z=z.filter(ee=>!(h&&h!=ee.namespaceId||C&&C!=ee.triggerName))),z}_beforeAnimationBuild(l,s,h){const S=s.element,z=s.isRemovalTransition?void 0:l,ee=s.isRemovalTransition?void 0:s.triggerName;for(const ue of s.timelines){const Ne=ue.element,Ze=Ne!==S,Lt=Do(h,Ne,[]);this._getPreviousPlayers(Ne,Ze,z,ee,s.toState).forEach(Bt=>{const _n=Bt.getRealPlayer();_n.beforeDestroy&&_n.beforeDestroy(),Bt.destroy(),Lt.push(Bt)})}iu(S,s.fromStyles)}_buildAnimation(l,s,h,C,S,z){const ee=s.triggerName,ue=s.element,Ne=[],Ze=new Set,Lt=new Set,Wn=s.timelines.map(_n=>{const bn=_n.element;Ze.add(bn);const Dr=bn[Vo];if(Dr&&Dr.removedBeforeQueried)return new kt.ZN(_n.duration,_n.delay);const Lr=bn!==ue,ys=function ym(f){const l=[];return Jp(f,l),l}((h.get(bn)||A_).map(jo=>jo.getRealPlayer())).filter(jo=>!!jo.element&&jo.element===bn),Js=S.get(bn),Ls=z.get(bn),Oi=tu(0,this._normalizer,0,_n.keyframes,Js,Ls),Pc=this._buildPlayer(_n,Oi,ys);if(_n.subTimeline&&C&&Lt.add(bn),Lr){const jo=new Sd(l,ee,bn);jo.setRealPlayer(Pc),Ne.push(jo)}return Pc});Ne.forEach(_n=>{Do(this.playersByQueriedElement,_n.element,[]).push(_n),_n.onDone(()=>function Hf(f,l,s){let h=f.get(l);if(h){if(h.length){const C=h.indexOf(s);h.splice(C,1)}0==h.length&&f.delete(l)}return h}(this.playersByQueriedElement,_n.element,_n))}),Ze.forEach(_n=>Ja(_n,Lp));const Bt=ta(Wn);return Bt.onDestroy(()=>{Ze.forEach(_n=>au(_n,Lp)),Na(ue,s.toStyles)}),Lt.forEach(_n=>{Do(C,_n,[]).push(Bt)}),Bt}_buildPlayer(l,s,h){return s.length>0?this.driver.animate(l.element,s,l.duration,l.delay,l.easing,h):new kt.ZN(l.duration,l.delay)}}class Sd{constructor(l,s,h){this.namespaceId=l,this.triggerName=s,this.element=h,this._player=new kt.ZN,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(l){this._containsRealPlayer||(this._player=l,this._queuedCallbacks.forEach((s,h)=>{s.forEach(C=>nu(l,h,void 0,C))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(l.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(l){this.totalTime=l}syncPlayerEvents(l){const s=this._player;s.triggerCallback&&l.onStart(()=>s.triggerCallback("start")),l.onDone(()=>this.finish()),l.onDestroy(()=>this.destroy())}_queueEvent(l,s){Do(this._queuedCallbacks,l,[]).push(s)}onDone(l){this.queued&&this._queueEvent("done",l),this._player.onDone(l)}onStart(l){this.queued&&this._queueEvent("start",l),this._player.onStart(l)}onDestroy(l){this.queued&&this._queueEvent("destroy",l),this._player.onDestroy(l)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(l){this.queued||this._player.setPosition(l)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(l){const s=this._player;s.triggerCallback&&s.triggerCallback(l)}}function Bu(f){return f&&1===f.nodeType}function Xp(f,l){const s=f.style.display;return f.style.display=l??"none",s}function mm(f,l,s,h,C){const S=[];s.forEach(ue=>S.push(Xp(ue)));const z=[];h.forEach((ue,Ne)=>{const Ze=new Map;ue.forEach(Lt=>{const Wn=l.computeStyle(Ne,Lt,C);Ze.set(Lt,Wn),(!Wn||0==Wn.length)&&(Ne[Vo]=Mc,z.push(Ne))}),f.set(Ne,Ze)});let ee=0;return s.forEach(ue=>Xp(ue,S[ee++])),z}function Wf(f,l){const s=new Map;if(f.forEach(ee=>s.set(ee,[])),0==l.length)return s;const C=new Set(l),S=new Map;function z(ee){if(!ee)return 1;let ue=S.get(ee);if(ue)return ue;const Ne=ee.parentNode;return ue=s.has(Ne)?Ne:C.has(Ne)?1:z(Ne),S.set(ee,ue),ue}return l.forEach(ee=>{const ue=z(ee);1!==ue&&s.get(ue).push(ee)}),s}function Ja(f,l){f.classList?.add(l)}function au(f,l){f.classList?.remove(l)}function _m(f,l,s){ta(s).onDone(()=>f.processLeaveNode(l))}function Jp(f,l){for(let s=0;s<f.length;s++){const h=f[s];h instanceof kt.ZE?Jp(h.players,l):l.push(h)}}function Dh(f,l,s){const h=s.get(f);if(!h)return!1;let C=l.get(f);return C?h.forEach(S=>C.add(S)):l.set(f,h),s.delete(f),!0}class Uu{constructor(l,s,h){this.bodyNode=l,this._driver=s,this._normalizer=h,this._triggerCache={},this.onRemovalComplete=(C,S)=>{},this._transitionEngine=new gm(l,s,h),this._timelineEngine=new T_(l,s,h),this._transitionEngine.onRemovalComplete=(C,S)=>this.onRemovalComplete(C,S)}registerTrigger(l,s,h,C,S){const z=l+"-"+C;let ee=this._triggerCache[z];if(!ee){const ue=[],Ze=Dc(this._driver,S,ue,[]);if(ue.length)throw function Tp(f,l){return new g.vHH(3404,!1)}();ee=function Lu(f,l,s){return new Eh(f,l,s)}(C,Ze,this._normalizer),this._triggerCache[z]=ee}this._transitionEngine.registerTrigger(s,C,ee)}register(l,s){this._transitionEngine.register(l,s)}destroy(l,s){this._transitionEngine.destroy(l,s)}onInsert(l,s,h,C){this._transitionEngine.insertNode(l,s,h,C)}onRemove(l,s,h,C){this._transitionEngine.removeNode(l,s,C||!1,h)}disableAnimations(l,s){this._transitionEngine.markElementAsDisabled(l,s)}process(l,s,h,C){if("@"==h.charAt(0)){const[S,z]=Mu(h);this._timelineEngine.command(S,s,z,C)}else this._transitionEngine.trigger(l,s,h,C)}listen(l,s,h,C,S){if("@"==h.charAt(0)){const[z,ee]=Mu(h);return this._timelineEngine.listen(z,s,ee,S)}return this._transitionEngine.listen(l,s,h,C,S)}flush(l=-1){this._transitionEngine.flush(l)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let Ql=(()=>{class f{constructor(s,h,C){this._element=s,this._startStyles=h,this._endStyles=C,this._state=0;let S=f.initialStylesByElement.get(s);S||f.initialStylesByElement.set(s,S=new Map),this._initialStyles=S}start(){this._state<1&&(this._startStyles&&Na(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Na(this._element,this._initialStyles),this._endStyles&&(Na(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(f.initialStylesByElement.delete(this._element),this._startStyles&&(iu(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(iu(this._element,this._endStyles),this._endStyles=null),Na(this._element,this._initialStyles),this._state=3)}}return f.initialStylesByElement=new WeakMap,f})();function Kf(f){let l=null;return f.forEach((s,h)=>{(function wh(f){return"display"===f||"position"===f})(h)&&(l=l||new Map,l.set(h,s))}),l}class Od{constructor(l,s,h,C){this.element=l,this.keyframes=s,this.options=h,this._specialStyles=C,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=h.duration,this._delay=h.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(l=>l()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const l=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,l,this.options),this._finalKeyframe=l.length?l[l.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(l){const s=[];return l.forEach(h=>{s.push(Object.fromEntries(h))}),s}_triggerWebAnimation(l,s,h){return l.animate(this._convertKeyframesToObject(s),h)}onStart(l){this._originalOnStartFns.push(l),this._onStartFns.push(l)}onDone(l){this._originalOnDoneFns.push(l),this._onDoneFns.push(l)}onDestroy(l){this._onDestroyFns.push(l)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(l=>l()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(l=>l()),this._onDestroyFns=[])}setPosition(l){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=l*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const l=new Map;this.hasStarted()&&this._finalKeyframe.forEach((h,C)=>{"offset"!==C&&l.set(C,this._finished?h:gh(this.element,C))}),this.currentSnapshot=l}triggerCallback(l){const s="start"===l?this._onStartFns:this._onDoneFns;s.forEach(h=>h()),s.length=0}}class S_{validateStyleProperty(l){return!0}validateAnimatableStyleProperty(l){return!0}matchesElement(l,s){return!1}containsElement(l,s){return Rp(l,s)}getParentElement(l){return ru(l)}query(l,s,h){return Ec(l,s,h)}computeStyle(l,s,h){return window.getComputedStyle(l)[s]}animate(l,s,h,C,S,z=[]){const ue={duration:h,delay:C,fill:0==C?"both":"forwards"};S&&(ue.easing=S);const Ne=new Map,Ze=z.filter(Bt=>Bt instanceof Od);(function Vp(f,l){return 0===f||0===l})(h,C)&&Ze.forEach(Bt=>{Bt.currentSnapshot.forEach((_n,bn)=>Ne.set(bn,_n))});let Lt=function Cc(f){return f.length?f[0]instanceof Map?f:f.map(l=>wf(l)):[]}(s).map(Bt=>Xa(Bt));Lt=function sm(f,l,s){if(s.size&&l.length){let h=l[0],C=[];if(s.forEach((S,z)=>{h.has(z)||C.push(z),h.set(z,S)}),C.length)for(let S=1;S<l.length;S++){let z=l[S];C.forEach(ee=>z.set(ee,gh(f,ee)))}}return l}(l,Lt,Ne);const Wn=function xd(f,l){let s=null,h=null;return Array.isArray(l)&&l.length?(s=Kf(l[0]),l.length>1&&(h=Kf(l[l.length-1]))):l instanceof Map&&(s=Kf(l)),s||h?new Ql(f,s,h):null}(l,Lt);return new Od(l,Lt,ue,Wn)}}let Ih=(()=>{class f extends kt._j{constructor(s,h){super(),this._nextAnimationId=0,this._renderer=s.createRenderer(h.body,{id:"0",encapsulation:g.ifc.None,styles:[],data:{animation:[]}})}build(s){const h=this._nextAnimationId.toString();this._nextAnimationId++;const C=Array.isArray(s)?(0,kt.vP)(s):s;return eg(this._renderer,null,h,"register",[C]),new By(h,this._renderer)}}return f.\u0275fac=function(s){return new(s||f)(g.LFG(g.FYo),g.LFG(fe.K0))},f.\u0275prov=g.Yz7({token:f,factory:f.\u0275fac}),f})();class By extends kt.LC{constructor(l,s){super(),this._id=l,this._renderer=s}create(l,s){return new Uy(this._id,l,s||{},this._renderer)}}class Uy{constructor(l,s,h,C){this.id=l,this.element=s,this._renderer=C,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",h)}_listen(l,s){return this._renderer.listen(this.element,`@@${this.id}:${l}`,s)}_command(l,...s){return eg(this._renderer,this.element,this.id,l,s)}onDone(l){this._listen("done",l)}onStart(l){this._listen("start",l)}onDestroy(l){this._listen("destroy",l)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(l){this._command("setPosition",l)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function eg(f,l,s,h,C){return f.setProperty(l,`@@${s}:${h}`,C)}const tg="@.disabled";let Xl=(()=>{class f{constructor(s,h,C){this.delegate=s,this.engine=h,this._zone=C,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),h.onRemovalComplete=(S,z)=>{const ee=z?.parentNode(S);ee&&z.removeChild(ee,S)}}createRenderer(s,h){const S=this.delegate.createRenderer(s,h);if(!(s&&h&&h.data&&h.data.animation)){let Ze=this._rendererCache.get(S);return Ze||(Ze=new $f("",S,this.engine),this._rendererCache.set(S,Ze)),Ze}const z=h.id,ee=h.id+"-"+this._currentId;this._currentId++,this.engine.register(ee,s);const ue=Ze=>{Array.isArray(Ze)?Ze.forEach(ue):this.engine.registerTrigger(z,ee,s,Ze.name,Ze)};return h.data.animation.forEach(ue),new x_(this,ee,S,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(s,h,C){s>=0&&s<this._microtaskId?this._zone.run(()=>h(C)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(S=>{const[z,ee]=S;z(ee)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([h,C]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return f.\u0275fac=function(s){return new(s||f)(g.LFG(g.FYo),g.LFG(Uu),g.LFG(g.R0b))},f.\u0275prov=g.Yz7({token:f,factory:f.\u0275fac}),f})();class $f{constructor(l,s,h){this.namespaceId=l,this.delegate=s,this.engine=h,this.destroyNode=this.delegate.destroyNode?C=>s.destroyNode(C):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(l,s){return this.delegate.createElement(l,s)}createComment(l){return this.delegate.createComment(l)}createText(l){return this.delegate.createText(l)}appendChild(l,s){this.delegate.appendChild(l,s),this.engine.onInsert(this.namespaceId,s,l,!1)}insertBefore(l,s,h,C=!0){this.delegate.insertBefore(l,s,h),this.engine.onInsert(this.namespaceId,s,l,C)}removeChild(l,s,h){this.engine.onRemove(this.namespaceId,s,this.delegate,h)}selectRootElement(l,s){return this.delegate.selectRootElement(l,s)}parentNode(l){return this.delegate.parentNode(l)}nextSibling(l){return this.delegate.nextSibling(l)}setAttribute(l,s,h,C){this.delegate.setAttribute(l,s,h,C)}removeAttribute(l,s,h){this.delegate.removeAttribute(l,s,h)}addClass(l,s){this.delegate.addClass(l,s)}removeClass(l,s){this.delegate.removeClass(l,s)}setStyle(l,s,h,C){this.delegate.setStyle(l,s,h,C)}removeStyle(l,s,h){this.delegate.removeStyle(l,s,h)}setProperty(l,s,h){"@"==s.charAt(0)&&s==tg?this.disableAnimations(l,!!h):this.delegate.setProperty(l,s,h)}setValue(l,s){this.delegate.setValue(l,s)}listen(l,s,h){return this.delegate.listen(l,s,h)}disableAnimations(l,s){this.engine.disableAnimations(l,s)}}class x_ extends $f{constructor(l,s,h,C){super(s,h,C),this.factory=l,this.namespaceId=s}setProperty(l,s,h){"@"==s.charAt(0)?"."==s.charAt(1)&&s==tg?this.disableAnimations(l,h=void 0===h||!!h):this.engine.process(this.namespaceId,l,s.slice(1),h):this.delegate.setProperty(l,s,h)}listen(l,s,h){if("@"==s.charAt(0)){const C=function zf(f){switch(f){case"body":return document.body;case"document":return document;case"window":return window;default:return f}}(l);let S=s.slice(1),z="";return"@"!=S.charAt(0)&&([S,z]=function Th(f){const l=f.indexOf(".");return[f.substring(0,l),f.slice(l+1)]}(S)),this.engine.listen(this.namespaceId,C,S,z,ee=>{this.factory.scheduleListenerCallback(ee._data||-1,h,ee)})}return this.delegate.listen(l,s,h)}}const Jl=[{provide:kt._j,useClass:Ih},{provide:wc,useFactory:function Gf(){return new dm}},{provide:Uu,useClass:(()=>{class f extends Uu{constructor(s,h,C,S){super(s.body,h,C)}ngOnDestroy(){this.flush()}}return f.\u0275fac=function(s){return new(s||f)(g.LFG(fe.K0),g.LFG(Zl),g.LFG(wc),g.LFG(g.z2F))},f.\u0275prov=g.Yz7({token:f,factory:f.\u0275fac}),f})()},{provide:g.FYo,useFactory:function O_(f,l,s){return new Xl(f,l,s)},deps:[y.se,Uu,g.R0b]}],Ah=[{provide:Zl,useFactory:()=>new S_},{provide:g.QbO,useValue:"BrowserAnimations"},...Jl],ng=[{provide:Zl,useClass:fh},{provide:g.QbO,useValue:"NoopAnimations"},...Jl];let Em=(()=>{class f{static withConfig(s){return{ngModule:f,providers:s.disableAnimations?ng:Ah}}}return f.\u0275fac=function(s){return new(s||f)},f.\u0275mod=g.oAB({type:f}),f.\u0275inj=g.cJS({providers:Ah,imports:[y.b2]}),f})();var Zf=k(2011);let dg=(()=>{class f{}return f.\u0275fac=function(s){return new(s||f)},f.\u0275mod=g.oAB({type:f}),f.\u0275inj=g.cJS({imports:[fe.ez,Sr,Ar,Sr]}),f})(),rc=(()=>{class f{}return f.\u0275fac=function(s){return new(s||f)},f.\u0275mod=g.oAB({type:f}),f.\u0275inj=g.cJS({imports:[fe.ez,Sr,Hn,dt,Ar,Wt,Sr]}),f})();const bg=mt();class Eg{constructor(l,s){this._viewportRuler=l,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=s}attach(){}enable(){if(this._canBeEnabled()){const l=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=l.style.left||"",this._previousHTMLStyles.top=l.style.top||"",l.style.left=je(-this._previousScrollPosition.left),l.style.top=je(-this._previousScrollPosition.top),l.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const l=this._document.documentElement,h=l.style,C=this._document.body.style,S=h.scrollBehavior||"",z=C.scrollBehavior||"";this._isEnabled=!1,h.left=this._previousHTMLStyles.left,h.top=this._previousHTMLStyles.top,l.classList.remove("cdk-global-scrollblock"),bg&&(h.scrollBehavior=C.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),bg&&(h.scrollBehavior=S,C.scrollBehavior=z)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const s=this._document.body,h=this._viewportRuler.getViewportSize();return s.scrollHeight>h.height||s.scrollWidth>h.width}}class Al{constructor(l,s,h,C){this._scrollDispatcher=l,this._ngZone=s,this._viewportRuler=h,this._config=C,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(l){this._overlayRef=l}enable(){if(this._scrollSubscription)return;const l=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=l.subscribe(()=>{const s=this._viewportRuler.getViewportScrollPosition().top;Math.abs(s-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=l.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class Wu{enable(){}disable(){}attach(){}}function ao(f,l){return l.some(s=>f.bottom<s.top||f.top>s.bottom||f.right<s.left||f.left>s.right)}function ic(f,l){return l.some(s=>f.top<s.top||f.bottom>s.bottom||f.left<s.left||f.right>s.right)}class op{constructor(l,s,h,C){this._scrollDispatcher=l,this._viewportRuler=s,this._ngZone=h,this._config=C,this._scrollSubscription=null}attach(l){this._overlayRef=l}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const s=this._overlayRef.overlayElement.getBoundingClientRect(),{width:h,height:C}=this._viewportRuler.getViewportSize();ao(s,[{width:h,height:C,bottom:C,right:h,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let el=(()=>{class f{constructor(s,h,C,S){this._scrollDispatcher=s,this._viewportRuler=h,this._ngZone=C,this.noop=()=>new Wu,this.close=z=>new Al(this._scrollDispatcher,this._ngZone,this._viewportRuler,z),this.block=()=>new Eg(this._viewportRuler,this._document),this.reposition=z=>new op(this._scrollDispatcher,this._viewportRuler,this._ngZone,z),this._document=S}}return f.\u0275fac=function(s){return new(s||f)(g.LFG(Wc),g.LFG(Fl),g.LFG(g.R0b),g.LFG(fe.K0))},f.\u0275prov=g.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"}),f})();class xi{constructor(l){if(this.scrollStrategy=new Wu,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,l){const s=Object.keys(l);for(const h of s)void 0!==l[h]&&(this[h]=l[h])}}}class Fi{constructor(l,s){this.connectionPair=l,this.scrollableViewProperties=s}}let Ku=(()=>{class f{constructor(s){this._attachedOverlays=[],this._document=s}ngOnDestroy(){this.detach()}add(s){this.remove(s),this._attachedOverlays.push(s)}remove(s){const h=this._attachedOverlays.indexOf(s);h>-1&&this._attachedOverlays.splice(h,1),0===this._attachedOverlays.length&&this.detach()}}return f.\u0275fac=function(s){return new(s||f)(g.LFG(fe.K0))},f.\u0275prov=g.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"}),f})(),$u=(()=>{class f extends Ku{constructor(s,h){super(s),this._ngZone=h,this._keydownListener=C=>{const S=this._attachedOverlays;for(let z=S.length-1;z>-1;z--)if(S[z]._keydownEvents.observers.length>0){const ee=S[z]._keydownEvents;this._ngZone?this._ngZone.run(()=>ee.next(C)):ee.next(C);break}}}add(s){super.add(s),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return f.\u0275fac=function(s){return new(s||f)(g.LFG(fe.K0),g.LFG(g.R0b,8))},f.\u0275prov=g.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"}),f})(),Nd=(()=>{class f extends Ku{constructor(s,h,C){super(s),this._platform=h,this._ngZone=C,this._cursorStyleIsSet=!1,this._pointerDownListener=S=>{this._pointerDownEventTarget=Vt(S)},this._clickListener=S=>{const z=Vt(S),ee="click"===S.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:z;this._pointerDownEventTarget=null;const ue=this._attachedOverlays.slice();for(let Ne=ue.length-1;Ne>-1;Ne--){const Ze=ue[Ne];if(Ze._outsidePointerEvents.observers.length<1||!Ze.hasAttached())continue;if(Ze.overlayElement.contains(z)||Ze.overlayElement.contains(ee))break;const Lt=Ze._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>Lt.next(S)):Lt.next(S)}}}add(s){if(super.add(s),!this._isAttached){const h=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(h)):this._addEventListeners(h),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=h.style.cursor,h.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const s=this._document.body;s.removeEventListener("pointerdown",this._pointerDownListener,!0),s.removeEventListener("click",this._clickListener,!0),s.removeEventListener("auxclick",this._clickListener,!0),s.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(s.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(s){s.addEventListener("pointerdown",this._pointerDownListener,!0),s.addEventListener("click",this._clickListener,!0),s.addEventListener("auxclick",this._clickListener,!0),s.addEventListener("contextmenu",this._clickListener,!0)}}return f.\u0275fac=function(s){return new(s||f)(g.LFG(fe.K0),g.LFG(kn),g.LFG(g.R0b,8))},f.\u0275prov=g.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"}),f})(),zu=(()=>{class f{constructor(s,h){this._platform=h,this._document=s}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const s="cdk-overlay-container";if(this._platform.isBrowser||An()){const C=this._document.querySelectorAll(`.${s}[platform="server"], .${s}[platform="test"]`);for(let S=0;S<C.length;S++)C[S].remove()}const h=this._document.createElement("div");h.classList.add(s),An()?h.setAttribute("platform","test"):this._platform.isBrowser||h.setAttribute("platform","server"),this._document.body.appendChild(h),this._containerElement=h}}return f.\u0275fac=function(s){return new(s||f)(g.LFG(fe.K0),g.LFG(kn))},f.\u0275prov=g.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"}),f})();class Um{constructor(l,s,h,C,S,z,ee,ue,Ne,Ze=!1){this._portalOutlet=l,this._host=s,this._pane=h,this._config=C,this._ngZone=S,this._keyboardDispatcher=z,this._document=ee,this._location=ue,this._outsideClickDispatcher=Ne,this._animationsDisabled=Ze,this._backdropElement=null,this._backdropClick=new Le.x,this._attachments=new Le.x,this._detachments=new Le.x,this._locationChanges=Me.w0.EMPTY,this._backdropClickHandler=Lt=>this._backdropClick.next(Lt),this._backdropTransitionendHandler=Lt=>{this._disposeBackdrop(Lt.target)},this._keydownEvents=new Le.x,this._outsidePointerEvents=new Le.x,C.scrollStrategy&&(this._scrollStrategy=C.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=C.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(l){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const s=this._portalOutlet.attach(l);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe((0,$.q)(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof s?.onDestroy&&s.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),s}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const l=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),l}dispose(){const l=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,l&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(l){l!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=l,this.hasAttached()&&(l.attach(this),this.updatePosition()))}updateSize(l){this._config={...this._config,...l},this._updateElementSize()}setDirection(l){this._config={...this._config,direction:l},this._updateElementDirection()}addPanelClass(l){this._pane&&this._toggleClasses(this._pane,l,!0)}removePanelClass(l){this._pane&&this._toggleClasses(this._pane,l,!1)}getDirection(){const l=this._config.direction;return l?"string"==typeof l?l:l.value:"ltr"}updateScrollStrategy(l){l!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=l,this.hasAttached()&&(l.attach(this),l.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const l=this._pane.style;l.width=je(this._config.width),l.height=je(this._config.height),l.minWidth=je(this._config.minWidth),l.minHeight=je(this._config.minHeight),l.maxWidth=je(this._config.maxWidth),l.maxHeight=je(this._config.maxHeight)}_togglePointerEvents(l){this._pane.style.pointerEvents=l?"":"none"}_attachBackdrop(){const l="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(l)})}):this._backdropElement.classList.add(l)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const l=this._backdropElement;if(l){if(this._animationsDisabled)return void this._disposeBackdrop(l);l.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{l.addEventListener("transitionend",this._backdropTransitionendHandler)}),l.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(l)},500))}}_toggleClasses(l,s,h){const C=rt(s||[]).filter(S=>!!S);C.length&&(h?l.classList.add(...C):l.classList.remove(...C))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const l=this._ngZone.onStable.pipe(an((0,qo.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),l.unsubscribe())})})}_disposeScrollStrategy(){const l=this._scrollStrategy;l&&(l.disable(),l.detach&&l.detach())}_disposeBackdrop(l){l&&(l.removeEventListener("click",this._backdropClickHandler),l.removeEventListener("transitionend",this._backdropTransitionendHandler),l.remove(),this._backdropElement===l&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const Dg="cdk-overlay-connected-position-bounding-box",Z_=/([A-Za-z%]+)$/;class Vm{constructor(l,s,h,C,S){this._viewportRuler=s,this._document=h,this._platform=C,this._overlayContainer=S,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Le.x,this._resizeSubscription=Me.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(l)}get positions(){return this._preferredPositions}attach(l){this._validatePositions(),l.hostElement.classList.add(Dg),this._overlayRef=l,this._boundingBox=l.hostElement,this._pane=l.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const l=this._originRect,s=this._overlayRect,h=this._viewportRect,C=this._containerRect,S=[];let z;for(let ee of this._preferredPositions){let ue=this._getOriginPoint(l,C,ee),Ne=this._getOverlayPoint(ue,s,ee),Ze=this._getOverlayFit(Ne,s,h,ee);if(Ze.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(ee,ue);this._canFitWithFlexibleDimensions(Ze,Ne,h)?S.push({position:ee,origin:ue,overlayRect:s,boundingBoxRect:this._calculateBoundingBoxRect(ue,ee)}):(!z||z.overlayFit.visibleArea<Ze.visibleArea)&&(z={overlayFit:Ze,overlayPoint:Ne,originPoint:ue,position:ee,overlayRect:s})}if(S.length){let ee=null,ue=-1;for(const Ne of S){const Ze=Ne.boundingBoxRect.width*Ne.boundingBoxRect.height*(Ne.position.weight||1);Ze>ue&&(ue=Ze,ee=Ne)}return this._isPushed=!1,void this._applyPosition(ee.position,ee.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(z.position,z.originPoint);this._applyPosition(z.position,z.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&lu(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(Dg),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const l=this._lastPosition;if(l){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const s=this._getOriginPoint(this._originRect,this._containerRect,l);this._applyPosition(l,s)}else this.apply()}withScrollableContainers(l){return this._scrollables=l,this}withPositions(l){return this._preferredPositions=l,-1===l.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(l){return this._viewportMargin=l,this}withFlexibleDimensions(l=!0){return this._hasFlexibleDimensions=l,this}withGrowAfterOpen(l=!0){return this._growAfterOpen=l,this}withPush(l=!0){return this._canPush=l,this}withLockedPosition(l=!0){return this._positionLocked=l,this}setOrigin(l){return this._origin=l,this}withDefaultOffsetX(l){return this._offsetX=l,this}withDefaultOffsetY(l){return this._offsetY=l,this}withTransformOriginOn(l){return this._transformOriginSelector=l,this}_getOriginPoint(l,s,h){let C,S;if("center"==h.originX)C=l.left+l.width/2;else{const z=this._isRtl()?l.right:l.left,ee=this._isRtl()?l.left:l.right;C="start"==h.originX?z:ee}return s.left<0&&(C-=s.left),S="center"==h.originY?l.top+l.height/2:"top"==h.originY?l.top:l.bottom,s.top<0&&(S-=s.top),{x:C,y:S}}_getOverlayPoint(l,s,h){let C,S;return C="center"==h.overlayX?-s.width/2:"start"===h.overlayX?this._isRtl()?-s.width:0:this._isRtl()?0:-s.width,S="center"==h.overlayY?-s.height/2:"top"==h.overlayY?0:-s.height,{x:l.x+C,y:l.y+S}}_getOverlayFit(l,s,h,C){const S=Sl(s);let{x:z,y:ee}=l,ue=this._getOffset(C,"x"),Ne=this._getOffset(C,"y");ue&&(z+=ue),Ne&&(ee+=Ne);let Wn=0-ee,Bt=ee+S.height-h.height,_n=this._subtractOverflows(S.width,0-z,z+S.width-h.width),bn=this._subtractOverflows(S.height,Wn,Bt),Dr=_n*bn;return{visibleArea:Dr,isCompletelyWithinViewport:S.width*S.height===Dr,fitsInViewportVertically:bn===S.height,fitsInViewportHorizontally:_n==S.width}}_canFitWithFlexibleDimensions(l,s,h){if(this._hasFlexibleDimensions){const C=h.bottom-s.y,S=h.right-s.x,z=cp(this._overlayRef.getConfig().minHeight),ee=cp(this._overlayRef.getConfig().minWidth),Ne=l.fitsInViewportHorizontally||null!=ee&&ee<=S;return(l.fitsInViewportVertically||null!=z&&z<=C)&&Ne}return!1}_pushOverlayOnScreen(l,s,h){if(this._previousPushAmount&&this._positionLocked)return{x:l.x+this._previousPushAmount.x,y:l.y+this._previousPushAmount.y};const C=Sl(s),S=this._viewportRect,z=Math.max(l.x+C.width-S.width,0),ee=Math.max(l.y+C.height-S.height,0),ue=Math.max(S.top-h.top-l.y,0),Ne=Math.max(S.left-h.left-l.x,0);let Ze=0,Lt=0;return Ze=C.width<=S.width?Ne||-z:l.x<this._viewportMargin?S.left-h.left-l.x:0,Lt=C.height<=S.height?ue||-ee:l.y<this._viewportMargin?S.top-h.top-l.y:0,this._previousPushAmount={x:Ze,y:Lt},{x:l.x+Ze,y:l.y+Lt}}_applyPosition(l,s){if(this._setTransformOrigin(l),this._setOverlayElementStyles(s,l),this._setBoundingBoxStyles(s,l),l.panelClass&&this._addPanelClasses(l.panelClass),this._lastPosition=l,this._positionChanges.observers.length){const h=this._getScrollVisibility(),C=new Fi(l,h);this._positionChanges.next(C)}this._isInitialRender=!1}_setTransformOrigin(l){if(!this._transformOriginSelector)return;const s=this._boundingBox.querySelectorAll(this._transformOriginSelector);let h,C=l.overlayY;h="center"===l.overlayX?"center":this._isRtl()?"start"===l.overlayX?"right":"left":"start"===l.overlayX?"left":"right";for(let S=0;S<s.length;S++)s[S].style.transformOrigin=`${h} ${C}`}_calculateBoundingBoxRect(l,s){const h=this._viewportRect,C=this._isRtl();let S,z,ee,Ze,Lt,Wn;if("top"===s.overlayY)z=l.y,S=h.height-z+this._viewportMargin;else if("bottom"===s.overlayY)ee=h.height-l.y+2*this._viewportMargin,S=h.height-ee+this._viewportMargin;else{const Bt=Math.min(h.bottom-l.y+h.top,l.y),_n=this._lastBoundingBoxSize.height;S=2*Bt,z=l.y-Bt,S>_n&&!this._isInitialRender&&!this._growAfterOpen&&(z=l.y-_n/2)}if("end"===s.overlayX&&!C||"start"===s.overlayX&&C)Wn=h.width-l.x+this._viewportMargin,Ze=l.x-this._viewportMargin;else if("start"===s.overlayX&&!C||"end"===s.overlayX&&C)Lt=l.x,Ze=h.right-l.x;else{const Bt=Math.min(h.right-l.x+h.left,l.x),_n=this._lastBoundingBoxSize.width;Ze=2*Bt,Lt=l.x-Bt,Ze>_n&&!this._isInitialRender&&!this._growAfterOpen&&(Lt=l.x-_n/2)}return{top:z,left:Lt,bottom:ee,right:Wn,width:Ze,height:S}}_setBoundingBoxStyles(l,s){const h=this._calculateBoundingBoxRect(l,s);!this._isInitialRender&&!this._growAfterOpen&&(h.height=Math.min(h.height,this._lastBoundingBoxSize.height),h.width=Math.min(h.width,this._lastBoundingBoxSize.width));const C={};if(this._hasExactPosition())C.top=C.left="0",C.bottom=C.right=C.maxHeight=C.maxWidth="",C.width=C.height="100%";else{const S=this._overlayRef.getConfig().maxHeight,z=this._overlayRef.getConfig().maxWidth;C.height=je(h.height),C.top=je(h.top),C.bottom=je(h.bottom),C.width=je(h.width),C.left=je(h.left),C.right=je(h.right),C.alignItems="center"===s.overlayX?"center":"end"===s.overlayX?"flex-end":"flex-start",C.justifyContent="center"===s.overlayY?"center":"bottom"===s.overlayY?"flex-end":"flex-start",S&&(C.maxHeight=je(S)),z&&(C.maxWidth=je(z))}this._lastBoundingBoxSize=h,lu(this._boundingBox.style,C)}_resetBoundingBoxStyles(){lu(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){lu(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(l,s){const h={},C=this._hasExactPosition(),S=this._hasFlexibleDimensions,z=this._overlayRef.getConfig();if(C){const Ze=this._viewportRuler.getViewportScrollPosition();lu(h,this._getExactOverlayY(s,l,Ze)),lu(h,this._getExactOverlayX(s,l,Ze))}else h.position="static";let ee="",ue=this._getOffset(s,"x"),Ne=this._getOffset(s,"y");ue&&(ee+=`translateX(${ue}px) `),Ne&&(ee+=`translateY(${Ne}px)`),h.transform=ee.trim(),z.maxHeight&&(C?h.maxHeight=je(z.maxHeight):S&&(h.maxHeight="")),z.maxWidth&&(C?h.maxWidth=je(z.maxWidth):S&&(h.maxWidth="")),lu(this._pane.style,h)}_getExactOverlayY(l,s,h){let C={top:"",bottom:""},S=this._getOverlayPoint(s,this._overlayRect,l);return this._isPushed&&(S=this._pushOverlayOnScreen(S,this._overlayRect,h)),"bottom"===l.overlayY?C.bottom=this._document.documentElement.clientHeight-(S.y+this._overlayRect.height)+"px":C.top=je(S.y),C}_getExactOverlayX(l,s,h){let z,C={left:"",right:""},S=this._getOverlayPoint(s,this._overlayRect,l);return this._isPushed&&(S=this._pushOverlayOnScreen(S,this._overlayRect,h)),z=this._isRtl()?"end"===l.overlayX?"left":"right":"end"===l.overlayX?"right":"left","right"===z?C.right=this._document.documentElement.clientWidth-(S.x+this._overlayRect.width)+"px":C.left=je(S.x),C}_getScrollVisibility(){const l=this._getOriginRect(),s=this._pane.getBoundingClientRect(),h=this._scrollables.map(C=>C.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:ic(l,h),isOriginOutsideView:ao(l,h),isOverlayClipped:ic(s,h),isOverlayOutsideView:ao(s,h)}}_subtractOverflows(l,...s){return s.reduce((h,C)=>h-Math.max(C,0),l)}_getNarrowedViewportRect(){const l=this._document.documentElement.clientWidth,s=this._document.documentElement.clientHeight,h=this._viewportRuler.getViewportScrollPosition();return{top:h.top+this._viewportMargin,left:h.left+this._viewportMargin,right:h.left+l-this._viewportMargin,bottom:h.top+s-this._viewportMargin,width:l-2*this._viewportMargin,height:s-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(l,s){return"x"===s?l.offsetX??this._offsetX:l.offsetY??this._offsetY}_validatePositions(){}_addPanelClasses(l){this._pane&&rt(l).forEach(s=>{""!==s&&-1===this._appliedPanelClasses.indexOf(s)&&(this._appliedPanelClasses.push(s),this._pane.classList.add(s))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(l=>{this._pane.classList.remove(l)}),this._appliedPanelClasses=[])}_getOriginRect(){const l=this._origin;if(l instanceof g.SBq)return l.nativeElement.getBoundingClientRect();if(l instanceof Element)return l.getBoundingClientRect();const s=l.width||0,h=l.height||0;return{top:l.y,bottom:l.y+h,left:l.x,right:l.x+s,height:h,width:s}}}function lu(f,l){for(let s in l)l.hasOwnProperty(s)&&(f[s]=l[s]);return f}function cp(f){if("number"!=typeof f&&null!=f){const[l,s]=f.split(Z_);return s&&"px"!==s?null:parseFloat(l)}return f||null}function Sl(f){return{top:Math.floor(f.top),right:Math.floor(f.right),bottom:Math.floor(f.bottom),left:Math.floor(f.left),width:Math.floor(f.width),height:Math.floor(f.height)}}const cu="cdk-global-overlay-wrapper";class up{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(l){const s=l.getConfig();this._overlayRef=l,this._width&&!s.width&&l.updateSize({width:this._width}),this._height&&!s.height&&l.updateSize({height:this._height}),l.hostElement.classList.add(cu),this._isDisposed=!1}top(l=""){return this._bottomOffset="",this._topOffset=l,this._alignItems="flex-start",this}left(l=""){return this._xOffset=l,this._xPosition="left",this}bottom(l=""){return this._topOffset="",this._bottomOffset=l,this._alignItems="flex-end",this}right(l=""){return this._xOffset=l,this._xPosition="right",this}start(l=""){return this._xOffset=l,this._xPosition="start",this}end(l=""){return this._xOffset=l,this._xPosition="end",this}width(l=""){return this._overlayRef?this._overlayRef.updateSize({width:l}):this._width=l,this}height(l=""){return this._overlayRef?this._overlayRef.updateSize({height:l}):this._height=l,this}centerHorizontally(l=""){return this.left(l),this._xPosition="center",this}centerVertically(l=""){return this.top(l),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const l=this._overlayRef.overlayElement.style,s=this._overlayRef.hostElement.style,h=this._overlayRef.getConfig(),{width:C,height:S,maxWidth:z,maxHeight:ee}=h,ue=!("100%"!==C&&"100vw"!==C||z&&"100%"!==z&&"100vw"!==z),Ne=!("100%"!==S&&"100vh"!==S||ee&&"100%"!==ee&&"100vh"!==ee),Ze=this._xPosition,Lt=this._xOffset,Wn="rtl"===this._overlayRef.getConfig().direction;let Bt="",_n="",bn="";ue?bn="flex-start":"center"===Ze?(bn="center",Wn?_n=Lt:Bt=Lt):Wn?"left"===Ze||"end"===Ze?(bn="flex-end",Bt=Lt):("right"===Ze||"start"===Ze)&&(bn="flex-start",_n=Lt):"left"===Ze||"start"===Ze?(bn="flex-start",Bt=Lt):("right"===Ze||"end"===Ze)&&(bn="flex-end",_n=Lt),l.position=this._cssPosition,l.marginLeft=ue?"0":Bt,l.marginTop=Ne?"0":this._topOffset,l.marginBottom=this._bottomOffset,l.marginRight=ue?"0":_n,s.justifyContent=bn,s.alignItems=Ne?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const l=this._overlayRef.overlayElement.style,s=this._overlayRef.hostElement,h=s.style;s.classList.remove(cu),h.justifyContent=h.alignItems=l.marginTop=l.marginBottom=l.marginLeft=l.marginRight=l.position="",this._overlayRef=null,this._isDisposed=!0}}let Hm=(()=>{class f{constructor(s,h,C,S){this._viewportRuler=s,this._document=h,this._platform=C,this._overlayContainer=S}global(){return new up}flexibleConnectedTo(s){return new Vm(s,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return f.\u0275fac=function(s){return new(s||f)(g.LFG(Fl),g.LFG(fe.K0),g.LFG(kn),g.LFG(zu))},f.\u0275prov=g.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"}),f})(),q_=0,kh=(()=>{class f{constructor(s,h,C,S,z,ee,ue,Ne,Ze,Lt,Wn,Bt){this.scrollStrategies=s,this._overlayContainer=h,this._componentFactoryResolver=C,this._positionBuilder=S,this._keyboardDispatcher=z,this._injector=ee,this._ngZone=ue,this._document=Ne,this._directionality=Ze,this._location=Lt,this._outsideClickDispatcher=Wn,this._animationsModuleType=Bt}create(s){const h=this._createHostElement(),C=this._createPaneElement(h),S=this._createPortalOutlet(C),z=new xi(s);return z.direction=z.direction||this._directionality.value,new Um(S,h,C,z,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(s){const h=this._document.createElement("div");return h.id="cdk-overlay-"+q_++,h.classList.add("cdk-overlay-pane"),s.appendChild(h),h}_createHostElement(){const s=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(s),s}_createPortalOutlet(s){return this._appRef||(this._appRef=this._injector.get(g.z2F)),new Te(s,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return f.\u0275fac=function(s){return new(s||f)(g.LFG(el),g.LFG(zu),g.LFG(g._Vd),g.LFG(Hm),g.LFG($u),g.LFG(g.zs3),g.LFG(g.R0b),g.LFG(fe.K0),g.LFG(fn),g.LFG(fe.Ye),g.LFG(Nd),g.LFG(g.QbO,8))},f.\u0275prov=g.Yz7({token:f,factory:f.\u0275fac}),f})();const Zu={provide:new g.OlP("cdk-connected-overlay-scroll-strategy"),deps:[kh],useFactory:function Gu(f){return()=>f.scrollStrategies.reposition()}};let jm=(()=>{class f{}return f.\u0275fac=function(s){return new(s||f)},f.\u0275mod=g.oAB({type:f}),f.\u0275inj=g.cJS({providers:[kh,Zu],imports:[qt,Hn,wi,wi]}),f})();const xg={provide:new g.OlP("mat-select-scroll-strategy"),deps:[kh],useFactory:function xc(f){return()=>f.scrollStrategies.reposition()}};let ny=(()=>{class f{}return f.\u0275fac=function(s){return new(s||f)},f.\u0275mod=g.oAB({type:f}),f.\u0275inj=g.cJS({providers:[xg],imports:[fe.ez,jm,fa,Sr,zc,dg,fa,Sr]}),f})(),Ho=(()=>{class f{}return f.\u0275fac=function(s){return new(s||f)},f.\u0275mod=g.oAB({type:f}),f.\u0275inj=g.cJS({imports:[Sr,Sr]}),f})(),Og=(()=>{class f{}return f.\u0275fac=function(s){return new(s||f)},f.\u0275mod=g.oAB({type:f}),f.\u0275inj=g.cJS({imports:[qt]}),f})(),Oc=(()=>{class f{constructor(){this.changes=new Le.x,this.optionalLabel="Optional",this.completedLabel="Completed",this.editableLabel="Editable"}}return f.\u0275fac=function(s){return new(s||f)},f.\u0275prov=g.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"}),f})();const ra={provide:Oc,deps:[[new g.FiY,new g.tp0,Oc]],useFactory:function tl(f){return f||new Oc}};let s_=(()=>{class f{}return f.\u0275fac=function(s){return new(s||f)},f.\u0275mod=g.oAB({type:f}),f.\u0275inj=g.cJS({providers:[ra,Lc],imports:[Sr,fe.ez,Hn,ff,Og,ht,dt,Sr]}),f})(),o_=(()=>{class f{}return f.\u0275fac=function(s){return new(s||f)},f.\u0275mod=g.oAB({type:f}),f.\u0275inj=g.cJS({imports:[cf,ht,Qc,rc,ff,pl,dg,Ho,ny,g_,s_]}),f})(),a_=(()=>{class f{constructor(s){this.loaderService=s}intercept(s,h){return this.loaderService.show(),h.handle(s).pipe((0,jl.x)(()=>this.loaderService.hide()))}}return f.\u0275fac=function(s){return new(s||f)(g.LFG(Ep.D))},f.\u0275prov=g.Yz7({token:f,factory:f.\u0275fac}),f})(),cc=(()=>{class f{}return f.\u0275fac=function(s){return new(s||f)},f.\u0275mod=g.oAB({type:f,bootstrap:[__]}),f.\u0275inj=g.cJS({providers:[{provide:Kl.TP,useClass:a_,multi:!0}],imports:[y.b2,Y.u5,sd,Zf.hO.initializeApp(Wg_firebase),Em,o_,zd.Rh.forRoot(),Kl.JF]}),f})();(0,g.G48)(),y.q6().bootstrapModule(cc).catch(f=>console.error(f))},5867:(ft,Ue,k)=>{k.d(Ue,{C6:()=>y.getApps,Mq:()=>y.getApp});var y=k(9681);(0,y.registerVersion)("firebase","9.9.4","app")},127:(ft,Ue,k)=>{k.d(Ue,{Z:()=>y.Z});var y=k(3942);y.Z.registerVersion("firebase","9.9.4","app-compat")},2274:(ft,Ue,k)=>{k.r(Ue);var y=k(5861),g=k(3942),Y=k(2090),me=k(9681),Se=k(655),ke=k(1877),Be=k(4859);const nt=function Et(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Nt=function ot(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},rt=new Y.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Re=new ke.Yd("@firebase/auth");function Ht(I,...m){Re.logLevel<=ke.in.ERROR&&Re.error(`Auth (${me.SDK_VERSION}): ${I}`,...m)}function Le(I,...m){throw Tt(I,...m)}function Me(I,...m){return Tt(I,...m)}function $e(I,m,E){const x=Object.assign(Object.assign({},Nt()),{[m]:E});return new Y.LL("auth","Firebase",x).create(m,{appName:I.name})}function It(I,m,E){if(!(m instanceof E))throw E.name!==m.constructor.name&&Le(I,"argument-error"),$e(I,"argument-error",`Type of ${m.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Tt(I,...m){if("string"!=typeof I){const E=m[0],x=[...m.slice(1)];return x[0]&&(x[0].appName=I.name),I._errorFactory.create(E,...x)}return rt.create(I,...m)}function oe(I,m,...E){if(!I)throw Tt(m,...E)}function Je(I){const m="INTERNAL ASSERTION FAILED: "+I;throw Ht(m),new Error(m)}function de(I,m){I||Je(m)}const fe=new Map;function ze(I){de(I instanceof Function,"Expected a class definition");let m=fe.get(I);return m?(de(m instanceof I,"Instance stored in cache mismatched with class"),m):(m=new I,fe.set(I,m),m)}function Ft(){var I;return typeof self<"u"&&(null===(I=self.location)||void 0===I?void 0:I.href)||""}function Gt(){return"http:"===ln()||"https:"===ln()}function ln(){var I;return typeof self<"u"&&(null===(I=self.location)||void 0===I?void 0:I.protocol)||null}class En{constructor(m,E){this.shortDelay=m,this.longDelay=E,de(E>m,"Short delay should be less than long delay!"),this.isMobile=(0,Y.uI)()||(0,Y.b$)()}get(){return function on(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Gt()||(0,Y.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function pn(I,m){de(I.emulator,"Emulator should always be set here");const{url:E}=I.emulator;return m?`${E}${m.startsWith("/")?m.slice(1):m}`:E}class it{static initialize(m,E,x){this.fetchImpl=m,E&&(this.headersImpl=E),x&&(this.responseImpl=x)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Je("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Je("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Je("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const gt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Te=new En(3e4,6e4);function Ge(I,m){return I.tenantId&&!m.tenantId?Object.assign(Object.assign({},m),{tenantId:I.tenantId}):m}function Ut(I,m,E,x){return Cn.apply(this,arguments)}function Cn(){return(Cn=(0,y.Z)(function*(I,m,E,x,q={}){return tr(I,q,(0,y.Z)(function*(){let se={},Ve={};x&&("GET"===m?Ve=x:se={body:JSON.stringify(x)});const ht=(0,Y.xO)(Object.assign({key:I.config.apiKey},Ve)).slice(1),Jt=yield I._getAdditionalHeaders();return Jt["Content-Type"]="application/json",I.languageCode&&(Jt["X-Firebase-Locale"]=I.languageCode),it.fetch()(Dn(I,I.config.apiHost,E,ht),Object.assign({method:m,headers:Jt,referrerPolicy:"no-referrer"},se))}))})).apply(this,arguments)}function tr(I,m,E){return lr.apply(this,arguments)}function lr(){return(lr=(0,y.Z)(function*(I,m,E){I._canInitEmulator=!1;const x=Object.assign(Object.assign({},gt),m);try{const q=new kn(I),se=yield Promise.race([E(),q.promise]);q.clearNetworkTimeout();const Ve=yield se.json();if("needConfirmation"in Ve)throw sr(I,"account-exists-with-different-credential",Ve);if(se.ok&&!("errorMessage"in Ve))return Ve;{const ht=se.ok?Ve.errorMessage:Ve.error.message,[Jt,yn]=ht.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Jt)throw sr(I,"credential-already-in-use",Ve);if("EMAIL_EXISTS"===Jt)throw sr(I,"email-already-in-use",Ve);if("USER_DISABLED"===Jt)throw sr(I,"user-disabled",Ve);const Rn=x[Jt]||Jt.toLowerCase().replace(/[_\s]+/g,"-");if(yn)throw $e(I,Rn,yn);Le(I,Rn)}}catch(q){if(q instanceof Y.ZR)throw q;Le(I,"network-request-failed")}})).apply(this,arguments)}function Hn(I,m,E,x){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,y.Z)(function*(I,m,E,x,q={}){const se=yield Ut(I,m,E,x,q);return"mfaPendingCredential"in se&&Le(I,"multi-factor-auth-required",{_serverResponse:se}),se})).apply(this,arguments)}function Dn(I,m,E,x){const q=`${m}${E}?${x}`;return I.config.emulator?pn(I.config,q):`${I.config.apiScheme}://${q}`}class kn{constructor(m){this.auth=m,this.timer=null,this.promise=new Promise((E,x)=>{this.timer=setTimeout(()=>x(Me(this.auth,"network-request-failed")),Te.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function sr(I,m,E){const x={appName:I.name};E.email&&(x.email=E.email),E.phoneNumber&&(x.phoneNumber=E.phoneNumber);const q=Me(I,m,x);return q.customData._tokenResponse=E,q}function xt(){return(xt=(0,y.Z)(function*(I,m){return Ut(I,"POST","/v1/accounts:delete",m)})).apply(this,arguments)}function qn(I,m){return gr.apply(this,arguments)}function gr(){return(gr=(0,y.Z)(function*(I,m){return Ut(I,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function Er(I,m){return Yr.apply(this,arguments)}function Yr(){return(Yr=(0,y.Z)(function*(I,m){return Ut(I,"POST","/v1/accounts:lookup",m)})).apply(this,arguments)}function Hr(I){if(I)try{const m=new Date(Number(I));if(!isNaN(m.getTime()))return m.toUTCString()}catch{}}function xe(){return(xe=(0,y.Z)(function*(I,m=!1){const E=(0,Y.m9)(I),x=yield E.getIdToken(m),q=lt(x);oe(q&&q.exp&&q.auth_time&&q.iat,E.auth,"internal-error");const se="object"==typeof q.firebase?q.firebase:void 0,Ve=se?.sign_in_provider;return{claims:q,token:x,authTime:Hr(ye(q.auth_time)),issuedAtTime:Hr(ye(q.iat)),expirationTime:Hr(ye(q.exp)),signInProvider:Ve||null,signInSecondFactor:se?.sign_in_second_factor||null}})).apply(this,arguments)}function ye(I){return 1e3*Number(I)}function lt(I){var m;const[E,x,q]=I.split(".");if(void 0===E||void 0===x||void 0===q)return Ht("JWT malformed, contained fewer than 3 sections"),null;try{const se=(0,Y.tV)(x);return se?JSON.parse(se):(Ht("Failed to decode base64 JWT payload"),null)}catch(se){return Ht("Caught error parsing JWT payload as JSON",null===(m=se)||void 0===m?void 0:m.toString()),null}}function en(I,m){return Vt.apply(this,arguments)}function Vt(){return(Vt=(0,y.Z)(function*(I,m,E=!1){if(E)return m;try{return yield m}catch(x){throw x instanceof Y.ZR&&An(x)&&I.auth.currentUser===I&&(yield I.auth.signOut()),x}})).apply(this,arguments)}function An({code:I}){return"auth/user-disabled"===I||"auth/user-token-expired"===I}class Zt{constructor(m){this.user=m,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(m){var E;if(m){const x=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),x}{this.errorBackoff=3e4;const q=(null!==(E=this.user.stsTokenManager.expirationTime)&&void 0!==E?E:0)-Date.now()-3e5;return Math.max(0,q)}}schedule(m=!1){var E=this;if(!this.isRunning)return;const x=this.getInterval(m);this.timerId=setTimeout((0,y.Z)(function*(){yield E.iteration()}),x)}iteration(){var m=this;return(0,y.Z)(function*(){var E;try{yield m.user.getIdToken(!0)}catch(x){return void("auth/network-request-failed"===(null===(E=x)||void 0===E?void 0:E.code)&&m.schedule(!0))}m.schedule()})()}}class Un{constructor(m,E){this.createdAt=m,this.lastLoginAt=E,this._initializeTime()}_initializeTime(){this.lastSignInTime=Hr(this.lastLoginAt),this.creationTime=Hr(this.createdAt)}_copy(m){this.createdAt=m.createdAt,this.lastLoginAt=m.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function jn(I){return zr.apply(this,arguments)}function zr(){return(zr=(0,y.Z)(function*(I){var m;const E=I.auth,x=yield I.getIdToken(),q=yield en(I,Er(E,{idToken:x}));oe(q?.users.length,E,"internal-error");const se=q.users[0];I._notifyReloadListener(se);const Ve=null!==(m=se.providerUserInfo)&&void 0!==m&&m.length?_e(se.providerUserInfo):[],ht=ve(I.providerData,Ve),Rn=!!I.isAnonymous&&!(I.email&&se.passwordHash||ht?.length),Sn={uid:se.localId,displayName:se.displayName||null,photoURL:se.photoUrl||null,email:se.email||null,emailVerified:se.emailVerified||!1,phoneNumber:se.phoneNumber||null,tenantId:se.tenantId||null,providerData:ht,metadata:new Un(se.createdAt,se.lastLoginAt),isAnonymous:Rn};Object.assign(I,Sn)})).apply(this,arguments)}function Ae(){return(Ae=(0,y.Z)(function*(I){const m=(0,Y.m9)(I);yield jn(m),yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)})).apply(this,arguments)}function ve(I,m){return[...I.filter(x=>!m.some(q=>q.providerId===x.providerId)),...m]}function _e(I){return I.map(m=>{var{providerId:E}=m,x=(0,Se._T)(m,["providerId"]);return{providerId:E,uid:x.rawId||"",displayName:x.displayName||null,email:x.email||null,phoneNumber:x.phoneNumber||null,photoURL:x.photoUrl||null}})}function be(){return(be=(0,y.Z)(function*(I,m){const E=yield tr(I,{},(0,y.Z)(function*(){const x=(0,Y.xO)({grant_type:"refresh_token",refresh_token:m}).slice(1),{tokenApiHost:q,apiKey:se}=I.config,Ve=Dn(I,q,"/v1/token",`key=${se}`),ht=yield I._getAdditionalHeaders();return ht["Content-Type"]="application/x-www-form-urlencoded",it.fetch()(Ve,{method:"POST",headers:ht,body:x})}));return{accessToken:E.access_token,expiresIn:E.expires_in,refreshToken:E.refresh_token}})).apply(this,arguments)}class Ct{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(m){oe(m.idToken,"internal-error"),oe(typeof m.idToken<"u","internal-error"),oe(typeof m.refreshToken<"u","internal-error");const E="expiresIn"in m&&typeof m.expiresIn<"u"?Number(m.expiresIn):function yt(I){const m=lt(I);return oe(m,"internal-error"),oe(typeof m.exp<"u","internal-error"),oe(typeof m.iat<"u","internal-error"),Number(m.exp)-Number(m.iat)}(m.idToken);this.updateTokensAndExpiration(m.idToken,m.refreshToken,E)}getToken(m,E=!1){var x=this;return(0,y.Z)(function*(){return oe(!x.accessToken||x.refreshToken,m,"user-token-expired"),E||!x.accessToken||x.isExpired?x.refreshToken?(yield x.refresh(m,x.refreshToken),x.accessToken):null:x.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(m,E){var x=this;return(0,y.Z)(function*(){const{accessToken:q,refreshToken:se,expiresIn:Ve}=yield function Oe(I,m){return be.apply(this,arguments)}(m,E);x.updateTokensAndExpiration(q,se,Number(Ve))})()}updateTokensAndExpiration(m,E,x){this.refreshToken=E||null,this.accessToken=m||null,this.expirationTime=Date.now()+1e3*x}static fromJSON(m,E){const{refreshToken:x,accessToken:q,expirationTime:se}=E,Ve=new Ct;return x&&(oe("string"==typeof x,"internal-error",{appName:m}),Ve.refreshToken=x),q&&(oe("string"==typeof q,"internal-error",{appName:m}),Ve.accessToken=q),se&&(oe("number"==typeof se,"internal-error",{appName:m}),Ve.expirationTime=se),Ve}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(m){this.accessToken=m.accessToken,this.refreshToken=m.refreshToken,this.expirationTime=m.expirationTime}_clone(){return Object.assign(new Ct,this.toJSON())}_performRefresh(){return Je("not implemented")}}function jt(I,m){oe("string"==typeof I||typeof I>"u","internal-error",{appName:m})}class tn{constructor(m){var{uid:E,auth:x,stsTokenManager:q}=m,se=(0,Se._T)(m,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Zt(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=E,this.auth=x,this.stsTokenManager=q,this.accessToken=q.accessToken,this.displayName=se.displayName||null,this.email=se.email||null,this.emailVerified=se.emailVerified||!1,this.phoneNumber=se.phoneNumber||null,this.photoURL=se.photoURL||null,this.isAnonymous=se.isAnonymous||!1,this.tenantId=se.tenantId||null,this.providerData=se.providerData?[...se.providerData]:[],this.metadata=new Un(se.createdAt||void 0,se.lastLoginAt||void 0)}getIdToken(m){var E=this;return(0,y.Z)(function*(){const x=yield en(E,E.stsTokenManager.getToken(E.auth,m));return oe(x,E.auth,"internal-error"),E.accessToken!==x&&(E.accessToken=x,yield E.auth._persistUserIfCurrent(E),E.auth._notifyListenersIfCurrent(E)),x})()}getIdTokenResult(m){return function mt(I){return xe.apply(this,arguments)}(this,m)}reload(){return function Mn(I){return Ae.apply(this,arguments)}(this)}_assign(m){this!==m&&(oe(this.uid===m.uid,this.auth,"internal-error"),this.displayName=m.displayName,this.photoURL=m.photoURL,this.email=m.email,this.emailVerified=m.emailVerified,this.phoneNumber=m.phoneNumber,this.isAnonymous=m.isAnonymous,this.tenantId=m.tenantId,this.providerData=m.providerData.map(E=>Object.assign({},E)),this.metadata._copy(m.metadata),this.stsTokenManager._assign(m.stsTokenManager))}_clone(m){return new tn(Object.assign(Object.assign({},this),{auth:m,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(m){oe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=m,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(m){this.reloadListener?this.reloadListener(m):this.reloadUserInfo=m}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(m,E=!1){var x=this;return(0,y.Z)(function*(){let q=!1;m.idToken&&m.idToken!==x.stsTokenManager.accessToken&&(x.stsTokenManager.updateFromServerResponse(m),q=!0),E&&(yield jn(x)),yield x.auth._persistUserIfCurrent(x),q&&x.auth._notifyListenersIfCurrent(x)})()}delete(){var m=this;return(0,y.Z)(function*(){const E=yield m.getIdToken();return yield en(m,function Nn(I,m){return xt.apply(this,arguments)}(m.auth,{idToken:E})),m.stsTokenManager.clearRefreshToken(),m.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(m=>Object.assign({},m)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(m,E){var x,q,se,Ve,ht,Jt,yn,Rn;const Sn=null!==(x=E.displayName)&&void 0!==x?x:void 0,ds=null!==(q=E.email)&&void 0!==q?q:void 0,ka=null!==(se=E.phoneNumber)&&void 0!==se?se:void 0,Qc=null!==(Ve=E.photoURL)&&void 0!==Ve?Ve:void 0,pd=null!==(ht=E.tenantId)&&void 0!==ht?ht:void 0,bu=null!==(Jt=E._redirectEventId)&&void 0!==Jt?Jt:void 0,df=null!==(yn=E.createdAt)&&void 0!==yn?yn:void 0,hf=null!==(Rn=E.lastLoginAt)&&void 0!==Rn?Rn:void 0,{uid:Eu,emailVerified:Xc,isAnonymous:Jc,providerData:gd,stsTokenManager:ff}=E;oe(Eu&&ff,m,"internal-error");const Vg=Ct.fromJSON(this.name,ff);oe("string"==typeof Eu,m,"internal-error"),jt(Sn,m.name),jt(ds,m.name),oe("boolean"==typeof Xc,m,"internal-error"),oe("boolean"==typeof Jc,m,"internal-error"),jt(ka,m.name),jt(Qc,m.name),jt(pd,m.name),jt(bu,m.name),jt(df,m.name),jt(hf,m.name);const uh=new tn({uid:Eu,auth:m,email:ds,emailVerified:Xc,displayName:Sn,isAnonymous:Jc,photoURL:Qc,phoneNumber:ka,tenantId:pd,stsTokenManager:Vg,createdAt:df,lastLoginAt:hf});return gd&&Array.isArray(gd)&&(uh.providerData=gd.map(Uo=>Object.assign({},Uo))),bu&&(uh._redirectEventId=bu),uh}static _fromIdTokenResponse(m,E,x=!1){return(0,y.Z)(function*(){const q=new Ct;q.updateFromServerResponse(E);const se=new tn({uid:E.localId,auth:m,stsTokenManager:q,isAnonymous:x});return yield jn(se),se})()}}const or=(()=>{class I{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,y.Z)(function*(){return!0})()}_set(E,x){var q=this;return(0,y.Z)(function*(){q.storage[E]=x})()}_get(E){var x=this;return(0,y.Z)(function*(){const q=x.storage[E];return void 0===q?null:q})()}_remove(E){var x=this;return(0,y.Z)(function*(){delete x.storage[E]})()}_addListener(E,x){}_removeListener(E,x){}}return I.type="NONE",I})();function Nr(I,m,E){return`firebase:${I}:${m}:${E}`}class Fn{constructor(m,E,x){this.persistence=m,this.auth=E,this.userKey=x;const{config:q,name:se}=this.auth;this.fullUserKey=Nr(this.userKey,q.apiKey,se),this.fullPersistenceKey=Nr("persistence",q.apiKey,se),this.boundEventHandler=E._onStorageEvent.bind(E),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(m){return this.persistence._set(this.fullUserKey,m.toJSON())}getCurrentUser(){var m=this;return(0,y.Z)(function*(){const E=yield m.persistence._get(m.fullUserKey);return E?tn._fromJSON(m.auth,E):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(m){var E=this;return(0,y.Z)(function*(){if(E.persistence===m)return;const x=yield E.getCurrentUser();return yield E.removeCurrentUser(),E.persistence=m,x?E.setCurrentUser(x):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(m,E,x="authUser"){return(0,y.Z)(function*(){if(!E.length)return new Fn(ze(or),m,x);const q=(yield Promise.all(E.map(function(){var yn=(0,y.Z)(function*(Rn){if(yield Rn._isAvailable())return Rn});return function(Rn){return yn.apply(this,arguments)}}()))).filter(yn=>yn);let se=q[0]||ze(or);const Ve=Nr(x,m.config.apiKey,m.name);let ht=null;for(const yn of E)try{const Rn=yield yn._get(Ve);if(Rn){const Sn=tn._fromJSON(m,Rn);yn!==se&&(ht=Sn),se=yn;break}}catch{}const Jt=q.filter(yn=>yn._shouldAllowMigration);return se._shouldAllowMigration&&Jt.length?(se=Jt[0],ht&&(yield se._set(Ve,ht.toJSON())),yield Promise.all(E.map(function(){var yn=(0,y.Z)(function*(Rn){if(Rn!==se)try{yield Rn._remove(Ve)}catch{}});return function(Rn){return yn.apply(this,arguments)}}())),new Fn(se,m,x)):new Fn(se,m,x)})()}}function Ln(I){const m=I.toLowerCase();if(m.includes("opera/")||m.includes("opr/")||m.includes("opios/"))return"Opera";if(gi(m))return"IEMobile";if(m.includes("msie")||m.includes("trident/"))return"IE";if(m.includes("edge/"))return"Edge";if(mr(m))return"Firefox";if(m.includes("silk/"))return"Silk";if(Ie(m))return"Blackberry";if(Ee(m))return"Webos";if(Fr(m))return"Safari";if((m.includes("chrome/")||Ii(m))&&!m.includes("edge/"))return"Chrome";if(Br(m))return"Android";{const x=I.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===x?.length)return x[1]}return"Other"}function mr(I=(0,Y.z$)()){return/firefox\//i.test(I)}function Fr(I=(0,Y.z$)()){const m=I.toLowerCase();return m.includes("safari/")&&!m.includes("chrome/")&&!m.includes("crios/")&&!m.includes("android")}function Ii(I=(0,Y.z$)()){return/crios\//i.test(I)}function gi(I=(0,Y.z$)()){return/iemobile/i.test(I)}function Br(I=(0,Y.z$)()){return/android/i.test(I)}function Ie(I=(0,Y.z$)()){return/blackberry/i.test(I)}function Ee(I=(0,Y.z$)()){return/webos/i.test(I)}function ae(I=(0,Y.z$)()){return/iphone|ipad|ipod/i.test(I)||/macintosh/i.test(I)&&/mobile/i.test(I)}function Vn(I=(0,Y.z$)()){return ae(I)||Br(I)||Ee(I)||Ie(I)||/windows phone/i.test(I)||gi(I)}function Ur(I,m=[]){let E;switch(I){case"Browser":E=Ln((0,Y.z$)());break;case"Worker":E=`${Ln((0,Y.z$)())}-${I}`;break;default:E=I}const x=m.length?m.join(","):"FirebaseCore-web";return`${E}/JsCore/${me.SDK_VERSION}/${x}`}class wr{constructor(m){this.auth=m,this.queue=[]}pushCallback(m,E){const x=se=>new Promise((Ve,ht)=>{try{Ve(m(se))}catch(Jt){ht(Jt)}});x.onAbort=E,this.queue.push(x);const q=this.queue.length-1;return()=>{this.queue[q]=()=>Promise.resolve()}}runMiddleware(m){var E=this;return(0,y.Z)(function*(){var x;if(E.auth.currentUser===m)return;const q=[];try{for(const se of E.queue)yield se(m),se.onAbort&&q.push(se.onAbort)}catch(se){q.reverse();for(const Ve of q)try{Ve()}catch{}throw E.auth._errorFactory.create("login-blocked",{originalMessage:null===(x=se)||void 0===x?void 0:x.message})}})()}}class hn{constructor(m,E,x){this.app=m,this.heartbeatServiceProvider=E,this.config=x,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Mi(this),this.idTokenSubscription=new Mi(this),this.beforeStateQueue=new wr(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=rt,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=m.name,this.clientVersion=x.sdkClientVersion}_initializeWithPersistence(m,E){var x=this;return E&&(this._popupRedirectResolver=ze(E)),this._initializationPromise=this.queue((0,y.Z)(function*(){var q,se;if(!x._deleted&&(x.persistenceManager=yield Fn.create(x,m),!x._deleted)){if(null!==(q=x._popupRedirectResolver)&&void 0!==q&&q._shouldInitProactively)try{yield x._popupRedirectResolver._initialize(x)}catch{}yield x.initializeCurrentUser(E),x.lastNotifiedUid=(null===(se=x.currentUser)||void 0===se?void 0:se.uid)||null,!x._deleted&&(x._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var m=this;return(0,y.Z)(function*(){if(m._deleted)return;const E=yield m.assertedPersistence.getCurrentUser();if(m.currentUser||E){if(m.currentUser&&E&&m.currentUser.uid===E.uid)return m._currentUser._assign(E),void(yield m.currentUser.getIdToken());yield m._updateCurrentUser(E,!0)}})()}initializeCurrentUser(m){var E=this;return(0,y.Z)(function*(){var x;const q=yield E.assertedPersistence.getCurrentUser();let se=q,Ve=!1;if(m&&E.config.authDomain){yield E.getOrInitRedirectPersistenceManager();const ht=null===(x=E.redirectUser)||void 0===x?void 0:x._redirectEventId,Jt=se?._redirectEventId,yn=yield E.tryRedirectSignIn(m);(!ht||ht===Jt)&&yn?.user&&(se=yn.user,Ve=!0)}if(!se)return E.directlySetCurrentUser(null);if(!se._redirectEventId){if(Ve)try{yield E.beforeStateQueue.runMiddleware(se)}catch(ht){se=q,E._popupRedirectResolver._overrideRedirectResult(E,()=>Promise.reject(ht))}return se?E.reloadAndSetCurrentUserOrClear(se):E.directlySetCurrentUser(null)}return oe(E._popupRedirectResolver,E,"argument-error"),yield E.getOrInitRedirectPersistenceManager(),E.redirectUser&&E.redirectUser._redirectEventId===se._redirectEventId?E.directlySetCurrentUser(se):E.reloadAndSetCurrentUserOrClear(se)})()}tryRedirectSignIn(m){var E=this;return(0,y.Z)(function*(){let x=null;try{x=yield E._popupRedirectResolver._completeRedirectFn(E,m,!0)}catch{yield E._setRedirectUser(null)}return x})()}reloadAndSetCurrentUserOrClear(m){var E=this;return(0,y.Z)(function*(){var x;try{yield jn(m)}catch(q){if("auth/network-request-failed"!==(null===(x=q)||void 0===x?void 0:x.code))return E.directlySetCurrentUser(null)}return E.directlySetCurrentUser(m)})()}useDeviceLanguage(){this.languageCode=function Dt(){if(typeof navigator>"u")return null;const I=navigator;return I.languages&&I.languages[0]||I.language||null}()}_delete(){var m=this;return(0,y.Z)(function*(){m._deleted=!0})()}updateCurrentUser(m){var E=this;return(0,y.Z)(function*(){const x=m?(0,Y.m9)(m):null;return x&&oe(x.auth.config.apiKey===E.config.apiKey,E,"invalid-user-token"),E._updateCurrentUser(x&&x._clone(E))})()}_updateCurrentUser(m,E=!1){var x=this;return(0,y.Z)(function*(){if(!x._deleted)return m&&oe(x.tenantId===m.tenantId,x,"tenant-id-mismatch"),E||(yield x.beforeStateQueue.runMiddleware(m)),x.queue((0,y.Z)(function*(){yield x.directlySetCurrentUser(m),x.notifyAuthListeners()}))})()}signOut(){var m=this;return(0,y.Z)(function*(){return yield m.beforeStateQueue.runMiddleware(null),(m.redirectPersistenceManager||m._popupRedirectResolver)&&(yield m._setRedirectUser(null)),m._updateCurrentUser(null,!0)})()}setPersistence(m){var E=this;return this.queue((0,y.Z)(function*(){yield E.assertedPersistence.setPersistence(ze(m))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(m){this._errorFactory=new Y.LL("auth","Firebase",m())}onAuthStateChanged(m,E,x){return this.registerStateListener(this.authStateSubscription,m,E,x)}beforeAuthStateChanged(m,E){return this.beforeStateQueue.pushCallback(m,E)}onIdTokenChanged(m,E,x){return this.registerStateListener(this.idTokenSubscription,m,E,x)}toJSON(){var m;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(m=this._currentUser)||void 0===m?void 0:m.toJSON()}}_setRedirectUser(m,E){var x=this;return(0,y.Z)(function*(){const q=yield x.getOrInitRedirectPersistenceManager(E);return null===m?q.removeCurrentUser():q.setCurrentUser(m)})()}getOrInitRedirectPersistenceManager(m){var E=this;return(0,y.Z)(function*(){if(!E.redirectPersistenceManager){const x=m&&ze(m)||E._popupRedirectResolver;oe(x,E,"argument-error"),E.redirectPersistenceManager=yield Fn.create(E,[ze(x._redirectPersistence)],"redirectUser"),E.redirectUser=yield E.redirectPersistenceManager.getCurrentUser()}return E.redirectPersistenceManager})()}_redirectUserForId(m){var E=this;return(0,y.Z)(function*(){var x,q;return E._isInitialized&&(yield E.queue((0,y.Z)(function*(){}))),(null===(x=E._currentUser)||void 0===x?void 0:x._redirectEventId)===m?E._currentUser:(null===(q=E.redirectUser)||void 0===q?void 0:q._redirectEventId)===m?E.redirectUser:null})()}_persistUserIfCurrent(m){var E=this;return(0,y.Z)(function*(){if(m===E.currentUser)return E.queue((0,y.Z)(function*(){return E.directlySetCurrentUser(m)}))})()}_notifyListenersIfCurrent(m){m===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var m,E;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const x=null!==(E=null===(m=this.currentUser)||void 0===m?void 0:m.uid)&&void 0!==E?E:null;this.lastNotifiedUid!==x&&(this.lastNotifiedUid=x,this.authStateSubscription.next(this.currentUser))}registerStateListener(m,E,x,q){if(this._deleted)return()=>{};const se="function"==typeof E?E:E.next.bind(E),Ve=this._isInitialized?Promise.resolve():this._initializationPromise;return oe(Ve,this,"internal-error"),Ve.then(()=>se(this.currentUser)),"function"==typeof E?m.addObserver(E,x,q):m.addObserver(E)}directlySetCurrentUser(m){var E=this;return(0,y.Z)(function*(){E.currentUser&&E.currentUser!==m&&E._currentUser._stopProactiveRefresh(),m&&E.isProactiveRefreshEnabled&&m._startProactiveRefresh(),E.currentUser=m,m?yield E.assertedPersistence.setCurrentUser(m):yield E.assertedPersistence.removeCurrentUser()})()}queue(m){return this.operations=this.operations.then(m,m),this.operations}get assertedPersistence(){return oe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(m){!m||this.frameworks.includes(m)||(this.frameworks.push(m),this.frameworks.sort(),this.clientVersion=Ur(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var m=this;return(0,y.Z)(function*(){var E;const x={"X-Client-Version":m.clientVersion};m.app.options.appId&&(x["X-Firebase-gmpid"]=m.app.options.appId);const q=yield null===(E=m.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===E?void 0:E.getHeartbeatsHeader();return q&&(x["X-Firebase-Client"]=q),x})()}}function dr(I){return(0,Y.m9)(I)}class Mi{constructor(m){this.auth=m,this.observer=null,this.addObserver=(0,Y.ne)(E=>this.observer=E)}get next(){return oe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Bi(I){const m=I.indexOf(":");return m<0?"":I.substr(0,m+1)}function Pi(I){if(!I)return null;const m=Number(I);return isNaN(m)?null:m}class mi{constructor(m,E){this.providerId=m,this.signInMethod=E}toJSON(){return Je("not implemented")}_getIdTokenResponse(m){return Je("not implemented")}_linkToIdToken(m,E){return Je("not implemented")}_getReauthenticationResolver(m){return Je("not implemented")}}function jr(I,m){return co.apply(this,arguments)}function co(){return(co=(0,y.Z)(function*(I,m){return Ut(I,"POST","/v1/accounts:resetPassword",Ge(I,m))})).apply(this,arguments)}function _r(I,m){return Ns.apply(this,arguments)}function Ns(){return(Ns=(0,y.Z)(function*(I,m){return Ut(I,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function Fs(I,m){return Ti.apply(this,arguments)}function Ti(){return(Ti=(0,y.Z)(function*(I,m){return Ut(I,"POST","/v1/accounts:update",Ge(I,m))})).apply(this,arguments)}function Ui(){return(Ui=(0,y.Z)(function*(I,m){return Hn(I,"POST","/v1/accounts:signInWithPassword",Ge(I,m))})).apply(this,arguments)}function Ki(I,m){return bi.apply(this,arguments)}function bi(){return(bi=(0,y.Z)(function*(I,m){return Ut(I,"POST","/v1/accounts:sendOobCode",Ge(I,m))})).apply(this,arguments)}function Pr(I,m){return hs.apply(this,arguments)}function hs(){return(hs=(0,y.Z)(function*(I,m){return Ki(I,m)})).apply(this,arguments)}function ii(I,m){return Ri.apply(this,arguments)}function Ri(){return(Ri=(0,y.Z)(function*(I,m){return Ki(I,m)})).apply(this,arguments)}function eo(I,m){return Mo.apply(this,arguments)}function Mo(){return(Mo=(0,y.Z)(function*(I,m){return Ki(I,m)})).apply(this,arguments)}function Ea(I,m){return si.apply(this,arguments)}function si(){return(si=(0,y.Z)(function*(I,m){return Ki(I,m)})).apply(this,arguments)}function Ca(){return(Ca=(0,y.Z)(function*(I,m){return Hn(I,"POST","/v1/accounts:signInWithEmailLink",Ge(I,m))})).apply(this,arguments)}function Wo(){return(Wo=(0,y.Z)(function*(I,m){return Hn(I,"POST","/v1/accounts:signInWithEmailLink",Ge(I,m))})).apply(this,arguments)}class To extends mi{constructor(m,E,x,q=null){super("password",x),this._email=m,this._password=E,this._tenantId=q}static _fromEmailAndPassword(m,E){return new To(m,E,"password")}static _fromEmailAndCode(m,E,x=null){return new To(m,E,"emailLink",x)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(m){const E="string"==typeof m?JSON.parse(m):m;if(E?.email&&E?.password){if("password"===E.signInMethod)return this._fromEmailAndPassword(E.email,E.password);if("emailLink"===E.signInMethod)return this._fromEmailAndCode(E.email,E.password,E.tenantId)}return null}_getIdTokenResponse(m){var E=this;return(0,y.Z)(function*(){switch(E.signInMethod){case"password":return function Es(I,m){return Ui.apply(this,arguments)}(m,{returnSecureToken:!0,email:E._email,password:E._password});case"emailLink":return function Fa(I,m){return Ca.apply(this,arguments)}(m,{email:E._email,oobCode:E._password});default:Le(m,"internal-error")}})()}_linkToIdToken(m,E){var x=this;return(0,y.Z)(function*(){switch(x.signInMethod){case"password":return _r(m,{idToken:E,returnSecureToken:!0,email:x._email,password:x._password});case"emailLink":return function Bs(I,m){return Wo.apply(this,arguments)}(m,{idToken:E,email:x._email,oobCode:x._password});default:Le(m,"internal-error")}})()}_getReauthenticationResolver(m){return this._getIdTokenResponse(m)}}function oi(I,m){return Ke.apply(this,arguments)}function Ke(){return(Ke=(0,y.Z)(function*(I,m){return Hn(I,"POST","/v1/accounts:signInWithIdp",Ge(I,m))})).apply(this,arguments)}class et extends mi{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(m){const E=new et(m.providerId,m.signInMethod);return m.idToken||m.accessToken?(m.idToken&&(E.idToken=m.idToken),m.accessToken&&(E.accessToken=m.accessToken),m.nonce&&!m.pendingToken&&(E.nonce=m.nonce),m.pendingToken&&(E.pendingToken=m.pendingToken)):m.oauthToken&&m.oauthTokenSecret?(E.accessToken=m.oauthToken,E.secret=m.oauthTokenSecret):Le("argument-error"),E}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(m){const E="string"==typeof m?JSON.parse(m):m,{providerId:x,signInMethod:q}=E,se=(0,Se._T)(E,["providerId","signInMethod"]);if(!x||!q)return null;const Ve=new et(x,q);return Ve.idToken=se.idToken||void 0,Ve.accessToken=se.accessToken||void 0,Ve.secret=se.secret,Ve.nonce=se.nonce,Ve.pendingToken=se.pendingToken||null,Ve}_getIdTokenResponse(m){return oi(m,this.buildRequest())}_linkToIdToken(m,E){const x=this.buildRequest();return x.idToken=E,oi(m,x)}_getReauthenticationResolver(m){const E=this.buildRequest();return E.autoCreate=!1,oi(m,E)}buildRequest(){const m={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)m.pendingToken=this.pendingToken;else{const E={};this.idToken&&(E.id_token=this.idToken),this.accessToken&&(E.access_token=this.accessToken),this.secret&&(E.oauth_token_secret=this.secret),E.providerId=this.providerId,this.nonce&&!this.pendingToken&&(E.nonce=this.nonce),m.postBody=(0,Y.xO)(E)}return m}}function Mt(I,m){return zt.apply(this,arguments)}function zt(){return(zt=(0,y.Z)(function*(I,m){return Ut(I,"POST","/v1/accounts:sendVerificationCode",Ge(I,m))})).apply(this,arguments)}function Tn(){return(Tn=(0,y.Z)(function*(I,m){return Hn(I,"POST","/v1/accounts:signInWithPhoneNumber",Ge(I,m))})).apply(this,arguments)}function ur(){return(ur=(0,y.Z)(function*(I,m){const E=yield Hn(I,"POST","/v1/accounts:signInWithPhoneNumber",Ge(I,m));if(E.temporaryProof)throw sr(I,"account-exists-with-different-credential",E);return E})).apply(this,arguments)}const $i={USER_NOT_FOUND:"user-not-found"};function Vi(){return(Vi=(0,y.Z)(function*(I,m){return Hn(I,"POST","/v1/accounts:signInWithPhoneNumber",Ge(I,Object.assign(Object.assign({},m),{operation:"REAUTH"})),$i)})).apply(this,arguments)}class zi extends mi{constructor(m){super("phone","phone"),this.params=m}static _fromVerification(m,E){return new zi({verificationId:m,verificationCode:E})}static _fromTokenResponse(m,E){return new zi({phoneNumber:m,temporaryProof:E})}_getIdTokenResponse(m){return function cn(I,m){return Tn.apply(this,arguments)}(m,this._makeVerificationRequest())}_linkToIdToken(m,E){return function Xr(I,m){return ur.apply(this,arguments)}(m,Object.assign({idToken:E},this._makeVerificationRequest()))}_getReauthenticationResolver(m){return function to(I,m){return Vi.apply(this,arguments)}(m,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:m,phoneNumber:E,verificationId:x,verificationCode:q}=this.params;return m&&E?{temporaryProof:m,phoneNumber:E}:{sessionInfo:x,code:q}}toJSON(){const m={providerId:this.providerId};return this.params.phoneNumber&&(m.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(m.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(m.verificationCode=this.params.verificationCode),this.params.verificationId&&(m.verificationId=this.params.verificationId),m}static fromJSON(m){"string"==typeof m&&(m=JSON.parse(m));const{verificationId:E,verificationCode:x,phoneNumber:q,temporaryProof:se}=m;return x||E||q||se?new zi({verificationId:E,verificationCode:x,phoneNumber:q,temporaryProof:se}):null}}class Cs{constructor(m){var E,x,q,se,Ve,ht;const Jt=(0,Y.zd)((0,Y.pd)(m)),yn=null!==(E=Jt.apiKey)&&void 0!==E?E:null,Rn=null!==(x=Jt.oobCode)&&void 0!==x?x:null,Sn=function ss(I){switch(I){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(q=Jt.mode)&&void 0!==q?q:null);oe(yn&&Rn&&Sn,"argument-error"),this.apiKey=yn,this.operation=Sn,this.code=Rn,this.continueUrl=null!==(se=Jt.continueUrl)&&void 0!==se?se:null,this.languageCode=null!==(Ve=Jt.languageCode)&&void 0!==Ve?Ve:null,this.tenantId=null!==(ht=Jt.tenantId)&&void 0!==ht?ht:null}static parseLink(m){const E=function uo(I){const m=(0,Y.zd)((0,Y.pd)(I)).link,E=m?(0,Y.zd)((0,Y.pd)(m)).deep_link_id:null,x=(0,Y.zd)((0,Y.pd)(I)).deep_link_id;return(x?(0,Y.zd)((0,Y.pd)(x)).link:null)||x||E||m||I}(m);try{return new Cs(E)}catch{return null}}}let Ds=(()=>{class I{constructor(){this.providerId=I.PROVIDER_ID}static credential(E,x){return To._fromEmailAndPassword(E,x)}static credentialWithLink(E,x){const q=Cs.parseLink(x);return oe(q,"argument-error"),To._fromEmailAndCode(E,q.code,q.tenantId)}}return I.PROVIDER_ID="password",I.EMAIL_PASSWORD_SIGN_IN_METHOD="password",I.EMAIL_LINK_SIGN_IN_METHOD="emailLink",I})();class Gi{constructor(m){this.providerId=m,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(m){this.defaultLanguageCode=m}setCustomParameters(m){return this.customParameters=m,this}getCustomParameters(){return this.customParameters}}class Zi extends Gi{constructor(){super(...arguments),this.scopes=[]}addScope(m){return this.scopes.includes(m)||this.scopes.push(m),this}getScopes(){return[...this.scopes]}}class Us extends Zi{static credentialFromJSON(m){const E="string"==typeof m?JSON.parse(m):m;return oe("providerId"in E&&"signInMethod"in E,"argument-error"),et._fromParams(E)}credential(m){return this._credential(Object.assign(Object.assign({},m),{nonce:m.rawNonce}))}_credential(m){return oe(m.idToken||m.accessToken,"argument-error"),et._fromParams(Object.assign(Object.assign({},m),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(m){return Us.oauthCredentialFromTaggedObject(m)}static credentialFromError(m){return Us.oauthCredentialFromTaggedObject(m.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:E,oauthAccessToken:x,oauthTokenSecret:q,pendingToken:se,nonce:Ve,providerId:ht}=m;if(!x&&!q&&!E&&!se||!ht)return null;try{return new Us(ht)._credential({idToken:E,accessToken:x,nonce:Ve,pendingToken:se})}catch{return null}}}let Vs=(()=>{class I extends Zi{constructor(){super("facebook.com")}static credential(E){return et._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.FACEBOOK_SIGN_IN_METHOD,accessToken:E})}static credentialFromResult(E){return I.credentialFromTaggedObject(E)}static credentialFromError(E){return I.credentialFromTaggedObject(E.customData||{})}static credentialFromTaggedObject({_tokenResponse:E}){if(!E||!("oauthAccessToken"in E)||!E.oauthAccessToken)return null;try{return I.credential(E.oauthAccessToken)}catch{return null}}}return I.FACEBOOK_SIGN_IN_METHOD="facebook.com",I.PROVIDER_ID="facebook.com",I})(),ho=(()=>{class I extends Zi{constructor(){super("google.com"),this.addScope("profile")}static credential(E,x){return et._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.GOOGLE_SIGN_IN_METHOD,idToken:E,accessToken:x})}static credentialFromResult(E){return I.credentialFromTaggedObject(E)}static credentialFromError(E){return I.credentialFromTaggedObject(E.customData||{})}static credentialFromTaggedObject({_tokenResponse:E}){if(!E)return null;const{oauthIdToken:x,oauthAccessToken:q}=E;if(!x&&!q)return null;try{return I.credential(x,q)}catch{return null}}}return I.GOOGLE_SIGN_IN_METHOD="google.com",I.PROVIDER_ID="google.com",I})(),sa=(()=>{class I extends Zi{constructor(){super("github.com")}static credential(E){return et._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.GITHUB_SIGN_IN_METHOD,accessToken:E})}static credentialFromResult(E){return I.credentialFromTaggedObject(E)}static credentialFromError(E){return I.credentialFromTaggedObject(E.customData||{})}static credentialFromTaggedObject({_tokenResponse:E}){if(!E||!("oauthAccessToken"in E)||!E.oauthAccessToken)return null;try{return I.credential(E.oauthAccessToken)}catch{return null}}}return I.GITHUB_SIGN_IN_METHOD="github.com",I.PROVIDER_ID="github.com",I})();class ws extends mi{constructor(m,E){super(m,m),this.pendingToken=E}_getIdTokenResponse(m){return oi(m,this.buildRequest())}_linkToIdToken(m,E){const x=this.buildRequest();return x.idToken=E,oi(m,x)}_getReauthenticationResolver(m){const E=this.buildRequest();return E.autoCreate=!1,oi(m,E)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(m){const E="string"==typeof m?JSON.parse(m):m,{providerId:x,signInMethod:q,pendingToken:se}=E;return x&&q&&se&&x===q?new ws(x,se):null}static _create(m,E){return new ws(m,E)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Hi extends Gi{constructor(m){oe(m.startsWith("saml."),"argument-error"),super(m)}static credentialFromResult(m){return Hi.samlCredentialFromTaggedObject(m)}static credentialFromError(m){return Hi.samlCredentialFromTaggedObject(m.customData||{})}static credentialFromJSON(m){const E=ws.fromJSON(m);return oe(E,"argument-error"),E}static samlCredentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{pendingToken:E,providerId:x}=m;if(!E||!x)return null;try{return ws._create(x,E)}catch{return null}}}let _i=(()=>{class I extends Zi{constructor(){super("twitter.com")}static credential(E,x){return et._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.TWITTER_SIGN_IN_METHOD,oauthToken:E,oauthTokenSecret:x})}static credentialFromResult(E){return I.credentialFromTaggedObject(E)}static credentialFromError(E){return I.credentialFromTaggedObject(E.customData||{})}static credentialFromTaggedObject({_tokenResponse:E}){if(!E)return null;const{oauthAccessToken:x,oauthTokenSecret:q}=E;if(!x||!q)return null;try{return I.credential(x,q)}catch{return null}}}return I.TWITTER_SIGN_IN_METHOD="twitter.com",I.PROVIDER_ID="twitter.com",I})();function os(I,m){return Hs.apply(this,arguments)}function Hs(){return(Hs=(0,y.Z)(function*(I,m){return Hn(I,"POST","/v1/accounts:signUp",Ge(I,m))})).apply(this,arguments)}class Ei{constructor(m){this.user=m.user,this.providerId=m.providerId,this._tokenResponse=m._tokenResponse,this.operationType=m.operationType}static _fromIdTokenResponse(m,E,x,q=!1){return(0,y.Z)(function*(){const se=yield tn._fromIdTokenResponse(m,x,q),Ve=Ms(x);return new Ei({user:se,providerId:Ve,_tokenResponse:x,operationType:E})})()}static _forOperation(m,E,x){return(0,y.Z)(function*(){yield m._updateTokensIfNecessary(x,!0);const q=Ms(x);return new Ei({user:m,providerId:q,_tokenResponse:x,operationType:E})})()}}function Ms(I){return I.providerId?I.providerId:"phoneNumber"in I?"phone":null}function Gr(){return(Gr=(0,y.Z)(function*(I){var m;const E=dr(I);if(yield E._initializationPromise,null!==(m=E.currentUser)&&void 0!==m&&m.isAnonymous)return new Ei({user:E.currentUser,providerId:null,operationType:"signIn"});const x=yield os(E,{returnSecureToken:!0}),q=yield Ei._fromIdTokenResponse(E,"signIn",x,!0);return yield E._updateCurrentUser(q.user),q})).apply(this,arguments)}class fs extends Y.ZR{constructor(m,E,x,q){var se;super(E.code,E.message),this.operationType=x,this.user=q,Object.setPrototypeOf(this,fs.prototype),this.customData={appName:m.name,tenantId:null!==(se=m.tenantId)&&void 0!==se?se:void 0,_serverResponse:E.customData._serverResponse,operationType:x}}static _fromErrorAndOperation(m,E,x,q){return new fs(m,E,x,q)}}function Da(I,m,E,x){return("reauthenticate"===m?E._getReauthenticationResolver(I):E._getIdTokenResponse(I)).catch(se=>{throw"auth/multi-factor-auth-required"===se.code?fs._fromErrorAndOperation(I,se,m,x):se})}function Ts(I){return new Set(I.map(({providerId:m})=>m).filter(m=>!!m))}function as(){return(as=(0,y.Z)(function*(I,m){const E=(0,Y.m9)(I);yield nr(!0,E,m);const{providerUserInfo:x}=yield qn(E.auth,{idToken:yield E.getIdToken(),deleteProvider:[m]}),q=Ts(x||[]);return E.providerData=E.providerData.filter(se=>q.has(se.providerId)),q.has("phone")||(E.phoneNumber=null),yield E.auth._persistUserIfCurrent(E),E})).apply(this,arguments)}function no(I,m){return qi.apply(this,arguments)}function qi(){return(qi=(0,y.Z)(function*(I,m,E=!1){const x=yield en(I,m._linkToIdToken(I.auth,yield I.getIdToken()),E);return Ei._forOperation(I,"link",x)})).apply(this,arguments)}function nr(I,m,E){return $o.apply(this,arguments)}function $o(){return($o=(0,y.Z)(function*(I,m,E){yield jn(m);const q=!1===I?"provider-already-linked":"no-such-provider";oe(Ts(m.providerData).has(E)===I,m.auth,q)})).apply(this,arguments)}function yr(I,m){return ro.apply(this,arguments)}function ro(){return(ro=(0,y.Z)(function*(I,m,E=!1){var x;const{auth:q}=I,se="reauthenticate";try{const Ve=yield en(I,Da(q,se,m,I),E);oe(Ve.idToken,q,"internal-error");const ht=lt(Ve.idToken);oe(ht,q,"internal-error");const{sub:Jt}=ht;return oe(I.uid===Jt,q,"user-mismatch"),Ei._forOperation(I,se,Ve)}catch(Ve){throw"auth/user-not-found"===(null===(x=Ve)||void 0===x?void 0:x.code)&&Le(q,"user-mismatch"),Ve}})).apply(this,arguments)}function Jr(I,m){return oa.apply(this,arguments)}function oa(){return(oa=(0,y.Z)(function*(I,m,E=!1){const x="signIn",q=yield Da(I,x,m),se=yield Ei._fromIdTokenResponse(I,x,q);return E||(yield I._updateCurrentUser(se.user)),se})).apply(this,arguments)}function vr(I,m){return xn.apply(this,arguments)}function xn(){return(xn=(0,y.Z)(function*(I,m){return Jr(dr(I),m)})).apply(this,arguments)}function Ua(I,m){return nl.apply(this,arguments)}function nl(){return(nl=(0,y.Z)(function*(I,m){const E=(0,Y.m9)(I);return yield nr(!1,E,m.providerId),no(E,m)})).apply(this,arguments)}function Ao(I,m){return wa.apply(this,arguments)}function wa(){return(wa=(0,y.Z)(function*(I,m){return yr((0,Y.m9)(I),m)})).apply(this,arguments)}function Va(I,m){return Ai.apply(this,arguments)}function Ai(){return(Ai=(0,y.Z)(function*(I,m){return Hn(I,"POST","/v1/accounts:signInWithCustomToken",Ge(I,m))})).apply(this,arguments)}function Qi(){return(Qi=(0,y.Z)(function*(I,m){const E=dr(I),x=yield Va(E,{token:m,returnSecureToken:!0}),q=yield Ei._fromIdTokenResponse(E,"signIn",x);return yield E._updateCurrentUser(q.user),q})).apply(this,arguments)}class St{constructor(m,E){this.factorId=m,this.uid=E.mfaEnrollmentId,this.enrollmentTime=new Date(E.enrolledAt).toUTCString(),this.displayName=E.displayName}static _fromServerResponse(m,E){return"phoneInfo"in E?$n._fromServerResponse(m,E):Le(m,"internal-error")}}class $n extends St{constructor(m){super("phone",m),this.phoneNumber=m.phoneInfo}static _fromServerResponse(m,E){return new $n(E)}}function As(I,m,E){var x;oe((null===(x=E.url)||void 0===x?void 0:x.length)>0,I,"invalid-continue-uri"),oe(typeof E.dynamicLinkDomain>"u"||E.dynamicLinkDomain.length>0,I,"invalid-dynamic-link-domain"),m.continueUrl=E.url,m.dynamicLinkDomain=E.dynamicLinkDomain,m.canHandleCodeInApp=E.handleCodeInApp,E.iOS&&(oe(E.iOS.bundleId.length>0,I,"missing-ios-bundle-id"),m.iOSBundleId=E.iOS.bundleId),E.android&&(oe(E.android.packageName.length>0,I,"missing-android-pkg-name"),m.androidInstallApp=E.android.installApp,m.androidMinimumVersionCode=E.android.minimumVersion,m.androidPackageName=E.android.packageName)}function Cr(){return(Cr=(0,y.Z)(function*(I,m,E){const x=(0,Y.m9)(I),q={requestType:"PASSWORD_RESET",email:m};E&&As(x,q,E),yield ii(x,q)})).apply(this,arguments)}function H(){return(H=(0,y.Z)(function*(I,m,E){yield jr((0,Y.m9)(I),{oobCode:m,newPassword:E})})).apply(this,arguments)}function ie(){return(ie=(0,y.Z)(function*(I,m){yield Fs((0,Y.m9)(I),{oobCode:m})})).apply(this,arguments)}function pt(I,m){return an.apply(this,arguments)}function an(){return(an=(0,y.Z)(function*(I,m){const E=(0,Y.m9)(I),x=yield jr(E,{oobCode:m}),q=x.requestType;switch(oe(q,E,"internal-error"),q){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":oe(x.newEmail,E,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":oe(x.mfaInfo,E,"internal-error");default:oe(x.email,E,"internal-error")}let se=null;return x.mfaInfo&&(se=St._fromServerResponse(dr(E),x.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===x.requestType?x.newEmail:x.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===x.requestType?x.email:x.newEmail)||null,multiFactorInfo:se},operation:q}})).apply(this,arguments)}function ps(){return(ps=(0,y.Z)(function*(I,m){const{data:E}=yield pt((0,Y.m9)(I),m);return E.email})).apply(this,arguments)}function Ar(){return(Ar=(0,y.Z)(function*(I,m,E){const x=dr(I),q=yield os(x,{returnSecureToken:!0,email:m,password:E}),se=yield Ei._fromIdTokenResponse(x,"signIn",q);return yield x._updateCurrentUser(se.user),se})).apply(this,arguments)}function js(){return(js=(0,y.Z)(function*(I,m,E){const x=(0,Y.m9)(I),q={requestType:"EMAIL_SIGNIN",email:m};oe(E.handleCodeInApp,x,"argument-error"),E&&As(x,q,E),yield eo(x,q)})).apply(this,arguments)}function fo(){return(fo=(0,y.Z)(function*(I,m,E){const x=(0,Y.m9)(I),q=Ds.credentialWithLink(m,E||Ft());return oe(q._tenantId===(x.tenantId||null),x,"tenant-id-mismatch"),vr(x,q)})).apply(this,arguments)}function zo(I,m){return Ha.apply(this,arguments)}function Ha(){return(Ha=(0,y.Z)(function*(I,m){return Ut(I,"POST","/v1/accounts:createAuthUri",Ge(I,m))})).apply(this,arguments)}function go(){return(go=(0,y.Z)(function*(I,m){const x={identifier:m,continueUri:Gt()?Ft():"http://localhost"},{signinMethods:q}=yield zo((0,Y.m9)(I),x);return q||[]})).apply(this,arguments)}function Wr(){return(Wr=(0,y.Z)(function*(I,m){const E=(0,Y.m9)(I),q={requestType:"VERIFY_EMAIL",idToken:yield I.getIdToken()};m&&As(E.auth,q,m);const{email:se}=yield Pr(E.auth,q);se!==I.email&&(yield I.reload())})).apply(this,arguments)}function So(){return(So=(0,y.Z)(function*(I,m,E){const x=(0,Y.m9)(I),se={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield I.getIdToken(),newEmail:m};E&&As(x.auth,se,E);const{email:Ve}=yield Ea(x.auth,se);Ve!==I.email&&(yield I.reload())})).apply(this,arguments)}function sl(I,m){return Ol.apply(this,arguments)}function Ol(){return(Ol=(0,y.Z)(function*(I,m){return Ut(I,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function ol(){return(ol=(0,y.Z)(function*(I,{displayName:m,photoURL:E}){if(void 0===m&&void 0===E)return;const x=(0,Y.m9)(I),se={idToken:yield x.getIdToken(),displayName:m,photoUrl:E,returnSecureToken:!0},Ve=yield en(x,sl(x.auth,se));x.displayName=Ve.displayName||null,x.photoURL=Ve.photoUrl||null;const ht=x.providerData.find(({providerId:Jt})=>"password"===Jt);ht&&(ht.displayName=x.displayName,ht.photoURL=x.photoURL),yield x._updateTokensIfNecessary(Ve)})).apply(this,arguments)}function V(I,m,E){return te.apply(this,arguments)}function te(){return(te=(0,y.Z)(function*(I,m,E){const{auth:x}=I,se={idToken:yield I.getIdToken(),returnSecureToken:!0};m&&(se.email=m),E&&(se.password=E);const Ve=yield en(I,_r(x,se));yield I._updateTokensIfNecessary(Ve,!0)})).apply(this,arguments)}class at{constructor(m,E,x={}){this.isNewUser=m,this.providerId=E,this.profile=x}}class _t extends at{constructor(m,E,x,q){super(m,E,x),this.username=q}}class un extends at{constructor(m,E){super(m,"facebook.com",E)}}class ar extends _t{constructor(m,E){super(m,"github.com",E,"string"==typeof E?.login?E?.login:null)}}class Ir extends at{constructor(m,E){super(m,"google.com",E)}}class hr extends _t{constructor(m,E,x){super(m,"twitter.com",E,x)}}function rr(I){const{user:m,_tokenResponse:E}=I;return m.isAnonymous&&!E?{providerId:null,isNewUser:!1,profile:null}:function De(I){var m,E;if(!I)return null;const{providerId:x}=I,q=I.rawUserInfo?JSON.parse(I.rawUserInfo):{},se=I.isNewUser||"identitytoolkit#SignupNewUserResponse"===I.kind;if(!x&&I?.idToken){const Ve=null===(E=null===(m=lt(I.idToken))||void 0===m?void 0:m.firebase)||void 0===E?void 0:E.sign_in_provider;if(Ve)return new at(se,"anonymous"!==Ve&&"custom"!==Ve?Ve:null)}if(!x)return null;switch(x){case"facebook.com":return new un(se,q);case"github.com":return new ar(se,q);case"google.com":return new Ir(se,q);case"twitter.com":return new hr(se,q,I.screenName||null);case"custom":case"anonymous":return new at(se,null);default:return new at(se,x,q)}}(E)}class $s{constructor(m,E){this.type=m,this.credential=E}static _fromIdtoken(m){return new $s("enroll",m)}static _fromMfaPendingCredential(m){return new $s("signin",m)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(m){var E,x;if(m?.multiFactorSession){if(null!==(E=m.multiFactorSession)&&void 0!==E&&E.pendingCredential)return $s._fromMfaPendingCredential(m.multiFactorSession.pendingCredential);if(null!==(x=m.multiFactorSession)&&void 0!==x&&x.idToken)return $s._fromIdtoken(m.multiFactorSession.idToken)}return null}}class al{constructor(m,E,x){this.session=m,this.hints=E,this.signInResolver=x}static _fromError(m,E){const x=dr(m),q=E.customData._serverResponse,se=(q.mfaInfo||[]).map(ht=>St._fromServerResponse(x,ht));oe(q.mfaPendingCredential,x,"internal-error");const Ve=$s._fromMfaPendingCredential(q.mfaPendingCredential);return new al(Ve,se,function(){var ht=(0,y.Z)(function*(Jt){const yn=yield Jt._process(x,Ve);delete q.mfaInfo,delete q.mfaPendingCredential;const Rn=Object.assign(Object.assign({},q),{idToken:yn.idToken,refreshToken:yn.refreshToken});switch(E.operationType){case"signIn":const Sn=yield Ei._fromIdTokenResponse(x,E.operationType,Rn);return yield x._updateCurrentUser(Sn.user),Sn;case"reauthenticate":return oe(E.user,x,"internal-error"),Ei._forOperation(E.user,E.operationType,Rn);default:Le(x,"internal-error")}});return function(Jt){return ht.apply(this,arguments)}}())}resolveSignIn(m){var E=this;return(0,y.Z)(function*(){return E.signInResolver(m)})()}}function Wa(I,m){return Ut(I,"POST","/v2/accounts/mfaEnrollment:start",Ge(I,m))}class dc{constructor(m){this.user=m,this.enrolledFactors=[],m._onReload(E=>{E.mfaInfo&&(this.enrolledFactors=E.mfaInfo.map(x=>St._fromServerResponse(m.auth,x)))})}static _fromUser(m){return new dc(m)}getSession(){var m=this;return(0,y.Z)(function*(){return $s._fromIdtoken(yield m.user.getIdToken())})()}enroll(m,E){var x=this;return(0,y.Z)(function*(){const q=m,se=yield x.getSession(),Ve=yield en(x.user,q._process(x.user.auth,se,E));return yield x.user._updateTokensIfNecessary(Ve),x.user.reload()})()}unenroll(m){var E=this;return(0,y.Z)(function*(){var x;const q="string"==typeof m?m:m.uid,se=yield E.user.getIdToken(),Ve=yield en(E.user,function Ta(I,m){return Ut(I,"POST","/v2/accounts/mfaEnrollment:withdraw",Ge(I,m))}(E.user.auth,{idToken:se,mfaEnrollmentId:q}));E.enrolledFactors=E.enrolledFactors.filter(({uid:ht})=>ht!==q),yield E.user._updateTokensIfNecessary(Ve);try{yield E.user.reload()}catch(ht){if("auth/user-token-expired"!==(null===(x=ht)||void 0===x?void 0:x.code))throw ht}})()}}const Pl=new WeakMap,Aa="__sak";class Sa{constructor(m,E){this.storageRetriever=m,this.type=E}_isAvailable(){try{return this.storage?(this.storage.setItem(Aa,"1"),this.storage.removeItem(Aa),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(m,E){return this.storage.setItem(m,JSON.stringify(E)),Promise.resolve()}_get(m){const E=this.storage.getItem(m);return Promise.resolve(E?JSON.parse(E):null)}_remove(m){return this.storage.removeItem(m),Promise.resolve()}get storage(){return this.storageRetriever()}}const Oo=(()=>{class I extends Sa{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(E,x)=>this.onStorageEvent(E,x),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Xi(){const I=(0,Y.z$)();return Fr(I)||ae(I)}()&&function Kn(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Vn(),this._shouldAllowMigration=!0}forAllChangedKeys(E){for(const x of Object.keys(this.listeners)){const q=this.storage.getItem(x),se=this.localCache[x];q!==se&&E(x,se,q)}}onStorageEvent(E,x=!1){if(!E.key)return void this.forAllChangedKeys((ht,Jt,yn)=>{this.notifyListeners(ht,yn)});const q=E.key;if(x?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ht=this.storage.getItem(q);if(E.newValue!==ht)null!==E.newValue?this.storage.setItem(q,E.newValue):this.storage.removeItem(q);else if(this.localCache[q]===E.newValue&&!x)return}const se=()=>{const ht=this.storage.getItem(q);!x&&this.localCache[q]===ht||this.notifyListeners(q,ht)},Ve=this.storage.getItem(q);!function sn(){return(0,Y.w1)()&&10===document.documentMode}()||Ve===E.newValue||E.newValue===E.oldValue?se():setTimeout(se,10)}notifyListeners(E,x){this.localCache[E]=x;const q=this.listeners[E];if(q)for(const se of Array.from(q))se(x&&JSON.parse(x))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((E,x,q)=>{this.onStorageEvent(new StorageEvent("storage",{key:E,oldValue:x,newValue:q}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(E,x){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[E]||(this.listeners[E]=new Set,this.localCache[E]=this.storage.getItem(E)),this.listeners[E].add(x)}_removeListener(E,x){this.listeners[E]&&(this.listeners[E].delete(x),0===this.listeners[E].size&&delete this.listeners[E]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(E,x){var q=()=>super._set,se=this;return(0,y.Z)(function*(){yield q().call(se,E,x),se.localCache[E]=JSON.stringify(x)})()}_get(E){var x=()=>super._get,q=this;return(0,y.Z)(function*(){const se=yield x().call(q,E);return q.localCache[E]=JSON.stringify(se),se})()}_remove(E){var x=()=>super._remove,q=this;return(0,y.Z)(function*(){yield x().call(q,E),delete q.localCache[E]})()}}return I.type="LOCAL",I})(),Po=(()=>{class I extends Sa{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(E,x){}_removeListener(E,x){}}return I.type="SESSION",I})();let Kd=(()=>{class I{constructor(E){this.eventTarget=E,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(E){const x=this.receivers.find(se=>se.isListeningto(E));if(x)return x;const q=new I(E);return this.receivers.push(q),q}isListeningto(E){return this.eventTarget===E}handleEvent(E){var x=this;return(0,y.Z)(function*(){const q=E,{eventId:se,eventType:Ve,data:ht}=q.data,Jt=x.handlersMap[Ve];if(!Jt?.size)return;q.ports[0].postMessage({status:"ack",eventId:se,eventType:Ve});const yn=Array.from(Jt).map(function(){var Sn=(0,y.Z)(function*(ds){return ds(q.origin,ht)});return function(ds){return Sn.apply(this,arguments)}}()),Rn=yield function ll(I){return Promise.all(I.map(function(){var m=(0,y.Z)(function*(E){try{return{fulfilled:!0,value:yield E}}catch(x){return{fulfilled:!1,reason:x}}});return function(E){return m.apply(this,arguments)}}()))}(yn);q.ports[0].postMessage({status:"done",eventId:se,eventType:Ve,response:Rn})})()}_subscribe(E,x){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[E]||(this.handlersMap[E]=new Set),this.handlersMap[E].add(x)}_unsubscribe(E,x){this.handlersMap[E]&&x&&this.handlersMap[E].delete(x),(!x||0===this.handlersMap[E].size)&&delete this.handlersMap[E],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return I.receivers=[],I})();function $a(I="",m=10){let E="";for(let x=0;x<m;x++)E+=Math.floor(10*Math.random());return I+E}class fc{constructor(m){this.target=m,this.handlers=new Set}removeMessageHandler(m){m.messageChannel&&(m.messageChannel.port1.removeEventListener("message",m.onMessage),m.messageChannel.port1.close()),this.handlers.delete(m)}_send(m,E,x=50){var q=this;return(0,y.Z)(function*(){const se=typeof MessageChannel<"u"?new MessageChannel:null;if(!se)throw new Error("connection_unavailable");let Ve,ht;return new Promise((Jt,yn)=>{const Rn=$a("",20);se.port1.start();const Sn=setTimeout(()=>{yn(new Error("unsupported_event"))},x);ht={messageChannel:se,onMessage(ds){const ka=ds;if(ka.data.eventId===Rn)switch(ka.data.status){case"ack":clearTimeout(Sn),Ve=setTimeout(()=>{yn(new Error("timeout"))},3e3);break;case"done":clearTimeout(Ve),Jt(ka.data.response);break;default:clearTimeout(Sn),clearTimeout(Ve),yn(new Error("invalid_response"))}}},q.handlers.add(ht),se.port1.addEventListener("message",ht.onMessage),q.target.postMessage({eventType:m,eventId:Rn,data:E},[se.port2])}).finally(()=>{ht&&q.removeMessageHandler(ht)})})()}}function ci(){return window}function Go(){return typeof ci().WorkerGlobalScope<"u"&&"function"==typeof ci().importScripts}function _o(){return(_o=(0,y.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const aa="firebaseLocalStorageDb",Zr="firebaseLocalStorage",Zo="fbase_key";class Ro{constructor(m){this.request=m}toPromise(){return new Promise((m,E)=>{this.request.addEventListener("success",()=>{m(this.request.result)}),this.request.addEventListener("error",()=>{E(this.request.error)})})}}function dn(I,m){return I.transaction([Zr],m?"readwrite":"readonly").objectStore(Zr)}function cl(){const I=indexedDB.open(aa,1);return new Promise((m,E)=>{I.addEventListener("error",()=>{E(I.error)}),I.addEventListener("upgradeneeded",()=>{const x=I.result;try{x.createObjectStore(Zr,{keyPath:Zo})}catch(q){E(q)}}),I.addEventListener("success",(0,y.Z)(function*(){const x=I.result;x.objectStoreNames.contains(Zr)?m(x):(x.close(),yield function fn(){const I=indexedDB.deleteDatabase(aa);return new Ro(I).toPromise()}(),m(yield cl()))}))})}function qt(I,m,E){return ut.apply(this,arguments)}function ut(){return(ut=(0,y.Z)(function*(I,m,E){const x=dn(I,!0).put({[Zo]:m,value:E});return new Ro(x).toPromise()})).apply(this,arguments)}function yi(){return(yi=(0,y.Z)(function*(I,m){const E=dn(I,!1).get(m),x=yield new Ro(E).toPromise();return void 0===x?null:x.value})).apply(this,arguments)}function la(I,m){const E=dn(I,!0).delete(m);return new Ro(E).toPromise()}const ul=(()=>{class I{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var E=this;return(0,y.Z)(function*(){return E.db||(E.db=yield cl()),E.db})()}_withRetries(E){var x=this;return(0,y.Z)(function*(){let q=0;for(;;)try{const se=yield x._openDb();return yield E(se)}catch(se){if(q++>3)throw se;x.db&&(x.db.close(),x.db=void 0)}})()}initializeServiceWorkerMessaging(){var E=this;return(0,y.Z)(function*(){return Go()?E.initializeReceiver():E.initializeSender()})()}initializeReceiver(){var E=this;return(0,y.Z)(function*(){E.receiver=Kd._getInstance(function vo(){return Go()?self:null}()),E.receiver._subscribe("keyChanged",function(){var x=(0,y.Z)(function*(q,se){return{keyProcessed:(yield E._poll()).includes(se.key)}});return function(q,se){return x.apply(this,arguments)}}()),E.receiver._subscribe("ping",function(){var x=(0,y.Z)(function*(q,se){return["keyChanged"]});return function(q,se){return x.apply(this,arguments)}}())})()}initializeSender(){var E=this;return(0,y.Z)(function*(){var x,q;if(E.activeServiceWorker=yield function ui(){return _o.apply(this,arguments)}(),!E.activeServiceWorker)return;E.sender=new fc(E.activeServiceWorker);const se=yield E.sender._send("ping",{},800);!se||(null===(x=se[0])||void 0===x?void 0:x.fulfilled)&&(null===(q=se[0])||void 0===q?void 0:q.value.includes("keyChanged"))&&(E.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(E){var x=this;return(0,y.Z)(function*(){if(x.sender&&x.activeServiceWorker&&function yo(){var I;return(null===(I=navigator?.serviceWorker)||void 0===I?void 0:I.controller)||null}()===x.activeServiceWorker)try{yield x.sender._send("keyChanged",{key:E},x.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,y.Z)(function*(){try{if(!indexedDB)return!1;const E=yield cl();return yield qt(E,Aa,"1"),yield la(E,Aa),!0}catch{}return!1})()}_withPendingWrite(E){var x=this;return(0,y.Z)(function*(){x.pendingWrites++;try{yield E()}finally{x.pendingWrites--}})()}_set(E,x){var q=this;return(0,y.Z)(function*(){return q._withPendingWrite((0,y.Z)(function*(){return yield q._withRetries(se=>qt(se,E,x)),q.localCache[E]=x,q.notifyServiceWorker(E)}))})()}_get(E){var x=this;return(0,y.Z)(function*(){const q=yield x._withRetries(se=>function Pt(I,m){return yi.apply(this,arguments)}(se,E));return x.localCache[E]=q,q})()}_remove(E){var x=this;return(0,y.Z)(function*(){return x._withPendingWrite((0,y.Z)(function*(){return yield x._withRetries(q=>la(q,E)),delete x.localCache[E],x.notifyServiceWorker(E)}))})()}_poll(){var E=this;return(0,y.Z)(function*(){const x=yield E._withRetries(Ve=>{const ht=dn(Ve,!1).getAll();return new Ro(ht).toPromise()});if(!x)return[];if(0!==E.pendingWrites)return[];const q=[],se=new Set;for(const{fbase_key:Ve,value:ht}of x)se.add(Ve),JSON.stringify(E.localCache[Ve])!==JSON.stringify(ht)&&(E.notifyListeners(Ve,ht),q.push(Ve));for(const Ve of Object.keys(E.localCache))E.localCache[Ve]&&!se.has(Ve)&&(E.notifyListeners(Ve,null),q.push(Ve));return q})()}notifyListeners(E,x){this.localCache[E]=x;const q=this.listeners[E];if(q)for(const se of Array.from(q))se(x)}startPolling(){var E=this;this.stopPolling(),this.pollTimer=setInterval((0,y.Z)(function*(){return E._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(E,x){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[E]||(this.listeners[E]=new Set,this._get(E)),this.listeners[E].add(x)}_removeListener(E,x){this.listeners[E]&&(this.listeners[E].delete(x),0===this.listeners[E].size&&delete this.listeners[E]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return I.type="LOCAL",I})();function dl(I,m){return Ut(I,"POST","/v2/accounts/mfaSignIn:start",Ge(I,m))}function Sr(){return(Sr=(0,y.Z)(function*(I){return(yield Ut(I,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function bo(I){return new Promise((m,E)=>{const x=document.createElement("script");x.setAttribute("src",I),x.onload=m,x.onerror=q=>{const se=Me("internal-error");se.customData=q,E(se)},x.type="text/javascript",x.charset="UTF-8",function xa(){var I,m;return null!==(m=null===(I=document.getElementsByTagName("head"))||void 0===I?void 0:I[0])&&void 0!==m?m:document}().appendChild(x)})}function Bn(I){return`__${I}${Math.floor(1e6*Math.random())}`}const Rr=1e12;class nn{constructor(m){this.auth=m,this.counter=Rr,this._widgets=new Map}render(m,E){const x=this.counter;return this._widgets.set(x,new pc(m,this.auth.name,E||{})),this.counter++,x}reset(m){var E;const x=m||Rr;null===(E=this._widgets.get(x))||void 0===E||E.delete(),this._widgets.delete(x)}getResponse(m){var E;return(null===(E=this._widgets.get(m||Rr))||void 0===E?void 0:E.getResponse())||""}execute(m){var E=this;return(0,y.Z)(function*(){var x;return null===(x=E._widgets.get(m||Rr))||void 0===x||x.execute(),""})()}}class pc{constructor(m,E,x){this.params=x,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const q="string"==typeof m?document.getElementById(m):m;oe(q,"argument-error",{appName:E}),this.container=q,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Mr(I){const m=[],E="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let x=0;x<I;x++)m.push(E.charAt(Math.floor(Math.random()*E.length)));return m.join("")}(50);const{callback:m,"expired-callback":E}=this.params;if(m)try{m(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,E)try{E()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const nd=Bn("rcb"),Di=new En(3e4,6e4);class gc{constructor(){var m;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(m=ci().grecaptcha)||void 0===m||!m.render)}load(m,E=""){return oe(function mc(I){return I.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(I)}(E),m,"argument-error"),this.shouldResolveImmediately(E)?Promise.resolve(ci().grecaptcha):new Promise((x,q)=>{const se=ci().setTimeout(()=>{q(Me(m,"network-request-failed"))},Di.get());ci()[nd]=()=>{ci().clearTimeout(se),delete ci()[nd];const ht=ci().grecaptcha;if(!ht)return void q(Me(m,"internal-error"));const Jt=ht.render;ht.render=(yn,Rn)=>{const Sn=Jt(yn,Rn);return this.counter++,Sn},this.hostLanguage=E,x(ht)},bo(`https://www.google.com/recaptcha/api.js??${(0,Y.xO)({onload:nd,render:"explicit",hl:E})}`).catch(()=>{clearTimeout(se),q(Me(m,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(m){var E;return!(null===(E=ci().grecaptcha)||void 0===E||!E.render)&&(m===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class ca{load(m){return(0,y.Z)(function*(){return new nn(m)})()}clearedOneInstance(){}}const rd="recaptcha",hu={theme:"light",type:"image"};class es{constructor(m,E=Object.assign({},hu),x){this.parameters=E,this.type=rd,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=dr(x),this.isInvisible="invisible"===this.parameters.size,oe(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const q="string"==typeof m?document.getElementById(m):m;oe(q,this.auth,"argument-error"),this.container=q,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new ca:new gc,this.validateStartingState()}verify(){var m=this;return(0,y.Z)(function*(){m.assertNotDestroyed();const E=yield m.render(),x=m.getAssertedRecaptcha();return x.getResponse(E)||new Promise(se=>{const Ve=ht=>{!ht||(m.tokenChangeListeners.delete(Ve),se(ht))};m.tokenChangeListeners.add(Ve),m.isInvisible&&x.execute(E)})})()}render(){try{this.assertNotDestroyed()}catch(m){return Promise.reject(m)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(m=>{throw this.renderPromise=null,m})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(m=>{this.container.removeChild(m)})}validateStartingState(){oe(!this.parameters.sitekey,this.auth,"argument-error"),oe(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),oe(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(m){return E=>{if(this.tokenChangeListeners.forEach(x=>x(E)),"function"==typeof m)m(E);else if("string"==typeof m){const x=ci()[m];"function"==typeof x&&x(E)}}}assertNotDestroyed(){oe(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var m=this;return(0,y.Z)(function*(){if(yield m.init(),!m.widgetId){let E=m.container;if(!m.isInvisible){const x=document.createElement("div");E.appendChild(x),E=x}m.widgetId=m.getAssertedRecaptcha().render(E,m.parameters)}return m.widgetId})()}init(){var m=this;return(0,y.Z)(function*(){oe(Gt()&&!Go(),m.auth,"internal-error"),yield function za(){let I=null;return new Promise(m=>{"complete"!==document.readyState?(I=()=>m(),window.addEventListener("load",I)):m()}).catch(m=>{throw I&&window.removeEventListener("load",I),m})}(),m.recaptcha=yield m._recaptchaLoader.load(m.auth,m.auth.languageCode||void 0);const E=yield function Ji(I){return Sr.apply(this,arguments)}(m.auth);oe(E,m.auth,"internal-error"),m.parameters.sitekey=E})()}getAssertedRecaptcha(){return oe(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Ga{constructor(m,E){this.verificationId=m,this.onConfirmation=E}confirm(m){const E=zi._fromVerification(this.verificationId,m);return this.onConfirmation(E)}}function gs(){return(gs=(0,y.Z)(function*(I,m,E){const x=dr(I),q=yield ko(x,m,(0,Y.m9)(E));return new Ga(q,se=>vr(x,se))})).apply(this,arguments)}function us(){return(us=(0,y.Z)(function*(I,m,E){const x=(0,Y.m9)(I);yield nr(!1,x,"phone");const q=yield ko(x.auth,m,(0,Y.m9)(E));return new Ga(q,se=>Ua(x,se))})).apply(this,arguments)}function Gs(){return(Gs=(0,y.Z)(function*(I,m,E){const x=(0,Y.m9)(I),q=yield ko(x.auth,m,(0,Y.m9)(E));return new Ga(q,se=>Ao(x,se))})).apply(this,arguments)}function ko(I,m,E){return w.apply(this,arguments)}function w(){return(w=(0,y.Z)(function*(I,m,E){var x;const q=yield E.verify();try{let se;if(oe("string"==typeof q,I,"argument-error"),oe(E.type===rd,I,"argument-error"),se="string"==typeof m?{phoneNumber:m}:m,"session"in se){const Ve=se.session;if("phoneNumber"in se)return oe("enroll"===Ve.type,I,"internal-error"),(yield Wa(I,{idToken:Ve.credential,phoneEnrollmentInfo:{phoneNumber:se.phoneNumber,recaptchaToken:q}})).phoneSessionInfo.sessionInfo;{oe("signin"===Ve.type,I,"internal-error");const ht=(null===(x=se.multiFactorHint)||void 0===x?void 0:x.uid)||se.multiFactorUid;return oe(ht,I,"missing-multi-factor-info"),(yield dl(I,{mfaPendingCredential:Ve.credential,mfaEnrollmentId:ht,phoneSignInInfo:{recaptchaToken:q}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Ve}=yield Mt(I,{phoneNumber:se.phoneNumber,recaptchaToken:q});return Ve}}finally{E._reset()}})).apply(this,arguments)}function T(){return(T=(0,y.Z)(function*(I,m){yield no((0,Y.m9)(I),m)})).apply(this,arguments)}let F=(()=>{class I{constructor(E){this.providerId=I.PROVIDER_ID,this.auth=dr(E)}verifyPhoneNumber(E,x){return ko(this.auth,E,(0,Y.m9)(x))}static credential(E,x){return zi._fromVerification(E,x)}static credentialFromResult(E){return I.credentialFromTaggedObject(E)}static credentialFromError(E){return I.credentialFromTaggedObject(E.customData||{})}static credentialFromTaggedObject({_tokenResponse:E}){if(!E)return null;const{phoneNumber:x,temporaryProof:q}=E;return x&&q?zi._fromTokenResponse(x,q):null}}return I.PROVIDER_ID="phone",I.PHONE_SIGN_IN_METHOD="phone",I})();function W(I,m){return m?ze(m):(oe(I._popupRedirectResolver,I,"argument-error"),I._popupRedirectResolver)}class J extends mi{constructor(m){super("custom","custom"),this.params=m}_getIdTokenResponse(m){return oi(m,this._buildIdpRequest())}_linkToIdToken(m,E){return oi(m,this._buildIdpRequest(E))}_getReauthenticationResolver(m){return oi(m,this._buildIdpRequest())}_buildIdpRequest(m){const E={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return m&&(E.idToken=m),E}}function ce(I){return Jr(I.auth,new J(I),I.bypassAuthState)}function we(I){const{auth:m,user:E}=I;return oe(E,m,"internal-error"),yr(E,new J(I),I.bypassAuthState)}function dt(I){return Qt.apply(this,arguments)}function Qt(){return(Qt=(0,y.Z)(function*(I){const{auth:m,user:E}=I;return oe(E,m,"internal-error"),no(E,new J(I),I.bypassAuthState)})).apply(this,arguments)}class Yn{constructor(m,E,x,q,se=!1){this.auth=m,this.resolver=x,this.user=q,this.bypassAuthState=se,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(E)?E:[E]}execute(){var m=this;return new Promise(function(){var E=(0,y.Z)(function*(x,q){m.pendingPromise={resolve:x,reject:q};try{m.eventManager=yield m.resolver._initialize(m.auth),yield m.onExecution(),m.eventManager.registerConsumer(m)}catch(se){m.reject(se)}});return function(x,q){return E.apply(this,arguments)}}())}onAuthEvent(m){var E=this;return(0,y.Z)(function*(){const{urlResponse:x,sessionId:q,postBody:se,tenantId:Ve,error:ht,type:Jt}=m;if(ht)return void E.reject(ht);const yn={auth:E.auth,requestUri:x,sessionId:q,tenantId:Ve||void 0,postBody:se||void 0,user:E.user,bypassAuthState:E.bypassAuthState};try{E.resolve(yield E.getIdpTask(Jt)(yn))}catch(Rn){E.reject(Rn)}})()}onError(m){this.reject(m)}getIdpTask(m){switch(m){case"signInViaPopup":case"signInViaRedirect":return ce;case"linkViaPopup":case"linkViaRedirect":return dt;case"reauthViaPopup":case"reauthViaRedirect":return we;default:Le(this.auth,"internal-error")}}resolve(m){de(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(m),this.unregisterAndCleanUp()}reject(m){de(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(m),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const mn=new En(2e3,1e4);function Wi(){return(Wi=(0,y.Z)(function*(I,m,E){const x=dr(I);It(I,m,Gi);const q=W(x,E);return new di(x,"signInViaPopup",m,q).executeNotNull()})).apply(this,arguments)}function ua(){return(ua=(0,y.Z)(function*(I,m,E){const x=(0,Y.m9)(I);It(x.auth,m,Gi);const q=W(x.auth,E);return new di(x.auth,"reauthViaPopup",m,q,x).executeNotNull()})).apply(this,arguments)}function da(){return(da=(0,y.Z)(function*(I,m,E){const x=(0,Y.m9)(I);It(x.auth,m,Gi);const q=W(x.auth,E);return new di(x.auth,"linkViaPopup",m,q,x).executeNotNull()})).apply(this,arguments)}let di=(()=>{class I extends Yn{constructor(E,x,q,se,Ve){super(E,x,se,Ve),this.provider=q,this.authWindow=null,this.pollId=null,I.currentPopupAction&&I.currentPopupAction.cancel(),I.currentPopupAction=this}executeNotNull(){var E=this;return(0,y.Z)(function*(){const x=yield E.execute();return oe(x,E.auth,"internal-error"),x})()}onExecution(){var E=this;return(0,y.Z)(function*(){de(1===E.filter.length,"Popup operations only handle one event");const x=$a();E.authWindow=yield E.resolver._openPopup(E.auth,E.provider,E.filter[0],x),E.authWindow.associatedEvent=x,E.resolver._originValidation(E.auth).catch(q=>{E.reject(q)}),E.resolver._isIframeWebStorageSupported(E.auth,q=>{q||E.reject(Me(E.auth,"web-storage-unsupported"))}),E.pollUserCancellation()})()}get eventId(){var E;return(null===(E=this.authWindow)||void 0===E?void 0:E.associatedEvent)||null}cancel(){this.reject(Me(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,I.currentPopupAction=null}pollUserCancellation(){const E=()=>{var x,q;this.pollId=null!==(q=null===(x=this.authWindow)||void 0===x?void 0:x.window)&&void 0!==q&&q.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Me(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(E,mn.get())};E()}}return I.currentPopupAction=null,I})();const ha=new Map;class fl extends Yn{constructor(m,E,x=!1){super(m,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],E,void 0,x),this.eventId=null}execute(){var m=()=>super.execute,E=this;return(0,y.Z)(function*(){let x=ha.get(E.auth._key());if(!x){try{const se=(yield function qs(I,m){return fa.apply(this,arguments)}(E.resolver,E.auth))?yield m().call(E):null;x=()=>Promise.resolve(se)}catch(q){x=()=>Promise.reject(q)}ha.set(E.auth._key(),x)}return E.bypassAuthState||ha.set(E.auth._key(),()=>Promise.resolve(null)),x()})()}onAuthEvent(m){var E=()=>super.onAuthEvent,x=this;return(0,y.Z)(function*(){if("signInViaRedirect"===m.type)return E().call(x,m);if("unknown"!==m.type){if(m.eventId){const q=yield x.auth._redirectUserForId(m.eventId);if(q)return x.user=q,E().call(x,m);x.resolve(null)}}else x.resolve(null)})()}onExecution(){return(0,y.Z)(function*(){})()}cleanUp(){}}function fa(){return(fa=(0,y.Z)(function*(I,m){const E=Nc(m),x=so(I);if(!(yield x._isAvailable()))return!1;const q="true"===(yield x._get(E));return yield x._remove(E),q})).apply(this,arguments)}function Li(I,m){return qo.apply(this,arguments)}function qo(){return(qo=(0,y.Z)(function*(I,m){return so(I)._set(Nc(m),"true")})).apply(this,arguments)}function hi(I,m){ha.set(I._key(),m)}function so(I){return ze(I._redirectPersistence)}function Nc(I){return Nr("pendingRedirect",I.config.apiKey,I.name)}function B(){return(B=(0,y.Z)(function*(I,m,E){const x=dr(I);It(I,m,Gi);const q=W(x,E);return yield Li(q,x),q._openRedirect(x,m,"signInViaRedirect")})).apply(this,arguments)}function pe(){return(pe=(0,y.Z)(function*(I,m,E){const x=(0,Y.m9)(I);It(x.auth,m,Gi);const q=W(x.auth,E);yield Li(q,x.auth);const se=yield Pn(x);return q._openRedirect(x.auth,m,"reauthViaRedirect",se)})).apply(this,arguments)}function Rt(){return(Rt=(0,y.Z)(function*(I,m,E){const x=(0,Y.m9)(I);It(x.auth,m,Gi);const q=W(x.auth,E);yield nr(!1,x,m.providerId),yield Li(q,x.auth);const se=yield Pn(x);return q._openRedirect(x.auth,m,"linkViaRedirect",se)})).apply(this,arguments)}function vn(){return(vn=(0,y.Z)(function*(I,m){return yield dr(I)._initializationPromise,On(I,m,!1)})).apply(this,arguments)}function On(I,m){return zn.apply(this,arguments)}function zn(){return(zn=(0,y.Z)(function*(I,m,E=!1){const x=dr(I),q=W(x,m),Ve=yield new fl(x,q,E).execute();return Ve&&!E&&(delete Ve.user._redirectEventId,yield x._persistUserIfCurrent(Ve.user),yield x._setRedirectUser(null,m)),Ve})).apply(this,arguments)}function Pn(I){return fi.apply(this,arguments)}function fi(){return(fi=(0,y.Z)(function*(I){const m=$a(`${I.uid}:::`);return I._redirectEventId=m,yield I.auth._setRedirectUser(I),yield I.auth._persistUserIfCurrent(I),m})).apply(this,arguments)}class Yo{constructor(m){this.auth=m,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(m){this.consumers.add(m),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,m)&&(this.sendToConsumer(this.queuedRedirectEvent,m),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(m){this.consumers.delete(m)}onEvent(m){if(this.hasEventBeenHandled(m))return!1;let E=!1;return this.consumers.forEach(x=>{this.isEventForConsumer(m,x)&&(E=!0,this.sendToConsumer(m,x),this.saveEventToCache(m))}),this.hasHandledPotentialRedirect||!function pl(I){switch(I.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Qo(I);default:return!1}}(m)||(this.hasHandledPotentialRedirect=!0,E||(this.queuedRedirectEvent=m,E=!0)),E}sendToConsumer(m,E){var x;if(m.error&&!Qo(m)){const q=(null===(x=m.error.code)||void 0===x?void 0:x.split("auth/")[1])||"internal-error";E.onError(Me(this.auth,q))}else E.onAuthEvent(m)}isEventForConsumer(m,E){const x=null===E.eventId||!!m.eventId&&m.eventId===E.eventId;return E.filter.includes(m.type)&&x}hasEventBeenHandled(m){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Za(m))}saveEventToCache(m){this.cachedEventUids.add(Za(m)),this.lastProcessedEventTime=Date.now()}}function Za(I){return[I.type,I.eventId,I.sessionId,I.tenantId].filter(m=>m).join("-")}function Qo({type:I,error:m}){return"unknown"===I&&"auth/no-auth-event"===m?.code}function pa(I){return Xo.apply(this,arguments)}function Xo(){return(Xo=(0,y.Z)(function*(I,m={}){return Ut(I,"GET","/v1/projects",m)})).apply(this,arguments)}const ga=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,qa=/^https?/;function $h(){return($h=(0,y.Z)(function*(I){if(I.config.emulator)return;const{authorizedDomains:m}=yield pa(I);for(const E of m)try{if($d(E))return}catch{}Le(I,"unauthorized-domain")})).apply(this,arguments)}function $d(I){const m=Ft(),{protocol:E,hostname:x}=new URL(m);if(I.startsWith("chrome-extension://")){const Ve=new URL(I);return""===Ve.hostname&&""===x?"chrome-extension:"===E&&I.replace("chrome-extension://","")===m.replace("chrome-extension://",""):"chrome-extension:"===E&&Ve.hostname===x}if(!qa.test(E))return!1;if(ga.test(I))return x===I;const q=I.replace(/\./g,"\\.");return new RegExp("^(.+\\."+q+"|"+q+")$","i").test(x)}const zd=new En(3e4,6e4);function Os(){const I=ci().___jsl;if(I?.H)for(const m of Object.keys(I.H))if(I.H[m].r=I.H[m].r||[],I.H[m].L=I.H[m].L||[],I.H[m].r=[...I.H[m].L],I.CP)for(let E=0;E<I.CP.length;E++)I.CP[E]=null}let ni=null;function vp(I){return ni=ni||function Fc(I){return new Promise((m,E)=>{var x,q,se;function Ve(){Os(),gapi.load("gapi.iframes",{callback:()=>{m(gapi.iframes.getContext())},ontimeout:()=>{Os(),E(Me(I,"network-request-failed"))},timeout:zd.get()})}if(null!==(q=null===(x=ci().gapi)||void 0===x?void 0:x.iframes)&&void 0!==q&&q.Iframe)m(gapi.iframes.getContext());else{if(null===(se=ci().gapi)||void 0===se||!se.load){const ht=Bn("iframefcb");return ci()[ht]=()=>{gapi.load?Ve():E(Me(I,"network-request-failed"))},bo(`https://apis.google.com/js/api.js?onload=${ht}`).catch(Jt=>E(Jt))}Ve()}}).catch(m=>{throw ni=null,m})}(I),ni}const Gd=new En(5e3,15e3),sd={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Uc=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function od(I){const m=I.config;oe(m.authDomain,I,"auth-domain-config-required");const E=m.emulator?pn(m,"emulator/auth/iframe"):`https://${I.config.authDomain}/__/auth/iframe`,x={apiKey:m.apiKey,appName:I.name,v:me.SDK_VERSION},q=Uc.get(I.config.apiHost);q&&(x.eid=q);const se=I._getFrameworks();return se.length&&(x.fw=se.join(",")),`${E}?${(0,Y.xO)(x).slice(1)}`}function vc(){return vc=(0,y.Z)(function*(I){const m=yield vp(I),E=ci().gapi;return oe(E,I,"internal-error"),m.open({where:document.body,url:od(I),messageHandlersFilter:E.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:sd,dontclear:!0},x=>new Promise(function(){var q=(0,y.Z)(function*(se,Ve){yield x.restyle({setHideOnLeave:!1});const ht=Me(I,"network-request-failed"),Jt=ci().setTimeout(()=>{Ve(ht)},Gd.get());function yn(){ci().clearTimeout(Jt),se(x)}x.ping(yn).then(yn,()=>{Ve(ht)})});return function(se,Ve){return q.apply(this,arguments)}}()))}),vc.apply(this,arguments)}const ms={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class pu{constructor(m){this.window=m,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Lo(I,m,E,x,q,se){oe(I.config.authDomain,I,"auth-domain-config-required"),oe(I.config.apiKey,I,"invalid-api-key");const Ve={apiKey:I.config.apiKey,appName:I.name,authType:E,redirectUrl:x,v:me.SDK_VERSION,eventId:q};if(m instanceof Gi){m.setDefaultLanguage(I.languageCode),Ve.providerId=m.providerId||"",(0,Y.xb)(m.getCustomParameters())||(Ve.customParameters=JSON.stringify(m.getCustomParameters()));for(const[Jt,yn]of Object.entries(se||{}))Ve[Jt]=yn}if(m instanceof Zi){const Jt=m.getScopes().filter(yn=>""!==yn);Jt.length>0&&(Ve.scopes=Jt.join(","))}I.tenantId&&(Ve.tid=I.tenantId);const ht=Ve;for(const Jt of Object.keys(ht))void 0===ht[Jt]&&delete ht[Jt];return`${function qh({config:I}){return I.emulator?pn(I,"emulator/auth/handler"):`https://${I.authDomain}/__/auth/handler`}(I)}?${(0,Y.xO)(ht).slice(1)}`}const ad="webStorageSupport";class Ps extends class Qh{constructor(m){this.factorId=m}_process(m,E,x){switch(E.type){case"enroll":return this._finalizeEnroll(m,E.credential,x);case"signin":return this._finalizeSignIn(m,E.credential);default:return Je("unexpected MultiFactorSessionType")}}}{constructor(m){super("phone"),this.credential=m}static _fromCredential(m){return new Ps(m)}_finalizeEnroll(m,E,x){return function Rc(I,m){return Ut(I,"POST","/v2/accounts/mfaEnrollment:finalize",Ge(I,m))}(m,{idToken:E,displayName:x,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(m,E){return function hl(I,m){return Ut(I,"POST","/v2/accounts/mfaSignIn:finalize",Ge(I,m))}(m,{mfaPendingCredential:E,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Ya=(()=>{class I{constructor(){}static assertion(E){return Ps._fromCredential(E)}}return I.FACTOR_ID="phone",I})();var gu="@firebase/auth";class Xh{constructor(m){this.auth=m,this.internalListeners=new Map}getUid(){var m;return this.assertAuthConfigured(),(null===(m=this.auth.currentUser)||void 0===m?void 0:m.uid)||null}getToken(m){var E=this;return(0,y.Z)(function*(){return E.assertAuthConfigured(),yield E.auth._initializationPromise,E.auth.currentUser?{accessToken:yield E.auth.currentUser.getIdToken(m)}:null})()}addAuthTokenListener(m){if(this.assertAuthConfigured(),this.internalListeners.has(m))return;const E=this.auth.onIdTokenChanged(x=>{var q;m((null===(q=x)||void 0===q?void 0:q.stsTokenManager.accessToken)||null)});this.internalListeners.set(m,E),this.updateProactiveRefresh()}removeAuthTokenListener(m){this.assertAuthConfigured();const E=this.internalListeners.get(m);!E||(this.internalListeners.delete(m),E(),this.updateProactiveRefresh())}assertAuthConfigured(){oe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function ma(){return window}function cd(){return(cd=(0,y.Z)(function*(I,m,E){var x;const{BuildInfo:q}=ma();de(m.sessionId,"AuthEvent did not contain a session ID");const se=yield ud(m.sessionId),Ve={};return ae()?Ve.ibi=q.packageName:Br()?Ve.apn=q.packageName:Le(I,"operation-not-supported-in-this-environment"),q.displayName&&(Ve.appDisplayName=q.displayName),Ve.sessionId=se,Lo(I,E,m.type,void 0,null!==(x=m.eventId)&&void 0!==x?x:void 0,Ve)})).apply(this,arguments)}function Nl(){return(Nl=(0,y.Z)(function*(I){const{BuildInfo:m}=ma(),E={};ae()?E.iosBundleId=m.packageName:Br()?E.androidPackageName=m.packageName:Le(I,"operation-not-supported-in-this-environment"),yield pa(I,E)})).apply(this,arguments)}function _l(){return(_l=(0,y.Z)(function*(I,m,E){const{cordova:x}=ma();let q=()=>{};try{yield new Promise((se,Ve)=>{let ht=null;function Jt(){var Sn;se();const ds=null===(Sn=x.plugins.browsertab)||void 0===Sn?void 0:Sn.close;"function"==typeof ds&&ds(),"function"==typeof E?.close&&E.close()}function yn(){ht||(ht=window.setTimeout(()=>{Ve(Me(I,"redirect-cancelled-by-user"))},2e3))}function Rn(){"visible"===document?.visibilityState&&yn()}m.addPassiveListener(Jt),document.addEventListener("resume",yn,!1),Br()&&document.addEventListener("visibilitychange",Rn,!1),q=()=>{m.removePassiveListener(Jt),document.removeEventListener("resume",yn,!1),document.removeEventListener("visibilitychange",Rn,!1),ht&&window.clearTimeout(ht)}})}finally{q()}})).apply(this,arguments)}function ud(I){return Qd.apply(this,arguments)}function Qd(){return(Qd=(0,y.Z)(function*(I){const m=h_(I),E=yield crypto.subtle.digest("SHA-256",m);return Array.from(new Uint8Array(E)).map(q=>q.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function h_(I){if(de(/[0-9a-zA-Z]+/.test(I),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(I);const m=new ArrayBuffer(I.length),E=new Uint8Array(m);for(let x=0;x<I.length;x++)E[x]=I.charCodeAt(x);return E}!function No(I){(0,me._registerComponent)(new Be.wA("auth",(m,{options:E})=>{const x=m.getProvider("app").getImmediate(),q=m.getProvider("heartbeat"),{apiKey:se,authDomain:Ve}=x.options;return((ht,Jt)=>{oe(se&&!se.includes(":"),"invalid-api-key",{appName:ht.name}),oe(!Ve?.includes(":"),"argument-error",{appName:ht.name});const yn={apiKey:se,authDomain:Ve,clientPlatform:I,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ur(I)},Rn=new hn(ht,Jt,yn);return function At(I,m){const E=m?.persistence||[],x=(Array.isArray(E)?E:[E]).map(ze);m?.errorMap&&I._updateErrorMap(m.errorMap),I._initializeWithPersistence(x,m?.popupRedirectResolver)}(Rn,E),Rn})(x,q)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((m,E,x)=>{m.getProvider("auth-internal").initialize()})),(0,me._registerComponent)(new Be.wA("auth-internal",m=>{const E=dr(m.getProvider("auth").getImmediate());return new Xh(E)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,me.registerVersion)(gu,"0.20.6",function Hc(I){switch(I){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(I)),(0,me.registerVersion)(gu,"0.20.6","esm2017")}("Browser");class dd extends Yo{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(m=>{this.resolveInialized=m})}addPassiveListener(m){this.passiveListeners.add(m)}removePassiveListener(m){this.passiveListeners.delete(m)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(m){return this.resolveInialized(),this.passiveListeners.forEach(E=>E(m)),super.onEvent(m)}initialized(){var m=this;return(0,y.Z)(function*(){yield m.initPromise})()}}function _a(I){return Xd.apply(this,arguments)}function Xd(){return(Xd=(0,y.Z)(function*(I){const m=yield Jd()._get(Kc(I));return m&&(yield Jd()._remove(Kc(I))),m})).apply(this,arguments)}function rf(){const I=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let E=0;E<20;E++){const x=Math.floor(Math.random()*m.length);I.push(m.charAt(x))}return I.join("")}function Jd(){return ze(Oo)}function Kc(I){return Nr("authEvent",I.config.apiKey,I.name)}function vi(I){if(!I?.includes("?"))return{};const[m,...E]=I.split("?");return(0,Y.zd)(E.join("?"))}function zc(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Me("no-auth-event")}}function Fo(){var I;return(null===(I=self?.location)||void 0===I?void 0:I.protocol)||null}function rh(I=(0,Y.z$)()){return!("file:"!==Fo()&&"ionic:"!==Fo()&&"capacitor:"!==Fo()||!I.toLowerCase().match(/iphone|ipad|ipod|android/))}function _s(){try{const I=self.localStorage,m=$a();if(I)return I.setItem(m,"1"),I.removeItem(m),!function f_(I=(0,Y.z$)()){return function mu(){return(0,Y.w1)()&&11===document?.documentMode}()||function lf(I=(0,Y.z$)()){return/Edge\/\d+/.test(I)}(I)}()||(0,Y.hl)()}catch{return pr()&&(0,Y.hl)()}return!1}function pr(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Gc(){return(function sf(){return"http:"===Fo()||"https:"===Fo()}()||(0,Y.ru)()||rh())&&!function af(){return(0,Y.b$)()||(0,Y.UG)()}()&&_s()&&!pr()}function ih(){return rh()&&typeof document<"u"}function _u(){return(_u=(0,y.Z)(function*(){return!!ih()&&new Promise(I=>{const m=setTimeout(()=>{I(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(m),I(!0)})})})).apply(this,arguments)}const Ys={LOCAL:"local",NONE:"none",SESSION:"session"},Pa=oe,Zc="persistence";function sh(I){return Vl.apply(this,arguments)}function Vl(){return(Vl=(0,y.Z)(function*(I){yield I._initializationPromise;const m=oh(),E=Nr(Zc,I.config.apiKey,I.name);m&&m.setItem(E,I._getPersistence())})).apply(this,arguments)}function oh(){var I;try{return(null===(I=function Bo(){return typeof window<"u"?window:null}())||void 0===I?void 0:I.sessionStorage)||null}catch{return null}}const Qn=oe;class Hl{constructor(){this.browserResolver=ze(class Yh{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Po,this._completeRedirectFn=On,this._overrideRedirectResult=hi}_openPopup(m,E,x,q){var se=this;return(0,y.Z)(function*(){var Ve;de(null===(Ve=se.eventManagers[m._key()])||void 0===Ve?void 0:Ve.manager,"_initialize() not called before _openPopup()");const ht=Lo(m,E,x,Ft(),q);return function Zd(I,m,E,x=500,q=600){const se=Math.max((window.screen.availHeight-q)/2,0).toString(),Ve=Math.max((window.screen.availWidth-x)/2,0).toString();let ht="";const Jt=Object.assign(Object.assign({},ms),{width:x.toString(),height:q.toString(),top:se,left:Ve}),yn=(0,Y.z$)().toLowerCase();E&&(ht=Ii(yn)?"_blank":E),mr(yn)&&(m=m||"http://localhost",Jt.scrollbars="yes");const Rn=Object.entries(Jt).reduce((ds,[ka,Qc])=>`${ds}${ka}=${Qc},`,"");if(function bt(I=(0,Y.z$)()){var m;return ae(I)&&!(null===(m=window.navigator)||void 0===m||!m.standalone)}(yn)&&"_self"!==ht)return function Zh(I,m){const E=document.createElement("a");E.href=I,E.target=m;const x=document.createEvent("MouseEvent");x.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),E.dispatchEvent(x)}(m||"",ht),new pu(null);const Sn=window.open(m||"",ht,Rn);oe(Sn,I,"popup-blocked");try{Sn.focus()}catch{}return new pu(Sn)}(m,ht,$a())})()}_openRedirect(m,E,x,q){var se=this;return(0,y.Z)(function*(){return yield se._originValidation(m),function cs(I){ci().location.href=I}(Lo(m,E,x,Ft(),q)),new Promise(()=>{})})()}_initialize(m){const E=m._key();if(this.eventManagers[E]){const{manager:q,promise:se}=this.eventManagers[E];return q?Promise.resolve(q):(de(se,"If manager is not set, promise should be"),se)}const x=this.initAndGetManager(m);return this.eventManagers[E]={promise:x},x.catch(()=>{delete this.eventManagers[E]}),x}initAndGetManager(m){var E=this;return(0,y.Z)(function*(){const x=yield function gl(I){return vc.apply(this,arguments)}(m),q=new Yo(m);return x.register("authEvent",se=>(oe(se?.authEvent,m,"invalid-auth-event"),{status:q.onEvent(se.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),E.eventManagers[m._key()]={manager:q},E.iframes[m._key()]=x,q})()}_isIframeWebStorageSupported(m,E){this.iframes[m._key()].send(ad,{type:ad},q=>{var se;const Ve=null===(se=q?.[0])||void 0===se?void 0:se[ad];void 0!==Ve&&E(!!Ve),Le(m,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(m){const E=m._key();return this.originValidationPromises[E]||(this.originValidationPromises[E]=function id(I){return $h.apply(this,arguments)}(m)),this.originValidationPromises[E]}get _shouldInitProactively(){return Vn()||Fr()||ae()}}),this.cordovaResolver=ze(class hd{constructor(){this._redirectPersistence=Po,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=On,this._overrideRedirectResult=hi}_initialize(m){var E=this;return(0,y.Z)(function*(){const x=m._key();let q=E.eventManagers.get(x);return q||(q=new dd(m),E.eventManagers.set(x,q),E.attachCallbackListeners(m,q)),q})()}_openPopup(m){Le(m,"operation-not-supported-in-this-environment")}_openRedirect(m,E,x,q){var se=this;return(0,y.Z)(function*(){!function nf(I){var m,E,x,q,se,Ve,ht,Jt,yn,Rn;const Sn=ma();oe("function"==typeof(null===(m=Sn?.universalLinks)||void 0===m?void 0:m.subscribe),I,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),oe(typeof(null===(E=Sn?.BuildInfo)||void 0===E?void 0:E.packageName)<"u",I,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),oe("function"==typeof(null===(se=null===(q=null===(x=Sn?.cordova)||void 0===x?void 0:x.plugins)||void 0===q?void 0:q.browsertab)||void 0===se?void 0:se.openUrl),I,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),oe("function"==typeof(null===(Jt=null===(ht=null===(Ve=Sn?.cordova)||void 0===Ve?void 0:Ve.plugins)||void 0===ht?void 0:ht.browsertab)||void 0===Jt?void 0:Jt.isAvailable),I,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),oe("function"==typeof(null===(Rn=null===(yn=Sn?.cordova)||void 0===yn?void 0:yn.InAppBrowser)||void 0===Rn?void 0:Rn.open),I,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(m);const Ve=yield se._initialize(m);yield Ve.initialized(),Ve.resetRedirect(),function kt(){ha.clear()}(),yield se._originValidation(m);const ht=function yl(I,m,E=null){return{type:m,eventId:E,urlResponse:null,sessionId:rf(),postBody:null,tenantId:I.tenantId,error:Me(I,"no-auth-event")}}(m,x,q);yield function Wc(I,m){return Jd()._set(Kc(I),m)}(m,ht);const Jt=yield function Yd(I,m,E){return cd.apply(this,arguments)}(m,ht,E),yn=yield function tf(I){const{cordova:m}=ma();return new Promise(E=>{m.plugins.browsertab.isAvailable(x=>{let q=null;x?m.plugins.browsertab.openUrl(I):q=m.InAppBrowser.open(I,function qe(I=(0,Y.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(I)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(I)}()?"_blank":"_system","location=yes"),E(q)})})}(Jt);return function Oa(I,m,E){return _l.apply(this,arguments)}(m,Ve,yn)})()}_isIframeWebStorageSupported(m,E){throw new Error("Method not implemented.")}_originValidation(m){const E=m._key();return this.originValidationPromises[E]||(this.originValidationPromises[E]=function ef(I){return Nl.apply(this,arguments)}(m)),this.originValidationPromises[E]}attachCallbackListeners(m,E){const{universalLinks:x,handleOpenURL:q,BuildInfo:se}=ma(),Ve=setTimeout((0,y.Z)(function*(){yield _a(m),E.onEvent(zc())}),500),ht=function(){var Rn=(0,y.Z)(function*(Sn){clearTimeout(Ve);const ds=yield _a(m);let ka=null;ds&&Sn?.url&&(ka=function Fl(I,m){var E,x;const q=function Ug(I){const m=vi(I),E=m.link?decodeURIComponent(m.link):void 0,x=vi(E).link,q=m.deep_link_id?decodeURIComponent(m.deep_link_id):void 0;return vi(q).link||q||x||E||I}(m);if(q.includes("/__/auth/callback")){const se=vi(q),Ve=se.firebaseError?function Bg(I){try{return JSON.parse(I)}catch{return null}}(decodeURIComponent(se.firebaseError)):null,ht=null===(x=null===(E=Ve?.code)||void 0===E?void 0:E.split("auth/"))||void 0===x?void 0:x[1],Jt=ht?Me(ht):null;return Jt?{type:I.type,eventId:I.eventId,tenantId:I.tenantId,error:Jt,urlResponse:null,sessionId:null,postBody:null}:{type:I.type,eventId:I.eventId,tenantId:I.tenantId,sessionId:I.sessionId,urlResponse:q,postBody:null}}return null}(ds,Sn.url)),E.onEvent(ka||zc())});return function(ds){return Rn.apply(this,arguments)}}();typeof x<"u"&&"function"==typeof x.subscribe&&x.subscribe(null,ht);const Jt=q,yn=`${se.packageName.toLowerCase()}://`;ma().handleOpenURL=function(){var Rn=(0,y.Z)(function*(Sn){if(Sn.toLowerCase().startsWith(yn)&&ht({url:Sn}),"function"==typeof Jt)try{Jt(Sn)}catch(ds){console.error(ds)}});return function(Sn){return Rn.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=Po,this._completeRedirectFn=On,this._overrideRedirectResult=hi}_initialize(m){var E=this;return(0,y.Z)(function*(){return yield E.selectUnderlyingResolver(),E.assertedUnderlyingResolver._initialize(m)})()}_openPopup(m,E,x,q){var se=this;return(0,y.Z)(function*(){return yield se.selectUnderlyingResolver(),se.assertedUnderlyingResolver._openPopup(m,E,x,q)})()}_openRedirect(m,E,x,q){var se=this;return(0,y.Z)(function*(){return yield se.selectUnderlyingResolver(),se.assertedUnderlyingResolver._openRedirect(m,E,x,q)})()}_isIframeWebStorageSupported(m,E){this.assertedUnderlyingResolver._isIframeWebStorageSupported(m,E)}_originValidation(m){return this.assertedUnderlyingResolver._originValidation(m)}get _shouldInitProactively(){return ih()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Qn(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var m=this;return(0,y.Z)(function*(){if(m.underlyingResolver)return;const E=yield function vl(){return _u.apply(this,arguments)}();m.underlyingResolver=E?m.cordovaResolver:m.browserResolver})()}}function jl(I){return I.unwrap()}function Kl(I){return bl(I)}function bl(I){const{_tokenResponse:m}=I instanceof Y.ZR?I.customData:I;if(!m)return null;if(!(I instanceof Y.ZR)&&"temporaryProof"in m&&"phoneNumber"in m)return F.credentialFromResult(I);const E=m.providerId;if(!E||"password"===E)return null;let x;switch(E){case"google.com":x=ho;break;case"facebook.com":x=Vs;break;case"github.com":x=sa;break;case"twitter.com":x=_i;break;default:const{oauthIdToken:q,oauthAccessToken:se,oauthTokenSecret:Ve,pendingToken:ht,nonce:Jt}=m;return se||Ve||q||ht?ht?E.startsWith("saml.")?ws._create(E,ht):et._fromParams({providerId:E,signInMethod:E,pendingToken:ht,idToken:q,accessToken:se}):new Us(E).credential({idToken:q,accessToken:se,rawNonce:Jt}):null}return I instanceof Y.ZR?x.credentialFromError(I):x.credentialFromResult(I)}function ns(I,m){return m.catch(E=>{throw E instanceof Y.ZR&&function qc(I,m){var E,x;const q=null===(E=m.customData)||void 0===E?void 0:E._tokenResponse;if("auth/multi-factor-auth-required"===(null===(x=m)||void 0===x?void 0:x.code))m.resolver=new uf(I,function ai(I,m){var E;const x=(0,Y.m9)(I),q=m;return oe(m.customData.operationType,x,"argument-error"),oe(null===(E=q.customData._serverResponse)||void 0===E?void 0:E.mfaPendingCredential,x,"argument-error"),al._fromError(x,q)}(I,m));else if(q){const se=bl(m),Ve=m;se&&(Ve.credential=se,Ve.tenantId=q.tenantId||void 0,Ve.email=q.email||void 0,Ve.phoneNumber=q.phoneNumber||void 0)}}(I,E),E}).then(E=>{const q=E.user;return{operationType:E.operationType,credential:Kl(E),additionalUserInfo:rr(E),user:Ra.getOrCreate(q)}})}function El(I,m){return Yc.apply(this,arguments)}function Yc(){return(Yc=(0,y.Z)(function*(I,m){const E=yield m;return{verificationId:E.verificationId,confirm:x=>ns(I,E.confirm(x))}})).apply(this,arguments)}class uf{constructor(m,E){this.resolver=E,this.auth=function Wl(I){return I.wrapped()}(m)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(m){return ns(jl(this.auth),this.resolver.resolveSignIn(m))}}class Ra{constructor(m){this._delegate=m,this.multiFactor=function Rl(I){const m=(0,Y.m9)(I);return Pl.has(m)||Pl.set(m,dc._fromUser(m)),Pl.get(m)}(m)}static getOrCreate(m){return Ra.USER_MAP.has(m)||Ra.USER_MAP.set(m,new Ra(m)),Ra.USER_MAP.get(m)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(m){return this._delegate.getIdTokenResult(m)}getIdToken(m){return this._delegate.getIdToken(m)}linkAndRetrieveDataWithCredential(m){return this.linkWithCredential(m)}linkWithCredential(m){var E=this;return(0,y.Z)(function*(){return ns(E.auth,Ua(E._delegate,m))})()}linkWithPhoneNumber(m,E){var x=this;return(0,y.Z)(function*(){return El(x.auth,function xs(I,m,E){return us.apply(this,arguments)}(x._delegate,m,E))})()}linkWithPopup(m){var E=this;return(0,y.Z)(function*(){return ns(E.auth,function kr(I,m,E){return da.apply(this,arguments)}(E._delegate,m,Hl))})()}linkWithRedirect(m){var E=this;return(0,y.Z)(function*(){return yield sh(dr(E.auth)),function Ye(I,m,E){return function ct(I,m,E){return Rt.apply(this,arguments)}(I,m,E)}(E._delegate,m,Hl)})()}reauthenticateAndRetrieveDataWithCredential(m){return this.reauthenticateWithCredential(m)}reauthenticateWithCredential(m){var E=this;return(0,y.Z)(function*(){return ns(E.auth,Ao(E._delegate,m))})()}reauthenticateWithPhoneNumber(m,E){return El(this.auth,function _c(I,m,E){return Gs.apply(this,arguments)}(this._delegate,m,E))}reauthenticateWithPopup(m){return ns(this.auth,function Zs(I,m,E){return ua.apply(this,arguments)}(this._delegate,m,Hl))}reauthenticateWithRedirect(m){var E=this;return(0,y.Z)(function*(){return yield sh(dr(E.auth)),function K(I,m,E){return function X(I,m,E){return pe.apply(this,arguments)}(I,m,E)}(E._delegate,m,Hl)})()}sendEmailVerification(m){return function Ia(I,m){return Wr.apply(this,arguments)}(this._delegate,m)}unlink(m){var E=this;return(0,y.Z)(function*(){return yield function Ci(I,m){return as.apply(this,arguments)}(E._delegate,m),E})()}updateEmail(m){return function N(I,m){return V((0,Y.m9)(I),m,null)}(this._delegate,m)}updatePassword(m){return function Q(I,m){return V((0,Y.m9)(I),null,m)}(this._delegate,m)}updatePhoneNumber(m){return function O(I,m){return T.apply(this,arguments)}(this._delegate,m)}updateProfile(m){return function ja(I,m){return ol.apply(this,arguments)}(this._delegate,m)}verifyBeforeUpdateEmail(m,E){return function Ma(I,m,E){return So.apply(this,arguments)}(this._delegate,m,E)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Ra.USER_MAP=new WeakMap;const bc=oe;let ea=(()=>{class I{constructor(E,x){if(this.app=E,x.isInitialized())return this._delegate=x.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:q}=E.options;bc(q,"invalid-api-key",{appName:E.name}),bc(q,"invalid-api-key",{appName:E.name});const se=typeof window<"u"?Hl:void 0;this._delegate=x.initialize({options:{persistence:vu(q,E.name),popupRedirectResolver:se}}),this._delegate._updateErrorMap(nt),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Ra.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(E){this._delegate.languageCode=E}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(E){this._delegate.tenantId=E}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(E,x){!function Io(I,m,E){const x=dr(I);oe(x._canInitEmulator,x,"emulator-config-failed"),oe(/^https?:\/\//.test(m),x,"invalid-emulator-scheme");const q=!!E?.disableWarnings,se=Bi(m),{host:Ve,port:ht}=function Qr(I){const m=Bi(I),E=/(\/\/)?([^?#/]+)/.exec(I.substr(m.length));if(!E)return{host:"",port:null};const x=E[2].split("@").pop()||"",q=/^(\[[^\]]+\])(:|$)/.exec(x);if(q){const se=q[1];return{host:se,port:Pi(x.substr(se.length+1))}}{const[se,Ve]=x.split(":");return{host:se,port:Pi(Ve)}}}(m);x.config.emulator={url:`${se}//${Ve}${null===ht?"":`:${ht}`}/`},x.settings.appVerificationDisabledForTesting=!0,x.emulatorConfig=Object.freeze({host:Ve,port:ht,protocol:se.replace(":",""),options:Object.freeze({disableWarnings:q})}),q||function bs(){function I(){const m=document.createElement("p"),E=m.style;m.innerText="Running in emulator mode. Do not use with production credentials.",E.position="fixed",E.width="100%",E.backgroundColor="#ffffff",E.border=".1em solid #000000",E.color="#b50000",E.bottom="0px",E.left="0px",E.margin="0px",E.zIndex="10000",E.textAlign="center",m.classList.add("firebase-emulator-warning"),document.body.appendChild(m)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",I):I())}()}(this._delegate,E,x)}applyActionCode(E){return function U(I,m){return ie.apply(this,arguments)}(this._delegate,E)}checkActionCode(E){return pt(this._delegate,E)}confirmPasswordReset(E,x){return function $(I,m,E){return H.apply(this,arguments)}(this._delegate,E,x)}createUserWithEmailAndPassword(E,x){var q=this;return(0,y.Z)(function*(){return ns(q._delegate,function ki(I,m,E){return Ar.apply(this,arguments)}(q._delegate,E,x))})()}fetchProvidersForEmail(E){return this.fetchSignInMethodsForEmail(E)}fetchSignInMethodsForEmail(E){return function po(I,m){return go.apply(this,arguments)}(this._delegate,E)}isSignInWithEmailLink(E){return function ji(I,m){return"EMAIL_SIGNIN"===Cs.parseLink(m)?.operation}(0,E)}getRedirectResult(){var E=this;return(0,y.Z)(function*(){bc(Gc(),E._delegate,"operation-not-supported-in-this-environment");const x=yield function Xt(I,m){return vn.apply(this,arguments)}(E._delegate,Hl);return x?ns(E._delegate,Promise.resolve(x)):{credential:null,user:null}})()}addFrameworkForLogging(E){!function wi(I,m){dr(I)._logFramework(m)}(this._delegate,E)}onAuthStateChanged(E,x,q){const{next:se,error:Ve,complete:ht}=yu(E,x,q);return this._delegate.onAuthStateChanged(se,Ve,ht)}onIdTokenChanged(E,x,q){const{next:se,error:Ve,complete:ht}=yu(E,x,q);return this._delegate.onIdTokenChanged(se,Ve,ht)}sendSignInLinkToEmail(E,x){return function rl(I,m,E){return js.apply(this,arguments)}(this._delegate,E,x)}sendPasswordResetEmail(E,x){return function pi(I,m,E){return Cr.apply(this,arguments)}(this._delegate,E,x||void 0)}setPersistence(E){var x=this;return(0,y.Z)(function*(){let q;switch(function Ul(I,m){Pa(Object.values(Ys).includes(m),I,"invalid-persistence-type"),(0,Y.b$)()?Pa(m!==Ys.SESSION,I,"unsupported-persistence-type"):(0,Y.UG)()?Pa(m===Ys.NONE,I,"unsupported-persistence-type"):pr()?Pa(m===Ys.NONE||m===Ys.LOCAL&&(0,Y.hl)(),I,"unsupported-persistence-type"):Pa(m===Ys.NONE||_s(),I,"unsupported-persistence-type")}(x._delegate,E),E){case Ys.SESSION:q=Po;break;case Ys.LOCAL:q=(yield ze(ul)._isAvailable())?ul:Oo;break;case Ys.NONE:q=or;break;default:return Le("argument-error",{appName:x._delegate.name})}return x._delegate.setPersistence(q)})()}signInAndRetrieveDataWithCredential(E){return this.signInWithCredential(E)}signInAnonymously(){return ns(this._delegate,function Ko(I){return Gr.apply(this,arguments)}(this._delegate))}signInWithCredential(E){return ns(this._delegate,vr(this._delegate,E))}signInWithCustomToken(E){return ns(this._delegate,function Yi(I,m){return Qi.apply(this,arguments)}(this._delegate,E))}signInWithEmailAndPassword(E,x){return ns(this._delegate,function io(I,m,E){return vr((0,Y.m9)(I),Ds.credential(m,E))}(this._delegate,E,x))}signInWithEmailLink(E,x){return ns(this._delegate,function il(I,m,E){return fo.apply(this,arguments)}(this._delegate,E,x))}signInWithPhoneNumber(E,x){return El(this._delegate,function Lc(I,m,E){return gs.apply(this,arguments)}(this._delegate,E,x))}signInWithPopup(E){var x=this;return(0,y.Z)(function*(){return bc(Gc(),x._delegate,"operation-not-supported-in-this-environment"),ns(x._delegate,function Xn(I,m,E){return Wi.apply(this,arguments)}(x._delegate,E,Hl))})()}signInWithRedirect(E){var x=this;return(0,y.Z)(function*(){return bc(Gc(),x._delegate,"operation-not-supported-in-this-environment"),yield sh(x._delegate),function Ni(I,m,E){return function yc(I,m,E){return B.apply(this,arguments)}(I,m,E)}(x._delegate,E,Hl)})()}updateCurrentUser(E){return this._delegate.updateCurrentUser(E)}verifyPasswordResetCode(E){return function ei(I,m){return ps.apply(this,arguments)}(this._delegate,E)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return I.Persistence=Ys,I})();function yu(I,m,E){let x=I;"function"!=typeof I&&({next:x,error:m,complete:E}=I);const q=x;return{next:Ve=>q(Ve&&Ra.getOrCreate(Ve)),error:m,complete:E}}function vu(I,m){const E=function cf(I,m){const E=oh();if(!E)return[];const x=Nr(Zc,I,m);switch(E.getItem(x)){case Ys.NONE:return[or];case Ys.LOCAL:return[ul,Po];case Ys.SESSION:return[Po];default:return[]}}(I,m);if(typeof self<"u"&&!E.includes(ul)&&E.push(ul),typeof window<"u")for(const x of[Oo,Po])E.includes(x)||E.push(x);return E.includes(or)||E.push(or),E}class ah{constructor(){this.providerId="phone",this._delegate=new F(jl(g.Z.auth()))}static credential(m,E){return F.credential(m,E)}verifyPhoneNumber(m,E){return this._delegate.verifyPhoneNumber(m,E)}unwrap(){return this._delegate}}ah.PHONE_SIGN_IN_METHOD=F.PHONE_SIGN_IN_METHOD,ah.PROVIDER_ID=F.PROVIDER_ID;const fd=oe;class rs{constructor(m,E,x=g.Z.app()){var q;fd(null===(q=x.options)||void 0===q?void 0:q.apiKey,"invalid-api-key",{appName:x.name}),this._delegate=new es(m,E,x.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function ch(I){I.INTERNAL.registerComponent(new Be.wA("auth-compat",m=>{const E=m.getProvider("app-compat").getImmediate(),x=m.getProvider("auth");return new ea(E,x)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Ds,FacebookAuthProvider:Vs,GithubAuthProvider:sa,GoogleAuthProvider:ho,OAuthProvider:Us,SAMLAuthProvider:Hi,PhoneAuthProvider:ah,PhoneMultiFactorGenerator:Ya,RecaptchaVerifier:rs,TwitterAuthProvider:_i,Auth:ea,AuthCredential:mi,Error:Y.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),I.registerVersion("@firebase/auth-compat","0.2.19")}(g.Z)},1135:(ft,Ue,k)=>{k.d(Ue,{X:()=>g});var y=k(7579);class g extends y.x{constructor(me){super(),this._value=me}get value(){return this.getValue()}_subscribe(me){const Se=super._subscribe(me);return!Se.closed&&me.next(this._value),Se}getValue(){const{hasError:me,thrownError:Se,_value:ke}=this;if(me)throw Se;return this._throwIfClosed(),ke}next(me){super.next(this._value=me)}}},9751:(ft,Ue,k)=>{k.d(Ue,{y:()=>Fe});var y=k(930),g=k(727),Y=k(8822),me=k(9635),Se=k(2416),ke=k(576),Be=k(2806);let Fe=(()=>{class Pe{constructor(ot){ot&&(this._subscribe=ot)}lift(ot){const nt=new Pe;return nt.source=this,nt.operator=ot,nt}subscribe(ot,nt,Nt){const rt=function ge(Pe){return Pe&&Pe instanceof y.Lv||function he(Pe){return Pe&&(0,ke.m)(Pe.next)&&(0,ke.m)(Pe.error)&&(0,ke.m)(Pe.complete)}(Pe)&&(0,g.Nn)(Pe)}(ot)?ot:new y.Hp(ot,nt,Nt);return(0,Be.x)(()=>{const{operator:je,source:Re}=this;rt.add(je?je.call(rt,Re):Re?this._subscribe(rt):this._trySubscribe(rt))}),rt}_trySubscribe(ot){try{return this._subscribe(ot)}catch(nt){ot.error(nt)}}forEach(ot,nt){return new(nt=Qe(nt))((Nt,rt)=>{const je=new y.Hp({next:Re=>{try{ot(Re)}catch(Ht){rt(Ht),je.unsubscribe()}},error:rt,complete:Nt});this.subscribe(je)})}_subscribe(ot){var nt;return null===(nt=this.source)||void 0===nt?void 0:nt.subscribe(ot)}[Y.L](){return this}pipe(...ot){return(0,me.U)(ot)(this)}toPromise(ot){return new(ot=Qe(ot))((nt,Nt)=>{let rt;this.subscribe(je=>rt=je,je=>Nt(je),()=>nt(rt))})}}return Pe.create=Et=>new Pe(Et),Pe})();function Qe(Pe){var Et;return null!==(Et=Pe??Se.v.Promise)&&void 0!==Et?Et:Promise}},7579:(ft,Ue,k)=>{k.d(Ue,{x:()=>Be});var y=k(9751),g=k(727);const me=(0,k(3888).d)(Qe=>function(){Qe(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Se=k(8737),ke=k(2806);let Be=(()=>{class Qe extends y.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(ge){const Pe=new Fe(this,this);return Pe.operator=ge,Pe}_throwIfClosed(){if(this.closed)throw new me}next(ge){(0,ke.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Pe of this.currentObservers)Pe.next(ge)}})}error(ge){(0,ke.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=ge;const{observers:Pe}=this;for(;Pe.length;)Pe.shift().error(ge)}})}complete(){(0,ke.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:ge}=this;for(;ge.length;)ge.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var ge;return(null===(ge=this.observers)||void 0===ge?void 0:ge.length)>0}_trySubscribe(ge){return this._throwIfClosed(),super._trySubscribe(ge)}_subscribe(ge){return this._throwIfClosed(),this._checkFinalizedStatuses(ge),this._innerSubscribe(ge)}_innerSubscribe(ge){const{hasError:Pe,isStopped:Et,observers:ot}=this;return Pe||Et?g.Lc:(this.currentObservers=null,ot.push(ge),new g.w0(()=>{this.currentObservers=null,(0,Se.P)(ot,ge)}))}_checkFinalizedStatuses(ge){const{hasError:Pe,thrownError:Et,isStopped:ot}=this;Pe?ge.error(Et):ot&&ge.complete()}asObservable(){const ge=new y.y;return ge.source=this,ge}}return Qe.create=(he,ge)=>new Fe(he,ge),Qe})();class Fe extends Be{constructor(he,ge){super(),this.destination=he,this.source=ge}next(he){var ge,Pe;null===(Pe=null===(ge=this.destination)||void 0===ge?void 0:ge.next)||void 0===Pe||Pe.call(ge,he)}error(he){var ge,Pe;null===(Pe=null===(ge=this.destination)||void 0===ge?void 0:ge.error)||void 0===Pe||Pe.call(ge,he)}complete(){var he,ge;null===(ge=null===(he=this.destination)||void 0===he?void 0:he.complete)||void 0===ge||ge.call(he)}_subscribe(he){var ge,Pe;return null!==(Pe=null===(ge=this.source)||void 0===ge?void 0:ge.subscribe(he))&&void 0!==Pe?Pe:g.Lc}}},930:(ft,Ue,k)=>{k.d(Ue,{Hp:()=>Nt,Lv:()=>Pe});var y=k(576),g=k(727),Y=k(2416),me=k(7849),Se=k(5032);const ke=Qe("C",void 0,void 0);function Qe(Le,Me,$e){return{kind:Le,value:Me,error:$e}}var he=k(3410),ge=k(2806);class Pe extends g.w0{constructor(Me){super(),this.isStopped=!1,Me?(this.destination=Me,(0,g.Nn)(Me)&&Me.add(this)):this.destination=Ht}static create(Me,$e,It){return new Nt(Me,$e,It)}next(Me){this.isStopped?Re(function Fe(Le){return Qe("N",Le,void 0)}(Me),this):this._next(Me)}error(Me){this.isStopped?Re(function Be(Le){return Qe("E",void 0,Le)}(Me),this):(this.isStopped=!0,this._error(Me))}complete(){this.isStopped?Re(ke,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Me){this.destination.next(Me)}_error(Me){try{this.destination.error(Me)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Et=Function.prototype.bind;function ot(Le,Me){return Et.call(Le,Me)}class nt{constructor(Me){this.partialObserver=Me}next(Me){const{partialObserver:$e}=this;if($e.next)try{$e.next(Me)}catch(It){rt(It)}}error(Me){const{partialObserver:$e}=this;if($e.error)try{$e.error(Me)}catch(It){rt(It)}else rt(Me)}complete(){const{partialObserver:Me}=this;if(Me.complete)try{Me.complete()}catch($e){rt($e)}}}class Nt extends Pe{constructor(Me,$e,It){let Tt;if(super(),(0,y.m)(Me)||!Me)Tt={next:Me??void 0,error:$e??void 0,complete:It??void 0};else{let oe;this&&Y.v.useDeprecatedNextContext?(oe=Object.create(Me),oe.unsubscribe=()=>this.unsubscribe(),Tt={next:Me.next&&ot(Me.next,oe),error:Me.error&&ot(Me.error,oe),complete:Me.complete&&ot(Me.complete,oe)}):Tt=Me}this.destination=new nt(Tt)}}function rt(Le){Y.v.useDeprecatedSynchronousErrorHandling?(0,ge.O)(Le):(0,me.h)(Le)}function Re(Le,Me){const{onStoppedNotification:$e}=Y.v;$e&&he.z.setTimeout(()=>$e(Le,Me))}const Ht={closed:!0,next:Se.Z,error:function je(Le){throw Le},complete:Se.Z}},727:(ft,Ue,k)=>{k.d(Ue,{Lc:()=>ke,w0:()=>Se,Nn:()=>Be});var y=k(576);const Y=(0,k(3888).d)(Qe=>function(ge){Qe(this),this.message=ge?`${ge.length} errors occurred during unsubscription:\n${ge.map((Pe,Et)=>`${Et+1}) ${Pe.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ge});var me=k(8737);class Se{constructor(he){this.initialTeardown=he,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let he;if(!this.closed){this.closed=!0;const{_parentage:ge}=this;if(ge)if(this._parentage=null,Array.isArray(ge))for(const ot of ge)ot.remove(this);else ge.remove(this);const{initialTeardown:Pe}=this;if((0,y.m)(Pe))try{Pe()}catch(ot){he=ot instanceof Y?ot.errors:[ot]}const{_finalizers:Et}=this;if(Et){this._finalizers=null;for(const ot of Et)try{Fe(ot)}catch(nt){he=he??[],nt instanceof Y?he=[...he,...nt.errors]:he.push(nt)}}if(he)throw new Y(he)}}add(he){var ge;if(he&&he!==this)if(this.closed)Fe(he);else{if(he instanceof Se){if(he.closed||he._hasParent(this))return;he._addParent(this)}(this._finalizers=null!==(ge=this._finalizers)&&void 0!==ge?ge:[]).push(he)}}_hasParent(he){const{_parentage:ge}=this;return ge===he||Array.isArray(ge)&&ge.includes(he)}_addParent(he){const{_parentage:ge}=this;this._parentage=Array.isArray(ge)?(ge.push(he),ge):ge?[ge,he]:he}_removeParent(he){const{_parentage:ge}=this;ge===he?this._parentage=null:Array.isArray(ge)&&(0,me.P)(ge,he)}remove(he){const{_finalizers:ge}=this;ge&&(0,me.P)(ge,he),he instanceof Se&&he._removeParent(this)}}Se.EMPTY=(()=>{const Qe=new Se;return Qe.closed=!0,Qe})();const ke=Se.EMPTY;function Be(Qe){return Qe instanceof Se||Qe&&"closed"in Qe&&(0,y.m)(Qe.remove)&&(0,y.m)(Qe.add)&&(0,y.m)(Qe.unsubscribe)}function Fe(Qe){(0,y.m)(Qe)?Qe():Qe.unsubscribe()}},2416:(ft,Ue,k)=>{k.d(Ue,{v:()=>y});const y={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},9841:(ft,Ue,k)=>{k.d(Ue,{a:()=>he});var y=k(9751),g=k(4742),Y=k(8996),me=k(4671),Se=k(3268),ke=k(3269),Be=k(1810),Fe=k(5403),Qe=k(9672);function he(...Et){const ot=(0,ke.yG)(Et),nt=(0,ke.jO)(Et),{args:Nt,keys:rt}=(0,g.D)(Et);if(0===Nt.length)return(0,Y.D)([],ot);const je=new y.y(function ge(Et,ot,nt=me.y){return Nt=>{Pe(ot,()=>{const{length:rt}=Et,je=new Array(rt);let Re=rt,Ht=rt;for(let Le=0;Le<rt;Le++)Pe(ot,()=>{const Me=(0,Y.D)(Et[Le],ot);let $e=!1;Me.subscribe((0,Fe.x)(Nt,It=>{je[Le]=It,$e||($e=!0,Ht--),Ht||Nt.next(nt(je.slice()))},()=>{--Re||Nt.complete()}))},Nt)},Nt)}}(Nt,ot,rt?Re=>(0,Be.n)(rt,Re):me.y));return nt?je.pipe((0,Se.Z)(nt)):je}function Pe(Et,ot,nt){Et?(0,Qe.f)(nt,Et,ot):ot()}},7272:(ft,Ue,k)=>{k.d(Ue,{z:()=>Se});var y=k(8189),Y=k(3269),me=k(8996);function Se(...ke){return function g(){return(0,y.J)(1)}()((0,me.D)(ke,(0,Y.yG)(ke)))}},515:(ft,Ue,k)=>{k.d(Ue,{E:()=>g});const g=new(k(9751).y)(Se=>Se.complete())},4128:(ft,Ue,k)=>{k.d(Ue,{D:()=>Fe});var y=k(9751),g=k(4742),Y=k(8421),me=k(3269),Se=k(5403),ke=k(3268),Be=k(1810);function Fe(...Qe){const he=(0,me.jO)(Qe),{args:ge,keys:Pe}=(0,g.D)(Qe),Et=new y.y(ot=>{const{length:nt}=ge;if(!nt)return void ot.complete();const Nt=new Array(nt);let rt=nt,je=nt;for(let Re=0;Re<nt;Re++){let Ht=!1;(0,Y.Xf)(ge[Re]).subscribe((0,Se.x)(ot,Le=>{Ht||(Ht=!0,je--),Nt[Re]=Le},()=>rt--,void 0,()=>{(!rt||!Ht)&&(je||ot.next(Pe?(0,Be.n)(Pe,Nt):Nt),ot.complete())}))}});return he?Et.pipe((0,ke.Z)(he)):Et}},8996:(ft,Ue,k)=>{k.d(Ue,{D:()=>Me});var y=k(8421),g=k(5363),Y=k(9468),ke=k(9751),Fe=k(2202),Qe=k(576),he=k(9672);function Pe($e,It){if(!$e)throw new Error("Iterable cannot be null");return new ke.y(Tt=>{(0,he.f)(Tt,It,()=>{const oe=$e[Symbol.asyncIterator]();(0,he.f)(Tt,It,()=>{oe.next().then(Je=>{Je.done?Tt.complete():Tt.next(Je.value)})},0,!0)})})}var Et=k(3670),ot=k(8239),nt=k(1144),Nt=k(6495),rt=k(2206),je=k(4532),Re=k(3260);function Me($e,It){return It?function Le($e,It){if(null!=$e){if((0,Et.c)($e))return function me($e,It){return(0,y.Xf)($e).pipe((0,Y.R)(It),(0,g.Q)(It))}($e,It);if((0,nt.z)($e))return function Be($e,It){return new ke.y(Tt=>{let oe=0;return It.schedule(function(){oe===$e.length?Tt.complete():(Tt.next($e[oe++]),Tt.closed||this.schedule())})})}($e,It);if((0,ot.t)($e))return function Se($e,It){return(0,y.Xf)($e).pipe((0,Y.R)(It),(0,g.Q)(It))}($e,It);if((0,rt.D)($e))return Pe($e,It);if((0,Nt.T)($e))return function ge($e,It){return new ke.y(Tt=>{let oe;return(0,he.f)(Tt,It,()=>{oe=$e[Fe.h](),(0,he.f)(Tt,It,()=>{let Je,de;try{({value:Je,done:de}=oe.next())}catch(fe){return void Tt.error(fe)}de?Tt.complete():Tt.next(Je)},0,!0)}),()=>(0,Qe.m)(oe?.return)&&oe.return()})}($e,It);if((0,Re.L)($e))return function Ht($e,It){return Pe((0,Re.Q)($e),It)}($e,It)}throw(0,je.z)($e)}($e,It):(0,y.Xf)($e)}},8421:(ft,Ue,k)=>{k.d(Ue,{Xf:()=>Et});var y=k(655),g=k(1144),Y=k(8239),me=k(9751),Se=k(3670),ke=k(2206),Be=k(4532),Fe=k(6495),Qe=k(3260),he=k(576),ge=k(7849),Pe=k(8822);function Et(Le){if(Le instanceof me.y)return Le;if(null!=Le){if((0,Se.c)(Le))return function ot(Le){return new me.y(Me=>{const $e=Le[Pe.L]();if((0,he.m)($e.subscribe))return $e.subscribe(Me);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Le);if((0,g.z)(Le))return function nt(Le){return new me.y(Me=>{for(let $e=0;$e<Le.length&&!Me.closed;$e++)Me.next(Le[$e]);Me.complete()})}(Le);if((0,Y.t)(Le))return function Nt(Le){return new me.y(Me=>{Le.then($e=>{Me.closed||(Me.next($e),Me.complete())},$e=>Me.error($e)).then(null,ge.h)})}(Le);if((0,ke.D)(Le))return je(Le);if((0,Fe.T)(Le))return function rt(Le){return new me.y(Me=>{for(const $e of Le)if(Me.next($e),Me.closed)return;Me.complete()})}(Le);if((0,Qe.L)(Le))return function Re(Le){return je((0,Qe.Q)(Le))}(Le)}throw(0,Be.z)(Le)}function je(Le){return new me.y(Me=>{(function Ht(Le,Me){var $e,It,Tt,oe;return(0,y.mG)(this,void 0,void 0,function*(){try{for($e=(0,y.KL)(Le);!(It=yield $e.next()).done;)if(Me.next(It.value),Me.closed)return}catch(Je){Tt={error:Je}}finally{try{It&&!It.done&&(oe=$e.return)&&(yield oe.call($e))}finally{if(Tt)throw Tt.error}}Me.complete()})})(Le,Me).catch($e=>Me.error($e))})}},6451:(ft,Ue,k)=>{k.d(Ue,{T:()=>ke});var y=k(8189),g=k(8421),Y=k(515),me=k(3269),Se=k(8996);function ke(...Be){const Fe=(0,me.yG)(Be),Qe=(0,me._6)(Be,1/0),he=Be;return he.length?1===he.length?(0,g.Xf)(he[0]):(0,y.J)(Qe)((0,Se.D)(he,Fe)):Y.E}},9646:(ft,Ue,k)=>{k.d(Ue,{of:()=>Y});var y=k(3269),g=k(8996);function Y(...me){const Se=(0,y.yG)(me);return(0,g.D)(me,Se)}},2843:(ft,Ue,k)=>{k.d(Ue,{_:()=>Y});var y=k(9751),g=k(576);function Y(me,Se){const ke=(0,g.m)(me)?me:()=>me,Be=Fe=>Fe.error(ke());return new y.y(Se?Fe=>Se.schedule(Be,0,Fe):Be)}},5403:(ft,Ue,k)=>{k.d(Ue,{x:()=>g});var y=k(930);function g(me,Se,ke,Be,Fe){return new Y(me,Se,ke,Be,Fe)}class Y extends y.Lv{constructor(Se,ke,Be,Fe,Qe,he){super(Se),this.onFinalize=Qe,this.shouldUnsubscribe=he,this._next=ke?function(ge){try{ke(ge)}catch(Pe){Se.error(Pe)}}:super._next,this._error=Fe?function(ge){try{Fe(ge)}catch(Pe){Se.error(Pe)}finally{this.unsubscribe()}}:super._error,this._complete=Be?function(){try{Be()}catch(ge){Se.error(ge)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var Se;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ke}=this;super.unsubscribe(),!ke&&(null===(Se=this.onFinalize)||void 0===Se||Se.call(this))}}}},262:(ft,Ue,k)=>{k.d(Ue,{K:()=>me});var y=k(8421),g=k(5403),Y=k(4482);function me(Se){return(0,Y.e)((ke,Be)=>{let he,Fe=null,Qe=!1;Fe=ke.subscribe((0,g.x)(Be,void 0,void 0,ge=>{he=(0,y.Xf)(Se(ge,me(Se)(ke))),Fe?(Fe.unsubscribe(),Fe=null,he.subscribe(Be)):Qe=!0})),Qe&&(Fe.unsubscribe(),Fe=null,he.subscribe(Be))})}},4351:(ft,Ue,k)=>{k.d(Ue,{b:()=>Y});var y=k(5577),g=k(576);function Y(me,Se){return(0,g.m)(Se)?(0,y.z)(me,Se,1):(0,y.z)(me,1)}},6590:(ft,Ue,k)=>{k.d(Ue,{d:()=>Y});var y=k(4482),g=k(5403);function Y(me){return(0,y.e)((Se,ke)=>{let Be=!1;Se.subscribe((0,g.x)(ke,Fe=>{Be=!0,ke.next(Fe)},()=>{Be||ke.next(me),ke.complete()}))})}},1884:(ft,Ue,k)=>{k.d(Ue,{x:()=>me});var y=k(4671),g=k(4482),Y=k(5403);function me(ke,Be=y.y){return ke=ke??Se,(0,g.e)((Fe,Qe)=>{let he,ge=!0;Fe.subscribe((0,Y.x)(Qe,Pe=>{const Et=Be(Pe);(ge||!ke(he,Et))&&(ge=!1,he=Et,Qe.next(Pe))}))})}function Se(ke,Be){return ke===Be}},9300:(ft,Ue,k)=>{k.d(Ue,{h:()=>Y});var y=k(4482),g=k(5403);function Y(me,Se){return(0,y.e)((ke,Be)=>{let Fe=0;ke.subscribe((0,g.x)(Be,Qe=>me.call(Se,Qe,Fe++)&&Be.next(Qe)))})}},8746:(ft,Ue,k)=>{k.d(Ue,{x:()=>g});var y=k(4482);function g(Y){return(0,y.e)((me,Se)=>{try{me.subscribe(Se)}finally{Se.add(Y)}})}},590:(ft,Ue,k)=>{k.d(Ue,{P:()=>Be});var y=k(6805),g=k(9300),Y=k(5698),me=k(6590),Se=k(8068),ke=k(4671);function Be(Fe,Qe){const he=arguments.length>=2;return ge=>ge.pipe(Fe?(0,g.h)((Pe,Et)=>Fe(Pe,Et,ge)):ke.y,(0,Y.q)(1),he?(0,me.d)(Qe):(0,Se.T)(()=>new y.K))}},4004:(ft,Ue,k)=>{k.d(Ue,{U:()=>Y});var y=k(4482),g=k(5403);function Y(me,Se){return(0,y.e)((ke,Be)=>{let Fe=0;ke.subscribe((0,g.x)(Be,Qe=>{Be.next(me.call(Se,Qe,Fe++))}))})}},9718:(ft,Ue,k)=>{k.d(Ue,{h:()=>g});var y=k(4004);function g(Y){return(0,y.U)(()=>Y)}},8189:(ft,Ue,k)=>{k.d(Ue,{J:()=>Y});var y=k(5577),g=k(4671);function Y(me=1/0){return(0,y.z)(g.y,me)}},5577:(ft,Ue,k)=>{k.d(Ue,{z:()=>Fe});var y=k(4004),g=k(8421),Y=k(4482),me=k(9672),Se=k(5403),Be=k(576);function Fe(Qe,he,ge=1/0){return(0,Be.m)(he)?Fe((Pe,Et)=>(0,y.U)((ot,nt)=>he(Pe,ot,Et,nt))((0,g.Xf)(Qe(Pe,Et))),ge):("number"==typeof he&&(ge=he),(0,Y.e)((Pe,Et)=>function ke(Qe,he,ge,Pe,Et,ot,nt,Nt){const rt=[];let je=0,Re=0,Ht=!1;const Le=()=>{Ht&&!rt.length&&!je&&he.complete()},Me=It=>je<Pe?$e(It):rt.push(It),$e=It=>{ot&&he.next(It),je++;let Tt=!1;(0,g.Xf)(ge(It,Re++)).subscribe((0,Se.x)(he,oe=>{Et?.(oe),ot?Me(oe):he.next(oe)},()=>{Tt=!0},void 0,()=>{if(Tt)try{for(je--;rt.length&&je<Pe;){const oe=rt.shift();nt?(0,me.f)(he,nt,()=>$e(oe)):$e(oe)}Le()}catch(oe){he.error(oe)}}))};return Qe.subscribe((0,Se.x)(he,Me,()=>{Ht=!0,Le()})),()=>{Nt?.()}}(Pe,Et,Qe,ge)))}},5363:(ft,Ue,k)=>{k.d(Ue,{Q:()=>me});var y=k(9672),g=k(4482),Y=k(5403);function me(Se,ke=0){return(0,g.e)((Be,Fe)=>{Be.subscribe((0,Y.x)(Fe,Qe=>(0,y.f)(Fe,Se,()=>Fe.next(Qe),ke),()=>(0,y.f)(Fe,Se,()=>Fe.complete(),ke),Qe=>(0,y.f)(Fe,Se,()=>Fe.error(Qe),ke)))})}},5026:(ft,Ue,k)=>{k.d(Ue,{R:()=>me});var y=k(4482),g=k(5403);function Y(Se,ke,Be,Fe,Qe){return(he,ge)=>{let Pe=Be,Et=ke,ot=0;he.subscribe((0,g.x)(ge,nt=>{const Nt=ot++;Et=Pe?Se(Et,nt,Nt):(Pe=!0,nt),Fe&&ge.next(Et)},Qe&&(()=>{Pe&&ge.next(Et),ge.complete()})))}}function me(Se,ke){return(0,y.e)(Y(Se,ke,arguments.length>=2,!0))}},3099:(ft,Ue,k)=>{k.d(Ue,{B:()=>Se});var y=k(8421),g=k(7579),Y=k(930),me=k(4482);function Se(Be={}){const{connector:Fe=(()=>new g.x),resetOnError:Qe=!0,resetOnComplete:he=!0,resetOnRefCountZero:ge=!0}=Be;return Pe=>{let Et,ot,nt,Nt=0,rt=!1,je=!1;const Re=()=>{ot?.unsubscribe(),ot=void 0},Ht=()=>{Re(),Et=nt=void 0,rt=je=!1},Le=()=>{const Me=Et;Ht(),Me?.unsubscribe()};return(0,me.e)((Me,$e)=>{Nt++,!je&&!rt&&Re();const It=nt=nt??Fe();$e.add(()=>{Nt--,0===Nt&&!je&&!rt&&(ot=ke(Le,ge))}),It.subscribe($e),!Et&&Nt>0&&(Et=new Y.Hp({next:Tt=>It.next(Tt),error:Tt=>{je=!0,Re(),ot=ke(Ht,Qe,Tt),It.error(Tt)},complete:()=>{rt=!0,Re(),ot=ke(Ht,he),It.complete()}}),(0,y.Xf)(Me).subscribe(Et))})(Pe)}}function ke(Be,Fe,...Qe){if(!0===Fe)return void Be();if(!1===Fe)return;const he=new Y.Hp({next:()=>{he.unsubscribe(),Be()}});return Fe(...Qe).subscribe(he)}},8675:(ft,Ue,k)=>{k.d(Ue,{O:()=>me});var y=k(7272),g=k(3269),Y=k(4482);function me(...Se){const ke=(0,g.yG)(Se);return(0,Y.e)((Be,Fe)=>{(ke?(0,y.z)(Se,Be,ke):(0,y.z)(Se,Be)).subscribe(Fe)})}},9468:(ft,Ue,k)=>{k.d(Ue,{R:()=>g});var y=k(4482);function g(Y,me=0){return(0,y.e)((Se,ke)=>{ke.add(Y.schedule(()=>Se.subscribe(ke),me))})}},3900:(ft,Ue,k)=>{k.d(Ue,{w:()=>me});var y=k(8421),g=k(4482),Y=k(5403);function me(Se,ke){return(0,g.e)((Be,Fe)=>{let Qe=null,he=0,ge=!1;const Pe=()=>ge&&!Qe&&Fe.complete();Be.subscribe((0,Y.x)(Fe,Et=>{Qe?.unsubscribe();let ot=0;const nt=he++;(0,y.Xf)(Se(Et,nt)).subscribe(Qe=(0,Y.x)(Fe,Nt=>Fe.next(ke?ke(Et,Nt,nt,ot++):Nt),()=>{Qe=null,Pe()}))},()=>{ge=!0,Pe()}))})}},5698:(ft,Ue,k)=>{k.d(Ue,{q:()=>me});var y=k(515),g=k(4482),Y=k(5403);function me(Se){return Se<=0?()=>y.E:(0,g.e)((ke,Be)=>{let Fe=0;ke.subscribe((0,Y.x)(Be,Qe=>{++Fe<=Se&&(Be.next(Qe),Se<=Fe&&Be.complete())}))})}},8505:(ft,Ue,k)=>{k.d(Ue,{b:()=>Se});var y=k(576),g=k(4482),Y=k(5403),me=k(4671);function Se(ke,Be,Fe){const Qe=(0,y.m)(ke)||Be||Fe?{next:ke,error:Be,complete:Fe}:ke;return Qe?(0,g.e)((he,ge)=>{var Pe;null===(Pe=Qe.subscribe)||void 0===Pe||Pe.call(Qe);let Et=!0;he.subscribe((0,Y.x)(ge,ot=>{var nt;null===(nt=Qe.next)||void 0===nt||nt.call(Qe,ot),ge.next(ot)},()=>{var ot;Et=!1,null===(ot=Qe.complete)||void 0===ot||ot.call(Qe),ge.complete()},ot=>{var nt;Et=!1,null===(nt=Qe.error)||void 0===nt||nt.call(Qe,ot),ge.error(ot)},()=>{var ot,nt;Et&&(null===(ot=Qe.unsubscribe)||void 0===ot||ot.call(Qe)),null===(nt=Qe.finalize)||void 0===nt||nt.call(Qe)}))}):me.y}},8068:(ft,Ue,k)=>{k.d(Ue,{T:()=>me});var y=k(6805),g=k(4482),Y=k(5403);function me(ke=Se){return(0,g.e)((Be,Fe)=>{let Qe=!1;Be.subscribe((0,Y.x)(Fe,he=>{Qe=!0,Fe.next(he)},()=>Qe?Fe.complete():Fe.error(ke())))})}function Se(){return new y.K}},4408:(ft,Ue,k)=>{k.d(Ue,{o:()=>Se});var y=k(727);class g extends y.w0{constructor(Be,Fe){super()}schedule(Be,Fe=0){return this}}const Y={setInterval(ke,Be,...Fe){const{delegate:Qe}=Y;return Qe?.setInterval?Qe.setInterval(ke,Be,...Fe):setInterval(ke,Be,...Fe)},clearInterval(ke){const{delegate:Be}=Y;return(Be?.clearInterval||clearInterval)(ke)},delegate:void 0};var me=k(8737);class Se extends g{constructor(Be,Fe){super(Be,Fe),this.scheduler=Be,this.work=Fe,this.pending=!1}schedule(Be,Fe=0){if(this.closed)return this;this.state=Be;const Qe=this.id,he=this.scheduler;return null!=Qe&&(this.id=this.recycleAsyncId(he,Qe,Fe)),this.pending=!0,this.delay=Fe,this.id=this.id||this.requestAsyncId(he,this.id,Fe),this}requestAsyncId(Be,Fe,Qe=0){return Y.setInterval(Be.flush.bind(Be,this),Qe)}recycleAsyncId(Be,Fe,Qe=0){if(null!=Qe&&this.delay===Qe&&!1===this.pending)return Fe;Y.clearInterval(Fe)}execute(Be,Fe){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Qe=this._execute(Be,Fe);if(Qe)return Qe;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Be,Fe){let he,Qe=!1;try{this.work(Be)}catch(ge){Qe=!0,he=ge||new Error("Scheduled action threw falsy error")}if(Qe)return this.unsubscribe(),he}unsubscribe(){if(!this.closed){const{id:Be,scheduler:Fe}=this,{actions:Qe}=Fe;this.work=this.state=this.scheduler=null,this.pending=!1,(0,me.P)(Qe,this),null!=Be&&(this.id=this.recycleAsyncId(Fe,Be,null)),this.delay=null,super.unsubscribe()}}}},7565:(ft,Ue,k)=>{k.d(Ue,{v:()=>Y});var y=k(6063);class g{constructor(Se,ke=g.now){this.schedulerActionCtor=Se,this.now=ke}schedule(Se,ke=0,Be){return new this.schedulerActionCtor(this,Se).schedule(Be,ke)}}g.now=y.l.now;class Y extends g{constructor(Se,ke=g.now){super(Se,ke),this.actions=[],this._active=!1,this._scheduled=void 0}flush(Se){const{actions:ke}=this;if(this._active)return void ke.push(Se);let Be;this._active=!0;do{if(Be=Se.execute(Se.state,Se.delay))break}while(Se=ke.shift());if(this._active=!1,Be){for(;Se=ke.shift();)Se.unsubscribe();throw Be}}}},4986:(ft,Ue,k)=>{k.d(Ue,{P:()=>me,z:()=>Y});var y=k(4408);const Y=new(k(7565).v)(y.o),me=Y},6063:(ft,Ue,k)=>{k.d(Ue,{l:()=>y});const y={now:()=>(y.delegate||Date).now(),delegate:void 0}},3410:(ft,Ue,k)=>{k.d(Ue,{z:()=>y});const y={setTimeout(g,Y,...me){const{delegate:Se}=y;return Se?.setTimeout?Se.setTimeout(g,Y,...me):setTimeout(g,Y,...me)},clearTimeout(g){const{delegate:Y}=y;return(Y?.clearTimeout||clearTimeout)(g)},delegate:void 0}},2202:(ft,Ue,k)=>{k.d(Ue,{h:()=>g});const g=function y(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(ft,Ue,k)=>{k.d(Ue,{L:()=>y});const y="function"==typeof Symbol&&Symbol.observable||"@@observable"},6805:(ft,Ue,k)=>{k.d(Ue,{K:()=>g});const g=(0,k(3888).d)(Y=>function(){Y(this),this.name="EmptyError",this.message="no elements in sequence"})},3269:(ft,Ue,k)=>{k.d(Ue,{_6:()=>ke,jO:()=>me,yG:()=>Se});var y=k(576),g=k(3532);function Y(Be){return Be[Be.length-1]}function me(Be){return(0,y.m)(Y(Be))?Be.pop():void 0}function Se(Be){return(0,g.K)(Y(Be))?Be.pop():void 0}function ke(Be,Fe){return"number"==typeof Y(Be)?Be.pop():Fe}},4742:(ft,Ue,k)=>{k.d(Ue,{D:()=>Se});const{isArray:y}=Array,{getPrototypeOf:g,prototype:Y,keys:me}=Object;function Se(Be){if(1===Be.length){const Fe=Be[0];if(y(Fe))return{args:Fe,keys:null};if(function ke(Be){return Be&&"object"==typeof Be&&g(Be)===Y}(Fe)){const Qe=me(Fe);return{args:Qe.map(he=>Fe[he]),keys:Qe}}}return{args:Be,keys:null}}},8737:(ft,Ue,k)=>{function y(g,Y){if(g){const me=g.indexOf(Y);0<=me&&g.splice(me,1)}}k.d(Ue,{P:()=>y})},3888:(ft,Ue,k)=>{function y(g){const me=g(Se=>{Error.call(Se),Se.stack=(new Error).stack});return me.prototype=Object.create(Error.prototype),me.prototype.constructor=me,me}k.d(Ue,{d:()=>y})},1810:(ft,Ue,k)=>{function y(g,Y){return g.reduce((me,Se,ke)=>(me[Se]=Y[ke],me),{})}k.d(Ue,{n:()=>y})},2806:(ft,Ue,k)=>{k.d(Ue,{O:()=>me,x:()=>Y});var y=k(2416);let g=null;function Y(Se){if(y.v.useDeprecatedSynchronousErrorHandling){const ke=!g;if(ke&&(g={errorThrown:!1,error:null}),Se(),ke){const{errorThrown:Be,error:Fe}=g;if(g=null,Be)throw Fe}}else Se()}function me(Se){y.v.useDeprecatedSynchronousErrorHandling&&g&&(g.errorThrown=!0,g.error=Se)}},9672:(ft,Ue,k)=>{function y(g,Y,me,Se=0,ke=!1){const Be=Y.schedule(function(){me(),ke?g.add(this.schedule(null,Se)):this.unsubscribe()},Se);if(g.add(Be),!ke)return Be}k.d(Ue,{f:()=>y})},4671:(ft,Ue,k)=>{function y(g){return g}k.d(Ue,{y:()=>y})},1144:(ft,Ue,k)=>{k.d(Ue,{z:()=>y});const y=g=>g&&"number"==typeof g.length&&"function"!=typeof g},2206:(ft,Ue,k)=>{k.d(Ue,{D:()=>g});var y=k(576);function g(Y){return Symbol.asyncIterator&&(0,y.m)(Y?.[Symbol.asyncIterator])}},576:(ft,Ue,k)=>{function y(g){return"function"==typeof g}k.d(Ue,{m:()=>y})},3670:(ft,Ue,k)=>{k.d(Ue,{c:()=>Y});var y=k(8822),g=k(576);function Y(me){return(0,g.m)(me[y.L])}},6495:(ft,Ue,k)=>{k.d(Ue,{T:()=>Y});var y=k(2202),g=k(576);function Y(me){return(0,g.m)(me?.[y.h])}},8239:(ft,Ue,k)=>{k.d(Ue,{t:()=>g});var y=k(576);function g(Y){return(0,y.m)(Y?.then)}},3260:(ft,Ue,k)=>{k.d(Ue,{L:()=>me,Q:()=>Y});var y=k(655),g=k(576);function Y(Se){return(0,y.FC)(this,arguments,function*(){const Be=Se.getReader();try{for(;;){const{value:Fe,done:Qe}=yield(0,y.qq)(Be.read());if(Qe)return yield(0,y.qq)(void 0);yield yield(0,y.qq)(Fe)}}finally{Be.releaseLock()}})}function me(Se){return(0,g.m)(Se?.getReader)}},3532:(ft,Ue,k)=>{k.d(Ue,{K:()=>g});var y=k(576);function g(Y){return Y&&(0,y.m)(Y.schedule)}},4482:(ft,Ue,k)=>{k.d(Ue,{A:()=>g,e:()=>Y});var y=k(576);function g(me){return(0,y.m)(me?.lift)}function Y(me){return Se=>{if(g(Se))return Se.lift(function(ke){try{return me(ke,this)}catch(Be){this.error(Be)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(ft,Ue,k)=>{k.d(Ue,{Z:()=>me});var y=k(4004);const{isArray:g}=Array;function me(Se){return(0,y.U)(ke=>function Y(Se,ke){return g(ke)?Se(...ke):Se(ke)}(Se,ke))}},5032:(ft,Ue,k)=>{function y(){}k.d(Ue,{Z:()=>y})},9635:(ft,Ue,k)=>{k.d(Ue,{U:()=>Y,z:()=>g});var y=k(4671);function g(...me){return Y(me)}function Y(me){return 0===me.length?y.y:1===me.length?me[0]:function(ke){return me.reduce((Be,Fe)=>Fe(Be),ke)}}},7849:(ft,Ue,k)=>{k.d(Ue,{h:()=>Y});var y=k(2416),g=k(3410);function Y(me){g.z.setTimeout(()=>{const{onUnhandledError:Se}=y.v;if(!Se)throw me;Se(me)})}},4532:(ft,Ue,k)=>{function y(g){return new TypeError(`You provided ${null!==g&&"object"==typeof g?"an invalid object":`'${g}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}k.d(Ue,{z:()=>y})},655:(ft,Ue,k)=>{function me(de,fe){var ze={};for(var Xe in de)Object.prototype.hasOwnProperty.call(de,Xe)&&fe.indexOf(Xe)<0&&(ze[Xe]=de[Xe]);if(null!=de&&"function"==typeof Object.getOwnPropertySymbols){var At=0;for(Xe=Object.getOwnPropertySymbols(de);At<Xe.length;At++)fe.indexOf(Xe[At])<0&&Object.prototype.propertyIsEnumerable.call(de,Xe[At])&&(ze[Xe[At]]=de[Xe[At]])}return ze}function Fe(de,fe,ze,Xe){return new(ze||(ze=Promise))(function(Ft,Gt){function ln(En){try{Dt(Xe.next(En))}catch(pn){Gt(pn)}}function on(En){try{Dt(Xe.throw(En))}catch(pn){Gt(pn)}}function Dt(En){En.done?Ft(En.value):function At(Ft){return Ft instanceof ze?Ft:new ze(function(Gt){Gt(Ft)})}(En.value).then(ln,on)}Dt((Xe=Xe.apply(de,fe||[])).next())})}function rt(de){return this instanceof rt?(this.v=de,this):new rt(de)}function je(de,fe,ze){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var At,Xe=ze.apply(de,fe||[]),Ft=[];return At={},Gt("next"),Gt("throw"),Gt("return"),At[Symbol.asyncIterator]=function(){return this},At;function Gt(it){Xe[it]&&(At[it]=function(gt){return new Promise(function(Te,Ge){Ft.push([it,gt,Te,Ge])>1||ln(it,gt)})})}function ln(it,gt){try{!function on(it){it.value instanceof rt?Promise.resolve(it.value.v).then(Dt,En):pn(Ft[0][2],it)}(Xe[it](gt))}catch(Te){pn(Ft[0][3],Te)}}function Dt(it){ln("next",it)}function En(it){ln("throw",it)}function pn(it,gt){it(gt),Ft.shift(),Ft.length&&ln(Ft[0][0],Ft[0][1])}}function Ht(de){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ze,fe=de[Symbol.asyncIterator];return fe?fe.call(de):(de=function Pe(de){var fe="function"==typeof Symbol&&Symbol.iterator,ze=fe&&de[fe],Xe=0;if(ze)return ze.call(de);if(de&&"number"==typeof de.length)return{next:function(){return de&&Xe>=de.length&&(de=void 0),{value:de&&de[Xe++],done:!de}}};throw new TypeError(fe?"Object is not iterable.":"Symbol.iterator is not defined.")}(de),ze={},Xe("next"),Xe("throw"),Xe("return"),ze[Symbol.asyncIterator]=function(){return this},ze);function Xe(Ft){ze[Ft]=de[Ft]&&function(Gt){return new Promise(function(ln,on){!function At(Ft,Gt,ln,on){Promise.resolve(on).then(function(Dt){Ft({value:Dt,done:ln})},Gt)}(ln,on,(Gt=de[Ft](Gt)).done,Gt.value)})}}}k.d(Ue,{FC:()=>je,KL:()=>Ht,_T:()=>me,mG:()=>Fe,qq:()=>rt})},7340:(ft,Ue,k)=>{k.d(Ue,{IO:()=>nt,LC:()=>g,SB:()=>Qe,X$:()=>me,ZE:()=>Re,ZN:()=>je,_j:()=>y,eR:()=>ge,jt:()=>Se,k1:()=>Ht,l3:()=>Y,oB:()=>Fe,pV:()=>Et,vP:()=>Be});class y{}class g{}const Y="*";function me(Le,Me){return{type:7,name:Le,definitions:Me,options:{}}}function Se(Le,Me=null){return{type:4,styles:Me,timings:Le}}function Be(Le,Me=null){return{type:2,steps:Le,options:Me}}function Fe(Le){return{type:6,styles:Le,offset:null}}function Qe(Le,Me,$e){return{type:0,name:Le,styles:Me,options:$e}}function ge(Le,Me,$e=null){return{type:1,expr:Le,animation:Me,options:$e}}function Et(Le=null){return{type:9,options:Le}}function nt(Le,Me,$e=null){return{type:11,selector:Le,animation:Me,options:$e}}function rt(Le){Promise.resolve().then(Le)}class je{constructor(Me=0,$e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=Me+$e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Me=>Me()),this._onDoneFns=[])}onStart(Me){this._originalOnStartFns.push(Me),this._onStartFns.push(Me)}onDone(Me){this._originalOnDoneFns.push(Me),this._onDoneFns.push(Me)}onDestroy(Me){this._onDestroyFns.push(Me)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){rt(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(Me=>Me()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(Me=>Me()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(Me){this._position=this.totalTime?Me*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(Me){const $e="start"==Me?this._onStartFns:this._onDoneFns;$e.forEach(It=>It()),$e.length=0}}class Re{constructor(Me){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=Me;let $e=0,It=0,Tt=0;const oe=this.players.length;0==oe?rt(()=>this._onFinish()):this.players.forEach(Je=>{Je.onDone(()=>{++$e==oe&&this._onFinish()}),Je.onDestroy(()=>{++It==oe&&this._onDestroy()}),Je.onStart(()=>{++Tt==oe&&this._onStart()})}),this.totalTime=this.players.reduce((Je,de)=>Math.max(Je,de.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Me=>Me()),this._onDoneFns=[])}init(){this.players.forEach(Me=>Me.init())}onStart(Me){this._onStartFns.push(Me)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(Me=>Me()),this._onStartFns=[])}onDone(Me){this._onDoneFns.push(Me)}onDestroy(Me){this._onDestroyFns.push(Me)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(Me=>Me.play())}pause(){this.players.forEach(Me=>Me.pause())}restart(){this.players.forEach(Me=>Me.restart())}finish(){this._onFinish(),this.players.forEach(Me=>Me.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(Me=>Me.destroy()),this._onDestroyFns.forEach(Me=>Me()),this._onDestroyFns=[])}reset(){this.players.forEach(Me=>Me.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(Me){const $e=Me*this.totalTime;this.players.forEach(It=>{const Tt=It.totalTime?Math.min(1,$e/It.totalTime):1;It.setPosition(Tt)})}getPosition(){const Me=this.players.reduce(($e,It)=>null===$e||It.totalTime>$e.totalTime?It:$e,null);return null!=Me?Me.getPosition():0}beforeDestroy(){this.players.forEach(Me=>{Me.beforeDestroy&&Me.beforeDestroy()})}triggerCallback(Me){const $e="start"==Me?this._onStartFns:this._onDoneFns;$e.forEach(It=>It()),$e.length=0}}const Ht="!"},6895:(ft,Ue,k)=>{k.d(Ue,{Do:()=>Ht,EM:()=>fs,HT:()=>Se,JF:()=>no,K0:()=>Be,Mx:()=>co,NF:()=>Hs,O5:()=>Pr,Ov:()=>zt,PM:()=>Ei,RF:()=>eo,S$:()=>rt,V_:()=>he,Ye:()=>Le,b0:()=>Re,bD:()=>Is,ez:()=>ws,n9:()=>Mo,q:()=>Y,sg:()=>Ui,w_:()=>ke});var y=k(4650);let g=null;function Y(){return g}function Se(N){g||(g=N)}class ke{}const Be=new y.OlP("DocumentToken");let Fe=(()=>{class N{historyGo(V){throw new Error("Not implemented")}}return N.\u0275fac=function(V){return new(V||N)},N.\u0275prov=y.Yz7({token:N,factory:function(){return function Qe(){return(0,y.LFG)(ge)}()},providedIn:"platform"}),N})();const he=new y.OlP("Location Initialized");let ge=(()=>{class N extends Fe{constructor(V){super(),this._doc=V,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Y().getBaseHref(this._doc)}onPopState(V){const te=Y().getGlobalEventTarget(this._doc,"window");return te.addEventListener("popstate",V,!1),()=>te.removeEventListener("popstate",V)}onHashChange(V){const te=Y().getGlobalEventTarget(this._doc,"window");return te.addEventListener("hashchange",V,!1),()=>te.removeEventListener("hashchange",V)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(V){this.location.pathname=V}pushState(V,te,De){Pe()?this._history.pushState(V,te,De):this.location.hash=De}replaceState(V,te,De){Pe()?this._history.replaceState(V,te,De):this.location.hash=De}forward(){this._history.forward()}back(){this._history.back()}historyGo(V=0){this._history.go(V)}getState(){return this._history.state}}return N.\u0275fac=function(V){return new(V||N)(y.LFG(Be))},N.\u0275prov=y.Yz7({token:N,factory:function(){return function Et(){return new ge((0,y.LFG)(Be))}()},providedIn:"platform"}),N})();function Pe(){return!!window.history.pushState}function ot(N,Q){if(0==N.length)return Q;if(0==Q.length)return N;let V=0;return N.endsWith("/")&&V++,Q.startsWith("/")&&V++,2==V?N+Q.substring(1):1==V?N+Q:N+"/"+Q}function nt(N){const Q=N.match(/#|\?|$/),V=Q&&Q.index||N.length;return N.slice(0,V-("/"===N[V-1]?1:0))+N.slice(V)}function Nt(N){return N&&"?"!==N[0]?"?"+N:N}let rt=(()=>{class N{historyGo(V){throw new Error("Not implemented")}}return N.\u0275fac=function(V){return new(V||N)},N.\u0275prov=y.Yz7({token:N,factory:function(){return(0,y.f3M)(Re)},providedIn:"root"}),N})();const je=new y.OlP("appBaseHref");let Re=(()=>{class N extends rt{constructor(V,te){super(),this._platformLocation=V,this._removeListenerFns=[],this._baseHref=te??this._platformLocation.getBaseHrefFromDOM()??(0,y.f3M)(Be).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(V){this._removeListenerFns.push(this._platformLocation.onPopState(V),this._platformLocation.onHashChange(V))}getBaseHref(){return this._baseHref}prepareExternalUrl(V){return ot(this._baseHref,V)}path(V=!1){const te=this._platformLocation.pathname+Nt(this._platformLocation.search),De=this._platformLocation.hash;return De&&V?`${te}${De}`:te}pushState(V,te,De,at){const _t=this.prepareExternalUrl(De+Nt(at));this._platformLocation.pushState(V,te,_t)}replaceState(V,te,De,at){const _t=this.prepareExternalUrl(De+Nt(at));this._platformLocation.replaceState(V,te,_t)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(V=0){this._platformLocation.historyGo?.(V)}}return N.\u0275fac=function(V){return new(V||N)(y.LFG(Fe),y.LFG(je,8))},N.\u0275prov=y.Yz7({token:N,factory:N.\u0275fac,providedIn:"root"}),N})(),Ht=(()=>{class N extends rt{constructor(V,te){super(),this._platformLocation=V,this._baseHref="",this._removeListenerFns=[],null!=te&&(this._baseHref=te)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(V){this._removeListenerFns.push(this._platformLocation.onPopState(V),this._platformLocation.onHashChange(V))}getBaseHref(){return this._baseHref}path(V=!1){let te=this._platformLocation.hash;return null==te&&(te="#"),te.length>0?te.substring(1):te}prepareExternalUrl(V){const te=ot(this._baseHref,V);return te.length>0?"#"+te:te}pushState(V,te,De,at){let _t=this.prepareExternalUrl(De+Nt(at));0==_t.length&&(_t=this._platformLocation.pathname),this._platformLocation.pushState(V,te,_t)}replaceState(V,te,De,at){let _t=this.prepareExternalUrl(De+Nt(at));0==_t.length&&(_t=this._platformLocation.pathname),this._platformLocation.replaceState(V,te,_t)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(V=0){this._platformLocation.historyGo?.(V)}}return N.\u0275fac=function(V){return new(V||N)(y.LFG(Fe),y.LFG(je,8))},N.\u0275prov=y.Yz7({token:N,factory:N.\u0275fac}),N})(),Le=(()=>{class N{constructor(V){this._subject=new y.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=V;const te=this._locationStrategy.getBaseHref();this._baseHref=nt(It(te)),this._locationStrategy.onPopState(De=>{this._subject.emit({url:this.path(!0),pop:!0,state:De.state,type:De.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(V=!1){return this.normalize(this._locationStrategy.path(V))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(V,te=""){return this.path()==this.normalize(V+Nt(te))}normalize(V){return N.stripTrailingSlash(function $e(N,Q){return N&&Q.startsWith(N)?Q.substring(N.length):Q}(this._baseHref,It(V)))}prepareExternalUrl(V){return V&&"/"!==V[0]&&(V="/"+V),this._locationStrategy.prepareExternalUrl(V)}go(V,te="",De=null){this._locationStrategy.pushState(De,"",V,te),this._notifyUrlChangeListeners(this.prepareExternalUrl(V+Nt(te)),De)}replaceState(V,te="",De=null){this._locationStrategy.replaceState(De,"",V,te),this._notifyUrlChangeListeners(this.prepareExternalUrl(V+Nt(te)),De)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(V=0){this._locationStrategy.historyGo?.(V)}onUrlChange(V){return this._urlChangeListeners.push(V),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(te=>{this._notifyUrlChangeListeners(te.url,te.state)})),()=>{const te=this._urlChangeListeners.indexOf(V);this._urlChangeListeners.splice(te,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(V="",te){this._urlChangeListeners.forEach(De=>De(V,te))}subscribe(V,te,De){return this._subject.subscribe({next:V,error:te,complete:De})}}return N.normalizeQueryParams=Nt,N.joinWithSlash=ot,N.stripTrailingSlash=nt,N.\u0275fac=function(V){return new(V||N)(y.LFG(rt))},N.\u0275prov=y.Yz7({token:N,factory:function(){return function Me(){return new Le((0,y.LFG)(rt))}()},providedIn:"root"}),N})();function It(N){return N.replace(/\/index.html$/,"")}function co(N,Q){Q=encodeURIComponent(Q);for(const V of N.split(";")){const te=V.indexOf("="),[De,at]=-1==te?[V,""]:[V.slice(0,te),V.slice(te+1)];if(De.trim()===Q)return decodeURIComponent(at)}return null}class Es{constructor(Q,V,te,De){this.$implicit=Q,this.ngForOf=V,this.index=te,this.count=De}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Ui=(()=>{class N{constructor(V,te,De){this._viewContainer=V,this._template=te,this._differs=De,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(V){this._ngForOf=V,this._ngForOfDirty=!0}set ngForTrackBy(V){this._trackByFn=V}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(V){V&&(this._template=V)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const V=this._ngForOf;!this._differ&&V&&(this._differ=this._differs.find(V).create(this.ngForTrackBy))}if(this._differ){const V=this._differ.diff(this._ngForOf);V&&this._applyChanges(V)}}_applyChanges(V){const te=this._viewContainer;V.forEachOperation((De,at,_t)=>{if(null==De.previousIndex)te.createEmbeddedView(this._template,new Es(De.item,this._ngForOf,-1,-1),null===_t?void 0:_t);else if(null==_t)te.remove(null===at?void 0:at);else if(null!==at){const un=te.get(at);te.move(un,_t),Ki(un,De)}});for(let De=0,at=te.length;De<at;De++){const un=te.get(De).context;un.index=De,un.count=at,un.ngForOf=this._ngForOf}V.forEachIdentityChange(De=>{Ki(te.get(De.currentIndex),De)})}static ngTemplateContextGuard(V,te){return!0}}return N.\u0275fac=function(V){return new(V||N)(y.Y36(y.s_b),y.Y36(y.Rgc),y.Y36(y.ZZ4))},N.\u0275dir=y.lG2({type:N,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),N})();function Ki(N,Q){N.context.$implicit=Q.item}let Pr=(()=>{class N{constructor(V,te){this._viewContainer=V,this._context=new hs,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=te}set ngIf(V){this._context.$implicit=this._context.ngIf=V,this._updateView()}set ngIfThen(V){ii("ngIfThen",V),this._thenTemplateRef=V,this._thenViewRef=null,this._updateView()}set ngIfElse(V){ii("ngIfElse",V),this._elseTemplateRef=V,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(V,te){return!0}}return N.\u0275fac=function(V){return new(V||N)(y.Y36(y.s_b),y.Y36(y.Rgc))},N.\u0275dir=y.lG2({type:N,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),N})();class hs{constructor(){this.$implicit=null,this.ngIf=null}}function ii(N,Q){if(Q&&!Q.createEmbeddedView)throw new Error(`${N} must be a TemplateRef, but received '${(0,y.AaK)(Q)}'.`)}class Ri{constructor(Q,V){this._viewContainerRef=Q,this._templateRef=V,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(Q){Q&&!this._created?this.create():!Q&&this._created&&this.destroy()}}let eo=(()=>{class N{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(V){this._ngSwitch=V,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(V){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(V)}_matchCase(V){const te=V==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||te,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),te}_updateDefaultCases(V){if(this._defaultViews&&V!==this._defaultUsed){this._defaultUsed=V;for(let te=0;te<this._defaultViews.length;te++)this._defaultViews[te].enforceState(V)}}}return N.\u0275fac=function(V){return new(V||N)},N.\u0275dir=y.lG2({type:N,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),N})(),Mo=(()=>{class N{constructor(V,te,De){this.ngSwitch=De,De._addCase(),this._view=new Ri(V,te)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return N.\u0275fac=function(V){return new(V||N)(y.Y36(y.s_b),y.Y36(y.Rgc),y.Y36(eo,9))},N.\u0275dir=y.lG2({type:N,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),N})();class Ke{createSubscription(Q,V){return Q.subscribe({next:V,error:te=>{throw te}})}dispose(Q){Q.unsubscribe()}}class We{createSubscription(Q,V){return Q.then(V,te=>{throw te})}dispose(Q){}}const et=new We,Mt=new Ke;let zt=(()=>{class N{constructor(V){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=V}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(V){return this._obj?V!==this._obj?(this._dispose(),this.transform(V)):this._latestValue:(V&&this._subscribe(V),this._latestValue)}_subscribe(V){this._obj=V,this._strategy=this._selectStrategy(V),this._subscription=this._strategy.createSubscription(V,te=>this._updateLatestValue(V,te))}_selectStrategy(V){if((0,y.QGY)(V))return et;if((0,y.F4k)(V))return Mt;throw function oi(N,Q){return new y.vHH(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(V,te){V===this._obj&&(this._latestValue=te,this._ref.markForCheck())}}return N.\u0275fac=function(V){return new(V||N)(y.Y36(y.sBO,16))},N.\u0275pipe=y.Yjl({name:"async",type:N,pure:!1,standalone:!0}),N})(),ws=(()=>{class N{}return N.\u0275fac=function(V){return new(V||N)},N.\u0275mod=y.oAB({type:N}),N.\u0275inj=y.cJS({}),N})();const Is="browser";function Hs(N){return N===Is}function Ei(N){return"server"===N}let fs=(()=>{class N{}return N.\u0275prov=(0,y.Yz7)({token:N,providedIn:"root",factory:()=>new Da((0,y.LFG)(Be),window)}),N})();class Da{constructor(Q,V){this.document=Q,this.window=V,this.offset=()=>[0,0]}setOffset(Q){this.offset=Array.isArray(Q)?()=>Q:Q}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(Q){this.supportsScrolling()&&this.window.scrollTo(Q[0],Q[1])}scrollToAnchor(Q){if(!this.supportsScrolling())return;const V=function Ci(N,Q){const V=N.getElementById(Q)||N.getElementsByName(Q)[0];if(V)return V;if("function"==typeof N.createTreeWalker&&N.body&&(N.body.createShadowRoot||N.body.attachShadow)){const te=N.createTreeWalker(N.body,NodeFilter.SHOW_ELEMENT);let De=te.currentNode;for(;De;){const at=De.shadowRoot;if(at){const _t=at.getElementById(Q)||at.querySelector(`[name="${Q}"]`);if(_t)return _t}De=te.nextNode()}}return null}(this.document,Q);V&&(this.scrollToElement(V),V.focus())}setHistoryScrollRestoration(Q){if(this.supportScrollRestoration()){const V=this.window.history;V&&V.scrollRestoration&&(V.scrollRestoration=Q)}}scrollToElement(Q){const V=Q.getBoundingClientRect(),te=V.left+this.window.pageXOffset,De=V.top+this.window.pageYOffset,at=this.offset();this.window.scrollTo(te-at[0],De-at[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const Q=Ts(this.window.history)||Ts(Object.getPrototypeOf(this.window.history));return!(!Q||!Q.writable&&!Q.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Ts(N){return Object.getOwnPropertyDescriptor(N,"scrollRestoration")}class no{}},529:(ft,Ue,k)=>{k.d(Ue,{JF:()=>Yr,TP:()=>ln,eN:()=>Ft});var y=k(6895),g=k(4650),Y=k(9646),me=k(9751),Se=k(4351),ke=k(9300),Be=k(4004);class Fe{}class Qe{}class he{constructor(xe){this.normalizedNames=new Map,this.lazyUpdate=null,xe?this.lazyInit="string"==typeof xe?()=>{this.headers=new Map,xe.split("\n").forEach(ye=>{const lt=ye.indexOf(":");if(lt>0){const yt=ye.slice(0,lt),en=yt.toLowerCase(),Vt=ye.slice(lt+1).trim();this.maybeSetNormalizedName(yt,en),this.headers.has(en)?this.headers.get(en).push(Vt):this.headers.set(en,[Vt])}})}:()=>{this.headers=new Map,Object.keys(xe).forEach(ye=>{let lt=xe[ye];const yt=ye.toLowerCase();"string"==typeof lt&&(lt=[lt]),lt.length>0&&(this.headers.set(yt,lt),this.maybeSetNormalizedName(ye,yt))})}:this.headers=new Map}has(xe){return this.init(),this.headers.has(xe.toLowerCase())}get(xe){this.init();const ye=this.headers.get(xe.toLowerCase());return ye&&ye.length>0?ye[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(xe){return this.init(),this.headers.get(xe.toLowerCase())||null}append(xe,ye){return this.clone({name:xe,value:ye,op:"a"})}set(xe,ye){return this.clone({name:xe,value:ye,op:"s"})}delete(xe,ye){return this.clone({name:xe,value:ye,op:"d"})}maybeSetNormalizedName(xe,ye){this.normalizedNames.has(ye)||this.normalizedNames.set(ye,xe)}init(){this.lazyInit&&(this.lazyInit instanceof he?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(xe=>this.applyUpdate(xe)),this.lazyUpdate=null))}copyFrom(xe){xe.init(),Array.from(xe.headers.keys()).forEach(ye=>{this.headers.set(ye,xe.headers.get(ye)),this.normalizedNames.set(ye,xe.normalizedNames.get(ye))})}clone(xe){const ye=new he;return ye.lazyInit=this.lazyInit&&this.lazyInit instanceof he?this.lazyInit:this,ye.lazyUpdate=(this.lazyUpdate||[]).concat([xe]),ye}applyUpdate(xe){const ye=xe.name.toLowerCase();switch(xe.op){case"a":case"s":let lt=xe.value;if("string"==typeof lt&&(lt=[lt]),0===lt.length)return;this.maybeSetNormalizedName(xe.name,ye);const yt=("a"===xe.op?this.headers.get(ye):void 0)||[];yt.push(...lt),this.headers.set(ye,yt);break;case"d":const en=xe.value;if(en){let Vt=this.headers.get(ye);if(!Vt)return;Vt=Vt.filter(An=>-1===en.indexOf(An)),0===Vt.length?(this.headers.delete(ye),this.normalizedNames.delete(ye)):this.headers.set(ye,Vt)}else this.headers.delete(ye),this.normalizedNames.delete(ye)}}forEach(xe){this.init(),Array.from(this.normalizedNames.keys()).forEach(ye=>xe(this.normalizedNames.get(ye),this.headers.get(ye)))}}class Pe{encodeKey(xe){return Nt(xe)}encodeValue(xe){return Nt(xe)}decodeKey(xe){return decodeURIComponent(xe)}decodeValue(xe){return decodeURIComponent(xe)}}const ot=/%(\d[a-f0-9])/gi,nt={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Nt(mt){return encodeURIComponent(mt).replace(ot,(xe,ye)=>nt[ye]??xe)}function rt(mt){return`${mt}`}class je{constructor(xe={}){if(this.updates=null,this.cloneFrom=null,this.encoder=xe.encoder||new Pe,xe.fromString){if(xe.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Et(mt,xe){const ye=new Map;return mt.length>0&&mt.replace(/^\?/,"").split("&").forEach(yt=>{const en=yt.indexOf("="),[Vt,An]=-1==en?[xe.decodeKey(yt),""]:[xe.decodeKey(yt.slice(0,en)),xe.decodeValue(yt.slice(en+1))],Zt=ye.get(Vt)||[];Zt.push(An),ye.set(Vt,Zt)}),ye}(xe.fromString,this.encoder)}else xe.fromObject?(this.map=new Map,Object.keys(xe.fromObject).forEach(ye=>{const lt=xe.fromObject[ye],yt=Array.isArray(lt)?lt.map(rt):[rt(lt)];this.map.set(ye,yt)})):this.map=null}has(xe){return this.init(),this.map.has(xe)}get(xe){this.init();const ye=this.map.get(xe);return ye?ye[0]:null}getAll(xe){return this.init(),this.map.get(xe)||null}keys(){return this.init(),Array.from(this.map.keys())}append(xe,ye){return this.clone({param:xe,value:ye,op:"a"})}appendAll(xe){const ye=[];return Object.keys(xe).forEach(lt=>{const yt=xe[lt];Array.isArray(yt)?yt.forEach(en=>{ye.push({param:lt,value:en,op:"a"})}):ye.push({param:lt,value:yt,op:"a"})}),this.clone(ye)}set(xe,ye){return this.clone({param:xe,value:ye,op:"s"})}delete(xe,ye){return this.clone({param:xe,value:ye,op:"d"})}toString(){return this.init(),this.keys().map(xe=>{const ye=this.encoder.encodeKey(xe);return this.map.get(xe).map(lt=>ye+"="+this.encoder.encodeValue(lt)).join("&")}).filter(xe=>""!==xe).join("&")}clone(xe){const ye=new je({encoder:this.encoder});return ye.cloneFrom=this.cloneFrom||this,ye.updates=(this.updates||[]).concat(xe),ye}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(xe=>this.map.set(xe,this.cloneFrom.map.get(xe))),this.updates.forEach(xe=>{switch(xe.op){case"a":case"s":const ye=("a"===xe.op?this.map.get(xe.param):void 0)||[];ye.push(rt(xe.value)),this.map.set(xe.param,ye);break;case"d":if(void 0===xe.value){this.map.delete(xe.param);break}{let lt=this.map.get(xe.param)||[];const yt=lt.indexOf(rt(xe.value));-1!==yt&&lt.splice(yt,1),lt.length>0?this.map.set(xe.param,lt):this.map.delete(xe.param)}}}),this.cloneFrom=this.updates=null)}}class Ht{constructor(){this.map=new Map}set(xe,ye){return this.map.set(xe,ye),this}get(xe){return this.map.has(xe)||this.map.set(xe,xe.defaultValue()),this.map.get(xe)}delete(xe){return this.map.delete(xe),this}has(xe){return this.map.has(xe)}keys(){return this.map.keys()}}function Me(mt){return typeof ArrayBuffer<"u"&&mt instanceof ArrayBuffer}function $e(mt){return typeof Blob<"u"&&mt instanceof Blob}function It(mt){return typeof FormData<"u"&&mt instanceof FormData}class oe{constructor(xe,ye,lt,yt){let en;if(this.url=ye,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=xe.toUpperCase(),function Le(mt){switch(mt){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||yt?(this.body=void 0!==lt?lt:null,en=yt):en=lt,en&&(this.reportProgress=!!en.reportProgress,this.withCredentials=!!en.withCredentials,en.responseType&&(this.responseType=en.responseType),en.headers&&(this.headers=en.headers),en.context&&(this.context=en.context),en.params&&(this.params=en.params)),this.headers||(this.headers=new he),this.context||(this.context=new Ht),this.params){const Vt=this.params.toString();if(0===Vt.length)this.urlWithParams=ye;else{const An=ye.indexOf("?");this.urlWithParams=ye+(-1===An?"?":An<ye.length-1?"&":"")+Vt}}else this.params=new je,this.urlWithParams=ye}serializeBody(){return null===this.body?null:Me(this.body)||$e(this.body)||It(this.body)||function Tt(mt){return typeof URLSearchParams<"u"&&mt instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof je?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||It(this.body)?null:$e(this.body)?this.body.type||null:Me(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof je?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(xe={}){const ye=xe.method||this.method,lt=xe.url||this.url,yt=xe.responseType||this.responseType,en=void 0!==xe.body?xe.body:this.body,Vt=void 0!==xe.withCredentials?xe.withCredentials:this.withCredentials,An=void 0!==xe.reportProgress?xe.reportProgress:this.reportProgress;let Zt=xe.headers||this.headers,Un=xe.params||this.params;const jn=xe.context??this.context;return void 0!==xe.setHeaders&&(Zt=Object.keys(xe.setHeaders).reduce((zr,Mn)=>zr.set(Mn,xe.setHeaders[Mn]),Zt)),xe.setParams&&(Un=Object.keys(xe.setParams).reduce((zr,Mn)=>zr.set(Mn,xe.setParams[Mn]),Un)),new oe(ye,lt,en,{params:Un,headers:Zt,context:jn,reportProgress:An,responseType:yt,withCredentials:Vt})}}var Je=(()=>((Je=Je||{})[Je.Sent=0]="Sent",Je[Je.UploadProgress=1]="UploadProgress",Je[Je.ResponseHeader=2]="ResponseHeader",Je[Je.DownloadProgress=3]="DownloadProgress",Je[Je.Response=4]="Response",Je[Je.User=5]="User",Je))();class de{constructor(xe,ye=200,lt="OK"){this.headers=xe.headers||new he,this.status=void 0!==xe.status?xe.status:ye,this.statusText=xe.statusText||lt,this.url=xe.url||null,this.ok=this.status>=200&&this.status<300}}class fe extends de{constructor(xe={}){super(xe),this.type=Je.ResponseHeader}clone(xe={}){return new fe({headers:xe.headers||this.headers,status:void 0!==xe.status?xe.status:this.status,statusText:xe.statusText||this.statusText,url:xe.url||this.url||void 0})}}class ze extends de{constructor(xe={}){super(xe),this.type=Je.Response,this.body=void 0!==xe.body?xe.body:null}clone(xe={}){return new ze({body:void 0!==xe.body?xe.body:this.body,headers:xe.headers||this.headers,status:void 0!==xe.status?xe.status:this.status,statusText:xe.statusText||this.statusText,url:xe.url||this.url||void 0})}}class Xe extends de{constructor(xe){super(xe,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${xe.url||"(unknown url)"}`:`Http failure response for ${xe.url||"(unknown url)"}: ${xe.status} ${xe.statusText}`,this.error=xe.error||null}}function At(mt,xe){return{body:xe,headers:mt.headers,context:mt.context,observe:mt.observe,params:mt.params,reportProgress:mt.reportProgress,responseType:mt.responseType,withCredentials:mt.withCredentials}}let Ft=(()=>{class mt{constructor(ye){this.handler=ye}request(ye,lt,yt={}){let en;if(ye instanceof oe)en=ye;else{let Zt,Un;Zt=yt.headers instanceof he?yt.headers:new he(yt.headers),yt.params&&(Un=yt.params instanceof je?yt.params:new je({fromObject:yt.params})),en=new oe(ye,lt,void 0!==yt.body?yt.body:null,{headers:Zt,context:yt.context,params:Un,reportProgress:yt.reportProgress,responseType:yt.responseType||"json",withCredentials:yt.withCredentials})}const Vt=(0,Y.of)(en).pipe((0,Se.b)(Zt=>this.handler.handle(Zt)));if(ye instanceof oe||"events"===yt.observe)return Vt;const An=Vt.pipe((0,ke.h)(Zt=>Zt instanceof ze));switch(yt.observe||"body"){case"body":switch(en.responseType){case"arraybuffer":return An.pipe((0,Be.U)(Zt=>{if(null!==Zt.body&&!(Zt.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return Zt.body}));case"blob":return An.pipe((0,Be.U)(Zt=>{if(null!==Zt.body&&!(Zt.body instanceof Blob))throw new Error("Response is not a Blob.");return Zt.body}));case"text":return An.pipe((0,Be.U)(Zt=>{if(null!==Zt.body&&"string"!=typeof Zt.body)throw new Error("Response is not a string.");return Zt.body}));default:return An.pipe((0,Be.U)(Zt=>Zt.body))}case"response":return An;default:throw new Error(`Unreachable: unhandled observe type ${yt.observe}}`)}}delete(ye,lt={}){return this.request("DELETE",ye,lt)}get(ye,lt={}){return this.request("GET",ye,lt)}head(ye,lt={}){return this.request("HEAD",ye,lt)}jsonp(ye,lt){return this.request("JSONP",ye,{params:(new je).append(lt,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(ye,lt={}){return this.request("OPTIONS",ye,lt)}patch(ye,lt,yt={}){return this.request("PATCH",ye,At(yt,lt))}post(ye,lt,yt={}){return this.request("POST",ye,At(yt,lt))}put(ye,lt,yt={}){return this.request("PUT",ye,At(yt,lt))}}return mt.\u0275fac=function(ye){return new(ye||mt)(g.LFG(Fe))},mt.\u0275prov=g.Yz7({token:mt,factory:mt.\u0275fac}),mt})();class Gt{constructor(xe,ye){this.next=xe,this.interceptor=ye}handle(xe){return this.interceptor.intercept(xe,this.next)}}const ln=new g.OlP("HTTP_INTERCEPTORS");let on=(()=>{class mt{intercept(ye,lt){return lt.handle(ye)}}return mt.\u0275fac=function(ye){return new(ye||mt)},mt.\u0275prov=g.Yz7({token:mt,factory:mt.\u0275fac}),mt})();const tr=/^\)\]\}',?\n/;let Hn=(()=>{class mt{constructor(ye){this.xhrFactory=ye}handle(ye){if("JSONP"===ye.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new me.y(lt=>{const yt=this.xhrFactory.build();if(yt.open(ye.method,ye.urlWithParams),ye.withCredentials&&(yt.withCredentials=!0),ye.headers.forEach((Ae,ve)=>yt.setRequestHeader(Ae,ve.join(","))),ye.headers.has("Accept")||yt.setRequestHeader("Accept","application/json, text/plain, */*"),!ye.headers.has("Content-Type")){const Ae=ye.detectContentTypeHeader();null!==Ae&&yt.setRequestHeader("Content-Type",Ae)}if(ye.responseType){const Ae=ye.responseType.toLowerCase();yt.responseType="json"!==Ae?Ae:"text"}const en=ye.serializeBody();let Vt=null;const An=()=>{if(null!==Vt)return Vt;const Ae=yt.statusText||"OK",ve=new he(yt.getAllResponseHeaders()),_e=function lr(mt){return"responseURL"in mt&&mt.responseURL?mt.responseURL:/^X-Request-URL:/m.test(mt.getAllResponseHeaders())?mt.getResponseHeader("X-Request-URL"):null}(yt)||ye.url;return Vt=new fe({headers:ve,status:yt.status,statusText:Ae,url:_e}),Vt},Zt=()=>{let{headers:Ae,status:ve,statusText:_e,url:Oe}=An(),be=null;204!==ve&&(be=typeof yt.response>"u"?yt.responseText:yt.response),0===ve&&(ve=be?200:0);let Ct=ve>=200&&ve<300;if("json"===ye.responseType&&"string"==typeof be){const jt=be;be=be.replace(tr,"");try{be=""!==be?JSON.parse(be):null}catch(tn){be=jt,Ct&&(Ct=!1,be={error:tn,text:be})}}Ct?(lt.next(new ze({body:be,headers:Ae,status:ve,statusText:_e,url:Oe||void 0})),lt.complete()):lt.error(new Xe({error:be,headers:Ae,status:ve,statusText:_e,url:Oe||void 0}))},Un=Ae=>{const{url:ve}=An(),_e=new Xe({error:Ae,status:yt.status||0,statusText:yt.statusText||"Unknown Error",url:ve||void 0});lt.error(_e)};let jn=!1;const zr=Ae=>{jn||(lt.next(An()),jn=!0);let ve={type:Je.DownloadProgress,loaded:Ae.loaded};Ae.lengthComputable&&(ve.total=Ae.total),"text"===ye.responseType&&!!yt.responseText&&(ve.partialText=yt.responseText),lt.next(ve)},Mn=Ae=>{let ve={type:Je.UploadProgress,loaded:Ae.loaded};Ae.lengthComputable&&(ve.total=Ae.total),lt.next(ve)};return yt.addEventListener("load",Zt),yt.addEventListener("error",Un),yt.addEventListener("timeout",Un),yt.addEventListener("abort",Un),ye.reportProgress&&(yt.addEventListener("progress",zr),null!==en&&yt.upload&&yt.upload.addEventListener("progress",Mn)),yt.send(en),lt.next({type:Je.Sent}),()=>{yt.removeEventListener("error",Un),yt.removeEventListener("abort",Un),yt.removeEventListener("load",Zt),yt.removeEventListener("timeout",Un),ye.reportProgress&&(yt.removeEventListener("progress",zr),null!==en&&yt.upload&&yt.upload.removeEventListener("progress",Mn)),yt.readyState!==yt.DONE&&yt.abort()}})}}return mt.\u0275fac=function(ye){return new(ye||mt)(g.LFG(y.JF))},mt.\u0275prov=g.Yz7({token:mt,factory:mt.\u0275fac}),mt})();const Zn=new g.OlP("XSRF_COOKIE_NAME"),Dn=new g.OlP("XSRF_HEADER_NAME");class kn{}let sr=(()=>{class mt{constructor(ye,lt,yt){this.doc=ye,this.platform=lt,this.cookieName=yt,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const ye=this.doc.cookie||"";return ye!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,y.Mx)(ye,this.cookieName),this.lastCookieString=ye),this.lastToken}}return mt.\u0275fac=function(ye){return new(ye||mt)(g.LFG(y.K0),g.LFG(g.Lbi),g.LFG(Zn))},mt.\u0275prov=g.Yz7({token:mt,factory:mt.\u0275fac}),mt})(),Nn=(()=>{class mt{constructor(ye,lt){this.tokenService=ye,this.headerName=lt}intercept(ye,lt){const yt=ye.url.toLowerCase();if("GET"===ye.method||"HEAD"===ye.method||yt.startsWith("http://")||yt.startsWith("https://"))return lt.handle(ye);const en=this.tokenService.getToken();return null!==en&&!ye.headers.has(this.headerName)&&(ye=ye.clone({headers:ye.headers.set(this.headerName,en)})),lt.handle(ye)}}return mt.\u0275fac=function(ye){return new(ye||mt)(g.LFG(kn),g.LFG(Dn))},mt.\u0275prov=g.Yz7({token:mt,factory:mt.\u0275fac}),mt})(),xt=(()=>{class mt{constructor(ye,lt){this.backend=ye,this.injector=lt,this.chain=null}handle(ye){if(null===this.chain){const lt=this.injector.get(ln,[]);this.chain=lt.reduceRight((yt,en)=>new Gt(yt,en),this.backend)}return this.chain.handle(ye)}}return mt.\u0275fac=function(ye){return new(ye||mt)(g.LFG(Qe),g.LFG(g.zs3))},mt.\u0275prov=g.Yz7({token:mt,factory:mt.\u0275fac}),mt})(),Er=(()=>{class mt{static disable(){return{ngModule:mt,providers:[{provide:Nn,useClass:on}]}}static withOptions(ye={}){return{ngModule:mt,providers:[ye.cookieName?{provide:Zn,useValue:ye.cookieName}:[],ye.headerName?{provide:Dn,useValue:ye.headerName}:[]]}}}return mt.\u0275fac=function(ye){return new(ye||mt)},mt.\u0275mod=g.oAB({type:mt}),mt.\u0275inj=g.cJS({providers:[Nn,{provide:ln,useExisting:Nn,multi:!0},{provide:kn,useClass:sr},{provide:Zn,useValue:"XSRF-TOKEN"},{provide:Dn,useValue:"X-XSRF-TOKEN"}]}),mt})(),Yr=(()=>{class mt{}return mt.\u0275fac=function(ye){return new(ye||mt)},mt.\u0275mod=g.oAB({type:mt}),mt.\u0275inj=g.cJS({providers:[Ft,{provide:Fe,useClass:xt},Hn,{provide:Qe,useExisting:Hn}],imports:[Er.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]}),mt})()},4650:(ft,Ue,k)=>{k.d(Ue,{$8M:()=>hl,$Z:()=>Uf,AFp:()=>TE,ALo:()=>Zb,AaK:()=>Fe,BQk:()=>Ig,CHM:()=>As,CRH:()=>iE,CZH:()=>vv,CqO:()=>Wm,D6c:()=>UD,EJc:()=>eD,EiD:()=>hd,EpF:()=>Q_,F$t:()=>Km,F4k:()=>dp,FYo:()=>Rn,FiY:()=>Xt,G48:()=>ED,Gf:()=>nE,GfV:()=>Qc,Gpc:()=>ge,Hsn:()=>qu,JOm:()=>zl,JVY:()=>ld,Jf7:()=>yf,KtG:()=>pi,L6k:()=>Xh,LAX:()=>No,LFG:()=>Ni,LSH:()=>Bl,Lbi:()=>YC,Lck:()=>W0,MAs:()=>kh,MMx:()=>Bv,NdJ:()=>uu,O4$:()=>un,OlP:()=>nn,Oqu:()=>Jm,PXZ:()=>gD,Q6J:()=>wg,QGY:()=>Nh,QP$:()=>Ii,QbO:()=>QC,Qsj:()=>Sn,R0b:()=>du,RDi:()=>od,Rgc:()=>xy,SBq:()=>ht,Sil:()=>nD,Suo:()=>rE,TTD:()=>Zi,TgZ:()=>Ac,Tol:()=>hy,Udp:()=>Vh,WFA:()=>Mg,X6Q:()=>bD,XFs:()=>xt,Xpm:()=>Oe,Xts:()=>Gc,Y36:()=>Ic,YKP:()=>kb,YNc:()=>Hm,Yjl:()=>Fn,Yz7:()=>gt,Z0I:()=>Cn,ZZ4:()=>lb,_Bn:()=>Rb,_UZ:()=>Zu,_Vd:()=>q,_c5:()=>FD,_uU:()=>vy,aQg:()=>cb,c2e:()=>XC,cJS:()=>Ge,cg1:()=>ue,d8E:()=>s,dDg:()=>dD,dqk:()=>yt,eBb:()=>Hc,eFA:()=>VE,ekj:()=>qm,eoX:()=>FE,f3M:()=>B,g9A:()=>SE,h0i:()=>c_,hGG:()=>BD,hij:()=>e_,iGM:()=>tE,ifc:()=>lt,ip1:()=>ME,jDz:()=>Nb,kL8:()=>Ze,lG2:()=>Nr,lcZ:()=>qb,lqb:()=>ns,lri:()=>LE,mCW:()=>Nl,n5z:()=>td,n_E:()=>pv,oAB:()=>tn,oJD:()=>th,oxw:()=>hp,pB0:()=>jc,q3G:()=>wi,q4F:()=>pd,qLn:()=>La,qOj:()=>_g,qZA:()=>Gu,qzn:()=>Ya,rWj:()=>NE,s9C:()=>$m,sBO:()=>CD,sIi:()=>Qs,s_b:()=>mv,soG:()=>bv,tb:()=>xE,tp0:()=>On,uIk:()=>xi,vHH:()=>nt,vpe:()=>Wd,wAp:()=>Bt,xp6:()=>jp,ynx:()=>Lh,z2F:()=>Ev,z3N:()=>Ps,zSh:()=>jl,zs3:()=>Il});var y=k(7579),g=k(727),Y=k(9751),me=k(6451),Se=k(3099);function ke(n){for(let r in n)if(n[r]===ke)return r;throw Error("Could not find renamed property on target object.")}function Be(n,r){for(const a in r)r.hasOwnProperty(a)&&!n.hasOwnProperty(a)&&(n[a]=r[a])}function Fe(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Fe).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const r=n.toString();if(null==r)return""+r;const a=r.indexOf("\n");return-1===a?r:r.substring(0,a)}function Qe(n,r){return null==n||""===n?null===r?"":r:null==r||""===r?n:n+" "+r}const he=ke({__forward_ref__:ke});function ge(n){return n.__forward_ref__=ge,n.toString=function(){return Fe(this())},n}function Pe(n){return Et(n)?n():n}function Et(n){return"function"==typeof n&&n.hasOwnProperty(he)&&n.__forward_ref__===ge}class nt extends Error{constructor(r,a){super(function Nt(n,r){return`NG0${Math.abs(n)}${r?": "+r.trim():""}`}(r,a)),this.code=r}}function rt(n){return"string"==typeof n?n:null==n?"":String(n)}function Me(n,r){throw new nt(-201,!1)}function on(n,r){null==n&&function Dt(n,r,a,u){throw new Error(`ASSERTION ERROR: ${n}`+(null==u?"":` [Expected=> ${a} ${u} ${r} <=Actual]`))}(r,n,null,"!=")}function gt(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Ge(n){return{providers:n.providers||[],imports:n.imports||[]}}function Ut(n){return tr(n,Dn)||tr(n,sr)}function Cn(n){return null!==Ut(n)}function tr(n,r){return n.hasOwnProperty(r)?n[r]:null}function Zn(n){return n&&(n.hasOwnProperty(kn)||n.hasOwnProperty(Nn))?n[kn]:null}const Dn=ke({\u0275prov:ke}),kn=ke({\u0275inj:ke}),sr=ke({ngInjectableDef:ke}),Nn=ke({ngInjectorDef:ke});var xt=(()=>((xt=xt||{})[xt.Default=0]="Default",xt[xt.Host=1]="Host",xt[xt.Self=2]="Self",xt[xt.SkipSelf=4]="SkipSelf",xt[xt.Optional=8]="Optional",xt))();let qn;function Er(n){const r=qn;return qn=n,r}function Yr(n,r,a){const u=Ut(n);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:a&xt.Optional?null:void 0!==r?r:void Me(Fe(n))}function fr(n){return{toString:n}.toString()}var mt=(()=>((mt=mt||{})[mt.OnPush=0]="OnPush",mt[mt.Default=1]="Default",mt))(),lt=(()=>{return(n=lt||(lt={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",lt;var n})();const yt=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),An={},Zt=[],Un=ke({\u0275cmp:ke}),jn=ke({\u0275dir:ke}),zr=ke({\u0275pipe:ke}),Mn=ke({\u0275mod:ke}),Ae=ke({\u0275fac:ke}),ve=ke({__NG_ELEMENT_ID__:ke});let _e=0;function Oe(n){return fr(()=>{const a=!0===n.standalone,u={},p={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:u,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===mt.OnPush,directiveDefs:null,pipeDefs:null,standalone:a,dependencies:a&&n.dependencies||null,getStandaloneInjector:null,selectors:n.selectors||Zt,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||lt.Emulated,id:"c"+_e++,styles:n.styles||Zt,_:null,setInput:null,schemas:n.schemas||null,tView:null},b=n.dependencies,M=n.features;return p.inputs=or(n.inputs,u),p.outputs=or(n.outputs),M&&M.forEach(R=>R(p)),p.directiveDefs=b?()=>("function"==typeof b?b():b).map(Ct).filter(jt):null,p.pipeDefs=b?()=>("function"==typeof b?b():b).map(Fr).filter(jt):null,p})}function Ct(n){return Ln(n)||mr(n)}function jt(n){return null!==n}function tn(n){return fr(()=>({type:n.type,bootstrap:n.bootstrap||Zt,declarations:n.declarations||Zt,imports:n.imports||Zt,exports:n.exports||Zt,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function or(n,r){if(null==n)return An;const a={};for(const u in n)if(n.hasOwnProperty(u)){let p=n[u],b=p;Array.isArray(p)&&(b=p[1],p=p[0]),a[p]=u,r&&(r[p]=b)}return a}const Nr=Oe;function Fn(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function Ln(n){return n[Un]||null}function mr(n){return n[jn]||null}function Fr(n){return n[zr]||null}function Ii(n){const r=Ln(n)||mr(n)||Fr(n);return null!==r&&r.standalone}function gi(n,r){const a=n[Mn]||null;if(!a&&!0===r)throw new Error(`Type ${Fe(n)} does not have '\u0275mod' property.`);return a}function ii(n){return Array.isArray(n)&&"object"==typeof n[1]}function Ri(n){return Array.isArray(n)&&!0===n[1]}function eo(n){return 0!=(8&n.flags)}function Mo(n){return 2==(2&n.flags)}function Ea(n){return 1==(1&n.flags)}function si(n){return null!==n.template}function Fa(n){return 0!=(256&n[2])}function Ds(n,r){return n.hasOwnProperty(Ae)?n[Ae]:null}class Gi{constructor(r,a,u){this.previousValue=r,this.currentValue=a,this.firstChange=u}isFirstChange(){return this.firstChange}}function Zi(){return Us}function Us(n){return n.type.prototype.ngOnChanges&&(n.setInput=ho),Vs}function Vs(){const n=Ba(this),r=n?.current;if(r){const a=n.previous;if(a===An)n.previous=r;else for(let u in r)a[u]=r[u];n.current=null,this.ngOnChanges(r)}}function ho(n,r,a,u){const p=Ba(n)||function ws(n,r){return n[sa]=r}(n,{previous:An,current:null}),b=p.current||(p.current={}),M=p.previous,R=this.declaredInputs[a],L=M[R];b[R]=new Gi(L&&L.currentValue,r,M===An),n[u]=r}Zi.ngInherit=!0;const sa="__ngSimpleChanges__";function Ba(n){return n[sa]||null}function Gr(n){for(;Array.isArray(n);)n=n[0];return n}function Ts(n,r){return Gr(r[n])}function Ci(n,r){return Gr(r[n.index])}function no(n,r){return n.data[r]}function qi(n,r){return n[r]}function nr(n,r){const a=r[n];return ii(a)?a:a[0]}function $o(n){return 4==(4&n[2])}function yr(n){return 64==(64&n[2])}function Jr(n,r){return null==r?null:n[r]}function oa(n){n[18]=0}function vr(n,r){n[5]+=r;let a=n,u=n[3];for(;null!==u&&(1===r&&1===a[5]||-1===r&&0===a[5]);)u[5]+=r,a=u,u=u[3]}const xn={lFrame:ja(null),bindingsEnabled:!0};function Ai(){return xn.bindingsEnabled}function St(){return xn.lFrame.lView}function $n(){return xn.lFrame.tView}function As(n){return xn.lFrame.contextLView=n,n[8]}function pi(n){return xn.lFrame.contextLView=null,n}function Cr(){let n=$();for(;null!==n&&64===n.type;)n=n.parent;return n}function $(){return xn.lFrame.currentTNode}function U(n,r){const a=xn.lFrame;a.currentTNode=n,a.isParent=r}function ie(){return xn.lFrame.isParent}function pt(){xn.lFrame.isParent=!1}function js(){return xn.lFrame.bindingIndex++}function ji(n){const r=xn.lFrame,a=r.bindingIndex;return r.bindingIndex=r.bindingIndex+n,a}function zo(n,r){const a=xn.lFrame;a.bindingIndex=a.bindingRootIndex=n,po(r)}function po(n){xn.lFrame.currentDirectiveIndex=n}function go(n){const r=xn.lFrame.currentDirectiveIndex;return-1===r?null:n[r]}function Ia(){return xn.lFrame.currentQueryIndex}function Wr(n){xn.lFrame.currentQueryIndex=n}function Ma(n){const r=n[1];return 2===r.type?r.declTNode:1===r.type?n[6]:null}function So(n,r,a){if(a&xt.SkipSelf){let p=r,b=n;for(;!(p=p.parent,null!==p||a&xt.Host||(p=Ma(b),null===p||(b=b[15],10&p.type))););if(null===p)return!1;r=p,n=b}const u=xn.lFrame=Ol();return u.currentTNode=r,u.lView=n,!0}function sl(n){const r=Ol(),a=n[1];xn.lFrame=r,r.currentTNode=a.firstChild,r.lView=n,r.tView=a,r.contextLView=n,r.bindingIndex=a.bindingStartIndex,r.inI18n=!1}function Ol(){const n=xn.lFrame,r=null===n?null:n.child;return null===r?ja(n):r}function ja(n){const r={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=r),r}function ol(){const n=xn.lFrame;return xn.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const N=ol;function Q(){const n=ol();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function De(){return xn.lFrame.selectedIndex}function at(n){xn.lFrame.selectedIndex=n}function _t(){const n=xn.lFrame;return no(n.tView,n.selectedIndex)}function un(){xn.lFrame.currentNamespace="svg"}function br(n,r){for(let a=r.directiveStart,u=r.directiveEnd;a<u;a++){const b=n.data[a].type.prototype,{ngAfterContentInit:M,ngAfterContentChecked:R,ngAfterViewInit:L,ngAfterViewChecked:Z,ngOnDestroy:ne}=b;M&&(n.contentHooks||(n.contentHooks=[])).push(-a,M),R&&((n.contentHooks||(n.contentHooks=[])).push(a,R),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(a,R)),L&&(n.viewHooks||(n.viewHooks=[])).push(-a,L),Z&&((n.viewHooks||(n.viewHooks=[])).push(a,Z),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(a,Z)),null!=ne&&(n.destroyHooks||(n.destroyHooks=[])).push(a,ne)}}function ti(n,r,a){ls(n,r,3,a)}function xo(n,r,a,u){(3&n[2])===a&&ls(n,r,a,u)}function Ws(n,r){let a=n[2];(3&a)===r&&(a&=2047,a+=1,n[2]=a)}function ls(n,r,a,u){const b=u??-1,M=r.length-1;let R=0;for(let L=void 0!==u?65535&n[18]:0;L<M;L++)if("number"==typeof r[L+1]){if(R=r[L],null!=u&&R>=u)break}else r[L]<0&&(n[18]+=65536),(R<b||-1==b)&&(mo(n,a,r,L),n[18]=(4294901760&n[18])+L+2),L++}function mo(n,r,a,u){const p=a[u]<0,b=a[u+1],R=n[p?-a[u]:a[u]];if(p){if(n[2]>>11<n[18]>>16&&(3&n[2])===r){n[2]+=2048;try{b.call(R)}finally{}}}else try{b.call(R)}finally{}}class Ks{constructor(r,a,u){this.factory=r,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=u}}function Rl(n,r,a){let u=0;for(;u<a.length;){const p=a[u];if("number"==typeof p){if(0!==p)break;u++;const b=a[u++],M=a[u++],R=a[u++];n.setAttribute(r,M,R,b)}else{const b=p,M=a[++u];Sa(b)?n.setProperty(r,b,M):n.setAttribute(r,b,M),u++}}return u}function Aa(n){return 3===n||4===n||6===n}function Sa(n){return 64===n.charCodeAt(0)}function Xi(n,r){if(null!==r&&0!==r.length)if(null===n||0===n.length)n=r.slice();else{let a=-1;for(let u=0;u<r.length;u++){const p=r[u];"number"==typeof p?a=p:0===a||hc(n,a,p,null,-1===a||2===a?r[++u]:null)}}return n}function hc(n,r,a,u,p){let b=0,M=n.length;if(-1===r)M=-1;else for(;b<n.length;){const R=n[b++];if("number"==typeof R){if(R===r){M=-1;break}if(R>r){M=b-1;break}}}for(;b<n.length;){const R=n[b];if("number"==typeof R)break;if(R===a){if(null===u)return void(null!==p&&(n[b+1]=p));if(u===n[b+1])return void(n[b+2]=p)}b++,null!==u&&b++,null!==p&&b++}-1!==M&&(n.splice(M,0,r),b=M+1),n.splice(b++,0,a),null!==u&&n.splice(b++,0,u),null!==p&&n.splice(b++,0,p)}function kl(n){return-1!==n}function li(n){return 32767&n}function Ka(n,r){let a=function Oo(n){return n>>16}(n),u=r;for(;a>0;)u=u[15],a--;return u}let Po=!0;function ll(n){const r=Po;return Po=n,r}let ci=0;const cs={};function ui(n,r){const a=yo(n,r);if(-1!==a)return a;const u=r[1];u.firstCreatePass&&(n.injectorIndex=r.length,_o(u.data,n),_o(r,null),_o(u.blueprint,null));const p=vo(n,r),b=n.injectorIndex;if(kl(p)){const M=li(p),R=Ka(p,r),L=R[1].data;for(let Z=0;Z<8;Z++)r[b+Z]=R[M+Z]|L[M+Z]}return r[b+8]=p,b}function _o(n,r){n.push(0,0,0,0,0,0,0,0,r)}function yo(n,r){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===r[n.injectorIndex+8]?-1:n.injectorIndex}function vo(n,r){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let a=0,u=null,p=r;for(;null!==p;){if(u=dl(p),null===u)return-1;if(a++,p=p[15],-1!==u.injectorIndex)return u.injectorIndex|a<<16}return-1}function aa(n,r,a){!function Go(n,r,a){let u;"string"==typeof a?u=a.charCodeAt(0)||0:a.hasOwnProperty(ve)&&(u=a[ve]),null==u&&(u=a[ve]=ci++);const p=255&u;r.data[n+(p>>5)]|=1<<p}(n,r,a)}function Zr(n,r,a){if(a&xt.Optional)return n;Me()}function Zo(n,r,a,u){if(a&xt.Optional&&void 0===u&&(u=null),0==(a&(xt.Self|xt.Host))){const p=n[9],b=Er(void 0);try{return p?p.get(r,u,a&xt.Optional):Yr(r,u,a&xt.Optional)}finally{Er(b)}}return Zr(u,0,a)}function Ro(n,r,a,u=xt.Default,p){if(null!==n){if(1024&r[2]){const M=function ul(n,r,a,u,p){let b=n,M=r;for(;null!==b&&null!==M&&1024&M[2]&&!(256&M[2]);){const R=dn(b,M,a,u|xt.Self,cs);if(R!==cs)return R;let L=b.parent;if(!L){const Z=M[21];if(Z){const ne=Z.get(a,cs,u);if(ne!==cs)return ne}L=dl(M),M=M[15]}b=L}return p}(n,r,a,u,cs);if(M!==cs)return M}const b=dn(n,r,a,u,cs);if(b!==cs)return b}return Zo(r,a,u,p)}function dn(n,r,a,u,p){const b=function ut(n){if("string"==typeof n)return n.charCodeAt(0)||0;const r=n.hasOwnProperty(ve)?n[ve]:void 0;return"number"==typeof r?r>=0?255&r:kc:r}(a);if("function"==typeof b){if(!So(r,n,u))return u&xt.Host?Zr(p,0,u):Zo(r,a,u,p);try{const M=b(u);if(null!=M||u&xt.Optional)return M;Me()}finally{N()}}else if("number"==typeof b){let M=null,R=yo(n,r),L=-1,Z=u&xt.Host?r[16][6]:null;for((-1===R||u&xt.SkipSelf)&&(L=-1===R?vo(n,r):r[R+8],-1!==L&&yi(u,!1)?(M=r[1],R=li(L),r=Ka(L,r)):R=-1);-1!==R;){const ne=r[1];if(Pt(b,R,ne.data)){const le=fn(R,r,a,M,u,Z);if(le!==cs)return le}L=r[R+8],-1!==L&&yi(u,r[1].data[R+8]===Z)&&Pt(b,R,r)?(M=ne,R=li(L),r=Ka(L,r)):R=-1}}return p}function fn(n,r,a,u,p,b){const M=r[1],R=M.data[n+8],ne=cl(R,M,a,null==u?Mo(R)&&Po:u!=M&&0!=(3&R.type),p&xt.Host&&b===R);return null!==ne?qt(r,M,ne,R):cs}function cl(n,r,a,u,p){const b=n.providerIndexes,M=r.data,R=1048575&b,L=n.directiveStart,ne=b>>20,He=p?R+ne:n.directiveEnd;for(let st=u?R:R+ne;st<He;st++){const Ot=M[st];if(st<L&&a===Ot||st>=L&&Ot.type===a)return st}if(p){const st=M[L];if(st&&si(st)&&st.type===a)return L}return null}function qt(n,r,a,u){let p=n[a];const b=r.data;if(function $s(n){return n instanceof Ks}(p)){const M=p;M.resolving&&function Re(n,r){const a=r?`. Dependency path: ${r.join(" > ")} > ${n}`:"";throw new nt(-200,`Circular dependency in DI detected for ${n}${a}`)}(function je(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():rt(n)}(b[a]));const R=ll(M.canSeeViewProviders);M.resolving=!0;const L=M.injectImpl?Er(M.injectImpl):null;So(n,u,xt.Default);try{p=n[a]=M.factory(void 0,b,n,u),r.firstCreatePass&&a>=u.directiveStart&&function Si(n,r,a){const{ngOnChanges:u,ngOnInit:p,ngDoCheck:b}=r.type.prototype;if(u){const M=Us(r);(a.preOrderHooks||(a.preOrderHooks=[])).push(n,M),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(n,M)}p&&(a.preOrderHooks||(a.preOrderHooks=[])).push(0-n,p),b&&((a.preOrderHooks||(a.preOrderHooks=[])).push(n,b),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(n,b))}(a,b[a],r)}finally{null!==L&&Er(L),ll(R),M.resolving=!1,N()}}return p}function Pt(n,r,a){return!!(a[r+(n>>5)]&1<<n)}function yi(n,r){return!(n&xt.Self||n&xt.Host&&r)}class la{constructor(r,a){this._tNode=r,this._lView=a}get(r,a,u){return Ro(this._tNode,this._lView,r,u,a)}}function kc(){return new la(Cr(),St())}function td(n){return fr(()=>{const r=n.prototype.constructor,a=r[Ae]||Ll(r),u=Object.prototype;let p=Object.getPrototypeOf(n.prototype).constructor;for(;p&&p!==u;){const b=p[Ae]||Ll(p);if(b&&b!==a)return b;p=Object.getPrototypeOf(p)}return b=>new b})}function Ll(n){return Et(n)?()=>{const r=Ll(Pe(n));return r&&r()}:Ds(n)}function dl(n){const r=n[1],a=r.type;return 2===a?r.declTNode:1===a?n[6]:null}function hl(n){return function Wt(n,r){if("class"===r)return n.classes;if("style"===r)return n.styles;const a=n.attrs;if(a){const u=a.length;let p=0;for(;p<u;){const b=a[p];if(Aa(b))break;if(0===b)p+=2;else if("number"==typeof b)for(p++;p<u&&"string"==typeof a[p];)p++;else{if(b===r)return a[p+1];p+=2}}}return null}(Cr(),n)}const Sr="__parameters__";function Eo(n,r,a){return fr(()=>{const u=function Bn(n){return function(...a){if(n){const u=n(...a);for(const p in u)this[p]=u[p]}}}(r);function p(...b){if(this instanceof p)return u.apply(this,b),this;const M=new p(...b);return R.annotation=M,R;function R(L,Z,ne){const le=L.hasOwnProperty(Sr)?L[Sr]:Object.defineProperty(L,Sr,{value:[]})[Sr];for(;le.length<=ne;)le.push(null);return(le[ne]=le[ne]||[]).push(M),L}}return a&&(p.prototype=Object.create(a.prototype)),p.prototype.ngMetadataName=n,p.annotationCls=p,p})}class nn{constructor(r,a){this._desc=r,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=gt({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function xs(n,r){void 0===r&&(r=n);for(let a=0;a<n.length;a++){let u=n[a];Array.isArray(u)?(r===n&&(r=n.slice(0,a)),xs(u,r)):r!==n&&r.push(u)}return r}function us(n,r){n.forEach(a=>Array.isArray(a)?us(a,r):r(a))}function _c(n,r,a){r>=n.length?n.push(a):n.splice(r,0,a)}function Gs(n,r){return r>=n.length-1?n.pop():n.splice(r,1)[0]}function ko(n,r){const a=[];for(let u=0;u<n;u++)a.push(r);return a}function ce(n,r,a){let u=dt(n,r);return u>=0?n[1|u]=a:(u=~u,function T(n,r,a,u){let p=n.length;if(p==r)n.push(a,u);else if(1===p)n.push(u,n[0]),n[0]=a;else{for(p--,n.push(n[p-1],n[p]);p>r;)n[p]=n[p-2],p--;n[r]=a,n[r+1]=u}}(n,u,r,a)),u}function we(n,r){const a=dt(n,r);if(a>=0)return n[1|a]}function dt(n,r){return function Yn(n,r,a){let u=0,p=n.length>>a;for(;p!==u;){const b=u+(p-u>>1),M=n[b<<a];if(r===M)return b<<a;M>r?p=b:u=b+1}return~(p<<a)}(n,r,1)}const ha={},fl="__NG_DI_FLAG__",qs="ngTempTokenPath",Li=/\n/gm,kt="__source";let hi;function so(n){const r=hi;return hi=n,r}function Nc(n,r=xt.Default){if(void 0===hi)throw new nt(-203,!1);return null===hi?Yr(n,void 0,r):hi.get(n,r&xt.Optional?null:void 0,r)}function Ni(n,r=xt.Default){return(function gr(){return qn}()||Nc)(Pe(n),r)}function B(n,r=xt.Default){return"number"!=typeof r&&(r=0|(r.optional&&8)|(r.host&&1)|(r.self&&2)|(r.skipSelf&&4)),Ni(n,r)}function K(n){const r=[];for(let a=0;a<n.length;a++){const u=Pe(n[a]);if(Array.isArray(u)){if(0===u.length)throw new nt(900,!1);let p,b=xt.Default;for(let M=0;M<u.length;M++){const R=u[M],L=pe(R);"number"==typeof L?-1===L?p=R.token:b|=L:p=R}r.push(Ni(p,b))}else r.push(Ni(u))}return r}function X(n,r){return n[fl]=r,n.prototype[fl]=r,n}function pe(n){return n[fl]}const Xt=X(Eo("Optional"),8),On=X(Eo("SkipSelf"),4);let Uc,vc,pu;function od(n){Uc=n}function Vc(n){return function ms(){if(void 0===vc&&(vc=null,yt.trustedTypes))try{vc=yt.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return vc}()?.createHTML(n)||n}function Zh(n){return function Zd(){if(void 0===pu&&(pu=null,yt.trustedTypes))try{pu=yt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return pu}()?.createHTML(n)||n}class Lo{constructor(r){this.changingThisBreaksApplicationSecurity=r}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class qh extends Lo{getTypeName(){return"HTML"}}class ad extends Lo{getTypeName(){return"Style"}}class Yh extends Lo{getTypeName(){return"Script"}}class ml extends Lo{getTypeName(){return"URL"}}class Qh extends Lo{getTypeName(){return"ResourceURL"}}function Ps(n){return n instanceof Lo?n.changingThisBreaksApplicationSecurity:n}function Ya(n,r){const a=function gu(n){return n instanceof Lo&&n.getTypeName()||null}(n);if(null!=a&&a!==r){if("ResourceURL"===a&&"URL"===r)return!0;throw new Error(`Required a safe ${r}, got a ${a} (see https://g.co/ng/security#xss)`)}return a===r}function ld(n){return new qh(n)}function Xh(n){return new ad(n)}function Hc(n){return new Yh(n)}function No(n){return new ml(n)}function jc(n){return new Qh(n)}class Jh{constructor(r){this.inertDocumentHelper=r}getInertBodyElement(r){r="<body><remove></remove>"+r;try{const a=(new window.DOMParser).parseFromString(Vc(r),"text/html").body;return null===a?this.inertDocumentHelper.getInertBodyElement(r):(a.removeChild(a.firstChild),a)}catch{return null}}}class Yd{constructor(r){if(this.defaultDoc=r,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const a=this.inertDocument.createElement("html");this.inertDocument.appendChild(a);const u=this.inertDocument.createElement("body");a.appendChild(u)}}getInertBodyElement(r){const a=this.inertDocument.createElement("template");if("content"in a)return a.innerHTML=Vc(r),a;const u=this.inertDocument.createElement("body");return u.innerHTML=Vc(r),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(u),u}stripCustomNsAttrs(r){const a=r.attributes;for(let p=a.length-1;0<p;p--){const M=a.item(p).name;("xmlns:ns1"===M||0===M.indexOf("ns1:"))&&r.removeAttribute(M)}let u=r.firstChild;for(;u;)u.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(u),u=u.nextSibling}}const ef=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function Nl(n){return(n=String(n)).match(ef)?n:"unsafe:"+n}function Oa(n){const r={};for(const a of n.split(","))r[a]=!0;return r}function _l(...n){const r={};for(const a of n)for(const u in a)a.hasOwnProperty(u)&&(r[u]=!0);return r}const nf=Oa("area,br,col,hr,img,wbr"),ud=Oa("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Qd=Oa("rp,rt"),yl=_l(nf,_l(ud,Oa("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),_l(Qd,Oa("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),_l(Qd,ud)),Wc=Oa("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),_a=Oa("srcset"),rf=_l(Wc,_a,Oa("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Oa("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Jd=Oa("script,style,template");class Kc{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(r){let a=r.firstChild,u=!0;for(;a;)if(a.nodeType===Node.ELEMENT_NODE?u=this.startElement(a):a.nodeType===Node.TEXT_NODE?this.chars(a.nodeValue):this.sanitizedSomething=!0,u&&a.firstChild)a=a.firstChild;else for(;a;){a.nodeType===Node.ELEMENT_NODE&&this.endElement(a);let p=this.checkClobberedElement(a,a.nextSibling);if(p){a=p;break}a=this.checkClobberedElement(a,a.parentNode)}return this.buf.join("")}startElement(r){const a=r.nodeName.toLowerCase();if(!yl.hasOwnProperty(a))return this.sanitizedSomething=!0,!Jd.hasOwnProperty(a);this.buf.push("<"),this.buf.push(a);const u=r.attributes;for(let p=0;p<u.length;p++){const b=u.item(p),M=b.name,R=M.toLowerCase();if(!rf.hasOwnProperty(R)){this.sanitizedSomething=!0;continue}let L=b.value;Wc[R]&&(L=Nl(L)),_a[R]&&(n=L,L=(n=String(n)).split(",").map(r=>Nl(r.trim())).join(", ")),this.buf.push(" ",M,'="',vi(L),'"')}var n;return this.buf.push(">"),!0}endElement(r){const a=r.nodeName.toLowerCase();yl.hasOwnProperty(a)&&!nf.hasOwnProperty(a)&&(this.buf.push("</"),this.buf.push(a),this.buf.push(">"))}chars(r){this.buf.push(vi(r))}checkClobberedElement(r,a){if(a&&(r.compareDocumentPosition(a)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${r.outerHTML}`);return a}}const Bg=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Ug=/([^\#-~ |!])/g;function vi(n){return n.replace(/&/g,"&amp;").replace(Bg,function(r){return"&#"+(1024*(r.charCodeAt(0)-55296)+(r.charCodeAt(1)-56320)+65536)+";"}).replace(Ug,function(r){return"&#"+r.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let $c;function hd(n,r){let a=null;try{$c=$c||function ma(n){const r=new Yd(n);return function cd(){try{return!!(new window.DOMParser).parseFromString(Vc(""),"text/html")}catch{return!1}}()?new Jh(r):r}(n);let u=r?String(r):"";a=$c.getInertBodyElement(u);let p=5,b=u;do{if(0===p)throw new Error("Failed to sanitize html because the input is unstable");p--,u=b,b=a.innerHTML,a=$c.getInertBodyElement(u)}while(u!==b);return Vc((new Kc).sanitizeChildren(eh(a)||a))}finally{if(a){const u=eh(a)||a;for(;u.firstChild;)u.removeChild(u.firstChild)}}}function eh(n){return"content"in n&&function zc(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var wi=(()=>((wi=wi||{})[wi.NONE=0]="NONE",wi[wi.HTML=1]="HTML",wi[wi.STYLE=2]="STYLE",wi[wi.SCRIPT=3]="SCRIPT",wi[wi.URL=4]="URL",wi[wi.RESOURCE_URL=5]="RESOURCE_URL",wi))();function th(n){const r=pr();return r?Zh(r.sanitize(wi.HTML,n)||""):Ya(n,"HTML")?Zh(Ps(n)):hd(function gl(){return void 0!==Uc?Uc:typeof document<"u"?document:void 0}(),rt(n))}function Bl(n){const r=pr();return r?r.sanitize(wi.URL,n)||"":Ya(n,"URL")?Ps(n):Nl(rt(n))}function pr(){const n=St();return n&&n[12]}const Gc=new nn("ENVIRONMENT_INITIALIZER"),ih=new nn("INJECTOR",-1),vl=new nn("INJECTOR_DEF_TYPES");class _u{get(r,a=ha){if(a===ha){const u=new Error(`NullInjectorError: No provider for ${Fe(r)}!`);throw u.name="NullInjectorError",u}return a}}function Bo(...n){return{\u0275providers:Ys(0,n)}}function Ys(n,...r){const a=[],u=new Set;let p;return us(r,b=>{const M=b;Zc(M,a,[],u)&&(p||(p=[]),p.push(M))}),void 0!==p&&Pa(p,a),a}function Pa(n,r){for(let a=0;a<n.length;a++){const{providers:p}=n[a];us(p,b=>{r.push(b)})}}function Zc(n,r,a,u){if(!(n=Pe(n)))return!1;let p=null,b=Zn(n);const M=!b&&Ln(n);if(b||M){if(M&&!M.standalone)return!1;p=n}else{const L=n.ngModule;if(b=Zn(L),!b)return!1;p=L}const R=u.has(p);if(M){if(R)return!1;if(u.add(p),M.dependencies){const L="function"==typeof M.dependencies?M.dependencies():M.dependencies;for(const Z of L)Zc(Z,r,a,u)}}else{if(!b)return!1;{if(null!=b.imports&&!R){let Z;u.add(p);try{us(b.imports,ne=>{Zc(ne,r,a,u)&&(Z||(Z=[]),Z.push(ne))})}finally{}void 0!==Z&&Pa(Z,r)}if(!R){const Z=Ds(p)||(()=>new p);r.push({provide:p,useFactory:Z,deps:Zt},{provide:vl,useValue:p,multi:!0},{provide:Gc,useValue:()=>Ni(p),multi:!0})}const L=b.providers;null==L||R||us(L,ne=>{r.push(ne)})}}return p!==n&&void 0!==n.providers}const sh=ke({provide:String,useValue:ke});function Vl(n){return null!==n&&"object"==typeof n&&sh in n}function Qn(n){return"function"==typeof n}const jl=new nn("Set Injector scope."),Wl={},Kl={};let qc;function bl(){return void 0===qc&&(qc=new _u),qc}class ns{}class El extends ns{constructor(r,a,u,p){super(),this.parent=a,this.source=u,this.scopes=p,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,rs(r,M=>this.processProvider(M)),this.records.set(ih,ea(void 0,this)),p.has("environment")&&this.records.set(ns,ea(void 0,this));const b=this.records.get(jl);null!=b&&"string"==typeof b.value&&this.scopes.add(b.value),this.injectorDefTypes=new Set(this.get(vl.multi,Zt,xt.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const r of this._ngOnDestroyHooks)r.ngOnDestroy();for(const r of this._onDestroyHooks)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(r){this._onDestroyHooks.push(r)}runInContext(r){this.assertNotDestroyed();const a=so(this),u=Er(void 0);try{return r()}finally{so(a),Er(u)}}get(r,a=ha,u=xt.Default){this.assertNotDestroyed();const p=so(this),b=Er(void 0);try{if(!(u&xt.SkipSelf)){let R=this.records.get(r);if(void 0===R){const L=function ah(n){return"function"==typeof n||"object"==typeof n&&n instanceof nn}(r)&&Ut(r);R=L&&this.injectableDefInScope(L)?ea(Yc(r),Wl):null,this.records.set(r,R)}if(null!=R)return this.hydrate(r,R)}return(u&xt.Self?bl():this.parent).get(r,a=u&xt.Optional&&a===ha?null:a)}catch(M){if("NullInjectorError"===M.name){if((M[qs]=M[qs]||[]).unshift(Fe(r)),p)throw M;return function Ye(n,r,a,u){const p=n[qs];throw r[kt]&&p.unshift(r[kt]),n.message=function ct(n,r,a,u=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let p=Fe(r);if(Array.isArray(r))p=r.map(Fe).join(" -> ");else if("object"==typeof r){let b=[];for(let M in r)if(r.hasOwnProperty(M)){let R=r[M];b.push(M+":"+("string"==typeof R?JSON.stringify(R):Fe(R)))}p=`{${b.join(", ")}}`}return`${a}${u?"("+u+")":""}[${p}]: ${n.replace(Li,"\n  ")}`}("\n"+n.message,p,a,u),n.ngTokenPath=p,n[qs]=null,n}(M,r,"R3InjectorError",this.source)}throw M}finally{Er(b),so(p)}}resolveInjectorInitializers(){const r=so(this),a=Er(void 0);try{const u=this.get(Gc.multi,Zt,xt.Self);for(const p of u)p()}finally{so(r),Er(a)}}toString(){const r=[],a=this.records;for(const u of a.keys())r.push(Fe(u));return`R3Injector[${r.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new nt(205,!1)}processProvider(r){let a=Qn(r=Pe(r))?r:Pe(r&&r.provide);const u=function Ra(n){return Vl(n)?ea(void 0,n.useValue):ea(bc(n),Wl)}(r);if(Qn(r)||!0!==r.multi)this.records.get(a);else{let p=this.records.get(a);p||(p=ea(void 0,Wl,!0),p.factory=()=>K(p.multi),this.records.set(a,p)),a=r,p.multi.push(r)}this.records.set(a,u)}hydrate(r,a){return a.value===Wl&&(a.value=Kl,a.value=a.factory()),"object"==typeof a.value&&a.value&&function vu(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(a.value)&&this._ngOnDestroyHooks.add(a.value),a.value}injectableDefInScope(r){if(!r.providedIn)return!1;const a=Pe(r.providedIn);return"string"==typeof a?"any"===a||this.scopes.has(a):this.injectorDefTypes.has(a)}}function Yc(n){const r=Ut(n),a=null!==r?r.factory:Ds(n);if(null!==a)return a;if(n instanceof nn)throw new nt(204,!1);if(n instanceof Function)return function uf(n){const r=n.length;if(r>0)throw ko(r,"?"),new nt(204,!1);const a=function lr(n){const r=n&&(n[Dn]||n[sr]);if(r){const a=function Hn(n){if(n.hasOwnProperty("name"))return n.name;const r=(""+n).match(/^function\s*([^\s(]+)/);return null===r?"":r[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${a}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${a}" class.`),r}return null}(n);return null!==a?()=>a.factory(n):()=>new n}(n);throw new nt(204,!1)}function bc(n,r,a){let u;if(Qn(n)){const p=Pe(n);return Ds(p)||Yc(p)}if(Vl(n))u=()=>Pe(n.useValue);else if(function oh(n){return!(!n||!n.useFactory)}(n))u=()=>n.useFactory(...K(n.deps||[]));else if(function cf(n){return!(!n||!n.useExisting)}(n))u=()=>Ni(Pe(n.useExisting));else{const p=Pe(n&&(n.useClass||n.provide));if(!function yu(n){return!!n.deps}(n))return Ds(p)||Yc(p);u=()=>new p(...K(n.deps))}return u}function ea(n,r,a=!1){return{factory:n,value:r,multi:a?[]:void 0}}function fd(n){return!!n.\u0275providers}function rs(n,r){for(const a of n)Array.isArray(a)?rs(a,r):fd(a)?rs(a.\u0275providers,r):r(a)}class ch{}class x{resolveComponentFactory(r){throw function I(n){const r=Error(`No component factory found for ${Fe(n)}. Did you add it to @NgModule.entryComponents?`);return r.ngComponent=n,r}(r)}}let q=(()=>{class n{}return n.NULL=new x,n})();function se(){return Ve(Cr(),St())}function Ve(n,r){return new ht(Ci(n,r))}let ht=(()=>{class n{constructor(a){this.nativeElement=a}}return n.__NG_ELEMENT_ID__=se,n})();function Jt(n){return n instanceof ht?n.nativeElement:n}class Rn{}let Sn=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function ds(){const n=St(),a=nr(Cr().index,n);return(ii(a)?a:n)[11]}(),n})(),ka=(()=>{class n{}return n.\u0275prov=gt({token:n,providedIn:"root",factory:()=>null}),n})();class Qc{constructor(r){this.full=r,this.major=r.split(".")[0],this.minor=r.split(".")[1],this.patch=r.split(".").slice(2).join(".")}}const pd=new Qc("14.2.1"),bu={};function wp(n){return n.ngOriginalError}class La{constructor(){this._console=console}handleError(r){const a=this._findOriginalError(r);this._console.error("ERROR",r),a&&this._console.error("ORIGINAL ERROR",a)}_findOriginalError(r){let a=r&&wp(r);for(;a&&wp(a);)a=wp(a);return a||null}}const Ip=new Map;let y_=0;const mf="__ngContext__";function oo(n,r){ii(r)?(n[mf]=r[20],function v_(n){Ip.set(n[20],n)}(r)):n[mf]=r}function Qa(n){const r=n[mf];return"number"==typeof r?function Mp(n){return Ip.get(n)||null}(r):r||null}function _f(n){const r=Qa(n);return r?ii(r)?r:r.lView:null}function yf(n){return n.ownerDocument.defaultView}function $l(n){return n instanceof Function?n():n}var zl=(()=>((zl=zl||{})[zl.Important=1]="Important",zl[zl.DashCase=2]="DashCase",zl))();function Sp(n,r){return undefined(n,r)}function nu(n){const r=n[3];return Ri(r)?r[3]:r}function Do(n){return Ef(n[13])}function Mu(n){return Ef(n[4])}function Ef(n){for(;null!==n&&!Ri(n);)n=n[4];return n}function Dl(n,r,a,u,p){if(null!=u){let b,M=!1;Ri(u)?b=u:ii(u)&&(M=!0,u=u[0]);const R=Gr(u);0===n&&null!==a?null==p?ph(r,a,R):ql(r,a,R,p||null,!0):1===n&&null!==a?ql(r,a,R,p||null,!0):2===n?function iu(n,r,a){const u=Au(n,r);u&&function Np(n,r,a,u){n.removeChild(r,a,u)}(n,u,r,a)}(r,R,M):3===n&&r.destroyNode(R),null!=b&&function If(n,r,a,u,p){const b=a[7];b!==Gr(a)&&Dl(r,n,u,b,p);for(let R=10;R<a.length;R++){const L=a[R];Ou(L[1],L,n,r,u,b)}}(r,n,b,a,p)}}function Gl(n,r,a){return n.createElement(r,a)}function vd(n,r){const a=n[9],u=a.indexOf(r),p=r[3];512&r[2]&&(r[2]&=-513,vr(p,-1)),a.splice(u,1)}function fh(n,r){if(n.length<=10)return;const a=10+r,u=n[a];if(u){const p=u[17];null!==p&&p!==n&&vd(p,u),r>0&&(n[a-1][4]=u[4]);const b=Gs(n,10+r);!function na(n,r){Ou(n,r,r[11],2,null,null),r[0]=null,r[6]=null}(u[1],u);const M=b[19];null!==M&&M.detachView(b[1]),u[3]=null,u[4]=null,u[2]&=-65}return u}function Zl(n,r){if(!(128&r[2])){const a=r[11];a.destroyNode&&Ou(n,r,a,3,null,null),function Cf(n){let r=n[13];if(!r)return kp(n[1],n);for(;r;){let a=null;if(ii(r))a=r[13];else{const u=r[10];u&&(a=u)}if(!a){for(;r&&!r[4]&&r!==n;)ii(r)&&kp(r[1],r),r=r[3];null===r&&(r=n),ii(r)&&kp(r[1],r),a=r&&r[4]}r=a}}(r)}}function kp(n,r){if(!(128&r[2])){r[2]&=-65,r[2]|=128,function nm(n,r){let a;if(null!=n&&null!=(a=n.destroyHooks))for(let u=0;u<a.length;u+=2){const p=r[a[u]];if(!(p instanceof Ks)){const b=a[u+1];if(Array.isArray(b))for(let M=0;M<b.length;M+=2){const R=p[b[M]],L=b[M+1];try{L.call(R)}finally{}}else try{b.call(p)}finally{}}}}(n,r),function Tu(n,r){const a=n.cleanup,u=r[7];let p=-1;if(null!==a)for(let b=0;b<a.length-1;b+=2)if("string"==typeof a[b]){const M=a[b+1],R="function"==typeof M?M(r):Gr(r[M]),L=u[p=a[b+2]],Z=a[b+3];"boolean"==typeof Z?R.removeEventListener(a[b],L,Z):Z>=0?u[p=Z]():u[p=-Z].unsubscribe(),b+=2}else{const M=u[p=a[b+1]];a[b].call(M)}if(null!==u){for(let b=p+1;b<u.length;b++)(0,u[b])();r[7]=null}}(n,r),1===r[1].type&&r[11].destroy();const a=r[17];if(null!==a&&Ri(r[3])){a!==r[3]&&vd(a,r);const u=r[19];null!==u&&u.detachView(n)}!function zg(n){Ip.delete(n[20])}(r)}}function wl(n,r,a){return function bd(n,r,a){let u=r;for(;null!==u&&40&u.type;)u=(r=u).parent;if(null===u)return a[0];if(2&u.flags){const p=n.data[u.directiveStart].encapsulation;if(p===lt.None||p===lt.Emulated)return null}return Ci(u,a)}(n,r.parent,a)}function ql(n,r,a,u,p){n.insertBefore(r,a,u,p)}function ph(n,r,a){n.appendChild(r,a)}function Lp(n,r,a,u,p){null!==u?ql(n,r,a,u,p):ph(n,r,a)}function Au(n,r){return n.parentNode(r)}function Fp(n,r,a){return wf(n,r,a)}let wf=function Ed(n,r,a){return 40&n.type?Ci(n,a):null};function Xa(n,r,a,u){const p=wl(n,u,r),b=r[11],R=Fp(u.parent||r[6],u,r);if(null!=p)if(Array.isArray(a))for(let L=0;L<a.length;L++)Lp(b,p,a[L],R,!1);else Lp(b,p,a,R,!1)}function Cd(n,r){if(null!==r){const a=r.type;if(3&a)return Ci(r,n);if(4&a)return Na(-1,n[r.index]);if(8&a){const u=r.child;if(null!==u)return Cd(n,u);{const p=n[r.index];return Ri(p)?Na(-1,p):Gr(p)}}if(32&a)return Sp(r,n)()||Gr(n[r.index]);{const u=Bp(n,r);return null!==u?Array.isArray(u)?u[0]:Cd(nu(n[16]),u):Cd(n,r.next)}}return null}function Bp(n,r){return null!==r?n[16][6].projection[r.projection]:null}function Na(n,r){const a=10+n+1;if(a<r.length){const u=r[a],p=u[1].firstChild;if(null!==p)return Cd(u,p)}return r[7]}function xu(n,r,a,u,p,b,M){for(;null!=a;){const R=u[a.index],L=a.type;if(M&&0===r&&(R&&oo(Gr(R),u),a.flags|=4),64!=(64&a.flags))if(8&L)xu(n,r,a.child,u,p,b,!1),Dl(r,n,p,R,b);else if(32&L){const Z=Sp(a,u);let ne;for(;ne=Z();)Dl(r,n,p,ne,b);Dl(r,n,p,R,b)}else 16&L?Up(n,r,u,a,p,b):Dl(r,n,p,R,b);a=M?a.projectionNext:a.next}}function Ou(n,r,a,u,p,b){xu(a,u,n.firstChild,r,p,b,!1)}function Up(n,r,a,u,p,b){const M=a[16],L=M[6].projection[u.projection];if(Array.isArray(L))for(let Z=0;Z<L.length;Z++)Dl(r,n,p,L[Z],b);else xu(n,r,L,M[3],p,b,!0)}function rm(n,r,a){n.setAttribute(r,"style",a)}function Dd(n,r,a){""===a?n.removeAttribute(r,"class"):n.setAttribute(r,"class",a)}function im(n,r,a){let u=n.length;for(;;){const p=n.indexOf(r,a);if(-1===p)return p;if(0===p||n.charCodeAt(p-1)<=32){const b=r.length;if(p+b===u||n.charCodeAt(p+b)<=32)return p}a=p+1}}const sm="ng-template";function ya(n,r,a){let u=0;for(;u<n.length;){let p=n[u++];if(a&&"class"===p){if(p=n[u],-1!==im(p.toLowerCase(),r,0))return!0}else if(1===p){for(;u<n.length&&"string"==typeof(p=n[u++]);)if(p.toLowerCase()===r)return!0;return!1}}return!1}function gh(n){return 4===n.type&&n.value!==sm}function wd(n,r,a){return r===(4!==n.type||a?n.value:sm)}function su(n,r,a){let u=4;const p=n.attrs||[],b=function Ny(n){for(let r=0;r<n.length;r++)if(Aa(n[r]))return r;return n.length}(p);let M=!1;for(let R=0;R<r.length;R++){const L=r[R];if("number"!=typeof L){if(!M)if(4&u){if(u=2|1&u,""!==L&&!wd(n,L,a)||""===L&&1===r.length){if(va(u))return!1;M=!0}}else{const Z=8&u?L:r[++R];if(8&u&&null!==n.attrs){if(!ya(n.attrs,Z,a)){if(va(u))return!1;M=!0}continue}const le=Hp(8&u?"class":L,p,gh(n),a);if(-1===le){if(va(u))return!1;M=!0;continue}if(""!==Z){let He;He=le>b?"":p[le+1].toLowerCase();const st=8&u?He:null;if(st&&-1!==im(st,Z,0)||2&u&&Z!==He){if(va(u))return!1;M=!0}}}}else{if(!M&&!va(u)&&!va(L))return!1;if(M&&va(L))continue;M=!1,u=L|1&u}}return va(u)||M}function va(n){return 0==(1&n)}function Hp(n,r,a,u){if(null===r)return-1;let p=0;if(u||!a){let b=!1;for(;p<r.length;){const M=r[p];if(M===n)return p;if(3===M||6===M)b=!0;else{if(1===M||2===M){let R=r[++p];for(;"string"==typeof R;)R=r[++p];continue}if(4===M)break;if(0===M){p+=4;continue}}p+=b?1:2}return-1}return function mh(n,r){let a=n.indexOf(4);if(a>-1)for(a++;a<n.length;){const u=n[a];if("number"==typeof u)return-1;if(u===r)return a;a++}return-1}(r,n)}function Tf(n,r,a=!1){for(let u=0;u<r.length;u++)if(su(n,r[u],a))return!0;return!1}function om(n,r){e:for(let a=0;a<r.length;a++){const u=r[a];if(n.length===u.length){for(let p=0;p<n.length;p++)if(n[p]!==u[p])continue e;return!0}}return!1}function Af(n,r){return n?":not("+r.trim()+")":r}function D_(n){let r=n[0],a=1,u=2,p="",b=!1;for(;a<n.length;){let M=n[a];if("string"==typeof M)if(2&u){const R=n[++a];p+="["+M+(R.length>0?'="'+R+'"':"")+"]"}else 8&u?p+="."+M:4&u&&(p+=" "+M);else""!==p&&!va(M)&&(r+=Af(b,p),p=""),u=M,b=b||!va(u);a++}return""!==p&&(r+=Af(b,p)),r}const ir={};function jp(n){Pu($n(),St(),De()+n,!1)}function Pu(n,r,a,u){if(!u)if(3==(3&r[2])){const b=n.preOrderCheckHooks;null!==b&&ti(r,b,a)}else{const b=n.preOrderHooks;null!==b&&xo(r,b,0,a)}at(a)}function Md(n,r=null,a=null,u){const p=yh(n,r,a,u);return p.resolveInjectorInitializers(),p}function yh(n,r=null,a=null,u,p=new Set){const b=[a||Zt,Bo(n)];return u=u||("object"==typeof n?void 0:Fe(n)),new El(b,r||bl(),u||null,p)}let Il=(()=>{class n{static create(a,u){if(Array.isArray(a))return Md({name:""},u,a,"");{const p=a.name??"";return Md({name:p},a.parent,a.providers,p)}}}return n.THROW_IF_NOT_FOUND=ha,n.NULL=new _u,n.\u0275prov=gt({token:n,providedIn:"any",factory:()=>Ni(ih)}),n.__NG_ELEMENT_ID__=-1,n})();function Ic(n,r=xt.Default){const a=St();return null===a?Ni(n,r):Ro(Cr(),a,Pe(n),r)}function Uf(){throw new Error("invalid")}function Ch(n,r){return n<<17|r<<2}function Tl(n){return n>>17&32767}function Ad(n){return 2|n}function Mc(n){return(131068&n)>>2}function Vo(n,r){return-131069&n|r<<2}function Tc(n){return 1|n}function P_(n,r){const a=n.contentQueries;if(null!==a)for(let u=0;u<a.length;u+=2){const p=a[u],b=a[u+1];if(-1!==b){const M=n.data[b];Wr(p),M.contentQueries(2,r[b],b)}}}function Zf(n,r,a,u,p,b,M,R,L,Z,ne){const le=r.blueprint.slice();return le[0]=p,le[2]=76|u,(null!==ne||n&&1024&n[2])&&(le[2]|=1024),oa(le),le[3]=le[15]=n,le[8]=a,le[10]=M||n&&n[10],le[11]=R||n&&n[11],le[12]=L||n&&n[12]||null,le[9]=Z||n&&n[9]||null,le[6]=b,le[20]=function $g(){return y_++}(),le[21]=ne,le[16]=2==r.type?n[16]:le,le}function Vu(n,r,a,u,p){let b=n.data[r];if(null===b)b=function qf(n,r,a,u,p){const b=$(),M=ie(),L=n.data[r]=function Wy(n,r,a,u,p,b){return{type:a,index:u,insertBeforeIndex:null,injectorIndex:r?r.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:p,attrs:b,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:r,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,M?b:b&&b.parent,a,r,u,p);return null===n.firstChild&&(n.firstChild=L),null!==b&&(M?null==b.child&&null!==L.parent&&(b.child=L):null===b.next&&(b.next=L)),L}(n,r,a,u,p),function il(){return xn.lFrame.inI18n}()&&(b.flags|=64);else if(64&b.type){b.type=a,b.value=u,b.attrs=p;const M=function H(){const n=xn.lFrame,r=n.currentTNode;return n.isParent?r:r.parent}();b.injectorIndex=null===M?-1:M.injectorIndex}return U(b,!0),b}function Hu(n,r,a,u){if(0===a)return-1;const p=r.length;for(let b=0;b<a;b++)r.push(u),n.blueprint.push(u),n.data.push(null);return p}function rg(n,r,a){sl(r);try{const u=n.viewQuery;null!==u&&km(1,u,a);const p=n.template;null!==p&&Yf(n,r,p,1,a),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&P_(n,r),n.staticViewQueries&&km(2,n.viewQuery,a);const b=n.components;null!==b&&function Hy(n,r){for(let a=0;a<r.length;a++)qy(n,r[a])}(r,b)}catch(u){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),u}finally{r[2]&=-5,Q()}}function Pd(n,r,a,u){const p=r[2];if(128!=(128&p)){sl(r);try{oa(r),function rl(n){return xn.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==a&&Yf(n,r,a,2,u);const M=3==(3&p);if(M){const Z=n.preOrderCheckHooks;null!==Z&&ti(r,Z,null)}else{const Z=n.preOrderHooks;null!==Z&&xo(r,Z,0,null),Ws(r,0)}if(function xm(n){for(let r=Do(n);null!==r;r=Mu(r)){if(!r[2])continue;const a=r[9];for(let u=0;u<a.length;u++){const p=a[u],b=p[3];0==(512&p[2])&&vr(b,1),p[2]|=512}}}(r),function Zy(n){for(let r=Do(n);null!==r;r=Mu(r))for(let a=10;a<r.length;a++){const u=r[a],p=u[1];yr(u)&&Pd(p,u,p.template,u[8])}}(r),null!==n.contentQueries&&P_(n,r),M){const Z=n.contentCheckHooks;null!==Z&&ti(r,Z)}else{const Z=n.contentHooks;null!==Z&&xo(r,Z,1),Ws(r,1)}!function Em(n,r){const a=n.hostBindingOpCodes;if(null!==a)try{for(let u=0;u<a.length;u++){const p=a[u];if(p<0)at(~p);else{const b=p,M=a[++u],R=a[++u];zo(M,b),R(2,r[b])}}}finally{at(-1)}}(n,r);const R=n.components;null!==R&&function Vy(n,r){for(let a=0;a<r.length;a++)Om(n,r[a])}(r,R);const L=n.viewQuery;if(null!==L&&km(2,L,u),M){const Z=n.viewCheckHooks;null!==Z&&ti(r,Z)}else{const Z=n.viewHooks;null!==Z&&xo(r,Z,2),Ws(r,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),r[2]&=-41,512&r[2]&&(r[2]&=-513,vr(r[3],-1))}finally{Q()}}}function R_(n,r,a,u){const p=r[10],M=$o(r);try{!M&&p.begin&&p.begin(),M&&rg(n,r,u),Pd(n,r,a,u)}finally{!M&&p.end&&p.end()}}function Yf(n,r,a,u,p){const b=De(),M=2&u;try{at(-1),M&&r.length>22&&Pu(n,r,22,!1),a(u,p)}finally{at(b)}}function ig(n,r,a){if(eo(r)){const p=r.directiveEnd;for(let b=r.directiveStart;b<p;b++){const M=n.data[b];M.contentQueries&&M.contentQueries(1,a[b],b)}}}function Qf(n,r,a){!Ai()||(function Mm(n,r,a,u){const p=a.directiveStart,b=a.directiveEnd;n.firstCreatePass||ui(a,r),oo(u,r);const M=a.initialInputs;for(let R=p;R<b;R++){const L=n.data[R],Z=si(L);Z&&Sm(r,a,L);const ne=qt(r,n,R,a);oo(ne,r),null!==M&&dg(0,R-p,ne,L,0,M),Z&&(nr(a.index,r)[8]=ne)}}(n,r,a,Ci(a,r)),128==(128&a.flags)&&function $y(n,r,a){const u=a.directiveStart,p=a.directiveEnd,b=a.index,M=function Ha(){return xn.lFrame.currentDirectiveIndex}();try{at(b);for(let R=u;R<p;R++){const L=n.data[R],Z=r[R];po(R),(null!==L.hostBindings||0!==L.hostVars||null!==L.hostAttrs)&&F_(L,Z)}}finally{at(-1),po(M)}}(n,r,a))}function sg(n,r,a=Ci){const u=r.localNames;if(null!==u){let p=r.index+1;for(let b=0;b<u.length;b+=2){const M=u[b+1],R=-1===M?a(r,n):n[M];n[p++]=R}}}function k_(n){const r=n.tView;return null===r||r.incompleteFirstPass?n.tView=Xf(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):r}function Xf(n,r,a,u,p,b,M,R,L,Z){const ne=22+u,le=ne+p,He=function L_(n,r){const a=[];for(let u=0;u<r;u++)a.push(u<n?null:ir);return a}(ne,le),st="function"==typeof Z?Z():Z;return He[1]={type:n,blueprint:He,template:a,queries:null,viewQuery:R,declTNode:r,data:He.slice().fill(null,ne),bindingStartIndex:ne,expandoStartIndex:le,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof b?b():b,pipeRegistry:"function"==typeof M?M():M,firstChild:null,schemas:L,consts:st,incompleteFirstPass:!1}}function og(n,r,a,u){const p=Lm(r);null===a?p.push(u):(p.push(a),n.firstCreatePass&&rp(n).push(u,p.length-1))}function ag(n,r,a){for(let u in n)if(n.hasOwnProperty(u)){const p=n[u];(a=null===a?{}:a).hasOwnProperty(u)?a[u].push(r,p):a[u]=[r,p]}return a}function lg(n,r){const u=r.directiveEnd,p=n.data,b=r.attrs,M=[];let R=null,L=null;for(let Z=r.directiveStart;Z<u;Z++){const ne=p[Z],le=ne.inputs,He=null===b||gh(r)?null:Gy(le,b);M.push(He),R=ag(le,Z,R),L=ag(ne.outputs,Z,L)}null!==R&&(R.hasOwnProperty("class")&&(r.flags|=16),R.hasOwnProperty("style")&&(r.flags|=32)),r.initialInputs=M,r.inputs=R,r.outputs=L}function wo(n,r,a,u,p,b,M,R){const L=Ci(r,a);let ne,Z=r.inputs;!R&&null!=Z&&(ne=Z[u])?(ip(n,a,ne,u,p),Mo(r)&&Dm(a,r.index)):3&r.type&&(u=function Cm(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(u),p=null!=M?M(p,r.value||"",u):p,b.setProperty(L,u,p))}function Dm(n,r){const a=nr(r,n);16&a[2]||(a[2]|=32)}function ec(n,r,a,u){let p=!1;if(Ai()){const b=function Tm(n,r,a){const u=n.directiveRegistry;let p=null;if(u)for(let b=0;b<u.length;b++){const M=u[b];Tf(a,M.selectors,!1)&&(p||(p=[]),aa(ui(a,r),n,M.type),si(M)?(B_(n,a),p.unshift(M)):p.push(M))}return p}(n,r,a),M=null===u?null:{"":-1};if(null!==b){p=!0,ug(a,n.data.length,b.length);for(let ne=0;ne<b.length;ne++){const le=b[ne];le.providersResolver&&le.providersResolver(le)}let R=!1,L=!1,Z=Hu(n,r,b.length,null);for(let ne=0;ne<b.length;ne++){const le=b[ne];a.mergedAttrs=Xi(a.mergedAttrs,le.hostAttrs),U_(n,a,r,Z,le),zy(Z,le,M),null!==le.contentQueries&&(a.flags|=8),(null!==le.hostBindings||null!==le.hostAttrs||0!==le.hostVars)&&(a.flags|=128);const He=le.type.prototype;!R&&(He.ngOnChanges||He.ngOnInit||He.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(a.index),R=!0),!L&&(He.ngOnChanges||He.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(a.index),L=!0),Z++}lg(n,a)}M&&function Am(n,r,a){if(r){const u=n.localNames=[];for(let p=0;p<r.length;p+=2){const b=a[r[p+1]];if(null==b)throw new nt(-301,!1);u.push(r[p],b)}}}(a,u,M)}return a.mergedAttrs=Xi(a.mergedAttrs,a.attrs),p}function cg(n,r,a,u,p,b){const M=b.hostBindings;if(M){let R=n.hostBindingOpCodes;null===R&&(R=n.hostBindingOpCodes=[]);const L=~r.index;(function Ky(n){let r=n.length;for(;r>0;){const a=n[--r];if("number"==typeof a&&a<0)return a}return 0})(R)!=L&&R.push(L),R.push(u,p,M)}}function F_(n,r){null!==n.hostBindings&&n.hostBindings(1,r)}function B_(n,r){r.flags|=2,(n.components||(n.components=[])).push(r.index)}function zy(n,r,a){if(a){if(r.exportAs)for(let u=0;u<r.exportAs.length;u++)a[r.exportAs[u]]=n;si(r)&&(a[""]=n)}}function ug(n,r,a){n.flags|=1,n.directiveStart=r,n.directiveEnd=r+a,n.providerIndexes=r}function U_(n,r,a,u,p){n.data[u]=p;const b=p.factory||(p.factory=Ds(p.type)),M=new Ks(b,si(p),Ic);n.blueprint[u]=M,a[u]=M,cg(n,r,0,u,Hu(n,a,p.hostVars,ir),p)}function Sm(n,r,a){const u=Ci(r,n),p=k_(a),b=n[10],M=tp(n,Zf(n,p,null,a.onPush?32:16,u,r,b,b.createRenderer(u,a),null,null,null));n[r.index]=M}function tc(n,r,a,u,p,b){const M=Ci(n,r);!function Jf(n,r,a,u,p,b,M){if(null==b)n.removeAttribute(r,p,a);else{const R=null==M?rt(b):M(b,u||"",p);n.setAttribute(r,p,R,a)}}(r[11],M,b,n.value,a,u,p)}function dg(n,r,a,u,p,b){const M=b[r];if(null!==M){const R=u.setInput;for(let L=0;L<M.length;){const Z=M[L++],ne=M[L++],le=M[L++];null!==R?u.setInput(a,le,Z,ne):a[ne]=le}}}function Gy(n,r){let a=null,u=0;for(;u<r.length;){const p=r[u];if(0!==p)if(5!==p){if("number"==typeof p)break;n.hasOwnProperty(p)&&(null===a&&(a=[]),a.push(p,n[p],r[u+1])),u+=2}else u+=2;else u+=4}return a}function hg(n,r,a,u){return new Array(n,!0,!1,r,null,0,u,a,null,null)}function Om(n,r){const a=nr(r,n);if(yr(a)){const u=a[1];48&a[2]?Pd(u,a,u.template,a[8]):a[5]>0&&ep(a)}}function ep(n){for(let u=Do(n);null!==u;u=Mu(u))for(let p=10;p<u.length;p++){const b=u[p];if(yr(b))if(512&b[2]){const M=b[1];Pd(M,b,M.template,b[8])}else b[5]>0&&ep(b)}const a=n[1].components;if(null!==a)for(let u=0;u<a.length;u++){const p=nr(a[u],n);yr(p)&&p[5]>0&&ep(p)}}function qy(n,r){const a=nr(r,n),u=a[1];(function V_(n,r){for(let a=r.length;a<n.blueprint.length;a++)r.push(n.blueprint[a])})(u,a),rg(u,a,a[8])}function tp(n,r){return n[13]?n[14][4]=r:n[13]=r,n[14]=r,r}function Pm(n){for(;n;){n[2]|=32;const r=nu(n);if(Fa(n)&&!r)return n;n=r}return null}function km(n,r,a){Wr(0),r(n,a)}function Lm(n){return n[7]||(n[7]=[])}function rp(n){return n.cleanup||(n.cleanup=[])}function Nm(n,r,a){return(null===n||si(n))&&(a=function fs(n){for(;Array.isArray(n);){if("object"==typeof n[1])return n;n=n[0]}return null}(a[r.index])),a[11]}function fg(n,r){const a=n[9],u=a?a.get(La,null):null;u&&u.handleError(r)}function ip(n,r,a,u,p){for(let b=0;b<a.length;){const M=a[b++],R=a[b++],L=r[M],Z=n.data[M];null!==Z.setInput?Z.setInput(L,p,u,R):L[R]=p}}function Rd(n,r,a){let u=a?n.styles:null,p=a?n.classes:null,b=0;if(null!==r)for(let M=0;M<r.length;M++){const R=r[M];"number"==typeof R?b=R:1==b?p=Qe(p,R):2==b&&(u=Qe(u,R+": "+r[++M]+";"))}a?n.styles=u:n.stylesWithoutHost=u,a?n.classes=p:n.classesWithoutHost=p}function xh(n,r,a,u,p=!1){for(;null!==a;){const b=r[a.index];if(null!==b&&u.push(Gr(b)),Ri(b))for(let R=10;R<b.length;R++){const L=b[R],Z=L[1].firstChild;null!==Z&&xh(L[1],L,Z,u)}const M=a.type;if(8&M)xh(n,r,a.child,u);else if(32&M){const R=Sp(a,r);let L;for(;L=R();)u.push(L)}else if(16&M){const R=Bp(r,a);if(Array.isArray(R))u.push(...R);else{const L=nu(r[16]);xh(L[1],L,R,u,!0)}}a=p?a.projectionNext:a.next}return u}class Oh{constructor(r,a){this._lView=r,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const r=this._lView,a=r[1];return xh(a,r,a.firstChild,[])}get context(){return this._lView[8]}set context(r){this._lView[8]=r}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const r=this._lView[3];if(Ri(r)){const a=r[8],u=a?a.indexOf(this):-1;u>-1&&(fh(r,u),Gs(a,u))}this._attachedToViewContainer=!1}Zl(this._lView[1],this._lView)}onDestroy(r){og(this._lView[1],this._lView,null,r)}markForCheck(){Pm(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){!function np(n,r,a){const u=r[10];u.begin&&u.begin();try{Pd(n,r,n.template,a)}catch(p){throw fg(r,p),p}finally{u.end&&u.end()}}(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new nt(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Pp(n,r){Ou(n,r,r[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(r){if(this._attachedToViewContainer)throw new nt(902,!1);this._appRef=r}}class pg extends Oh{constructor(r){super(r),this._view=r}detectChanges(){!function Sh(n){!function Rm(n){for(let r=0;r<n.components.length;r++){const a=n.components[r],u=_f(a);if(null!==u){const p=u[1];R_(p,u,p.template,a)}}}(n[8])}(this._view)}checkNoChanges(){}get context(){return null}}class gg extends q{constructor(r){super(),this.ngModule=r}resolveComponentFactory(r){const a=Ln(r);return new sp(a,this.ngModule)}}function mg(n){const r=[];for(let a in n)n.hasOwnProperty(a)&&r.push({propName:n[a],templateName:a});return r}class Fm{constructor(r,a){this.injector=r,this.parentInjector=a}get(r,a,u){const p=this.injector.get(r,bu,u);return p!==bu||a===bu?p:this.parentInjector.get(r,a,u)}}class sp extends ch{constructor(r,a){super(),this.componentDef=r,this.ngModule=a,this.componentType=r.type,this.selector=function _h(n){return n.map(D_).join(",")}(r.selectors),this.ngContentSelectors=r.ngContentSelectors?r.ngContentSelectors:[],this.isBoundToModule=!!a}get inputs(){return mg(this.componentDef.inputs)}get outputs(){return mg(this.componentDef.outputs)}create(r,a,u,p){let b=(p=p||this.ngModule)instanceof ns?p:p?.injector;b&&null!==this.componentDef.getStandaloneInjector&&(b=this.componentDef.getStandaloneInjector(b)||b);const M=b?new Fm(r,b):r,R=M.get(Rn,null);if(null===R)throw new nt(407,!1);const L=M.get(ka,null),Z=R.createRenderer(null,this.componentDef),ne=this.componentDef.selectors[0][0]||"div",le=u?function jy(n,r,a){return n.selectRootElement(r,a===lt.ShadowDom)}(Z,u,this.componentDef.encapsulation):Gl(R.createRenderer(null,this.componentDef),ne,function Ph(n){const r=n.toLowerCase();return"svg"===r?"svg":"math"===r?"math":null}(ne)),He=this.componentDef.onPush?288:272,st={components:[]},Ot=Xf(0,null,null,1,0,null,null,null,null,null),Yt=Zf(null,Ot,st,He,null,null,R,Z,L,M,null);let gn,In;sl(Yt);try{const er=function j_(n,r,a,u,p,b){const M=a[1];a[22]=n;const L=Vu(M,22,2,"#host",null),Z=L.mergedAttrs=r.hostAttrs;null!==Z&&(Rd(L,Z,!0),null!==n&&(Rl(p,n,Z),null!==L.classes&&Dd(p,n,L.classes),null!==L.styles&&rm(p,n,L.styles)));const ne=u.createRenderer(n,r),le=Zf(a,k_(r),null,r.onPush?32:16,a[22],L,u,ne,b||null,null,null);return M.firstCreatePass&&(aa(ui(L,a),M,r.type),B_(M,L),ug(L,a.length,1)),tp(a,le),a[22]=le}(le,this.componentDef,Yt,R,Z);if(le)if(u)Rl(Z,le,["ng-version",pd.full]);else{const{attrs:$t,classes:Gn}=function Sf(n){const r=[],a=[];let u=1,p=2;for(;u<n.length;){let b=n[u];if("string"==typeof b)2===p?""!==b&&r.push(b,n[++u]):8===p&&a.push(b);else{if(!va(p))break;p=b}u++}return{attrs:r,classes:a}}(this.componentDef.selectors[0]);$t&&Rl(Z,le,$t),Gn&&Gn.length>0&&Dd(Z,le,Gn.join(" "))}if(In=no(Ot,22),void 0!==a){const $t=In.projection=[];for(let Gn=0;Gn<this.ngContentSelectors.length;Gn++){const ri=a[Gn];$t.push(null!=ri?Array.from(ri):null)}}gn=function Xy(n,r,a,u,p){const b=a[1],M=function Im(n,r,a){const u=Cr();n.firstCreatePass&&(a.providersResolver&&a.providersResolver(a),U_(n,u,r,Hu(n,r,1,null),a),lg(n,u));const p=qt(r,n,u.directiveStart,u);oo(p,r);const b=Ci(u,r);return b&&oo(b,r),p}(b,a,r);if(u.components.push(M),n[8]=M,null!==p)for(const L of p)L(M,r);if(r.contentQueries){const L=Cr();r.contentQueries(1,M,L.directiveStart)}const R=Cr();return!b.firstCreatePass||null===r.hostBindings&&null===r.hostAttrs||(at(R.index),cg(a[1],R,0,R.directiveStart,R.directiveEnd,r),F_(r,M)),M}(er,this.componentDef,Yt,st,[ev]),rg(Ot,Yt,null)}finally{Q()}return new H_(this.componentType,gn,Ve(In,Yt),Yt,In)}}class H_ extends class lh{}{constructor(r,a,u,p,b){super(),this.location=u,this._rootLView=p,this._tNode=b,this.instance=a,this.hostView=this.changeDetectorRef=new pg(p),this.componentType=r}setInput(r,a){const u=this._tNode.inputs;let p;if(null!==u&&(p=u[r])){const b=this._rootLView;ip(b[1],b,p,r,a),Dm(b,this._tNode.index)}}get injector(){return new la(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(r){this.hostView.onDestroy(r)}}function ev(){const n=Cr();br(St()[1],n)}function _g(n){let r=function W_(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),a=!0;const u=[n];for(;r;){let p;if(si(n))p=r.\u0275cmp||r.\u0275dir;else{if(r.\u0275cmp)throw new nt(903,!1);p=r.\u0275dir}if(p){if(a){u.push(p);const M=n;M.inputs=yg(n.inputs),M.declaredInputs=yg(n.declaredInputs),M.outputs=yg(n.outputs);const R=p.hostBindings;R&&vg(n,R);const L=p.viewQuery,Z=p.contentQueries;if(L&&K_(n,L),Z&&$_(n,Z),Be(n.inputs,p.inputs),Be(n.declaredInputs,p.declaredInputs),Be(n.outputs,p.outputs),si(p)&&p.data.animation){const ne=n.data;ne.animation=(ne.animation||[]).concat(p.data.animation)}}const b=p.features;if(b)for(let M=0;M<b.length;M++){const R=b[M];R&&R.ngInherit&&R(n),R===_g&&(a=!1)}}r=Object.getPrototypeOf(r)}!function Bm(n){let r=0,a=null;for(let u=n.length-1;u>=0;u--){const p=n[u];p.hostVars=r+=p.hostVars,p.hostAttrs=Xi(p.hostAttrs,a=Xi(a,p.hostAttrs))}}(u)}function yg(n){return n===An?{}:n===Zt?[]:n}function K_(n,r){const a=n.viewQuery;n.viewQuery=a?(u,p)=>{r(u,p),a(u,p)}:r}function $_(n,r){const a=n.contentQueries;n.contentQueries=a?(u,p,b)=>{r(u,p,b),a(u,p,b)}:r}function vg(n,r){const a=n.hostBindings;n.hostBindings=a?(u,p)=>{r(u,p),a(u,p)}:r}let ju=null;function kd(){if(!ju){const n=yt.Symbol;if(n&&n.iterator)ju=n.iterator;else{const r=Object.getOwnPropertyNames(Map.prototype);for(let a=0;a<r.length;++a){const u=r[a];"entries"!==u&&"size"!==u&&Map.prototype[u]===Map.prototype.entries&&(ju=u)}}}return ju}function Qs(n){return!!Eg(n)&&(Array.isArray(n)||!(n instanceof Map)&&kd()in n)}function Eg(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function ao(n,r,a){return!Object.is(n[r],a)&&(n[r]=a,!0)}function xi(n,r,a,u){const p=St();return ao(p,js(),r)&&($n(),tc(_t(),p,n,r,a,u)),xi}function lp(n,r,a,u){return ao(n,js(),a)?r+rt(a)+u:ir}function Hm(n,r,a,u,p,b,M,R){const L=St(),Z=$n(),ne=n+22,le=Z.firstCreatePass?function up(n,r,a,u,p,b,M,R,L){const Z=r.consts,ne=Vu(r,n,4,M||null,Jr(Z,R));ec(r,a,ne,Jr(Z,L)),br(r,ne);const le=ne.tViews=Xf(2,ne,u,p,b,r.directiveRegistry,r.pipeRegistry,null,r.schemas,Z);return null!==r.queries&&(r.queries.template(r,ne),le.queries=r.queries.embeddedTView(ne)),ne}(ne,Z,L,r,a,u,p,b,M):Z.data[ne];U(le,!1);const He=L[11].createComment("");Xa(Z,L,He,le),oo(He,L),tp(L,L[ne]=hg(He,L,He,le)),Ea(le)&&Qf(Z,L,le),null!=M&&sg(L,le,R)}function kh(n){return qi(function ei(){return xn.lFrame.contextLView}(),22+n)}function wg(n,r,a){const u=St();return ao(u,js(),r)&&wo($n(),_t(),u,n,r,u[11],a,!1),wg}function Fd(n,r,a,u,p){const M=p?"class":"style";ip(n,a,r.inputs[M],M,u)}function Ac(n,r,a,u){const p=St(),b=$n(),M=22+n,R=p[11],L=p[M]=Gl(R,r,function rr(){return xn.lFrame.currentNamespace}()),Z=b.firstCreatePass?function nv(n,r,a,u,p,b,M){const R=r.consts,Z=Vu(r,n,2,p,Jr(R,b));return ec(r,a,Z,Jr(R,M)),null!==Z.attrs&&Rd(Z,Z.attrs,!1),null!==Z.mergedAttrs&&Rd(Z,Z.mergedAttrs,!0),null!==r.queries&&r.queries.elementStart(r,Z),Z}(M,b,p,0,r,a,u):b.data[M];U(Z,!0);const ne=Z.mergedAttrs;null!==ne&&Rl(R,L,ne);const le=Z.classes;null!==le&&Dd(R,L,le);const He=Z.styles;return null!==He&&rm(R,L,He),64!=(64&Z.flags)&&Xa(b,p,L,Z),0===function Ao(){return xn.lFrame.elementDepthCount}()&&oo(L,p),function wa(){xn.lFrame.elementDepthCount++}(),Ea(Z)&&(Qf(b,p,Z),ig(b,Z,p)),null!==u&&sg(p,Z),Ac}function Gu(){let n=Cr();ie()?pt():(n=n.parent,U(n,!1));const r=n;!function Va(){xn.lFrame.elementDepthCount--}();const a=$n();return a.firstCreatePass&&(br(a,n),eo(n)&&a.queries.elementEnd(n)),null!=r.classesWithoutHost&&function Rc(n){return 0!=(16&n.flags)}(r)&&Fd(a,r,St(),r.classesWithoutHost,!0),null!=r.stylesWithoutHost&&function Ta(n){return 0!=(32&n.flags)}(r)&&Fd(a,r,St(),r.stylesWithoutHost,!1),Gu}function Zu(n,r,a,u){return Ac(n,r,a,u),Gu(),Zu}function Lh(n,r,a){const u=St(),p=$n(),b=n+22,M=p.firstCreatePass?function jm(n,r,a,u,p){const b=r.consts,M=Jr(b,u),R=Vu(r,n,8,"ng-container",M);return null!==M&&Rd(R,M,!0),ec(r,a,R,Jr(b,p)),null!==r.queries&&r.queries.elementStart(r,R),R}(b,p,u,r,a):p.data[b];U(M,!0);const R=u[b]=u[11].createComment("");return Xa(p,u,R,M),oo(R,u),Ea(M)&&(Qf(p,u,M),ig(p,M,u)),null!=a&&sg(u,M),Lh}function Ig(){let n=Cr();const r=$n();return ie()?pt():(n=n.parent,U(n,!1)),r.firstCreatePass&&(br(r,n),eo(n)&&r.queries.elementEnd(n)),Ig}function Q_(){return St()}function Nh(n){return!!n&&"function"==typeof n.then}function dp(n){return!!n&&"function"==typeof n.subscribe}const Wm=dp;function uu(n,r,a,u){const p=St(),b=$n(),M=Cr();return Tg(b,p,p[11],M,n,r,0,u),uu}function Mg(n,r){const a=Cr(),u=St(),p=$n();return Tg(p,u,Nm(go(p.data),a,u),a,n,r),Mg}function Tg(n,r,a,u,p,b,M,R){const L=Ea(u),ne=n.firstCreatePass&&rp(n),le=r[8],He=Lm(r);let st=!0;if(3&u.type||R){const gn=Ci(u,r),In=R?R(gn):gn,er=He.length,$t=R?ri=>R(Gr(ri[u.index])):u.index;let Gn=null;if(!R&&L&&(Gn=function X_(n,r,a,u){const p=n.cleanup;if(null!=p)for(let b=0;b<p.length-1;b+=2){const M=p[b];if(M===a&&p[b+1]===u){const R=r[7],L=p[b+2];return R.length>L?R[L]:null}"string"==typeof M&&(b+=2)}return null}(n,r,p,u.index)),null!==Gn)(Gn.__ngLastListenerFn__||Gn).__ngNextListenerFn__=b,Gn.__ngLastListenerFn__=b,st=!1;else{b=J_(u,r,le,b,!1);const ri=a.listen(In,p,b);He.push(b,ri),ne&&ne.push(p,$t,er,er+1)}}else b=J_(u,r,le,b,!1);const Ot=u.outputs;let Yt;if(st&&null!==Ot&&(Yt=Ot[p])){const gn=Yt.length;if(gn)for(let In=0;In<gn;In+=2){const vs=r[Yt[In]][Yt[In+1]].subscribe(b),Ng=He.length;He.push(b,vs),ne&&ne.push(p,u.index,Ng,-(Ng+1))}}}function Ag(n,r,a,u){try{return!1!==a(u)}catch(p){return fg(n,p),!1}}function J_(n,r,a,u,p){return function b(M){if(M===Function)return u;Pm(2&n.flags?nr(n.index,r):r);let L=Ag(r,0,u,M),Z=b.__ngNextListenerFn__;for(;Z;)L=Ag(r,0,Z,M)&&L,Z=Z.__ngNextListenerFn__;return p&&!1===L&&(M.preventDefault(),M.returnValue=!1),L}}function hp(n=1){return function V(n){return(xn.lFrame.contextLView=function te(n,r){for(;n>0;)r=r[15],n--;return r}(n,xn.lFrame.contextLView))[8]}(n)}function Sg(n,r){let a=null;const u=function C_(n){const r=n.attrs;if(null!=r){const a=r.indexOf(5);if(0==(1&a))return r[a+1]}return null}(n);for(let p=0;p<r.length;p++){const b=r[p];if("*"!==b){if(null===u?Tf(n,b,!0):om(u,b))return p}else a=p}return a}function Km(n){const r=St()[16][6];if(!r.projection){const u=r.projection=ko(n?n.length:1,null),p=u.slice();let b=r.child;for(;null!==b;){const M=n?Sg(b,n):0;null!==M&&(p[M]?p[M].projectionNext=b:u[M]=b,p[M]=b),b=b.next}}}function qu(n,r=0,a){const u=St(),p=$n(),b=Vu(p,22+n,16,null,a||null);null===b.projection&&(b.projection=r),pt(),64!=(64&b.flags)&&function ks(n,r,a){Up(r[11],0,r,a,wl(n,a,r),Fp(a.parent||r[6],a,r))}(p,u,b)}function $m(n,r,a){return Fh(n,"",r,"",a),$m}function Fh(n,r,a,u,p){const b=St(),M=lp(b,r,a,u);return M!==ir&&wo($n(),_t(),b,n,M,b[11],p,!1),Fh}function ty(n,r,a,u,p){const b=n[a+1],M=null===r;let R=u?Tl(b):Mc(b),L=!1;for(;0!==R&&(!1===L||M);){const ne=n[R+1];ny(n[R],r)&&(L=!0,n[R+1]=u?Tc(ne):Ad(ne)),R=u?Tl(ne):Mc(ne)}L&&(n[a+1]=u?Ad(b):Tc(b))}function ny(n,r){return null===n||null==r||(Array.isArray(n)?n[1]:n)===r||!(!Array.isArray(n)||"string"!=typeof r)&&dt(n,r)>=0}const Xs={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function ry(n){return n.substring(Xs.key,Xs.keyEnd)}function sy(n,r){const a=Xs.textEnd;return a===r?-1:(r=Xs.keyEnd=function ay(n,r,a){for(;r<a&&n.charCodeAt(r)>32;)r++;return r}(n,Xs.key=r,a),Uh(n,r,a))}function Uh(n,r,a){for(;r<a&&n.charCodeAt(r)<=32;)r++;return r}function Vh(n,r,a){return ac(n,r,a,!1),Vh}function qm(n,r){return ac(n,r,null,!0),qm}function hy(n){!function lc(n,r,a,u){const p=$n(),b=ji(2);p.firstUpdatePass&&py(p,null,b,u);const M=St();if(a!==ir&&ao(M,b,a)){const R=p.data[De()];if(Xm(R,u)&&!fy(p,b)){let L=u?R.classesWithoutHost:R.stylesWithoutHost;null!==L&&(a=Qe(L,a||"")),Fd(p,R,M,a,u)}else!function Og(n,r,a,u,p,b,M,R){p===ir&&(p=Zt);let L=0,Z=0,ne=0<p.length?p[0]:null,le=0<b.length?b[0]:null;for(;null!==ne||null!==le;){const He=L<p.length?p[L+1]:void 0,st=Z<b.length?b[Z+1]:void 0;let Yt,Ot=null;ne===le?(L+=2,Z+=2,He!==st&&(Ot=le,Yt=st)):null===le||null!==ne&&ne<le?(L+=2,Ot=ne):(Z+=2,Ot=le,Yt=st),null!==Ot&&_y(n,r,a,u,Ot,Yt,M,R),ne=L<p.length?p[L]:null,le=Z<b.length?b[Z]:null}}(p,R,M,M[11],M[b+1],M[b+1]=function cv(n,r,a){if(null==a||""===a)return Zt;const u=[],p=Ps(a);if(Array.isArray(p))for(let b=0;b<p.length;b++)n(u,p[b],!0);else if("object"==typeof p)for(const b in p)p.hasOwnProperty(b)&&n(u,b,p[b]);else"string"==typeof p&&r(u,p);return u}(n,r,a),u,b)}}(ce,Ho,n,!0)}function Ho(n,r){for(let a=function iy(n){return function oy(n){Xs.key=0,Xs.keyEnd=0,Xs.value=0,Xs.valueEnd=0,Xs.textEnd=n.length}(n),sy(n,Uh(n,0,Xs.textEnd))}(r);a>=0;a=sy(r,a))ce(n,ry(r),!0)}function ac(n,r,a,u){const p=St(),b=$n(),M=ji(2);b.firstUpdatePass&&py(b,n,M,u),r!==ir&&ao(p,M,r)&&_y(b,b.data[De()],p,p[11],n,p[M+1]=function yy(n,r){return null==n||("string"==typeof r?n+=r:"object"==typeof n&&(n=Fe(Ps(n)))),n}(r,a),u,M)}function fy(n,r){return r>=n.expandoStartIndex}function py(n,r,a,u){const p=n.data;if(null===p[a+1]){const b=p[De()],M=fy(n,a);Xm(b,u)&&null===r&&!M&&(r=!1),r=function av(n,r,a,u){const p=go(n);let b=u?r.residualClasses:r.residualStyles;if(null===p)0===(u?r.classBindings:r.styleBindings)&&(a=Hh(a=Ym(null,n,r,a,u),r.attrs,u),b=null);else{const M=r.directiveStylingLast;if(-1===M||n[M]!==p)if(a=Ym(p,n,r,a,u),null===b){let L=function gy(n,r,a){const u=a?r.classBindings:r.styleBindings;if(0!==Mc(u))return n[Tl(u)]}(n,r,u);void 0!==L&&Array.isArray(L)&&(L=Ym(null,n,r,L[1],u),L=Hh(L,r.attrs,u),function my(n,r,a,u){n[Tl(a?r.classBindings:r.styleBindings)]=u}(n,r,u,L))}else b=function lv(n,r,a){let u;const p=r.directiveEnd;for(let b=1+r.directiveStylingLast;b<p;b++)u=Hh(u,n[b].hostAttrs,a);return Hh(u,r.attrs,a)}(n,r,u)}return void 0!==b&&(u?r.residualClasses=b:r.residualStyles=b),a}(p,b,r,u),function rv(n,r,a,u,p,b){let M=b?r.classBindings:r.styleBindings,R=Tl(M),L=Mc(M);n[u]=a;let ne,Z=!1;if(Array.isArray(a)){const le=a;ne=le[1],(null===ne||dt(le,ne)>0)&&(Z=!0)}else ne=a;if(p)if(0!==L){const He=Tl(n[R+1]);n[u+1]=Ch(He,R),0!==He&&(n[He+1]=Vo(n[He+1],u)),n[R+1]=function A_(n,r){return 131071&n|r<<17}(n[R+1],u)}else n[u+1]=Ch(R,0),0!==R&&(n[R+1]=Vo(n[R+1],u)),R=u;else n[u+1]=Ch(L,0),0===R?R=u:n[L+1]=Vo(n[L+1],u),L=u;Z&&(n[u+1]=Ad(n[u+1])),ty(n,ne,u,!0),ty(n,ne,u,!1),function iv(n,r,a,u,p){const b=p?n.residualClasses:n.residualStyles;null!=b&&"string"==typeof r&&dt(b,r)>=0&&(a[u+1]=Tc(a[u+1]))}(r,ne,n,u,b),M=Ch(R,L),b?r.classBindings=M:r.styleBindings=M}(p,b,r,a,M,u)}}function Ym(n,r,a,u,p){let b=null;const M=a.directiveEnd;let R=a.directiveStylingLast;for(-1===R?R=a.directiveStart:R++;R<M&&(b=r[R],u=Hh(u,b.hostAttrs,p),b!==n);)R++;return null!==n&&(a.directiveStylingLast=R),u}function Hh(n,r,a){const u=a?1:2;let p=-1;if(null!==r)for(let b=0;b<r.length;b++){const M=r[b];"number"==typeof M?p=M:p===u&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),ce(n,M,!!a||r[++b]))}return void 0===n?null:n}function _y(n,r,a,u,p,b,M,R){if(!(3&r.type))return;const L=n.data,Z=L[R+1];fp(function Nu(n){return 1==(1&n)}(Z)?Qm(L,r,a,p,Mc(Z),M):void 0)||(fp(b)||function Vf(n){return 2==(2&n)}(Z)&&(b=Qm(L,null,a,p,R,M)),function Mf(n,r,a,u,p){if(r)p?n.addClass(a,u):n.removeClass(a,u);else{let b=-1===u.indexOf("-")?void 0:zl.DashCase;null==p?n.removeStyle(a,u,b):("string"==typeof p&&p.endsWith("!important")&&(p=p.slice(0,-10),b|=zl.Important),n.setStyle(a,u,p,b))}}(u,M,Ts(De(),a),p,b))}function Qm(n,r,a,u,p,b){const M=null===r;let R;for(;p>0;){const L=n[p],Z=Array.isArray(L),ne=Z?L[1]:L,le=null===ne;let He=a[p+1];He===ir&&(He=le?Zt:void 0);let st=le?we(He,u):ne===u?He:void 0;if(Z&&!fp(st)&&(st=we(L,u)),fp(st)&&(R=st,M))return R;const Ot=n[p+1];p=M?Tl(Ot):Mc(Ot)}if(null!==r){let L=b?r.residualClasses:r.residualStyles;null!=L&&(R=we(L,u))}return R}function fp(n){return void 0!==n}function Xm(n,r){return 0!=(n.flags&(r?16:32))}function vy(n,r=""){const a=St(),u=$n(),p=n+22,b=u.firstCreatePass?Vu(u,p,1,r,null):u.data[p],M=a[p]=function ru(n,r){return n.createText(r)}(a[11],r);Xa(u,a,M,b),U(b,!1)}function Jm(n){return e_("",n,""),Jm}function e_(n,r,a){const u=St(),p=lp(u,n,r,a);return p!==ir&&function nc(n,r,a){const u=Ts(r,n);!function hh(n,r,a){n.setValue(r,a)}(n[11],u,a)}(u,De(),p),e_}function s(n,r,a){const u=St();if(ao(u,js(),r)){const b=$n(),M=_t();wo(b,M,u,n,r,Nm(go(b.data),M,u),a,!0)}return s}const h=void 0;var S=["en",[["a","p"],["AM","PM"],h],[["AM","PM"],h,h],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],h,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],h,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",h,"{1} 'at' {0}",h],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function C(n){const a=Math.floor(Math.abs(n)),u=n.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===u?1:5}];let z={};function ue(n){const r=function _n(n){return n.toLowerCase().replace(/_/g,"-")}(n);let a=Lt(r);if(a)return a;const u=r.split("-")[0];if(a=Lt(u),a)return a;if("en"===u)return S;throw new nt(701,!1)}function Ze(n){return ue(n)[Bt.PluralCase]}function Lt(n){return n in z||(z[n]=yt.ng&&yt.ng.common&&yt.ng.common.locales&&yt.ng.common.locales[n]),z[n]}var Bt=(()=>((Bt=Bt||{})[Bt.LocaleId=0]="LocaleId",Bt[Bt.DayPeriodsFormat=1]="DayPeriodsFormat",Bt[Bt.DayPeriodsStandalone=2]="DayPeriodsStandalone",Bt[Bt.DaysFormat=3]="DaysFormat",Bt[Bt.DaysStandalone=4]="DaysStandalone",Bt[Bt.MonthsFormat=5]="MonthsFormat",Bt[Bt.MonthsStandalone=6]="MonthsStandalone",Bt[Bt.Eras=7]="Eras",Bt[Bt.FirstDayOfWeek=8]="FirstDayOfWeek",Bt[Bt.WeekendRange=9]="WeekendRange",Bt[Bt.DateFormat=10]="DateFormat",Bt[Bt.TimeFormat=11]="TimeFormat",Bt[Bt.DateTimeFormat=12]="DateTimeFormat",Bt[Bt.NumberSymbols=13]="NumberSymbols",Bt[Bt.NumberFormats=14]="NumberFormats",Bt[Bt.CurrencyCode=15]="CurrencyCode",Bt[Bt.CurrencySymbol=16]="CurrencySymbol",Bt[Bt.CurrencyName=17]="CurrencyName",Bt[Bt.Currencies=18]="Currencies",Bt[Bt.Directionality=19]="Directionality",Bt[Bt.PluralCase=20]="PluralCase",Bt[Bt.ExtraData=21]="ExtraData",Bt))();const Lr="en-US";let jo=Lr;function Rv(n,r,a,u,p){if(n=Pe(n),Array.isArray(n))for(let b=0;b<n.length;b++)Rv(n[b],r,a,u,p);else{const b=$n(),M=St();let R=Qn(n)?n:Pe(n.provide),L=bc(n);const Z=Cr(),ne=1048575&Z.providerIndexes,le=Z.directiveStart,He=Z.providerIndexes>>20;if(Qn(n)||!n.multi){const st=new Ks(L,p,Ic),Ot=Lv(R,r,p?ne:ne+He,le);-1===Ot?(aa(ui(Z,M),b,R),kv(b,n,r.length),r.push(R),Z.directiveStart++,Z.directiveEnd++,p&&(Z.providerIndexes+=1048576),a.push(st),M.push(st)):(a[Ot]=st,M[Ot]=st)}else{const st=Lv(R,r,ne+He,le),Ot=Lv(R,r,ne,ne+He),Yt=st>=0&&a[st],gn=Ot>=0&&a[Ot];if(p&&!gn||!p&&!Yt){aa(ui(Z,M),b,R);const In=function j0(n,r,a,u,p){const b=new Ks(n,a,Ic);return b.multi=[],b.index=r,b.componentProviders=0,Pb(b,p,u&&!a),b}(p?H0:V0,a.length,p,u,L);!p&&gn&&(a[Ot].providerFactory=In),kv(b,n,r.length,0),r.push(R),Z.directiveStart++,Z.directiveEnd++,p&&(Z.providerIndexes+=1048576),a.push(In),M.push(In)}else kv(b,n,st>-1?st:Ot,Pb(a[p?Ot:st],L,!p&&u));!p&&u&&gn&&a[Ot].componentProviders++}}}function kv(n,r,a,u){const p=Qn(r),b=function Hl(n){return!!n.useClass}(r);if(p||b){const L=(b?Pe(r.useClass):r).prototype.ngOnDestroy;if(L){const Z=n.destroyHooks||(n.destroyHooks=[]);if(!p&&r.multi){const ne=Z.indexOf(a);-1===ne?Z.push(a,[u,L]):Z[ne+1].push(u,L)}else Z.push(a,L)}}}function Pb(n,r,a){return a&&n.componentProviders++,n.multi.push(r)-1}function Lv(n,r,a,u){for(let p=a;p<u;p++)if(r[p]===n)return p;return-1}function V0(n,r,a,u){return Nv(this.multi,[])}function H0(n,r,a,u){const p=this.multi;let b;if(this.providerFactory){const M=this.providerFactory.componentProviders,R=qt(a,a[1],this.providerFactory.index,u);b=R.slice(0,M),Nv(p,b);for(let L=M;L<R.length;L++)b.push(R[L])}else b=[],Nv(p,b);return b}function Nv(n,r){for(let a=0;a<n.length;a++)r.push((0,n[a])());return r}function Rb(n,r=[]){return a=>{a.providersResolver=(u,p)=>function U0(n,r,a){const u=$n();if(u.firstCreatePass){const p=si(n);Rv(a,u.data,u.blueprint,p,!0),Rv(r,u.data,u.blueprint,p,!1)}}(u,p?p(n):n,r)}}class c_{}class kb{}function W0(n,r){return new Lb(n,r??null)}class Lb extends c_{constructor(r,a){super(),this._parent=a,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new gg(this);const u=gi(r);this._bootstrapComponents=$l(u.bootstrap),this._r3Injector=yh(r,a,[{provide:c_,useValue:this},{provide:q,useValue:this.componentFactoryResolver}],Fe(r),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(r)}get injector(){return this._r3Injector}destroy(){const r=this._r3Injector;!r.destroyed&&r.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(r){this.destroyCbs.push(r)}}class Fv extends kb{constructor(r){super(),this.moduleType=r}create(r){return new Lb(this.moduleType,r)}}class K0 extends c_{constructor(r,a,u){super(),this.componentFactoryResolver=new gg(this),this.instance=null;const p=new El([...r,{provide:c_,useValue:this},{provide:q,useValue:this.componentFactoryResolver}],a||bl(),u,new Set(["environment"]));this.injector=p,p.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(r){this.injector.onDestroy(r)}}function Bv(n,r,a=null){return new K0(n,r,a).injector}let $0=(()=>{class n{constructor(a){this._injector=a,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(a){if(!a.standalone)return null;if(!this.cachedInjectors.has(a.id)){const u=Ys(0,a.type),p=u.length>0?Bv([u],this._injector,`Standalone[${a.type.name}]`):null;this.cachedInjectors.set(a.id,p)}return this.cachedInjectors.get(a.id)}ngOnDestroy(){try{for(const a of this.cachedInjectors.values())null!==a&&a.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=gt({token:n,providedIn:"environment",factory:()=>new n(Ni(ns))}),n})();function Nb(n){n.getStandaloneInjector=r=>r.get($0).getOrCreateStandaloneInjector(n)}function Wb(n,r,a,u,p,b){const M=r+a;return ao(n,M,p)?function Al(n,r,a){return n[r]=a}(n,M+1,b?u.call(b,p):u(p)):function Ay(n,r){const a=n[r];return a===ir?void 0:a}(n,M+1)}function Zb(n,r){const a=$n();let u;const p=n+22;a.firstCreatePass?(u=function uC(n,r){if(r)for(let a=r.length-1;a>=0;a--){const u=r[a];if(n===u.name)return u}}(r,a.pipeRegistry),a.data[p]=u,u.onDestroy&&(a.destroyHooks||(a.destroyHooks=[])).push(p,u.onDestroy)):u=a.data[p];const b=u.factory||(u.factory=Ds(u.type)),M=Er(Ic);try{const R=ll(!1),L=b();return ll(R),function q_(n,r,a,u){a>=n.data.length&&(n.data[a]=null,n.blueprint[a]=null),r[a]=u}(a,St(),p,L),L}finally{Er(M)}}function qb(n,r,a){const u=n+22,p=St(),b=qi(p,u);return function Sy(n,r){return n[1].data[r].pure}(p,u)?Wb(p,function Ar(){const n=xn.lFrame;let r=n.bindingRootIndex;return-1===r&&(r=n.bindingRootIndex=n.tView.bindingStartIndex),r}(),r,b.transform,a,b):b.transform(a)}function Vv(n){return r=>{setTimeout(n,void 0,r)}}const Wd=class gC extends y.x{constructor(r=!1){super(),this.__isAsync=r}emit(r){super.next(r)}subscribe(r,a,u){let p=r,b=a||(()=>null),M=u;if(r&&"object"==typeof r){const L=r;p=L.next?.bind(L),b=L.error?.bind(L),M=L.complete?.bind(L)}this.__isAsync&&(b=Vv(b),p&&(p=Vv(p)),M&&(M=Vv(M)));const R=super.subscribe({next:p,error:b,complete:M});return r instanceof g.w0&&r.add(R),R}};function mC(){return this._results[kd()]()}class pv{constructor(r=!1){this._emitDistinctChangesOnly=r,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=kd(),u=pv.prototype;u[a]||(u[a]=mC)}get changes(){return this._changes||(this._changes=new Wd)}get(r){return this._results[r]}map(r){return this._results.map(r)}filter(r){return this._results.filter(r)}find(r){return this._results.find(r)}reduce(r,a){return this._results.reduce(r,a)}forEach(r){this._results.forEach(r)}some(r){return this._results.some(r)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(r,a){const u=this;u.dirty=!1;const p=xs(r);(this._changesDetected=!function gs(n,r,a){if(n.length!==r.length)return!1;for(let u=0;u<n.length;u++){let p=n[u],b=r[u];if(a&&(p=a(p),b=a(b)),b!==p)return!1}return!0}(u._results,p,a))&&(u._results=p,u.length=p.length,u.last=p[this.length-1],u.first=p[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let xy=(()=>{class n{}return n.__NG_ELEMENT_ID__=vC,n})();const _C=xy,yC=class extends _C{constructor(r,a,u){super(),this._declarationLView=r,this._declarationTContainer=a,this.elementRef=u}createEmbeddedView(r,a){const u=this._declarationTContainer.tViews,p=Zf(this._declarationLView,u,r,16,null,u.declTNode,null,null,null,null,a||null);p[17]=this._declarationLView[this._declarationTContainer.index];const M=this._declarationLView[19];return null!==M&&(p[19]=M.createEmbeddedView(u)),rg(u,p,r),new Oh(p)}};function vC(){return gv(Cr(),St())}function gv(n,r){return 4&n.type?new yC(r,n,Ve(n,r)):null}let mv=(()=>{class n{}return n.__NG_ELEMENT_ID__=bC,n})();function bC(){return Xb(Cr(),St())}const EC=mv,Yb=class extends EC{constructor(r,a,u){super(),this._lContainer=r,this._hostTNode=a,this._hostLView=u}get element(){return Ve(this._hostTNode,this._hostLView)}get injector(){return new la(this._hostTNode,this._hostLView)}get parentInjector(){const r=vo(this._hostTNode,this._hostLView);if(kl(r)){const a=Ka(r,this._hostLView),u=li(r);return new la(a[1].data[u+8],a)}return new la(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(r){const a=Qb(this._lContainer);return null!==a&&a[r]||null}get length(){return this._lContainer.length-10}createEmbeddedView(r,a,u){let p,b;"number"==typeof u?p=u:null!=u&&(p=u.index,b=u.injector);const M=r.createEmbeddedView(a||{},b);return this.insert(M,p),M}createComponent(r,a,u,p,b){const M=r&&!function Ga(n){return"function"==typeof n}(r);let R;if(M)R=a;else{const le=a||{};R=le.index,u=le.injector,p=le.projectableNodes,b=le.environmentInjector||le.ngModuleRef}const L=M?r:new sp(Ln(r)),Z=u||this.parentInjector;if(!b&&null==L.ngModule){const He=(M?Z:this.parentInjector).get(ns,null);He&&(b=He)}const ne=L.create(Z,p,void 0,b);return this.insert(ne.hostView,R),ne}insert(r,a){const u=r._lView,p=u[1];if(function ro(n){return Ri(n[3])}(u)){const ne=this.indexOf(r);if(-1!==ne)this.detach(ne);else{const le=u[3],He=new Yb(le,le[6],le[3]);He.detach(He.indexOf(r))}}const b=this._adjustIndex(a),M=this._lContainer;!function Rp(n,r,a,u){const p=10+u,b=a.length;u>0&&(a[p-1][4]=r),u<b-10?(r[4]=a[p],_c(a,10+u,r)):(a.push(r),r[4]=null),r[3]=a;const M=r[17];null!==M&&a!==M&&function Ec(n,r){const a=n[9];r[16]!==r[3][3][16]&&(n[2]=!0),null===a?n[9]=[r]:a.push(r)}(M,r);const R=r[19];null!==R&&R.insertView(n),r[2]|=64}(p,u,M,b);const R=Na(b,M),L=u[11],Z=Au(L,M[7]);return null!==Z&&function tm(n,r,a,u,p,b){u[0]=p,u[6]=r,Ou(n,u,a,1,p,b)}(p,M[6],L,u,Z,R),r.attachToViewContainerRef(),_c(Hv(M),b,r),r}move(r,a){return this.insert(r,a)}indexOf(r){const a=Qb(this._lContainer);return null!==a?a.indexOf(r):-1}remove(r){const a=this._adjustIndex(r,-1),u=fh(this._lContainer,a);u&&(Gs(Hv(this._lContainer),a),Zl(u[1],u))}detach(r){const a=this._adjustIndex(r,-1),u=fh(this._lContainer,a);return u&&null!=Gs(Hv(this._lContainer),a)?new Oh(u):null}_adjustIndex(r,a=0){return r??this.length+a}};function Qb(n){return n[8]}function Hv(n){return n[8]||(n[8]=[])}function Xb(n,r){let a;const u=r[n.index];if(Ri(u))a=u;else{let p;if(8&n.type)p=Gr(u);else{const b=r[11];p=b.createComment("");const M=Ci(n,r);ql(b,Au(b,M),p,function Df(n,r){return n.nextSibling(r)}(b,M),!1)}r[n.index]=a=hg(u,r,p,n),tp(r,a)}return new Yb(a,n,r)}class jv{constructor(r){this.queryList=r,this.matches=null}clone(){return new jv(this.queryList)}setDirty(){this.queryList.setDirty()}}class Wv{constructor(r=[]){this.queries=r}createEmbeddedView(r){const a=r.queries;if(null!==a){const u=null!==r.contentQueries?r.contentQueries[0]:a.length,p=[];for(let b=0;b<u;b++){const M=a.getByIndex(b);p.push(this.queries[M.indexInDeclarationView].clone())}return new Wv(p)}return null}insertView(r){this.dirtyQueriesWithMatches(r)}detachView(r){this.dirtyQueriesWithMatches(r)}dirtyQueriesWithMatches(r){for(let a=0;a<this.queries.length;a++)null!==aE(r,a).matches&&this.queries[a].setDirty()}}class Jb{constructor(r,a,u=null){this.predicate=r,this.flags=a,this.read=u}}class Kv{constructor(r=[]){this.queries=r}elementStart(r,a){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(r,a)}elementEnd(r){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(r)}embeddedTView(r){let a=null;for(let u=0;u<this.length;u++){const p=null!==a?a.length:0,b=this.getByIndex(u).embeddedTView(r,p);b&&(b.indexInDeclarationView=u,null!==a?a.push(b):a=[b])}return null!==a?new Kv(a):null}template(r,a){for(let u=0;u<this.queries.length;u++)this.queries[u].template(r,a)}getByIndex(r){return this.queries[r]}get length(){return this.queries.length}track(r){this.queries.push(r)}}class $v{constructor(r,a=-1){this.metadata=r,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(r,a){this.isApplyingToNode(a)&&this.matchTNode(r,a)}elementEnd(r){this._declarationNodeIndex===r.index&&(this._appliesToNextNode=!1)}template(r,a){this.elementStart(r,a)}embeddedTView(r,a){return this.isApplyingToNode(r)?(this.crossesNgTemplate=!0,this.addMatch(-r.index,a),new $v(this.metadata)):null}isApplyingToNode(r){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let u=r.parent;for(;null!==u&&8&u.type&&u.index!==a;)u=u.parent;return a===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(r,a){const u=this.metadata.predicate;if(Array.isArray(u))for(let p=0;p<u.length;p++){const b=u[p];this.matchTNodeWithReadOption(r,a,wC(a,b)),this.matchTNodeWithReadOption(r,a,cl(a,r,b,!1,!1))}else u===xy?4&a.type&&this.matchTNodeWithReadOption(r,a,-1):this.matchTNodeWithReadOption(r,a,cl(a,r,u,!1,!1))}matchTNodeWithReadOption(r,a,u){if(null!==u){const p=this.metadata.read;if(null!==p)if(p===ht||p===mv||p===xy&&4&a.type)this.addMatch(a.index,-2);else{const b=cl(a,r,p,!1,!1);null!==b&&this.addMatch(a.index,b)}else this.addMatch(a.index,u)}}addMatch(r,a){null===this.matches?this.matches=[r,a]:this.matches.push(r,a)}}function wC(n,r){const a=n.localNames;if(null!==a)for(let u=0;u<a.length;u+=2)if(a[u]===r)return a[u+1];return null}function MC(n,r,a,u){return-1===a?function IC(n,r){return 11&n.type?Ve(n,r):4&n.type?gv(n,r):null}(r,n):-2===a?function TC(n,r,a){return a===ht?Ve(r,n):a===xy?gv(r,n):a===mv?Xb(r,n):void 0}(n,r,u):qt(n,n[1],a,r)}function eE(n,r,a,u){const p=r[19].queries[u];if(null===p.matches){const b=n.data,M=a.matches,R=[];for(let L=0;L<M.length;L+=2){const Z=M[L];R.push(Z<0?null:MC(r,b[Z],M[L+1],a.metadata.read))}p.matches=R}return p.matches}function zv(n,r,a,u){const p=n.queries.getByIndex(a),b=p.matches;if(null!==b){const M=eE(n,r,p,a);for(let R=0;R<b.length;R+=2){const L=b[R];if(L>0)u.push(M[R/2]);else{const Z=b[R+1],ne=r[-L];for(let le=10;le<ne.length;le++){const He=ne[le];He[17]===He[3]&&zv(He[1],He,Z,u)}if(null!==ne[9]){const le=ne[9];for(let He=0;He<le.length;He++){const st=le[He];zv(st[1],st,Z,u)}}}}}return u}function tE(n){const r=St(),a=$n(),u=Ia();Wr(u+1);const p=aE(a,u);if(n.dirty&&$o(r)===(2==(2&p.metadata.flags))){if(null===p.matches)n.reset([]);else{const b=p.crossesNgTemplate?zv(a,r,u,[]):eE(a,r,p,u);n.reset(b,Jt),n.notifyOnChanges()}return!0}return!1}function nE(n,r,a){const u=$n();u.firstCreatePass&&(oE(u,new Jb(n,r,a),-1),2==(2&r)&&(u.staticViewQueries=!0)),sE(u,St(),r)}function rE(n,r,a,u){const p=$n();if(p.firstCreatePass){const b=Cr();oE(p,new Jb(r,a,u),b.index),function SC(n,r){const a=n.contentQueries||(n.contentQueries=[]);r!==(a.length?a[a.length-1]:-1)&&a.push(n.queries.length-1,r)}(p,n),2==(2&a)&&(p.staticContentQueries=!0)}sE(p,St(),a)}function iE(){return function AC(n,r){return n[19].queries[r].queryList}(St(),Ia())}function sE(n,r,a){const u=new pv(4==(4&a));og(n,r,u,u.destroy),null===r[19]&&(r[19]=new Wv),r[19].queries.push(new jv(u))}function oE(n,r,a){null===n.queries&&(n.queries=new Kv),n.queries.track(new $v(r,a))}function aE(n,r){return n.queries.getByIndex(r)}function yv(...n){}const ME=new nn("Application Initializer");let vv=(()=>{class n{constructor(a){this.appInits=a,this.resolve=yv,this.reject=yv,this.initialized=!1,this.done=!1,this.donePromise=new Promise((u,p)=>{this.resolve=u,this.reject=p})}runInitializers(){if(this.initialized)return;const a=[],u=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let p=0;p<this.appInits.length;p++){const b=this.appInits[p]();if(Nh(b))a.push(b);else if(Wm(b)){const M=new Promise((R,L)=>{b.subscribe({complete:R,error:L})});a.push(M)}}Promise.all(a).then(()=>{u()}).catch(p=>{this.reject(p)}),0===a.length&&u(),this.initialized=!0}}return n.\u0275fac=function(a){return new(a||n)(Ni(ME,8))},n.\u0275prov=gt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const TE=new nn("AppId",{providedIn:"root",factory:function AE(){return`${Qv()}${Qv()}${Qv()}`}});function Qv(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const SE=new nn("Platform Initializer"),YC=new nn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),xE=new nn("appBootstrapListener"),QC=new nn("AnimationModuleType");let XC=(()=>{class n{log(a){console.log(a)}warn(a){console.warn(a)}}return n.\u0275fac=function(a){return new(a||n)},n.\u0275prov=gt({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const bv=new nn("LocaleId",{providedIn:"root",factory:()=>B(bv,xt.Optional|xt.SkipSelf)||function JC(){return typeof $localize<"u"&&$localize.locale||Lr}()}),eD=new nn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class tD{constructor(r,a){this.ngModuleFactory=r,this.componentFactories=a}}let nD=(()=>{class n{compileModuleSync(a){return new Fv(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const u=this.compileModuleSync(a),b=$l(gi(a).declarations).reduce((M,R)=>{const L=Ln(R);return L&&M.push(new sp(L)),M},[]);return new tD(u,b)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return n.\u0275fac=function(a){return new(a||n)},n.\u0275prov=gt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const sD=(()=>Promise.resolve(0))();function Xv(n){typeof Zone>"u"?sD.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class du{constructor({enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Wd(!1),this.onMicrotaskEmpty=new Wd(!1),this.onStable=new Wd(!1),this.onError=new Wd(!1),typeof Zone>"u")throw new nt(908,!1);Zone.assertZonePatched();const p=this;if(p._nesting=0,p._outer=p._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const b=Zone.AsyncStackTaggingZoneSpec;p._inner=p._inner.fork(new b("Angular"))}Zone.TaskTrackingZoneSpec&&(p._inner=p._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(p._inner=p._inner.fork(Zone.longStackTraceZoneSpec)),p.shouldCoalesceEventChangeDetection=!u&&a,p.shouldCoalesceRunChangeDetection=u,p.lastRequestAnimationFrameId=-1,p.nativeRequestAnimationFrame=function oD(){let n=yt.requestAnimationFrame,r=yt.cancelAnimationFrame;if(typeof Zone<"u"&&n&&r){const a=n[Zone.__symbol__("OriginalDelegate")];a&&(n=a);const u=r[Zone.__symbol__("OriginalDelegate")];u&&(r=u)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:r}}().nativeRequestAnimationFrame,function cD(n){const r=()=>{!function lD(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(yt,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,eb(n),n.isCheckStableRunning=!0,Jv(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),eb(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,u,p,b,M,R)=>{try{return RE(n),a.invokeTask(p,b,M,R)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===b.type||n.shouldCoalesceRunChangeDetection)&&r(),kE(n)}},onInvoke:(a,u,p,b,M,R,L)=>{try{return RE(n),a.invoke(p,b,M,R,L)}finally{n.shouldCoalesceRunChangeDetection&&r(),kE(n)}},onHasTask:(a,u,p,b)=>{a.hasTask(p,b),u===p&&("microTask"==b.change?(n._hasPendingMicrotasks=b.microTask,eb(n),Jv(n)):"macroTask"==b.change&&(n.hasPendingMacrotasks=b.macroTask))},onHandleError:(a,u,p,b)=>(a.handleError(p,b),n.runOutsideAngular(()=>n.onError.emit(b)),!1)})}(p)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!du.isInAngularZone())throw new nt(909,!1)}static assertNotInAngularZone(){if(du.isInAngularZone())throw new nt(909,!1)}run(r,a,u){return this._inner.run(r,a,u)}runTask(r,a,u,p){const b=this._inner,M=b.scheduleEventTask("NgZoneEvent: "+p,r,aD,yv,yv);try{return b.runTask(M,a,u)}finally{b.cancelTask(M)}}runGuarded(r,a,u){return this._inner.runGuarded(r,a,u)}runOutsideAngular(r){return this._outer.run(r)}}const aD={};function Jv(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function eb(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function RE(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function kE(n){n._nesting--,Jv(n)}class uD{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Wd,this.onMicrotaskEmpty=new Wd,this.onStable=new Wd,this.onError=new Wd}run(r,a,u){return r.apply(a,u)}runGuarded(r,a,u){return r.apply(a,u)}runOutsideAngular(r){return r()}runTask(r,a,u,p){return r.apply(a,u)}}const LE=new nn(""),NE=new nn("");let tb,dD=(()=>{class n{constructor(a,u,p){this._ngZone=a,this.registry=u,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,tb||(function hD(n){tb=n}(p),p.addToWindow(u)),this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{du.assertNotInAngularZone(),Xv(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Xv(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(a)||(clearTimeout(u.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,u,p){let b=-1;u&&u>0&&(b=setTimeout(()=>{this._callbacks=this._callbacks.filter(M=>M.timeoutId!==b),a(this._didWork,this.getPendingTasks())},u)),this._callbacks.push({doneCb:a,timeoutId:b,updateCb:p})}whenStable(a,u,p){if(p&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,u,p),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(a){this.registry.registerApplication(a,this)}unregisterApplication(a){this.registry.unregisterApplication(a)}findProviders(a,u,p){return[]}}return n.\u0275fac=function(a){return new(a||n)(Ni(du),Ni(FE),Ni(NE))},n.\u0275prov=gt({token:n,factory:n.\u0275fac}),n})(),FE=(()=>{class n{constructor(){this._applications=new Map}registerApplication(a,u){this._applications.set(a,u)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,u=!0){return tb?.findTestabilityInTree(this,a,u)??null}}return n.\u0275fac=function(a){return new(a||n)},n.\u0275prov=gt({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})(),yp=null;const BE=new nn("AllowMultipleToken"),nb=new nn("PlatformDestroyListeners");class gD{constructor(r,a){this.name=r,this.token=a}}function VE(n,r,a=[]){const u=`Platform: ${r}`,p=new nn(u);return(b=[])=>{let M=rb();if(!M||M.injector.get(BE,!1)){const R=[...a,...b,{provide:p,useValue:!0}];n?n(R):function mD(n){if(yp&&!yp.get(BE,!1))throw new nt(400,!1);yp=n;const r=n.get(jE);(function UE(n){const r=n.get(SE,null);r&&r.forEach(a=>a())})(n)}(function HE(n=[],r){return Il.create({name:r,providers:[{provide:jl,useValue:"platform"},{provide:nb,useValue:new Set([()=>yp=null])},...n]})}(R,u))}return function yD(n){const r=rb();if(!r)throw new nt(401,!1);return r}()}}function rb(){return yp?.get(jE)??null}let jE=(()=>{class n{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,u){const p=function KE(n,r){let a;return a="noop"===n?new uD:("zone.js"===n?void 0:n)||new du(r),a}(u?.ngZone,function WE(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}(u)),b=[{provide:du,useValue:p}];return p.run(()=>{const M=Il.create({providers:b,parent:this.injector,name:a.moduleType.name}),R=a.create(M),L=R.injector.get(La,null);if(!L)throw new nt(402,!1);return p.runOutsideAngular(()=>{const Z=p.onError.subscribe({next:ne=>{L.handleError(ne)}});R.onDestroy(()=>{Cv(this._modules,R),Z.unsubscribe()})}),function $E(n,r,a){try{const u=a();return Nh(u)?u.catch(p=>{throw r.runOutsideAngular(()=>n.handleError(p)),p}):u}catch(u){throw r.runOutsideAngular(()=>n.handleError(u)),u}}(L,p,()=>{const Z=R.injector.get(vv);return Z.runInitializers(),Z.donePromise.then(()=>(function uc(n){on(n,"Expected localeId to be defined"),"string"==typeof n&&(jo=n.toLowerCase().replace(/_/g,"-"))}(R.injector.get(bv,Lr)||Lr),this._moduleDoBootstrap(R),R))})})}bootstrapModule(a,u=[]){const p=zE({},u);return function fD(n,r,a){const u=new Fv(a);return Promise.resolve(u)}(0,0,a).then(b=>this.bootstrapModuleFactory(b,p))}_moduleDoBootstrap(a){const u=a.injector.get(Ev);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(p=>u.bootstrap(p));else{if(!a.instance.ngDoBootstrap)throw new nt(403,!1);a.instance.ngDoBootstrap(u)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new nt(404,!1);this._modules.slice().forEach(u=>u.destroy()),this._destroyListeners.forEach(u=>u());const a=this._injector.get(nb,null);a&&(a.forEach(u=>u()),a.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(a){return new(a||n)(Ni(Il))},n.\u0275prov=gt({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function zE(n,r){return Array.isArray(r)?r.reduce(zE,n):{...n,...r}}let Ev=(()=>{class n{constructor(a,u,p){this._zone=a,this._injector=u,this._exceptionHandler=p,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const b=new Y.y(R=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{R.next(this._stable),R.complete()})}),M=new Y.y(R=>{let L;this._zone.runOutsideAngular(()=>{L=this._zone.onStable.subscribe(()=>{du.assertNotInAngularZone(),Xv(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,R.next(!0))})})});const Z=this._zone.onUnstable.subscribe(()=>{du.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{R.next(!1)}))});return()=>{L.unsubscribe(),Z.unsubscribe()}});this.isStable=(0,me.T)(b,M.pipe((0,Se.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(a,u){const p=a instanceof ch;if(!this._injector.get(vv).done)throw!p&&Ii(a),new nt(405,false);let M;M=p?a:this._injector.get(q).resolveComponentFactory(a),this.componentTypes.push(M.componentType);const R=function pD(n){return n.isBoundToModule}(M)?void 0:this._injector.get(c_),Z=M.create(Il.NULL,[],u||M.selector,R),ne=Z.location.nativeElement,le=Z.injector.get(LE,null);return le?.registerApplication(ne),Z.onDestroy(()=>{this.detachView(Z.hostView),Cv(this.components,Z),le?.unregisterApplication(ne)}),this._loadComponent(Z),Z}tick(){if(this._runningTick)throw new nt(101,!1);try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(a))}finally{this._runningTick=!1}}attachView(a){const u=a;this._views.push(u),u.attachToAppRef(this)}detachView(a){const u=a;Cv(this._views,u),u.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a),this._injector.get(xE,[]).concat(this._bootstrapListeners).forEach(p=>p(a))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(a=>a()),this._views.slice().forEach(a=>a.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(a){return this._destroyListeners.push(a),()=>Cv(this._destroyListeners,a)}destroy(){if(this._destroyed)throw new nt(406,!1);const a=this._injector;a.destroy&&!a.destroyed&&a.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(a){return new(a||n)(Ni(du),Ni(ns),Ni(La))},n.\u0275prov=gt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Cv(n,r){const a=n.indexOf(r);a>-1&&n.splice(a,1)}let ZE=!0,qE=!1;function bD(){return qE=!0,ZE}function ED(){if(qE)throw new Error("Cannot enable prod mode after platform setup.");ZE=!1}let CD=(()=>{class n{}return n.__NG_ELEMENT_ID__=DD,n})();function DD(n){return function wD(n,r,a){if(Mo(n)&&!a){const u=nr(n.index,r);return new Oh(u,u)}return 47&n.type?new Oh(r[16],r):null}(Cr(),St(),16==(16&n))}class JE{constructor(){}supports(r){return Qs(r)}create(r){return new xD(r)}}const SD=(n,r)=>r;class xD{constructor(r){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=r||SD}forEachItem(r){let a;for(a=this._itHead;null!==a;a=a._next)r(a)}forEachOperation(r){let a=this._itHead,u=this._removalsHead,p=0,b=null;for(;a||u;){const M=!u||a&&a.currentIndex<t0(u,p,b)?a:u,R=t0(M,p,b),L=M.currentIndex;if(M===u)p--,u=u._nextRemoved;else if(a=a._next,null==M.previousIndex)p++;else{b||(b=[]);const Z=R-p,ne=L-p;if(Z!=ne){for(let He=0;He<Z;He++){const st=He<b.length?b[He]:b[He]=0,Ot=st+He;ne<=Ot&&Ot<Z&&(b[He]=st+1)}b[M.previousIndex]=ne-Z}}R!==L&&r(M,R,L)}}forEachPreviousItem(r){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)r(a)}forEachAddedItem(r){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)r(a)}forEachMovedItem(r){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)r(a)}forEachRemovedItem(r){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)r(a)}forEachIdentityChange(r){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)r(a)}diff(r){if(null==r&&(r=[]),!Qs(r))throw new nt(900,!1);return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let p,b,M,a=this._itHead,u=!1;if(Array.isArray(r)){this.length=r.length;for(let R=0;R<this.length;R++)b=r[R],M=this._trackByFn(R,b),null!==a&&Object.is(a.trackById,M)?(u&&(a=this._verifyReinsertion(a,b,M,R)),Object.is(a.item,b)||this._addIdentityChange(a,b)):(a=this._mismatch(a,b,M,R),u=!0),a=a._next}else p=0,function bg(n,r){if(Array.isArray(n))for(let a=0;a<n.length;a++)r(n[a]);else{const a=n[kd()]();let u;for(;!(u=a.next()).done;)r(u.value)}}(r,R=>{M=this._trackByFn(p,R),null!==a&&Object.is(a.trackById,M)?(u&&(a=this._verifyReinsertion(a,R,M,p)),Object.is(a.item,R)||this._addIdentityChange(a,R)):(a=this._mismatch(a,R,M,p),u=!0),a=a._next,p++}),this.length=p;return this._truncate(a),this.collection=r,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let r;for(r=this._previousItHead=this._itHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._additionsHead;null!==r;r=r._nextAdded)r.previousIndex=r.currentIndex;for(this._additionsHead=this._additionsTail=null,r=this._movesHead;null!==r;r=r._nextMoved)r.previousIndex=r.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(r,a,u,p){let b;return null===r?b=this._itTail:(b=r._prev,this._remove(r)),null!==(r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(r.item,a)||this._addIdentityChange(r,a),this._reinsertAfter(r,b,p)):null!==(r=null===this._linkedRecords?null:this._linkedRecords.get(u,p))?(Object.is(r.item,a)||this._addIdentityChange(r,a),this._moveAfter(r,b,p)):r=this._addAfter(new OD(a,u),b,p),r}_verifyReinsertion(r,a,u,p){let b=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==b?r=this._reinsertAfter(b,r._prev,p):r.currentIndex!=p&&(r.currentIndex=p,this._addToMoves(r,p)),r}_truncate(r){for(;null!==r;){const a=r._next;this._addToRemovals(this._unlink(r)),r=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(r,a,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(r);const p=r._prevRemoved,b=r._nextRemoved;return null===p?this._removalsHead=b:p._nextRemoved=b,null===b?this._removalsTail=p:b._prevRemoved=p,this._insertAfter(r,a,u),this._addToMoves(r,u),r}_moveAfter(r,a,u){return this._unlink(r),this._insertAfter(r,a,u),this._addToMoves(r,u),r}_addAfter(r,a,u){return this._insertAfter(r,a,u),this._additionsTail=null===this._additionsTail?this._additionsHead=r:this._additionsTail._nextAdded=r,r}_insertAfter(r,a,u){const p=null===a?this._itHead:a._next;return r._next=p,r._prev=a,null===p?this._itTail=r:p._prev=r,null===a?this._itHead=r:a._next=r,null===this._linkedRecords&&(this._linkedRecords=new e0),this._linkedRecords.put(r),r.currentIndex=u,r}_remove(r){return this._addToRemovals(this._unlink(r))}_unlink(r){null!==this._linkedRecords&&this._linkedRecords.remove(r);const a=r._prev,u=r._next;return null===a?this._itHead=u:a._next=u,null===u?this._itTail=a:u._prev=a,r}_addToMoves(r,a){return r.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=r:this._movesTail._nextMoved=r),r}_addToRemovals(r){return null===this._unlinkedRecords&&(this._unlinkedRecords=new e0),this._unlinkedRecords.put(r),r.currentIndex=null,r._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=r,r._prevRemoved=null):(r._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=r),r}_addIdentityChange(r,a){return r.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=r:this._identityChangesTail._nextIdentityChange=r,r}}class OD{constructor(r,a){this.item=r,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class PD{constructor(){this._head=null,this._tail=null}add(r){null===this._head?(this._head=this._tail=r,r._nextDup=null,r._prevDup=null):(this._tail._nextDup=r,r._prevDup=this._tail,r._nextDup=null,this._tail=r)}get(r,a){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===a||a<=u.currentIndex)&&Object.is(u.trackById,r))return u;return null}remove(r){const a=r._prevDup,u=r._nextDup;return null===a?this._head=u:a._nextDup=u,null===u?this._tail=a:u._prevDup=a,null===this._head}}class e0{constructor(){this.map=new Map}put(r){const a=r.trackById;let u=this.map.get(a);u||(u=new PD,this.map.set(a,u)),u.add(r)}get(r,a){const p=this.map.get(r);return p?p.get(r,a):null}remove(r){const a=r.trackById;return this.map.get(a).remove(r)&&this.map.delete(a),r}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function t0(n,r,a){const u=n.previousIndex;if(null===u)return u;let p=0;return a&&u<a.length&&(p=a[u]),u+r+p}class n0{constructor(){}supports(r){return r instanceof Map||Eg(r)}create(){return new RD}}class RD{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(r){let a;for(a=this._mapHead;null!==a;a=a._next)r(a)}forEachPreviousItem(r){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)r(a)}forEachChangedItem(r){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)r(a)}forEachAddedItem(r){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)r(a)}forEachRemovedItem(r){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)r(a)}diff(r){if(r){if(!(r instanceof Map||Eg(r)))throw new nt(900,!1)}else r=new Map;return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(r,(u,p)=>{if(a&&a.key===p)this._maybeAddToChanges(a,u),this._appendAfter=a,a=a._next;else{const b=this._getOrCreateRecordForKey(p,u);a=this._insertBeforeOrAppend(a,b)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let u=a;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(r,a){if(r){const u=r._prev;return a._next=r,a._prev=u,r._prev=a,u&&(u._next=a),r===this._mapHead&&(this._mapHead=a),this._appendAfter=r,r}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(r,a){if(this._records.has(r)){const p=this._records.get(r);this._maybeAddToChanges(p,a);const b=p._prev,M=p._next;return b&&(b._next=M),M&&(M._prev=b),p._next=null,p._prev=null,p}const u=new kD(r);return this._records.set(r,u),u.currentValue=a,this._addToAdditions(u),u}_reset(){if(this.isDirty){let r;for(this._previousMapHead=this._mapHead,r=this._previousMapHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._changesHead;null!==r;r=r._nextChanged)r.previousValue=r.currentValue;for(r=this._additionsHead;null!=r;r=r._nextAdded)r.previousValue=r.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(r,a){Object.is(a,r.currentValue)||(r.previousValue=r.currentValue,r.currentValue=a,this._addToChanges(r))}_addToAdditions(r){null===this._additionsHead?this._additionsHead=this._additionsTail=r:(this._additionsTail._nextAdded=r,this._additionsTail=r)}_addToChanges(r){null===this._changesHead?this._changesHead=this._changesTail=r:(this._changesTail._nextChanged=r,this._changesTail=r)}_forEach(r,a){r instanceof Map?r.forEach(a):Object.keys(r).forEach(u=>a(r[u],u))}}class kD{constructor(r){this.key=r,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function r0(){return new lb([new JE])}let lb=(()=>{class n{constructor(a){this.factories=a}static create(a,u){if(null!=u){const p=u.factories.slice();a=a.concat(p)}return new n(a)}static extend(a){return{provide:n,useFactory:u=>n.create(a,u||r0()),deps:[[n,new On,new Xt]]}}find(a){const u=this.factories.find(p=>p.supports(a));if(null!=u)return u;throw new nt(901,!1)}}return n.\u0275prov=gt({token:n,providedIn:"root",factory:r0}),n})();function s0(){return new cb([new n0])}let cb=(()=>{class n{constructor(a){this.factories=a}static create(a,u){if(u){const p=u.factories.slice();a=a.concat(p)}return new n(a)}static extend(a){return{provide:n,useFactory:u=>n.create(a,u||s0()),deps:[[n,new On,new Xt]]}}find(a){const u=this.factories.find(p=>p.supports(a));if(u)return u;throw new nt(901,!1)}}return n.\u0275prov=gt({token:n,providedIn:"root",factory:s0}),n})();const FD=VE(null,"core",[]);let BD=(()=>{class n{constructor(a){}}return n.\u0275fac=function(a){return new(a||n)(Ni(Ev))},n.\u0275mod=tn({type:n}),n.\u0275inj=Ge({}),n})();function UD(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}},4006:(ft,Ue,k)=>{k.d(Ue,{EJ:()=>ho,F:()=>Ti,Fj:()=>ot,JJ:()=>xt,JL:()=>qn,Kr:()=>os,On:()=>Bs,YN:()=>sa,_Y:()=>Wo,u5:()=>wa});var y=k(4650),g=k(6895),Y=k(8996),me=k(4128),Se=k(4004);let ke=(()=>{class ${constructor(U,ie){this._renderer=U,this._elementRef=ie,this.onChange=pt=>{},this.onTouched=()=>{}}setProperty(U,ie){this._renderer.setProperty(this._elementRef.nativeElement,U,ie)}registerOnTouched(U){this.onTouched=U}registerOnChange(U){this.onChange=U}setDisabledState(U){this.setProperty("disabled",U)}}return $.\u0275fac=function(U){return new(U||$)(y.Y36(y.Qsj),y.Y36(y.SBq))},$.\u0275dir=y.lG2({type:$}),$})(),Be=(()=>{class $ extends ke{}return $.\u0275fac=function(){let H;return function(ie){return(H||(H=y.n5z($)))(ie||$)}}(),$.\u0275dir=y.lG2({type:$,features:[y.qOj]}),$})();const Fe=new y.OlP("NgValueAccessor"),ge={provide:Fe,useExisting:(0,y.Gpc)(()=>ot),multi:!0},Et=new y.OlP("CompositionEventMode");let ot=(()=>{class $ extends ke{constructor(U,ie,pt){super(U,ie),this._compositionMode=pt,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Pe(){const $=(0,g.q)()?(0,g.q)().getUserAgent():"";return/android (\d+)/.test($.toLowerCase())}())}writeValue(U){this.setProperty("value",U??"")}_handleInput(U){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(U)}_compositionStart(){this._composing=!0}_compositionEnd(U){this._composing=!1,this._compositionMode&&this.onChange(U)}}return $.\u0275fac=function(U){return new(U||$)(y.Y36(y.Qsj),y.Y36(y.SBq),y.Y36(Et,8))},$.\u0275dir=y.lG2({type:$,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(U,ie){1&U&&y.NdJ("input",function(an){return ie._handleInput(an.target.value)})("blur",function(){return ie.onTouched()})("compositionstart",function(){return ie._compositionStart()})("compositionend",function(an){return ie._compositionEnd(an.target.value)})},features:[y._Bn([ge]),y.qOj]}),$})();const je=new y.OlP("NgValidators"),Re=new y.OlP("NgAsyncValidators");function Xe($){return null!=$}function At($){return(0,y.QGY)($)?(0,Y.D)($):$}function Ft($){let H={};return $.forEach(U=>{H=null!=U?{...H,...U}:H}),0===Object.keys(H).length?null:H}function Gt($,H){return H.map(U=>U($))}function on($){return $.map(H=>function ln($){return!$.validate}(H)?H:U=>H.validate(U))}function En($){return null!=$?function Dt($){if(!$)return null;const H=$.filter(Xe);return 0==H.length?null:function(U){return Ft(Gt(U,H))}}(on($)):null}function it($){return null!=$?function pn($){if(!$)return null;const H=$.filter(Xe);return 0==H.length?null:function(U){const ie=Gt(U,H).map(At);return(0,me.D)(ie).pipe((0,Se.U)(Ft))}}(on($)):null}function gt($,H){return null===$?[H]:Array.isArray($)?[...$,H]:[$,H]}function Ut($){return $?Array.isArray($)?$:[$]:[]}function Cn($,H){return Array.isArray($)?$.includes(H):$===H}function tr($,H){const U=Ut(H);return Ut($).forEach(pt=>{Cn(U,pt)||U.push(pt)}),U}function lr($,H){return Ut(H).filter(U=>!Cn($,U))}class Hn{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(H){this._rawValidators=H||[],this._composedValidatorFn=En(this._rawValidators)}_setAsyncValidators(H){this._rawAsyncValidators=H||[],this._composedAsyncValidatorFn=it(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(H){this._onDestroyCallbacks.push(H)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(H=>H()),this._onDestroyCallbacks=[]}reset(H){this.control&&this.control.reset(H)}hasError(H,U){return!!this.control&&this.control.hasError(H,U)}getError(H,U){return this.control?this.control.getError(H,U):null}}class Zn extends Hn{get formDirective(){return null}get path(){return null}}class Dn extends Hn{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class kn{constructor(H){this._cd=H}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let xt=(()=>{class $ extends kn{constructor(U){super(U)}}return $.\u0275fac=function(U){return new(U||$)(y.Y36(Dn,2))},$.\u0275dir=y.lG2({type:$,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(U,ie){2&U&&y.ekj("ng-untouched",ie.isUntouched)("ng-touched",ie.isTouched)("ng-pristine",ie.isPristine)("ng-dirty",ie.isDirty)("ng-valid",ie.isValid)("ng-invalid",ie.isInvalid)("ng-pending",ie.isPending)},features:[y.qOj]}),$})(),qn=(()=>{class $ extends kn{constructor(U){super(U)}}return $.\u0275fac=function(U){return new(U||$)(y.Y36(Zn,10))},$.\u0275dir=y.lG2({type:$,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(U,ie){2&U&&y.ekj("ng-untouched",ie.isUntouched)("ng-touched",ie.isTouched)("ng-pristine",ie.isPristine)("ng-dirty",ie.isDirty)("ng-valid",ie.isValid)("ng-invalid",ie.isInvalid)("ng-pending",ie.isPending)("ng-submitted",ie.isSubmitted)},features:[y.qOj]}),$})();const Ae="VALID",ve="INVALID",_e="PENDING",Oe="DISABLED";function be($){return(cr($)?$.validators:$)||null}function Ct($){return Array.isArray($)?En($):$||null}function jt($,H){return(cr(H)?H.asyncValidators:$)||null}function tn($){return Array.isArray($)?it($):$||null}function cr($){return null!=$&&!Array.isArray($)&&"object"==typeof $}class Fn{constructor(H,U){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=H,this._rawAsyncValidators=U,this._composedValidatorFn=Ct(this._rawValidators),this._composedAsyncValidatorFn=tn(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(H){this._rawValidators=this._composedValidatorFn=H}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(H){this._rawAsyncValidators=this._composedAsyncValidatorFn=H}get parent(){return this._parent}get valid(){return this.status===Ae}get invalid(){return this.status===ve}get pending(){return this.status==_e}get disabled(){return this.status===Oe}get enabled(){return this.status!==Oe}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(H){this._rawValidators=H,this._composedValidatorFn=Ct(H)}setAsyncValidators(H){this._rawAsyncValidators=H,this._composedAsyncValidatorFn=tn(H)}addValidators(H){this.setValidators(tr(H,this._rawValidators))}addAsyncValidators(H){this.setAsyncValidators(tr(H,this._rawAsyncValidators))}removeValidators(H){this.setValidators(lr(H,this._rawValidators))}removeAsyncValidators(H){this.setAsyncValidators(lr(H,this._rawAsyncValidators))}hasValidator(H){return Cn(this._rawValidators,H)}hasAsyncValidator(H){return Cn(this._rawAsyncValidators,H)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(H={}){this.touched=!0,this._parent&&!H.onlySelf&&this._parent.markAsTouched(H)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(H=>H.markAllAsTouched())}markAsUntouched(H={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(U=>{U.markAsUntouched({onlySelf:!0})}),this._parent&&!H.onlySelf&&this._parent._updateTouched(H)}markAsDirty(H={}){this.pristine=!1,this._parent&&!H.onlySelf&&this._parent.markAsDirty(H)}markAsPristine(H={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(U=>{U.markAsPristine({onlySelf:!0})}),this._parent&&!H.onlySelf&&this._parent._updatePristine(H)}markAsPending(H={}){this.status=_e,!1!==H.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!H.onlySelf&&this._parent.markAsPending(H)}disable(H={}){const U=this._parentMarkedDirty(H.onlySelf);this.status=Oe,this.errors=null,this._forEachChild(ie=>{ie.disable({...H,onlySelf:!0})}),this._updateValue(),!1!==H.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...H,skipPristineCheck:U}),this._onDisabledChange.forEach(ie=>ie(!0))}enable(H={}){const U=this._parentMarkedDirty(H.onlySelf);this.status=Ae,this._forEachChild(ie=>{ie.enable({...H,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:H.emitEvent}),this._updateAncestors({...H,skipPristineCheck:U}),this._onDisabledChange.forEach(ie=>ie(!1))}_updateAncestors(H){this._parent&&!H.onlySelf&&(this._parent.updateValueAndValidity(H),H.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(H){this._parent=H}getRawValue(){return this.value}updateValueAndValidity(H={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ae||this.status===_e)&&this._runAsyncValidator(H.emitEvent)),!1!==H.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!H.onlySelf&&this._parent.updateValueAndValidity(H)}_updateTreeValidity(H={emitEvent:!0}){this._forEachChild(U=>U._updateTreeValidity(H)),this.updateValueAndValidity({onlySelf:!0,emitEvent:H.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Oe:Ae}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(H){if(this.asyncValidator){this.status=_e,this._hasOwnPendingAsyncValidator=!0;const U=At(this.asyncValidator(this));this._asyncValidationSubscription=U.subscribe(ie=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(ie,{emitEvent:H})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(H,U={}){this.errors=H,this._updateControlsErrors(!1!==U.emitEvent)}get(H){let U=H;return null==U||(Array.isArray(U)||(U=U.split(".")),0===U.length)?null:U.reduce((ie,pt)=>ie&&ie._find(pt),this)}getError(H,U){const ie=U?this.get(U):this;return ie&&ie.errors?ie.errors[H]:null}hasError(H,U){return!!this.getError(H,U)}get root(){let H=this;for(;H._parent;)H=H._parent;return H}_updateControlsErrors(H){this.status=this._calculateStatus(),H&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(H)}_initObservables(){this.valueChanges=new y.vpe,this.statusChanges=new y.vpe}_calculateStatus(){return this._allControlsDisabled()?Oe:this.errors?ve:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(_e)?_e:this._anyControlsHaveStatus(ve)?ve:Ae}_anyControlsHaveStatus(H){return this._anyControls(U=>U.status===H)}_anyControlsDirty(){return this._anyControls(H=>H.dirty)}_anyControlsTouched(){return this._anyControls(H=>H.touched)}_updatePristine(H={}){this.pristine=!this._anyControlsDirty(),this._parent&&!H.onlySelf&&this._parent._updatePristine(H)}_updateTouched(H={}){this.touched=this._anyControlsTouched(),this._parent&&!H.onlySelf&&this._parent._updateTouched(H)}_registerOnCollectionChange(H){this._onCollectionChange=H}_setUpdateStrategy(H){cr(H)&&null!=H.updateOn&&(this._updateOn=H.updateOn)}_parentMarkedDirty(H){return!H&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(H){return null}}class Ln extends Fn{constructor(H,U,ie){super(be(U),jt(ie,U)),this.controls=H,this._initObservables(),this._setUpdateStrategy(U),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(H,U){return this.controls[H]?this.controls[H]:(this.controls[H]=U,U.setParent(this),U._registerOnCollectionChange(this._onCollectionChange),U)}addControl(H,U,ie={}){this.registerControl(H,U),this.updateValueAndValidity({emitEvent:ie.emitEvent}),this._onCollectionChange()}removeControl(H,U={}){this.controls[H]&&this.controls[H]._registerOnCollectionChange(()=>{}),delete this.controls[H],this.updateValueAndValidity({emitEvent:U.emitEvent}),this._onCollectionChange()}setControl(H,U,ie={}){this.controls[H]&&this.controls[H]._registerOnCollectionChange(()=>{}),delete this.controls[H],U&&this.registerControl(H,U),this.updateValueAndValidity({emitEvent:ie.emitEvent}),this._onCollectionChange()}contains(H){return this.controls.hasOwnProperty(H)&&this.controls[H].enabled}setValue(H,U={}){(function Nr($,H,U){$._forEachChild((ie,pt)=>{if(void 0===U[pt])throw new y.vHH(1002,"")})})(this,0,H),Object.keys(H).forEach(ie=>{(function or($,H,U){const ie=$.controls;if(!(H?Object.keys(ie):ie).length)throw new y.vHH(1e3,"");if(!ie[U])throw new y.vHH(1001,"")})(this,!0,ie),this.controls[ie].setValue(H[ie],{onlySelf:!0,emitEvent:U.emitEvent})}),this.updateValueAndValidity(U)}patchValue(H,U={}){null!=H&&(Object.keys(H).forEach(ie=>{const pt=this.controls[ie];pt&&pt.patchValue(H[ie],{onlySelf:!0,emitEvent:U.emitEvent})}),this.updateValueAndValidity(U))}reset(H={},U={}){this._forEachChild((ie,pt)=>{ie.reset(H[pt],{onlySelf:!0,emitEvent:U.emitEvent})}),this._updatePristine(U),this._updateTouched(U),this.updateValueAndValidity(U)}getRawValue(){return this._reduceChildren({},(H,U,ie)=>(H[ie]=U.getRawValue(),H))}_syncPendingControls(){let H=this._reduceChildren(!1,(U,ie)=>!!ie._syncPendingControls()||U);return H&&this.updateValueAndValidity({onlySelf:!0}),H}_forEachChild(H){Object.keys(this.controls).forEach(U=>{const ie=this.controls[U];ie&&H(ie,U)})}_setUpControls(){this._forEachChild(H=>{H.setParent(this),H._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(H){for(const[U,ie]of Object.entries(this.controls))if(this.contains(U)&&H(ie))return!0;return!1}_reduceValue(){return this._reduceChildren({},(U,ie,pt)=>((ie.enabled||this.disabled)&&(U[pt]=ie.value),U))}_reduceChildren(H,U){let ie=H;return this._forEachChild((pt,an)=>{ie=U(ie,pt,an)}),ie}_allControlsDisabled(){for(const H of Object.keys(this.controls))if(this.controls[H].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(H){return this.controls.hasOwnProperty(H)?this.controls[H]:null}}function Ie($,H){bt($,H),H.valueAccessor.writeValue($.value),$.disabled&&H.valueAccessor.setDisabledState?.(!0),function Vn($,H){H.valueAccessor.registerOnChange(U=>{$._pendingValue=U,$._pendingChange=!0,$._pendingDirty=!0,"change"===$.updateOn&&Ur($,H)})}($,H),function wr($,H){const U=(ie,pt)=>{H.valueAccessor.writeValue(ie),pt&&H.viewToModelUpdate(ie)};$.registerOnChange(U),H._registerOnDestroy(()=>{$._unregisterOnChange(U)})}($,H),function Kn($,H){H.valueAccessor.registerOnTouched(()=>{$._pendingTouched=!0,"blur"===$.updateOn&&$._pendingChange&&Ur($,H),"submit"!==$.updateOn&&$.markAsTouched()})}($,H),function qe($,H){if(H.valueAccessor.setDisabledState){const U=ie=>{H.valueAccessor.setDisabledState(ie)};$.registerOnDisabledChange(U),H._registerOnDestroy(()=>{$._unregisterOnDisabledChange(U)})}}($,H)}function ae($,H){$.forEach(U=>{U.registerOnValidatorChange&&U.registerOnValidatorChange(H)})}function bt($,H){const U=function Te($){return $._rawValidators}($);null!==H.validator?$.setValidators(gt(U,H.validator)):"function"==typeof U&&$.setValidators([U]);const ie=function Ge($){return $._rawAsyncValidators}($);null!==H.asyncValidator?$.setAsyncValidators(gt(ie,H.asyncValidator)):"function"==typeof ie&&$.setAsyncValidators([ie]);const pt=()=>$.updateValueAndValidity();ae(H._rawValidators,pt),ae(H._rawAsyncValidators,pt)}function Ur($,H){$._pendingDirty&&$.markAsDirty(),$.setValue($._pendingValue,{emitModelToViewChange:!1}),H.viewToModelUpdate($._pendingValue),$._pendingChange=!1}const Ns={provide:Zn,useExisting:(0,y.Gpc)(()=>Ti)},Fs=(()=>Promise.resolve())();let Ti=(()=>{class $ extends Zn{constructor(U,ie){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new y.vpe,this.form=new Ln({},En(U),it(ie))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(U){Fs.then(()=>{const ie=this._findContainer(U.path);U.control=ie.registerControl(U.name,U.control),Ie(U.control,U),U.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(U)})}getControl(U){return this.form.get(U.path)}removeControl(U){Fs.then(()=>{const ie=this._findContainer(U.path);ie&&ie.removeControl(U.name),this._directives.delete(U)})}addFormGroup(U){Fs.then(()=>{const ie=this._findContainer(U.path),pt=new Ln({});(function hn($,H){bt($,H)})(pt,U),ie.registerControl(U.name,pt),pt.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(U){Fs.then(()=>{const ie=this._findContainer(U.path);ie&&ie.removeControl(U.name)})}getFormGroup(U){return this.form.get(U.path)}updateModel(U,ie){Fs.then(()=>{this.form.get(U.path).setValue(ie)})}setValue(U){this.control.setValue(U)}onSubmit(U){return this.submitted=!0,function mi($,H){$._syncPendingControls(),H.forEach(U=>{const ie=U.control;"submit"===ie.updateOn&&ie._pendingChange&&(U.viewToModelUpdate(ie._pendingValue),ie._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(U),!1}onReset(){this.resetForm()}resetForm(U){this.form.reset(U),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(U){return U.pop(),U.length?this.form.get(U):this.form}}return $.\u0275fac=function(U){return new(U||$)(y.Y36(je,10),y.Y36(Re,10))},$.\u0275dir=y.lG2({type:$,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(U,ie){1&U&&y.NdJ("submit",function(an){return ie.onSubmit(an)})("reset",function(){return ie.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[y._Bn([Ns]),y.qOj]}),$})();function Es($,H){const U=$.indexOf(H);U>-1&&$.splice(U,1)}function Ui($){return"object"==typeof $&&null!==$&&2===Object.keys($).length&&"value"in $&&"disabled"in $}const Ki=class extends Fn{constructor(H=null,U,ie){super(be(U),jt(ie,U)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(H),this._setUpdateStrategy(U),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),cr(U)&&(U.nonNullable||U.initialValueIsDefault)&&(this.defaultValue=Ui(H)?H.value:H)}setValue(H,U={}){this.value=this._pendingValue=H,this._onChange.length&&!1!==U.emitModelToViewChange&&this._onChange.forEach(ie=>ie(this.value,!1!==U.emitViewToModelChange)),this.updateValueAndValidity(U)}patchValue(H,U={}){this.setValue(H,U)}reset(H=this.defaultValue,U={}){this._applyFormState(H),this.markAsPristine(U),this.markAsUntouched(U),this.setValue(this.value,U),this._pendingChange=!1}_updateValue(){}_anyControls(H){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(H){this._onChange.push(H)}_unregisterOnChange(H){Es(this._onChange,H)}registerOnDisabledChange(H){this._onDisabledChange.push(H)}_unregisterOnDisabledChange(H){Es(this._onDisabledChange,H)}_forEachChild(H){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(H){Ui(H)?(this.value=this._pendingValue=H.value,H.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=H}},Fa={provide:Dn,useExisting:(0,y.Gpc)(()=>Bs)},Ca=(()=>Promise.resolve())();let Bs=(()=>{class $ extends Dn{constructor(U,ie,pt,an,ei){super(),this._changeDetectorRef=ei,this.control=new Ki,this._registered=!1,this.update=new y.vpe,this._parent=U,this._setValidators(ie),this._setAsyncValidators(pt),this.valueAccessor=function jr($,H){if(!H)return null;let U,ie,pt;return Array.isArray(H),H.forEach(an=>{an.constructor===ot?U=an:function bs($){return Object.getPrototypeOf($.constructor)===Be}(an)?ie=an:pt=an}),pt||ie||U||null}(0,an)}ngOnChanges(U){if(this._checkForErrors(),!this._registered||"name"in U){if(this._registered&&(this._checkName(),this.formDirective)){const ie=U.name.previousValue;this.formDirective.removeControl({name:ie,path:this._getPath(ie)})}this._setUpControl()}"isDisabled"in U&&this._updateDisabled(U),function Pi($,H){if(!$.hasOwnProperty("model"))return!1;const U=$.model;return!!U.isFirstChange()||!Object.is(H,U.currentValue)}(U,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(U){this.viewModel=U,this.update.emit(U)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Ie(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(U){Ca.then(()=>{this.control.setValue(U,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(U){const ie=U.isDisabled.currentValue,pt=0!==ie&&(0,y.D6c)(ie);Ca.then(()=>{pt&&!this.control.disabled?this.control.disable():!pt&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(U){return this._parent?function Br($,H){return[...H.path,$]}(U,this._parent):[U]}}return $.\u0275fac=function(U){return new(U||$)(y.Y36(Zn,9),y.Y36(je,10),y.Y36(Re,10),y.Y36(Fe,10),y.Y36(y.sBO,8))},$.\u0275dir=y.lG2({type:$,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[y._Bn([Fa]),y.qOj,y.TTD]}),$})(),Wo=(()=>{class ${}return $.\u0275fac=function(U){return new(U||$)},$.\u0275dir=y.lG2({type:$,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),$})(),et=(()=>{class ${}return $.\u0275fac=function(U){return new(U||$)},$.\u0275mod=y.oAB({type:$}),$.\u0275inj=y.cJS({}),$})();const Zi={provide:Fe,useExisting:(0,y.Gpc)(()=>ho),multi:!0};function Us($,H){return null==$?`${H}`:(H&&"object"==typeof H&&(H="Object"),`${$}: ${H}`.slice(0,50))}let ho=(()=>{class $ extends Be{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(U){this._compareWith=U}writeValue(U){this.value=U;const pt=Us(this._getOptionId(U),U);this.setProperty("value",pt)}registerOnChange(U){this.onChange=ie=>{this.value=this._getOptionValue(ie),U(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(U){for(const ie of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(ie),U))return ie;return null}_getOptionValue(U){const ie=function Vs($){return $.split(":")[0]}(U);return this._optionMap.has(ie)?this._optionMap.get(ie):U}}return $.\u0275fac=function(){let H;return function(ie){return(H||(H=y.n5z($)))(ie||$)}}(),$.\u0275dir=y.lG2({type:$,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(U,ie){1&U&&y.NdJ("change",function(an){return ie.onChange(an.target.value)})("blur",function(){return ie.onTouched()})},inputs:{compareWith:"compareWith"},features:[y._Bn([Zi]),y.qOj]}),$})(),sa=(()=>{class ${constructor(U,ie,pt){this._element=U,this._renderer=ie,this._select=pt,this._select&&(this.id=this._select._registerOption())}set ngValue(U){null!=this._select&&(this._select._optionMap.set(this.id,U),this._setElementValue(Us(this.id,U)),this._select.writeValue(this._select.value))}set value(U){this._setElementValue(U),this._select&&this._select.writeValue(this._select.value)}_setElementValue(U){this._renderer.setProperty(this._element.nativeElement,"value",U)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return $.\u0275fac=function(U){return new(U||$)(y.Y36(y.SBq),y.Y36(y.Qsj),y.Y36(ho,9))},$.\u0275dir=y.lG2({type:$,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),$})();const Ba={provide:Fe,useExisting:(0,y.Gpc)(()=>_i),multi:!0};function ws($,H){return null==$?`${H}`:("string"==typeof H&&(H=`'${H}'`),H&&"object"==typeof H&&(H="Object"),`${$}: ${H}`.slice(0,50))}let _i=(()=>{class $ extends Be{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(U){this._compareWith=U}writeValue(U){let ie;if(this.value=U,Array.isArray(U)){const pt=U.map(an=>this._getOptionId(an));ie=(an,ei)=>{an._setSelected(pt.indexOf(ei.toString())>-1)}}else ie=(pt,an)=>{pt._setSelected(!1)};this._optionMap.forEach(ie)}registerOnChange(U){this.onChange=ie=>{const pt=[],an=ie.selectedOptions;if(void 0!==an){const ei=an;for(let ps=0;ps<ei.length;ps++){const Ar=this._getOptionValue(ei[ps].value);pt.push(Ar)}}else{const ei=ie.options;for(let ps=0;ps<ei.length;ps++){const ki=ei[ps];if(ki.selected){const Ar=this._getOptionValue(ki.value);pt.push(Ar)}}}this.value=pt,U(pt)}}_registerOption(U){const ie=(this._idCounter++).toString();return this._optionMap.set(ie,U),ie}_getOptionId(U){for(const ie of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(ie)._value,U))return ie;return null}_getOptionValue(U){const ie=function Is($){return $.split(":")[0]}(U);return this._optionMap.has(ie)?this._optionMap.get(ie)._value:U}}return $.\u0275fac=function(){let H;return function(ie){return(H||(H=y.n5z($)))(ie||$)}}(),$.\u0275dir=y.lG2({type:$,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(U,ie){1&U&&y.NdJ("change",function(an){return ie.onChange(an.target)})("blur",function(){return ie.onTouched()})},inputs:{compareWith:"compareWith"},features:[y._Bn([Ba]),y.qOj]}),$})(),os=(()=>{class ${constructor(U,ie,pt){this._element=U,this._renderer=ie,this._select=pt,this._select&&(this.id=this._select._registerOption(this))}set ngValue(U){null!=this._select&&(this._value=U,this._setElementValue(ws(this.id,U)),this._select.writeValue(this._select.value))}set value(U){this._select?(this._value=U,this._setElementValue(ws(this.id,U)),this._select.writeValue(this._select.value)):this._setElementValue(U)}_setElementValue(U){this._renderer.setProperty(this._element.nativeElement,"value",U)}_setSelected(U){this._renderer.setProperty(this._element.nativeElement,"selected",U)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return $.\u0275fac=function(U){return new(U||$)(y.Y36(y.SBq),y.Y36(y.Qsj),y.Y36(_i,9))},$.\u0275dir=y.lG2({type:$,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),$})(),Ao=(()=>{class ${}return $.\u0275fac=function(U){return new(U||$)},$.\u0275mod=y.oAB({type:$}),$.\u0275inj=y.cJS({imports:[et]}),$})(),wa=(()=>{class ${}return $.\u0275fac=function(U){return new(U||$)},$.\u0275mod=y.oAB({type:$}),$.\u0275inj=y.cJS({imports:[Ao]}),$})()},1481:(ft,Ue,k)=>{k.d(Ue,{Dx:()=>mt,H7:()=>Fr,b2:()=>gr,q6:()=>sr,se:()=>Xe});var y=k(6895),g=k(4650);class Y extends y.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class me extends Y{static makeCurrent(){(0,y.HT)(new me)}onAndCancel(Ee,ae,qe){return Ee.addEventListener(ae,qe,!1),()=>{Ee.removeEventListener(ae,qe,!1)}}dispatchEvent(Ee,ae){Ee.dispatchEvent(ae)}remove(Ee){Ee.parentNode&&Ee.parentNode.removeChild(Ee)}createElement(Ee,ae){return(ae=ae||this.getDefaultDocument()).createElement(Ee)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(Ee){return Ee.nodeType===Node.ELEMENT_NODE}isShadowRoot(Ee){return Ee instanceof DocumentFragment}getGlobalEventTarget(Ee,ae){return"window"===ae?window:"document"===ae?Ee:"body"===ae?Ee.body:null}getBaseHref(Ee){const ae=function ke(){return Se=Se||document.querySelector("base"),Se?Se.getAttribute("href"):null}();return null==ae?null:function Fe(Ie){Be=Be||document.createElement("a"),Be.setAttribute("href",Ie);const Ee=Be.pathname;return"/"===Ee.charAt(0)?Ee:`/${Ee}`}(ae)}resetBaseElement(){Se=null}getUserAgent(){return window.navigator.userAgent}getCookie(Ee){return(0,y.Mx)(document.cookie,Ee)}}let Be,Se=null;const Qe=new g.OlP("TRANSITION_ID"),ge=[{provide:g.ip1,useFactory:function he(Ie,Ee,ae){return()=>{ae.get(g.CZH).donePromise.then(()=>{const qe=(0,y.q)(),bt=Ee.querySelectorAll(`style[ng-transition="${Ie}"]`);for(let sn=0;sn<bt.length;sn++)qe.remove(bt[sn])})}},deps:[Qe,y.K0,g.zs3],multi:!0}];let Et=(()=>{class Ie{build(){return new XMLHttpRequest}}return Ie.\u0275fac=function(ae){return new(ae||Ie)},Ie.\u0275prov=g.Yz7({token:Ie,factory:Ie.\u0275fac}),Ie})();const ot=new g.OlP("EventManagerPlugins");let nt=(()=>{class Ie{constructor(ae,qe){this._zone=qe,this._eventNameToPlugin=new Map,ae.forEach(bt=>bt.manager=this),this._plugins=ae.slice().reverse()}addEventListener(ae,qe,bt){return this._findPluginFor(qe).addEventListener(ae,qe,bt)}addGlobalEventListener(ae,qe,bt){return this._findPluginFor(qe).addGlobalEventListener(ae,qe,bt)}getZone(){return this._zone}_findPluginFor(ae){const qe=this._eventNameToPlugin.get(ae);if(qe)return qe;const bt=this._plugins;for(let sn=0;sn<bt.length;sn++){const Vn=bt[sn];if(Vn.supports(ae))return this._eventNameToPlugin.set(ae,Vn),Vn}throw new Error(`No event manager plugin found for event ${ae}`)}}return Ie.\u0275fac=function(ae){return new(ae||Ie)(g.LFG(ot),g.LFG(g.R0b))},Ie.\u0275prov=g.Yz7({token:Ie,factory:Ie.\u0275fac}),Ie})();class Nt{constructor(Ee){this._doc=Ee}addGlobalEventListener(Ee,ae,qe){const bt=(0,y.q)().getGlobalEventTarget(this._doc,Ee);if(!bt)throw new Error(`Unsupported event target ${bt} for event ${ae}`);return this.addEventListener(bt,ae,qe)}}let rt=(()=>{class Ie{constructor(){this._stylesSet=new Set}addStyles(ae){const qe=new Set;ae.forEach(bt=>{this._stylesSet.has(bt)||(this._stylesSet.add(bt),qe.add(bt))}),this.onStylesAdded(qe)}onStylesAdded(ae){}getAllStyles(){return Array.from(this._stylesSet)}}return Ie.\u0275fac=function(ae){return new(ae||Ie)},Ie.\u0275prov=g.Yz7({token:Ie,factory:Ie.\u0275fac}),Ie})(),je=(()=>{class Ie extends rt{constructor(ae){super(),this._doc=ae,this._hostNodes=new Map,this._hostNodes.set(ae.head,[])}_addStylesToHost(ae,qe,bt){ae.forEach(sn=>{const Vn=this._doc.createElement("style");Vn.textContent=sn,bt.push(qe.appendChild(Vn))})}addHost(ae){const qe=[];this._addStylesToHost(this._stylesSet,ae,qe),this._hostNodes.set(ae,qe)}removeHost(ae){const qe=this._hostNodes.get(ae);qe&&qe.forEach(Re),this._hostNodes.delete(ae)}onStylesAdded(ae){this._hostNodes.forEach((qe,bt)=>{this._addStylesToHost(ae,bt,qe)})}ngOnDestroy(){this._hostNodes.forEach(ae=>ae.forEach(Re))}}return Ie.\u0275fac=function(ae){return new(ae||Ie)(g.LFG(y.K0))},Ie.\u0275prov=g.Yz7({token:Ie,factory:Ie.\u0275fac}),Ie})();function Re(Ie){(0,y.q)().remove(Ie)}const Ht={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Le=/%COMP%/g;function de(Ie,Ee,ae){for(let qe=0;qe<Ee.length;qe++){let bt=Ee[qe];Array.isArray(bt)?de(Ie,bt,ae):(bt=bt.replace(Le,Ie),ae.push(bt))}return ae}function fe(Ie){return Ee=>{if("__ngUnwrap__"===Ee)return Ie;!1===Ie(Ee)&&(Ee.preventDefault(),Ee.returnValue=!1)}}let Xe=(()=>{class Ie{constructor(ae,qe,bt){this.eventManager=ae,this.sharedStylesHost=qe,this.appId=bt,this.rendererByCompId=new Map,this.defaultRenderer=new At(ae)}createRenderer(ae,qe){if(!ae||!qe)return this.defaultRenderer;switch(qe.encapsulation){case g.ifc.Emulated:{let bt=this.rendererByCompId.get(qe.id);return bt||(bt=new on(this.eventManager,this.sharedStylesHost,qe,this.appId),this.rendererByCompId.set(qe.id,bt)),bt.applyToHost(ae),bt}case 1:case g.ifc.ShadowDom:return new Dt(this.eventManager,this.sharedStylesHost,ae,qe);default:if(!this.rendererByCompId.has(qe.id)){const bt=de(qe.id,qe.styles,[]);this.sharedStylesHost.addStyles(bt),this.rendererByCompId.set(qe.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return Ie.\u0275fac=function(ae){return new(ae||Ie)(g.LFG(nt),g.LFG(je),g.LFG(g.AFp))},Ie.\u0275prov=g.Yz7({token:Ie,factory:Ie.\u0275fac}),Ie})();class At{constructor(Ee){this.eventManager=Ee,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(Ee,ae){return ae?document.createElementNS(Ht[ae]||ae,Ee):document.createElement(Ee)}createComment(Ee){return document.createComment(Ee)}createText(Ee){return document.createTextNode(Ee)}appendChild(Ee,ae){(ln(Ee)?Ee.content:Ee).appendChild(ae)}insertBefore(Ee,ae,qe){Ee&&(ln(Ee)?Ee.content:Ee).insertBefore(ae,qe)}removeChild(Ee,ae){Ee&&Ee.removeChild(ae)}selectRootElement(Ee,ae){let qe="string"==typeof Ee?document.querySelector(Ee):Ee;if(!qe)throw new Error(`The selector "${Ee}" did not match any elements`);return ae||(qe.textContent=""),qe}parentNode(Ee){return Ee.parentNode}nextSibling(Ee){return Ee.nextSibling}setAttribute(Ee,ae,qe,bt){if(bt){ae=bt+":"+ae;const sn=Ht[bt];sn?Ee.setAttributeNS(sn,ae,qe):Ee.setAttribute(ae,qe)}else Ee.setAttribute(ae,qe)}removeAttribute(Ee,ae,qe){if(qe){const bt=Ht[qe];bt?Ee.removeAttributeNS(bt,ae):Ee.removeAttribute(`${qe}:${ae}`)}else Ee.removeAttribute(ae)}addClass(Ee,ae){Ee.classList.add(ae)}removeClass(Ee,ae){Ee.classList.remove(ae)}setStyle(Ee,ae,qe,bt){bt&(g.JOm.DashCase|g.JOm.Important)?Ee.style.setProperty(ae,qe,bt&g.JOm.Important?"important":""):Ee.style[ae]=qe}removeStyle(Ee,ae,qe){qe&g.JOm.DashCase?Ee.style.removeProperty(ae):Ee.style[ae]=""}setProperty(Ee,ae,qe){Ee[ae]=qe}setValue(Ee,ae){Ee.nodeValue=ae}listen(Ee,ae,qe){return"string"==typeof Ee?this.eventManager.addGlobalEventListener(Ee,ae,fe(qe)):this.eventManager.addEventListener(Ee,ae,fe(qe))}}function ln(Ie){return"TEMPLATE"===Ie.tagName&&void 0!==Ie.content}class on extends At{constructor(Ee,ae,qe,bt){super(Ee),this.component=qe;const sn=de(bt+"-"+qe.id,qe.styles,[]);ae.addStyles(sn),this.contentAttr=function oe(Ie){return"_ngcontent-%COMP%".replace(Le,Ie)}(bt+"-"+qe.id),this.hostAttr=function Je(Ie){return"_nghost-%COMP%".replace(Le,Ie)}(bt+"-"+qe.id)}applyToHost(Ee){super.setAttribute(Ee,this.hostAttr,"")}createElement(Ee,ae){const qe=super.createElement(Ee,ae);return super.setAttribute(qe,this.contentAttr,""),qe}}class Dt extends At{constructor(Ee,ae,qe,bt){super(Ee),this.sharedStylesHost=ae,this.hostEl=qe,this.shadowRoot=qe.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const sn=de(bt.id,bt.styles,[]);for(let Vn=0;Vn<sn.length;Vn++){const Kn=document.createElement("style");Kn.textContent=sn[Vn],this.shadowRoot.appendChild(Kn)}}nodeOrShadowRoot(Ee){return Ee===this.hostEl?this.shadowRoot:Ee}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(Ee,ae){return super.appendChild(this.nodeOrShadowRoot(Ee),ae)}insertBefore(Ee,ae,qe){return super.insertBefore(this.nodeOrShadowRoot(Ee),ae,qe)}removeChild(Ee,ae){return super.removeChild(this.nodeOrShadowRoot(Ee),ae)}parentNode(Ee){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(Ee)))}}let En=(()=>{class Ie extends Nt{constructor(ae){super(ae)}supports(ae){return!0}addEventListener(ae,qe,bt){return ae.addEventListener(qe,bt,!1),()=>this.removeEventListener(ae,qe,bt)}removeEventListener(ae,qe,bt){return ae.removeEventListener(qe,bt)}}return Ie.\u0275fac=function(ae){return new(ae||Ie)(g.LFG(y.K0))},Ie.\u0275prov=g.Yz7({token:Ie,factory:Ie.\u0275fac}),Ie})();const pn=["alt","control","meta","shift"],it={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},gt={alt:Ie=>Ie.altKey,control:Ie=>Ie.ctrlKey,meta:Ie=>Ie.metaKey,shift:Ie=>Ie.shiftKey};let Te=(()=>{class Ie extends Nt{constructor(ae){super(ae)}supports(ae){return null!=Ie.parseEventName(ae)}addEventListener(ae,qe,bt){const sn=Ie.parseEventName(qe),Vn=Ie.eventCallback(sn.fullKey,bt,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,y.q)().onAndCancel(ae,sn.domEventName,Vn))}static parseEventName(ae){const qe=ae.toLowerCase().split("."),bt=qe.shift();if(0===qe.length||"keydown"!==bt&&"keyup"!==bt)return null;const sn=Ie._normalizeKey(qe.pop());let Vn="",Kn=qe.indexOf("code");if(Kn>-1&&(qe.splice(Kn,1),Vn="code."),pn.forEach(wr=>{const hn=qe.indexOf(wr);hn>-1&&(qe.splice(hn,1),Vn+=wr+".")}),Vn+=sn,0!=qe.length||0===sn.length)return null;const Ur={};return Ur.domEventName=bt,Ur.fullKey=Vn,Ur}static matchEventFullKeyCode(ae,qe){let bt=it[ae.key]||ae.key,sn="";return qe.indexOf("code.")>-1&&(bt=ae.code,sn="code."),!(null==bt||!bt)&&(bt=bt.toLowerCase()," "===bt?bt="space":"."===bt&&(bt="dot"),pn.forEach(Vn=>{Vn!==bt&&(0,gt[Vn])(ae)&&(sn+=Vn+".")}),sn+=bt,sn===qe)}static eventCallback(ae,qe,bt){return sn=>{Ie.matchEventFullKeyCode(sn,ae)&&bt.runGuarded(()=>qe(sn))}}static _normalizeKey(ae){return"esc"===ae?"escape":ae}}return Ie.\u0275fac=function(ae){return new(ae||Ie)(g.LFG(y.K0))},Ie.\u0275prov=g.Yz7({token:Ie,factory:Ie.\u0275fac}),Ie})();const sr=(0,g.eFA)(g._c5,"browser",[{provide:g.Lbi,useValue:y.bD},{provide:g.g9A,useValue:function Hn(){me.makeCurrent()},multi:!0},{provide:y.K0,useFactory:function Dn(){return(0,g.RDi)(document),document},deps:[]}]),Nn=new g.OlP(""),xt=[{provide:g.rWj,useClass:class Pe{addToWindow(Ee){g.dqk.getAngularTestability=(qe,bt=!0)=>{const sn=Ee.findTestabilityInTree(qe,bt);if(null==sn)throw new Error("Could not find testability for element.");return sn},g.dqk.getAllAngularTestabilities=()=>Ee.getAllTestabilities(),g.dqk.getAllAngularRootElements=()=>Ee.getAllRootElements(),g.dqk.frameworkStabilizers||(g.dqk.frameworkStabilizers=[]),g.dqk.frameworkStabilizers.push(qe=>{const bt=g.dqk.getAllAngularTestabilities();let sn=bt.length,Vn=!1;const Kn=function(Ur){Vn=Vn||Ur,sn--,0==sn&&qe(Vn)};bt.forEach(function(Ur){Ur.whenStable(Kn)})})}findTestabilityInTree(Ee,ae,qe){return null==ae?null:Ee.getTestability(ae)??(qe?(0,y.q)().isShadowRoot(ae)?this.findTestabilityInTree(Ee,ae.host,!0):this.findTestabilityInTree(Ee,ae.parentElement,!0):null)}},deps:[]},{provide:g.lri,useClass:g.dDg,deps:[g.R0b,g.eoX,g.rWj]},{provide:g.dDg,useClass:g.dDg,deps:[g.R0b,g.eoX,g.rWj]}],qn=[{provide:g.zSh,useValue:"root"},{provide:g.qLn,useFactory:function Zn(){return new g.qLn},deps:[]},{provide:ot,useClass:En,multi:!0,deps:[y.K0,g.R0b,g.Lbi]},{provide:ot,useClass:Te,multi:!0,deps:[y.K0]},{provide:Xe,useClass:Xe,deps:[nt,je,g.AFp]},{provide:g.FYo,useExisting:Xe},{provide:rt,useExisting:je},{provide:je,useClass:je,deps:[y.K0]},{provide:nt,useClass:nt,deps:[ot,g.R0b]},{provide:y.JF,useClass:Et,deps:[]},[]];let gr=(()=>{class Ie{constructor(ae){}static withServerTransition(ae){return{ngModule:Ie,providers:[{provide:g.AFp,useValue:ae.appId},{provide:Qe,useExisting:g.AFp},ge]}}}return Ie.\u0275fac=function(ae){return new(ae||Ie)(g.LFG(Nn,12))},Ie.\u0275mod=g.oAB({type:Ie}),Ie.\u0275inj=g.cJS({providers:[...qn,...xt],imports:[y.ez,g.hGG]}),Ie})(),mt=(()=>{class Ie{constructor(ae){this._doc=ae}getTitle(){return this._doc.title}setTitle(ae){this._doc.title=ae||""}}return Ie.\u0275fac=function(ae){return new(ae||Ie)(g.LFG(y.K0))},Ie.\u0275prov=g.Yz7({token:Ie,factory:function(ae){let qe=null;return qe=ae?new ae:function fr(){return new mt((0,g.LFG)(y.K0))}(),qe},providedIn:"root"}),Ie})();typeof window<"u"&&window;let Fr=(()=>{class Ie{}return Ie.\u0275fac=function(ae){return new(ae||Ie)},Ie.\u0275prov=g.Yz7({token:Ie,factory:function(ae){let qe=null;return qe=ae?new(ae||Ie):g.LFG(gi),qe},providedIn:"root"}),Ie})(),gi=(()=>{class Ie extends Fr{constructor(ae){super(),this._doc=ae}sanitize(ae,qe){if(null==qe)return null;switch(ae){case g.q3G.NONE:return qe;case g.q3G.HTML:return(0,g.qzn)(qe,"HTML")?(0,g.z3N)(qe):(0,g.EiD)(this._doc,String(qe)).toString();case g.q3G.STYLE:return(0,g.qzn)(qe,"Style")?(0,g.z3N)(qe):qe;case g.q3G.SCRIPT:if((0,g.qzn)(qe,"Script"))return(0,g.z3N)(qe);throw new Error("unsafe value used in a script context");case g.q3G.URL:return(0,g.qzn)(qe,"URL")?(0,g.z3N)(qe):(0,g.mCW)(String(qe));case g.q3G.RESOURCE_URL:if((0,g.qzn)(qe,"ResourceURL"))return(0,g.z3N)(qe);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${ae} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(ae){return(0,g.JVY)(ae)}bypassSecurityTrustStyle(ae){return(0,g.L6k)(ae)}bypassSecurityTrustScript(ae){return(0,g.eBb)(ae)}bypassSecurityTrustUrl(ae){return(0,g.LAX)(ae)}bypassSecurityTrustResourceUrl(ae){return(0,g.pB0)(ae)}}return Ie.\u0275fac=function(ae){return new(ae||Ie)(g.LFG(y.K0))},Ie.\u0275prov=g.Yz7({token:Ie,factory:function(ae){let qe=null;return qe=ae?new ae:function Ii(Ie){return new gi(Ie.get(y.K0))}(g.LFG(g.zs3)),qe},providedIn:"root"}),Ie})()},1779:(ft,Ue,k)=>{k.d(Ue,{gz:()=>Vi,F0:()=>fn,rH:()=>ut,Od:()=>yi,yS:()=>Pt,Bz:()=>za,lC:()=>Ms});var y=k(4650),g=k(8996),Y=k(9646),me=k(1135),Se=k(6805),ke=k(9841),Be=k(7272),Fe=k(9751),Qe=k(8421);function he(w){return new Fe.y(O=>{(0,Qe.Xf)(w()).subscribe(O)})}var ge=k(9635),Pe=k(2843),Et=k(515),ot=k(727),nt=k(4482),Nt=k(5403);function rt(){return(0,nt.e)((w,O)=>{let T=null;w._refCount++;const F=(0,Nt.x)(O,void 0,void 0,void 0,()=>{if(!w||w._refCount<=0||0<--w._refCount)return void(T=null);const W=w._connection,J=T;T=null,W&&(!J||W===J)&&W.unsubscribe(),O.unsubscribe()});w.subscribe(F),F.closed||(T=w.connect())})}class je extends Fe.y{constructor(O,T){super(),this.source=O,this.subjectFactory=T,this._subject=null,this._refCount=0,this._connection=null,(0,nt.A)(O)&&(this.lift=O.lift)}_subscribe(O){return this.getSubject().subscribe(O)}getSubject(){const O=this._subject;return(!O||O.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:O}=this;this._subject=this._connection=null,O?.unsubscribe()}connect(){let O=this._connection;if(!O){O=this._connection=new ot.w0;const T=this.getSubject();O.add(this.source.subscribe((0,Nt.x)(T,void 0,()=>{this._teardown(),T.complete()},F=>{this._teardown(),T.error(F)},()=>this._teardown()))),O.closed&&(this._connection=null,O=ot.w0.EMPTY)}return O}refCount(){return rt()(this)}}var Re=k(7579),Ht=k(6895),Le=k(4004),Me=k(3900),$e=k(5698),It=k(8675),Tt=k(9300),oe=k(5577),Je=k(590),de=k(4351),fe=k(8505),ze=k(262),Xe=k(5026);function At(w){return w<=0?()=>Et.E:(0,nt.e)((O,T)=>{let F=[];O.subscribe((0,Nt.x)(T,W=>{F.push(W),w<F.length&&F.shift()},()=>{for(const W of F)T.next(W);T.complete()},void 0,()=>{F=null}))})}var Ft=k(8068),Gt=k(6590),ln=k(4671);function on(w,O){const T=arguments.length>=2;return F=>F.pipe(w?(0,Tt.h)((W,J)=>w(W,J,F)):ln.y,At(1),T?(0,Gt.d)(O):(0,Ft.T)(()=>new Se.K))}var En=k(9718),pn=k(8746),it=k(8189),gt=k(1481);const Te="primary",Ge=Symbol("RouteTitle");class Ut{constructor(O){this.params=O||{}}has(O){return Object.prototype.hasOwnProperty.call(this.params,O)}get(O){if(this.has(O)){const T=this.params[O];return Array.isArray(T)?T[0]:T}return null}getAll(O){if(this.has(O)){const T=this.params[O];return Array.isArray(T)?T:[T]}return[]}get keys(){return Object.keys(this.params)}}function Cn(w){return new Ut(w)}function tr(w,O,T){const F=T.path.split("/");if(F.length>w.length||"full"===T.pathMatch&&(O.hasChildren()||F.length<w.length))return null;const W={};for(let J=0;J<F.length;J++){const ce=F[J],we=w[J];if(ce.startsWith(":"))W[ce.substring(1)]=we;else if(ce!==we.path)return null}return{consumed:w.slice(0,F.length),posParams:W}}function Hn(w,O){const T=w?Object.keys(w):void 0,F=O?Object.keys(O):void 0;if(!T||!F||T.length!=F.length)return!1;let W;for(let J=0;J<T.length;J++)if(W=T[J],!Zn(w[W],O[W]))return!1;return!0}function Zn(w,O){if(Array.isArray(w)&&Array.isArray(O)){if(w.length!==O.length)return!1;const T=[...w].sort(),F=[...O].sort();return T.every((W,J)=>F[J]===W)}return w===O}function Dn(w){return Array.prototype.concat.apply([],w)}function kn(w){return w.length>0?w[w.length-1]:null}function Nn(w,O){for(const T in w)w.hasOwnProperty(T)&&O(w[T],T)}function xt(w){return(0,y.CqO)(w)?w:(0,y.QGY)(w)?(0,g.D)(Promise.resolve(w)):(0,Y.of)(w)}const Er={exact:function mt(w,O,T){if(!Un(w.segments,O.segments)||!yt(w.segments,O.segments,T)||w.numberOfChildren!==O.numberOfChildren)return!1;for(const F in O.children)if(!w.children[F]||!mt(w.children[F],O.children[F],T))return!1;return!0},subset:ye},Yr={exact:function fr(w,O){return Hn(w,O)},subset:function xe(w,O){return Object.keys(O).length<=Object.keys(w).length&&Object.keys(O).every(T=>Zn(w[T],O[T]))},ignored:()=>!0};function Hr(w,O,T){return Er[T.paths](w.root,O.root,T.matrixParams)&&Yr[T.queryParams](w.queryParams,O.queryParams)&&!("exact"===T.fragment&&w.fragment!==O.fragment)}function ye(w,O,T){return lt(w,O,O.segments,T)}function lt(w,O,T,F){if(w.segments.length>T.length){const W=w.segments.slice(0,T.length);return!(!Un(W,T)||O.hasChildren()||!yt(W,T,F))}if(w.segments.length===T.length){if(!Un(w.segments,T)||!yt(w.segments,T,F))return!1;for(const W in O.children)if(!w.children[W]||!ye(w.children[W],O.children[W],F))return!1;return!0}{const W=T.slice(0,w.segments.length),J=T.slice(w.segments.length);return!!(Un(w.segments,W)&&yt(w.segments,W,F)&&w.children[Te])&&lt(w.children[Te],O,J,F)}}function yt(w,O,T){return O.every((F,W)=>Yr[T](w[W].parameters,F.parameters))}class en{constructor(O,T,F){this.root=O,this.queryParams=T,this.fragment=F}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Cn(this.queryParams)),this._queryParamMap}toString(){return Ae.serialize(this)}}class Vt{constructor(O,T){this.segments=O,this.children=T,this.parent=null,Nn(T,(F,W)=>F.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ve(this)}}class An{constructor(O,T){this.path=O,this.parameters=T}get parameterMap(){return this._parameterMap||(this._parameterMap=Cn(this.parameters)),this._parameterMap}toString(){return or(this)}}function Un(w,O){return w.length===O.length&&w.every((T,F)=>T.path===O[F].path)}let zr=(()=>{class w{}return w.\u0275fac=function(T){return new(T||w)},w.\u0275prov=y.Yz7({token:w,factory:function(){return new Mn},providedIn:"root"}),w})();class Mn{parse(O){const T=new Ie(O);return new en(T.parseRootSegment(),T.parseQueryParams(),T.parseFragment())}serialize(O){const T=`/${_e(O.root,!0)}`,F=function Fn(w){const O=Object.keys(w).map(T=>{const F=w[T];return Array.isArray(F)?F.map(W=>`${be(T)}=${be(W)}`).join("&"):`${be(T)}=${be(F)}`}).filter(T=>!!T);return O.length?`?${O.join("&")}`:""}(O.queryParams);return`${T}${F}${"string"==typeof O.fragment?`#${function Ct(w){return encodeURI(w)}(O.fragment)}`:""}`}}const Ae=new Mn;function ve(w){return w.segments.map(O=>or(O)).join("/")}function _e(w,O){if(!w.hasChildren())return ve(w);if(O){const T=w.children[Te]?_e(w.children[Te],!1):"",F=[];return Nn(w.children,(W,J)=>{J!==Te&&F.push(`${J}:${_e(W,!1)}`)}),F.length>0?`${T}(${F.join("//")})`:T}{const T=function jn(w,O){let T=[];return Nn(w.children,(F,W)=>{W===Te&&(T=T.concat(O(F,W)))}),Nn(w.children,(F,W)=>{W!==Te&&(T=T.concat(O(F,W)))}),T}(w,(F,W)=>W===Te?[_e(w.children[Te],!1)]:[`${W}:${_e(F,!1)}`]);return 1===Object.keys(w.children).length&&null!=w.children[Te]?`${ve(w)}/${T[0]}`:`${ve(w)}/(${T.join("//")})`}}function Oe(w){return encodeURIComponent(w).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function be(w){return Oe(w).replace(/%3B/gi,";")}function jt(w){return Oe(w).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function tn(w){return decodeURIComponent(w)}function cr(w){return tn(w.replace(/\+/g,"%20"))}function or(w){return`${jt(w.path)}${function Nr(w){return Object.keys(w).map(O=>`;${jt(O)}=${jt(w[O])}`).join("")}(w.parameters)}`}const Ln=/^[^\/()?;=#]+/;function mr(w){const O=w.match(Ln);return O?O[0]:""}const Fr=/^[^=?&#]+/,gi=/^[^&#]+/;class Ie{constructor(O){this.url=O,this.remaining=O}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Vt([],{}):new Vt([],this.parseChildren())}parseQueryParams(){const O={};if(this.consumeOptional("?"))do{this.parseQueryParam(O)}while(this.consumeOptional("&"));return O}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const O=[];for(this.peekStartsWith("(")||O.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),O.push(this.parseSegment());let T={};this.peekStartsWith("/(")&&(this.capture("/"),T=this.parseParens(!0));let F={};return this.peekStartsWith("(")&&(F=this.parseParens(!1)),(O.length>0||Object.keys(T).length>0)&&(F[Te]=new Vt(O,T)),F}parseSegment(){const O=mr(this.remaining);if(""===O&&this.peekStartsWith(";"))throw new y.vHH(4009,!1);return this.capture(O),new An(tn(O),this.parseMatrixParams())}parseMatrixParams(){const O={};for(;this.consumeOptional(";");)this.parseParam(O);return O}parseParam(O){const T=mr(this.remaining);if(!T)return;this.capture(T);let F="";if(this.consumeOptional("=")){const W=mr(this.remaining);W&&(F=W,this.capture(F))}O[tn(T)]=tn(F)}parseQueryParam(O){const T=function Ii(w){const O=w.match(Fr);return O?O[0]:""}(this.remaining);if(!T)return;this.capture(T);let F="";if(this.consumeOptional("=")){const ce=function Br(w){const O=w.match(gi);return O?O[0]:""}(this.remaining);ce&&(F=ce,this.capture(F))}const W=cr(T),J=cr(F);if(O.hasOwnProperty(W)){let ce=O[W];Array.isArray(ce)||(ce=[ce],O[W]=ce),ce.push(J)}else O[W]=J}parseParens(O){const T={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const F=mr(this.remaining),W=this.remaining[F.length];if("/"!==W&&")"!==W&&";"!==W)throw new y.vHH(4010,!1);let J;F.indexOf(":")>-1?(J=F.slice(0,F.indexOf(":")),this.capture(J),this.capture(":")):O&&(J=Te);const ce=this.parseChildren();T[J]=1===Object.keys(ce).length?ce[Te]:new Vt([],ce),this.consumeOptional("//")}return T}peekStartsWith(O){return this.remaining.startsWith(O)}consumeOptional(O){return!!this.peekStartsWith(O)&&(this.remaining=this.remaining.substring(O.length),!0)}capture(O){if(!this.consumeOptional(O))throw new y.vHH(4011,!1)}}function Ee(w){return w.segments.length>0?new Vt([],{[Te]:w}):w}function ae(w){const O={};for(const F of Object.keys(w.children)){const J=ae(w.children[F]);(J.segments.length>0||J.hasChildren())&&(O[F]=J)}return function qe(w){if(1===w.numberOfChildren&&w.children[Te]){const O=w.children[Te];return new Vt(w.segments.concat(O.segments),O.children)}return w}(new Vt(w.segments,O))}function bt(w){return w instanceof en}function wr(w,O,T,F,W){if(0===T.length)return Mi(O.root,O.root,O.root,F,W);const J=function Qr(w){if("string"==typeof w[0]&&1===w.length&&"/"===w[0])return new Bi(!0,0,w);let O=0,T=!1;const F=w.reduce((W,J,ce)=>{if("object"==typeof J&&null!=J){if(J.outlets){const we={};return Nn(J.outlets,(dt,Qt)=>{we[Qt]="string"==typeof dt?dt.split("/"):dt}),[...W,{outlets:we}]}if(J.segmentPath)return[...W,J.segmentPath]}return"string"!=typeof J?[...W,J]:0===ce?(J.split("/").forEach((we,dt)=>{0==dt&&"."===we||(0==dt&&""===we?T=!0:".."===we?O++:""!=we&&W.push(we))}),W):[...W,J]},[]);return new Bi(T,O,F)}(T);return J.toRoot()?Mi(O.root,O.root,new Vt([],{}),F,W):function ce(dt){const Qt=function mi(w,O,T,F){if(w.isAbsolute)return new Pi(O.root,!0,0);if(-1===F)return new Pi(T,T===O.root,0);return function jr(w,O,T){let F=w,W=O,J=T;for(;J>W;){if(J-=W,F=F.parent,!F)throw new y.vHH(4005,!1);W=F.segments.length}return new Pi(F,!1,W-J)}(T,F+(hn(w.commands[0])?0:1),w.numberOfDoubleDots)}(J,O,w.snapshot?._urlSegment,dt),Yn=Qt.processChildren?Ns(Qt.segmentGroup,Qt.index,J.commands):_r(Qt.segmentGroup,Qt.index,J.commands);return Mi(O.root,Qt.segmentGroup,Yn,F,W)}(w.snapshot?._lastPathIndex)}function hn(w){return"object"==typeof w&&null!=w&&!w.outlets&&!w.segmentPath}function dr(w){return"object"==typeof w&&null!=w&&w.outlets}function Mi(w,O,T,F,W){let ce,J={};F&&Nn(F,(dt,Qt)=>{J[Qt]=Array.isArray(dt)?dt.map(Yn=>`${Yn}`):`${dt}`}),ce=w===O?T:Io(w,O,T);const we=Ee(ae(ce));return new en(we,J,W)}function Io(w,O,T){const F={};return Nn(w.children,(W,J)=>{F[J]=W===O?T:Io(W,O,T)}),new Vt(w.segments,F)}class Bi{constructor(O,T,F){if(this.isAbsolute=O,this.numberOfDoubleDots=T,this.commands=F,O&&F.length>0&&hn(F[0]))throw new y.vHH(4003,!1);const W=F.find(dr);if(W&&W!==kn(F))throw new y.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Pi{constructor(O,T,F){this.segmentGroup=O,this.processChildren=T,this.index=F}}function _r(w,O,T){if(w||(w=new Vt([],{})),0===w.segments.length&&w.hasChildren())return Ns(w,O,T);const F=function Fs(w,O,T){let F=0,W=O;const J={match:!1,pathIndex:0,commandIndex:0};for(;W<w.segments.length;){if(F>=T.length)return J;const ce=w.segments[W],we=T[F];if(dr(we))break;const dt=`${we}`,Qt=F<T.length-1?T[F+1]:null;if(W>0&&void 0===dt)break;if(dt&&Qt&&"object"==typeof Qt&&void 0===Qt.outlets){if(!Ki(dt,Qt,ce))return J;F+=2}else{if(!Ki(dt,{},ce))return J;F++}W++}return{match:!0,pathIndex:W,commandIndex:F}}(w,O,T),W=T.slice(F.commandIndex);if(F.match&&F.pathIndex<w.segments.length){const J=new Vt(w.segments.slice(0,F.pathIndex),{});return J.children[Te]=new Vt(w.segments.slice(F.pathIndex),w.children),Ns(J,0,W)}return F.match&&0===W.length?new Vt(w.segments,{}):F.match&&!w.hasChildren()?Ti(w,O,T):F.match?Ns(w,0,W):Ti(w,O,T)}function Ns(w,O,T){if(0===T.length)return new Vt(w.segments,{});{const F=function co(w){return dr(w[0])?w[0].outlets:{[Te]:w}}(T),W={};return Nn(F,(J,ce)=>{"string"==typeof J&&(J=[J]),null!==J&&(W[ce]=_r(w.children[ce],O,J))}),Nn(w.children,(J,ce)=>{void 0===F[ce]&&(W[ce]=J)}),new Vt(w.segments,W)}}function Ti(w,O,T){const F=w.segments.slice(0,O);let W=0;for(;W<T.length;){const J=T[W];if(dr(J)){const dt=Es(J.outlets);return new Vt(F,dt)}if(0===W&&hn(T[0])){F.push(new An(w.segments[O].path,Ui(T[0]))),W++;continue}const ce=dr(J)?J.outlets[Te]:`${J}`,we=W<T.length-1?T[W+1]:null;ce&&we&&hn(we)?(F.push(new An(ce,Ui(we))),W+=2):(F.push(new An(ce,{})),W++)}return new Vt(F,{})}function Es(w){const O={};return Nn(w,(T,F)=>{"string"==typeof T&&(T=[T]),null!==T&&(O[F]=Ti(new Vt([],{}),0,T))}),O}function Ui(w){const O={};return Nn(w,(T,F)=>O[F]=`${T}`),O}function Ki(w,O,T){return w==T.path&&Hn(O,T.parameters)}class bi{constructor(O,T){this.id=O,this.url=T}}class Pr extends bi{constructor(O,T,F="imperative",W=null){super(O,T),this.type=0,this.navigationTrigger=F,this.restoredState=W}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class hs extends bi{constructor(O,T,F){super(O,T),this.urlAfterRedirects=F,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class ii extends bi{constructor(O,T,F,W){super(O,T),this.reason=F,this.code=W,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Ri extends bi{constructor(O,T,F,W){super(O,T),this.error=F,this.target=W,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class eo extends bi{constructor(O,T,F,W){super(O,T),this.urlAfterRedirects=F,this.state=W,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Mo extends bi{constructor(O,T,F,W){super(O,T),this.urlAfterRedirects=F,this.state=W,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ea extends bi{constructor(O,T,F,W,J){super(O,T),this.urlAfterRedirects=F,this.state=W,this.shouldActivate=J,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class si extends bi{constructor(O,T,F,W){super(O,T),this.urlAfterRedirects=F,this.state=W,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Fa extends bi{constructor(O,T,F,W){super(O,T),this.urlAfterRedirects=F,this.state=W,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ca{constructor(O){this.route=O,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Bs{constructor(O){this.route=O,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Wo{constructor(O){this.snapshot=O,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class To{constructor(O){this.snapshot=O,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class oi{constructor(O){this.snapshot=O,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ke{constructor(O){this.snapshot=O,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class We{constructor(O,T,F){this.routerEvent=O,this.position=T,this.anchor=F,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Mt{constructor(O){this._root=O}get root(){return this._root.value}parent(O){const T=this.pathFromRoot(O);return T.length>1?T[T.length-2]:null}children(O){const T=zt(O,this._root);return T?T.children.map(F=>F.value):[]}firstChild(O){const T=zt(O,this._root);return T&&T.children.length>0?T.children[0].value:null}siblings(O){const T=cn(O,this._root);return T.length<2?[]:T[T.length-2].children.map(W=>W.value).filter(W=>W!==O)}pathFromRoot(O){return cn(O,this._root).map(T=>T.value)}}function zt(w,O){if(w===O.value)return O;for(const T of O.children){const F=zt(w,T);if(F)return F}return null}function cn(w,O){if(w===O.value)return[O];for(const T of O.children){const F=cn(w,T);if(F.length)return F.unshift(O),F}return[]}class Tn{constructor(O,T){this.value=O,this.children=T}toString(){return`TreeNode(${this.value})`}}function Xr(w){const O={};return w&&w.children.forEach(T=>O[T.value.outlet]=T),O}class ur extends Mt{constructor(O,T){super(O),this.snapshot=T,ia(this,O)}toString(){return this.snapshot.toString()}}function $i(w,O){const T=function to(w,O){const ce=new uo([],{},{},"",{},Te,O,null,w.root,-1,{});return new Cs("",new Tn(ce,[]))}(w,O),F=new me.X([new An("",{})]),W=new me.X({}),J=new me.X({}),ce=new me.X({}),we=new me.X(""),dt=new Vi(F,W,ce,we,J,Te,O,T.root);return dt.snapshot=T.root,new ur(new Tn(dt,[]),T)}class Vi{constructor(O,T,F,W,J,ce,we,dt){this.url=O,this.params=T,this.queryParams=F,this.fragment=W,this.data=J,this.outlet=ce,this.component=we,this.title=this.data?.pipe((0,Le.U)(Qt=>Qt[Ge]))??(0,Y.of)(void 0),this._futureSnapshot=dt}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Le.U)(O=>Cn(O)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Le.U)(O=>Cn(O)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function zi(w,O="emptyOnly"){const T=w.pathFromRoot;let F=0;if("always"!==O)for(F=T.length-1;F>=1;){const W=T[F],J=T[F-1];if(W.routeConfig&&""===W.routeConfig.path)F--;else{if(J.component)break;F--}}return function ss(w){return w.reduce((O,T)=>({params:{...O.params,...T.params},data:{...O.data,...T.data},resolve:{...T.data,...O.resolve,...T.routeConfig?.data,...T._resolvedData}}),{params:{},data:{},resolve:{}})}(T.slice(F))}class uo{constructor(O,T,F,W,J,ce,we,dt,Qt,Yn,mn,Xn){this.url=O,this.params=T,this.queryParams=F,this.fragment=W,this.data=J,this.outlet=ce,this.component=we,this.title=this.data?.[Ge],this.routeConfig=dt,this._urlSegment=Qt,this._lastPathIndex=Yn,this._correctedLastPathIndex=Xn??Yn,this._resolve=mn}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Cn(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Cn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(F=>F.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Cs extends Mt{constructor(O,T){super(T),this.url=O,ia(this,T)}toString(){return Ds(this._root)}}function ia(w,O){O.value._routerState=w,O.children.forEach(T=>ia(w,T))}function Ds(w){const O=w.children.length>0?` { ${w.children.map(Ds).join(", ")} } `:"";return`${w.value}${O}`}function Gi(w){if(w.snapshot){const O=w.snapshot,T=w._futureSnapshot;w.snapshot=T,Hn(O.queryParams,T.queryParams)||w.queryParams.next(T.queryParams),O.fragment!==T.fragment&&w.fragment.next(T.fragment),Hn(O.params,T.params)||w.params.next(T.params),function lr(w,O){if(w.length!==O.length)return!1;for(let T=0;T<w.length;++T)if(!Hn(w[T],O[T]))return!1;return!0}(O.url,T.url)||w.url.next(T.url),Hn(O.data,T.data)||w.data.next(T.data)}else w.snapshot=w._futureSnapshot,w.data.next(w._futureSnapshot.data)}function Zi(w,O){const T=Hn(w.params,O.params)&&function Zt(w,O){return Un(w,O)&&w.every((T,F)=>Hn(T.parameters,O[F].parameters))}(w.url,O.url);return T&&!(!w.parent!=!O.parent)&&(!w.parent||Zi(w.parent,O.parent))}function Vs(w,O,T){if(T&&w.shouldReuseRoute(O.value,T.value.snapshot)){const F=T.value;F._futureSnapshot=O.value;const W=function ho(w,O,T){return O.children.map(F=>{for(const W of T.children)if(w.shouldReuseRoute(F.value,W.value.snapshot))return Vs(w,F,W);return Vs(w,F)})}(w,O,T);return new Tn(F,W)}{if(w.shouldAttach(O.value)){const J=w.retrieve(O.value);if(null!==J){const ce=J.route;return ce.value._futureSnapshot=O.value,ce.children=O.children.map(we=>Vs(w,we)),ce}}const F=function sa(w){return new Vi(new me.X(w.url),new me.X(w.params),new me.X(w.queryParams),new me.X(w.fragment),new me.X(w.data),w.outlet,w.component,w)}(O.value),W=O.children.map(J=>Vs(w,J));return new Tn(F,W)}}const Ba="ngNavigationCancelingError";function ws(w,O){const{redirectTo:T,navigationBehaviorOptions:F}=bt(O)?{redirectTo:O,navigationBehaviorOptions:void 0}:O,W=Is(!1,0,O);return W.url=T,W.navigationBehaviorOptions=F,W}function Is(w,O,T){const F=new Error("NavigationCancelingError: "+(w||""));return F[Ba]=!0,F.cancellationCode=O,T&&(F.url=T),F}function Hi(w){return _i(w)&&bt(w.url)}function _i(w){return w&&w[Ba]}class os{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Hs,this.attachRef=null}}let Hs=(()=>{class w{constructor(){this.contexts=new Map}onChildOutletCreated(T,F){const W=this.getOrCreateContext(T);W.outlet=F,this.contexts.set(T,W)}onChildOutletDestroyed(T){const F=this.getContext(T);F&&(F.outlet=null,F.attachRef=null)}onOutletDeactivated(){const T=this.contexts;return this.contexts=new Map,T}onOutletReAttached(T){this.contexts=T}getOrCreateContext(T){let F=this.getContext(T);return F||(F=new os,this.contexts.set(T,F)),F}getContext(T){return this.contexts.get(T)||null}}return w.\u0275fac=function(T){return new(T||w)},w.\u0275prov=y.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w})();const Ei=!1;let Ms=(()=>{class w{constructor(T,F,W,J,ce){this.parentContexts=T,this.location=F,this.changeDetector=J,this.environmentInjector=ce,this.activated=null,this._activatedRoute=null,this.activateEvents=new y.vpe,this.deactivateEvents=new y.vpe,this.attachEvents=new y.vpe,this.detachEvents=new y.vpe,this.name=W||Te,T.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const T=this.parentContexts.getContext(this.name);T&&T.route&&(T.attachRef?this.attach(T.attachRef,T.route):this.activateWith(T.route,T.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new y.vHH(4012,Ei);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new y.vHH(4012,Ei);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new y.vHH(4012,Ei);this.location.detach();const T=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(T.instance),T}attach(T,F){this.activated=T,this._activatedRoute=F,this.location.insert(T.hostView),this.attachEvents.emit(T.instance)}deactivate(){if(this.activated){const T=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(T)}}activateWith(T,F){if(this.isActivated)throw new y.vHH(4013,Ei);this._activatedRoute=T;const W=this.location,ce=T._futureSnapshot.component,we=this.parentContexts.getOrCreateContext(this.name).children,dt=new Ko(T,we,W.injector);if(F&&function Gr(w){return!!w.resolveComponentFactory}(F)){const Qt=F.resolveComponentFactory(ce);this.activated=W.createComponent(Qt,W.length,dt)}else this.activated=W.createComponent(ce,{index:W.length,injector:dt,environmentInjector:F??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return w.\u0275fac=function(T){return new(T||w)(y.Y36(Hs),y.Y36(y.s_b),y.$8M("name"),y.Y36(y.sBO),y.Y36(y.lqb))},w.\u0275dir=y.lG2({type:w,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),w})();class Ko{constructor(O,T,F){this.route=O,this.childContexts=T,this.parent=F}get(O,T){return O===Vi?this.route:O===Hs?this.childContexts:this.parent.get(O,T)}}let fs=(()=>{class w{}return w.\u0275fac=function(T){return new(T||w)},w.\u0275cmp=y.Xpm({type:w,selectors:[["ng-component"]],standalone:!0,features:[y.jDz],decls:1,vars:0,template:function(T,F){1&T&&y._UZ(0,"router-outlet")},dependencies:[Ms],encapsulation:2}),w})();function Da(w,O){return w.providers&&!w._injector&&(w._injector=(0,y.MMx)(w.providers,O,`Route: ${w.path}`)),w._injector??O}function ro(w){const O=w.children&&w.children.map(ro),T=O?{...w,children:O}:{...w};return!T.component&&!T.loadComponent&&(O||T.loadChildren)&&T.outlet&&T.outlet!==Te&&(T.component=fs),T}function Jr(w){return w.outlet||Te}function oa(w,O){const T=w.filter(F=>Jr(F)===O);return T.push(...w.filter(F=>Jr(F)!==O)),T}function vr(w){if(!w)return null;if(w.routeConfig?._injector)return w.routeConfig._injector;for(let O=w.parent;O;O=O.parent){const T=O.routeConfig;if(T?._loadedInjector)return T._loadedInjector;if(T?._injector)return T._injector}return null}class Ua{constructor(O,T,F,W){this.routeReuseStrategy=O,this.futureState=T,this.currState=F,this.forwardEvent=W}activate(O){const T=this.futureState._root,F=this.currState?this.currState._root:null;this.deactivateChildRoutes(T,F,O),Gi(this.futureState.root),this.activateChildRoutes(T,F,O)}deactivateChildRoutes(O,T,F){const W=Xr(T);O.children.forEach(J=>{const ce=J.value.outlet;this.deactivateRoutes(J,W[ce],F),delete W[ce]}),Nn(W,(J,ce)=>{this.deactivateRouteAndItsChildren(J,F)})}deactivateRoutes(O,T,F){const W=O.value,J=T?T.value:null;if(W===J)if(W.component){const ce=F.getContext(W.outlet);ce&&this.deactivateChildRoutes(O,T,ce.children)}else this.deactivateChildRoutes(O,T,F);else J&&this.deactivateRouteAndItsChildren(T,F)}deactivateRouteAndItsChildren(O,T){O.value.component&&this.routeReuseStrategy.shouldDetach(O.value.snapshot)?this.detachAndStoreRouteSubtree(O,T):this.deactivateRouteAndOutlet(O,T)}detachAndStoreRouteSubtree(O,T){const F=T.getContext(O.value.outlet),W=F&&O.value.component?F.children:T,J=Xr(O);for(const ce of Object.keys(J))this.deactivateRouteAndItsChildren(J[ce],W);if(F&&F.outlet){const ce=F.outlet.detach(),we=F.children.onOutletDeactivated();this.routeReuseStrategy.store(O.value.snapshot,{componentRef:ce,route:O,contexts:we})}}deactivateRouteAndOutlet(O,T){const F=T.getContext(O.value.outlet),W=F&&O.value.component?F.children:T,J=Xr(O);for(const ce of Object.keys(J))this.deactivateRouteAndItsChildren(J[ce],W);F&&F.outlet&&(F.outlet.deactivate(),F.children.onOutletDeactivated(),F.attachRef=null,F.resolver=null,F.route=null)}activateChildRoutes(O,T,F){const W=Xr(T);O.children.forEach(J=>{this.activateRoutes(J,W[J.value.outlet],F),this.forwardEvent(new Ke(J.value.snapshot))}),O.children.length&&this.forwardEvent(new To(O.value.snapshot))}activateRoutes(O,T,F){const W=O.value,J=T?T.value:null;if(Gi(W),W===J)if(W.component){const ce=F.getOrCreateContext(W.outlet);this.activateChildRoutes(O,T,ce.children)}else this.activateChildRoutes(O,T,F);else if(W.component){const ce=F.getOrCreateContext(W.outlet);if(this.routeReuseStrategy.shouldAttach(W.snapshot)){const we=this.routeReuseStrategy.retrieve(W.snapshot);this.routeReuseStrategy.store(W.snapshot,null),ce.children.onOutletReAttached(we.contexts),ce.attachRef=we.componentRef,ce.route=we.route.value,ce.outlet&&ce.outlet.attach(we.componentRef,we.route.value),Gi(we.route.value),this.activateChildRoutes(O,null,ce.children)}else{const we=vr(W.snapshot),dt=we?.get(y._Vd)??null;ce.attachRef=null,ce.route=W,ce.resolver=dt,ce.injector=we,ce.outlet&&ce.outlet.activateWith(W,ce.injector),this.activateChildRoutes(O,null,ce.children)}}else this.activateChildRoutes(O,null,F)}}class nl{constructor(O){this.path=O,this.route=this.path[this.path.length-1]}}class Ao{constructor(O,T){this.component=O,this.route=T}}function wa(w,O,T){const F=w._root;return Yi(F,O?O._root:null,T,[F.value])}function Ai(w,O){const T=Symbol(),F=O.get(w,T);return F===T?"function"!=typeof w||(0,y.Z0I)(w)?O.get(w):w:F}function Yi(w,O,T,F,W={canDeactivateChecks:[],canActivateChecks:[]}){const J=Xr(O);return w.children.forEach(ce=>{(function Qi(w,O,T,F,W={canDeactivateChecks:[],canActivateChecks:[]}){const J=w.value,ce=O?O.value:null,we=T?T.getContext(w.value.outlet):null;if(ce&&J.routeConfig===ce.routeConfig){const dt=function St(w,O,T){if("function"==typeof T)return T(w,O);switch(T){case"pathParamsChange":return!Un(w.url,O.url);case"pathParamsOrQueryParamsChange":return!Un(w.url,O.url)||!Hn(w.queryParams,O.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Zi(w,O)||!Hn(w.queryParams,O.queryParams);default:return!Zi(w,O)}}(ce,J,J.routeConfig.runGuardsAndResolvers);dt?W.canActivateChecks.push(new nl(F)):(J.data=ce.data,J._resolvedData=ce._resolvedData),Yi(w,O,J.component?we?we.children:null:T,F,W),dt&&we&&we.outlet&&we.outlet.isActivated&&W.canDeactivateChecks.push(new Ao(we.outlet.component,ce))}else ce&&$n(O,we,W),W.canActivateChecks.push(new nl(F)),Yi(w,null,J.component?we?we.children:null:T,F,W)})(ce,J[ce.value.outlet],T,F.concat([ce.value]),W),delete J[ce.value.outlet]}),Nn(J,(ce,we)=>$n(ce,T.getContext(we),W)),W}function $n(w,O,T){const F=Xr(w),W=w.value;Nn(F,(J,ce)=>{$n(J,W.component?O?O.children.getContext(ce):null:O,T)}),T.canDeactivateChecks.push(new Ao(W.component&&O&&O.outlet&&O.outlet.isActivated?O.outlet.component:null,W))}function As(w){return"function"==typeof w}function ei(w){return w instanceof Se.K||"EmptyError"===w?.name}const ps=Symbol("INITIAL_VALUE");function ki(){return(0,Me.w)(w=>(0,ke.a)(w.map(O=>O.pipe((0,$e.q)(1),(0,It.O)(ps)))).pipe((0,Le.U)(O=>{for(const T of O)if(!0!==T){if(T===ps)return ps;if(!1===T||T instanceof en)return T}return!0}),(0,Tt.h)(O=>O!==ps),(0,$e.q)(1)))}function po(w){return(0,ge.z)((0,fe.b)(O=>{if(bt(O))throw ws(0,O)}),(0,Le.U)(O=>!0===O))}const Ia={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Wr(w,O,T,F,W){const J=Ma(w,O,T);return J.matched?function go(w,O,T,F){const W=O.canMatch;if(!W||0===W.length)return(0,Y.of)(!0);const J=W.map(ce=>{const we=Ai(ce,w);return xt(function ie(w){return w&&As(w.canMatch)}(we)?we.canMatch(O,T):w.runInContext(()=>we(O,T)))});return(0,Y.of)(J).pipe(ki(),po())}(F=Da(O,F),O,T).pipe((0,Le.U)(ce=>!0===ce?J:{...Ia})):(0,Y.of)(J)}function Ma(w,O,T){if(""===O.path)return"full"===O.pathMatch&&(w.hasChildren()||T.length>0)?{...Ia}:{matched:!0,consumedSegments:[],remainingSegments:T,parameters:{},positionalParamSegments:{}};const W=(O.matcher||tr)(T,w,O);if(!W)return{...Ia};const J={};Nn(W.posParams,(we,dt)=>{J[dt]=we.path});const ce=W.consumed.length>0?{...J,...W.consumed[W.consumed.length-1].parameters}:J;return{matched:!0,consumedSegments:W.consumed,remainingSegments:T.slice(W.consumed.length),parameters:ce,positionalParamSegments:W.posParams??{}}}function So(w,O,T,F,W="corrected"){if(T.length>0&&function ja(w,O,T){return T.some(F=>N(w,O,F)&&Jr(F)!==Te)}(w,T,F)){const ce=new Vt(O,function Ol(w,O,T,F){const W={};W[Te]=F,F._sourceSegment=w,F._segmentIndexShift=O.length;for(const J of T)if(""===J.path&&Jr(J)!==Te){const ce=new Vt([],{});ce._sourceSegment=w,ce._segmentIndexShift=O.length,W[Jr(J)]=ce}return W}(w,O,F,new Vt(T,w.children)));return ce._sourceSegment=w,ce._segmentIndexShift=O.length,{segmentGroup:ce,slicedSegments:[]}}if(0===T.length&&function ol(w,O,T){return T.some(F=>N(w,O,F))}(w,T,F)){const ce=new Vt(w.segments,function sl(w,O,T,F,W,J){const ce={};for(const we of F)if(N(w,T,we)&&!W[Jr(we)]){const dt=new Vt([],{});dt._sourceSegment=w,dt._segmentIndexShift="legacy"===J?w.segments.length:O.length,ce[Jr(we)]=dt}return{...W,...ce}}(w,O,T,F,w.children,W));return ce._sourceSegment=w,ce._segmentIndexShift=O.length,{segmentGroup:ce,slicedSegments:T}}const J=new Vt(w.segments,w.children);return J._sourceSegment=w,J._segmentIndexShift=O.length,{segmentGroup:J,slicedSegments:T}}function N(w,O,T){return(!(w.hasChildren()||O.length>0)||"full"!==T.pathMatch)&&""===T.path}function Q(w,O,T,F){return!!(Jr(w)===F||F!==Te&&N(O,T,w))&&("**"===w.path||Ma(O,w,T).matched)}function V(w,O,T){return 0===O.length&&!w.children[T]}const te=!1;class De{constructor(O){this.segmentGroup=O||null}}class at{constructor(O){this.urlTree=O}}function _t(w){return(0,Pe._)(new De(w))}function un(w){return(0,Pe._)(new at(w))}class rr{constructor(O,T,F,W,J){this.injector=O,this.configLoader=T,this.urlSerializer=F,this.urlTree=W,this.config=J,this.allowRedirects=!0}apply(){const O=So(this.urlTree.root,[],[],this.config).segmentGroup,T=new Vt(O.segments,O.children);return this.expandSegmentGroup(this.injector,this.config,T,Te).pipe((0,Le.U)(J=>this.createUrlTree(ae(J),this.urlTree.queryParams,this.urlTree.fragment))).pipe((0,ze.K)(J=>{if(J instanceof at)return this.allowRedirects=!1,this.match(J.urlTree);throw J instanceof De?this.noMatchError(J):J}))}match(O){return this.expandSegmentGroup(this.injector,this.config,O.root,Te).pipe((0,Le.U)(W=>this.createUrlTree(ae(W),O.queryParams,O.fragment))).pipe((0,ze.K)(W=>{throw W instanceof De?this.noMatchError(W):W}))}noMatchError(O){return new y.vHH(4002,te)}createUrlTree(O,T,F){const W=Ee(O);return new en(W,T,F)}expandSegmentGroup(O,T,F,W){return 0===F.segments.length&&F.hasChildren()?this.expandChildren(O,T,F).pipe((0,Le.U)(J=>new Vt([],J))):this.expandSegment(O,F,T,F.segments,W,!0)}expandChildren(O,T,F){const W=[];for(const J of Object.keys(F.children))"primary"===J?W.unshift(J):W.push(J);return(0,g.D)(W).pipe((0,de.b)(J=>{const ce=F.children[J],we=oa(T,J);return this.expandSegmentGroup(O,we,ce,J).pipe((0,Le.U)(dt=>({segment:dt,outlet:J})))}),(0,Xe.R)((J,ce)=>(J[ce.outlet]=ce.segment,J),{}),on())}expandSegment(O,T,F,W,J,ce){return(0,g.D)(F).pipe((0,de.b)(we=>this.expandSegmentAgainstRoute(O,T,F,we,W,J,ce).pipe((0,ze.K)(Qt=>{if(Qt instanceof De)return(0,Y.of)(null);throw Qt}))),(0,Je.P)(we=>!!we),(0,ze.K)((we,dt)=>{if(ei(we))return V(T,W,J)?(0,Y.of)(new Vt([],{})):_t(T);throw we}))}expandSegmentAgainstRoute(O,T,F,W,J,ce,we){return Q(W,T,J,ce)?void 0===W.redirectTo?this.matchSegmentAgainstRoute(O,T,W,J,ce):we&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(O,T,F,W,J,ce):_t(T):_t(T)}expandSegmentAgainstRouteUsingRedirect(O,T,F,W,J,ce){return"**"===W.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(O,F,W,ce):this.expandRegularSegmentAgainstRouteUsingRedirect(O,T,F,W,J,ce)}expandWildCardWithParamsAgainstRouteUsingRedirect(O,T,F,W){const J=this.applyRedirectCommands([],F.redirectTo,{});return F.redirectTo.startsWith("/")?un(J):this.lineralizeSegments(F,J).pipe((0,oe.z)(ce=>{const we=new Vt(ce,{});return this.expandSegment(O,we,T,ce,W,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(O,T,F,W,J,ce){const{matched:we,consumedSegments:dt,remainingSegments:Qt,positionalParamSegments:Yn}=Ma(T,W,J);if(!we)return _t(T);const mn=this.applyRedirectCommands(dt,W.redirectTo,Yn);return W.redirectTo.startsWith("/")?un(mn):this.lineralizeSegments(W,mn).pipe((0,oe.z)(Xn=>this.expandSegment(O,T,F,Xn.concat(Qt),ce,!1)))}matchSegmentAgainstRoute(O,T,F,W,J){return"**"===F.path?(O=Da(F,O),F.loadChildren?(F._loadedRoutes?(0,Y.of)({routes:F._loadedRoutes,injector:F._loadedInjector}):this.configLoader.loadChildren(O,F)).pipe((0,Le.U)(we=>(F._loadedRoutes=we.routes,F._loadedInjector=we.injector,new Vt(W,{})))):(0,Y.of)(new Vt(W,{}))):Wr(T,F,W,O).pipe((0,Me.w)(({matched:ce,consumedSegments:we,remainingSegments:dt})=>ce?this.getChildConfig(O=F._injector??O,F,W).pipe((0,oe.z)(Yn=>{const mn=Yn.injector??O,Xn=Yn.routes,{segmentGroup:Wi,slicedSegments:Zs}=So(T,we,dt,Xn),ua=new Vt(Wi.segments,Wi.children);if(0===Zs.length&&ua.hasChildren())return this.expandChildren(mn,Xn,ua).pipe((0,Le.U)(xr=>new Vt(we,xr)));if(0===Xn.length&&0===Zs.length)return(0,Y.of)(new Vt(we,{}));const kr=Jr(F)===J;return this.expandSegment(mn,ua,Xn,Zs,kr?Te:J,!0).pipe((0,Le.U)(di=>new Vt(we.concat(di.segments),di.children)))})):_t(T)))}getChildConfig(O,T,F){return T.children?(0,Y.of)({routes:T.children,injector:O}):T.loadChildren?void 0!==T._loadedRoutes?(0,Y.of)({routes:T._loadedRoutes,injector:T._loadedInjector}):function Ha(w,O,T,F){const W=O.canLoad;if(void 0===W||0===W.length)return(0,Y.of)(!0);const J=W.map(ce=>{const we=Ai(ce,w);return xt(function Cr(w){return w&&As(w.canLoad)}(we)?we.canLoad(O,T):w.runInContext(()=>we(O,T)))});return(0,Y.of)(J).pipe(ki(),po())}(O,T,F).pipe((0,oe.z)(W=>W?this.configLoader.loadChildren(O,T).pipe((0,fe.b)(J=>{T._loadedRoutes=J.routes,T._loadedInjector=J.injector})):function Ir(w){return(0,Pe._)(Is(te,3))}())):(0,Y.of)({routes:[],injector:O})}lineralizeSegments(O,T){let F=[],W=T.root;for(;;){if(F=F.concat(W.segments),0===W.numberOfChildren)return(0,Y.of)(F);if(W.numberOfChildren>1||!W.children[Te])return(0,Pe._)(new y.vHH(4e3,te));W=W.children[Te]}}applyRedirectCommands(O,T,F){return this.applyRedirectCreateUrlTree(T,this.urlSerializer.parse(T),O,F)}applyRedirectCreateUrlTree(O,T,F,W){const J=this.createSegmentGroup(O,T.root,F,W);return new en(J,this.createQueryParams(T.queryParams,this.urlTree.queryParams),T.fragment)}createQueryParams(O,T){const F={};return Nn(O,(W,J)=>{if("string"==typeof W&&W.startsWith(":")){const we=W.substring(1);F[J]=T[we]}else F[J]=W}),F}createSegmentGroup(O,T,F,W){const J=this.createSegments(O,T.segments,F,W);let ce={};return Nn(T.children,(we,dt)=>{ce[dt]=this.createSegmentGroup(O,we,F,W)}),new Vt(J,ce)}createSegments(O,T,F,W){return T.map(J=>J.path.startsWith(":")?this.findPosParam(O,J,W):this.findOrReturn(J,F))}findPosParam(O,T,F){const W=F[T.path.substring(1)];if(!W)throw new y.vHH(4001,te);return W}findOrReturn(O,T){let F=0;for(const W of T){if(W.path===O.path)return T.splice(F),W;F++}return O}}class ti{}class ls{constructor(O,T,F,W,J,ce,we,dt){this.injector=O,this.rootComponentType=T,this.config=F,this.urlTree=W,this.url=J,this.paramsInheritanceStrategy=ce,this.relativeLinkResolution=we,this.urlSerializer=dt}recognize(){const O=So(this.urlTree.root,[],[],this.config.filter(T=>void 0===T.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,O,Te).pipe((0,Le.U)(T=>{if(null===T)return null;const F=new uo([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Te,this.rootComponentType,null,this.urlTree.root,-1,{}),W=new Tn(F,T),J=new Cs(this.url,W);return this.inheritParamsAndData(J._root),J}))}inheritParamsAndData(O){const T=O.value,F=zi(T,this.paramsInheritanceStrategy);T.params=Object.freeze(F.params),T.data=Object.freeze(F.data),O.children.forEach(W=>this.inheritParamsAndData(W))}processSegmentGroup(O,T,F,W){return 0===F.segments.length&&F.hasChildren()?this.processChildren(O,T,F):this.processSegment(O,T,F,F.segments,W)}processChildren(O,T,F){return(0,g.D)(Object.keys(F.children)).pipe((0,de.b)(W=>{const J=F.children[W],ce=oa(T,W);return this.processSegmentGroup(O,ce,J,W)}),(0,Xe.R)((W,J)=>W&&J?(W.push(...J),W):null),function Dt(w,O=!1){return(0,nt.e)((T,F)=>{let W=0;T.subscribe((0,Nt.x)(F,J=>{const ce=w(J,W++);(ce||O)&&F.next(J),!ce&&F.complete()}))})}(W=>null!==W),(0,Gt.d)(null),on(),(0,Le.U)(W=>{if(null===W)return null;const J=$s(W);return function mo(w){w.sort((O,T)=>O.value.outlet===Te?-1:T.value.outlet===Te?1:O.value.outlet.localeCompare(T.value.outlet))}(J),J}))}processSegment(O,T,F,W,J){return(0,g.D)(T).pipe((0,de.b)(ce=>this.processSegmentAgainstRoute(ce._injector??O,ce,F,W,J)),(0,Je.P)(ce=>!!ce),(0,ze.K)(ce=>{if(ei(ce))return V(F,W,J)?(0,Y.of)([]):(0,Y.of)(null);throw ce}))}processSegmentAgainstRoute(O,T,F,W,J){if(T.redirectTo||!Q(T,F,W,J))return(0,Y.of)(null);let ce;if("**"===T.path){const we=W.length>0?kn(W).parameters:{},dt=Wa(F)+W.length,Qt=new uo(W,we,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Ta(T),Jr(T),T.component??T._loadedComponent??null,T,ai(F),dt,dc(T),dt);ce=(0,Y.of)({snapshot:Qt,consumedSegments:[],remainingSegments:[]})}else ce=Wr(F,T,W,O).pipe((0,Le.U)(({matched:we,consumedSegments:dt,remainingSegments:Qt,parameters:Yn})=>{if(!we)return null;const mn=Wa(F)+dt.length;return{snapshot:new uo(dt,Yn,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Ta(T),Jr(T),T.component??T._loadedComponent??null,T,ai(F),mn,dc(T),mn),consumedSegments:dt,remainingSegments:Qt}}));return ce.pipe((0,Me.w)(we=>{if(null===we)return(0,Y.of)(null);const{snapshot:dt,consumedSegments:Qt,remainingSegments:Yn}=we;O=T._injector??O;const mn=T._loadedInjector??O,Xn=function Ss(w){return w.children?w.children:w.loadChildren?w._loadedRoutes:[]}(T),{segmentGroup:Wi,slicedSegments:Zs}=So(F,Qt,Yn,Xn.filter(kr=>void 0===kr.redirectTo),this.relativeLinkResolution);if(0===Zs.length&&Wi.hasChildren())return this.processChildren(mn,Xn,Wi).pipe((0,Le.U)(kr=>null===kr?null:[new Tn(dt,kr)]));if(0===Xn.length&&0===Zs.length)return(0,Y.of)([new Tn(dt,[])]);const ua=Jr(T)===J;return this.processSegment(mn,Xn,Wi,Zs,ua?Te:J).pipe((0,Le.U)(kr=>null===kr?null:[new Tn(dt,kr)]))}))}}function Ks(w){const O=w.value.routeConfig;return O&&""===O.path&&void 0===O.redirectTo}function $s(w){const O=[],T=new Set;for(const F of w){if(!Ks(F)){O.push(F);continue}const W=O.find(J=>F.value.routeConfig===J.value.routeConfig);void 0!==W?(W.children.push(...F.children),T.add(W)):O.push(F)}for(const F of T){const W=$s(F.children);O.push(new Tn(F.value,W))}return O.filter(F=>!T.has(F))}function ai(w){let O=w;for(;O._sourceSegment;)O=O._sourceSegment;return O}function Wa(w){let O=w,T=O._segmentIndexShift??0;for(;O._sourceSegment;)O=O._sourceSegment,T+=O._segmentIndexShift??0;return T-1}function Ta(w){return w.data||{}}function dc(w){return w.resolve||{}}function kl(w){return"string"==typeof w.title||null===w.title}function li(w){return(0,Me.w)(O=>{const T=w(O);return T?(0,g.D)(T).pipe((0,Le.U)(()=>O)):(0,Y.of)(O)})}let Oo=(()=>{class w{buildTitle(T){let F,W=T.root;for(;void 0!==W;)F=this.getResolvedTitleForRoute(W)??F,W=W.children.find(J=>J.outlet===Te);return F}getResolvedTitleForRoute(T){return T.data[Ge]}}return w.\u0275fac=function(T){return new(T||w)},w.\u0275prov=y.Yz7({token:w,factory:function(){return(0,y.f3M)(Ka)},providedIn:"root"}),w})(),Ka=(()=>{class w extends Oo{constructor(T){super(),this.title=T}updateTitle(T){const F=this.buildTitle(T);void 0!==F&&this.title.setTitle(F)}}return w.\u0275fac=function(T){return new(T||w)(y.LFG(gt.Dx))},w.\u0275prov=y.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w})();class ll{}class $a extends class Kd{shouldDetach(O){return!1}store(O,T){}shouldAttach(O){return!1}retrieve(O){return null}shouldReuseRoute(O,T){return O.routeConfig===T.routeConfig}}{}const ci=new y.OlP("",{providedIn:"root",factory:()=>({})}),Go=new y.OlP("ROUTES");let ui=(()=>{class w{constructor(T,F){this.injector=T,this.compiler=F,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(T){if(this.componentLoaders.get(T))return this.componentLoaders.get(T);if(T._loadedComponent)return(0,Y.of)(T._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(T);const F=xt(T.loadComponent()).pipe((0,fe.b)(J=>{this.onLoadEndListener&&this.onLoadEndListener(T),T._loadedComponent=J}),(0,pn.x)(()=>{this.componentLoaders.delete(T)})),W=new je(F,()=>new Re.x).pipe(rt());return this.componentLoaders.set(T,W),W}loadChildren(T,F){if(this.childrenLoaders.get(F))return this.childrenLoaders.get(F);if(F._loadedRoutes)return(0,Y.of)({routes:F._loadedRoutes,injector:F._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(F);const J=this.loadModuleFactoryOrRoutes(F.loadChildren).pipe((0,Le.U)(we=>{this.onLoadEndListener&&this.onLoadEndListener(F);let dt,Qt,Yn=!1;Array.isArray(we)?Qt=we:(dt=we.create(T).injector,Qt=Dn(dt.get(Go,[],y.XFs.Self|y.XFs.Optional)));return{routes:Qt.map(ro),injector:dt}}),(0,pn.x)(()=>{this.childrenLoaders.delete(F)})),ce=new je(J,()=>new Re.x).pipe(rt());return this.childrenLoaders.set(F,ce),ce}loadModuleFactoryOrRoutes(T){return xt(T()).pipe((0,oe.z)(F=>F instanceof y.YKP||Array.isArray(F)?(0,Y.of)(F):(0,g.D)(this.compiler.compileModuleAsync(F))))}}return w.\u0275fac=function(T){return new(T||w)(y.LFG(y.zs3),y.LFG(y.Sil))},w.\u0275prov=y.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w})();class _o{}class yo{shouldProcessUrl(O){return!0}extract(O){return O}merge(O,T){return O}}function aa(w){throw w}function Wt(w,O,T){return O.parse("/")}const Zr={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Zo={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function dn(){const w=(0,y.f3M)(zr),O=(0,y.f3M)(Hs),T=(0,y.f3M)(Ht.Ye),F=(0,y.f3M)(y.zs3),W=(0,y.f3M)(y.Sil),J=(0,y.f3M)(Go,{optional:!0})??[],ce=(0,y.f3M)(ci,{optional:!0})??{},we=(0,y.f3M)(Ka),dt=(0,y.f3M)(Oo,{optional:!0}),Qt=(0,y.f3M)(_o,{optional:!0}),Yn=(0,y.f3M)(ll,{optional:!0}),mn=new fn(null,w,O,T,F,W,Dn(J));return Qt&&(mn.urlHandlingStrategy=Qt),Yn&&(mn.routeReuseStrategy=Yn),mn.titleStrategy=dt??we,function Ro(w,O){w.errorHandler&&(O.errorHandler=w.errorHandler),w.malformedUriErrorHandler&&(O.malformedUriErrorHandler=w.malformedUriErrorHandler),w.onSameUrlNavigation&&(O.onSameUrlNavigation=w.onSameUrlNavigation),w.paramsInheritanceStrategy&&(O.paramsInheritanceStrategy=w.paramsInheritanceStrategy),w.relativeLinkResolution&&(O.relativeLinkResolution=w.relativeLinkResolution),w.urlUpdateStrategy&&(O.urlUpdateStrategy=w.urlUpdateStrategy),w.canceledNavigationResolution&&(O.canceledNavigationResolution=w.canceledNavigationResolution)}(ce,mn),mn}let fn=(()=>{class w{constructor(T,F,W,J,ce,we,dt){this.rootComponentType=T,this.urlSerializer=F,this.rootContexts=W,this.location=J,this.config=dt,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Re.x,this.errorHandler=aa,this.malformedUriErrorHandler=Wt,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>(0,Y.of)(void 0),this.urlHandlingStrategy=new yo,this.routeReuseStrategy=new $a,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=ce.get(ui),this.configLoader.onLoadEndListener=Xn=>this.triggerEvent(new Bs(Xn)),this.configLoader.onLoadStartListener=Xn=>this.triggerEvent(new Ca(Xn)),this.ngModule=ce.get(y.h0i),this.console=ce.get(y.c2e);const mn=ce.get(y.R0b);this.isNgZoneEnabled=mn instanceof y.R0b&&y.R0b.isInAngularZone(),this.resetConfig(dt),this.currentUrlTree=function gr(){return new en(new Vt([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=$i(this.currentUrlTree,this.rootComponentType),this.transitions=new me.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(T){const F=this.events;return T.pipe((0,Tt.h)(W=>0!==W.id),(0,Le.U)(W=>({...W,extractedUrl:this.urlHandlingStrategy.extract(W.rawUrl)})),(0,Me.w)(W=>{let J=!1,ce=!1;return(0,Y.of)(W).pipe((0,fe.b)(we=>{this.currentNavigation={id:we.id,initialUrl:we.rawUrl,extractedUrl:we.extractedUrl,trigger:we.source,extras:we.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,Me.w)(we=>{const dt=this.browserUrlTree.toString(),Qt=!this.navigated||we.extractedUrl.toString()!==dt||dt!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||Qt)&&this.urlHandlingStrategy.shouldProcessUrl(we.rawUrl))return qt(we.source)&&(this.browserUrlTree=we.extractedUrl),(0,Y.of)(we).pipe((0,Me.w)(mn=>{const Xn=this.transitions.getValue();return F.next(new Pr(mn.id,this.serializeUrl(mn.extractedUrl),mn.source,mn.restoredState)),Xn!==this.transitions.getValue()?Et.E:Promise.resolve(mn)}),function Si(w,O,T,F){return(0,Me.w)(W=>function hr(w,O,T,F,W){return new rr(w,O,T,F,W).apply()}(w,O,T,W.extractedUrl,F).pipe((0,Le.U)(J=>({...W,urlAfterRedirects:J}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,fe.b)(mn=>{this.currentNavigation={...this.currentNavigation,finalUrl:mn.urlAfterRedirects},W.urlAfterRedirects=mn.urlAfterRedirects}),function Pl(w,O,T,F,W,J){return(0,oe.z)(ce=>function Ws(w,O,T,F,W,J,ce="emptyOnly",we="legacy"){return new ls(w,O,T,F,W,ce,we,J).recognize().pipe((0,Me.w)(dt=>null===dt?function xo(w){return new Fe.y(O=>O.error(w))}(new ti):(0,Y.of)(dt)))}(w,O,T,ce.urlAfterRedirects,F.serialize(ce.urlAfterRedirects),F,W,J).pipe((0,Le.U)(we=>({...ce,targetSnapshot:we}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,fe.b)(mn=>{if(W.targetSnapshot=mn.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!mn.extras.skipLocationChange){const Wi=this.urlHandlingStrategy.merge(mn.urlAfterRedirects,mn.rawUrl);this.setBrowserUrl(Wi,mn)}this.browserUrlTree=mn.urlAfterRedirects}const Xn=new eo(mn.id,this.serializeUrl(mn.extractedUrl),this.serializeUrl(mn.urlAfterRedirects),mn.targetSnapshot);F.next(Xn)}));if(Qt&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:Xn,extractedUrl:Wi,source:Zs,restoredState:ua,extras:kr}=we,da=new Pr(Xn,this.serializeUrl(Wi),Zs,ua);F.next(da);const di=$i(Wi,this.rootComponentType).snapshot;return W={...we,targetSnapshot:di,urlAfterRedirects:Wi,extras:{...kr,skipLocationChange:!1,replaceUrl:!1}},(0,Y.of)(W)}return this.rawUrlTree=we.rawUrl,we.resolve(null),Et.E}),(0,fe.b)(we=>{const dt=new Mo(we.id,this.serializeUrl(we.extractedUrl),this.serializeUrl(we.urlAfterRedirects),we.targetSnapshot);this.triggerEvent(dt)}),(0,Le.U)(we=>W={...we,guards:wa(we.targetSnapshot,we.currentSnapshot,this.rootContexts)}),function Ar(w,O){return(0,oe.z)(T=>{const{targetSnapshot:F,currentSnapshot:W,guards:{canActivateChecks:J,canDeactivateChecks:ce}}=T;return 0===ce.length&&0===J.length?(0,Y.of)({...T,guardsResult:!0}):function io(w,O,T,F){return(0,g.D)(w).pipe((0,oe.z)(W=>function zo(w,O,T,F,W){const J=O&&O.routeConfig?O.routeConfig.canDeactivate:null;if(!J||0===J.length)return(0,Y.of)(!0);const ce=J.map(we=>{const dt=vr(O)??W,Qt=Ai(we,dt);return xt(function U(w){return w&&As(w.canDeactivate)}(Qt)?Qt.canDeactivate(w,O,T,F):dt.runInContext(()=>Qt(w,O,T,F))).pipe((0,Je.P)())});return(0,Y.of)(ce).pipe(ki())}(W.component,W.route,T,O,F)),(0,Je.P)(W=>!0!==W,!0))}(ce,F,W,w).pipe((0,oe.z)(we=>we&&function pi(w){return"boolean"==typeof w}(we)?function rl(w,O,T,F){return(0,g.D)(O).pipe((0,de.b)(W=>(0,Be.z)(function ji(w,O){return null!==w&&O&&O(new Wo(w)),(0,Y.of)(!0)}(W.route.parent,F),function js(w,O){return null!==w&&O&&O(new oi(w)),(0,Y.of)(!0)}(W.route,F),function fo(w,O,T){const F=O[O.length-1],J=O.slice(0,O.length-1).reverse().map(ce=>function Va(w){const O=w.routeConfig?w.routeConfig.canActivateChild:null;return O&&0!==O.length?{node:w,guards:O}:null}(ce)).filter(ce=>null!==ce).map(ce=>he(()=>{const we=ce.guards.map(dt=>{const Qt=vr(ce.node)??T,Yn=Ai(dt,Qt);return xt(function H(w){return w&&As(w.canActivateChild)}(Yn)?Yn.canActivateChild(F,w):Qt.runInContext(()=>Yn(F,w))).pipe((0,Je.P)())});return(0,Y.of)(we).pipe(ki())}));return(0,Y.of)(J).pipe(ki())}(w,W.path,T),function il(w,O,T){const F=O.routeConfig?O.routeConfig.canActivate:null;if(!F||0===F.length)return(0,Y.of)(!0);const W=F.map(J=>he(()=>{const ce=vr(O)??T,we=Ai(J,ce);return xt(function $(w){return w&&As(w.canActivate)}(we)?we.canActivate(O,w):ce.runInContext(()=>we(O,w))).pipe((0,Je.P)())}));return(0,Y.of)(W).pipe(ki())}(w,W.route,T))),(0,Je.P)(W=>!0!==W,!0))}(F,J,w,O):(0,Y.of)(we)),(0,Le.U)(we=>({...T,guardsResult:we})))})}(this.ngModule.injector,we=>this.triggerEvent(we)),(0,fe.b)(we=>{if(W.guardsResult=we.guardsResult,bt(we.guardsResult))throw ws(0,we.guardsResult);const dt=new Ea(we.id,this.serializeUrl(we.extractedUrl),this.serializeUrl(we.urlAfterRedirects),we.targetSnapshot,!!we.guardsResult);this.triggerEvent(dt)}),(0,Tt.h)(we=>!!we.guardsResult||(this.restoreHistory(we),this.cancelNavigationTransition(we,"",3),!1)),li(we=>{if(we.guards.canActivateChecks.length)return(0,Y.of)(we).pipe((0,fe.b)(dt=>{const Qt=new si(dt.id,this.serializeUrl(dt.extractedUrl),this.serializeUrl(dt.urlAfterRedirects),dt.targetSnapshot);this.triggerEvent(Qt)}),(0,Me.w)(dt=>{let Qt=!1;return(0,Y.of)(dt).pipe(function Rl(w,O){return(0,oe.z)(T=>{const{targetSnapshot:F,guards:{canActivateChecks:W}}=T;if(!W.length)return(0,Y.of)(T);let J=0;return(0,g.D)(W).pipe((0,de.b)(ce=>function Aa(w,O,T,F){const W=w.routeConfig,J=w._resolve;return void 0!==W?.title&&!kl(W)&&(J[Ge]=W.title),function Sa(w,O,T,F){const W=function Xi(w){return[...Object.keys(w),...Object.getOwnPropertySymbols(w)]}(w);if(0===W.length)return(0,Y.of)({});const J={};return(0,g.D)(W).pipe((0,oe.z)(ce=>function hc(w,O,T,F){const W=vr(O)??F,J=Ai(w,W);return xt(J.resolve?J.resolve(O,T):W.runInContext(()=>J(O,T)))}(w[ce],O,T,F).pipe((0,Je.P)(),(0,fe.b)(we=>{J[ce]=we}))),At(1),(0,En.h)(J),(0,ze.K)(ce=>ei(ce)?Et.E:(0,Pe._)(ce)))}(J,w,O,F).pipe((0,Le.U)(ce=>(w._resolvedData=ce,w.data=zi(w,T).resolve,W&&kl(W)&&(w.data[Ge]=W.title),null)))}(ce.route,F,w,O)),(0,fe.b)(()=>J++),At(1),(0,oe.z)(ce=>J===W.length?(0,Y.of)(T):Et.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,fe.b)({next:()=>Qt=!0,complete:()=>{Qt||(this.restoreHistory(dt),this.cancelNavigationTransition(dt,"",2))}}))}),(0,fe.b)(dt=>{const Qt=new Fa(dt.id,this.serializeUrl(dt.extractedUrl),this.serializeUrl(dt.urlAfterRedirects),dt.targetSnapshot);this.triggerEvent(Qt)}))}),li(we=>{const dt=Qt=>{const Yn=[];Qt.routeConfig?.loadComponent&&!Qt.routeConfig._loadedComponent&&Yn.push(this.configLoader.loadComponent(Qt.routeConfig).pipe((0,fe.b)(mn=>{Qt.component=mn}),(0,Le.U)(()=>{})));for(const mn of Qt.children)Yn.push(...dt(mn));return Yn};return(0,ke.a)(dt(we.targetSnapshot.root)).pipe((0,Gt.d)(),(0,$e.q)(1))}),li(()=>this.afterPreactivation()),(0,Le.U)(we=>{const dt=function Us(w,O,T){const F=Vs(w,O._root,T?T._root:void 0);return new ur(F,O)}(this.routeReuseStrategy,we.targetSnapshot,we.currentRouterState);return W={...we,targetRouterState:dt}}),(0,fe.b)(we=>{this.currentUrlTree=we.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(we.urlAfterRedirects,we.rawUrl),this.routerState=we.targetRouterState,"deferred"===this.urlUpdateStrategy&&(we.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,we),this.browserUrlTree=we.urlAfterRedirects)}),((w,O,T)=>(0,Le.U)(F=>(new Ua(O,F.targetRouterState,F.currentRouterState,T).activate(w),F)))(this.rootContexts,this.routeReuseStrategy,we=>this.triggerEvent(we)),(0,fe.b)({next(){J=!0},complete(){J=!0}}),(0,pn.x)(()=>{J||ce||this.cancelNavigationTransition(W,"",1),this.currentNavigation?.id===W.id&&(this.currentNavigation=null)}),(0,ze.K)(we=>{if(ce=!0,_i(we)){Hi(we)||(this.navigated=!0,this.restoreHistory(W,!0));const dt=new ii(W.id,this.serializeUrl(W.extractedUrl),we.message,we.cancellationCode);if(F.next(dt),Hi(we)){const Qt=this.urlHandlingStrategy.merge(we.url,this.rawUrlTree),Yn={skipLocationChange:W.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||qt(W.source)};this.scheduleNavigation(Qt,"imperative",null,Yn,{resolve:W.resolve,reject:W.reject,promise:W.promise})}else W.resolve(!1)}else{this.restoreHistory(W,!0);const dt=new Ri(W.id,this.serializeUrl(W.extractedUrl),we,W.targetSnapshot??void 0);F.next(dt);try{W.resolve(this.errorHandler(we))}catch(Qt){W.reject(Qt)}}return Et.E}))}))}resetRootComponentType(T){this.rootComponentType=T,this.routerState.root.component=this.rootComponentType}setTransition(T){this.transitions.next({...this.transitions.value,...T})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(T=>{const F="popstate"===T.type?"popstate":"hashchange";"popstate"===F&&setTimeout(()=>{const W={replaceUrl:!0},J=T.state?.navigationId?T.state:null;if(J){const we={...J};delete we.navigationId,delete we.\u0275routerPageId,0!==Object.keys(we).length&&(W.state=we)}const ce=this.parseUrl(T.url);this.scheduleNavigation(ce,F,J,W)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(T){this.events.next(T)}resetConfig(T){this.config=T.map(ro),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(T,F={}){const{relativeTo:W,queryParams:J,fragment:ce,queryParamsHandling:we,preserveFragment:dt}=F,Qt=W||this.routerState.root,Yn=dt?this.currentUrlTree.fragment:ce;let mn=null;switch(we){case"merge":mn={...this.currentUrlTree.queryParams,...J};break;case"preserve":mn=this.currentUrlTree.queryParams;break;default:mn=J||null}return null!==mn&&(mn=this.removeEmptyProps(mn)),wr(Qt,this.currentUrlTree,T,mn,Yn??null)}navigateByUrl(T,F={skipLocationChange:!1}){const W=bt(T)?T:this.parseUrl(T),J=this.urlHandlingStrategy.merge(W,this.rawUrlTree);return this.scheduleNavigation(J,"imperative",null,F)}navigate(T,F={skipLocationChange:!1}){return function cl(w){for(let O=0;O<w.length;O++){if(null==w[O])throw new y.vHH(4008,false)}}(T),this.navigateByUrl(this.createUrlTree(T,F),F)}serializeUrl(T){return this.urlSerializer.serialize(T)}parseUrl(T){let F;try{F=this.urlSerializer.parse(T)}catch(W){F=this.malformedUriErrorHandler(W,this.urlSerializer,T)}return F}isActive(T,F){let W;if(W=!0===F?{...Zr}:!1===F?{...Zo}:F,bt(T))return Hr(this.currentUrlTree,T,W);const J=this.parseUrl(T);return Hr(this.currentUrlTree,J,W)}removeEmptyProps(T){return Object.keys(T).reduce((F,W)=>{const J=T[W];return null!=J&&(F[W]=J),F},{})}processNavigations(){this.navigations.subscribe(T=>{this.navigated=!0,this.lastSuccessfulId=T.id,this.currentPageId=T.targetPageId,this.events.next(new hs(T.id,this.serializeUrl(T.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),T.resolve(!0)},T=>{this.console.warn(`Unhandled Navigation Error: ${T}`)})}scheduleNavigation(T,F,W,J,ce){if(this.disposed)return Promise.resolve(!1);let we,dt,Qt;ce?(we=ce.resolve,dt=ce.reject,Qt=ce.promise):Qt=new Promise((Xn,Wi)=>{we=Xn,dt=Wi});const Yn=++this.navigationId;let mn;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(W=this.location.getState()),mn=W&&W.\u0275routerPageId?W.\u0275routerPageId:J.replaceUrl||J.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):mn=0,this.setTransition({id:Yn,targetPageId:mn,source:F,restoredState:W,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:T,extras:J,resolve:we,reject:dt,promise:Qt,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Qt.catch(Xn=>Promise.reject(Xn))}setBrowserUrl(T,F){const W=this.urlSerializer.serialize(T),J={...F.extras.state,...this.generateNgRouterState(F.id,F.targetPageId)};this.location.isCurrentPathEqualTo(W)||F.extras.replaceUrl?this.location.replaceState(W,"",J):this.location.go(W,"",J)}restoreHistory(T,F=!1){if("computed"===this.canceledNavigationResolution){const W=this.currentPageId-T.targetPageId;"popstate"!==T.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===W?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===W&&(this.resetState(T),this.browserUrlTree=T.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(W)}else"replace"===this.canceledNavigationResolution&&(F&&this.resetState(T),this.resetUrlToCurrentUrlTree())}resetState(T){this.routerState=T.currentRouterState,this.currentUrlTree=T.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,T.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(T,F,W){const J=new ii(T.id,this.serializeUrl(T.extractedUrl),F,W);this.triggerEvent(J),T.resolve(!1)}generateNgRouterState(T,F){return"computed"===this.canceledNavigationResolution?{navigationId:T,\u0275routerPageId:F}:{navigationId:T}}}return w.\u0275fac=function(T){y.$Z()},w.\u0275prov=y.Yz7({token:w,factory:function(){return dn()},providedIn:"root"}),w})();function qt(w){return"imperative"!==w}let ut=(()=>{class w{constructor(T,F,W,J,ce){this.router=T,this.route=F,this.tabIndexAttribute=W,this.renderer=J,this.el=ce,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.onChanges=new Re.x,this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(T){this._preserveFragment=(0,y.D6c)(T)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(T){this._skipLocationChange=(0,y.D6c)(T)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(T){this._replaceUrl=(0,y.D6c)(T)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(T){if(null!=this.tabIndexAttribute)return;const F=this.renderer,W=this.el.nativeElement;null!==T?F.setAttribute(W,"tabindex",T):F.removeAttribute(W,"tabindex")}ngOnChanges(T){this.onChanges.next(this)}set routerLink(T){null!=T?(this.commands=Array.isArray(T)?T:[T],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){return null===this.urlTree||this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return w.\u0275fac=function(T){return new(T||w)(y.Y36(fn),y.Y36(Vi),y.$8M("tabindex"),y.Y36(y.Qsj),y.Y36(y.SBq))},w.\u0275dir=y.lG2({type:w,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(T,F){1&T&&y.NdJ("click",function(){return F.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[y.TTD]}),w})(),Pt=(()=>{class w{constructor(T,F,W){this.router=T,this.route=F,this.locationStrategy=W,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.href=null,this.onChanges=new Re.x,this.subscription=T.events.subscribe(J=>{J instanceof hs&&this.updateTargetUrlAndHref()})}set preserveFragment(T){this._preserveFragment=(0,y.D6c)(T)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(T){this._skipLocationChange=(0,y.D6c)(T)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(T){this._replaceUrl=(0,y.D6c)(T)}get replaceUrl(){return this._replaceUrl}set routerLink(T){this.commands=null!=T?Array.isArray(T)?T:[T]:null}ngOnChanges(T){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(T,F,W,J,ce){return!!(0!==T||F||W||J||ce||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!1)}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return w.\u0275fac=function(T){return new(T||w)(y.Y36(fn),y.Y36(Vi),y.Y36(Ht.S$))},w.\u0275dir=y.lG2({type:w,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(T,F){1&T&&y.NdJ("click",function(J){return F.onClick(J.button,J.ctrlKey,J.shiftKey,J.altKey,J.metaKey)}),2&T&&y.uIk("target",F.target)("href",F.href,y.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[y.TTD]}),w})(),yi=(()=>{class w{constructor(T,F,W,J,ce,we){this.router=T,this.element=F,this.renderer=W,this.cdr=J,this.link=ce,this.linkWithHref=we,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new y.vpe,this.routerEventsSubscription=T.events.subscribe(dt=>{dt instanceof hs&&this.update()})}ngAfterContentInit(){(0,Y.of)(this.links.changes,this.linksWithHrefs.changes,(0,Y.of)(null)).pipe((0,it.J)()).subscribe(T=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const T=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(F=>!!F).map(F=>F.onChanges);this.linkInputChangesSubscription=(0,g.D)(T).pipe((0,it.J)()).subscribe(F=>{this.isActive!==this.isLinkActive(this.router)(F)&&this.update()})}set routerLinkActive(T){const F=Array.isArray(T)?T:T.split(" ");this.classes=F.filter(W=>!!W)}ngOnChanges(T){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const T=this.hasActiveLinks();this.isActive!==T&&(this.isActive=T,this.cdr.markForCheck(),this.classes.forEach(F=>{T?this.renderer.addClass(this.element.nativeElement,F):this.renderer.removeClass(this.element.nativeElement,F)}),T&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(T))})}isLinkActive(T){const F=function la(w){return!!w.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return W=>!!W.urlTree&&T.isActive(W.urlTree,F)}hasActiveLinks(){const T=this.isLinkActive(this.router);return this.link&&T(this.link)||this.linkWithHref&&T(this.linkWithHref)||this.links.some(T)||this.linksWithHrefs.some(T)}}return w.\u0275fac=function(T){return new(T||w)(y.Y36(fn),y.Y36(y.SBq),y.Y36(y.Qsj),y.Y36(y.sBO),y.Y36(ut,8),y.Y36(Pt,8))},w.\u0275dir=y.lG2({type:w,selectors:[["","routerLinkActive",""]],contentQueries:function(T,F,W){if(1&T&&(y.Suo(W,ut,5),y.Suo(W,Pt,5)),2&T){let J;y.iGM(J=y.CRH())&&(F.links=J),y.iGM(J=y.CRH())&&(F.linksWithHrefs=J)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[y.TTD]}),w})();class kc{}let ul=(()=>{class w{constructor(T,F,W,J,ce){this.router=T,this.injector=W,this.preloadingStrategy=J,this.loader=ce}setUpPreloading(){this.subscription=this.router.events.pipe((0,Tt.h)(T=>T instanceof hs),(0,de.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(T,F){const W=[];for(const J of F){J.providers&&!J._injector&&(J._injector=(0,y.MMx)(J.providers,T,`Route: ${J.path}`));const ce=J._injector??T,we=J._loadedInjector??ce;J.loadChildren&&!J._loadedRoutes&&void 0===J.canLoad||J.loadComponent&&!J._loadedComponent?W.push(this.preloadConfig(ce,J)):(J.children||J._loadedRoutes)&&W.push(this.processRoutes(we,J.children??J._loadedRoutes))}return(0,g.D)(W).pipe((0,it.J)())}preloadConfig(T,F){return this.preloadingStrategy.preload(F,()=>{let W;W=F.loadChildren&&void 0===F.canLoad?this.loader.loadChildren(T,F):(0,Y.of)(null);const J=W.pipe((0,oe.z)(ce=>null===ce?(0,Y.of)(void 0):(F._loadedRoutes=ce.routes,F._loadedInjector=ce.injector,this.processRoutes(ce.injector??T,ce.routes))));if(F.loadComponent&&!F._loadedComponent){const ce=this.loader.loadComponent(F);return(0,g.D)([J,ce]).pipe((0,it.J)())}return J})}}return w.\u0275fac=function(T){return new(T||w)(y.LFG(fn),y.LFG(y.Sil),y.LFG(y.lqb),y.LFG(kc),y.LFG(ui))},w.\u0275prov=y.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w})();const dl=new y.OlP("");let hl=(()=>{class w{constructor(T,F,W={}){this.router=T,this.viewportScroller=F,this.options=W,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},W.scrollPositionRestoration=W.scrollPositionRestoration||"disabled",W.anchorScrolling=W.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(T=>{T instanceof Pr?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=T.navigationTrigger,this.restoredId=T.restoredState?T.restoredState.navigationId:0):T instanceof hs&&(this.lastId=T.id,this.scheduleScrollEvent(T,this.router.parseUrl(T.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(T=>{T instanceof We&&(T.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(T.position):T.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(T.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(T,F){this.router.triggerEvent(new We(T,"popstate"===this.lastSource?this.store[this.restoredId]:null,F))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return w.\u0275fac=function(T){y.$Z()},w.\u0275prov=y.Yz7({token:w,factory:w.\u0275fac}),w})();function bo(w,O){return{\u0275kind:w,\u0275providers:O}}function Bn(w){return[{provide:Go,multi:!0,useValue:w}]}function zs(){const w=(0,y.f3M)(y.zs3);return O=>{const T=w.get(y.z2F);if(O!==T.components[0])return;const F=w.get(fn),W=w.get(Rr);1===w.get(nn)&&F.initialNavigation(),w.get(Di,null,y.XFs.Optional)?.setUpPreloading(),w.get(dl,null,y.XFs.Optional)?.init(),F.resetRootComponentType(T.componentTypes[0]),W.next(),W.complete()}}const Rr=new y.OlP("",{factory:()=>new Re.x}),nn=new y.OlP("",{providedIn:"root",factory:()=>1});const Di=new y.OlP("");function rn(w){return bo(0,[{provide:Di,useExisting:ul},{provide:kc,useExisting:w}])}const rd=new y.OlP("ROUTER_FORROOT_GUARD"),hu=[Ht.Ye,{provide:zr,useClass:Mn},{provide:fn,useFactory:dn},Hs,{provide:Vi,useFactory:function xa(w){return w.routerState.root},deps:[fn]},ui];function es(){return new y.PXZ("Router",fn)}let za=(()=>{class w{constructor(T){}static forRoot(T,F){return{ngModule:w,providers:[hu,[],Bn(T),{provide:rd,useFactory:xs,deps:[[fn,new y.FiY,new y.tp0]]},{provide:ci,useValue:F||{}},F?.useHash?{provide:Ht.S$,useClass:Ht.Do}:{provide:Ht.S$,useClass:Ht.b0},{provide:dl,useFactory:()=>{const w=(0,y.f3M)(fn),O=(0,y.f3M)(Ht.EM),T=(0,y.f3M)(ci);return T.scrollOffset&&O.setOffset(T.scrollOffset),new hl(w,O,T)}},F?.preloadingStrategy?rn(F.preloadingStrategy).\u0275providers:[],{provide:y.PXZ,multi:!0,useFactory:es},F?.initialNavigation?us(F):[],[{provide:_c,useFactory:zs},{provide:y.tb,multi:!0,useExisting:_c}]]}}static forChild(T){return{ngModule:w,providers:[Bn(T)]}}}return w.\u0275fac=function(T){return new(T||w)(y.LFG(rd,8))},w.\u0275mod=y.oAB({type:w}),w.\u0275inj=y.cJS({imports:[fs]}),w})();function xs(w){return"guarded"}function us(w){return["disabled"===w.initialNavigation?bo(3,[{provide:y.ip1,multi:!0,useFactory:()=>{const O=(0,y.f3M)(fn);return()=>{O.setUpLocationChangeListener()}}},{provide:nn,useValue:2}]).\u0275providers:[],"enabledBlocking"===w.initialNavigation?bo(2,[{provide:nn,useValue:0},{provide:y.ip1,multi:!0,deps:[y.zs3],useFactory:O=>{const T=O.get(Ht.V_,Promise.resolve());let F=!1;return()=>T.then(()=>new Promise(J=>{const ce=O.get(fn),we=O.get(Rr);(function W(J){O.get(fn).events.pipe((0,Tt.h)(we=>we instanceof hs||we instanceof ii||we instanceof Ri),(0,Le.U)(we=>we instanceof hs||we instanceof ii&&(0===we.code||1===we.code)&&null),(0,Tt.h)(we=>null!==we),(0,$e.q)(1)).subscribe(()=>{J()})})(()=>{J(!0),F=!0}),ce.afterPreactivation=()=>(J(!0),F||we.closed?(0,Y.of)(void 0):we),ce.initialNavigation()}))}}]).\u0275providers:[]]}const _c=new y.OlP("")},3942:(ft,Ue,k)=>{k.d(Ue,{Z:()=>nt});var y=k(2090),g=k(4859),Y=k(9681),me=k(1877);class Se{constructor(rt,je){this._delegate=rt,this.firebase=je,(0,Y._addComponent)(rt,new g.wA("app-compat",()=>this,"PUBLIC")),this.container=rt.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(rt){this._delegate.automaticDataCollectionEnabled=rt}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(rt=>{this._delegate.checkDestroyed(),rt()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,Y.deleteApp)(this._delegate)))}_getService(rt,je=Y._DEFAULT_ENTRY_NAME){var Re;this._delegate.checkDestroyed();const Ht=this._delegate.container.getProvider(rt);return!Ht.isInitialized()&&"EXPLICIT"===(null===(Re=Ht.getComponent())||void 0===Re?void 0:Re.instantiationMode)&&Ht.initialize(),Ht.getImmediate({identifier:je})}_removeServiceInstance(rt,je=Y._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(rt).clearInstance(je)}_addComponent(rt){(0,Y._addComponent)(this._delegate,rt)}_addOrOverwriteComponent(rt){(0,Y._addOrOverwriteComponent)(this._delegate,rt)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Be=new y.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),he=function Qe(){const Nt=function Fe(Nt){const rt={},je={__esModule:!0,initializeApp:function Le(Tt,oe={}){const Je=Y.initializeApp(Tt,oe);if((0,y.r3)(rt,Je.name))return rt[Je.name];const de=new Nt(Je,je);return rt[Je.name]=de,de},app:Ht,registerVersion:Y.registerVersion,setLogLevel:Y.setLogLevel,onLog:Y.onLog,apps:null,SDK_VERSION:Y.SDK_VERSION,INTERNAL:{registerComponent:function $e(Tt){const oe=Tt.name,Je=oe.replace("-compat","");if(Y._registerComponent(Tt)&&"PUBLIC"===Tt.type){const de=(fe=Ht())=>{if("function"!=typeof fe[Je])throw Be.create("invalid-app-argument",{appName:oe});return fe[Je]()};void 0!==Tt.serviceProps&&(0,y.ZB)(de,Tt.serviceProps),je[Je]=de,Nt.prototype[Je]=function(...fe){return this._getService.bind(this,oe).apply(this,Tt.multipleInstances?fe:[])}}return"PUBLIC"===Tt.type?je[Je]:null},removeApp:function Re(Tt){delete rt[Tt]},useAsService:function It(Tt,oe){return"serverAuth"===oe?null:oe},modularAPIs:Y}};function Ht(Tt){if(!(0,y.r3)(rt,Tt=Tt||Y._DEFAULT_ENTRY_NAME))throw Be.create("no-app",{appName:Tt});return rt[Tt]}return je.default=je,Object.defineProperty(je,"apps",{get:function Me(){return Object.keys(rt).map(Tt=>rt[Tt])}}),Ht.App=Nt,je}(Se);return Nt.INTERNAL=Object.assign(Object.assign({},Nt.INTERNAL),{createFirebaseNamespace:Qe,extendNamespace:function rt(je){(0,y.ZB)(Nt,je)},createSubscribe:y.ne,ErrorFactory:y.LL,deepExtend:y.ZB}),Nt}(),ge=new me.Yd("@firebase/app-compat");if((0,y.jU)()&&void 0!==self.firebase){ge.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Nt=self.firebase.SDK_VERSION;Nt&&Nt.indexOf("LITE")>=0&&ge.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const nt=he;!function ot(Nt){(0,Y.registerVersion)("@firebase/app-compat","0.1.33",Nt)}()},9681:(ft,Ue,k)=>{k.r(Ue),k.d(Ue,{FirebaseError:()=>me.ZR,SDK_VERSION:()=>Zn,_DEFAULT_ENTRY_NAME:()=>on,_addComponent:()=>it,_addOrOverwriteComponent:()=>gt,_apps:()=>En,_clearComponents:()=>Cn,_components:()=>pn,_getProvider:()=>Ge,_registerComponent:()=>Te,_removeServiceInstance:()=>Ut,deleteApp:()=>Nn,getApp:()=>kn,getApps:()=>sr,initializeApp:()=>Dn,onLog:()=>gr,registerVersion:()=>qn,setLogLevel:()=>Er});var y=k(5861),g=k(4859),Y=k(1877),me=k(2090),Se=k(8766);class ke{constructor(Oe){this.container=Oe}getPlatformInfoString(){return this.container.getProviders().map(be=>{if(function Be(_e){return"VERSION"===_e.getComponent()?.type}(be)){const Ct=be.getImmediate();return`${Ct.library}/${Ct.version}`}return null}).filter(be=>be).join(" ")}}const Fe="@firebase/app",he=new Y.Yd("@firebase/app"),on="[DEFAULT]",Dt={[Fe]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},En=new Map,pn=new Map;function it(_e,Oe){try{_e.container.addComponent(Oe)}catch(be){he.debug(`Component ${Oe.name} failed to register with FirebaseApp ${_e.name}`,be)}}function gt(_e,Oe){_e.container.addOrOverwriteComponent(Oe)}function Te(_e){const Oe=_e.name;if(pn.has(Oe))return he.debug(`There were multiple attempts to register component ${Oe}.`),!1;pn.set(Oe,_e);for(const be of En.values())it(be,_e);return!0}function Ge(_e,Oe){const be=_e.container.getProvider("heartbeat").getImmediate({optional:!0});return be&&be.triggerHeartbeat(),_e.container.getProvider(Oe)}function Ut(_e,Oe,be=on){Ge(_e,Oe).clearInstance(be)}function Cn(){pn.clear()}const lr=new me.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Hn{constructor(Oe,be,Ct){this._isDeleted=!1,this._options=Object.assign({},Oe),this._config=Object.assign({},be),this._name=be.name,this._automaticDataCollectionEnabled=be.automaticDataCollectionEnabled,this._container=Ct,this.container.addComponent(new g.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Oe){this.checkDestroyed(),this._automaticDataCollectionEnabled=Oe}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Oe){this._isDeleted=Oe}checkDestroyed(){if(this.isDeleted)throw lr.create("app-deleted",{appName:this._name})}}const Zn="9.9.4";function Dn(_e,Oe={}){"object"!=typeof Oe&&(Oe={name:Oe});const be=Object.assign({name:on,automaticDataCollectionEnabled:!1},Oe),Ct=be.name;if("string"!=typeof Ct||!Ct)throw lr.create("bad-app-name",{appName:String(Ct)});const jt=En.get(Ct);if(jt){if((0,me.vZ)(_e,jt.options)&&(0,me.vZ)(be,jt.config))return jt;throw lr.create("duplicate-app",{appName:Ct})}const tn=new g.H0(Ct);for(const or of pn.values())tn.addComponent(or);const cr=new Hn(_e,be,tn);return En.set(Ct,cr),cr}function kn(_e=on){const Oe=En.get(_e);if(!Oe)throw lr.create("no-app",{appName:_e});return Oe}function sr(){return Array.from(En.values())}function Nn(_e){return xt.apply(this,arguments)}function xt(){return(xt=(0,y.Z)(function*(_e){const Oe=_e.name;En.has(Oe)&&(En.delete(Oe),yield Promise.all(_e.container.getProviders().map(be=>be.delete())),_e.isDeleted=!0)})).apply(this,arguments)}function qn(_e,Oe,be){var Ct;let jt=null!==(Ct=Dt[_e])&&void 0!==Ct?Ct:_e;be&&(jt+=`-${be}`);const tn=jt.match(/\s|\//),cr=Oe.match(/\s|\//);if(tn||cr){const or=[`Unable to register library "${jt}" with version "${Oe}":`];return tn&&or.push(`library name "${jt}" contains illegal characters (whitespace or "/")`),tn&&cr&&or.push("and"),cr&&or.push(`version name "${Oe}" contains illegal characters (whitespace or "/")`),void he.warn(or.join(" "))}Te(new g.wA(`${jt}-version`,()=>({library:jt,version:Oe}),"VERSION"))}function gr(_e,Oe){if(null!==_e&&"function"!=typeof _e)throw lr.create("invalid-log-argument");(0,Y.Am)(_e,Oe)}function Er(_e){(0,Y.Ub)(_e)}const fr="firebase-heartbeat-store";let mt=null;function xe(){return mt||(mt=(0,Se.X3)("firebase-heartbeat-database",1,{upgrade:(_e,Oe)=>{0===Oe&&_e.createObjectStore(fr)}}).catch(_e=>{throw lr.create("idb-open",{originalErrorMessage:_e.message})})),mt}function lt(){return(lt=(0,y.Z)(function*(_e){var Oe;try{return(yield xe()).transaction(fr).objectStore(fr).get(Vt(_e))}catch(be){if(be instanceof me.ZR)he.warn(be.message);else{const Ct=lr.create("idb-get",{originalErrorMessage:null===(Oe=be)||void 0===Oe?void 0:Oe.message});he.warn(Ct.message)}}})).apply(this,arguments)}function yt(_e,Oe){return en.apply(this,arguments)}function en(){return(en=(0,y.Z)(function*(_e,Oe){var be;try{const jt=(yield xe()).transaction(fr,"readwrite");return yield jt.objectStore(fr).put(Oe,Vt(_e)),jt.done}catch(Ct){if(Ct instanceof me.ZR)he.warn(Ct.message);else{const jt=lr.create("idb-set",{originalErrorMessage:null===(be=Ct)||void 0===be?void 0:be.message});he.warn(jt.message)}}})).apply(this,arguments)}function Vt(_e){return`${_e.name}!${_e.options.appId}`}class Un{constructor(Oe){this.container=Oe,this._heartbeatsCache=null;const be=this.container.getProvider("app").getImmediate();this._storage=new Mn(be),this._heartbeatsCachePromise=this._storage.read().then(Ct=>(this._heartbeatsCache=Ct,Ct))}triggerHeartbeat(){var Oe=this;return(0,y.Z)(function*(){const Ct=Oe.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),jt=jn();if(null===Oe._heartbeatsCache&&(Oe._heartbeatsCache=yield Oe._heartbeatsCachePromise),Oe._heartbeatsCache.lastSentHeartbeatDate!==jt&&!Oe._heartbeatsCache.heartbeats.some(tn=>tn.date===jt))return Oe._heartbeatsCache.heartbeats.push({date:jt,agent:Ct}),Oe._heartbeatsCache.heartbeats=Oe._heartbeatsCache.heartbeats.filter(tn=>{const cr=new Date(tn.date).valueOf();return Date.now()-cr<=2592e6}),Oe._storage.overwrite(Oe._heartbeatsCache)})()}getHeartbeatsHeader(){var Oe=this;return(0,y.Z)(function*(){if(null===Oe._heartbeatsCache&&(yield Oe._heartbeatsCachePromise),null===Oe._heartbeatsCache||0===Oe._heartbeatsCache.heartbeats.length)return"";const be=jn(),{heartbeatsToSend:Ct,unsentEntries:jt}=function zr(_e,Oe=1024){const be=[];let Ct=_e.slice();for(const jt of _e){const tn=be.find(cr=>cr.agent===jt.agent);if(tn){if(tn.dates.push(jt.date),Ae(be)>Oe){tn.dates.pop();break}}else if(be.push({agent:jt.agent,dates:[jt.date]}),Ae(be)>Oe){be.pop();break}Ct=Ct.slice(1)}return{heartbeatsToSend:be,unsentEntries:Ct}}(Oe._heartbeatsCache.heartbeats),tn=(0,me.L)(JSON.stringify({version:2,heartbeats:Ct}));return Oe._heartbeatsCache.lastSentHeartbeatDate=be,jt.length>0?(Oe._heartbeatsCache.heartbeats=jt,yield Oe._storage.overwrite(Oe._heartbeatsCache)):(Oe._heartbeatsCache.heartbeats=[],Oe._storage.overwrite(Oe._heartbeatsCache)),tn})()}}function jn(){return(new Date).toISOString().substring(0,10)}class Mn{constructor(Oe){this.app=Oe,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,y.Z)(function*(){return!!(0,me.hl)()&&(0,me.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Oe=this;return(0,y.Z)(function*(){return(yield Oe._canUseIndexedDBPromise)&&(yield function ye(_e){return lt.apply(this,arguments)}(Oe.app))||{heartbeats:[]}})()}overwrite(Oe){var be=this;return(0,y.Z)(function*(){var Ct;if(yield be._canUseIndexedDBPromise){const tn=yield be.read();return yt(be.app,{lastSentHeartbeatDate:null!==(Ct=Oe.lastSentHeartbeatDate)&&void 0!==Ct?Ct:tn.lastSentHeartbeatDate,heartbeats:Oe.heartbeats})}})()}add(Oe){var be=this;return(0,y.Z)(function*(){var Ct;if(yield be._canUseIndexedDBPromise){const tn=yield be.read();return yt(be.app,{lastSentHeartbeatDate:null!==(Ct=Oe.lastSentHeartbeatDate)&&void 0!==Ct?Ct:tn.lastSentHeartbeatDate,heartbeats:[...tn.heartbeats,...Oe.heartbeats]})}})()}}function Ae(_e){return(0,me.L)(JSON.stringify({version:2,heartbeats:_e})).length}!function ve(_e){Te(new g.wA("platform-logger",Oe=>new ke(Oe),"PRIVATE")),Te(new g.wA("heartbeat",Oe=>new Un(Oe),"PRIVATE")),qn(Fe,"0.7.32",_e),qn(Fe,"0.7.32","esm2017"),qn("fire-js","")}("")},4859:(ft,Ue,k)=>{k.d(Ue,{H0:()=>Fe,wA:()=>Y});var y=k(5861),g=k(2090);class Y{constructor(he,ge,Pe){this.name=he,this.instanceFactory=ge,this.type=Pe,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(he){return this.instantiationMode=he,this}setMultipleInstances(he){return this.multipleInstances=he,this}setServiceProps(he){return this.serviceProps=he,this}setInstanceCreatedCallback(he){return this.onInstanceCreated=he,this}}const me="[DEFAULT]";class Se{constructor(he,ge){this.name=he,this.container=ge,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(he){const ge=this.normalizeInstanceIdentifier(he);if(!this.instancesDeferred.has(ge)){const Pe=new g.BH;if(this.instancesDeferred.set(ge,Pe),this.isInitialized(ge)||this.shouldAutoInitialize())try{const Et=this.getOrInitializeService({instanceIdentifier:ge});Et&&Pe.resolve(Et)}catch{}}return this.instancesDeferred.get(ge).promise}getImmediate(he){var ge;const Pe=this.normalizeInstanceIdentifier(he?.identifier),Et=null!==(ge=he?.optional)&&void 0!==ge&&ge;if(!this.isInitialized(Pe)&&!this.shouldAutoInitialize()){if(Et)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Pe})}catch(ot){if(Et)return null;throw ot}}getComponent(){return this.component}setComponent(he){if(he.name!==this.name)throw Error(`Mismatching Component ${he.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=he,this.shouldAutoInitialize()){if(function Be(Qe){return"EAGER"===Qe.instantiationMode}(he))try{this.getOrInitializeService({instanceIdentifier:me})}catch{}for(const[ge,Pe]of this.instancesDeferred.entries()){const Et=this.normalizeInstanceIdentifier(ge);try{const ot=this.getOrInitializeService({instanceIdentifier:Et});Pe.resolve(ot)}catch{}}}}clearInstance(he=me){this.instancesDeferred.delete(he),this.instancesOptions.delete(he),this.instances.delete(he)}delete(){var he=this;return(0,y.Z)(function*(){const ge=Array.from(he.instances.values());yield Promise.all([...ge.filter(Pe=>"INTERNAL"in Pe).map(Pe=>Pe.INTERNAL.delete()),...ge.filter(Pe=>"_delete"in Pe).map(Pe=>Pe._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(he=me){return this.instances.has(he)}getOptions(he=me){return this.instancesOptions.get(he)||{}}initialize(he={}){const{options:ge={}}=he,Pe=this.normalizeInstanceIdentifier(he.instanceIdentifier);if(this.isInitialized(Pe))throw Error(`${this.name}(${Pe}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Et=this.getOrInitializeService({instanceIdentifier:Pe,options:ge});for(const[ot,nt]of this.instancesDeferred.entries())Pe===this.normalizeInstanceIdentifier(ot)&&nt.resolve(Et);return Et}onInit(he,ge){var Pe;const Et=this.normalizeInstanceIdentifier(ge),ot=null!==(Pe=this.onInitCallbacks.get(Et))&&void 0!==Pe?Pe:new Set;ot.add(he),this.onInitCallbacks.set(Et,ot);const nt=this.instances.get(Et);return nt&&he(nt,Et),()=>{ot.delete(he)}}invokeOnInitCallbacks(he,ge){const Pe=this.onInitCallbacks.get(ge);if(Pe)for(const Et of Pe)try{Et(he,ge)}catch{}}getOrInitializeService({instanceIdentifier:he,options:ge={}}){let Pe=this.instances.get(he);if(!Pe&&this.component&&(Pe=this.component.instanceFactory(this.container,{instanceIdentifier:(Qe=he,Qe===me?void 0:Qe),options:ge}),this.instances.set(he,Pe),this.instancesOptions.set(he,ge),this.invokeOnInitCallbacks(Pe,he),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,he,Pe)}catch{}var Qe;return Pe||null}normalizeInstanceIdentifier(he=me){return this.component?this.component.multipleInstances?he:me:he}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Fe{constructor(he){this.name=he,this.providers=new Map}addComponent(he){const ge=this.getProvider(he.name);if(ge.isComponentSet())throw new Error(`Component ${he.name} has already been registered with ${this.name}`);ge.setComponent(he)}addOrOverwriteComponent(he){this.getProvider(he.name).isComponentSet()&&this.providers.delete(he.name),this.addComponent(he)}getProvider(he){if(this.providers.has(he))return this.providers.get(he);const ge=new Se(he,this);return this.providers.set(he,ge),ge}getProviders(){return Array.from(this.providers.values())}}},1877:(ft,Ue,k)=>{k.d(Ue,{Am:()=>Qe,Ub:()=>Fe,Yd:()=>Be,in:()=>g});const y=[];var g=(()=>{return(he=g||(g={}))[he.DEBUG=0]="DEBUG",he[he.VERBOSE=1]="VERBOSE",he[he.INFO=2]="INFO",he[he.WARN=3]="WARN",he[he.ERROR=4]="ERROR",he[he.SILENT=5]="SILENT",g;var he})();const Y={debug:g.DEBUG,verbose:g.VERBOSE,info:g.INFO,warn:g.WARN,error:g.ERROR,silent:g.SILENT},me=g.INFO,Se={[g.DEBUG]:"log",[g.VERBOSE]:"log",[g.INFO]:"info",[g.WARN]:"warn",[g.ERROR]:"error"},ke=(he,ge,...Pe)=>{if(ge<he.logLevel)return;const Et=(new Date).toISOString(),ot=Se[ge];if(!ot)throw new Error(`Attempted to log a message with an invalid logType (value: ${ge})`);console[ot](`[${Et}]  ${he.name}:`,...Pe)};class Be{constructor(ge){this.name=ge,this._logLevel=me,this._logHandler=ke,this._userLogHandler=null,y.push(this)}get logLevel(){return this._logLevel}set logLevel(ge){if(!(ge in g))throw new TypeError(`Invalid value "${ge}" assigned to \`logLevel\``);this._logLevel=ge}setLogLevel(ge){this._logLevel="string"==typeof ge?Y[ge]:ge}get logHandler(){return this._logHandler}set logHandler(ge){if("function"!=typeof ge)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ge}get userLogHandler(){return this._userLogHandler}set userLogHandler(ge){this._userLogHandler=ge}debug(...ge){this._userLogHandler&&this._userLogHandler(this,g.DEBUG,...ge),this._logHandler(this,g.DEBUG,...ge)}log(...ge){this._userLogHandler&&this._userLogHandler(this,g.VERBOSE,...ge),this._logHandler(this,g.VERBOSE,...ge)}info(...ge){this._userLogHandler&&this._userLogHandler(this,g.INFO,...ge),this._logHandler(this,g.INFO,...ge)}warn(...ge){this._userLogHandler&&this._userLogHandler(this,g.WARN,...ge),this._logHandler(this,g.WARN,...ge)}error(...ge){this._userLogHandler&&this._userLogHandler(this,g.ERROR,...ge),this._logHandler(this,g.ERROR,...ge)}}function Fe(he){y.forEach(ge=>{ge.setLogLevel(he)})}function Qe(he,ge){for(const Pe of y){let Et=null;ge&&ge.level&&(Et=Y[ge.level]),Pe.userLogHandler=null===he?null:(ot,nt,...Nt)=>{const rt=Nt.map(je=>{if(null==je)return null;if("string"==typeof je)return je;if("number"==typeof je||"boolean"==typeof je)return je.toString();if(je instanceof Error)return je.message;try{return JSON.stringify(je)}catch{return null}}).filter(je=>je).join(" ");nt>=(Et??ot.logLevel)&&he({level:g[nt].toLowerCase(),message:rt,args:Nt,type:ot.name})}}}},8766:(ft,Ue,k)=>{k.d(Ue,{Lj:()=>Le,X3:()=>Ht});var y=k(5861);let Y,me;const Be=new WeakMap,Fe=new WeakMap,Qe=new WeakMap,he=new WeakMap,ge=new WeakMap;let ot={get(oe,Je,de){if(oe instanceof IDBTransaction){if("done"===Je)return Fe.get(oe);if("objectStoreNames"===Je)return oe.objectStoreNames||Qe.get(oe);if("store"===Je)return de.objectStoreNames[1]?void 0:de.objectStore(de.objectStoreNames[0])}return je(oe[Je])},set:(oe,Je,de)=>(oe[Je]=de,!0),has:(oe,Je)=>oe instanceof IDBTransaction&&("done"===Je||"store"===Je)||Je in oe};function rt(oe){return"function"==typeof oe?function Nt(oe){return oe!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ke(){return me||(me=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(oe)?function(...Je){return oe.apply(Re(this),Je),je(Be.get(this))}:function(...Je){return je(oe.apply(Re(this),Je))}:function(Je,...de){const fe=oe.call(Re(this),Je,...de);return Qe.set(fe,Je.sort?Je.sort():[Je]),je(fe)}}(oe):(oe instanceof IDBTransaction&&function Et(oe){if(Fe.has(oe))return;const Je=new Promise((de,fe)=>{const ze=()=>{oe.removeEventListener("complete",Xe),oe.removeEventListener("error",At),oe.removeEventListener("abort",At)},Xe=()=>{de(),ze()},At=()=>{fe(oe.error||new DOMException("AbortError","AbortError")),ze()};oe.addEventListener("complete",Xe),oe.addEventListener("error",At),oe.addEventListener("abort",At)});Fe.set(oe,Je)}(oe),((oe,Je)=>Je.some(de=>oe instanceof de))(oe,function Se(){return Y||(Y=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(oe,ot):oe)}function je(oe){if(oe instanceof IDBRequest)return function Pe(oe){const Je=new Promise((de,fe)=>{const ze=()=>{oe.removeEventListener("success",Xe),oe.removeEventListener("error",At)},Xe=()=>{de(je(oe.result)),ze()},At=()=>{fe(oe.error),ze()};oe.addEventListener("success",Xe),oe.addEventListener("error",At)});return Je.then(de=>{de instanceof IDBCursor&&Be.set(de,oe)}).catch(()=>{}),ge.set(Je,oe),Je}(oe);if(he.has(oe))return he.get(oe);const Je=rt(oe);return Je!==oe&&(he.set(oe,Je),ge.set(Je,oe)),Je}const Re=oe=>ge.get(oe);function Ht(oe,Je,{blocked:de,upgrade:fe,blocking:ze,terminated:Xe}={}){const At=indexedDB.open(oe,Je),Ft=je(At);return fe&&At.addEventListener("upgradeneeded",Gt=>{fe(je(At.result),Gt.oldVersion,Gt.newVersion,je(At.transaction))}),de&&At.addEventListener("blocked",()=>de()),Ft.then(Gt=>{Xe&&Gt.addEventListener("close",()=>Xe()),ze&&Gt.addEventListener("versionchange",()=>ze())}).catch(()=>{}),Ft}function Le(oe,{blocked:Je}={}){const de=indexedDB.deleteDatabase(oe);return Je&&de.addEventListener("blocked",()=>Je()),je(de).then(()=>{})}const Me=["get","getKey","getAll","getAllKeys","count"],$e=["put","add","delete","clear"],It=new Map;function Tt(oe,Je){if(!(oe instanceof IDBDatabase)||Je in oe||"string"!=typeof Je)return;if(It.get(Je))return It.get(Je);const de=Je.replace(/FromIndex$/,""),fe=Je!==de,ze=$e.includes(de);if(!(de in(fe?IDBIndex:IDBObjectStore).prototype)||!ze&&!Me.includes(de))return;const Xe=function(){var At=(0,y.Z)(function*(Ft,...Gt){const ln=this.transaction(Ft,ze?"readwrite":"readonly");let on=ln.store;return fe&&(on=on.index(Gt.shift())),(yield Promise.all([on[de](...Gt),ze&&ln.done]))[0]});return function(Gt){return At.apply(this,arguments)}}();return It.set(Je,Xe),Xe}!function nt(oe){ot=oe(ot)}(oe=>({...oe,get:(Je,de,fe)=>Tt(Je,de)||oe.get(Je,de,fe),has:(Je,de)=>!!Tt(Je,de)||oe.has(Je,de)}))},7185:(ft,Ue,k)=>{k.d(Ue,{Rh:()=>ln,_W:()=>At});var y=k(4650),g=k(7340),Y=k(7579),me=k(6895),Se=k(1481);const ke=["toast-component",""];function Be(it,gt){if(1&it){const Te=y.EpF();y.TgZ(0,"button",5),y.NdJ("click",function(){y.CHM(Te);const Ut=y.oxw();return y.KtG(Ut.remove())}),y.TgZ(1,"span",6),y._uU(2,"\xd7"),y.qZA()()}}function Fe(it,gt){if(1&it&&(y.ynx(0),y._uU(1),y.BQk()),2&it){const Te=y.oxw(2);y.xp6(1),y.hij("[",Te.duplicatesCount+1,"]")}}function Qe(it,gt){if(1&it&&(y.TgZ(0,"div"),y._uU(1),y.YNc(2,Fe,2,1,"ng-container",4),y.qZA()),2&it){const Te=y.oxw();y.Tol(Te.options.titleClass),y.uIk("aria-label",Te.title),y.xp6(1),y.hij(" ",Te.title," "),y.xp6(1),y.Q6J("ngIf",Te.duplicatesCount)}}function he(it,gt){if(1&it&&y._UZ(0,"div",7),2&it){const Te=y.oxw();y.Tol(Te.options.messageClass),y.Q6J("innerHTML",Te.message,y.oJD)}}function ge(it,gt){if(1&it&&(y.TgZ(0,"div",8),y._uU(1),y.qZA()),2&it){const Te=y.oxw();y.Tol(Te.options.messageClass),y.uIk("aria-label",Te.message),y.xp6(1),y.hij(" ",Te.message," ")}}function Pe(it,gt){if(1&it&&(y.TgZ(0,"div"),y._UZ(1,"div",9),y.qZA()),2&it){const Te=y.oxw();y.xp6(1),y.Udp("width",Te.width+"%")}}class Le{constructor(gt,Te){this.component=gt,this.injector=Te}attach(gt,Te){return this._attachedHost=gt,gt.attach(this,Te)}detach(){const gt=this._attachedHost;if(gt)return this._attachedHost=void 0,gt.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(gt){this._attachedHost=gt}}class $e{constructor(gt,Te,Ge,Ut,Cn,tr){this.toastId=gt,this.config=Te,this.message=Ge,this.title=Ut,this.toastType=Cn,this.toastRef=tr,this._onTap=new Y.x,this._onAction=new Y.x,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(gt){this._onAction.next(gt)}onAction(){return this._onAction.asObservable()}}const Tt=new y.OlP("ToastConfig");class oe{constructor(gt){this._overlayRef=gt,this.duplicatesCount=0,this._afterClosed=new Y.x,this._activate=new Y.x,this._manualClose=new Y.x,this._resetTimeout=new Y.x,this._countDuplicate=new Y.x}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(gt,Te){gt&&this._resetTimeout.next(),Te&&this._countDuplicate.next(++this.duplicatesCount)}}class Je{constructor(gt,Te){this._toastPackage=gt,this._parentInjector=Te}get(gt,Te,Ge){return gt===$e?this._toastPackage:this._parentInjector.get(gt,Te,Ge)}}class de extends class Me{attach(gt,Te){return this._attachedPortal=gt,this.attachComponentPortal(gt,Te)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(gt){this._disposeFn=gt}}{constructor(gt,Te,Ge){super(),this._hostDomElement=gt,this._componentFactoryResolver=Te,this._appRef=Ge}attachComponentPortal(gt,Te){const Ge=this._componentFactoryResolver.resolveComponentFactory(gt.component);let Ut;return Ut=Ge.create(gt.injector),this._appRef.attachView(Ut.hostView),this.setDisposeFn(()=>{this._appRef.detachView(Ut.hostView),Ut.destroy()}),Te?this._hostDomElement.insertBefore(this._getComponentRootNode(Ut),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(Ut)),Ut}_getComponentRootNode(gt){return gt.hostView.rootNodes[0]}}class fe{constructor(gt){this._portalHost=gt}attach(gt,Te=!0){return this._portalHost.attach(gt,Te)}detach(){return this._portalHost.detach()}}let ze=(()=>{class it{constructor(Te){this._document=Te}ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const Te=this._document.createElement("div");Te.classList.add("overlay-container"),Te.setAttribute("aria-live","polite"),this._document.body.appendChild(Te),this._containerElement=Te}}return it.\u0275fac=function(Te){return new(Te||it)(y.LFG(me.K0))},it.\u0275prov=y.Yz7({token:it,factory:it.\u0275fac,providedIn:"root"}),it})(),Xe=(()=>{class it{constructor(Te,Ge,Ut,Cn){this._overlayContainer=Te,this._componentFactoryResolver=Ge,this._appRef=Ut,this._document=Cn,this._paneElements=new Map}create(Te,Ge){return this._createOverlayRef(this.getPaneElement(Te,Ge))}getPaneElement(Te="",Ge){return this._paneElements.get(Ge)||this._paneElements.set(Ge,{}),this._paneElements.get(Ge)[Te]||(this._paneElements.get(Ge)[Te]=this._createPaneElement(Te,Ge)),this._paneElements.get(Ge)[Te]}_createPaneElement(Te,Ge){const Ut=this._document.createElement("div");return Ut.id="toast-container",Ut.classList.add(Te),Ut.classList.add("toast-container"),Ge?Ge.getContainerElement().appendChild(Ut):this._overlayContainer.getContainerElement().appendChild(Ut),Ut}_createPortalHost(Te){return new de(Te,this._componentFactoryResolver,this._appRef)}_createOverlayRef(Te){return new fe(this._createPortalHost(Te))}}return it.\u0275fac=function(Te){return new(Te||it)(y.LFG(ze),y.LFG(y._Vd),y.LFG(y.z2F),y.LFG(me.K0))},it.\u0275prov=y.Yz7({token:it,factory:it.\u0275fac,providedIn:"root"}),it})(),At=(()=>{class it{constructor(Te,Ge,Ut,Cn,tr){this.overlay=Ge,this._injector=Ut,this.sanitizer=Cn,this.ngZone=tr,this.currentlyActive=0,this.toasts=[],this.index=0,this.toastrConfig={...Te.default,...Te.config},Te.config.iconClasses&&(this.toastrConfig.iconClasses={...Te.default.iconClasses,...Te.config.iconClasses})}show(Te,Ge,Ut={},Cn=""){return this._preBuildNotification(Cn,Te,Ge,this.applyConfig(Ut))}success(Te,Ge,Ut={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",Te,Ge,this.applyConfig(Ut))}error(Te,Ge,Ut={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",Te,Ge,this.applyConfig(Ut))}info(Te,Ge,Ut={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",Te,Ge,this.applyConfig(Ut))}warning(Te,Ge,Ut={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",Te,Ge,this.applyConfig(Ut))}clear(Te){for(const Ge of this.toasts)if(void 0!==Te){if(Ge.toastId===Te)return void Ge.toastRef.manualClose()}else Ge.toastRef.manualClose()}remove(Te){const Ge=this._findToast(Te);if(!Ge||(Ge.activeToast.toastRef.close(),this.toasts.splice(Ge.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const Ut=this.toasts[this.currentlyActive].toastRef;Ut.isInactive()||(this.currentlyActive=this.currentlyActive+1,Ut.activate())}return!0}findDuplicate(Te="",Ge="",Ut,Cn){const{includeTitleDuplicates:tr}=this.toastrConfig;for(const lr of this.toasts){const Hn=tr&&lr.title===Te;if((!tr||Hn)&&lr.message===Ge)return lr.toastRef.onDuplicate(Ut,Cn),lr}return null}applyConfig(Te={}){return{...this.toastrConfig,...Te}}_findToast(Te){for(let Ge=0;Ge<this.toasts.length;Ge++)if(this.toasts[Ge].toastId===Te)return{index:Ge,activeToast:this.toasts[Ge]};return null}_preBuildNotification(Te,Ge,Ut,Cn){return Cn.onActivateTick?this.ngZone.run(()=>this._buildNotification(Te,Ge,Ut,Cn)):this._buildNotification(Te,Ge,Ut,Cn)}_buildNotification(Te,Ge,Ut,Cn){if(!Cn.toastComponent)throw new Error("toastComponent required");const tr=this.findDuplicate(Ut,Ge,this.toastrConfig.resetTimeoutOnDuplicate&&Cn.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&Ut||Ge)&&this.toastrConfig.preventDuplicates&&null!==tr)return tr;this.previousToastMessage=Ge;let lr=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(lr=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const Hn=this.overlay.create(Cn.positionClass,this.overlayContainer);this.index=this.index+1;let Zn=Ge;Ge&&Cn.enableHtml&&(Zn=this.sanitizer.sanitize(y.q3G.HTML,Ge));const Dn=new oe(Hn),kn=new $e(this.index,Cn,Zn,Ut,Te,Dn),sr=new Je(kn,this._injector),Nn=new Le(Cn.toastComponent,sr),xt=Hn.attach(Nn,this.toastrConfig.newestOnTop);Dn.componentInstance=xt.instance;const qn={toastId:this.index,title:Ut||"",message:Ge||"",toastRef:Dn,onShown:Dn.afterActivate(),onHidden:Dn.afterClosed(),onTap:kn.onTap(),onAction:kn.onAction(),portal:xt};return lr||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{qn.toastRef.activate()})),this.toasts.push(qn),qn}}return it.\u0275fac=function(Te){return new(Te||it)(y.LFG(Tt),y.LFG(Xe),y.LFG(y.zs3),y.LFG(Se.H7),y.LFG(y.R0b))},it.\u0275prov=y.Yz7({token:it,factory:it.\u0275fac,providedIn:"root"}),it})();const Gt={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing",payload:null,toastComponent:(()=>{class it{constructor(Te,Ge,Ut){this.toastrService=Te,this.toastPackage=Ge,this.ngZone=Ut,this.width=-1,this.toastClasses="",this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}},this.message=Ge.message,this.title=Ge.title,this.options=Ge.config,this.originalTimeout=Ge.config.timeOut,this.toastClasses=`${Ge.toastType} ${Ge.config.toastClass}`,this.sub=Ge.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=Ge.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=Ge.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=Ge.toastRef.countDuplicate().subscribe(Cn=>{this.duplicatesCount=Cn})}get displayStyle(){if("inactive"===this.state.value)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state={...this.state,value:"active"},!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const Te=(new Date).getTime();this.width=(this.hideTime-Te)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state={...this.state,value:"active"},this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state={...this.state,value:"removed"},this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state.value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(Te,Ge){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(Te),Ge)):this.timeout=setTimeout(()=>Te(),Ge)}outsideInterval(Te,Ge){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(Te),Ge)):this.intervalId=setInterval(()=>Te(),Ge)}runInsideAngular(Te){this.ngZone?this.ngZone.run(()=>Te()):Te()}}return it.\u0275fac=function(Te){return new(Te||it)(y.Y36(At),y.Y36($e),y.Y36(y.R0b))},it.\u0275cmp=y.Xpm({type:it,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(Te,Ge){1&Te&&y.NdJ("click",function(){return Ge.tapToast()})("mouseenter",function(){return Ge.stickAround()})("mouseleave",function(){return Ge.delayedHideToast()}),2&Te&&(y.d8E("@flyInOut",Ge.state),y.Tol(Ge.toastClasses),y.Udp("display",Ge.displayStyle))},attrs:ke,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(Te,Ge){1&Te&&(y.YNc(0,Be,3,0,"button",0),y.YNc(1,Qe,3,5,"div",1),y.YNc(2,he,1,3,"div",2),y.YNc(3,ge,2,4,"div",3),y.YNc(4,Pe,2,2,"div",4)),2&Te&&(y.Q6J("ngIf",Ge.options.closeButton),y.xp6(1),y.Q6J("ngIf",Ge.title),y.xp6(1),y.Q6J("ngIf",Ge.message&&Ge.options.enableHtml),y.xp6(1),y.Q6J("ngIf",Ge.message&&!Ge.options.enableHtml),y.xp6(1),y.Q6J("ngIf",Ge.options.progressBar))},dependencies:[me.O5],encapsulation:2,data:{animation:[(0,g.X$)("flyInOut",[(0,g.SB)("inactive",(0,g.oB)({opacity:0})),(0,g.SB)("active",(0,g.oB)({opacity:1})),(0,g.SB)("removed",(0,g.oB)({opacity:0})),(0,g.eR)("inactive => active",(0,g.jt)("{{ easeTime }}ms {{ easing }}")),(0,g.eR)("active => removed",(0,g.jt)("{{ easeTime }}ms {{ easing }}"))])]}}),it})()};let ln=(()=>{class it{static forRoot(Te={}){return{ngModule:it,providers:[{provide:Tt,useValue:{default:Gt,config:Te}}]}}}return it.\u0275fac=function(Te){return new(Te||it)},it.\u0275mod=y.oAB({type:it}),it.\u0275inj=y.cJS({imports:[me.ez]}),it})()},5861:(ft,Ue,k)=>{function y(Y,me,Se,ke,Be,Fe,Qe){try{var he=Y[Fe](Qe),ge=he.value}catch(Pe){return void Se(Pe)}he.done?me(ge):Promise.resolve(ge).then(ke,Be)}function g(Y){return function(){var me=this,Se=arguments;return new Promise(function(ke,Be){var Fe=Y.apply(me,Se);function Qe(ge){y(Fe,ke,Be,Qe,he,"next",ge)}function he(ge){y(Fe,ke,Be,Qe,he,"throw",ge)}Qe(void 0)})}}k.d(Ue,{Z:()=>g})}},ft=>{ft(ft.s=1140)}]);