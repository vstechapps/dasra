"use strict";(self.webpackChunktransfer_pricing_digital=self.webpackChunktransfer_pricing_digital||[]).push([[179],{440:(ut,Be,k)=>{k.d(Be,{nm:()=>$i});var y=k(5813);k(4650),k(5867);var Ne=k(5861),Me=k(9681),$e=k(4859),Mt=k(2090),It=k(1877);const oe=new Map,Je={activated:!1,tokenObservers:[]},de={initialized:!1,enabled:!1};function fe(Ke){return oe.get(Ke)||Je}function Ze(Ke,je){oe.set(Ke,je)}function Xe(){return de}class Dn{constructor(je,et,Tt,Zt,dn){if(this.operation=je,this.retryPolicy=et,this.getWaitDuration=Tt,this.lowerBound=Zt,this.upperBound=dn,this.pending=null,this.nextErrorWaitInterval=Zt,Zt>dn)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(je){var et=this;return(0,Ne.Z)(function*(){et.stop();try{et.pending=new Mt.BH,yield function gn(Ke){return new Promise(je=>{setTimeout(je,Ke)})}(et.getNextRun(je)),et.pending.resolve(),yield et.pending.promise,et.pending=new Mt.BH,yield et.operation(),et.pending.resolve(),yield et.pending.promise,et.process(!0).catch(()=>{})}catch(Tt){et.retryPolicy(Tt)?et.process(!1).catch(()=>{}):et.stop()}})()}getNextRun(je){if(je)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const et=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),et}}}const _t=new Mt.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function ze(Ke){if(!fe(Ke).activated)throw _t.create("use-before-activation",{appName:Ke.name})}function rr(Ke,je){return dr.apply(this,arguments)}function dr(){return(dr=(0,Ne.Z)(function*({url:Ke,body:je},et){var Tt,Zt;const dn={"Content-Type":"application/json"},Sn=et.getImmediate({optional:!0});if(Sn){const io=yield Sn.getHeartbeatsHeader();io&&(dn["X-Firebase-Client"]=io)}const Xr={method:"POST",body:JSON.stringify(je),headers:dn};let fr,Zi;try{fr=yield fetch(Ke,Xr)}catch(io){throw _t.create("fetch-network-error",{originalErrorMessage:null===(Tt=io)||void 0===Tt?void 0:Tt.message})}if(200!==fr.status)throw _t.create("fetch-status-error",{httpStatus:fr.status});try{Zi=yield fr.json()}catch(io){throw _t.create("fetch-parse-error",{originalErrorMessage:null===(Zt=io)||void 0===Zt?void 0:Zt.message})}const Yo=Zi.ttl.match(/^([\d.]+)(s)$/);if(!Yo||!Yo[2]||isNaN(Number(Yo[1])))throw _t.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${Zi.ttl}`});const Vi=1e3*Number(Yo[1]),zi=Date.now();return{token:Zi.token,expireTimeMillis:zi+Vi,issuedAtTimeMillis:zi}})).apply(this,arguments)}function Mn(Ke,je){const{projectId:et,appId:Tt,apiKey:Zt}=Ke.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${et}/apps/${Tt}:exchangeDebugToken?key=${Zt}`,body:{debug_token:je}}}const Un="firebase-app-check-store";let Qn=null;function br(){return Qn||(Qn=new Promise((Ke,je)=>{var et;try{const Tt=indexedDB.open("firebase-app-check-database",1);Tt.onsuccess=Zt=>{Ke(Zt.target.result)},Tt.onerror=Zt=>{var dn;je(_t.create("storage-open",{originalErrorMessage:null===(dn=Zt.target.error)||void 0===dn?void 0:dn.message}))},Tt.onupgradeneeded=Zt=>{0===Zt.oldVersion&&Zt.target.result.createObjectStore(Un,{keyPath:"compositeKey"})}}catch(Tt){je(_t.create("storage-open",{originalErrorMessage:null===(et=Tt)||void 0===et?void 0:et.message}))}}),Qn)}function Se(){return(Se=(0,Ne.Z)(function*(Ke,je){const Tt=(yield br()).transaction(Un,"readwrite"),dn=Tt.objectStore(Un).put({compositeKey:Ke,value:je});return new Promise((Sn,Xr)=>{dn.onsuccess=fr=>{Sn()},Tt.onerror=fr=>{var Zi;Xr(_t.create("storage-set",{originalErrorMessage:null===(Zi=fr.target.error)||void 0===Zi?void 0:Zi.message}))}})})).apply(this,arguments)}const tn=new It.Yd("@firebase/app-check");function Gt(Ke,je){return(0,Mt.hl)()?function Yr(Ke,je){return function gt(Ke,je){return Se.apply(this,arguments)}(function vt(Ke){return`${Ke.options.appId}-${Ke.name}`}(Ke),je)}(Ke,je).catch(et=>{tn.warn(`Failed to write token to IndexedDB. Error: ${et}`)}):Promise.resolve()}function Zr(){return Xe().enabled}function An(){return Ie.apply(this,arguments)}function Ie(){return(Ie=(0,Ne.Z)(function*(){const Ke=Xe();if(Ke.enabled&&Ke.token)return Ke.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const me={error:"UNKNOWN_ERROR"};function Oe(Ke){return Mt.US.encodeString(JSON.stringify(Ke),!1)}function be(Ke){return Ct.apply(this,arguments)}function Ct(){return(Ct=(0,Ne.Z)(function*(Ke,je=!1){const et=Ke.app;ze(et);const Tt=fe(et);let dn,Zt=Tt.token;if(!Zt){const fr=yield Tt.cachedTokenPromise;fr&&Vn(fr)&&(Zt=fr)}if(!je&&Zt&&Vn(Zt))return{token:Zt.token};let Xr,Sn=!1;if(Zr()){Tt.exchangeTokenPromise||(Tt.exchangeTokenPromise=rr(Mn(et,yield An()),Ke.heartbeatServiceProvider).then(Zi=>(Tt.exchangeTokenPromise=void 0,Zi)),Sn=!0);const fr=yield Tt.exchangeTokenPromise;return yield Gt(et,fr),Ze(et,Object.assign(Object.assign({},Tt),{token:fr})),{token:fr.token}}try{Tt.exchangeTokenPromise||(Tt.exchangeTokenPromise=Tt.provider.getToken().then(fr=>(Tt.exchangeTokenPromise=void 0,fr)),Sn=!0),Zt=yield Tt.exchangeTokenPromise}catch(fr){"appCheck/throttled"===fr.code?tn.warn(fr.message):tn.error(fr),dn=fr}return Zt?(Xr={token:Zt.token},Ze(et,Object.assign(Object.assign({},Tt),{token:Zt})),yield Gt(et,Zt)):Xr=Fn(dn),Sn&&Br(et,Xr),Xr})).apply(this,arguments)}function nn(Ke,je){const et=fe(Ke),Tt=et.tokenObservers.filter(Zt=>Zt.next!==je);0===Tt.length&&et.tokenRefresher&&et.tokenRefresher.isRunning()&&et.tokenRefresher.stop(),Ze(Ke,Object.assign(Object.assign({},et),{tokenObservers:Tt}))}function hr(Ke){const{app:je}=Ke,et=fe(je);let Tt=et.tokenRefresher;Tt||(Tt=function ar(Ke){const{app:je}=Ke;return new Dn((0,Ne.Z)(function*(){let Tt;if(Tt=fe(je).token?yield be(Ke,!0):yield be(Ke),Tt.error)throw Tt.error}),()=>!0,()=>{const et=fe(je);if(et.token){let Tt=et.token.issuedAtTimeMillis+.5*(et.token.expireTimeMillis-et.token.issuedAtTimeMillis)+3e5;return Tt=Math.min(Tt,et.token.expireTimeMillis-3e5),Math.max(0,Tt-Date.now())}return 0},3e4,96e4)}(Ke),Ze(je,Object.assign(Object.assign({},et),{tokenRefresher:Tt}))),!Tt.isRunning()&&et.isTokenAutoRefreshEnabled&&Tt.start()}function Br(Ke,je){const et=fe(Ke).tokenObservers;for(const Tt of et)try{"EXTERNAL"===Tt.type&&null!=je.error?Tt.error(je.error):Tt.next(je)}catch{}}function Vn(Ke){return Ke.expireTimeMillis-Date.now()>0}function Fn(Ke){return{token:Oe(me),error:Ke}}class Er{constructor(je,et){this.app=je,this.heartbeatServiceProvider=et}_delete(){const{tokenObservers:je}=fe(this.app);for(const et of je)nn(this.app,et.next);return Promise.resolve()}}const ko="app-check-internal";!function Ti(){(0,Me._registerComponent)(new $e.wA("app-check",Ke=>function Ur(Ke,je){return new Er(Ke,je)}(Ke.getProvider("app").getImmediate(),Ke.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((Ke,je,et)=>{Ke.getProvider(ko).initialize()})),(0,Me._registerComponent)(new $e.wA(ko,Ke=>function wi(Ke){return{getToken:je=>be(Ke,je),addTokenListener:je=>function jt(Ke,je,et,Tt){const{app:Zt}=Ke,dn=fe(Zt),Sn={next:et,error:Tt,type:je};if(Ze(Zt,Object.assign(Object.assign({},dn),{tokenObservers:[...dn.tokenObservers,Sn]})),dn.token&&Vn(dn.token)){const Xr=dn.token;Promise.resolve().then(()=>{et({token:Xr.token}),hr(Ke)}).catch(()=>{})}dn.cachedTokenPromise.then(()=>hr(Ke))}(Ke,"INTERNAL",je),removeTokenListener:je=>nn(Ke.app,je)}}(Ke.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Me.registerVersion)("@firebase/app-check","0.5.12")}();class $i{constructor(){return(0,y.vb)("app-check")}}typeof window<"u"&&window},1205:(ut,Be,k)=>{k.d(Be,{zQ:()=>At,rT:()=>de,f7:()=>Ze,L6:()=>oe,_Q:()=>Je,lh:()=>fe,Qv:()=>It,nw:()=>Xe});var y=k(4650),h=k(7579),q=k(9646),_e=k(9751),Ae=k(8996),Le=k(6451),Ue=k(5363),Fe=k(3900),Qe=k(4004),he=k(6063);class ge extends h.x{constructor(un=1/0,ln=1/0,Dt=he.l){super(),this._bufferSize=un,this._windowTime=ln,this._timestampProvider=Dt,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=ln===1/0,this._bufferSize=Math.max(1,un),this._windowTime=Math.max(1,ln)}next(un){const{isStopped:ln,_buffer:Dt,_infiniteTimeWindow:Dn,_timestampProvider:gn,_windowTime:it}=this;ln||(Dt.push(un),!Dn&&Dt.push(gn.now()+it)),this._trimBuffer(),super.next(un)}_subscribe(un){this._throwIfClosed(),this._trimBuffer();const ln=this._innerSubscribe(un),{_infiniteTimeWindow:Dt,_buffer:Dn}=this,gn=Dn.slice();for(let it=0;it<gn.length&&!un.closed;it+=Dt?1:2)un.next(gn[it]);return this._checkFinalizedStatuses(un),ln}_trimBuffer(){const{_bufferSize:un,_timestampProvider:ln,_buffer:Dt,_infiniteTimeWindow:Dn}=this,gn=(Dn?1:2)*un;if(un<1/0&&gn<Dt.length&&Dt.splice(0,Dt.length-gn),!Dn){const it=ln.now();let _t=0;for(let Te=1;Te<Dt.length&&Dt[Te]<=it;Te+=2)_t=Te;_t&&Dt.splice(0,_t+1)}}}var Pe=k(3099);function Et(zt,un,ln){let Dt,Dn=!1;return zt&&"object"==typeof zt?({bufferSize:Dt=1/0,windowTime:un=1/0,refCount:Dn=!1,scheduler:ln}=zt):Dt=zt??1/0,(0,Pe.B)({connector:()=>new ge(Dt,un,ln),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:Dn})}var st=k(590),tt=k(576);function Bt(zt,un){return(0,tt.m)(un)?(0,Fe.w)(()=>zt,un):(0,Fe.w)(()=>zt)}var rt=k(9468),We=k(9300),Re=k(5813),Wt=k(2011),Ne=k(6895),Me=k(440);k(127);const It=new y.OlP("angularfire2.auth.use-emulator"),oe=new y.OlP("angularfire2.auth.settings"),Je=new y.OlP("angularfire2.auth.tenant-id"),de=new y.OlP("angularfire2.auth.langugage-code"),fe=new y.OlP("angularfire2.auth.use-device-language"),Ze=new y.OlP("angularfire.auth.persistence"),Xe=(zt,un,ln,Dt,Dn,gn,it,_t)=>(0,Wt.cc)(`${zt.name}.auth`,"AngularFireAuth",zt.name,()=>{const Te=un.runOutsideAngular(()=>zt.auth());if(ln&&Te.useEmulator(...ln),Dt&&(Te.tenantId=Dt),Te.languageCode=Dn,gn&&Te.useDeviceLanguage(),it)for(const[ze,Vt]of Object.entries(it))Te.settings[ze]=Vt;return _t&&Te.setPersistence(_t),Te},[ln,Dt,Dn,gn,it,_t]);let At=(()=>{class zt{constructor(ln,Dt,Dn,gn,it,_t,Te,ze,Vt,wn,rr,dr){const Kn=new h.x,Yn=(0,q.of)(void 0).pipe((0,Ue.Q)(it.outsideAngular),(0,Fe.w)(()=>gn.runOutsideAngular(()=>Promise.resolve().then(k.bind(k,2274)))),(0,Qe.U)(()=>(0,Wt.on)(ln,gn,Dt)),(0,Qe.U)(Mn=>Xe(Mn,gn,_t,ze,Vt,wn,Te,rr)),Et({bufferSize:1,refCount:!1}));if((0,Ne.PM)(Dn))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,q.of)(null);else{Yn.pipe((0,st.P)()).subscribe();const Nn=Yn.pipe((0,Fe.w)(Ot=>Ot.getRedirectResult().then(Qn=>Qn,()=>null)),Re.iC,Et({bufferSize:1,refCount:!1})),sr=Yn.pipe((0,Fe.w)(Ot=>new _e.y(Qn=>({unsubscribe:gn.runOutsideAngular(()=>Ot.onAuthStateChanged(br=>Qn.next(br),br=>Qn.error(br),()=>Qn.complete()))})))),Un=Yn.pipe((0,Fe.w)(Ot=>new _e.y(Qn=>({unsubscribe:gn.runOutsideAngular(()=>Ot.onIdTokenChanged(br=>Qn.next(br),br=>Qn.error(br),()=>Qn.complete()))}))));this.authState=Nn.pipe(Bt(sr),(0,rt.R)(it.outsideAngular),(0,Ue.Q)(it.insideAngular)),this.user=Nn.pipe(Bt(Un),(0,rt.R)(it.outsideAngular),(0,Ue.Q)(it.insideAngular)),this.idToken=this.user.pipe((0,Fe.w)(Ot=>Ot?(0,Ae.D)(Ot.getIdToken()):(0,q.of)(null))),this.idTokenResult=this.user.pipe((0,Fe.w)(Ot=>Ot?(0,Ae.D)(Ot.getIdTokenResult()):(0,q.of)(null))),this.credential=(0,Le.T)(Nn,Kn,this.authState.pipe((0,We.h)(Ot=>!Ot))).pipe((0,Qe.U)(Ot=>Ot?.user?Ot:null),(0,rt.R)(it.outsideAngular),(0,Ue.Q)(it.insideAngular))}return(0,Wt.pX)(this,Yn,gn,{spy:{apply:(Mn,Nn,sr)=>{(Mn.startsWith("signIn")||Mn.startsWith("createUser"))&&sr.then(Un=>Kn.next(Un))}}})}}return zt.\u0275fac=function(ln){return new(ln||zt)(y.LFG(Wt.Dh),y.LFG(Wt.xv,8),y.LFG(y.Lbi),y.LFG(y.R0b),y.LFG(Re.HU),y.LFG(It,8),y.LFG(oe,8),y.LFG(Je,8),y.LFG(de,8),y.LFG(fe,8),y.LFG(Ze,8),y.LFG(Me.nm,8))},zt.\u0275prov=y.Yz7({token:zt,factory:zt.\u0275fac,providedIn:"any"}),zt})()},2011:(ut,Be,k)=>{k.d(Be,{Dh:()=>Fe,GT:()=>Le,cc:()=>st,hO:()=>Et,on:()=>he,pX:()=>Ae,xv:()=>Qe});var y=k(4650),h=k(127),q=k(5813);ut=k.hmd(ut);const _e=["ngOnDestroy"],Ae=(We,Re,Wt,Ne={})=>new Proxy(We,{get:(Me,$e)=>Wt.runOutsideAngular(()=>{var Mt;if(We[$e])return!(null===(Mt=Ne?.spy)||void 0===Mt)&&Mt.get&&Ne.spy.get($e,We[$e]),We[$e];if(_e.indexOf($e)>-1)return()=>{};const It=Re.toPromise().then(oe=>{const Je=oe&&oe[$e];return"function"==typeof Je?Je.bind(oe):Je&&Je.then?Je.then(de=>Wt.run(()=>de)):Wt.run(()=>Je)});return new Proxy(()=>{},{get:(oe,Je)=>It[Je],apply:(oe,Je,de)=>It.then(fe=>{var Ze;const Xe=fe&&fe(...de);return!(null===(Ze=Ne?.spy)||void 0===Ze)&&Ze.apply&&Ne.spy.apply($e,de,Xe),Xe})})})}),Le=(We,Re)=>{Re.forEach(Wt=>{Object.getOwnPropertyNames(Wt.prototype||Wt).forEach(Ne=>{Object.defineProperty(We.prototype,Ne,Object.getOwnPropertyDescriptor(Wt.prototype||Wt,Ne))})})};class Ue{constructor(Re){return Re}}const Fe=new y.OlP("angularfire2.app.options"),Qe=new y.OlP("angularfire2.app.name");function he(We,Re,Wt){const Me="object"==typeof Wt&&Wt||{};Me.name=Me.name||"string"==typeof Wt&&Wt||"[DEFAULT]";const Mt=h.Z.apps.filter(It=>It&&It.name===Me.name)[0]||Re.runOutsideAngular(()=>h.Z.initializeApp(We,Me));try{JSON.stringify(We)!==JSON.stringify(Mt.options)&&ge("error",`${Mt.name} Firebase App already initialized with different options${ut.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new Ue(Mt)}const ge=(We,...Re)=>{(0,y.X6Q)()&&typeof console<"u"&&console[We](...Re)},Pe={provide:Ue,useFactory:he,deps:[Fe,y.R0b,[new y.FiY,Qe]]};let Et=(()=>{class We{constructor(Wt){h.Z.registerVersion("angularfire",q.q4.full,"core"),h.Z.registerVersion("angularfire",q.q4.full,"app-compat"),h.Z.registerVersion("angular",y.q4F.full,Wt.toString())}static initializeApp(Wt,Ne){return{ngModule:We,providers:[{provide:Fe,useValue:Wt},{provide:Qe,useValue:Ne}]}}}return We.\u0275fac=function(Wt){return new(Wt||We)(y.LFG(y.Lbi))},We.\u0275mod=y.oAB({type:We}),We.\u0275inj=y.cJS({providers:[Pe]}),We})();function st(We,Re,Wt,Ne,Me){const[,$e,Mt]=globalThis.\u0275AngularfireInstanceCache.find(It=>It[0]===We)||[];if($e)return function tt(We,Re){try{return We.toString()===Re.toString()}catch{return We===Re}}(Me,Mt)||(rt("error",`${Re} was already initialized on the ${Wt} Firebase App with different settings.${Bt?" You may need to reload as Firebase is not HMR aware.":""}`),rt("warn",{is:Me,was:Mt})),$e;{const It=Ne();return globalThis.\u0275AngularfireInstanceCache.push([We,It,Me]),It}}const Bt=!!ut.hot,rt=(We,...Re)=>{(0,y.X6Q)()&&typeof console<"u"&&console[We](...Re)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(ut,Be,k)=>{k.d(Be,{q4:()=>ce,iC:()=>es,HU:()=>Zo,vb:()=>di,JM:()=>sa});var y=k(4650),h=k(5867),q=k(5861),_e=k(9681),Ae=k(2090),Le=k(4859),Ue=k(1877),Fe=k(8766);const Qe="@firebase/installations",he="0.5.12",Pe=`w:${he}`,Et="FIS_v2",Re=new Ae.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Wt(B){return B instanceof Ae.ZR&&B.code.includes("request-failed")}function Ne({projectId:B}){return`https://firebaseinstallations.googleapis.com/v1/projects/${B}/installations`}function Me(B){return{token:B.token,requestStatus:2,expiresIn:fe(B.expiresIn),creationTime:Date.now()}}function $e(B,j){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,q.Z)(function*(B,j){const pe=(yield j.json()).error;return Re.create("request-failed",{requestName:B,serverCode:pe.code,serverMessage:pe.message,serverStatus:pe.status})})).apply(this,arguments)}function It({apiKey:B}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":B})}function oe(B,{refreshToken:j}){const X=It(B);return X.append("Authorization",function Ze(B){return`${Et} ${B}`}(j)),X}function Je(B){return de.apply(this,arguments)}function de(){return(de=(0,q.Z)(function*(B){const j=yield B();return j.status>=500&&j.status<600?B():j})).apply(this,arguments)}function fe(B){return Number(B.replace("s","000"))}function Xe(B,j){return At.apply(this,arguments)}function At(){return(At=(0,q.Z)(function*({appConfig:B,heartbeatServiceProvider:j},{fid:X}){const pe=Ne(B),Ye=It(B),ct=j.getImmediate({optional:!0});if(ct){const Pn=yield ct.getHeartbeatsHeader();Pn&&Ye.append("x-firebase-client",Pn)}const Xt={method:"POST",headers:Ye,body:JSON.stringify({fid:X,authVersion:Et,appId:B.appId,sdkVersion:Pe})},En=yield Je(()=>fetch(pe,Xt));if(En.ok){const Pn=yield En.json();return{fid:Pn.fid||X,registrationStatus:2,refreshToken:Pn.refreshToken,authToken:Me(Pn.authToken)}}throw yield $e("Create Installation",En)})).apply(this,arguments)}function Ut(B){return new Promise(j=>{setTimeout(j,B)})}const un=/^[cdef][\w-]{21}$/;function Dt(){try{const B=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(B),B[0]=112+B[0]%16;const X=function Dn(B){return function zt(B){return btoa(String.fromCharCode(...B)).replace(/\+/g,"-").replace(/\//g,"_")}(B).substr(0,22)}(B);return un.test(X)?X:""}catch{return""}}function gn(B){return`${B.appName}!${B.appId}`}const it=new Map;function _t(B,j){const X=gn(B);Vt(X,j),function wn(B,j){const X=function dr(){return!rr&&"BroadcastChannel"in self&&(rr=new BroadcastChannel("[Firebase] FID Change"),rr.onmessage=B=>{Vt(B.data.key,B.data.fid)}),rr}();X&&X.postMessage({key:B,fid:j}),function Kn(){0===it.size&&rr&&(rr.close(),rr=null)}()}(X,j)}function Vt(B,j){const X=it.get(B);if(X)for(const pe of X)pe(j)}let rr=null;const Nn="firebase-installations-store";let sr=null;function Un(){return sr||(sr=(0,Fe.X3)("firebase-installations-database",1,{upgrade:(B,j)=>{0===j&&B.createObjectStore(Nn)}})),sr}function Ot(B,j){return Qn.apply(this,arguments)}function Qn(){return(Qn=(0,q.Z)(function*(B,j){const X=gn(B),Ye=(yield Un()).transaction(Nn,"readwrite"),ct=Ye.objectStore(Nn),Lt=yield ct.get(X);return yield ct.put(j,X),yield Ye.done,(!Lt||Lt.fid!==j.fid)&&_t(B,j.fid),j})).apply(this,arguments)}function br(B){return Tr.apply(this,arguments)}function Tr(){return(Tr=(0,q.Z)(function*(B){const j=gn(B),pe=(yield Un()).transaction(Nn,"readwrite");yield pe.objectStore(Nn).delete(j),yield pe.done})).apply(this,arguments)}function Yr(B,j){return Wr.apply(this,arguments)}function Wr(){return(Wr=(0,q.Z)(function*(B,j){const X=gn(B),Ye=(yield Un()).transaction(Nn,"readwrite"),ct=Ye.objectStore(Nn),Lt=yield ct.get(X),Xt=j(Lt);return void 0===Xt?yield ct.delete(X):yield ct.put(Xt,X),yield Ye.done,Xt&&(!Lt||Lt.fid!==Xt.fid)&&_t(B,Xt.fid),Xt})).apply(this,arguments)}function mr(B){return gt.apply(this,arguments)}function gt(){return(gt=(0,q.Z)(function*(B){let j;const X=yield Yr(B.appConfig,pe=>{const Ye=Se(pe),ct=ye(B,Ye);return j=ct.registrationPromise,ct.installationEntry});return""===X.fid?{installationEntry:yield j}:{installationEntry:X,registrationPromise:j}})).apply(this,arguments)}function Se(B){return Gt(B||{fid:Dt(),registrationStatus:0})}function ye(B,j){if(0===j.registrationStatus){if(!navigator.onLine)return{installationEntry:j,registrationPromise:Promise.reject(Re.create("app-offline"))};const X={fid:j.fid,registrationStatus:1,registrationTime:Date.now()},pe=function lt(B,j){return vt.apply(this,arguments)}(B,X);return{installationEntry:X,registrationPromise:pe}}return 1===j.registrationStatus?{installationEntry:j,registrationPromise:tn(B)}:{installationEntry:j}}function vt(){return(vt=(0,q.Z)(function*(B,j){try{const X=yield Xe(B,j);return Ot(B.appConfig,X)}catch(X){throw Wt(X)&&409===X.customData.serverCode?yield br(B.appConfig):yield Ot(B.appConfig,{fid:j.fid,registrationStatus:0}),X}})).apply(this,arguments)}function tn(B){return Ht.apply(this,arguments)}function Ht(){return(Ht=(0,q.Z)(function*(B){let j=yield On(B.appConfig);for(;1===j.registrationStatus;)yield Ut(100),j=yield On(B.appConfig);if(0===j.registrationStatus){const{installationEntry:X,registrationPromise:pe}=yield mr(B);return pe||X}return j})).apply(this,arguments)}function On(B){return Yr(B,j=>{if(!j)throw Re.create("installation-not-found");return Gt(j)})}function Gt(B){return function Wn(B){return 1===B.registrationStatus&&B.registrationTime+1e4<Date.now()}(B)?{fid:B.fid,registrationStatus:0}:B}function $n(B,j){return Zr.apply(this,arguments)}function Zr(){return(Zr=(0,q.Z)(function*({appConfig:B,heartbeatServiceProvider:j},X){const pe=An(B,X),Ye=oe(B,X),ct=j.getImmediate({optional:!0});if(ct){const Pn=yield ct.getHeartbeatsHeader();Pn&&Ye.append("x-firebase-client",Pn)}const Xt={method:"POST",headers:Ye,body:JSON.stringify({installation:{sdkVersion:Pe,appId:B.appId}})},En=yield Je(()=>fetch(pe,Xt));if(En.ok)return Me(yield En.json());throw yield $e("Generate Auth Token",En)})).apply(this,arguments)}function An(B,{fid:j}){return`${Ne(B)}/${j}/authTokens:generate`}function Ie(B){return ve.apply(this,arguments)}function ve(){return(ve=(0,q.Z)(function*(B,j=!1){let X;const pe=yield Yr(B.appConfig,ct=>{if(!nn(ct))throw Re.create("not-registered");const Lt=ct.authToken;if(!j&&hr(Lt))return ct;if(1===Lt.requestStatus)return X=me(B,j),ct;{if(!navigator.onLine)throw Re.create("app-offline");const Xt=Br(ct);return X=Ct(B,Xt),Xt}});return X?yield X:pe.authToken})).apply(this,arguments)}function me(B,j){return Oe.apply(this,arguments)}function Oe(){return(Oe=(0,q.Z)(function*(B,j){let X=yield be(B.appConfig);for(;1===X.authToken.requestStatus;)yield Ut(100),X=yield be(B.appConfig);const pe=X.authToken;return 0===pe.requestStatus?Ie(B,j):pe})).apply(this,arguments)}function be(B){return Yr(B,j=>{if(!nn(j))throw Re.create("not-registered");return function Vn(B){return 1===B.requestStatus&&B.requestTime+1e4<Date.now()}(j.authToken)?Object.assign(Object.assign({},j),{authToken:{requestStatus:0}}):j})}function Ct(B,j){return jt.apply(this,arguments)}function jt(){return(jt=(0,q.Z)(function*(B,j){try{const X=yield $n(B,j),pe=Object.assign(Object.assign({},j),{authToken:X});return yield Ot(B.appConfig,pe),X}catch(X){if(!Wt(X)||401!==X.customData.serverCode&&404!==X.customData.serverCode){const pe=Object.assign(Object.assign({},j),{authToken:{requestStatus:0}});yield Ot(B.appConfig,pe)}else yield br(B.appConfig);throw X}})).apply(this,arguments)}function nn(B){return void 0!==B&&2===B.registrationStatus}function hr(B){return 2===B.requestStatus&&!function ar(B){const j=Date.now();return j<B.creationTime||B.creationTime+B.expiresIn<j+36e5}(B)}function Br(B){const j={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},B),{authToken:j})}function Er(){return(Er=(0,q.Z)(function*(B){const j=B,{installationEntry:X,registrationPromise:pe}=yield mr(j);return pe?pe.catch(console.error):Ie(j).catch(console.error),X.fid})).apply(this,arguments)}function wi(){return(wi=(0,q.Z)(function*(B,j=!1){const X=B;return yield _i(X),(yield Ie(X,j)).token})).apply(this,arguments)}function _i(B){return Vr.apply(this,arguments)}function Vr(){return(Vr=(0,q.Z)(function*(B){const{registrationPromise:j}=yield mr(B);j&&(yield j)})).apply(this,arguments)}function Hr(B){return Re.create("missing-app-config-values",{valueName:B})}const Ar="installations",pr=B=>{const j=B.getProvider("app").getImmediate(),X=function Zn(B){if(!B||!B.options)throw Hr("App Configuration");if(!B.name)throw Hr("App Name");const j=["projectId","apiKey","appId"];for(const X of j)if(!B.options[X])throw Hr(X);return{appName:B.name,projectId:B.options.projectId,apiKey:B.options.apiKey,appId:B.options.appId}}(j);return{app:j,appConfig:X,heartbeatServiceProvider:(0,_e._getProvider)(j,"heartbeat"),_delete:()=>Promise.resolve()}},Mi=B=>{const j=B.getProvider("app").getImmediate(),X=(0,_e._getProvider)(j,Ar).getImmediate();return{getId:()=>function Fn(B){return Er.apply(this,arguments)}(X),getToken:Ye=>function Ur(B){return wi.apply(this,arguments)}(X,Ye)}};(function Es(){(0,_e._registerComponent)(new Le.wA(Ar,pr,"PUBLIC")),(0,_e._registerComponent)(new Le.wA("installations-internal",Mi,"PRIVATE"))})(),(0,_e.registerVersion)(Qe,he),(0,_e.registerVersion)(Qe,he,"esm2017");const Bi="@firebase/remote-config",jr=new Ae.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Lo{constructor(j,X,pe,Ye){this.client=j,this.storage=X,this.storageCache=pe,this.logger=Ye}isCachedDataFresh(j,X){if(!X)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const pe=Date.now()-X,Ye=pe<=j;return this.logger.debug(`Config fetch cache check. Cache age millis: ${pe}. Cache max age millis (minimumFetchIntervalMillis setting): ${j}. Is cache hit: ${Ye}.`),Ye}fetch(j){var X=this;return(0,q.Z)(function*(){const[pe,Ye]=yield Promise.all([X.storage.getLastSuccessfulFetchTimestampMillis(),X.storage.getLastSuccessfulFetchResponse()]);if(Ye&&X.isCachedDataFresh(j.cacheMaxAgeMillis,pe))return Ye;j.eTag=Ye&&Ye.eTag;const ct=yield X.client.fetch(j),Lt=[X.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===ct.status&&Lt.push(X.storage.setLastSuccessfulFetchResponse(ct)),yield Promise.all(Lt),ct})()}}function Ns(B=navigator){return B.languages&&B.languages[0]||B.language}class Ds{constructor(j,X,pe,Ye,ct,Lt){this.firebaseInstallations=j,this.sdkVersion=X,this.namespace=pe,this.projectId=Ye,this.apiKey=ct,this.appId=Lt}fetch(j){var X=this;return(0,q.Z)(function*(){var pe,Ye,ct;const[Lt,Xt]=yield Promise.all([X.firebaseInstallations.getId(),X.firebaseInstallations.getToken()]),Pn=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${X.projectId}/namespaces/${X.namespace}:fetch?key=${X.apiKey}`,Gn={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":j.eTag||"*"},kn={sdk_version:X.sdkVersion,app_instance_id:Lt,app_instance_id_token:Xt,app_id:X.appId,language_code:Ns()},fi={method:"POST",headers:Gn,body:JSON.stringify(kn)},Ki=fetch(Pn,fi),js=new Promise((ua,Va)=>{j.signal.addEventListener(()=>{const id=new Error("The operation was aborted.");id.name="AbortError",Va(id)})});let wa;try{yield Promise.race([Ki,js]),wa=yield Ki}catch(ua){let Va="fetch-client-network";throw"AbortError"===(null===(pe=ua)||void 0===pe?void 0:pe.name)&&(Va="fetch-timeout"),jr.create(Va,{originalErrorMessage:null===(Ye=ua)||void 0===Ye?void 0:Ye.message})}let ms=wa.status;const al=wa.headers.get("ETag")||void 0;let ca,Ks;if(200===wa.status){let ua;try{ua=yield wa.json()}catch(Va){throw jr.create("fetch-client-parse",{originalErrorMessage:null===(ct=Va)||void 0===ct?void 0:ct.message})}ca=ua.entries,Ks=ua.state}if("INSTANCE_STATE_UNSPECIFIED"===Ks?ms=500:"NO_CHANGE"===Ks?ms=304:("NO_TEMPLATE"===Ks||"EMPTY_CONFIG"===Ks)&&(ca={}),304!==ms&&200!==ms)throw jr.create("fetch-status",{httpStatus:ms});return{status:ms,eTag:al,config:ca}})()}}class je{constructor(j,X){this.client=j,this.storage=X}fetch(j){var X=this;return(0,q.Z)(function*(){const pe=(yield X.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return X.attemptFetch(j,pe)})()}attemptFetch(j,{throttleEndTimeMillis:X,backoffCount:pe}){var Ye=this;return(0,q.Z)(function*(){yield function si(B,j){return new Promise((X,pe)=>{const Ye=Math.max(j-Date.now(),0),ct=setTimeout(X,Ye);B.addEventListener(()=>{clearTimeout(ct),pe(jr.create("fetch-throttle",{throttleEndTimeMillis:j}))})})}(j.signal,X);try{const ct=yield Ye.client.fetch(j);return yield Ye.storage.deleteThrottleMetadata(),ct}catch(ct){if(!function Ke(B){if(!(B instanceof Ae.ZR&&B.customData))return!1;const j=Number(B.customData.httpStatus);return 429===j||500===j||503===j||504===j}(ct))throw ct;const Lt={throttleEndTimeMillis:Date.now()+(0,Ae.$s)(pe),backoffCount:pe+1};return yield Ye.storage.setThrottleMetadata(Lt),Ye.attemptFetch(j,Lt)}})()}}class Zt{constructor(j,X,pe,Ye,ct){this.app=j,this._client=X,this._storageCache=pe,this._storage=Ye,this._logger=ct,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function dn(B,j){var X;const pe=B.target.error||void 0;return jr.create(j,{originalErrorMessage:pe&&(null===(X=pe)||void 0===X?void 0:X.message)})}const Sn="app_namespace_store";class Yo{constructor(j,X,pe,Ye=function Zi(){return new Promise((B,j)=>{var X;try{const pe=indexedDB.open("firebase_remote_config",1);pe.onerror=Ye=>{j(dn(Ye,"storage-open"))},pe.onsuccess=Ye=>{B(Ye.target.result)},pe.onupgradeneeded=Ye=>{0===Ye.oldVersion&&Ye.target.result.createObjectStore(Sn,{keyPath:"compositeKey"})}}catch(pe){j(jr.create("storage-open",{originalErrorMessage:null===(X=pe)||void 0===X?void 0:X.message}))}})}()){this.appId=j,this.appName=X,this.namespace=pe,this.openDbPromise=Ye}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(j){return this.set("last_fetch_status",j)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(j){return this.set("last_successful_fetch_timestamp_millis",j)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(j){return this.set("last_successful_fetch_response",j)}getActiveConfig(){return this.get("active_config")}setActiveConfig(j){return this.set("active_config",j)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(j){return this.set("active_config_etag",j)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(j){return this.set("throttle_metadata",j)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(j){var X=this;return(0,q.Z)(function*(){const pe=yield X.openDbPromise;return new Promise((Ye,ct)=>{var Lt;const En=pe.transaction([Sn],"readonly").objectStore(Sn),Pn=X.createCompositeKey(j);try{const Gn=En.get(Pn);Gn.onerror=kn=>{ct(dn(kn,"storage-get"))},Gn.onsuccess=kn=>{const fi=kn.target.result;Ye(fi?fi.value:void 0)}}catch(Gn){ct(jr.create("storage-get",{originalErrorMessage:null===(Lt=Gn)||void 0===Lt?void 0:Lt.message}))}})})()}set(j,X){var pe=this;return(0,q.Z)(function*(){const Ye=yield pe.openDbPromise;return new Promise((ct,Lt)=>{var Xt;const Pn=Ye.transaction([Sn],"readwrite").objectStore(Sn),Gn=pe.createCompositeKey(j);try{const kn=Pn.put({compositeKey:Gn,value:X});kn.onerror=fi=>{Lt(dn(fi,"storage-set"))},kn.onsuccess=()=>{ct()}}catch(kn){Lt(jr.create("storage-set",{originalErrorMessage:null===(Xt=kn)||void 0===Xt?void 0:Xt.message}))}})})()}delete(j){var X=this;return(0,q.Z)(function*(){const pe=yield X.openDbPromise;return new Promise((Ye,ct)=>{var Lt;const En=pe.transaction([Sn],"readwrite").objectStore(Sn),Pn=X.createCompositeKey(j);try{const Gn=En.delete(Pn);Gn.onerror=kn=>{ct(dn(kn,"storage-delete"))},Gn.onsuccess=()=>{Ye()}}catch(Gn){ct(jr.create("storage-delete",{originalErrorMessage:null===(Lt=Gn)||void 0===Lt?void 0:Lt.message}))}})})()}createCompositeKey(j){return[this.appId,this.appName,this.namespace,j].join()}}class Vi{constructor(j){this.storage=j}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var j=this;return(0,q.Z)(function*(){const X=j.storage.getLastFetchStatus(),pe=j.storage.getLastSuccessfulFetchTimestampMillis(),Ye=j.storage.getActiveConfig(),ct=yield X;ct&&(j.lastFetchStatus=ct);const Lt=yield pe;Lt&&(j.lastSuccessfulFetchTimestampMillis=Lt);const Xt=yield Ye;Xt&&(j.activeConfig=Xt)})()}setLastFetchStatus(j){return this.lastFetchStatus=j,this.storage.setLastFetchStatus(j)}setLastSuccessfulFetchTimestampMillis(j){return this.lastSuccessfulFetchTimestampMillis=j,this.storage.setLastSuccessfulFetchTimestampMillis(j)}setActiveConfig(j){return this.activeConfig=j,this.storage.setActiveConfig(j)}}function Eo(){return Js.apply(this,arguments)}function Js(){return(Js=(0,q.Z)(function*(){if(!(0,Ae.hl)())return!1;try{return yield(0,Ae.eu)()}catch{return!1}})).apply(this,arguments)}!function zi(){(0,_e._registerComponent)(new Le.wA("remote-config",function B(j,{instanceIdentifier:X}){const pe=j.getProvider("app").getImmediate(),Ye=j.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw jr.create("registration-window");if(!(0,Ae.hl)())throw jr.create("indexed-db-unavailable");const{projectId:ct,apiKey:Lt,appId:Xt}=pe.options;if(!ct)throw jr.create("registration-project-id");if(!Lt)throw jr.create("registration-api-key");if(!Xt)throw jr.create("registration-app-id");const En=new Yo(Xt,pe.name,X=X||"firebase"),Pn=new Vi(En),Gn=new Ue.Yd(Bi);Gn.logLevel=Ue.in.ERROR;const kn=new Ds(Ye,_e.SDK_VERSION,X,ct,Lt,Xt),fi=new je(kn,En),Ki=new Lo(fi,En,Pn,Gn),js=new Zt(pe,Ki,Pn,En,Gn);return function Lr(B){const j=(0,Ae.m9)(B);j._initializePromise||(j._initializePromise=j._storageCache.loadFromStorage().then(()=>{j._isInitializationComplete=!0}))}(js),js},"PUBLIC").setMultipleInstances(!0)),(0,_e.registerVersion)(Bi,"0.3.11"),(0,_e.registerVersion)(Bi,"0.3.11","esm2017")}();const Co="/firebase-messaging-sw.js",Gi="/firebase-cloud-messaging-push-scope",qi="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Fo="google.c.a.c_id",as="google.c.a.c_l",ea="google.c.a.ts",xa="google.c.a.e";var wo=(()=>{return(B=wo||(wo={})).PUSH_RECEIVED="push-received",B.NOTIFICATION_CLICKED="notification-clicked",wo;var B})();function Hi(B){const j=new Uint8Array(B);return btoa(String.fromCharCode(...j)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function mi(B){const X=(B+"=".repeat((4-B.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),pe=atob(X),Ye=new Uint8Array(pe.length);for(let ct=0;ct<pe.length;++ct)Ye[ct]=pe.charCodeAt(ct);return Ye}const oo="fcm_token_details_db",Ei="fcm_token_object_Store";function Mo(B){return Fs.apply(this,arguments)}function Fs(){return Fs=(0,q.Z)(function*(B){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(ct=>ct.name).includes(oo))return null;let j=null;return(yield(0,Fe.X3)(oo,5,{upgrade:(pe=(0,q.Z)(function*(Ye,ct,Lt,Xt){var En;if(ct<2||!Ye.objectStoreNames.contains(Ei))return;const Pn=Xt.objectStore(Ei),Gn=yield Pn.index("fcmSenderId").get(B);if(yield Pn.clear(),Gn)if(2===ct){const kn=Gn;if(!kn.auth||!kn.p256dh||!kn.endpoint)return;j={token:kn.fcmToken,createTime:null!==(En=kn.createTime)&&void 0!==En?En:Date.now(),subscriptionOptions:{auth:kn.auth,p256dh:kn.p256dh,endpoint:kn.endpoint,swScope:kn.swScope,vapidKey:"string"==typeof kn.vapidKey?kn.vapidKey:Hi(kn.vapidKey)}}}else if(3===ct){const kn=Gn;j={token:kn.fcmToken,createTime:kn.createTime,subscriptionOptions:{auth:Hi(kn.auth),p256dh:Hi(kn.p256dh),endpoint:kn.endpoint,swScope:kn.swScope,vapidKey:Hi(kn.vapidKey)}}}else if(4===ct){const kn=Gn;j={token:kn.fcmToken,createTime:kn.createTime,subscriptionOptions:{auth:Hi(kn.auth),p256dh:Hi(kn.p256dh),endpoint:kn.endpoint,swScope:kn.swScope,vapidKey:Hi(kn.vapidKey)}}}}),function(ct,Lt,Xt,En){return pe.apply(this,arguments)})})).close(),yield(0,Fe.Lj)(oo),yield(0,Fe.Lj)("fcm_vapid_details_db"),yield(0,Fe.Lj)("undefined"),zr(j)?j:null;var pe}),Fs.apply(this,arguments)}function zr(B){if(!B||!B.subscriptionOptions)return!1;const{subscriptionOptions:j}=B;return"number"==typeof B.createTime&&B.createTime>0&&"string"==typeof B.token&&B.token.length>0&&"string"==typeof j.auth&&j.auth.length>0&&"string"==typeof j.p256dh&&j.p256dh.length>0&&"string"==typeof j.endpoint&&j.endpoint.length>0&&"string"==typeof j.swScope&&j.swScope.length>0&&"string"==typeof j.vapidKey&&j.vapidKey.length>0}const To="firebase-messaging-store";let Ci=null;function so(){return Ci||(Ci=(0,Fe.X3)("firebase-messaging-database",1,{upgrade:(B,j)=>{0===j&&B.createObjectStore(To)}})),Ci}function Qo(B){return Yi.apply(this,arguments)}function Yi(){return(Yi=(0,q.Z)(function*(B){const j=Jr(B),pe=yield(yield so()).transaction(To).objectStore(To).get(j);if(pe)return pe;{const Ye=yield Mo(B.appConfig.senderId);if(Ye)return yield ir(B,Ye),Ye}})).apply(this,arguments)}function ir(B,j){return Bs.apply(this,arguments)}function Bs(){return(Bs=(0,q.Z)(function*(B,j){const X=Jr(B),Ye=(yield so()).transaction(To,"readwrite");return yield Ye.objectStore(To).put(j,X),yield Ye.done,j})).apply(this,arguments)}function Cr(B){return Xo.apply(this,arguments)}function Xo(){return(Xo=(0,q.Z)(function*(B){const j=Jr(B),pe=(yield so()).transaction(To,"readwrite");yield pe.objectStore(To).delete(j),yield pe.done})).apply(this,arguments)}function Jr({appConfig:B}){return B.appId}const Dr=new Ae.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Rn(B,j){return Oa.apply(this,arguments)}function Oa(){return(Oa=(0,q.Z)(function*(B,j){var X;const pe=yield Qi(B),Ye=xt(j),ct={method:"POST",headers:pe,body:JSON.stringify(Ye)};let Lt;try{Lt=yield(yield fetch(Ii(B.appConfig),ct)).json()}catch(Xt){throw Dr.create("token-subscribe-failed",{errorInfo:null===(X=Xt)||void 0===X?void 0:X.toString()})}if(Lt.error)throw Dr.create("token-subscribe-failed",{errorInfo:Lt.error.message});if(!Lt.token)throw Dr.create("token-subscribe-no-token");return Lt.token})).apply(this,arguments)}function qa(B,j){return ws.apply(this,arguments)}function ws(){return(ws=(0,q.Z)(function*(B,j){var X;const pe=yield Qi(B),Ye=xt(j.subscriptionOptions),ct={method:"PATCH",headers:pe,body:JSON.stringify(Ye)};let Lt;try{Lt=yield(yield fetch(`${Ii(B.appConfig)}/${j.token}`,ct)).json()}catch(Xt){throw Dr.create("token-update-failed",{errorInfo:null===(X=Xt)||void 0===X?void 0:X.toString()})}if(Lt.error)throw Dr.create("token-update-failed",{errorInfo:Lt.error.message});if(!Lt.token)throw Dr.create("token-update-no-token");return Lt.token})).apply(this,arguments)}function ma(B,j){return Pa.apply(this,arguments)}function Pa(){return(Pa=(0,q.Z)(function*(B,j){var X;const Ye={method:"DELETE",headers:yield Qi(B)};try{const Lt=yield(yield fetch(`${Ii(B.appConfig)}/${j}`,Ye)).json();if(Lt.error)throw Dr.create("token-unsubscribe-failed",{errorInfo:Lt.error.message})}catch(ct){throw Dr.create("token-unsubscribe-failed",{errorInfo:null===(X=ct)||void 0===X?void 0:X.toString()})}})).apply(this,arguments)}function Ii({projectId:B}){return`https://fcmregistrations.googleapis.com/v1/projects/${B}/registrations`}function Qi(B){return Xi.apply(this,arguments)}function Xi(){return(Xi=(0,q.Z)(function*({appConfig:B,installations:j}){const X=yield j.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":B.apiKey,"x-goog-firebase-installations-auth":`FIS ${X}`})})).apply(this,arguments)}function xt({p256dh:B,auth:j,endpoint:X,vapidKey:pe}){const Ye={web:{endpoint:X,auth:j,p256dh:B}};return pe!==qi&&(Ye.web.applicationPubKey=pe),Ye}const zn=6048e5;function Io(B){return pi.apply(this,arguments)}function pi(){return(pi=(0,q.Z)(function*(B){const j=yield cn(B.swRegistration,B.vapidKey),X={vapidKey:B.vapidKey,swScope:B.swRegistration.scope,endpoint:j.endpoint,auth:Hi(j.getKey("auth")),p256dh:Hi(j.getKey("p256dh"))},pe=yield Qo(B.firebaseDependencies);if(pe){if(po(pe.subscriptionOptions,X))return Date.now()>=pe.createTime+zn?H(B,{token:pe.token,createTime:Date.now(),subscriptionOptions:X}):pe.token;try{yield ma(B.firebaseDependencies,pe.token)}catch(Ye){console.warn(Ye)}return re(B.firebaseDependencies,X)}return re(B.firebaseDependencies,X)})).apply(this,arguments)}function Ir(B){return $.apply(this,arguments)}function $(){return($=(0,q.Z)(function*(B){const j=yield Qo(B.firebaseDependencies);j&&(yield ma(B.firebaseDependencies,j.token),yield Cr(B.firebaseDependencies));const X=yield B.swRegistration.pushManager.getSubscription();return!X||X.unsubscribe()})).apply(this,arguments)}function H(B,j){return U.apply(this,arguments)}function U(){return(U=(0,q.Z)(function*(B,j){try{const X=yield qa(B.firebaseDependencies,j),pe=Object.assign(Object.assign({},j),{token:X,createTime:Date.now()});return yield ir(B.firebaseDependencies,pe),X}catch(X){throw yield Ir(B),X}})).apply(this,arguments)}function re(B,j){return pt.apply(this,arguments)}function pt(){return(pt=(0,q.Z)(function*(B,j){const pe={token:yield Rn(B,j),createTime:Date.now(),subscriptionOptions:j};return yield ir(B,pe),pe.token})).apply(this,arguments)}function cn(B,j){return ei.apply(this,arguments)}function ei(){return(ei=(0,q.Z)(function*(B,j){return(yield B.pushManager.getSubscription())||B.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:mi(j)})})).apply(this,arguments)}function po(B,j){return j.vapidKey===B.vapidKey&&j.endpoint===B.endpoint&&j.auth===B.auth&&j.p256dh===B.p256dh}function ki(B){const j={from:B.from,collapseKey:B.collapse_key,messageId:B.fcmMessageId};return function Pr(B,j){if(!j.notification)return;B.notification={};const X=j.notification.title;X&&(B.notification.title=X);const pe=j.notification.body;pe&&(B.notification.body=pe);const Ye=j.notification.image;Ye&&(B.notification.image=Ye)}(j,B),function Jo(B,j){!j.data||(B.data=j.data)}(j,B),function Ya(B,j){var X,pe,Ye,ct,Lt;if(!(j.fcmOptions||null!==(X=j.notification)&&void 0!==X&&X.click_action))return;B.fcmOptions={};const Xt=null!==(Ye=null===(pe=j.fcmOptions)||void 0===pe?void 0:pe.link)&&void 0!==Ye?Ye:null===(ct=j.notification)||void 0===ct?void 0:ct.click_action;Xt&&(B.fcmOptions.link=Xt);const En=null===(Lt=j.fcmOptions)||void 0===Lt?void 0:Lt.analytics_label;En&&(B.fcmOptions.analyticsLabel=En)}(j,B),j}function Uo(B){return"object"==typeof B&&!!B&&Fo in B}function Wi(B,j){const X=[];for(let pe=0;pe<B.length;pe++)X.push(B.charAt(pe)),pe<j.length&&X.push(j.charAt(pe));return X.join("")}function ls(B){return Dr.create("missing-app-config-values",{valueName:B})}Wi("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Wi("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Us{constructor(j,X,pe){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Ye=function Qa(B){if(!B||!B.options)throw ls("App Configuration Object");if(!B.name)throw ls("App Name");const j=["projectId","apiKey","appId","messagingSenderId"],{options:X}=B;for(const pe of j)if(!X[pe])throw ls(pe);return{appName:B.name,projectId:X.projectId,apiKey:X.apiKey,appId:X.appId,senderId:X.messagingSenderId}}(j);this.firebaseDependencies={app:j,appConfig:Ye,installations:X,analyticsProvider:pe}}_delete(){return Promise.resolve()}}function Ra(B){return cs.apply(this,arguments)}function cs(){return(cs=(0,q.Z)(function*(B){var j;try{B.swRegistration=yield navigator.serviceWorker.register(Co,{scope:Gi}),B.swRegistration.update().catch(()=>{})}catch(X){throw Dr.create("failed-service-worker-registration",{browserErrorMessage:null===(j=X)||void 0===j?void 0:j.message})}})).apply(this,arguments)}function us(B,j){return ya.apply(this,arguments)}function ya(){return(ya=(0,q.Z)(function*(B,j){if(!j&&!B.swRegistration&&(yield Ra(B)),j||!B.swRegistration){if(!(j instanceof ServiceWorkerRegistration))throw Dr.create("invalid-sw-registration");B.swRegistration=j}})).apply(this,arguments)}function Kr(B,j){return va.apply(this,arguments)}function va(){return(va=(0,q.Z)(function*(B,j){j?B.vapidKey=j:B.vapidKey||(B.vapidKey=qi)})).apply(this,arguments)}function Xa(){return(Xa=(0,q.Z)(function*(B,j){if(!navigator)throw Dr.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Dr.create("permission-blocked");return yield Kr(B,j?.vapidKey),yield us(B,j?.serviceWorkerRegistration),Io(B)})).apply(this,arguments)}function bl(B,j,X){return ka.apply(this,arguments)}function ka(){return(ka=(0,q.Z)(function*(B,j,X){const pe=Ja(j);(yield B.firebaseDependencies.analyticsProvider.get()).logEvent(pe,{message_id:X[Fo],message_name:X[as],message_time:X[ea],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Ja(B){switch(B){case wo.NOTIFICATION_CLICKED:return"notification_open";case wo.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Y(){return(Y=(0,q.Z)(function*(B,j){const X=j.data;if(!X.isFirebaseMessaging)return;B.onMessageHandler&&X.messageType===wo.PUSH_RECEIVED&&("function"==typeof B.onMessageHandler?B.onMessageHandler(ki(X)):B.onMessageHandler.next(ki(X)));const pe=X.data;Uo(pe)&&"1"===pe[xa]&&(yield bl(B,X.messageType,pe))})).apply(this,arguments)}const V="@firebase/messaging",Ce=B=>{const j=new Us(B.getProvider("app").getImmediate(),B.getProvider("installations-internal").getImmediate(),B.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",X=>function N(B,j){return Y.apply(this,arguments)}(j,X)),j},at=B=>{const j=B.getProvider("messaging").getImmediate();return{getToken:pe=>function Ms(B,j){return Xa.apply(this,arguments)}(j,pe)}};function hn(){return lr.apply(this,arguments)}function lr(){return(lr=(0,q.Z)(function*(){try{yield(0,Ae.eu)()}catch{return!1}return typeof window<"u"&&(0,Ae.hl)()&&(0,Ae.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function mt(){(0,_e._registerComponent)(new Le.wA("messaging",Ce,"PUBLIC")),(0,_e._registerComponent)(new Le.wA("messaging-internal",at,"PRIVATE")),(0,_e.registerVersion)(V,"0.9.16"),(0,_e.registerVersion)(V,"0.9.16","esm2017")}();const ao="analytics",ds="firebase_id",Wo="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",el="https://www.googletagmanager.com/gtag/js",ai=new Ue.Yd("@firebase/analytics");function La(B){return Promise.all(B.map(j=>j.catch(X=>X)))}function Mc(B,j){const X=document.createElement("script");X.src=`${el}?l=${B}&id=${j}`,X.async=!0,document.head.appendChild(X)}function Yl(B,j,X,pe,Ye,ct){return El.apply(this,arguments)}function El(){return(El=(0,q.Z)(function*(B,j,X,pe,Ye,ct){const Lt=pe[Ye];try{if(Lt)yield j[Lt];else{const En=(yield La(X)).find(Pn=>Pn.measurementId===Ye);En&&(yield j[En.appId])}}catch(Xt){ai.error(Xt)}B("config",Ye,ct)})).apply(this,arguments)}function Cl(B,j,X,pe,Ye){return Ea.apply(this,arguments)}function Ea(){return(Ea=(0,q.Z)(function*(B,j,X,pe,Ye){try{let ct=[];if(Ye&&Ye.send_to){let Lt=Ye.send_to;Array.isArray(Lt)||(Lt=[Lt]);const Xt=yield La(X);for(const En of Lt){const Pn=Xt.find(kn=>kn.measurementId===En),Gn=Pn&&j[Pn.appId];if(!Gn){ct=[];break}ct.push(Gn)}}0===ct.length&&(ct=Object.values(j)),yield Promise.all(ct),B("event",pe,Ye||{})}catch(ct){ai.error(ct)}})).apply(this,arguments)}function Ql(){const B=window.document.getElementsByTagName("script");for(const j of Object.values(B))if(j.src&&j.src.includes(el))return j;return null}const li=new Ae.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),tl=new class As{constructor(j={},X=1e3){this.throttleMetadata=j,this.intervalMillis=X}getThrottleMetadata(j){return this.throttleMetadata[j]}setThrottleMetadata(j,X){this.throttleMetadata[j]=X}deleteThrottleMetadata(j){delete this.throttleMetadata[j]}};function Hd(B){return new Headers({Accept:"application/json","x-goog-api-key":B})}function Fa(B){return Xl.apply(this,arguments)}function Xl(){return(Xl=(0,q.Z)(function*(B){var j;const{appId:X,apiKey:pe}=B,Ye={method:"GET",headers:Hd(pe)},ct=Wo.replace("{app-id}",X),Lt=yield fetch(ct,Ye);if(200!==Lt.status&&304!==Lt.status){let Xt="";try{const En=yield Lt.json();null!==(j=En.error)&&void 0!==j&&j.message&&(Xt=En.error.message)}catch{}throw li.create("config-fetch-failed",{httpStatus:Lt.status,responseMessage:Xt})}return Lt.json()})).apply(this,arguments)}function ci(B){return lo.apply(this,arguments)}function lo(){return(lo=(0,q.Z)(function*(B,j=tl,X){const{appId:pe,apiKey:Ye,measurementId:ct}=B.options;if(!pe)throw li.create("no-app-id");if(!Ye){if(ct)return{measurementId:ct,appId:pe};throw li.create("no-api-key")}const Lt=j.getThrottleMetadata(pe)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Xt=new ps;return setTimeout((0,q.Z)(function*(){Xt.abort()}),void 0!==X?X:6e4),Vs({appId:pe,apiKey:Ye,measurementId:ct},Lt,Xt,j)})).apply(this,arguments)}function Vs(B,j,X){return ui.apply(this,arguments)}function ui(){return(ui=(0,q.Z)(function*(B,{throttleEndTimeMillis:j,backoffCount:X},pe,Ye=tl){var ct,Lt;const{appId:Xt,measurementId:En}=B;try{yield hs(pe,j)}catch(Pn){if(En)return ai.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${En} provided in the "measurementId" field in the local Firebase config. [${null===(ct=Pn)||void 0===ct?void 0:ct.message}]`),{appId:Xt,measurementId:En};throw Pn}try{const Pn=yield Fa(B);return Ye.deleteThrottleMetadata(Xt),Pn}catch(Pn){const Gn=Pn;if(!fs(Gn)){if(Ye.deleteThrottleMetadata(Xt),En)return ai.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${En} provided in the "measurementId" field in the local Firebase config. [${Gn?.message}]`),{appId:Xt,measurementId:En};throw Pn}const kn=503===Number(null===(Lt=Gn?.customData)||void 0===Lt?void 0:Lt.httpStatus)?(0,Ae.$s)(X,Ye.intervalMillis,30):(0,Ae.$s)(X,Ye.intervalMillis),fi={throttleEndTimeMillis:Date.now()+kn,backoffCount:X+1};return Ye.setThrottleMetadata(Xt,fi),ai.debug(`Calling attemptFetch again in ${kn} millis`),Vs(B,fi,pe,Ye)}})).apply(this,arguments)}function hs(B,j){return new Promise((X,pe)=>{const Ye=Math.max(j-Date.now(),0),ct=setTimeout(X,Ye);B.addEventListener(()=>{clearTimeout(ct),pe(li.create("fetch-throttle",{throttleEndTimeMillis:j}))})})}function fs(B){if(!(B instanceof Ae.ZR&&B.customData))return!1;const j=Number(B.customData.httpStatus);return 429===j||500===j||503===j||504===j}class ps{constructor(){this.listeners=[]}addEventListener(j){this.listeners.push(j)}abort(){this.listeners.forEach(j=>j())}}let na,yi;function Gr(){return(Gr=(0,q.Z)(function*(B,j,X,pe,Ye){if(Ye&&Ye.global)B("event",X,pe);else{const ct=yield j;B("event",X,Object.assign(Object.assign({},pe),{send_to:ct}))}})).apply(this,arguments)}function ra(B){yi=B}function Tc(B){na=B}function td(){return wl.apply(this,arguments)}function wl(){return(wl=(0,q.Z)(function*(){var B;if(!(0,Ae.hl)())return ai.warn(li.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,Ae.eu)()}catch(j){return ai.warn(li.create("indexeddb-unavailable",{errorInfo:null===(B=j)||void 0===B?void 0:B.toString()}).message),!1}return!0})).apply(this,arguments)}function il(){return(il=(0,q.Z)(function*(B,j,X,pe,Ye,ct,Lt){var Xt;const En=ci(B);En.then(Ki=>{X[Ki.measurementId]=Ki.appId,B.options.measurementId&&Ki.measurementId!==B.options.measurementId&&ai.warn(`The measurement ID in the local Firebase config (${B.options.measurementId}) does not match the measurement ID fetched from the server (${Ki.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Ki=>ai.error(Ki)),j.push(En);const Pn=td().then(Ki=>{if(Ki)return pe.getId()}),[Gn,kn]=yield Promise.all([En,Pn]);Ql()||Mc(ct,Gn.measurementId),yi&&(Ye("consent","default",yi),ra(void 0)),Ye("js",new Date);const fi=null!==(Xt=Lt?.config)&&void 0!==Xt?Xt:{};return fi.origin="firebase",fi.update=!0,null!=kn&&(fi[ds]=kn),Ye("config",Gn.measurementId,fi),na&&(Ye("set",na),Tc(void 0)),Gn.measurementId})).apply(this,arguments)}class ol{constructor(j){this.app=j}_delete(){return delete eo[this.app.options.appId],Promise.resolve()}}let eo={},Rr=[];const Da={};let gs,jo,_s="dataLayer",Nr=!1;function xr(B,j,X){!function Jl(){const B=[];if((0,Ae.ru)()&&B.push("This is a browser extension environment."),(0,Ae.zI)()||B.push("Cookies are not available."),B.length>0){const j=B.map((pe,Ye)=>`(${Ye+1}) ${pe}`).join(" "),X=li.create("invalid-analytics-context",{errorInfo:j});ai.warn(X.message)}}();const pe=B.options.appId;if(!pe)throw li.create("no-app-id");if(!B.options.apiKey){if(!B.options.measurementId)throw li.create("no-api-key");ai.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${B.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=eo[pe])throw li.create("already-exists",{id:pe});if(!Nr){!function ba(B){let j=[];Array.isArray(window[B])?j=window[B]:window[B]=j}(_s);const{wrappedGtag:ct,gtagCore:Lt}=function Ji(B,j,X,pe,Ye){let ct=function(...Lt){window[pe].push(arguments)};return window[Ye]&&"function"==typeof window[Ye]&&(ct=window[Ye]),window[Ye]=function Ca(B,j,X,pe){function ct(){return(ct=(0,q.Z)(function*(Lt,Xt,En){try{"event"===Lt?yield Cl(B,j,X,Xt,En):"config"===Lt?yield Yl(B,j,X,pe,Xt,En):"consent"===Lt?B("consent","update",En):B("set",Xt)}catch(Pn){ai.error(Pn)}})).apply(this,arguments)}return function Ye(Lt,Xt,En){return ct.apply(this,arguments)}}(ct,B,j,X),{gtagCore:ct,wrappedGtag:window[Ye]}}(eo,Rr,Da,_s,"gtag");jo=ct,gs=Lt,Nr=!0}return eo[pe]=function rl(B,j,X,pe,Ye,ct,Lt){return il.apply(this,arguments)}(B,Rr,Da,j,gs,_s,X),new ol(B)}function on(){return ec.apply(this,arguments)}function ec(){return(ec=(0,q.Z)(function*(){if((0,Ae.ru)()||!(0,Ae.zI)()||!(0,Ae.hl)())return!1;try{return yield(0,Ae.eu)()}catch{return!1}})).apply(this,arguments)}const Ic="@firebase/analytics";!function So(){(0,_e._registerComponent)(new Le.wA(ao,(j,{options:X})=>xr(j.getProvider("app").getImmediate(),j.getProvider("installations-internal").getImmediate(),X),"PUBLIC")),(0,_e._registerComponent)(new Le.wA("analytics-internal",function B(j){try{const X=j.getProvider(ao).getImmediate();return{logEvent:(pe,Ye,ct)=>function Ba(B,j,X,pe){B=(0,Ae.m9)(B),function Kt(B,j,X,pe,Ye){return Gr.apply(this,arguments)}(jo,eo[B.app.options.appId],j,X,pe).catch(Ye=>ai.error(Ye))}(X,pe,Ye,ct)}}catch(X){throw li.create("interop-component-reg-failed",{reason:X})}},"PRIVATE")),(0,_e.registerVersion)(Ic,"0.8.0"),(0,_e.registerVersion)(Ic,"0.8.0","esm2017")}();var co=k(4408),Ko=k(7565);const w=new class xs extends Ko.v{}(class nc extends co.o{constructor(j,X){super(j,X),this.scheduler=j,this.work=X}schedule(j,X=0){return X>0?super.schedule(j,X):(this.delay=X,this.state=j,this.scheduler.flush(this),this)}execute(j,X){return X>0||this.closed?super.execute(j,X):this._execute(j,X)}requestAsyncId(j,X,pe=0){return null!=pe&&pe>0||null==pe&&this.delay>0?super.requestAsyncId(j,X,pe):j.flush(this)}});var I=k(4986),F=k(8505),W=k(9468),J=k(5363);const ce=new y.GfV("7.4.1"),De="__angularfire_symbol__analyticsIsSupportedValue",ht="__angularfire_symbol__analyticsIsSupported",Qt="__angularfire_symbol__remoteConfigIsSupportedValue",Xn="__angularfire_symbol__remoteConfigIsSupported",yn="__angularfire_symbol__messagingIsSupportedValue",Jn="__angularfire_symbol__messagingIsSupported";function sa(B,j,X){if(j){if(1===j.length)return j[0];const ct=j.filter(Lt=>Lt.app===X);if(1===ct.length)return ct[0]}return X.container.getProvider(B).getImmediate({optional:!0})}globalThis[ht]||(globalThis[ht]=on().then(B=>globalThis[De]=B).catch(()=>globalThis[De]=!1)),globalThis[Jn]||(globalThis[Jn]=hn().then(B=>globalThis[yn]=B).catch(()=>globalThis[yn]=!1)),globalThis[Xn]||(globalThis[Xn]=Eo().then(B=>globalThis[Qt]=B).catch(()=>globalThis[Qt]=!1));const di=(B,j)=>{const X=j?[j]:(0,h.C6)(),pe=[];return X.forEach(Ye=>{Ye.container.getProvider(B).instances.forEach(Lt=>{pe.includes(Lt)||pe.push(Lt)})}),pe};function kr(){}class aa{constructor(j,X=w){this.zone=j,this.delegate=X}now(){return this.delegate.now()}schedule(j,X,pe){const Ye=this.zone;return this.delegate.schedule(function(Lt){Ye.runGuarded(()=>{j.apply(this,[Lt])})},X,pe)}}class sl{constructor(j){this.zone=j,this.task=null}call(j,X){const pe=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",kr,{},kr,kr)),X.pipe((0,F.b)({next:pe,complete:pe,error:pe})).subscribe(j).add(pe)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Zo=(()=>{class B{constructor(X){this.ngZone=X,this.outsideAngular=X.runOutsideAngular(()=>new aa(Zone.current)),this.insideAngular=X.run(()=>new aa(Zone.current,I.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return B.\u0275fac=function(X){return new(X||B)(y.LFG(y.R0b))},B.\u0275prov=y.Yz7({token:B,factory:B.\u0275fac,providedIn:"root"}),B})();function la(){const B=globalThis.\u0275AngularFireScheduler;if(!B)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return B}function es(B){return la(),function Ac(B){return function(X){return(X=X.lift(new sl(B.ngZone))).pipe((0,W.R)(B.outsideAngular),(0,J.Q)(B.insideAngular))}}(la())(B)}},2090:(ut,Be,k)=>{k.d(Be,{$s:()=>Wn,BH:()=>Et,G6:()=>It,L:()=>Fe,LL:()=>At,Mn:()=>$e,Sg:()=>st,UG:()=>rt,US:()=>Le,ZB:()=>ge,ZR:()=>Xe,b$:()=>Wt,d:()=>Ne,eu:()=>Je,hl:()=>oe,jU:()=>We,m9:()=>An,ne:()=>Un,pd:()=>Nn,r3:()=>Te,ru:()=>Re,tV:()=>Qe,uI:()=>Bt,vZ:()=>rr,w1:()=>Me,xO:()=>Yn,xb:()=>Vt,z$:()=>tt,zI:()=>de,zd:()=>Mn});const _e=function(Ie){const ve=[];let me=0;for(let Oe=0;Oe<Ie.length;Oe++){let be=Ie.charCodeAt(Oe);be<128?ve[me++]=be:be<2048?(ve[me++]=be>>6|192,ve[me++]=63&be|128):55296==(64512&be)&&Oe+1<Ie.length&&56320==(64512&Ie.charCodeAt(Oe+1))?(be=65536+((1023&be)<<10)+(1023&Ie.charCodeAt(++Oe)),ve[me++]=be>>18|240,ve[me++]=be>>12&63|128,ve[me++]=be>>6&63|128,ve[me++]=63&be|128):(ve[me++]=be>>12|224,ve[me++]=be>>6&63|128,ve[me++]=63&be|128)}return ve},Le={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Ie,ve){if(!Array.isArray(Ie))throw Error("encodeByteArray takes an array as a parameter");this.init_();const me=ve?this.byteToCharMapWebSafe_:this.byteToCharMap_,Oe=[];for(let be=0;be<Ie.length;be+=3){const Ct=Ie[be],jt=be+1<Ie.length,nn=jt?Ie[be+1]:0,hr=be+2<Ie.length,ar=hr?Ie[be+2]:0;let Fn=(15&nn)<<2|ar>>6,Er=63&ar;hr||(Er=64,jt||(Fn=64)),Oe.push(me[Ct>>2],me[(3&Ct)<<4|nn>>4],me[Fn],me[Er])}return Oe.join("")},encodeString(Ie,ve){return this.HAS_NATIVE_SUPPORT&&!ve?btoa(Ie):this.encodeByteArray(_e(Ie),ve)},decodeString(Ie,ve){return this.HAS_NATIVE_SUPPORT&&!ve?atob(Ie):function(Ie){const ve=[];let me=0,Oe=0;for(;me<Ie.length;){const be=Ie[me++];if(be<128)ve[Oe++]=String.fromCharCode(be);else if(be>191&&be<224){const Ct=Ie[me++];ve[Oe++]=String.fromCharCode((31&be)<<6|63&Ct)}else if(be>239&&be<365){const hr=((7&be)<<18|(63&Ie[me++])<<12|(63&Ie[me++])<<6|63&Ie[me++])-65536;ve[Oe++]=String.fromCharCode(55296+(hr>>10)),ve[Oe++]=String.fromCharCode(56320+(1023&hr))}else{const Ct=Ie[me++],jt=Ie[me++];ve[Oe++]=String.fromCharCode((15&be)<<12|(63&Ct)<<6|63&jt)}}return ve.join("")}(this.decodeStringToByteArray(Ie,ve))},decodeStringToByteArray(Ie,ve){this.init_();const me=ve?this.charToByteMapWebSafe_:this.charToByteMap_,Oe=[];for(let be=0;be<Ie.length;){const Ct=me[Ie.charAt(be++)],nn=be<Ie.length?me[Ie.charAt(be)]:0;++be;const ar=be<Ie.length?me[Ie.charAt(be)]:64;++be;const Vn=be<Ie.length?me[Ie.charAt(be)]:64;if(++be,null==Ct||null==nn||null==ar||null==Vn)throw Error();Oe.push(Ct<<2|nn>>4),64!==ar&&(Oe.push(nn<<4&240|ar>>2),64!==Vn&&Oe.push(ar<<6&192|Vn))}return Oe},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Ie=0;Ie<this.ENCODED_VALS.length;Ie++)this.byteToCharMap_[Ie]=this.ENCODED_VALS.charAt(Ie),this.charToByteMap_[this.byteToCharMap_[Ie]]=Ie,this.byteToCharMapWebSafe_[Ie]=this.ENCODED_VALS_WEBSAFE.charAt(Ie),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Ie]]=Ie,Ie>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Ie)]=Ie,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Ie)]=Ie)}}},Fe=function(Ie){return function(Ie){const ve=_e(Ie);return Le.encodeByteArray(ve,!0)}(Ie).replace(/\./g,"")},Qe=function(Ie){try{return Le.decodeString(Ie,!0)}catch(ve){console.error("base64Decode failed: ",ve)}return null};function ge(Ie,ve){if(!(ve instanceof Object))return ve;switch(ve.constructor){case Date:return new Date(ve.getTime());case Object:void 0===Ie&&(Ie={});break;case Array:Ie=[];break;default:return ve}for(const me in ve)!ve.hasOwnProperty(me)||!Pe(me)||(Ie[me]=ge(Ie[me],ve[me]));return Ie}function Pe(Ie){return"__proto__"!==Ie}class Et{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((ve,me)=>{this.resolve=ve,this.reject=me})}wrapCallback(ve){return(me,Oe)=>{me?this.reject(me):this.resolve(Oe),"function"==typeof ve&&(this.promise.catch(()=>{}),1===ve.length?ve(me):ve(me,Oe))}}}function st(Ie,ve){if(Ie.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Oe=ve||"demo-project",be=Ie.iat||0,Ct=Ie.sub||Ie.user_id;if(!Ct)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const jt=Object.assign({iss:`https://securetoken.google.com/${Oe}`,aud:Oe,iat:be,exp:be+3600,auth_time:be,sub:Ct,user_id:Ct,firebase:{sign_in_provider:"custom",identities:{}}},Ie);return[Fe(JSON.stringify({alg:"none",type:"JWT"})),Fe(JSON.stringify(jt)),""].join(".")}function tt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Bt(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(tt())}function rt(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function We(){return"object"==typeof self&&self.self===self}function Re(){const Ie="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Ie&&void 0!==Ie.id}function Wt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ne(){return tt().indexOf("Electron/")>=0}function Me(){const Ie=tt();return Ie.indexOf("MSIE ")>=0||Ie.indexOf("Trident/")>=0}function $e(){return tt().indexOf("MSAppHost/")>=0}function It(){return!rt()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function oe(){return"object"==typeof indexedDB}function Je(){return new Promise((Ie,ve)=>{try{let me=!0;const Oe="validate-browser-context-for-indexeddb-analytics-module",be=self.indexedDB.open(Oe);be.onsuccess=()=>{be.result.close(),me||self.indexedDB.deleteDatabase(Oe),Ie(!0)},be.onupgradeneeded=()=>{me=!1},be.onerror=()=>{var Ct;ve((null===(Ct=be.error)||void 0===Ct?void 0:Ct.message)||"")}}catch(me){ve(me)}})}function de(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Xe extends Error{constructor(ve,me,Oe){super(me),this.code=ve,this.customData=Oe,this.name="FirebaseError",Object.setPrototypeOf(this,Xe.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,At.prototype.create)}}class At{constructor(ve,me,Oe){this.service=ve,this.serviceName=me,this.errors=Oe}create(ve,...me){const Oe=me[0]||{},be=`${this.service}/${ve}`,Ct=this.errors[ve],jt=Ct?function Ut(Ie,ve){return Ie.replace(zt,(me,Oe)=>{const be=ve[Oe];return null!=be?String(be):`<${Oe}?>`})}(Ct,Oe):"Error";return new Xe(be,`${this.serviceName}: ${jt} (${be}).`,Oe)}}const zt=/\{\$([^}]+)}/g;function Te(Ie,ve){return Object.prototype.hasOwnProperty.call(Ie,ve)}function Vt(Ie){for(const ve in Ie)if(Object.prototype.hasOwnProperty.call(Ie,ve))return!1;return!0}function rr(Ie,ve){if(Ie===ve)return!0;const me=Object.keys(Ie),Oe=Object.keys(ve);for(const be of me){if(!Oe.includes(be))return!1;const Ct=Ie[be],jt=ve[be];if(dr(Ct)&&dr(jt)){if(!rr(Ct,jt))return!1}else if(Ct!==jt)return!1}for(const be of Oe)if(!me.includes(be))return!1;return!0}function dr(Ie){return null!==Ie&&"object"==typeof Ie}function Yn(Ie){const ve=[];for(const[me,Oe]of Object.entries(Ie))Array.isArray(Oe)?Oe.forEach(be=>{ve.push(encodeURIComponent(me)+"="+encodeURIComponent(be))}):ve.push(encodeURIComponent(me)+"="+encodeURIComponent(Oe));return ve.length?"&"+ve.join("&"):""}function Mn(Ie){const ve={};return Ie.replace(/^\?/,"").split("&").forEach(Oe=>{if(Oe){const[be,Ct]=Oe.split("=");ve[decodeURIComponent(be)]=decodeURIComponent(Ct)}}),ve}function Nn(Ie){const ve=Ie.indexOf("?");if(!ve)return"";const me=Ie.indexOf("#",ve);return Ie.substring(ve,me>0?me:void 0)}function Un(Ie,ve){const me=new Ot(Ie,ve);return me.subscribe.bind(me)}class Ot{constructor(ve,me){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=me,this.task.then(()=>{ve(this)}).catch(Oe=>{this.error(Oe)})}next(ve){this.forEachObserver(me=>{me.next(ve)})}error(ve){this.forEachObserver(me=>{me.error(ve)}),this.close(ve)}complete(){this.forEachObserver(ve=>{ve.complete()}),this.close()}subscribe(ve,me,Oe){let be;if(void 0===ve&&void 0===me&&void 0===Oe)throw new Error("Missing Observer.");be=function br(Ie,ve){if("object"!=typeof Ie||null===Ie)return!1;for(const me of ve)if(me in Ie&&"function"==typeof Ie[me])return!0;return!1}(ve,["next","error","complete"])?ve:{next:ve,error:me,complete:Oe},void 0===be.next&&(be.next=Tr),void 0===be.error&&(be.error=Tr),void 0===be.complete&&(be.complete=Tr);const Ct=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?be.error(this.finalError):be.complete()}catch{}}),this.observers.push(be),Ct}unsubscribeOne(ve){void 0===this.observers||void 0===this.observers[ve]||(delete this.observers[ve],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(ve){if(!this.finalized)for(let me=0;me<this.observers.length;me++)this.sendOne(me,ve)}sendOne(ve,me){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[ve])try{me(this.observers[ve])}catch(Oe){typeof console<"u"&&console.error&&console.error(Oe)}})}close(ve){this.finalized||(this.finalized=!0,void 0!==ve&&(this.finalError=ve),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Tr(){}function Wn(Ie,ve=1e3,me=2){const Oe=ve*Math.pow(me,Ie),be=Math.round(.5*Oe*(Math.random()-.5)*2);return Math.min(144e5,Oe+be)}function An(Ie){return Ie&&Ie._delegate?Ie._delegate:Ie}},5116:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>ContactUsComponent});var _shared_validations__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2596),_angular_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(4650),_services_firestore_service__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(3261),_angular_forms__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(4006);let ContactUsComponent=(()=>{class ContactUsComponent{constructor(ut){this.firestore=ut,this.firstname="",this.lastname="",this.email="",this.contact="",this.comment="",this.validations=_shared_validations__WEBPACK_IMPORTED_MODULE_0__.n.filter(Be=>["firstname","lastname","email","comment"].includes(Be.ctrl)),this.touched=!1,this.validated=!1,this.errors={}}ngOnInit(){}validate(){let errs={},validated=!0;if(this.touched)return this.validations.forEach(v=>{for(var c in v.chcks)if(eval(v.chcks[c].chck)){validated=!1,errs[v.ctrl]=v.chcks[c].msg;break}}),this.validated=validated,this.errors=errs,validated}submitMessage(){this.touched=!0,this.validate()&&(this.firestore.loader.show(),this.firestore.firestore.collection("posts").add(this.getMessageDetail()).then(ut=>{this.firestore.loader.hide(),this.firestore.toast.success("Our Team will get in touch with you shortly","Thanks for reaching out."),this.reset()}).catch(ut=>{this.firestore.loader.hide(),this.firestore.toast.error("Unable to send your request. Please Try Again","Error"),this.reset()}))}reset(){this.firstname="",this.lastname="",this.email="",this.contact="",this.comment=""}getMessageDetail(){return{firstname:this.firstname,lastname:this.lastname,email:this.email,message:this.comment,contact:this.contact}}}return ContactUsComponent.\u0275fac=function ut(Be){return new(Be||ContactUsComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Y36(_services_firestore_service__WEBPACK_IMPORTED_MODULE_2__.C))},ContactUsComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_1__.Xpm({type:ContactUsComponent,selectors:[["app-contact-us"]],decls:82,vars:9,consts:[[1,"container","contact-form-widget"],[1,"row","mt-4"],[1,"col-12",2,"text-align","center","margin-bottom","25px"],[1,"row"],[1,"col-xs-12","col-md-6"],[1,"formRow","formRow1Col"],[1,"formRowLabel"],[1,"formRowColWide"],["id","contact_first_name","type","text","name","contact_first_name",1,"form-control","input-lg",2,"width","100%",3,"ngModel","ngModelChange"],[1,"error"],[1,"formRowPadding"],["id","contact_last_name","type","text","name","contact_last_name",1,"form-control","input-lg",2,"width","100%",3,"ngModel","ngModelChange"],["id","contact_email","type","text","name","contact_email",1,"form-control","input-lg",2,"width","100%",3,"ngModel","ngModelChange"],["id","contact_phone","type","text","name","contact_phone",1,"form-control","input-lg",2,"width","100%",3,"ngModel","ngModelChange"],["id","comment","name","comment",1,"form-control","input-lg",2,"width","100%","height","300px",3,"ngModel","ngModelChange"],[1,"col-xs-12","col-md-12"],[1,"formRow","formRow1Col",2,"text-align","center"],["type","submit","id","s8-formssubmitbutton1","name","s8-formssubmitbutton1","value","1",1,"btn","btn-primary",3,"click"],[1,"row","mt-3"],[1,"col-md-6"],[1,"entry"],["href","mailto:info@transferpricing.in"],["id","s8-thirdpartygooglemap1",2,"position","relative","width","100%","height","408px"],["src","https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3806.4164844314046!2d78.50079881482671!3d17.43976898804726!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x3bcb9a237347c5bb%3A0x9978cebfc56c8d91!2sFS%20Fitness!5e0!3m2!1sen!2sin!4v1666071174984!5m2!1sen!2sin","width","600","height","450","allowfullscreen","","loading","lazy","referrerpolicy","no-referrer-when-downgrade",2,"border","0"]],template:function ut(Be,k){1&Be&&(_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1"),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(4,"Contact Us Now"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(5,"p"),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(6,"Our offices are open between 9am and 5.00pm Monday \u2013 Friday"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()()(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(7,"div",3)(8,"div",4)(9,"div",5)(10,"span",6),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(11,"First Name"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(12,"div",7)(13,"input",8),_angular_core__WEBPACK_IMPORTED_MODULE_1__.NdJ("ngModelChange",function(h){return k.firstname=h}),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(14,"span",9),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(15),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_1__._UZ(16,"div",10),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(17,"div",5)(18,"span",6),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(19,"Last Name"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(20,"div",7)(21,"input",11),_angular_core__WEBPACK_IMPORTED_MODULE_1__.NdJ("ngModelChange",function(h){return k.lastname=h}),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(22,"span",9),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(23),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_1__._UZ(24,"div",10),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(25,"div",5)(26,"span",6),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(27,"E-mail Address"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(28,"div",7)(29,"input",12),_angular_core__WEBPACK_IMPORTED_MODULE_1__.NdJ("ngModelChange",function(h){return k.email=h}),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(30,"span",9),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(31),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_1__._UZ(32,"div",10),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(33,"div",5)(34,"span",6),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(35,"Phone Number"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(36,"div",7)(37,"input",13),_angular_core__WEBPACK_IMPORTED_MODULE_1__.NdJ("ngModelChange",function(h){return k.contact=h}),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_1__._UZ(38,"div",10),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(39,"div",4)(40,"div",5)(41,"span",6),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(42,"Your Message"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(43,"div",7)(44,"textarea",14),_angular_core__WEBPACK_IMPORTED_MODULE_1__.NdJ("ngModelChange",function(h){return k.comment=h}),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(45,"span",9),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(46),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_1__._UZ(47,"div",10),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(48,"div",15)(49,"div",16)(50,"div",7)(51,"button",17),_angular_core__WEBPACK_IMPORTED_MODULE_1__.NdJ("click",function(){return k.submitMessage()}),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(52,"Submit"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_1__._UZ(53,"div",10),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()()(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(54,"div",18)(55,"div",19)(56,"div",20)(57,"p")(58,"strong"),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(59,"Office Address:"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(60,"p"),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(61,"# 302, Amshri Shamira, Opp St. Mary's College,"),_angular_core__WEBPACK_IMPORTED_MODULE_1__._UZ(62,"br"),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(63," Old Lancer Lane, SD Road, Secunderabad-500003."),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(64,"p")(65,"strong"),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(66,"Contact Details:"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(67,"p")(68,"strong"),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(69,"Phone:"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(70,"\xa0+91 9160664000"),_angular_core__WEBPACK_IMPORTED_MODULE_1__._UZ(71,"br"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(72,"strong"),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(73,"Email"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(74,": "),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(75,"a",21),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(76,"info@transferpricing.in"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_1__._UZ(77,"br"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_1__._UZ(78,"p"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(79,"div",19)(80,"div",22),_angular_core__WEBPACK_IMPORTED_MODULE_1__._UZ(81,"iframe",23),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()()()()),2&Be&&(_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(13),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Q6J("ngModel",k.firstname),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Oqu(k.errors.firstname),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(6),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Q6J("ngModel",k.lastname),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Oqu(k.errors.lastname),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(6),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Q6J("ngModel",k.email),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Oqu(k.errors.email),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(6),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Q6J("ngModel",k.contact),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(7),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Q6J("ngModel",k.comment),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Oqu(k.errors.comment))},dependencies:[_angular_forms__WEBPACK_IMPORTED_MODULE_3__.Fj,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.JJ,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.On],styles:[".container[_ngcontent-%COMP%]{padding:3em}.formRow[_ngcontent-%COMP%]{display:block;flex-wrap:wrap;background:#fff;color:#505050;padding:5px;clear:both}.formRow[_ngcontent-%COMP%]   .formRowLabel[_ngcontent-%COMP%]{font-weight:700;display:block}.formRowColWide[_ngcontent-%COMP%]{width:100%}.formRowPadding[_ngcontent-%COMP%]{clear:both}.contact-form-widget[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{background:transparent}.contact-form-widget[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#3f3f41;font-size:36px}.error[_ngcontent-%COMP%]{color:#f61e37;font-size:12px;margin-bottom:0;padding-left:3px}"]}),ContactUsComponent})()},184:(ut,Be,k)=>{k.d(Be,{D:()=>q});var y=k(7579),h=k(4650);let q=(()=>{class _e{constructor(){this.isLoading=new y.x}show(){this.isLoading.next(!0)}hide(){this.isLoading.next(!1)}}return _e.\u0275fac=function(Le){return new(Le||_e)},_e.\u0275prov=h.Yz7({token:_e,factory:_e.\u0275fac,providedIn:"root"}),_e})()},8458:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{G:()=>LoginComponent});var _shared_validations__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2596),_angular_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(4650),_angular_fire_compat_auth__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(1205),_services_firestore_service__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(3261),_angular_router__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(1779),_angular_forms__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(4006);let LoginComponent=(()=>{class LoginComponent{constructor(ut,Be,k){this.auth=ut,this.firestore=Be,this.route=k,this.userid="",this.password="",this.validations=[],this.touched=!1,this.validated=!1,this.errors={}}ngOnInit(){this.firestore.auth.signOut(),this.loadValidation()}loadValidation(){this.validated=!1,this.touched=!1,this.errors={},this.validations=_shared_validations__WEBPACK_IMPORTED_MODULE_0__.n.filter(ut=>["userid","password"].includes(ut.ctrl))}login(){this.touched=!0,this.firestore.loader.show(),this.validate()&&this.auth.signInWithEmailAndPassword(this.userid,this.password).then(ut=>{this.firestore.loader.hide(),console.log("User Login Success ",ut),this.firestore.toast.success(this.userid,"User Login Success"),this.route.navigate(["dashboard"])}).catch(ut=>{this.firestore.loader.hide(),console.error(ut),this.handleError(ut.code)})}handleError(ut){switch(ut){case"auth/user-not-found":this.firestore.toast.error("User not Registered, Please register "+this.userid,"Login Error");break;case"auth/wrong-password":this.firestore.toast.error("Invalid Password, Please use forgot password","Login Error");break;default:this.firestore.toast.error("Unable to login "+this.userid,"Login Error")}}validate(){let errs={},validated=!0;if(this.touched)return this.validations.forEach(v=>{for(var c in v.chcks)if(eval(v.chcks[c].chck)){validated=!1,errs[v.ctrl]=v.chcks[c].msg;break}}),this.validated=validated,this.errors=errs,validated}}return LoginComponent.\u0275fac=function ut(Be){return new(Be||LoginComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Y36(_angular_fire_compat_auth__WEBPACK_IMPORTED_MODULE_2__.zQ),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Y36(_services_firestore_service__WEBPACK_IMPORTED_MODULE_3__.C),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Y36(_angular_router__WEBPACK_IMPORTED_MODULE_4__.F0))},LoginComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_1__.Xpm({type:LoginComponent,selectors:[["app-login"]],decls:35,vars:4,consts:[[1,"container","h-100"],[1,"row","justify-content-sm-center","h-100"],[1,"col-xxl-4","col-xl-5","col-lg-5","col-md-7","col-sm-9"],[1,"text-center","my-5"],[1,"card","shadow-lg"],[1,"card-body","p-5"],[1,"fs-4","card-title","fw-bold","mb-4"],["method","POST","novalidate","","autocomplete","off",1,"needs-validation"],[1,"mb-1"],[1,"text-muted"],[1,"text-danger"],["type","text","id","username","placeholder","Email ID","name","username",1,"form-control",3,"ngModel","ngModelChange"],[1,"error"],["type","password","id","password","name","password","placeholder","Password",1,"form-control",3,"ngModel","ngModelChange"],[1,"m-1"],["href","forgot.html"],[1,"my-2","text-center"],["type","submit",1,"btn","btn-primary","ms-auto","w-50",3,"click"],[1,"my-3","text-center"],["routerLink","/register/consultant",1,"text-dark"]],template:function ut(Be,k){1&Be&&(_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(0,"div",0)(1,"div",1)(2,"div",2),_angular_core__WEBPACK_IMPORTED_MODULE_1__._UZ(3,"div",3),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(4,"div",4)(5,"div",5)(6,"h1",6),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(7,"Login"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(8,"form",7)(9,"div",8)(10,"label",9),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(11,"User ID"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(12,"span",10),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(13,"*"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(14,"input",11),_angular_core__WEBPACK_IMPORTED_MODULE_1__.NdJ("ngModelChange",function(h){return k.userid=h}),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(15,"span",12),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(16),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(17,"div",8)(18,"label",9),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(19,"Password"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(20,"span",10),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(21,"*"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(22,"input",13),_angular_core__WEBPACK_IMPORTED_MODULE_1__.NdJ("ngModelChange",function(h){return k.password=h}),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(23,"span",12),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(24),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(25,"div",14)(26,"a",15),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(27," Forgot Password? "),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(28,"div",16)(29,"button",17),_angular_core__WEBPACK_IMPORTED_MODULE_1__.NdJ("click",function(){return k.login()}),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(30," Login "),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(31,"div",18),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(32," Don't have an account? "),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(33,"a",19),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(34,"Register Now"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()()()()()()()()),2&Be&&(_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(14),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Q6J("ngModel",k.userid),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Oqu(k.errors.userid),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(6),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Q6J("ngModel",k.password),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Oqu(k.errors.password))},dependencies:[_angular_forms__WEBPACK_IMPORTED_MODULE_5__._Y,_angular_forms__WEBPACK_IMPORTED_MODULE_5__.Fj,_angular_forms__WEBPACK_IMPORTED_MODULE_5__.JJ,_angular_forms__WEBPACK_IMPORTED_MODULE_5__.JL,_angular_forms__WEBPACK_IMPORTED_MODULE_5__.On,_angular_forms__WEBPACK_IMPORTED_MODULE_5__.F,_angular_router__WEBPACK_IMPORTED_MODULE_4__.yS],styles:[".error[_ngcontent-%COMP%]{color:#f61e37;font-size:12px;margin-bottom:0;padding-left:3px}"]}),LoginComponent})()},9087:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{y:()=>RegisterComponent});var _shared_validations__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2596),_angular_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(4650),_angular_router__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(1779),_services_base_data_service__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(9668),_services_firestore_service__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(3261),_angular_common__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(6895),_angular_forms__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(4006);function RegisterComponent_div_0_option_29_Template(ut,Be){if(1&ut&&(_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(0,"option",27),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(1),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()),2&ut){const k=Be.$implicit;_angular_core__WEBPACK_IMPORTED_MODULE_1__.Q6J("value",k),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Oqu(k)}}function RegisterComponent_div_0_option_60_Template(ut,Be){if(1&ut&&(_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(0,"option",27),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(1),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()),2&ut){const k=Be.$implicit;_angular_core__WEBPACK_IMPORTED_MODULE_1__.Q6J("value",k),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Oqu(k)}}function RegisterComponent_div_0_option_72_Template(ut,Be){if(1&ut&&(_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(0,"option",27),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(1),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()),2&ut){const k=Be.$implicit;_angular_core__WEBPACK_IMPORTED_MODULE_1__.Q6J("value",k),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Oqu(k)}}function RegisterComponent_div_0_Template(ut,Be){if(1&ut){const k=_angular_core__WEBPACK_IMPORTED_MODULE_1__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(0,"div",1),_angular_core__WEBPACK_IMPORTED_MODULE_1__.NdJ("keyup",function(){_angular_core__WEBPACK_IMPORTED_MODULE_1__.CHM(k);const h=_angular_core__WEBPACK_IMPORTED_MODULE_1__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_1__.KtG(h.validate())})("change",function(){_angular_core__WEBPACK_IMPORTED_MODULE_1__.CHM(k);const h=_angular_core__WEBPACK_IMPORTED_MODULE_1__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_1__.KtG(h.validate())}),_angular_core__WEBPACK_IMPORTED_MODULE_1__._UZ(1,"div",2),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(2,"div",3)(3,"div",4)(4,"h2"),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(5,"Company Registration "),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(6,"div",4)(7,"span",5),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(8,"Are you consultant? Register here"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_1__._UZ(9,"br"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(10,"span",6),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(11,"Already Registered? Login now"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()()(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(12,"div",3)(13,"div",4)(14,"label"),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(15,"Company Name"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(16,"span",7),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(17,"*"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(18,"input",8),_angular_core__WEBPACK_IMPORTED_MODULE_1__.NdJ("ngModelChange",function(h){_angular_core__WEBPACK_IMPORTED_MODULE_1__.CHM(k);const q=_angular_core__WEBPACK_IMPORTED_MODULE_1__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_1__.KtG(q.companyname=h)}),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(19,"span",9),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(20),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(21,"div",4)(22,"label"),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(23,"Industry"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(24,"span",7),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(25,"*"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(26,"select",10),_angular_core__WEBPACK_IMPORTED_MODULE_1__.NdJ("ngModelChange",function(h){_angular_core__WEBPACK_IMPORTED_MODULE_1__.CHM(k);const q=_angular_core__WEBPACK_IMPORTED_MODULE_1__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_1__.KtG(q.industry=h)}),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(27,"option",11),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(28,"Choose Industry"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.YNc(29,RegisterComponent_div_0_option_29_Template,2,2,"option",12),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(30,"span",9),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(31),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()()(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(32,"div",3)(33,"div",13)(34,"label"),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(35,"Company Address"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(36,"span",7),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(37,"*"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(38,"input",14),_angular_core__WEBPACK_IMPORTED_MODULE_1__.NdJ("ngModelChange",function(h){_angular_core__WEBPACK_IMPORTED_MODULE_1__.CHM(k);const q=_angular_core__WEBPACK_IMPORTED_MODULE_1__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_1__.KtG(q.address=h)}),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(39,"span",9),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(40),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()()(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(41,"div",3)(42,"div",4)(43,"label"),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(44,"Country"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(45,"span",7),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(46,"*"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(47,"select",15),_angular_core__WEBPACK_IMPORTED_MODULE_1__.NdJ("ngModelChange",function(h){_angular_core__WEBPACK_IMPORTED_MODULE_1__.CHM(k);const q=_angular_core__WEBPACK_IMPORTED_MODULE_1__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_1__.KtG(q.country=h)}),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(48,"option",16),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(49,"INDIA"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(50,"span",9),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(51),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(52,"div",4)(53,"label"),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(54,"State"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(55,"span",7),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(56,"*"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(57,"select",17),_angular_core__WEBPACK_IMPORTED_MODULE_1__.NdJ("ngModelChange",function(h){_angular_core__WEBPACK_IMPORTED_MODULE_1__.CHM(k);const q=_angular_core__WEBPACK_IMPORTED_MODULE_1__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_1__.KtG(q.state=h)})("change",function(){_angular_core__WEBPACK_IMPORTED_MODULE_1__.CHM(k);const h=_angular_core__WEBPACK_IMPORTED_MODULE_1__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_1__.KtG(h.cities=h.state_city_map[h.state])}),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(58,"option",11),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(59,"Choose State"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.YNc(60,RegisterComponent_div_0_option_60_Template,2,2,"option",12),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(61,"span",9),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(62),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()()(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(63,"div",3)(64,"div",4)(65,"label"),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(66,"City"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(67,"span",7),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(68,"*"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(69,"select",18),_angular_core__WEBPACK_IMPORTED_MODULE_1__.NdJ("ngModelChange",function(h){_angular_core__WEBPACK_IMPORTED_MODULE_1__.CHM(k);const q=_angular_core__WEBPACK_IMPORTED_MODULE_1__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_1__.KtG(q.city=h)}),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(70,"option",11),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(71,"Choose City"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.YNc(72,RegisterComponent_div_0_option_72_Template,2,2,"option",12),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(73,"span",9),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(74),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(75,"div",4)(76,"label"),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(77,"Pincode"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(78,"span",7),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(79,"*"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(80,"input",19),_angular_core__WEBPACK_IMPORTED_MODULE_1__.NdJ("ngModelChange",function(h){_angular_core__WEBPACK_IMPORTED_MODULE_1__.CHM(k);const q=_angular_core__WEBPACK_IMPORTED_MODULE_1__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_1__.KtG(q.pincode=h)}),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(81,"span",9),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(82),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()()(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(83,"div",3)(84,"div",4)(85,"label"),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(86,"User ID"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(87,"span",7),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(88,"*"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(89,"input",20),_angular_core__WEBPACK_IMPORTED_MODULE_1__.NdJ("ngModelChange",function(h){_angular_core__WEBPACK_IMPORTED_MODULE_1__.CHM(k);const q=_angular_core__WEBPACK_IMPORTED_MODULE_1__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_1__.KtG(q.userid=h)}),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(90,"span",9),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(91),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(92,"div",4)(93,"label"),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(94,"Contact Number"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(95,"span",7),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(96,"*"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(97,"input",21),_angular_core__WEBPACK_IMPORTED_MODULE_1__.NdJ("ngModelChange",function(h){_angular_core__WEBPACK_IMPORTED_MODULE_1__.CHM(k);const q=_angular_core__WEBPACK_IMPORTED_MODULE_1__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_1__.KtG(q.contact=h)}),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(98,"span",9),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(99),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()()(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(100,"div",3)(101,"div",4)(102,"label"),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(103,"Login Password"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(104,"span",7),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(105,"*"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(106,"input",22),_angular_core__WEBPACK_IMPORTED_MODULE_1__.NdJ("ngModelChange",function(h){_angular_core__WEBPACK_IMPORTED_MODULE_1__.CHM(k);const q=_angular_core__WEBPACK_IMPORTED_MODULE_1__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_1__.KtG(q.password=h)}),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(107,"span",9),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(108),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(109,"div",4)(110,"label"),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(111,"Confirm Password"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(112,"span",7),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(113,"*"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(114,"input",23),_angular_core__WEBPACK_IMPORTED_MODULE_1__.NdJ("ngModelChange",function(h){_angular_core__WEBPACK_IMPORTED_MODULE_1__.CHM(k);const q=_angular_core__WEBPACK_IMPORTED_MODULE_1__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_1__.KtG(q.cpassword=h)}),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(115,"span",9),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(116),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()()(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(117,"div",24)(118,"div",25)(119,"button",26),_angular_core__WEBPACK_IMPORTED_MODULE_1__.NdJ("click",function(){_angular_core__WEBPACK_IMPORTED_MODULE_1__.CHM(k);const h=_angular_core__WEBPACK_IMPORTED_MODULE_1__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_1__.KtG(h.register())}),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(120,"Register"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()()()()}if(2&ut){const k=_angular_core__WEBPACK_IMPORTED_MODULE_1__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(18),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Q6J("ngModel",k.companyname),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Oqu(k.errors.companyname),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(6),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Q6J("ngModel",k.industry),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(3),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Q6J("ngForOf",k.industries),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Oqu(k.errors.industry),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(7),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Q6J("ngModel",k.address),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Oqu(k.errors.address),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(7),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Q6J("ngModel",k.country),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(4),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Oqu(k.errors.country),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(6),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Q6J("ngModel",k.state),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(3),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Q6J("ngForOf",k.states),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Oqu(k.errors.state),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(7),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Q6J("ngModel",k.city),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(3),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Q6J("ngForOf",k.cities),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Oqu(k.errors.city),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(6),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Q6J("ngModel",k.pincode),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Oqu(k.errors.pincode),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(7),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Q6J("ngModel",k.userid),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Oqu(k.errors.userid),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(6),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Q6J("ngModel",k.contact),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Oqu(k.errors.contact),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(7),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Q6J("ngModel",k.password),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Oqu(k.errors.password),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(6),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Q6J("ngModel",k.cpassword),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Oqu(k.errors.cpassword),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(3),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Q6J("disabled",k.touched&&!k.validated)}}function RegisterComponent_div_1_option_57_Template(ut,Be){if(1&ut&&(_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(0,"option",27),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(1),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()),2&ut){const k=Be.$implicit;_angular_core__WEBPACK_IMPORTED_MODULE_1__.Q6J("value",k),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Oqu(k)}}function RegisterComponent_div_1_option_69_Template(ut,Be){if(1&ut&&(_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(0,"option",27),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(1),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()),2&ut){const k=Be.$implicit;_angular_core__WEBPACK_IMPORTED_MODULE_1__.Q6J("value",k),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Oqu(k)}}function RegisterComponent_div_1_Template(ut,Be){if(1&ut){const k=_angular_core__WEBPACK_IMPORTED_MODULE_1__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(0,"div",1),_angular_core__WEBPACK_IMPORTED_MODULE_1__.NdJ("keyup",function(){_angular_core__WEBPACK_IMPORTED_MODULE_1__.CHM(k);const h=_angular_core__WEBPACK_IMPORTED_MODULE_1__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_1__.KtG(h.validate())})("change",function(){_angular_core__WEBPACK_IMPORTED_MODULE_1__.CHM(k);const h=_angular_core__WEBPACK_IMPORTED_MODULE_1__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_1__.KtG(h.validate())}),_angular_core__WEBPACK_IMPORTED_MODULE_1__._UZ(1,"div",2),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(2,"div",3)(3,"div",4)(4,"h2"),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(5,"Consultant Registration "),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(6,"div",4)(7,"span",28),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(8,"Are you company? Register here"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_1__._UZ(9,"br"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(10,"span",6),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(11,"Already Registered? Login now"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()()(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(12,"div",3)(13,"div",4)(14,"label"),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(15,"First Name"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(16,"span",7),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(17,"*"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(18,"input",29),_angular_core__WEBPACK_IMPORTED_MODULE_1__.NdJ("ngModelChange",function(h){_angular_core__WEBPACK_IMPORTED_MODULE_1__.CHM(k);const q=_angular_core__WEBPACK_IMPORTED_MODULE_1__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_1__.KtG(q.firstname=h)}),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(19,"span",9),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(20),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(21,"div",4)(22,"label"),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(23,"Last Name"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(24,"span",7),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(25,"*"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(26,"input",30),_angular_core__WEBPACK_IMPORTED_MODULE_1__.NdJ("ngModelChange",function(h){_angular_core__WEBPACK_IMPORTED_MODULE_1__.CHM(k);const q=_angular_core__WEBPACK_IMPORTED_MODULE_1__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_1__.KtG(q.lastname=h)}),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(27,"span",9),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(28),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()()(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(29,"div",3)(30,"div",13)(31,"label"),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(32,"Address"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(33,"span",7),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(34,"*"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(35,"input",14),_angular_core__WEBPACK_IMPORTED_MODULE_1__.NdJ("ngModelChange",function(h){_angular_core__WEBPACK_IMPORTED_MODULE_1__.CHM(k);const q=_angular_core__WEBPACK_IMPORTED_MODULE_1__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_1__.KtG(q.address=h)}),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(36,"span",9),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(37),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()()(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(38,"div",3)(39,"div",4)(40,"label"),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(41,"Country"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(42,"span",7),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(43,"*"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(44,"select",15),_angular_core__WEBPACK_IMPORTED_MODULE_1__.NdJ("ngModelChange",function(h){_angular_core__WEBPACK_IMPORTED_MODULE_1__.CHM(k);const q=_angular_core__WEBPACK_IMPORTED_MODULE_1__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_1__.KtG(q.country=h)}),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(45,"option",16),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(46,"INDIA"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(47,"span",9),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(48),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(49,"div",4)(50,"label"),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(51,"State"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(52,"span",7),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(53,"*"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(54,"select",17),_angular_core__WEBPACK_IMPORTED_MODULE_1__.NdJ("ngModelChange",function(h){_angular_core__WEBPACK_IMPORTED_MODULE_1__.CHM(k);const q=_angular_core__WEBPACK_IMPORTED_MODULE_1__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_1__.KtG(q.state=h)})("change",function(){_angular_core__WEBPACK_IMPORTED_MODULE_1__.CHM(k);const h=_angular_core__WEBPACK_IMPORTED_MODULE_1__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_1__.KtG(h.cities=h.state_city_map[h.state])}),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(55,"option",11),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(56,"Choose State"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.YNc(57,RegisterComponent_div_1_option_57_Template,2,2,"option",12),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(58,"span",9),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(59),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()()(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(60,"div",3)(61,"div",4)(62,"label"),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(63,"City"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(64,"span",7),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(65,"*"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(66,"select",18),_angular_core__WEBPACK_IMPORTED_MODULE_1__.NdJ("ngModelChange",function(h){_angular_core__WEBPACK_IMPORTED_MODULE_1__.CHM(k);const q=_angular_core__WEBPACK_IMPORTED_MODULE_1__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_1__.KtG(q.city=h)}),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(67,"option",11),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(68,"Choose City"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.YNc(69,RegisterComponent_div_1_option_69_Template,2,2,"option",12),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(70,"span",9),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(71),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(72,"div",4)(73,"label"),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(74,"Pincode"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(75,"span",7),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(76,"*"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(77,"input",19),_angular_core__WEBPACK_IMPORTED_MODULE_1__.NdJ("ngModelChange",function(h){_angular_core__WEBPACK_IMPORTED_MODULE_1__.CHM(k);const q=_angular_core__WEBPACK_IMPORTED_MODULE_1__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_1__.KtG(q.pincode=h)}),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(78,"span",9),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(79),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()()(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(80,"div",3)(81,"div",4)(82,"label"),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(83,"User ID"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(84,"span",7),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(85,"*"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(86,"input",31),_angular_core__WEBPACK_IMPORTED_MODULE_1__.NdJ("ngModelChange",function(h){_angular_core__WEBPACK_IMPORTED_MODULE_1__.CHM(k);const q=_angular_core__WEBPACK_IMPORTED_MODULE_1__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_1__.KtG(q.userid=h)}),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(87,"span",9),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(88),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(89,"div",4)(90,"label"),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(91,"Contact Number"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(92,"span",7),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(93,"*"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(94,"input",21),_angular_core__WEBPACK_IMPORTED_MODULE_1__.NdJ("ngModelChange",function(h){_angular_core__WEBPACK_IMPORTED_MODULE_1__.CHM(k);const q=_angular_core__WEBPACK_IMPORTED_MODULE_1__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_1__.KtG(q.contact=h)}),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(95,"span",9),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(96),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()()(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(97,"div",3)(98,"div",4)(99,"label"),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(100,"Login Password"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(101,"span",7),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(102,"*"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(103,"input",22),_angular_core__WEBPACK_IMPORTED_MODULE_1__.NdJ("ngModelChange",function(h){_angular_core__WEBPACK_IMPORTED_MODULE_1__.CHM(k);const q=_angular_core__WEBPACK_IMPORTED_MODULE_1__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_1__.KtG(q.password=h)}),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(104,"span",9),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(105),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(106,"div",4)(107,"label"),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(108,"Confirm Password"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(109,"span",7),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(110,"*"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(111,"input",23),_angular_core__WEBPACK_IMPORTED_MODULE_1__.NdJ("ngModelChange",function(h){_angular_core__WEBPACK_IMPORTED_MODULE_1__.CHM(k);const q=_angular_core__WEBPACK_IMPORTED_MODULE_1__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_1__.KtG(q.cpassword=h)}),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(112,"span",9),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(113),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()()(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(114,"div",24)(115,"div",25)(116,"button",26),_angular_core__WEBPACK_IMPORTED_MODULE_1__.NdJ("click",function(){_angular_core__WEBPACK_IMPORTED_MODULE_1__.CHM(k);const h=_angular_core__WEBPACK_IMPORTED_MODULE_1__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_1__.KtG(h.register())}),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(117,"Register"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()()()()}if(2&ut){const k=_angular_core__WEBPACK_IMPORTED_MODULE_1__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(18),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Q6J("ngModel",k.firstname),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Oqu(k.errors.firstname),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(6),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Q6J("ngModel",k.lastname),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Oqu(k.errors.lastname),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(7),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Q6J("ngModel",k.address),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Oqu(k.errors.address),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(7),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Q6J("ngModel",k.country),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(4),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Oqu(k.errors.country),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(6),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Q6J("ngModel",k.state),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(3),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Q6J("ngForOf",k.states),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Oqu(k.errors.state),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(7),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Q6J("ngModel",k.city),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(3),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Q6J("ngForOf",k.cities),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Oqu(k.errors.city),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(6),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Q6J("ngModel",k.pincode),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Oqu(k.errors.pincode),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(7),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Q6J("ngModel",k.userid),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Oqu(k.errors.userid),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(6),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Q6J("ngModel",k.contact),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Oqu(k.errors.contact),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(7),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Q6J("ngModel",k.password),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Oqu(k.errors.password),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(6),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Q6J("ngModel",k.cpassword),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Oqu(k.errors.cpassword),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(3),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Q6J("disabled",k.touched&&!k.validated)}}let RegisterComponent=(()=>{class RegisterComponent{constructor(ut,Be,k,y){this.route=ut,this.router=Be,this.baseData=k,this.firestore=y,this.types=["company","consultant"],this.type="",this.states=[],this.cities=[],this.industries=[],this.companyname="",this.firstname="",this.lastname="",this.industry="",this.address="",this.country="INDIA",this.state="",this.city="",this.pincode="",this.userid="",this.contact="",this.password="",this.cpassword="",this.validations=[],this.touched=!1,this.validated=!1,this.errors={}}ngOnInit(){this.route.paramMap.subscribe(ut=>{this.type=ut.get("type"),null!=this.type&&!this.types.includes(this.type)&&this.router.navigate(["home"]),this.loadValidation()}),this.load()}load(){this.baseData.getStateCityMap().then(ut=>{this.state_city_map=ut,this.states=Object.keys(this.state_city_map)}),this.baseData.getIndustries().then(ut=>{this.industries=ut})}loadValidation(){this.validated=!1,this.touched=!1,this.errors={},this.validations=_shared_validations__WEBPACK_IMPORTED_MODULE_0__.n.filter(this.type==this.types[0]?ut=>["address","country","state","city","pincode","contact","userid","password","cpassword","companyname","industry"].includes(ut.ctrl):ut=>["address","country","state","city","pincode","contact","userid","password","cpassword","firstname","lastname"].includes(ut.ctrl))}validate(){let errs={},validated=!0;if(this.touched)return this.validations.forEach(v=>{for(var c in v.chcks)if(eval(v.chcks[c].chck)){validated=!1,errs[v.ctrl]=v.chcks[c].msg;break}}),this.validated=validated,this.errors=errs,validated}register(){if(this.touched=!0,!this.validate())return;let ut=this.getUser();this.firestore.register(ut)}getUser(){return this.type==this.types[0]?this.getCompany():this.getConsultant()}getCompany(){return{id:this.userid,email:this.userid,role:this.types[1],name:this.companyname,industry:this.industry,contact:this.contact,address:this.getAddress(),password:this.password}}getConsultant(){return{id:this.userid,email:this.userid,role:this.types[1],firstName:this.firstname,lastName:this.lastname,contact:this.contact,address:this.getAddress(),password:this.password}}getAddress(){return{address:this.address,country:this.country,state:this.state,city:this.city,pincode:this.pincode}}}return RegisterComponent.\u0275fac=function ut(Be){return new(Be||RegisterComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Y36(_angular_router__WEBPACK_IMPORTED_MODULE_2__.gz),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Y36(_angular_router__WEBPACK_IMPORTED_MODULE_2__.F0),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Y36(_services_base_data_service__WEBPACK_IMPORTED_MODULE_3__.B),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Y36(_services_firestore_service__WEBPACK_IMPORTED_MODULE_4__.C))},RegisterComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_1__.Xpm({type:RegisterComponent,selectors:[["app-register"]],decls:2,vars:2,consts:[["class","container mt-3",3,"keyup","change",4,"ngIf"],[1,"container","mt-3",3,"keyup","change"],[1,"image-background"],[1,"row"],[1,"col-md-6","col-sm-12","col-xs-12"],["routerLink","/register/consultant",1,"navigation-link"],["routerLink","/login",1,"navigation-link"],[1,"text-danger"],["type","text","id","companyname","placeholder","Company Name","name","companyname",1,"form-control",3,"ngModel","ngModelChange"],[1,"error"],["id","industry","name","industry",1,"form-select",3,"ngModel","ngModelChange"],["disabled","","value",""],[3,"value",4,"ngFor","ngForOf"],[1,"col-md-12","col-sm-12","col-xs-12"],["type","text","id","address","placeholder","Address","name","address",1,"form-control",3,"ngModel","ngModelChange"],["id","country","name","country","disabled","",1,"form-select",3,"ngModel","ngModelChange"],["default","","value","INDIA"],["id","state","name","state",1,"form-select",3,"ngModel","ngModelChange","change"],["id","city","name","city",1,"form-select",3,"ngModel","ngModelChange"],["type","text","id","pincode","placeholder","Pincode","name","pincode",1,"form-control",3,"ngModel","ngModelChange"],["type","text","id","username","placeholder","Company Email","name","username",1,"form-control",3,"ngModel","ngModelChange"],["type","text","id","contact","placeholder","XXXXXXXXX","name","contact",1,"form-control",3,"ngModel","ngModelChange"],["type","password","id","password","name","password",1,"form-control",3,"ngModel","ngModelChange"],["type","password","id","cpassword","name","cpassword",1,"form-control",3,"ngModel","ngModelChange"],[1,"row","place-center","mb-3"],[1,"col-md-3","col-sm-6","col-xs-12"],[1,"btn","btn-primary","w-100",3,"disabled","click"],[3,"value"],["routerLink","/register/company",1,"navigation-link"],["type","text","id","firstName","placeholder","First Name","name","firstname",1,"form-control",3,"ngModel","ngModelChange"],["type","text","id","lastName","placeholder","Last Name","name","lastname",1,"form-control",3,"ngModel","ngModelChange"],["type","text","id","username","placeholder","User Email ID","name","username",1,"form-control",3,"ngModel","ngModelChange"]],template:function ut(Be,k){1&Be&&(_angular_core__WEBPACK_IMPORTED_MODULE_1__.YNc(0,RegisterComponent_div_0_Template,121,26,"div",0),_angular_core__WEBPACK_IMPORTED_MODULE_1__.YNc(1,RegisterComponent_div_1_Template,118,25,"div",0)),2&Be&&(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Q6J("ngIf","company"==k.type),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Q6J("ngIf","consultant"==k.type))},dependencies:[_angular_common__WEBPACK_IMPORTED_MODULE_5__.sg,_angular_common__WEBPACK_IMPORTED_MODULE_5__.O5,_angular_forms__WEBPACK_IMPORTED_MODULE_6__.YN,_angular_forms__WEBPACK_IMPORTED_MODULE_6__.Kr,_angular_forms__WEBPACK_IMPORTED_MODULE_6__.Fj,_angular_forms__WEBPACK_IMPORTED_MODULE_6__.EJ,_angular_forms__WEBPACK_IMPORTED_MODULE_6__.JJ,_angular_forms__WEBPACK_IMPORTED_MODULE_6__.On,_angular_router__WEBPACK_IMPORTED_MODULE_2__.rH],styles:[".container[_ngcontent-%COMP%]{max-width:740px}label[_ngcontent-%COMP%]{margin-bottom:.2rem;margin-left:5px;font-size:16px;font-weight:500}h2[_ngcontent-%COMP%]{font-size:25px;text-decoration:underline;-webkit-text-decoration-color:black;text-decoration-color:#000;color:teal}.image-background[_ngcontent-%COMP%]{width:-webkit-fill-available;height:-webkit-fill-available;position:absolute;top:0;left:0;background:url(/assets/icons/tp-icon.png);opacity:.2;background-repeat:no-repeat;background-position:center;z-index:-1}.navigation-link[_ngcontent-%COMP%]{float:right;text-decoration:underline;font-size:12px;cursor:pointer;color:#4169e1;font-weight:400}.navigation-link[_ngcontent-%COMP%]:hover{color:#8b0000}.error[_ngcontent-%COMP%]{color:#f61e37;font-size:12px;margin-bottom:0;padding-left:3px}.btn-primary[_ngcontent-%COMP%]{min-width:130px}"]}),RegisterComponent})()},9668:(ut,Be,k)=>{k.d(Be,{B:()=>_e});var y=k(8505),h=k(4650),q=k(529);let _e=(()=>{class Ae{constructor(Ue){this.http=Ue}getStateCityMap(){return null!=this.state_city_map?Promise.resolve(this.state_city_map):this.http.get("/assets/collections/state-city.json").pipe((0,y.b)(Ue=>this.state_city_map=Ue)).toPromise()}getIndustries(){return null!=this.industries?Promise.resolve(this.industries):this.http.get("/assets/collections/industries.json").pipe((0,y.b)(Ue=>this.industries=Ue)).toPromise()}}return Ae.\u0275fac=function(Ue){return new(Ue||Ae)(h.LFG(q.eN))},Ae.\u0275prov=h.Yz7({token:Ae,factory:Ae.\u0275fac,providedIn:"root"}),Ae})()},3261:(ut,Be,k)=>{k.d(Be,{C:()=>Mr});var y=k(4650),h=k(4986),q=k(9751),_e=k(8996),Ae=k(9646),Le=k(5813),Ue=k(8675),Fe=k(4482),Qe=k(5403);function he(){return(0,Fe.e)((i,e)=>{let t,s=!1;i.subscribe((0,Qe.x)(e,d=>{const m=t;t=d,s&&e.next([m,d]),s=!0}))})}var oe,ge=k(4004),Pe=k(5026),Et=k(1884),st=k(9300),tt=k(2011),Bt=k(6895),We=(k(2274),k(3942)),Re=k(5861),Wt=k(9681),Ne=k(4859),Me=k(1877),$e=k(2090),Mt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},It={},Je=Je||{},de=Mt||self;function fe(){}function Ze(i){var e=typeof i;return"array"==(e="object"!=e?e:i?Array.isArray(i)?"array":e:"null")||"object"==e&&"number"==typeof i.length}function Xe(i){var e=typeof i;return"object"==e&&null!=i||"function"==e}var Ut="closure_uid_"+(1e9*Math.random()>>>0),zt=0;function un(i,e,t){return i.call.apply(i.bind,arguments)}function ln(i,e,t){if(!i)throw Error();if(2<arguments.length){var s=Array.prototype.slice.call(arguments,2);return function(){var d=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(d,s),i.apply(e,d)}}return function(){return i.apply(e,arguments)}}function Dt(i,e,t){return(Dt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?un:ln).apply(null,arguments)}function Dn(i,e){var t=Array.prototype.slice.call(arguments,1);return function(){var s=t.slice();return s.push.apply(s,arguments),i.apply(this,s)}}function gn(i,e){function t(){}t.prototype=e.prototype,i.Z=e.prototype,i.prototype=new t,i.prototype.constructor=i,i.Vb=function(s,d,m){for(var D=Array(arguments.length-2),R=2;R<arguments.length;R++)D[R-2]=arguments[R];return e.prototype[d].apply(s,D)}}function it(){this.s=this.s,this.o=this.o}var Te={};it.prototype.s=!1,it.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var i=function At(i){return Object.prototype.hasOwnProperty.call(i,Ut)&&i[Ut]||(i[Ut]=++zt)}(this);delete Te[i]}},it.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const ze=Array.prototype.indexOf?function(i,e){return Array.prototype.indexOf.call(i,e,void 0)}:function(i,e){if("string"==typeof i)return"string"!=typeof e||1!=e.length?-1:i.indexOf(e,0);for(let t=0;t<i.length;t++)if(t in i&&i[t]===e)return t;return-1},Vt=Array.prototype.forEach?function(i,e,t){Array.prototype.forEach.call(i,e,t)}:function(i,e,t){const s=i.length,d="string"==typeof i?i.split(""):i;for(let m=0;m<s;m++)m in d&&e.call(t,d[m],m,i)};function rr(i){return Array.prototype.concat.apply([],arguments)}function dr(i){const e=i.length;if(0<e){const t=Array(e);for(let s=0;s<e;s++)t[s]=i[s];return t}return[]}function Kn(i){return/^[\s\xa0]*$/.test(i)}var sr,Yn=String.prototype.trim?function(i){return i.trim()}:function(i){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(i)[1]};function Mn(i,e){return-1!=i.indexOf(e)}function Nn(i,e){return i<e?-1:i>e?1:0}e:{var Un=de.navigator;if(Un){var Ot=Un.userAgent;if(Ot){sr=Ot;break e}}sr=""}function Qn(i,e,t){for(const s in i)e.call(t,i[s],s,i)}function br(i){const e={};for(const t in i)e[t]=i[t];return e}var Tr="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Yr(i,e){let t,s;for(let d=1;d<arguments.length;d++){for(t in s=arguments[d],s)i[t]=s[t];for(let m=0;m<Tr.length;m++)t=Tr[m],Object.prototype.hasOwnProperty.call(s,t)&&(i[t]=s[t])}}function Wr(i){return Wr[" "](i),i}Wr[" "]=fe;var On,i,gt=Mn(sr,"Opera"),Se=Mn(sr,"Trident")||Mn(sr,"MSIE"),ye=Mn(sr,"Edge"),lt=ye||Se,vt=Mn(sr,"Gecko")&&!(Mn(sr.toLowerCase(),"webkit")&&!Mn(sr,"Edge"))&&!(Mn(sr,"Trident")||Mn(sr,"MSIE"))&&!Mn(sr,"Edge"),tn=Mn(sr.toLowerCase(),"webkit")&&!Mn(sr,"Edge");function Ht(){var i=de.document;return i?i.documentMode:void 0}e:{var Gt="",Wn=(i=sr,vt?/rv:([^\);]+)(\)|;)/.exec(i):ye?/Edge\/([\d\.]+)/.exec(i):Se?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):tn?/WebKit\/(\S+)/.exec(i):gt?/(?:Version)[ \/]?(\S+)/.exec(i):void 0);if(Wn&&(Gt=Wn?Wn[1]:""),Se){var $n=Ht();if(null!=$n&&$n>parseFloat(Gt)){On=String($n);break e}}On=Gt}var Zr={};var me=de.document&&Se&&(Ht()||parseInt(On,10))||void 0,Oe=function(){if(!de.addEventListener||!Object.defineProperty)return!1;var i=!1,e=Object.defineProperty({},"passive",{get:function(){i=!0}});try{de.addEventListener("test",fe,e),de.removeEventListener("test",fe,e)}catch{}return i}();function be(i,e){this.type=i,this.g=this.target=e,this.defaultPrevented=!1}function Ct(i,e){if(be.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var t=this.type=i.type,s=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=e,e=i.relatedTarget){if(vt){e:{try{Wr(e.nodeName);var d=!0;break e}catch{}d=!1}d||(e=null)}}else"mouseover"==t?e=i.fromElement:"mouseout"==t&&(e=i.toElement);this.relatedTarget=e,s?(this.clientX=void 0!==s.clientX?s.clientX:s.pageX,this.clientY=void 0!==s.clientY?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType="string"==typeof i.pointerType?i.pointerType:jt[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&Ct.Z.h.call(this)}}be.prototype.h=function(){this.defaultPrevented=!0},gn(Ct,be);var jt={2:"touch",3:"pen",4:"mouse"};Ct.prototype.h=function(){Ct.Z.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var nn="closure_listenable_"+(1e6*Math.random()|0),hr=0;function ar(i,e,t,s,d){this.listener=i,this.proxy=null,this.src=e,this.type=t,this.capture=!!s,this.ia=d,this.key=++hr,this.ca=this.fa=!1}function Br(i){i.ca=!0,i.listener=null,i.proxy=null,i.src=null,i.ia=null}function Vn(i){this.src=i,this.g={},this.h=0}function Fn(i,e){var t=e.type;if(t in i.g){var m,s=i.g[t],d=ze(s,e);(m=0<=d)&&Array.prototype.splice.call(s,d,1),m&&(Br(e),0==i.g[t].length&&(delete i.g[t],i.h--))}}function Er(i,e,t,s){for(var d=0;d<i.length;++d){var m=i[d];if(!m.ca&&m.listener==e&&m.capture==!!t&&m.ia==s)return d}return-1}Vn.prototype.add=function(i,e,t,s,d){var m=i.toString();(i=this.g[m])||(i=this.g[m]=[],this.h++);var D=Er(i,e,s,d);return-1<D?(e=i[D],t||(e.fa=!1)):((e=new ar(e,this.src,m,!!s,d)).fa=t,i.push(e)),e};var Ur="closure_lm_"+(1e6*Math.random()|0),wi={};function _i(i,e,t,s,d){if(s&&s.once)return Ee(i,e,t,s,d);if(Array.isArray(e)){for(var m=0;m<e.length;m++)_i(i,e[m],t,s,d);return null}return t=Hr(t),i&&i[nn]?i.N(e,t,Xe(s)?!!s.capture:!!s,d):Vr(i,e,t,!1,s,d)}function Vr(i,e,t,s,d,m){if(!e)throw Error("Invalid event type");var D=Xe(d)?!!d.capture:!!d,R=jn(i);if(R||(i[Ur]=R=new Vn(i)),(t=R.add(e,t,s,D,m)).proxy)return t;if(s=function we(){var e=sn;return function i(t){return e.call(i.src,i.listener,t)}}(),t.proxy=s,s.src=i,s.listener=t,i.addEventListener)Oe||(d=D),void 0===d&&(d=!1),i.addEventListener(e.toString(),s,d);else if(i.attachEvent)i.attachEvent(bt(e.toString()),s);else{if(!i.addListener||!i.removeListener)throw Error("addEventListener and attachEvent are unavailable.");i.addListener(s)}return t}function Ee(i,e,t,s,d){if(Array.isArray(e)){for(var m=0;m<e.length;m++)Ee(i,e[m],t,s,d);return null}return t=Hr(t),i&&i[nn]?i.O(e,t,Xe(s)?!!s.capture:!!s,d):Vr(i,e,t,!0,s,d)}function ae(i,e,t,s,d){if(Array.isArray(e))for(var m=0;m<e.length;m++)ae(i,e[m],t,s,d);else s=Xe(s)?!!s.capture:!!s,t=Hr(t),i&&i[nn]?(i=i.i,(e=String(e).toString())in i.g&&-1<(t=Er(m=i.g[e],t,s,d))&&(Br(m[t]),Array.prototype.splice.call(m,t,1),0==m.length&&(delete i.g[e],i.h--))):i&&(i=jn(i))&&(e=i.g[e.toString()],i=-1,e&&(i=Er(e,t,s,d)),(t=-1<i?e[i]:null)&&Ge(t))}function Ge(i){if("number"!=typeof i&&i&&!i.ca){var e=i.src;if(e&&e[nn])Fn(e.i,i);else{var t=i.type,s=i.proxy;e.removeEventListener?e.removeEventListener(t,s,i.capture):e.detachEvent?e.detachEvent(bt(t),s):e.addListener&&e.removeListener&&e.removeListener(s),(t=jn(e))?(Fn(t,i),0==t.h&&(t.src=null,e[Ur]=null)):Br(i)}}}function bt(i){return i in wi?wi[i]:wi[i]="on"+i}function sn(i,e){if(i.ca)i=!0;else{e=new Ct(e,this);var t=i.listener,s=i.ia||i.src;i.fa&&Ge(i),i=t.call(s,e)}return i}function jn(i){return(i=i[Ur])instanceof Vn?i:null}var Zn="__closure_events_fn_"+(1e9*Math.random()>>>0);function Hr(i){return"function"==typeof i?i:(i[Zn]||(i[Zn]=function(e){return i.handleEvent(e)}),i[Zn])}function Ar(){it.call(this),this.i=new Vn(this),this.P=this,this.I=null}function pn(i,e){var t,s=i.I;if(s)for(t=[];s;s=s.I)t.push(s);if(i=i.P,s=e.type||e,"string"==typeof e)e=new be(e,i);else if(e instanceof be)e.target=e.target||i;else{var d=e;Yr(e=new be(s,i),d)}if(d=!0,t)for(var m=t.length-1;0<=m;m--){var D=e.g=t[m];d=pr(D,s,!0,e)&&d}if(d=pr(D=e.g=i,s,!0,e)&&d,d=pr(D,s,!1,e)&&d,t)for(m=0;m<t.length;m++)d=pr(D=e.g=t[m],s,!1,e)&&d}function pr(i,e,t,s){if(!(e=i.i.g[String(e)]))return!0;e=e.concat();for(var d=!0,m=0;m<e.length;++m){var D=e[m];if(D&&!D.ca&&D.capture==t){var R=D.listener,K=D.ia||D.src;D.fa&&Fn(i.i,D),d=!1!==R.call(K,s)&&d}}return d&&!s.defaultPrevented}gn(Ar,it),Ar.prototype[nn]=!0,Ar.prototype.removeEventListener=function(i,e,t,s){ae(this,i,e,t,s)},Ar.prototype.M=function(){if(Ar.Z.M.call(this),this.i){var e,i=this.i;for(e in i.g){for(var t=i.g[e],s=0;s<t.length;s++)Br(t[s]);delete i.g[e],i.h--}}this.I=null},Ar.prototype.N=function(i,e,t,s){return this.i.add(String(i),e,!1,t,s)},Ar.prototype.O=function(i,e,t,s){return this.i.add(String(i),e,!0,t,s)};var Mi=de.JSON.stringify;function Es(){var i=Ro;let e=null;return i.g&&(e=i.g,i.g=i.g.next,i.g||(i.h=null),e.next=null),e}var jr,Qr=new class{constructor(i,e){this.i=i,this.j=e,this.h=0,this.g=null}get(){let i;return 0<this.h?(this.h--,i=this.g,this.g=i.next,i.next=null):i=this.i(),i}}(()=>new Pi,i=>i.reset());class Pi{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function vo(i){de.setTimeout(()=>{throw i},0)}function gi(i,e){jr||function os(){var i=de.Promise.resolve(void 0);jr=function(){i.then(ko)}}(),yr||(jr(),yr=!0),Ro.add(i,e)}var yr=!1,Ro=new class Bi{constructor(){this.h=this.g=null}add(e,t){const s=Qr.get();s.set(e,t),this.h?this.h.next=s:this.g=s,this.h=s}};function ko(){for(var i;i=Es();){try{i.h.call(i.g)}catch(t){vo(t)}var e=Qr;e.j(i),100>e.h&&(e.h++,i.next=e.g,e.g=i)}yr=!1}function Ti(i,e){Ar.call(this),this.h=i||1,this.g=e||de,this.j=Dt(this.kb,this),this.l=Date.now()}function bo(i){i.da=!1,i.S&&(i.g.clearTimeout(i.S),i.S=null)}function Ui(i,e,t){if("function"==typeof i)t&&(i=Dt(i,t));else{if(!i||"function"!=typeof i.handleEvent)throw Error("Invalid listener argument");i=Dt(i.handleEvent,i)}return 2147483647<Number(e)?-1:de.setTimeout(i,e||0)}function $i(i){i.g=Ui(()=>{i.g=null,i.i&&(i.i=!1,$i(i))},i.j);const e=i.h;i.h=null,i.m.apply(null,e)}gn(Ti,Ar),(oe=Ti.prototype).da=!1,oe.S=null,oe.kb=function(){if(this.da){var i=Date.now()-this.l;0<i&&i<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-i):(this.S&&(this.g.clearTimeout(this.S),this.S=null),pn(this,"tick"),this.da&&(bo(this),this.start()))}},oe.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},oe.M=function(){Ti.Z.M.call(this),bo(this),delete this.g};class bi extends it{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:$i(this)}M(){super.M(),this.g&&(de.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Lr(i){it.call(this),this.h=i,this.g={}}gn(Lr,it);var ho=[];function ii(i,e,t,s){Array.isArray(t)||(t&&(ho[0]=t.toString()),t=ho);for(var d=0;d<t.length;d++){var m=_i(e,t[d],s||i.handleEvent,!1,i.h||i);if(!m)break;i.g[m.key]=m}}function Ri(i){Qn(i.g,function(e,t){this.g.hasOwnProperty(t)&&Ge(e)},i),i.g={}}function qo(){this.g=!0}function oi(i,e,t,s){i.info(function(){return"XMLHTTP TEXT ("+e+"): "+function _a(i,e){if(!i.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(i=0;i<t.length;i++)if(Array.isArray(t[i])){var s=t[i];if(!(2>s.length)){var d=s[1];if(Array.isArray(d)&&!(1>d.length)){var m=d[0];if("noop"!=m&&"stop"!=m&&"close"!=m)for(var D=1;D<d.length;D++)d[D]=""}}}return Mi(t)}catch{return e}}(i,t)+(s?" "+s:"")})}Lr.prototype.M=function(){Lr.Z.M.call(this),Ri(this)},Lr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},qo.prototype.Aa=function(){this.g=!1},qo.prototype.info=function(){};var Lo={},Ns=null;function Ds(){return Ns=Ns||new Ar}function si(i){be.call(this,Lo.Ma,i)}function Ke(i){const e=Ds();pn(e,new si(e,i))}function je(i,e){be.call(this,Lo.STAT_EVENT,i),this.stat=e}function et(i){const e=Ds();pn(e,new je(e,i))}function Tt(i,e){be.call(this,Lo.Na,i),this.size=e}function Zt(i,e){if("function"!=typeof i)throw Error("Fn must not be null and must be a function");return de.setTimeout(function(){i()},e)}Lo.Ma="serverreachability",gn(si,be),Lo.STAT_EVENT="statevent",gn(je,be),Lo.Na="timingevent",gn(Tt,be);var dn={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Sn={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Xr(){}function Zi(){}Xr.prototype.h=null;var io,Yo={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Vi(){be.call(this,"d")}function zi(){be.call(this,"c")}function ss(){}function Eo(i,e,t,s){this.l=i,this.j=e,this.m=t,this.X=s||1,this.V=new Lr(this),this.P=Co,this.W=new Ti(i=lt?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Js}function Js(){this.i=null,this.g="",this.h=!1}gn(Vi,be),gn(zi,be),gn(ss,Xr),ss.prototype.g=function(){return new XMLHttpRequest},ss.prototype.i=function(){return{}},io=new ss;var Co=45e3,Gi={},qi={};function No(i,e,t){i.K=1,i.v=Xo(so(e)),i.s=t,i.U=!0,Fo(i,null)}function Fo(i,e){i.F=Date.now(),Do(i),i.A=so(i.v);var t=i.A,s=i.X;Array.isArray(s)||(s=[String(s)]),Io(t.h,"t",s),i.C=0,t=i.l.H,i.h=new Js,i.g=Cl(i.l,t?e:null,!i.s),0<i.O&&(i.L=new bi(Dt(i.Ia,i,i.g),i.O)),ii(i.V,i.g,"readystatechange",i.gb),e=i.H?br(i.H):{},i.s?(i.u||(i.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",i.g.ea(i.A,i.u,i.s,e)):(i.u="GET",i.g.ea(i.A,i.u,null,e)),Ke(1),function Cs(i,e,t,s,d,m){i.info(function(){if(i.g)if(m)for(var D="",R=m.split("&"),K=0;K<R.length;K++){var Q=R[K].split("=");if(1<Q.length){var se=Q[0];Q=Q[1];var xe=se.split("_");D=2<=xe.length&&"type"==xe[1]?D+(se+"=")+Q+"&":D+(se+"=redacted&")}}else D=null;else D=m;return"XMLHTTP REQ ("+s+") [attempt "+d+"]: "+e+"\n"+t+"\n"+D})}(i.j,i.u,i.A,i.m,i.X,i.s)}function as(i){return!!i.g&&"GET"==i.u&&2!=i.K&&i.l.Ba}function ea(i,e,t){let d,s=!0;for(;!i.I&&i.C<t.length;){if(d=xa(i,t),d==qi){4==e&&(i.o=4,et(14),s=!1),oi(i.j,i.m,null,"[Incomplete Response]");break}if(d==Gi){i.o=4,et(15),oi(i.j,i.m,t,"[Invalid Chunk]"),s=!1;break}oi(i.j,i.m,d,null),Bo(i,d)}as(i)&&d!=qi&&d!=Gi&&(i.h.g="",i.C=0),4!=e||0!=t.length||i.h.h||(i.o=1,et(16),s=!1),i.i=i.i&&s,s?0<t.length&&!i.aa&&(i.aa=!0,(e=i.l).g==i&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),Wo(e),e.L=!0,et(11))):(oi(i.j,i.m,t,"[Invalid Chunked Response]"),oo(i),mi(i))}function xa(i,e){var t=i.C,s=e.indexOf("\n",t);return-1==s?qi:(t=Number(e.substring(t,s)),isNaN(t)?Gi:(s+=1)+t>e.length?qi:(e=e.substr(s,t),i.C=s+t,e))}function Do(i){i.Y=Date.now()+i.P,wo(i,i.P)}function wo(i,e){if(null!=i.B)throw Error("WatchDog timer not null");i.B=Zt(Dt(i.eb,i),e)}function Hi(i){i.B&&(de.clearTimeout(i.B),i.B=null)}function mi(i){0==i.l.G||i.I||La(i.l,i)}function oo(i){Hi(i);var e=i.L;e&&"function"==typeof e.na&&e.na(),i.L=null,bo(i.W),Ri(i.V),i.g&&(e=i.g,i.g=null,e.abort(),e.na())}function Bo(i,e){try{var t=i.l;if(0!=t.G&&(t.g==i||cn(t.i,i)))if(t.I=i.N,!i.J&&cn(t.i,i)&&3==t.G){try{var s=t.Ca.g.parse(e)}catch{s=null}if(Array.isArray(s)&&3==s.length){var d=s;if(0==d[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<i.F))break e;ai(t),or(t)}Ho(t),et(18)}}else t.ta=d[1],0<t.ta-t.U&&37500>d[2]&&t.N&&0==t.A&&!t.v&&(t.v=Zt(Dt(t.ab,t),6e3));if(1>=pt(t.i)&&t.ka){try{t.ka()}catch{}t.ka=void 0}}else ba(t,11)}else if((i.J||t.g==i)&&ai(t),!Kn(e))for(d=t.Ca.g.parse(e),e=0;e<d.length;e++){let Q=d[e];if(t.U=Q[0],Q=Q[1],2==t.G)if("c"==Q[0]){t.J=Q[1],t.la=Q[2];const se=Q[3];null!=se&&(t.ma=se,t.h.info("VER="+t.ma));const xe=Q[4];null!=xe&&(t.za=xe,t.h.info("SVER="+t.za));const nt=Q[5];null!=nt&&"number"==typeof nt&&0<nt&&(t.K=s=1.5*nt,t.h.info("backChannelRequestTimeoutMs_="+s)),s=t;const wt=i.g;if(wt){const St=wt.g?wt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(St){var m=s.i;!m.g&&(Mn(St,"spdy")||Mn(St,"quic")||Mn(St,"h2"))&&(m.j=m.l,m.g=new Set,m.h&&(ei(m,m.h),m.h=null))}if(s.D){const yt=wt.g?wt.g.getResponseHeader("X-HTTP-Session-Id"):null;yt&&(s.sa=yt,Cr(s.F,s.D,yt))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-i.F,t.h.info("Handshake RTT: "+t.O+"ms"));var D=i;if((s=t).oa=El(s,s.H?s.la:null,s.W),D.J){po(s.i,D);var R=D,K=s.K;K&&R.setTimeout(K),R.B&&(Hi(R),Do(R)),s.g=D}else Ao(s);0<t.l.length&&ti(t)}else"stop"!=Q[0]&&"close"!=Q[0]||ba(t,7);else 3==t.G&&("stop"==Q[0]||"close"==Q[0]?"stop"==Q[0]?ba(t,7):_r(t):"noop"!=Q[0]&&t.j&&t.j.wa(Q),t.A=0)}Ke(4)}catch{}}function Mo(i,e){if(i.forEach&&"function"==typeof i.forEach)i.forEach(e,void 0);else if(Ze(i)||"string"==typeof i)Vt(i,e,void 0);else{if(i.T&&"function"==typeof i.T)var t=i.T();else if(i.R&&"function"==typeof i.R)t=void 0;else if(Ze(i)||"string"==typeof i){t=[];for(var s=i.length,d=0;d<s;d++)t.push(d)}else for(d in t=[],s=0,i)t[s++]=d;s=function Ei(i){if(i.R&&"function"==typeof i.R)return i.R();if("string"==typeof i)return i.split("");if(Ze(i)){for(var e=[],t=i.length,s=0;s<t;s++)e.push(i[s]);return e}for(s in e=[],t=0,i)e[t++]=i[s];return e}(i),d=s.length;for(var m=0;m<d;m++)e.call(void 0,s[m],t&&t[m],i)}}function Fs(i,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var s=0;s<t;s+=2)this.set(arguments[s],arguments[s+1])}else if(i)if(i instanceof Fs)for(t=i.T(),s=0;s<t.length;s++)this.set(t[s],i.get(t[s]));else for(s in i)this.set(s,i[s])}function zr(i){if(i.i!=i.g.length){for(var e=0,t=0;e<i.g.length;){var s=i.g[e];fo(i.h,s)&&(i.g[t++]=s),e++}i.g.length=t}if(i.i!=i.g.length){var d={};for(t=e=0;e<i.g.length;)fo(d,s=i.g[e])||(i.g[t++]=s,d[s]=1),e++;i.g.length=t}}function fo(i,e){return Object.prototype.hasOwnProperty.call(i,e)}(oe=Eo.prototype).setTimeout=function(i){this.P=i},oe.gb=function(i){i=i.target;const e=this.L;e&&3==Ce(i)?e.l():this.Ia(i)},oe.Ia=function(i){try{if(i==this.g)e:{const se=Ce(this.g);var e=this.g.Da();const xe=this.g.ba();if(!(3>se)&&(3!=se||lt||this.g&&(this.h.h||this.g.ga()||at(this.g)))){this.I||4!=se||7==e||Ke(8==e||0>=xe?3:2),Hi(this);var t=this.g.ba();this.N=t;t:if(as(this)){var s=at(this.g);i="";var d=s.length,m=4==Ce(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){oo(this),mi(this);var D="";break t}this.h.i=new de.TextDecoder}for(e=0;e<d;e++)this.h.h=!0,i+=this.h.i.decode(s[e],{stream:m&&e==d-1});s.splice(0,d),this.h.g+=i,this.C=0,D=this.h.g}else D=this.g.ga();if(this.i=200==t,function pa(i,e,t,s,d,m,D){i.info(function(){return"XMLHTTP RESP ("+s+") [ attempt "+d+"]: "+e+"\n"+t+"\n"+m+" "+D})}(this.j,this.u,this.A,this.m,this.X,se,t),this.i){if(this.$&&!this.J){t:{if(this.g){var R,K=this.g;if((R=K.g?K.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Kn(R)){var Q=R;break t}}Q=null}if(!(t=Q)){this.i=!1,this.o=3,et(12),oo(this),mi(this);break e}oi(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Bo(this,t)}this.U?(ea(this,se,D),lt&&this.i&&3==se&&(ii(this.V,this.W,"tick",this.fb),this.W.start())):(oi(this.j,this.m,D,null),Bo(this,D)),4==se&&oo(this),this.i&&!this.I&&(4==se?La(this.l,this):(this.i=!1,Do(this)))}else 400==t&&0<D.indexOf("Unknown SID")?(this.o=3,et(12)):(this.o=0,et(13)),oo(this),mi(this)}}}catch{}},oe.fb=function(){if(this.g){var i=Ce(this.g),e=this.g.ga();this.C<e.length&&(Hi(this),ea(this,i,e),this.i&&4!=i&&Do(this))}},oe.cancel=function(){this.I=!0,oo(this)},oe.eb=function(){this.B=null;const i=Date.now();0<=i-this.Y?(function Sa(i,e){i.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Ke(3),et(17)),oo(this),this.o=2,mi(this)):wo(this,this.Y-i)},(oe=Fs.prototype).R=function(){zr(this);for(var i=[],e=0;e<this.g.length;e++)i.push(this.h[this.g[e]]);return i},oe.T=function(){return zr(this),this.g.concat()},oe.get=function(i,e){return fo(this.h,i)?this.h[i]:e},oe.set=function(i,e){fo(this.h,i)||(this.i++,this.g.push(i)),this.h[i]=e},oe.forEach=function(i,e){for(var t=this.T(),s=0;s<t.length;s++){var d=t[s],m=this.get(d);i.call(e,m,d,this)}};var ga=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Ci(i,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,i instanceof Ci){this.g=void 0!==e?e:i.g,Qo(this,i.j),this.s=i.s,Yi(this,i.i),ir(this,i.m),this.l=i.l,e=i.h;var t=new Qi;t.i=e.i,e.g&&(t.g=new Fs(e.g),t.h=e.h),Bs(this,t),this.o=i.o}else i&&(t=String(i).match(ga))?(this.g=!!e,Qo(this,t[1]||"",!0),this.s=Dr(t[2]||""),Yi(this,t[3]||"",!0),ir(this,t[4]),this.l=Dr(t[5]||"",!0),Bs(this,t[6]||"",!0),this.o=Dr(t[7]||"")):(this.g=!!e,this.h=new Qi(null,this.g))}function so(i){return new Ci(i)}function Qo(i,e,t){i.j=t?Dr(e,!0):e,i.j&&(i.j=i.j.replace(/:$/,""))}function Yi(i,e,t){i.i=t?Dr(e,!0):e}function ir(i,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);i.m=e}else i.m=null}function Bs(i,e,t){e instanceof Qi?(i.h=e,function Ir(i,e){e&&!i.j&&(Xi(i),i.i=null,i.g.forEach(function(t,s){var d=s.toLowerCase();s!=d&&(xt(this,s),Io(this,d,t))},i)),i.j=e}(i.h,i.g)):(t||(e=Rn(e,Pa)),i.h=new Qi(e,i.g))}function Cr(i,e,t){i.h.set(e,t)}function Xo(i){return Cr(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function Dr(i,e){return i?e?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function Rn(i,e,t){return"string"==typeof i?(i=encodeURI(i).replace(e,Oa),t&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function Oa(i){return"%"+((i=i.charCodeAt(0))>>4&15).toString(16)+(15&i).toString(16)}Ci.prototype.toString=function(){var i=[],e=this.j;e&&i.push(Rn(e,qa,!0),":");var t=this.i;return(t||"file"==e)&&(i.push("//"),(e=this.s)&&i.push(Rn(e,qa,!0),"@"),i.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&i.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&i.push("/"),i.push(Rn(t,"/"==t.charAt(0)?ma:ws,!0))),(t=this.h.toString())&&i.push("?",t),(t=this.o)&&i.push("#",Rn(t,Ii)),i.join("")};var qa=/[#\/\?@]/g,ws=/[#\?:]/g,ma=/[#\?]/g,Pa=/[#\?@]/g,Ii=/#/g;function Qi(i,e){this.h=this.g=null,this.i=i||null,this.j=!!e}function Xi(i){i.g||(i.g=new Fs,i.h=0,i.i&&function To(i,e){if(i){i=i.split("&");for(var t=0;t<i.length;t++){var s=i[t].indexOf("="),d=null;if(0<=s){var m=i[t].substring(0,s);d=i[t].substring(s+1)}else m=i[t];e(m,d?decodeURIComponent(d.replace(/\+/g," ")):"")}}}(i.i,function(e,t){i.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function xt(i,e){Xi(i),e=pi(i,e),fo(i.g.h,e)&&(i.i=null,i.h-=i.g.get(e).length,fo((i=i.g).h,e)&&(delete i.h[e],i.i--,i.g.length>2*i.i&&zr(i)))}function zn(i,e){return Xi(i),e=pi(i,e),fo(i.g.h,e)}function Io(i,e,t){xt(i,e),0<t.length&&(i.i=null,i.g.set(pi(i,e),dr(t)),i.h+=t.length)}function pi(i,e){return e=String(e),i.j&&(e=e.toLowerCase()),e}function H(i){this.l=i||U,i=de.PerformanceNavigationTiming?0<(i=de.performance.getEntriesByType("navigation")).length&&("hq"==i[0].nextHopProtocol||"h2"==i[0].nextHopProtocol):!!(de.g&&de.g.Ea&&de.g.Ea()&&de.g.Ea().Zb),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(oe=Qi.prototype).add=function(i,e){Xi(this),this.i=null,i=pi(this,i);var t=this.g.get(i);return t||this.g.set(i,t=[]),t.push(e),this.h+=1,this},oe.forEach=function(i,e){Xi(this),this.g.forEach(function(t,s){Vt(t,function(d){i.call(e,d,s,this)},this)},this)},oe.T=function(){Xi(this);for(var i=this.g.R(),e=this.g.T(),t=[],s=0;s<e.length;s++)for(var d=i[s],m=0;m<d.length;m++)t.push(e[s]);return t},oe.R=function(i){Xi(this);var e=[];if("string"==typeof i)zn(this,i)&&(e=rr(e,this.g.get(pi(this,i))));else{i=this.g.R();for(var t=0;t<i.length;t++)e=rr(e,i[t])}return e},oe.set=function(i,e){return Xi(this),this.i=null,zn(this,i=pi(this,i))&&(this.h-=this.g.get(i).length),this.g.set(i,[e]),this.h+=1,this},oe.get=function(i,e){return i&&0<(i=this.R(i)).length?String(i[0]):e},oe.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var i=[],e=this.g.T(),t=0;t<e.length;t++){var s=e[t],d=encodeURIComponent(String(s));s=this.R(s);for(var m=0;m<s.length;m++){var D=d;""!==s[m]&&(D+="="+encodeURIComponent(String(s[m]))),i.push(D)}}return this.i=i.join("&")};var U=10;function re(i){return!!i.h||!!i.g&&i.g.size>=i.j}function pt(i){return i.h?1:i.g?i.g.size:0}function cn(i,e){return i.h?i.h==e:!!i.g&&i.g.has(e)}function ei(i,e){i.g?i.g.add(e):i.h=e}function po(i,e){i.h&&i.h==e?i.h=null:i.g&&i.g.has(e)&&i.g.delete(e)}function ki(i){if(null!=i.h)return i.i.concat(i.h.D);if(null!=i.g&&0!==i.g.size){let e=i.i;for(const t of i.g.values())e=e.concat(t.D);return e}return dr(i.i)}function Pr(){}function Jo(){this.g=new Pr}function Ya(i,e,t){const s=t||"";try{Mo(i,function(d,m){let D=d;Xe(d)&&(D=Mi(d)),e.push(s+m+"="+encodeURIComponent(D))})}catch(d){throw e.push(s+"type="+encodeURIComponent("_badmap")),d}}function Wi(i,e,t,s,d){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,d(s)}catch{}}function Qa(i){this.l=i.$b||null,this.j=i.ib||!1}function ls(i,e){Ar.call(this),this.D=i,this.u=e,this.m=void 0,this.readyState=Us,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}H.prototype.cancel=function(){if(this.i=ki(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const i of this.g.values())i.cancel();this.g.clear()}},Pr.prototype.stringify=function(i){return de.JSON.stringify(i,void 0)},Pr.prototype.parse=function(i){return de.JSON.parse(i,void 0)},gn(Qa,Xr),Qa.prototype.g=function(){return new ls(this.l,this.j)},Qa.prototype.i=function(i){return function(){return i}}({}),gn(ls,Ar);var Us=0;function Ra(i){i.j.read().then(i.Sa.bind(i)).catch(i.ha.bind(i))}function cs(i){i.readyState=4,i.l=null,i.j=null,i.A=null,us(i)}function us(i){i.onreadystatechange&&i.onreadystatechange.call(i)}(oe=ls.prototype).open=function(i,e){if(this.readyState!=Us)throw this.abort(),Error("Error reopening a connection");this.C=i,this.B=e,this.readyState=1,us(this)},oe.send=function(i){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};i&&(e.body=i),(this.D||de).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},oe.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,cs(this)),this.readyState=Us},oe.Va=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,us(this)),this.g&&(this.readyState=3,us(this),this.g)))if("arraybuffer"===this.responseType)i.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(typeof de.ReadableStream<"u"&&"body"in i){if(this.j=i.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Ra(this)}else i.text().then(this.Ua.bind(this),this.ha.bind(this))},oe.Sa=function(i){if(this.g){if(this.u&&i.value)this.response.push(i.value);else if(!this.u){var e=i.value?i.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!i.done}))&&(this.response=this.responseText+=e)}i.done?cs(this):us(this),3==this.readyState&&Ra(this)}},oe.Ua=function(i){this.g&&(this.response=this.responseText=i,cs(this))},oe.Ta=function(i){this.g&&(this.response=i,cs(this))},oe.ha=function(){this.g&&cs(this)},oe.setRequestHeader=function(i,e){this.v.append(i,e)},oe.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},oe.getAllResponseHeaders=function(){if(!this.h)return"";const i=[],e=this.h.entries();for(var t=e.next();!t.done;)i.push((t=t.value)[0]+": "+t[1]),t=e.next();return i.join("\r\n")},Object.defineProperty(ls.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(i){this.m=i?"include":"same-origin"}});var ya=de.JSON.parse;function Kr(i){Ar.call(this),this.headers=new Fs,this.u=i||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=va,this.K=this.L=!1}gn(Kr,Ar);var va="",Ms=/^https?$/i,Xa=["POST","PUT"];function ka(i){return"content-type"==i.toLowerCase()}function Ja(i,e){i.h=!1,i.g&&(i.l=!0,i.g.abort(),i.l=!1),i.j=e,i.m=5,N(i),V(i)}function N(i){i.D||(i.D=!0,pn(i,"complete"),pn(i,"error"))}function Y(i){if(i.h&&typeof Je<"u"&&(!i.C[1]||4!=Ce(i)||2!=i.ba()))if(i.v&&4==Ce(i))Ui(i.Fa,0,i);else if(pn(i,"readystatechange"),4==Ce(i)){i.h=!1;try{const R=i.ba();e:switch(R){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var s;if(s=0===R){var d=String(i.H).match(ga)[1]||null;if(!d&&de.self&&de.self.location){var m=de.self.location.protocol;d=m.substr(0,m.length-1)}s=!Ms.test(d?d.toLowerCase():"")}t=s}if(t)pn(i,"complete"),pn(i,"success");else{i.m=6;try{var D=2<Ce(i)?i.g.statusText:""}catch{D=""}i.j=D+" ["+i.ba()+"]",N(i)}}finally{V(i)}}}function V(i,e){if(i.g){te(i);const t=i.g,s=i.C[0]?fe:null;i.g=null,i.C=null,e||pn(i,"ready");try{t.onreadystatechange=s}catch{}}}function te(i){i.g&&i.K&&(i.g.ontimeout=null),i.A&&(de.clearTimeout(i.A),i.A=null)}function Ce(i){return i.g?i.g.readyState:0}function at(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.J){case va:case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch{return null}}function hn(i,e,t){e:{for(s in t){var s=!1;break e}s=!0}s||(t=function mt(i){let e="";return Qn(i,function(t,s){e+=s,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof i?null!=t&&encodeURIComponent(String(t)):Cr(i,e,t))}function lr(i,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[i]||e}function Sr(i){this.za=0,this.l=[],this.h=new qo,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=lr("failFast",!1,i),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=lr("baseRetryDelayMs",5e3,i),this.$a=lr("retryDelaySeedMs",1e4,i),this.Ya=lr("forwardChannelMaxRetries",2,i),this.ra=lr("forwardChannelRequestTimeoutMs",2e4,i),this.qa=i&&i.xmlHttpFactory||void 0,this.Ba=i&&i.Yb||!1,this.K=void 0,this.H=i&&i.supportsCrossDomainXhr||!1,this.J="",this.i=new H(i&&i.concurrentRequestLimit),this.Ca=new Jo,this.ja=i&&i.fastHandshake||!1,this.Ra=i&&i.Wb||!1,i&&i.Aa&&this.h.Aa(),i&&i.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&i&&i.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!i||!1!==i.Xb}function _r(i){if(Ai(i),3==i.G){var e=i.V++,t=so(i.F);Cr(t,"SID",i.J),Cr(t,"RID",e),Cr(t,"TYPE","terminate"),ao(i,t),(e=new Eo(i,i.h,e,void 0)).K=2,e.v=Xo(so(t)),t=!1,de.navigator&&de.navigator.sendBeacon&&(t=de.navigator.sendBeacon(e.v.toString(),"")),!t&&de.Image&&((new Image).src=e.v,t=!0),t||(e.g=Cl(e.l,null),e.g.ea(e.v)),e.F=Date.now(),Do(e)}Yl(i)}function or(i){i.g&&(Wo(i),i.g.cancel(),i.g=null)}function Ai(i){or(i),i.u&&(de.clearTimeout(i.u),i.u=null),ai(i),i.i.cancel(),i.m&&("number"==typeof i.m&&de.clearTimeout(i.m),i.m=null)}function wr(i,e){i.l.push(new class{constructor(i,e){this.h=i,this.g=e}}(i.Za++,e)),3==i.G&&ti(i)}function ti(i){re(i.i)||i.m||(i.m=!0,gi(i.Ha,i),i.C=0)}function Vo(i,e){var t;t=e?e.m:i.V++;const s=so(i.F);Cr(s,"SID",i.J),Cr(s,"RID",t),Cr(s,"AID",i.U),ao(i,s),i.o&&i.s&&hn(s,i.o,i.s),t=new Eo(i,i.h,t,i.C+1),null===i.o&&(t.H=i.s),e&&(i.l=e.D.concat(i.l)),e=ds(i,t,1e3),t.setTimeout(Math.round(.5*i.ra)+Math.round(.5*i.ra*Math.random())),ei(i.i,t),No(t,s,e)}function ao(i,e){i.j&&Mo({},function(t,s){Cr(e,s,t)})}function ds(i,e,t){t=Math.min(i.l.length,t);var s=i.j?Dt(i.j.Oa,i.j,i):null;e:{var d=i.l;let m=-1;for(;;){const D=["count="+t];-1==m?0<t?(m=d[0].h,D.push("ofs="+m)):m=0:D.push("ofs="+m);let R=!0;for(let K=0;K<t;K++){let Q=d[K].h;const se=d[K].g;if(Q-=m,0>Q)m=Math.max(0,d[K].h-100),R=!1;else try{Ya(se,D,"req"+Q+"_")}catch{s&&s(se)}}if(R){s=D.join("&");break e}}}return i=i.l.splice(0,t),e.D=i,s}function Ao(i){i.g||i.u||(i.Y=1,gi(i.Ga,i),i.A=0)}function Ho(i){return!(i.g||i.u||3<=i.A||(i.Y++,i.u=Zt(Dt(i.Ga,i),Mc(i,i.A)),i.A++,0))}function Wo(i){null!=i.B&&(de.clearTimeout(i.B),i.B=null)}function el(i){i.g=new Eo(i,i.h,"rpc",i.Y),null===i.o&&(i.g.H=i.s),i.g.O=0;var e=so(i.oa);Cr(e,"RID","rpc"),Cr(e,"SID",i.J),Cr(e,"CI",i.N?"0":"1"),Cr(e,"AID",i.U),ao(i,e),Cr(e,"TYPE","xmlhttp"),i.o&&i.s&&hn(e,i.o,i.s),i.K&&i.g.setTimeout(i.K);var t=i.g;i=i.la,t.K=1,t.v=Xo(so(e)),t.s=null,t.U=!0,Fo(t,i)}function ai(i){null!=i.v&&(de.clearTimeout(i.v),i.v=null)}function La(i,e){var t=null;if(i.g==e){ai(i),Wo(i),i.g=null;var s=2}else{if(!cn(i.i,e))return;t=e.D,po(i.i,e),s=1}if(i.I=e.N,0!=i.G)if(e.i)if(1==s){t=e.s?e.s.length:0,e=Date.now()-e.F;var d=i.C;pn(s=Ds(),new Tt(s,t,e,d)),ti(i)}else Ao(i);else if(3==(d=e.o)||0==d&&0<i.I||!(1==s&&function Ts(i,e){return!(pt(i.i)>=i.i.j-(i.m?1:0)||(i.m?(i.l=e.D.concat(i.l),0):1==i.G||2==i.G||i.C>=(i.Xa?0:i.Ya)||(i.m=Zt(Dt(i.Ha,i,e),Mc(i,i.C)),i.C++,0)))}(i,e)||2==s&&Ho(i)))switch(t&&0<t.length&&(e=i.i,e.i=e.i.concat(t)),d){case 1:ba(i,5);break;case 4:ba(i,10);break;case 3:ba(i,6);break;default:ba(i,2)}}function Mc(i,e){let t=i.Pa+Math.floor(Math.random()*i.$a);return i.j||(t*=2),t*e}function ba(i,e){if(i.h.info("Error code "+e),2==e){var t=null;i.j&&(t=null);var s=Dt(i.jb,i);t||(t=new Ci("//www.google.com/images/cleardot.gif"),de.location&&"http"==de.location.protocol||Qo(t,"https"),Xo(t)),function Uo(i,e){const t=new qo;if(de.Image){const s=new Image;s.onload=Dn(Wi,t,s,"TestLoadImage: loaded",!0,e),s.onerror=Dn(Wi,t,s,"TestLoadImage: error",!1,e),s.onabort=Dn(Wi,t,s,"TestLoadImage: abort",!1,e),s.ontimeout=Dn(Wi,t,s,"TestLoadImage: timeout",!1,e),de.setTimeout(function(){s.ontimeout&&s.ontimeout()},1e4),s.src=i}else e(!1)}(t.toString(),s)}else et(2);i.G=0,i.j&&i.j.va(e),Yl(i),Ai(i)}function Yl(i){i.G=0,i.I=-1,i.j&&((0!=ki(i.i).length||0!=i.l.length)&&(i.i.i.length=0,dr(i.l),i.l.length=0),i.j.ua())}function El(i,e,t){let s=function Jr(i){return i instanceof Ci?so(i):new Ci(i,void 0)}(t);if(""!=s.i)e&&Yi(s,e+"."+s.i),ir(s,s.m);else{const d=de.location;s=function ta(i,e,t,s){var d=new Ci(null,void 0);return i&&Qo(d,i),e&&Yi(d,e),t&&ir(d,t),s&&(d.l=s),d}(d.protocol,e?e+"."+d.hostname:d.hostname,+d.port,t)}return i.aa&&Qn(i.aa,function(d,m){Cr(s,m,d)}),t=i.sa,(e=i.D)&&t&&Cr(s,e,t),Cr(s,"VER",i.ma),ao(i,s),s}function Cl(i,e,t){if(e&&!i.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Kr(t&&i.Ba&&!i.qa?new Qa({ib:!0}):i.qa)).L=i.H,e}function Ea(){}function Ca(){if(Se&&!(10<=Number(me)))throw Error("Environmental error: no available transport.")}function Ji(i,e){Ar.call(this),this.g=new Sr(e),this.l=i,this.h=e&&e.messageUrlParams||null,i=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.s=i,i=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(i?i["X-WebChannel-Content-Type"]=e.messageContentType:i={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(i?i["X-WebChannel-Client-Profile"]=e.ya:i={"X-WebChannel-Client-Profile":e.ya}),this.g.P=i,(i=e&&e.httpHeadersOverwriteParam)&&!Kn(i)&&(this.g.o=i),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Kn(e)&&(this.g.D=e,null!==(i=this.h)&&e in i&&e in(i=this.h)&&delete i[e]),this.j=new li(this)}function Ql(i){Vi.call(this);var e=i.__sm__;if(e){e:{for(const t in e){i=t;break e}i=void 0}(this.i=i)&&(i=this.i,e=null!==e&&i in e?e[i]:void 0),this.data=e}else this.data=i}function Dl(){zi.call(this),this.status=1}function li(i){this.g=i}(oe=Kr.prototype).ea=function(i,e,t,s){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+i);e=e?e.toUpperCase():"GET",this.H=i,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():io.g(),this.C=function fr(i){return i.h||(i.h=i.i())}(this.u?this.u:io),this.g.onreadystatechange=Dt(this.Fa,this);try{this.F=!0,this.g.open(e,String(i),!0),this.F=!1}catch(m){return void Ja(this,m)}i=t||"";const d=new Fs(this.headers);s&&Mo(s,function(m,D){d.set(D,m)}),s=function wn(i){e:{var e=ka;const t=i.length,s="string"==typeof i?i.split(""):i;for(let d=0;d<t;d++)if(d in s&&e.call(void 0,s[d],d,i)){e=d;break e}e=-1}return 0>e?null:"string"==typeof i?i.charAt(e):i[e]}(d.T()),t=de.FormData&&i instanceof de.FormData,!(0<=ze(Xa,e))||s||t||d.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),d.forEach(function(m,D){this.g.setRequestHeader(D,m)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{te(this),0<this.B&&((this.K=function bl(i){return Se&&function An(){return function mr(i){var e=Zr;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=i(9)}(function(){let i=0;const e=Yn(String(On)).split("."),t=Yn("9").split("."),s=Math.max(e.length,t.length);for(let D=0;0==i&&D<s;D++){var d=e[D]||"",m=t[D]||"";do{if(d=/(\d*)(\D*)(.*)/.exec(d)||["","","",""],m=/(\d*)(\D*)(.*)/.exec(m)||["","","",""],0==d[0].length&&0==m[0].length)break;i=Nn(0==d[1].length?0:parseInt(d[1],10),0==m[1].length?0:parseInt(m[1],10))||Nn(0==d[2].length,0==m[2].length)||Nn(d[2],m[2]),d=d[3],m=m[3]}while(0==i)}return 0<=i})}()&&"number"==typeof i.timeout&&void 0!==i.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Dt(this.pa,this)):this.A=Ui(this.pa,this.B,this)),this.v=!0,this.g.send(i),this.v=!1}catch(m){Ja(this,m)}},oe.pa=function(){typeof Je<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,pn(this,"timeout"),this.abort(8))},oe.abort=function(i){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=i||7,pn(this,"complete"),pn(this,"abort"),V(this))},oe.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),V(this,!0)),Kr.Z.M.call(this)},oe.Fa=function(){this.s||(this.F||this.v||this.l?Y(this):this.cb())},oe.cb=function(){Y(this)},oe.ba=function(){try{return 2<Ce(this)?this.g.status:-1}catch{return-1}},oe.ga=function(){try{return this.g?this.g.responseText:""}catch{return""}},oe.Qa=function(i){if(this.g){var e=this.g.responseText;return i&&0==e.indexOf(i)&&(e=e.substring(i.length)),ya(e)}},oe.Da=function(){return this.m},oe.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(oe=Sr.prototype).ma=8,oe.G=1,oe.hb=function(i){try{this.h.info("Origin Trials invoked: "+i)}catch{}},oe.Ha=function(i){if(this.m)if(this.m=null,1==this.G){if(!i){this.V=Math.floor(1e5*Math.random()),i=this.V++;const d=new Eo(this,this.h,i,void 0);let m=this.s;if(this.P&&(m?(m=br(m),Yr(m,this.P)):m=this.P),null===this.o&&(d.H=m),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var s=this.l[t];if(void 0===(s="__data__"in s.g&&"string"==typeof(s=s.g.__data__)?s.length:void 0))break;if(4096<(e+=s)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=ds(this,d,e),Cr(t=so(this.F),"RID",i),Cr(t,"CVER",22),this.D&&Cr(t,"X-HTTP-Session-Id",this.D),ao(this,t),this.o&&m&&hn(t,this.o,m),ei(this.i,d),this.Ra&&Cr(t,"TYPE","init"),this.ja?(Cr(t,"$req",e),Cr(t,"SID","null"),d.$=!0,No(d,t,null)):No(d,t,e),this.G=2}}else 3==this.G&&(i?Vo(this,i):0==this.l.length||re(this.i)||Vo(this))},oe.Ga=function(){if(this.u=null,el(this),this.$&&!(this.L||null==this.g||0>=this.O)){var i=2*this.O;this.h.info("BP detection timer enabled: "+i),this.B=Zt(Dt(this.bb,this),i)}},oe.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,et(10),or(this),el(this))},oe.ab=function(){null!=this.v&&(this.v=null,or(this),Ho(this),et(19))},oe.jb=function(i){i?(this.h.info("Successfully pinged google.com"),et(2)):(this.h.info("Failed to ping google.com"),et(1))},(oe=Ea.prototype).xa=function(){},oe.wa=function(){},oe.va=function(){},oe.ua=function(){},oe.Oa=function(){},Ca.prototype.g=function(i,e){return new Ji(i,e)},gn(Ji,Ar),Ji.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var i=this.g,e=this.l,t=this.h||void 0;i.Wa&&(i.h.info("Origin Trials enabled."),gi(Dt(i.hb,i,e))),et(0),i.W=e,i.aa=t||{},i.N=i.X,i.F=El(i,null,i.W),ti(i)},Ji.prototype.close=function(){_r(this.g)},Ji.prototype.u=function(i){if("string"==typeof i){var e={};e.__data__=i,wr(this.g,e)}else this.v?((e={}).__data__=Mi(i),wr(this.g,e)):wr(this.g,i)},Ji.prototype.M=function(){this.g.j=null,delete this.j,_r(this.g),delete this.g,Ji.Z.M.call(this)},gn(Ql,Vi),gn(Dl,zi),gn(li,Ea),li.prototype.xa=function(){pn(this.g,"a")},li.prototype.wa=function(i){pn(this.g,new Ql(i))},li.prototype.va=function(i){pn(this.g,new Dl(i))},li.prototype.ua=function(){pn(this.g,"b")},Ca.prototype.createWebChannel=Ca.prototype.g,Ji.prototype.send=Ji.prototype.u,Ji.prototype.open=Ji.prototype.m,Ji.prototype.close=Ji.prototype.close,dn.NO_ERROR=0,dn.TIMEOUT=8,dn.HTTP_ERROR=6,Sn.COMPLETE="complete",Zi.EventType=Yo,Yo.OPEN="a",Yo.CLOSE="b",Yo.ERROR="c",Yo.MESSAGE="d",Ar.prototype.listen=Ar.prototype.N,Kr.prototype.listenOnce=Kr.prototype.O,Kr.prototype.getLastError=Kr.prototype.La,Kr.prototype.getLastErrorCode=Kr.prototype.Da,Kr.prototype.getStatus=Kr.prototype.ba,Kr.prototype.getResponseJson=Kr.prototype.Qa,Kr.prototype.getResponseText=Kr.prototype.ga,Kr.prototype.send=Kr.prototype.ea;var Is=It.createWebChannelTransport=function(){return new Ca},Na=It.getStatEventTarget=function(){return Ds()},As=It.ErrorCode=dn,tl=It.EventType=Sn,Hd=It.Event=Lo,Fa=It.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Xl=It.FetchXmlHttpFactory=Qa,ci=It.WebChannel=Zi,lo=It.XhrIo=Kr;const Vs="@firebase/firestore";class ui{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ui.UNAUTHENTICATED=new ui(null),ui.GOOGLE_CREDENTIALS=new ui("google-credentials-uid"),ui.FIRST_PARTY=new ui("first-party-uid"),ui.MOCK_USER=new ui("mock-user");let hs="9.9.4";const fs=new Me.Yd("@firebase/firestore");function ps(){return fs.logLevel}function Kt(i,...e){if(fs.logLevel<=Me.in.DEBUG){const t=e.map(Ss);fs.debug(`Firestore (${hs}): ${i}`,...t)}}function Gr(i,...e){if(fs.logLevel<=Me.in.ERROR){const t=e.map(Ss);fs.error(`Firestore (${hs}): ${i}`,...t)}}function Hs(i,...e){if(fs.logLevel<=Me.in.WARN){const t=e.map(Ss);fs.warn(`Firestore (${hs}): ${i}`,...t)}}function Ss(i){if("string"==typeof i)return i;try{return JSON.stringify(i)}catch{return i}}function fn(i="Unexpected state"){const e=`FIRESTORE (${hs}) INTERNAL ASSERTION FAILED: `+i;throw Gr(e),new Error(e)}function _n(i,e){i||fn()}function qt(i,e){return i}const dt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class kt extends $e.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class yi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class ra{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Tc{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(ui.UNAUTHENTICATED))}shutdown(){}}class td{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class wl{constructor(e){this.t=e,this.currentUser=ui.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var s=this;let d=this.i;const m=Q=>this.i!==d?(d=this.i,t(Q)):Promise.resolve();let D=new yi;this.o=()=>{this.i++,this.currentUser=this.u(),D.resolve(),D=new yi,e.enqueueRetryable(()=>m(this.currentUser))};const R=()=>{const Q=D;e.enqueueRetryable((0,Re.Z)(function*(){yield Q.promise,yield m(s.currentUser)}))},K=Q=>{Kt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=Q,this.auth.addAuthTokenListener(this.o),R()};this.t.onInit(Q=>K(Q)),setTimeout(()=>{if(!this.auth){const Q=this.t.getImmediate({optional:!0});Q?K(Q):(Kt("FirebaseAuthCredentialsProvider","Auth not yet detected"),D.resolve(),D=new yi)}},0),R()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(Kt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(_n("string"==typeof s.accessToken),new ra(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return _n(null===e||"string"==typeof e),new ui(e)}}class rl{constructor(e,t,s,d){this.h=e,this.l=t,this.m=s,this.g=d,this.type="FirstParty",this.user=ui.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(_n(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class il{constructor(e,t,s,d){this.h=e,this.l=t,this.m=s,this.g=d}getToken(){return Promise.resolve(new rl(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable(()=>t(ui.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class ol{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class eo{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){const s=m=>{null!=m.error&&Kt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${m.error.message}`);const D=m.token!==this.A;return this.A=m.token,Kt("FirebaseAppCheckTokenProvider",`Received ${D?"new":"existing"} token.`),D?t(m.token):Promise.resolve()};this.o=m=>{e.enqueueRetryable(()=>s(m))};const d=m=>{Kt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=m,this.appCheck.addTokenListener(this.o)};this.T.onInit(m=>d(m)),setTimeout(()=>{if(!this.appCheck){const m=this.T.getImmediate({optional:!0});m?d(m):Kt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(_n("string"==typeof t.token),this.A=t.token,new ol(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Da(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(i);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let s=0;s<i;s++)t[s]=Math.floor(256*Math.random());return t}class _s{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let s="";for(;s.length<20;){const d=Da(40);for(let m=0;m<d.length;++m)s.length<20&&d[m]<t&&(s+=e.charAt(d[m]%e.length))}return s}}function Hn(i,e){return i<e?-1:i>e?1:0}function gs(i,e,t){return i.length===e.length&&i.every((s,d)=>t(s,e[d]))}function jo(i){return i+"\0"}class Nr{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new kt(dt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new kt(dt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new kt(dt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new kt(dt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Nr.fromMillis(Date.now())}static fromDate(e){return Nr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*t));return new Nr(t,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Hn(this.nanoseconds,e.nanoseconds):Hn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class rn{constructor(e){this.timestamp=e}static fromTimestamp(e){return new rn(e)}static min(){return new rn(new Nr(0,0))}static max(){return new rn(new Nr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Jl{constructor(e,t,s){void 0===t?t=0:t>e.length&&fn(),void 0===s?s=e.length-t:s>e.length-t&&fn(),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return 0===Jl.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Jl?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let d=0;d<s;d++){const m=e.get(d),D=t.get(d);if(m<D)return-1;if(m>D)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class xr extends Jl{construct(e,t,s){return new xr(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new kt(dt.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(d=>d.length>0))}return new xr(t)}static emptyPath(){return new xr([])}}const nd=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Di extends Jl{construct(e,t,s){return new Di(e,t,s)}static isValidIdentifier(e){return nd.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Di.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Di(["__name__"])}static fromServerFormat(e){const t=[];let s="",d=0;const m=()=>{if(0===s.length)throw new kt(dt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let D=!1;for(;d<e.length;){const R=e[d];if("\\"===R){if(d+1===e.length)throw new kt(dt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const K=e[d+1];if("\\"!==K&&"."!==K&&"`"!==K)throw new kt(dt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=K,d+=2}else"`"===R?(D=!D,d++):"."!==R||D?(s+=R,d++):(m(),d++)}if(m(),D)throw new kt(dt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Di(t)}static emptyPath(){return new Di([])}}class on{constructor(e){this.path=e}static fromPath(e){return new on(xr.fromString(e))}static fromName(e){return new on(xr.fromString(e).popFirst(5))}static empty(){return new on(xr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===xr.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return xr.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new on(new xr(e.slice()))}}class ec{constructor(e,t,s,d){this.indexId=e,this.collectionGroup=t,this.fields=s,this.indexState=d}}function tc(i){return i.fields.find(e=>2===e.kind)}function ia(i){return i.fields.filter(e=>2!==e.kind)}ec.UNKNOWN_ID=-1;class lu{constructor(e,t){this.fieldPath=e,this.kind=t}}class Ba{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Ba(0,_o.min())}}function Ua(i,e){const t=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,d=rn.fromTimestamp(1e9===s?new Nr(t+1,0):new Nr(t,s));return new _o(d,on.empty(),e)}function Ic(i){return new _o(i.readTime,i.key,-1)}class _o{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new _o(rn.min(),on.empty(),-1)}static max(){return new _o(rn.max(),on.empty(),-1)}}function So(i,e){let t=i.readTime.compareTo(e.readTime);return 0!==t?t:(t=on.comparator(i.documentKey,e.documentKey),0!==t?t:Hn(i.largestBatchId,e.largestBatchId))}const co="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class nc{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Ko(i){return xs.apply(this,arguments)}function xs(){return xs=(0,Re.Z)(function*(i){if(i.code!==dt.FAILED_PRECONDITION||i.message!==co)throw i;Kt("LocalStore","Unexpectedly lost primary lease")}),xs.apply(this,arguments)}class w{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&fn(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new w((s,d)=>{this.nextCallback=m=>{this.wrapSuccess(e,m).next(s,d)},this.catchCallback=m=>{this.wrapFailure(t,m).next(s,d)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof w?t:w.resolve(t)}catch(t){return w.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):w.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):w.reject(t)}static resolve(e){return new w((t,s)=>{t(e)})}static reject(e){return new w((t,s)=>{s(e)})}static waitFor(e){return new w((t,s)=>{let d=0,m=0,D=!1;e.forEach(R=>{++d,R.next(()=>{++m,D&&m===d&&t()},K=>s(K))}),D=!0,m===d&&t()})}static or(e){let t=w.resolve(!1);for(const s of e)t=t.next(d=>d?w.resolve(d):s());return t}static forEach(e,t){const s=[];return e.forEach((d,m)=>{s.push(t.call(this,d,m))}),this.waitFor(s)}static mapArray(e,t){return new w((s,d)=>{const m=e.length,D=new Array(m);let R=0;for(let K=0;K<m;K++){const Q=K;t(e[Q]).next(se=>{D[Q]=se,++R,R===m&&s(D)},se=>d(se))}})}static doWhile(e,t){return new w((s,d)=>{const m=()=>{!0===e()?t().next(()=>{m()},d):s()};m()})}}class O{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.P=new yi,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{t.error?this.P.reject(new W(e,t.error)):this.P.resolve()},this.transaction.onerror=s=>{const d=Qt(s.target.error);this.P.reject(new W(e,d))}}static open(e,t,s,d){try{return new O(t,e.transaction(d,s))}catch(m){throw new W(t,m)}}get v(){return this.P.promise}abort(e){e&&this.P.reject(e),this.aborted||(Kt("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new ce(t)}}class I{constructor(e,t,s){this.name=e,this.version=t,this.S=s,12.2===I.D((0,$e.z$)())&&Gr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Kt("SimpleDb","Removing database:",e),De(window.indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!(0,$e.hl)())return!1;if(I.N())return!0;const e=(0,$e.z$)(),t=I.D(e),s=0<t&&t<10,d=I.k(e),m=0<d&&d<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||s||m)}static N(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.M)}static O(e,t){return e.store(t)}static D(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),s=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(s)}static k(e){const t=e.match(/Android ([\d.]+)/i),s=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(s)}F(e){var t=this;return(0,Re.Z)(function*(){return t.db||(Kt("SimpleDb","Opening database:",t.name),t.db=yield new Promise((s,d)=>{const m=indexedDB.open(t.name,t.version);m.onsuccess=D=>{s(D.target.result)},m.onblocked=()=>{d(new W(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},m.onerror=D=>{const R=D.target.error;d("VersionError"===R.name?new kt(dt.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===R.name?new kt(dt.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+R):new W(e,R))},m.onupgradeneeded=D=>{Kt("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',D.oldVersion),t.S.$(D.target.result,m.transaction,D.oldVersion,t.version).next(()=>{Kt("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.B&&(t.db.onversionchange=s=>t.B(s)),t.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,s,d){var m=this;return(0,Re.Z)(function*(){const D="readonly"===t;let R=0;for(;;){++R;try{m.db=yield m.F(e);const K=O.open(m.db,e,D?"readonly":"readwrite",s),Q=d(K).next(se=>(K.V(),se)).catch(se=>(K.abort(se),w.reject(se))).toPromise();return Q.catch(()=>{}),yield K.v,Q}catch(K){const Q=K,se="FirebaseError"!==Q.name&&R<3;if(Kt("SimpleDb","Transaction failed with error:",Q.message,"Retrying:",se),m.close(),!se)return Promise.reject(Q)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class F{constructor(e){this.U=e,this.q=!1,this.K=null}get isDone(){return this.q}get G(){return this.K}set cursor(e){this.U=e}done(){this.q=!0}j(e){this.K=e}delete(){return De(this.U.delete())}}class W extends kt{constructor(e,t){super(dt.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function J(i){return"IndexedDbTransactionError"===i.name}class ce{constructor(e){this.store=e}put(e,t){let s;return void 0!==t?(Kt("SimpleDb","PUT",this.store.name,e,t),s=this.store.put(t,e)):(Kt("SimpleDb","PUT",this.store.name,"<auto-key>",e),s=this.store.put(e)),De(s)}add(e){return Kt("SimpleDb","ADD",this.store.name,e,e),De(this.store.add(e))}get(e){return De(this.store.get(e)).next(t=>(void 0===t&&(t=null),Kt("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Kt("SimpleDb","DELETE",this.store.name,e),De(this.store.delete(e))}count(){return Kt("SimpleDb","COUNT",this.store.name),De(this.store.count())}W(e,t){const s=this.options(e,t);if(s.index||"function"!=typeof this.store.getAll){const d=this.cursor(s),m=[];return this.H(d,(D,R)=>{m.push(R)}).next(()=>m)}{const d=this.store.getAll(s.range);return new w((m,D)=>{d.onerror=R=>{D(R.target.error)},d.onsuccess=R=>{m(R.target.result)}})}}J(e,t){const s=this.store.getAll(e,null===t?void 0:t);return new w((d,m)=>{s.onerror=D=>{m(D.target.error)},s.onsuccess=D=>{d(D.target.result)}})}Y(e,t){Kt("SimpleDb","DELETE ALL",this.store.name);const s=this.options(e,t);s.X=!1;const d=this.cursor(s);return this.H(d,(m,D,R)=>R.delete())}Z(e,t){let s;t?s=e:(s={},t=e);const d=this.cursor(s);return this.H(d,t)}tt(e){const t=this.cursor({});return new w((s,d)=>{t.onerror=m=>{const D=Qt(m.target.error);d(D)},t.onsuccess=m=>{const D=m.target.result;D?e(D.primaryKey,D.value).next(R=>{R?D.continue():s()}):s()}})}H(e,t){const s=[];return new w((d,m)=>{e.onerror=D=>{m(D.target.error)},e.onsuccess=D=>{const R=D.target.result;if(!R)return void d();const K=new F(R),Q=t(R.primaryKey,R.value,K);if(Q instanceof w){const se=Q.catch(xe=>(K.done(),w.reject(xe)));s.push(se)}K.isDone?d():null===K.G?R.continue():R.continue(K.G)}}).next(()=>w.waitFor(s))}options(e,t){let s;return void 0!==e&&("string"==typeof e?s=e:t=e),{index:s,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const s=this.store.index(e.index);return e.X?s.openKeyCursor(e.range,t):s.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function De(i){return new w((e,t)=>{i.onsuccess=s=>{e(s.target.result)},i.onerror=s=>{const d=Qt(s.target.error);t(d)}})}let ht=!1;function Qt(i){const e=I.D((0,$e.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(i.message.indexOf(t)>=0){const s=new kt("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return ht||(ht=!0,setTimeout(()=>{throw s},0)),s}}return i}class Xn{constructor(e,t){this.asyncQueue=e,this.et=t,this.task=null}start(){this.nt(15)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(e){var t=this;Kt("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,Re.Z)(function*(){t.task=null;try{Kt("IndexBackiller",`Documents written: ${yield t.et.st()}`)}catch(s){J(s)?Kt("IndexBackiller","Ignoring IndexedDB error during index backfill: ",s):yield Ko(s)}yield t.nt(1)}))}}class yn{constructor(e,t){this.localStore=e,this.persistence=t}st(e=50){var t=this;return(0,Re.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",s=>t.it(s,e))})()}it(e,t){const s=new Set;let d=t,m=!0;return w.doWhile(()=>!0===m&&d>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(D=>{if(null!==D&&!s.has(D))return Kt("IndexBackiller",`Processing collection: ${D}`),this.rt(e,D,d).next(R=>{d-=R,s.add(D)});m=!1})).next(()=>t-d)}rt(e,t,s){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(d=>this.localStore.localDocuments.getNextDocuments(e,t,d,s).next(m=>{const D=m.changes;return this.localStore.indexManager.updateIndexEntries(e,D).next(()=>this.ot(d,m)).next(R=>(Kt("IndexBackiller",`Updating offset: ${R}`),this.localStore.indexManager.updateCollectionGroup(e,t,R))).next(()=>D.size)}))}ot(e,t){let s=e;return t.changes.forEach((d,m)=>{const D=Ic(m);So(D,s)>0&&(s=D)}),new _o(s.readTime,s.documentKey,Math.max(t.batchId,e.largestBatchId))}}class Jn{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.ut(s),this.ct=s=>t.writeSequenceNumber(s))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ct&&this.ct(e),e}}function ji(i){let e=0;for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e++;return e}function $o(i,e){for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(t,i[t])}function oa(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}Jn.at=-1;class Fr{constructor(e,t){this.comparator=e,this.root=t||di.EMPTY}insert(e,t){return new Fr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,di.BLACK,null,null))}remove(e){return new Fr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,di.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(0===s)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const d=this.comparator(e,s.key);if(0===d)return t+s.left.size;d<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new sa(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new sa(this.root,e,this.comparator,!1)}getReverseIterator(){return new sa(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new sa(this.root,e,this.comparator,!0)}}class sa{constructor(e,t,s,d){this.isReverse=d,this.nodeStack=[];let m=1;for(;!e.isEmpty();)if(m=t?s(e.key,t):1,t&&d&&(m*=-1),m<0)e=this.isReverse?e.left:e.right;else{if(0===m){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class di{constructor(e,t,s,d,m){this.key=e,this.value=t,this.color=s??di.RED,this.left=d??di.EMPTY,this.right=m??di.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,d,m){return new di(e??this.key,t??this.value,s??this.color,d??this.left,m??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let d=this;const m=s(e,d.key);return d=m<0?d.copy(null,null,null,d.left.insert(e,t,s),null):0===m?d.copy(null,t,null,null,null):d.copy(null,null,null,null,d.right.insert(e,t,s)),d.fixUp()}removeMin(){if(this.left.isEmpty())return di.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,d=this;if(t(e,d.key)<0)d.left.isEmpty()||d.left.isRed()||d.left.left.isRed()||(d=d.moveRedLeft()),d=d.copy(null,null,null,d.left.remove(e,t),null);else{if(d.left.isRed()&&(d=d.rotateRight()),d.right.isEmpty()||d.right.isRed()||d.right.left.isRed()||(d=d.moveRedRight()),0===t(e,d.key)){if(d.right.isEmpty())return di.EMPTY;s=d.right.min(),d=d.copy(s.key,s.value,null,null,d.right.removeMin())}d=d.copy(null,null,null,null,d.right.remove(e,t))}return d.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,di.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,di.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw fn();const e=this.left.check();if(e!==this.right.check())throw fn();return e+(this.isRed()?0:1)}}di.EMPTY=null,di.RED=!0,di.BLACK=!1,di.EMPTY=new class{constructor(){this.size=0}get key(){throw fn()}get value(){throw fn()}get color(){throw fn()}get left(){throw fn()}get right(){throw fn()}copy(i,e,t,s,d){return this}insert(i,e,t){return new di(i,e)}remove(i,e){return this}isEmpty(){return!0}inorderTraversal(i){return!1}reverseTraversal(i){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class kr{constructor(e){this.comparator=e,this.data=new Fr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const d=s.getNext();if(this.comparator(d.key,e[1])>=0)return;t(d.key)}}forEachWhile(e,t){let s;for(s=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new aa(this.data.getIterator())}getIteratorFrom(e){return new aa(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof kr)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const d=t.getNext().key,m=s.getNext().key;if(0!==this.comparator(d,m))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new kr(this.comparator);return t.data=e,t}}class aa{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function sl(i){return i.hasNext()?i.getNext():void 0}class Zo{constructor(e){this.fields=e,e.sort(Di.comparator)}static empty(){return new Zo([])}unionWith(e){let t=new kr(Di.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new Zo(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return gs(this.fields,e.fields,(t,s)=>t.isEqual(s))}}class Li{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Li(t)}static fromUint8Array(e){const t=function(s){let d="";for(let m=0;m<s.length;++m)d+=String.fromCharCode(s[m]);return d}(e);return new Li(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let s=0;s<e.length;s++)t[s]=e.charCodeAt(s);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Hn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Li.EMPTY_BYTE_STRING=new Li("");const Ws=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Nt(i){if(_n(!!i),"string"==typeof i){let e=0;const t=Ws.exec(i);if(_n(!!t),t[1]){let d=t[1];d=(d+"000000000").substr(0,9),e=Number(d)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:hi(i.seconds),nanos:hi(i.nanos)}}function hi(i){return"number"==typeof i?i:"string"==typeof i?Number(i):0}function es(i){return"string"==typeof i?Li.fromBase64String(i):Li.fromUint8Array(i)}function Ac(i){var e,t;return"server_timestamp"===(null===(t=((null===(e=i?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Ni(i){const e=i.mapValue.fields.__previous_value__;return Ac(e)?Ni(e):e}function rc(i){const e=Nt(i.mapValue.fields.__local_write_time__.timestampValue);return new Nr(e.seconds,e.nanos)}class B{constructor(e,t,s,d,m,D,R,K){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=d,this.ssl=m,this.forceLongPolling=D,this.autoDetectLongPolling=R,this.useFetchStreams=K}}class j{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new j("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof j&&e.projectId===this.projectId&&e.database===this.database}}function X(i){return null==i}function pe(i){return 0===i&&1/i==-1/0}function Ye(i){return"number"==typeof i&&Number.isInteger(i)&&!pe(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}const ct={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Lt={nullValue:"NULL_VALUE"};function Xt(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Ac(i)?4:Va(i)?9007199254740991:10:fn()}function En(i,e){if(i===e)return!0;const t=Xt(i);if(t!==Xt(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return rc(i).isEqual(rc(e));case 3:return function(s,d){if("string"==typeof s.timestampValue&&"string"==typeof d.timestampValue&&s.timestampValue.length===d.timestampValue.length)return s.timestampValue===d.timestampValue;const m=Nt(s.timestampValue),D=Nt(d.timestampValue);return m.seconds===D.seconds&&m.nanos===D.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return d=e,es(i.bytesValue).isEqual(es(d.bytesValue));case 7:return i.referenceValue===e.referenceValue;case 8:return function(s,d){return hi(s.geoPointValue.latitude)===hi(d.geoPointValue.latitude)&&hi(s.geoPointValue.longitude)===hi(d.geoPointValue.longitude)}(i,e);case 2:return function(s,d){if("integerValue"in s&&"integerValue"in d)return hi(s.integerValue)===hi(d.integerValue);if("doubleValue"in s&&"doubleValue"in d){const m=hi(s.doubleValue),D=hi(d.doubleValue);return m===D?pe(m)===pe(D):isNaN(m)&&isNaN(D)}return!1}(i,e);case 9:return gs(i.arrayValue.values||[],e.arrayValue.values||[],En);case 10:return function(s,d){const m=s.mapValue.fields||{},D=d.mapValue.fields||{};if(ji(m)!==ji(D))return!1;for(const R in m)if(m.hasOwnProperty(R)&&(void 0===D[R]||!En(m[R],D[R])))return!1;return!0}(i,e);default:return fn()}var d}function Pn(i,e){return void 0!==(i.values||[]).find(t=>En(t,e))}function Gn(i,e){if(i===e)return 0;const t=Xt(i),s=Xt(e);if(t!==s)return Hn(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return Hn(i.booleanValue,e.booleanValue);case 2:return function(d,m){const D=hi(d.integerValue||d.doubleValue),R=hi(m.integerValue||m.doubleValue);return D<R?-1:D>R?1:D===R?0:isNaN(D)?isNaN(R)?0:-1:1}(i,e);case 3:return kn(i.timestampValue,e.timestampValue);case 4:return kn(rc(i),rc(e));case 5:return Hn(i.stringValue,e.stringValue);case 6:return function(d,m){const D=es(d),R=es(m);return D.compareTo(R)}(i.bytesValue,e.bytesValue);case 7:return function(d,m){const D=d.split("/"),R=m.split("/");for(let K=0;K<D.length&&K<R.length;K++){const Q=Hn(D[K],R[K]);if(0!==Q)return Q}return Hn(D.length,R.length)}(i.referenceValue,e.referenceValue);case 8:return function(d,m){const D=Hn(hi(d.latitude),hi(m.latitude));return 0!==D?D:Hn(hi(d.longitude),hi(m.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return function(d,m){const D=d.values||[],R=m.values||[];for(let K=0;K<D.length&&K<R.length;++K){const Q=Gn(D[K],R[K]);if(Q)return Q}return Hn(D.length,R.length)}(i.arrayValue,e.arrayValue);case 10:return function(d,m){if(d===ct.mapValue&&m===ct.mapValue)return 0;if(d===ct.mapValue)return 1;if(m===ct.mapValue)return-1;const D=d.fields||{},R=Object.keys(D),K=m.fields||{},Q=Object.keys(K);R.sort(),Q.sort();for(let se=0;se<R.length&&se<Q.length;++se){const xe=Hn(R[se],Q[se]);if(0!==xe)return xe;const nt=Gn(D[R[se]],K[Q[se]]);if(0!==nt)return nt}return Hn(R.length,Q.length)}(i.mapValue,e.mapValue);default:throw fn()}}function kn(i,e){if("string"==typeof i&&"string"==typeof e&&i.length===e.length)return Hn(i,e);const t=Nt(i),s=Nt(e),d=Hn(t.seconds,s.seconds);return 0!==d?d:Hn(t.nanos,s.nanos)}function fi(i){return Ki(i)}function Ki(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(s){const d=Nt(s);return`time(${d.seconds},${d.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?es(i.bytesValue).toBase64():"referenceValue"in i?on.fromName(i.referenceValue).toString():"geoPointValue"in i?`geo(${(e=i.geoPointValue).latitude},${e.longitude})`:"arrayValue"in i?function(s){let d="[",m=!0;for(const D of s.values||[])m?m=!1:d+=",",d+=Ki(D);return d+"]"}(i.arrayValue):"mapValue"in i?function(s){const d=Object.keys(s.fields||{}).sort();let m="{",D=!0;for(const R of d)D?D=!1:m+=",",m+=`${R}:${Ki(s.fields[R])}`;return m+"}"}(i.mapValue):fn();var e}function js(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function wa(i){return!!i&&"integerValue"in i}function ms(i){return!!i&&"arrayValue"in i}function al(i){return!!i&&"nullValue"in i}function ca(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Ks(i){return!!i&&"mapValue"in i}function ua(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&"object"==typeof i.timestampValue)return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return $o(i.mapValue.fields,(t,s)=>e.mapValue.fields[t]=ua(s)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(i.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=ua(i.arrayValue.values[t]);return e}return Object.assign({},i)}function Va(i){return"__max__"===(((i.mapValue||{}).fields||{}).__type__||{}).stringValue}function id(i){return"nullValue"in i?Lt:"booleanValue"in i?{booleanValue:!1}:"integerValue"in i||"doubleValue"in i?{doubleValue:NaN}:"timestampValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in i?{stringValue:""}:"bytesValue"in i?{bytesValue:""}:"referenceValue"in i?js(j.empty(),on.empty()):"geoPointValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in i?{arrayValue:{}}:"mapValue"in i?{mapValue:{}}:fn()}function sf(i){return"nullValue"in i?{booleanValue:!1}:"booleanValue"in i?{doubleValue:NaN}:"integerValue"in i||"doubleValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in i?{stringValue:""}:"stringValue"in i?{bytesValue:""}:"bytesValue"in i?js(j.empty(),on.empty()):"referenceValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in i?{arrayValue:{}}:"arrayValue"in i?{mapValue:{}}:"mapValue"in i?ct:fn()}function af(i,e){const t=Gn(i.value,e.value);return 0!==t?t:i.inclusive&&!e.inclusive?-1:!i.inclusive&&e.inclusive?1:0}function od(i,e){const t=Gn(i.value,e.value);return 0!==t?t:i.inclusive&&!e.inclusive?1:!i.inclusive&&e.inclusive?-1:0}class xo{constructor(e){this.value=e}static empty(){return new xo({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!Ks(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ua(t)}setAll(e){let t=Di.emptyPath(),s={},d=[];e.forEach((D,R)=>{if(!t.isImmediateParentOf(R)){const K=this.getFieldsMap(t);this.applyChanges(K,s,d),s={},d=[],t=R.popLast()}D?s[R.lastSegment()]=ua(D):d.push(R.lastSegment())});const m=this.getFieldsMap(t);this.applyChanges(m,s,d)}delete(e){const t=this.field(e.popLast());Ks(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return En(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let d=t.mapValue.fields[e.get(s)];Ks(d)&&d.mapValue.fields||(d={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=d),t=d}return t.mapValue.fields}applyChanges(e,t,s){$o(t,(d,m)=>e[d]=m);for(const d of s)delete e[d]}clone(){return new xo(ua(this.value))}}function Sc(i){const e=[];return $o(i.fields,(t,s)=>{const d=new Di([t]);if(Ks(s)){const m=Sc(s.mapValue).fields;if(0===m.length)e.push(d);else for(const D of m)e.push(d.child(D))}else e.push(d)}),new Zo(e)}class qr{constructor(e,t,s,d,m,D){this.key=e,this.documentType=t,this.version=s,this.readTime=d,this.data=m,this.documentState=D}static newInvalidDocument(e){return new qr(e,0,rn.min(),rn.min(),xo.empty(),0)}static newFoundDocument(e,t,s){return new qr(e,1,t,rn.min(),s,0)}static newNoDocument(e,t){return new qr(e,2,t,rn.min(),xo.empty(),0)}static newUnknownDocument(e,t){return new qr(e,3,t,rn.min(),xo.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=xo.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=xo.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=rn.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof qr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new qr(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class bp{constructor(e,t=null,s=[],d=[],m=null,D=null,R=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=d,this.limit=m,this.startAt=D,this.endAt=R,this.ht=null}}function sd(i,e=null,t=[],s=[],d=null,m=null,D=null){return new bp(i,e,t,s,d,m,D)}function xc(i){const e=qt(i);if(null===e.ht){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>{return(d=s).field.canonicalString()+d.op.toString()+fi(d.value);var d}).join(","),t+="|ob:",t+=e.orderBy.map(s=>{return(d=s).field.canonicalString()+d.dir;var d}).join(","),X(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>fi(s)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>fi(s)).join(",")),e.ht=t}return e.ht}function Wd(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let d=0;d<i.orderBy.length;d++)if(!Dp(i.orderBy[d],e.orderBy[d]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let d=0;d<i.filters.length;d++)if((t=i.filters[d]).op!==(s=e.filters[d]).op||!t.field.isEqual(s.field)||!En(t.value,s.value))return!1;var t,s;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!kc(i.startAt,e.startAt)&&kc(i.endAt,e.endAt)}function Oc(i){return on.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length}function jd(i,e){return i.filters.filter(t=>t instanceof go&&t.field.isEqual(e))}function Kd(i,e,t){let s=Lt,d=!0;for(const m of jd(i,e)){let D=Lt,R=!0;switch(m.op){case"<":case"<=":D=id(m.value);break;case"==":case"in":case">=":D=m.value;break;case">":D=m.value,R=!1;break;case"!=":case"not-in":D=Lt}af({value:s,inclusive:d},{value:D,inclusive:R})<0&&(s=D,d=R)}if(null!==t)for(let m=0;m<i.orderBy.length;++m)if(i.orderBy[m].field.isEqual(e)){const D=t.position[m];af({value:s,inclusive:d},{value:D,inclusive:t.inclusive})<0&&(s=D,d=t.inclusive);break}return{value:s,inclusive:d}}function ic(i,e,t){let s=ct,d=!0;for(const m of jd(i,e)){let D=ct,R=!0;switch(m.op){case">=":case">":D=sf(m.value),R=!1;break;case"==":case"in":case"<=":D=m.value;break;case"<":D=m.value,R=!1;break;case"!=":case"not-in":D=ct}od({value:s,inclusive:d},{value:D,inclusive:R})>0&&(s=D,d=R)}if(null!==t)for(let m=0;m<i.orderBy.length;++m)if(i.orderBy[m].field.isEqual(e)){const D=t.position[m];od({value:s,inclusive:d},{value:D,inclusive:t.inclusive})>0&&(s=D,d=t.inclusive);break}return{value:s,inclusive:d}}class go extends class{}{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?"in"===t||"not-in"===t?this.lt(e,t,s):new Pc(e,t,s):"array-contains"===t?new cu(e,s):"in"===t?new $d(e,s):"not-in"===t?new Rc(e,s):"array-contains-any"===t?new Zd(e,s):new go(e,t,s)}static lt(e,t,s){return"in"===t?new oc(e,s):new Ep(e,s)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.ft(Gn(t,this.value)):null!==t&&Xt(this.value)===Xt(t)&&this.ft(Gn(t,this.value))}ft(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return fn()}}dt(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class Pc extends go{constructor(e,t,s){super(e,t,s),this.key=on.fromName(s.referenceValue)}matches(e){const t=on.comparator(e.key,this.key);return this.ft(t)}}class oc extends go{constructor(e,t){super(e,"in",t),this.keys=Cp(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Ep extends go{constructor(e,t){super(e,"not-in",t),this.keys=Cp(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Cp(i,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(s=>on.fromName(s.referenceValue))}class cu extends go{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return ms(t)&&Pn(t.arrayValue,this.value)}}class $d extends go{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Pn(this.value.arrayValue,t)}}class Rc extends go{constructor(e,t){super(e,"not-in",t)}matches(e){if(Pn(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Pn(this.value.arrayValue,t)}}class Zd extends go{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!ms(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>Pn(this.value.arrayValue,s))}}class ll{constructor(e,t){this.position=e,this.inclusive=t}}class Os{constructor(e,t="asc"){this.field=e,this.dir=t}}function Dp(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}function uu(i,e,t){let s=0;for(let d=0;d<i.position.length;d++){const m=e[d],D=i.position[d];if(s=m.field.isKeyField()?on.comparator(on.fromName(D.referenceValue),t.key):Gn(D,t.data.field(m.field)),"desc"===m.dir&&(s*=-1),0!==s)break}return s}function kc(i,e){if(null===i)return null===e;if(null===e||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let t=0;t<i.position.length;t++)if(!En(i.position[t],e.position[t]))return!1;return!0}class Ha{constructor(e,t=null,s=[],d=[],m=null,D="F",R=null,K=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=d,this.limit=m,this.limitType=D,this.startAt=R,this.endAt=K,this._t=null,this.wt=null}}function zd(i,e,t,s,d,m,D,R){return new Ha(i,e,t,s,d,m,D,R)}function ts(i){return new Ha(i)}function sc(i){return 0===i.filters.length&&null===i.limit&&null==i.startAt&&null==i.endAt&&(0===i.explicitOrderBy.length||1===i.explicitOrderBy.length&&i.explicitOrderBy[0].field.isKeyField())}function Gd(i){return i.explicitOrderBy.length>0?i.explicitOrderBy[0].field:null}function ad(i){for(const e of i.filters)if(e.dt())return e.field;return null}function du(i){return null!==i.collectionGroup}function cl(i){const e=qt(i);if(null===e._t){e._t=[];const t=ad(e),s=Gd(e);if(null!==t&&null===s)t.isKeyField()||e._t.push(new Os(t)),e._t.push(new Os(Di.keyField(),"asc"));else{let d=!1;for(const m of e.explicitOrderBy)e._t.push(m),m.field.isKeyField()&&(d=!0);if(!d){const m=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e._t.push(new Os(Di.keyField(),m))}}}return e._t}function ys(i){const e=qt(i);if(!e.wt)if("F"===e.limitType)e.wt=sd(e.path,e.collectionGroup,cl(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const m of cl(e))t.push(new Os(m.field,"desc"===m.dir?"asc":"desc"));const s=e.endAt?new ll(e.endAt.position,e.endAt.inclusive):null,d=e.startAt?new ll(e.startAt.position,e.startAt.inclusive):null;e.wt=sd(e.path,e.collectionGroup,t,e.filters,e.limit,s,d)}return e.wt}function qd(i,e,t){return new Ha(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,t,i.startAt,i.endAt)}function Ma(i,e){return Wd(ys(i),ys(e))&&i.limitType===e.limitType}function cf(i){return`${xc(ys(i))}|lt:${i.limitType}`}function Yd(i){return`Query(target=${function lf(i){let e=i.path.canonicalString();return null!==i.collectionGroup&&(e+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(e+=`, filters: [${i.filters.map(t=>{return`${(s=t).field.canonicalString()} ${s.op} ${fi(s.value)}`;var s}).join(", ")}]`),X(i.limit)||(e+=", limit: "+i.limit),i.orderBy.length>0&&(e+=`, orderBy: [${i.orderBy.map(t=>{return`${(s=t).field.canonicalString()} (${s.dir})`;var s}).join(", ")}]`),i.startAt&&(e+=", startAt: ",e+=i.startAt.inclusive?"b:":"a:",e+=i.startAt.position.map(t=>fi(t)).join(",")),i.endAt&&(e+=", endAt: ",e+=i.endAt.inclusive?"a:":"b:",e+=i.endAt.position.map(t=>fi(t)).join(",")),`Target(${e})`}(ys(i))}; limitType=${i.limitType})`}function Ml(i,e){return e.isFoundDocument()&&function(t,s){const d=s.key.path;return null!==t.collectionGroup?s.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(d):on.isDocumentKey(t.path)?t.path.isEqual(d):t.path.isImmediateParentOf(d)}(i,e)&&function(t,s){for(const d of t.explicitOrderBy)if(!d.field.isKeyField()&&null===s.data.field(d.field))return!1;return!0}(i,e)&&function(t,s){for(const d of t.filters)if(!d.matches(s))return!1;return!0}(i,e)&&(s=e,!((t=i).startAt&&!function(d,m,D){const R=uu(d,m,D);return d.inclusive?R<=0:R<0}(t.startAt,cl(t),s)||t.endAt&&!function(d,m,D){const R=uu(d,m,D);return d.inclusive?R>=0:R>0}(t.endAt,cl(t),s)));var t,s}function uf(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function Tl(i){return(e,t)=>{let s=!1;for(const d of cl(i)){const m=df(d,e,t);if(0!==m)return m;s=s||d.field.isKeyField()}return 0}}function df(i,e,t){const s=i.field.isKeyField()?on.comparator(e.key,t.key):function(d,m,D){const R=m.data.field(d),K=D.data.field(d);return null!==R&&null!==K?Gn(R,K):fn()}(i.field,e,t);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return fn()}}function Wa(i,e){if(i.gt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:pe(e)?"-0":e}}function Il(i){return{integerValue:""+i}}function Qd(i,e){return Ye(e)?Il(e):Wa(i,e)}class hu{constructor(){this._=void 0}}function ld(i,e,t){return i instanceof cd?function(s,d){const m={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return d&&(m.fields.__previous_value__=d),{mapValue:m}}(t,e):i instanceof Al?Xd(i,e):i instanceof ul?hf(i,e):function(s,d){const m=B_(s,d),D=pu(m)+pu(s.yt);return wa(m)&&wa(s.yt)?Il(D):Wa(s.It,D)}(i,e)}function wp(i,e,t){return i instanceof Al?Xd(i,e):i instanceof ul?hf(i,e):t}function B_(i,e){return i instanceof fu?wa(t=e)||(s=t)&&"doubleValue"in s?e:{integerValue:0}:null;var s,t}class cd extends hu{}class Al extends hu{constructor(e){super(),this.elements=e}}function Xd(i,e){const t=Lc(e);for(const s of i.elements)t.some(d=>En(d,s))||t.push(s);return{arrayValue:{values:t}}}class ul extends hu{constructor(e){super(),this.elements=e}}function hf(i,e){let t=Lc(e);for(const s of i.elements)t=t.filter(d=>!En(d,s));return{arrayValue:{values:t}}}class fu extends hu{constructor(e,t){super(),this.It=e,this.yt=t}}function pu(i){return hi(i.integerValue||i.doubleValue)}function Lc(i){return ms(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class ac{constructor(e,t){this.field=e,this.transform=t}}class U_{constructor(e,t){this.version=e,this.transformResults=t}}class vi{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new vi}static exists(e){return new vi(void 0,e)}static updateTime(e){return new vi(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Nc(i,e){return void 0!==i.updateTime?e.isFoundDocument()&&e.version.isEqual(i.updateTime):void 0===i.exists||i.exists===e.isFoundDocument()}class dd{}function Jd(i,e){if(!i.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return i.isNoDocument()?new Fc(i.key,vi.none()):new da(i.key,i.data,vi.none());{const t=i.data,s=xo.empty();let d=new kr(Di.comparator);for(let m of e.fields)if(!d.has(m)){let D=t.field(m);null===D&&m.length>1&&(m=m.popLast(),D=t.field(m)),null===D?s.delete(m):s.set(m,D),d=d.add(m)}return new vs(i.key,s,new Zo(d.toArray()),vi.none())}}function Mp(i,e,t){i instanceof da?function(s,d,m){const D=s.value.clone(),R=hd(s.fieldTransforms,d,m.transformResults);D.setAll(R),d.convertToFoundDocument(m.version,D).setHasCommittedMutations()}(i,e,t):i instanceof vs?function(s,d,m){if(!Nc(s.precondition,d))return void d.convertToUnknownDocument(m.version);const D=hd(s.fieldTransforms,d,m.transformResults),R=d.data;R.setAll(eh(s)),R.setAll(D),d.convertToFoundDocument(m.version,R).setHasCommittedMutations()}(i,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Si(i,e,t,s){return i instanceof da?function(d,m,D,R){if(!Nc(d.precondition,m))return D;const K=d.value.clone(),Q=ff(d.fieldTransforms,R,m);return K.setAll(Q),m.convertToFoundDocument(m.version,K).setHasLocalMutations(),null}(i,e,t,s):i instanceof vs?function(d,m,D,R){if(!Nc(d.precondition,m))return D;const K=ff(d.fieldTransforms,R,m),Q=m.data;return Q.setAll(eh(d)),Q.setAll(K),m.convertToFoundDocument(m.version,Q).setHasLocalMutations(),null===D?null:D.unionWith(d.fieldMask.fields).unionWith(d.fieldTransforms.map(se=>se.field))}(i,e,t,s):(D=t,Nc(i.precondition,m=e)?(m.convertToNoDocument(m.version).setHasLocalMutations(),null):D);var m,D}function Tp(i,e){let t=null;for(const s of i.fieldTransforms){const d=e.data.field(s.field),m=B_(s.transform,d||null);null!=m&&(null===t&&(t=xo.empty()),t.set(s.field,m))}return t||null}function Ip(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&(s=e.fieldTransforms,!!(void 0===(t=i.fieldTransforms)&&void 0===s||t&&s&&gs(t,s,(d,m)=>function ud(i,e){return i.field.isEqual(e.field)&&(s=e.transform,(t=i.transform)instanceof Al&&s instanceof Al||t instanceof ul&&s instanceof ul?gs(t.elements,s.elements,En):t instanceof fu&&s instanceof fu?En(t.yt,s.yt):t instanceof cd&&s instanceof cd);var t,s}(d,m))))&&(0===i.type?i.value.isEqual(e.value):1!==i.type||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask));var t,s}class da extends dd{constructor(e,t,s,d=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=d,this.type=0}getFieldMask(){return null}}class vs extends dd{constructor(e,t,s,d,m=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=d,this.fieldTransforms=m,this.type=1}getFieldMask(){return this.fieldMask}}function eh(i){const e=new Map;return i.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=i.data.field(t);e.set(t,s)}}),e}function hd(i,e,t){const s=new Map;_n(i.length===t.length);for(let d=0;d<t.length;d++){const m=i[d],D=m.transform,R=e.data.field(m.field);s.set(m.field,wp(D,R,t[d]))}return s}function ff(i,e,t){const s=new Map;for(const d of i){const m=d.transform,D=t.data.field(d.field);s.set(d.field,ld(m,D,e))}return s}class Fc extends dd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class th extends dd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class V_{constructor(e){this.count=e}}var uo,vr;function _u(i){switch(i){default:return fn();case dt.CANCELLED:case dt.UNKNOWN:case dt.DEADLINE_EXCEEDED:case dt.RESOURCE_EXHAUSTED:case dt.INTERNAL:case dt.UNAVAILABLE:case dt.UNAUTHENTICATED:return!1;case dt.INVALID_ARGUMENT:case dt.NOT_FOUND:case dt.ALREADY_EXISTS:case dt.PERMISSION_DENIED:case dt.FAILED_PRECONDITION:case dt.ABORTED:case dt.OUT_OF_RANGE:case dt.UNIMPLEMENTED:case dt.DATA_LOSS:return!0}}function nh(i){if(void 0===i)return Gr("GRPC error has no .code"),dt.UNKNOWN;switch(i){case uo.OK:return dt.OK;case uo.CANCELLED:return dt.CANCELLED;case uo.UNKNOWN:return dt.UNKNOWN;case uo.DEADLINE_EXCEEDED:return dt.DEADLINE_EXCEEDED;case uo.RESOURCE_EXHAUSTED:return dt.RESOURCE_EXHAUSTED;case uo.INTERNAL:return dt.INTERNAL;case uo.UNAVAILABLE:return dt.UNAVAILABLE;case uo.UNAUTHENTICATED:return dt.UNAUTHENTICATED;case uo.INVALID_ARGUMENT:return dt.INVALID_ARGUMENT;case uo.NOT_FOUND:return dt.NOT_FOUND;case uo.ALREADY_EXISTS:return dt.ALREADY_EXISTS;case uo.PERMISSION_DENIED:return dt.PERMISSION_DENIED;case uo.FAILED_PRECONDITION:return dt.FAILED_PRECONDITION;case uo.ABORTED:return dt.ABORTED;case uo.OUT_OF_RANGE:return dt.OUT_OF_RANGE;case uo.UNIMPLEMENTED:return dt.UNIMPLEMENTED;case uo.DATA_LOSS:return dt.DATA_LOSS;default:return fn()}}(vr=uo||(uo={}))[vr.OK=0]="OK",vr[vr.CANCELLED=1]="CANCELLED",vr[vr.UNKNOWN=2]="UNKNOWN",vr[vr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",vr[vr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",vr[vr.NOT_FOUND=5]="NOT_FOUND",vr[vr.ALREADY_EXISTS=6]="ALREADY_EXISTS",vr[vr.PERMISSION_DENIED=7]="PERMISSION_DENIED",vr[vr.UNAUTHENTICATED=16]="UNAUTHENTICATED",vr[vr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",vr[vr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",vr[vr.ABORTED=10]="ABORTED",vr[vr.OUT_OF_RANGE=11]="OUT_OF_RANGE",vr[vr.UNIMPLEMENTED=12]="UNIMPLEMENTED",vr[vr.INTERNAL=13]="INTERNAL",vr[vr.UNAVAILABLE=14]="UNAVAILABLE",vr[vr.DATA_LOSS=15]="DATA_LOSS";class Sl{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(void 0!==s)for(const[d,m]of s)if(this.equalsFn(d,e))return m}has(e){return void 0!==this.get(e)}set(e,t){const s=this.mapKeyFn(e),d=this.inner[s];if(void 0===d)return this.inner[s]=[[e,t]],void this.innerSize++;for(let m=0;m<d.length;m++)if(this.equalsFn(d[m][0],e))return void(d[m]=[e,t]);d.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(void 0===s)return!1;for(let d=0;d<s.length;d++)if(this.equalsFn(s[d][0],e))return 1===s.length?delete this.inner[t]:s.splice(d,1),this.innerSize--,!0;return!1}forEach(e){$o(this.inner,(t,s)=>{for(const[d,m]of s)e(d,m)})}isEmpty(){return oa(this.inner)}size(){return this.innerSize}}const rh=new Fr(on.comparator);function Ps(){return rh}const Rs=new Fr(on.comparator);function ja(...i){let e=Rs;for(const t of i)e=e.insert(t.key,t);return e}function Bc(i){let e=Rs;return i.forEach((t,s)=>e=e.insert(t,s.overlayedDocument)),e}function dl(){return Ka()}function Uc(){return Ka()}function Ka(){return new Sl(i=>i.toString(),(i,e)=>i.isEqual(e))}const ih=new Fr(on.comparator),pf=new kr(on.comparator);function er(...i){let e=pf;for(const t of i)e=e.add(t);return e}const lc=new kr(Hn);function cc(){return lc}class xl{constructor(e,t,s,d,m){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=d,this.resolvedLimboDocuments=m}static createSynthesizedRemoteEventForCurrentChange(e,t){const s=new Map;return s.set(e,gu.createSynthesizedTargetChangeForCurrentChange(e,t)),new xl(rn.min(),s,cc(),Ps(),er())}}class gu{constructor(e,t,s,d,m){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=d,this.removedDocuments=m}static createSynthesizedTargetChangeForCurrentChange(e,t){return new gu(Li.EMPTY_BYTE_STRING,t,er(),er(),er())}}class Vc{constructor(e,t,s,d){this.Tt=e,this.removedTargetIds=t,this.key=s,this.Et=d}}class uc{constructor(e,t){this.targetId=e,this.At=t}}class no{constructor(e,t,s=Li.EMPTY_BYTE_STRING,d=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=d}}class Ol{constructor(){this.Rt=0,this.bt=$a(),this.Pt=Li.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}get current(){return this.vt}get resumeToken(){return this.Pt}get St(){return 0!==this.Rt}get Dt(){return this.Vt}Ct(e){e.approximateByteSize()>0&&(this.Vt=!0,this.Pt=e)}xt(){let e=er(),t=er(),s=er();return this.bt.forEach((d,m)=>{switch(m){case 0:e=e.add(d);break;case 2:t=t.add(d);break;case 1:s=s.add(d);break;default:fn()}}),new gu(this.Pt,this.vt,e,t,s)}Nt(){this.Vt=!1,this.bt=$a()}kt(e,t){this.Vt=!0,this.bt=this.bt.insert(e,t)}Mt(e){this.Vt=!0,this.bt=this.bt.remove(e)}Ot(){this.Rt+=1}Ft(){this.Rt-=1}$t(){this.Vt=!0,this.vt=!0}}class mu{constructor(e){this.Bt=e,this.Lt=new Map,this.Ut=Ps(),this.qt=yu(),this.Kt=new kr(Hn)}Gt(e){for(const t of e.Tt)e.Et&&e.Et.isFoundDocument()?this.Qt(t,e.Et):this.jt(t,e.key,e.Et);for(const t of e.removedTargetIds)this.jt(t,e.key,e.Et)}Wt(e){this.forEachTarget(e,t=>{const s=this.zt(t);switch(e.state){case 0:this.Ht(t)&&s.Ct(e.resumeToken);break;case 1:s.Ft(),s.St||s.Nt(),s.Ct(e.resumeToken);break;case 2:s.Ft(),s.St||this.removeTarget(t);break;case 3:this.Ht(t)&&(s.$t(),s.Ct(e.resumeToken));break;case 4:this.Ht(t)&&(this.Jt(t),s.Ct(e.resumeToken));break;default:fn()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Lt.forEach((s,d)=>{this.Ht(d)&&t(d)})}Yt(e){const t=e.targetId,s=e.At.count,d=this.Xt(t);if(d){const m=d.target;if(Oc(m))if(0===s){const D=new on(m.path);this.jt(t,D,qr.newNoDocument(D,rn.min()))}else _n(1===s);else this.Zt(t)!==s&&(this.Jt(t),this.Kt=this.Kt.add(t))}}te(e){const t=new Map;this.Lt.forEach((m,D)=>{const R=this.Xt(D);if(R){if(m.current&&Oc(R.target)){const K=new on(R.target.path);null!==this.Ut.get(K)||this.ee(D,K)||this.jt(D,K,qr.newNoDocument(K,e))}m.Dt&&(t.set(D,m.xt()),m.Nt())}});let s=er();this.qt.forEach((m,D)=>{let R=!0;D.forEachWhile(K=>{const Q=this.Xt(K);return!Q||2===Q.purpose||(R=!1,!1)}),R&&(s=s.add(m))}),this.Ut.forEach((m,D)=>D.setReadTime(e));const d=new xl(e,t,this.Kt,this.Ut,s);return this.Ut=Ps(),this.qt=yu(),this.Kt=new kr(Hn),d}Qt(e,t){if(!this.Ht(e))return;const s=this.ee(e,t.key)?2:0;this.zt(e).kt(t.key,s),this.Ut=this.Ut.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ne(t.key).add(e))}jt(e,t,s){if(!this.Ht(e))return;const d=this.zt(e);this.ee(e,t)?d.kt(t,1):d.Mt(t),this.qt=this.qt.insert(t,this.ne(t).delete(e)),s&&(this.Ut=this.Ut.insert(t,s))}removeTarget(e){this.Lt.delete(e)}Zt(e){const t=this.zt(e).xt();return this.Bt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ot(e){this.zt(e).Ot()}zt(e){let t=this.Lt.get(e);return t||(t=new Ol,this.Lt.set(e,t)),t}ne(e){let t=this.qt.get(e);return t||(t=new kr(Hn),this.qt=this.qt.insert(e,t)),t}Ht(e){const t=null!==this.Xt(e);return t||Kt("WatchChangeAggregator","Detected inactive target",e),t}Xt(e){const t=this.Lt.get(e);return t&&t.St?null:this.Bt.se(e)}Jt(e){this.Lt.set(e,new Ol),this.Bt.getRemoteKeysForTarget(e).forEach(t=>{this.jt(e,t,null)})}ee(e,t){return this.Bt.getRemoteKeysForTarget(e).has(t)}}function yu(){return new Fr(on.comparator)}function $a(){return new Fr(on.comparator)}const Za={asc:"ASCENDING",desc:"DESCENDING"},Pl={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class _f{constructor(e,t){this.databaseId=e,this.gt=t}}function Hc(i,e){return i.gt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function vu(i,e){return i.gt?e.toBase64():e.toUint8Array()}function dc(i,e){return Hc(i,e.toTimestamp())}function Fi(i){return _n(!!i),rn.fromTimestamp(function(e){const t=Nt(e);return new Nr(t.seconds,t.nanos)}(i))}function oh(i,e){return(t=i,new xr(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function gf(i){const e=xr.fromString(i);return _n(sh(e)),e}function M(i,e){return oh(i.databaseId,e.path)}function g(i,e){const t=gf(e);if(t.get(1)!==i.databaseId.projectId)throw new kt(dt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+i.databaseId.projectId);if(t.get(3)!==i.databaseId.database)throw new kt(dt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+i.databaseId.database);return new on(ie(t))}function E(i,e){return oh(i.databaseId,e)}function x(i){const e=gf(i);return 4===e.length?xr.emptyPath():ie(e)}function G(i){return new xr(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function ie(i){return _n(i.length>4&&"documents"===i.get(4)),i.popFirst(5)}function Ve(i,e,t){return{name:M(i,e),fields:t.value.mapValue.fields}}function ft(i,e,t){const s=g(i,e.name),d=Fi(e.updateTime),m=new xo({mapValue:{fields:e.fields}}),D=qr.newFoundDocument(s,d,m);return t&&D.setHasCommittedMutations(),t?D.setHasCommittedMutations():D}function Ln(i,e){let t;if(e instanceof da)t={update:Ve(i,e.key,e.value)};else if(e instanceof Fc)t={delete:M(i,e.key)};else if(e instanceof vs)t={update:Ve(i,e.key,e.data),updateMask:H_(e.fieldMask)};else{if(!(e instanceof th))return fn();t={verify:M(i,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(s=>function(d,m){const D=m.transform;if(D instanceof cd)return{fieldPath:m.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(D instanceof Al)return{fieldPath:m.field.canonicalString(),appendMissingElements:{values:D.elements}};if(D instanceof ul)return{fieldPath:m.field.canonicalString(),removeAllFromArray:{values:D.elements}};if(D instanceof fu)return{fieldPath:m.field.canonicalString(),increment:D.yt};throw fn()}(0,s))),e.precondition.isNone||(t.currentDocument=void 0!==(d=e.precondition).updateTime?{updateTime:dc(i,d.updateTime)}:void 0!==d.exists?{exists:d.exists}:fn()),t;var d}function xn(i,e){const t=e.currentDocument?void 0!==(d=e.currentDocument).updateTime?vi.updateTime(Fi(d.updateTime)):void 0!==d.exists?vi.exists(d.exists):vi.none():vi.none(),s=e.updateTransforms?e.updateTransforms.map(d=>function(m,D){let R=null;"setToServerValue"in D?(_n("REQUEST_TIME"===D.setToServerValue),R=new cd):"appendMissingElements"in D?R=new Al(D.appendMissingElements.values||[]):"removeAllFromArray"in D?R=new ul(D.removeAllFromArray.values||[]):"increment"in D?R=new fu(m,D.increment):fn();const K=Di.fromServerFormat(D.fieldPath);return new ac(K,R)}(i,d)):[];var d;if(e.update){const d=g(i,e.update.name),m=new xo({mapValue:{fields:e.update.fields}});if(e.updateMask){const D=new Zo((e.updateMask.fieldPaths||[]).map(Q=>Di.fromServerFormat(Q)));return new vs(d,m,D,t,s)}return new da(d,m,t,s)}if(e.delete){const d=g(i,e.delete);return new Fc(d,t)}if(e.verify){const d=g(i,e.verify);return new th(d,t)}return fn()}function ha(i,e){return{documents:[E(i,e.path)]}}function Wc(i,e){const t={structuredQuery:{}},s=e.path;null!==e.collectionGroup?(t.parent=E(i,s),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=E(i,s.popLast()),t.structuredQuery.from=[{collectionId:s.lastSegment()}]);const d=function(K){if(0===K.length)return;const Q=K.map(se=>function(xe){if("=="===xe.op){if(ca(xe.value))return{unaryFilter:{field:Kc(xe.field),op:"IS_NAN"}};if(al(xe.value))return{unaryFilter:{field:Kc(xe.field),op:"IS_NULL"}}}else if("!="===xe.op){if(ca(xe.value))return{unaryFilter:{field:Kc(xe.field),op:"IS_NOT_NAN"}};if(al(xe.value))return{unaryFilter:{field:Kc(xe.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Kc(xe.field),op:bu(xe.op),value:xe.value}}}(se));return 1===Q.length?Q[0]:{compositeFilter:{op:"AND",filters:Q}}}(e.filters);d&&(t.structuredQuery.where=d);const m=function(K){if(0!==K.length)return K.map(Q=>{return{field:Kc((se=Q).field),direction:yf(se.dir)};var se})}(e.orderBy);m&&(t.structuredQuery.orderBy=m);const D=(Q=e.limit,i.gt||X(Q)?Q:{value:Q});var Q,R,K;return null!==D&&(t.structuredQuery.limit=D),e.startAt&&(t.structuredQuery.startAt={before:(R=e.startAt).inclusive,values:R.position}),e.endAt&&(t.structuredQuery.endAt={before:!(K=e.endAt).inclusive,values:K.position}),t}function fd(i){let e=x(i.parent);const t=i.structuredQuery,s=t.from?t.from.length:0;let d=null;if(s>0){_n(1===s);const se=t.from[0];se.allDescendants?d=se.collectionId:e=e.child(se.collectionId)}let m=[];t.where&&(m=mf(t.where));let D=[];t.orderBy&&(D=t.orderBy.map(se=>{return new Os(Eu((xe=se).field),function(nt){switch(nt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(xe.direction));var xe}));let R=null;t.limit&&(R=function(se){let xe;return xe="object"==typeof se?se.value:se,X(xe)?null:xe}(t.limit));let K=null;var se;t.startAt&&(K=new ll((se=t.startAt).values||[],!!se.before));let Q=null;return t.endAt&&(Q=function(se){return new ll(se.values||[],!se.before)}(t.endAt)),zd(e,d,D,m,R,"F",K,Q)}function mf(i){return i?void 0!==i.unaryFilter?[Ap(i)]:void 0!==i.fieldFilter?[Cu(i)]:void 0!==i.compositeFilter?i.compositeFilter.filters.map(e=>mf(e)).reduce((e,t)=>e.concat(t)):fn():[]}function yf(i){return Za[i]}function bu(i){return Pl[i]}function Kc(i){return{fieldPath:i.canonicalString()}}function Eu(i){return Di.fromServerFormat(i.fieldPath)}function Cu(i){return go.create(Eu(i.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return fn()}}(i.fieldFilter.op),i.fieldFilter.value)}function Ap(i){switch(i.unaryFilter.op){case"IS_NAN":const e=Eu(i.unaryFilter.field);return go.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=Eu(i.unaryFilter.field);return go.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Eu(i.unaryFilter.field);return go.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Eu(i.unaryFilter.field);return go.create(d,"!=",{nullValue:"NULL_VALUE"});default:return fn()}}function H_(i){const e=[];return i.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function sh(i){return i.length>=4&&"projects"===i.get(0)&&"databases"===i.get(2)}function $s(i){let e="";for(let t=0;t<i.length;t++)e.length>0&&(e=W_(e)),e=fm(i.get(t),e);return W_(e)}function fm(i,e){let t=e;const s=i.length;for(let d=0;d<s;d++){const m=i.charAt(d);switch(m){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=m}}return t}function W_(i){return i+"\x01\x01"}function hl(i){const e=i.length;if(_n(e>=2),2===e)return _n("\x01"===i.charAt(0)&&"\x01"===i.charAt(1)),xr.emptyPath();const t=e-2,s=[];let d="";for(let m=0;m<e;){const D=i.indexOf("\x01",m);switch((D<0||D>t)&&fn(),i.charAt(D+1)){case"\x01":const R=i.substring(m,D);let K;0===d.length?K=R:(d+=R,K=d,d=""),s.push(K);break;case"\x10":d+=i.substring(m,D),d+="\0";break;case"\x11":d+=i.substring(m,D+1);break;default:fn()}m=D+2}return new xr(s)}const vf=["userId","batchId"];function ah(i,e){return[i,$s(e)]}function Sp(i,e,t){return[i,$s(e),t]}const j_={},xp=["prefixPath","collectionGroup","readTime","documentId"],pm=["prefixPath","collectionGroup","documentId"],bf=["collectionGroup","readTime","prefixPath","documentId"],lh=["canonicalId","targetId"],_m=["targetId","path"],Op=["path","targetId"],gm=["collectionId","parent"],K_=["indexId","uid"],mm=["uid","sequenceNumber"],ym=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],vm=["indexId","uid","orderedDocumentKey"],hc=["userId","collectionPath","documentId"],Pp=["userId","collectionPath","largestBatchId"],Hy=["userId","collectionGroup","largestBatchId"],$_=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],bm=[...$_,"documentOverlays"],Rp=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],kp=Rp,Wy=[...kp,"indexConfiguration","indexState","indexEntries"];class ns extends nc{constructor(e,t){super(),this.ie=e,this.currentSequenceNumber=t}}function Oo(i,e){const t=qt(i);return I.O(t.ie,e)}class Ef{constructor(e,t,s,d){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=d}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let d=0;d<this.mutations.length;d++){const m=this.mutations[d];m.key.isEqual(e.key)&&Mp(m,e,s[d])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=Si(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=Si(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=Uc();return this.mutations.forEach(d=>{const m=e.get(d.key),D=m.overlayedDocument;let R=this.applyToLocalView(D,m.mutatedFields);R=t.has(d.key)?null:R;const K=Jd(D,R);null!==K&&s.set(d.key,K),D.isValidDocument()||D.convertToNoDocument(rn.min())}),s}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),er())}isEqual(e){return this.batchId===e.batchId&&gs(this.mutations,e.mutations,(t,s)=>Ip(t,s))&&gs(this.baseMutations,e.baseMutations,(t,s)=>Ip(t,s))}}class ch{constructor(e,t,s,d){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=d}static from(e,t,s){_n(e.mutations.length===s.length);let d=ih;const m=e.mutations;for(let D=0;D<m.length;D++)d=d.insert(m[D].key,s[D].version);return new ch(e,t,s,d)}}class rs{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class za{constructor(e,t,s,d,m=rn.min(),D=rn.min(),R=Li.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=d,this.snapshotVersion=m,this.lastLimboFreeSnapshotVersion=D,this.resumeToken=R}withSequenceNumber(e){return new za(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new za(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new za(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class Cf{constructor(e){this.re=e}}function Z_(i,e){const t=e.key,s={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:uh(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())s.document={name:M(d=i.re,(m=e).key),fields:m.data.value.mapValue.fields,updateTime:Hc(d,m.version.toTimestamp())};else if(e.isNoDocument())s.noDocument={path:t.path.toArray(),readTime:Du(e.version)};else{if(!e.isUnknownDocument())return fn();s.unknownDocument={path:t.path.toArray(),version:Du(e.version)}}var d,m;return s}function uh(i){const e=i.toTimestamp();return[e.seconds,e.nanoseconds]}function Du(i){const e=i.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function wu(i){const e=new Nr(i.seconds,i.nanoseconds);return rn.fromTimestamp(e)}function Mu(i,e){const t=(e.baseMutations||[]).map(m=>xn(i.re,m));for(let m=0;m<e.mutations.length-1;++m){const D=e.mutations[m];m+1<e.mutations.length&&void 0!==e.mutations[m+1].transform&&(D.updateTransforms=e.mutations[m+1].transform.fieldTransforms,e.mutations.splice(m+1,1),++m)}const s=e.mutations.map(m=>xn(i.re,m)),d=Nr.fromMillis(e.localWriteTimeMs);return new Ef(e.batchId,d,t,s)}function pd(i){const e=wu(i.readTime),t=void 0!==i.lastLimboFreeSnapshotVersion?wu(i.lastLimboFreeSnapshotVersion):rn.min();let s;var d;return void 0!==i.query.documents?(_n(1===(d=i.query).documents.length),s=ys(ts(x(d.documents[0])))):s=ys(fd(i.query)),new za(s,i.targetId,0,i.lastListenSequenceNumber,e,t,Li.fromBase64String(i.resumeToken))}function z_(i,e){const t=Du(e.snapshotVersion),s=Du(e.lastLimboFreeSnapshotVersion);let d;d=Oc(e.target)?ha(i.re,e.target):Wc(i.re,e.target);const m=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:xc(e.target),readTime:t,resumeToken:m,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:s,query:d}}function Lp(i){const e=fd({parent:i.parent,structuredQuery:i.structuredQuery});return"LAST"===i.limitType?qd(e,e.limit,"L"):e}function Df(i,e){return new rs(e.largestBatchId,xn(i.re,e.overlayMutation))}function G_(i,e){const t=e.path.lastSegment();return[i,$s(e.path.popLast()),t]}function q_(i,e,t,s){return{indexId:i,uid:e.uid||"",sequenceNumber:t,readTime:Du(s.readTime),documentKey:$s(s.documentKey.path),largestBatchId:s.largestBatchId}}class _d{getBundleMetadata(e,t){return Rl(e).get(t).next(s=>{if(s)return{id:(d=s).bundleId,createTime:wu(d.createTime),version:d.version};var d})}saveBundleMetadata(e,t){return Rl(e).put({bundleId:(s=t).id,createTime:Du(Fi(s.createTime)),version:s.version});var s}getNamedQuery(e,t){return Y_(e).get(t).next(s=>{if(s)return{name:(d=s).name,query:Lp(d.bundledQuery),readTime:wu(d.readTime)};var d})}saveNamedQuery(e,t){return Y_(e).put({name:(s=t).name,readTime:Du(Fi(s.readTime)),bundledQuery:s.bundledQuery});var s}}function Rl(i){return Oo(i,"bundles")}function Y_(i){return Oo(i,"namedQueries")}class wf{constructor(e,t){this.It=e,this.userId=t}static oe(e,t){return new wf(e,t.uid||"")}getOverlay(e,t){return Mf(e).get(G_(this.userId,t)).next(s=>s?Df(this.It,s):null)}getOverlays(e,t){const s=dl();return w.forEach(t,d=>this.getOverlay(e,d).next(m=>{null!==m&&s.set(d,m)})).next(()=>s)}saveOverlays(e,t,s){const d=[];return s.forEach((m,D)=>{const R=new rs(t,D);d.push(this.ue(e,R))}),w.waitFor(d)}removeOverlaysForBatchId(e,t,s){const d=new Set;t.forEach(D=>d.add($s(D.getCollectionPath())));const m=[];return d.forEach(D=>{const R=IDBKeyRange.bound([this.userId,D,s],[this.userId,D,s+1],!1,!0);m.push(Mf(e).Y("collectionPathOverlayIndex",R))}),w.waitFor(m)}getOverlaysForCollection(e,t,s){const d=dl(),m=$s(t),D=IDBKeyRange.bound([this.userId,m,s],[this.userId,m,Number.POSITIVE_INFINITY],!0);return Mf(e).W("collectionPathOverlayIndex",D).next(R=>{for(const K of R){const Q=Df(this.It,K);d.set(Q.getKey(),Q)}return d})}getOverlaysForCollectionGroup(e,t,s,d){const m=dl();let D;const R=IDBKeyRange.bound([this.userId,t,s],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Mf(e).Z({index:"collectionGroupOverlayIndex",range:R},(K,Q,se)=>{const xe=Df(this.It,Q);m.size()<d||xe.largestBatchId===D?(m.set(xe.getKey(),xe),D=xe.largestBatchId):se.done()}).next(()=>m)}ue(e,t){return Mf(e).put(function(s,d,m){const[D,R,K]=G_(d,m.mutation.key);return{userId:d,collectionPath:R,documentId:K,collectionGroup:m.mutation.key.getCollectionGroup(),largestBatchId:m.largestBatchId,overlayMutation:Ln(s.re,m.mutation)}}(this.It,this.userId,t))}}function Mf(i){return Oo(i,"documentOverlays")}class gd{constructor(){}ce(e,t){this.ae(e,t),t.he()}ae(e,t){if("nullValue"in e)this.le(t,5);else if("booleanValue"in e)this.le(t,10),t.fe(e.booleanValue?1:0);else if("integerValue"in e)this.le(t,15),t.fe(hi(e.integerValue));else if("doubleValue"in e){const s=hi(e.doubleValue);isNaN(s)?this.le(t,13):(this.le(t,15),pe(s)?t.fe(0):t.fe(s))}else if("timestampValue"in e){const s=e.timestampValue;this.le(t,20),"string"==typeof s?t.de(s):(t.de(`${s.seconds||""}`),t.fe(s.nanos||0))}else if("stringValue"in e)this._e(e.stringValue,t),this.we(t);else if("bytesValue"in e)this.le(t,30),t.me(es(e.bytesValue)),this.we(t);else if("referenceValue"in e)this.ge(e.referenceValue,t);else if("geoPointValue"in e){const s=e.geoPointValue;this.le(t,45),t.fe(s.latitude||0),t.fe(s.longitude||0)}else"mapValue"in e?Va(e)?this.le(t,Number.MAX_SAFE_INTEGER):(this.ye(e.mapValue,t),this.we(t)):"arrayValue"in e?(this.pe(e.arrayValue,t),this.we(t)):fn()}_e(e,t){this.le(t,25),this.Ie(e,t)}Ie(e,t){t.de(e)}ye(e,t){const s=e.fields||{};this.le(t,55);for(const d of Object.keys(s))this._e(d,t),this.ae(s[d],t)}pe(e,t){const s=e.values||[];this.le(t,50);for(const d of s)this.ae(d,t)}ge(e,t){this.le(t,37),on.fromName(e).path.forEach(s=>{this.le(t,60),this.Ie(s,t)})}le(e,t){e.fe(t)}we(e){e.fe(2)}}function Q_(i){if(0===i)return 8;let e=0;return i>>4==0&&(e+=4,i<<=4),i>>6==0&&(e+=2,i<<=2),i>>7==0&&(e+=1),e}function Cm(i){const e=64-function(t){let s=0;for(let d=0;d<8;++d){const m=Q_(255&t[d]);if(s+=m,8!==m)break}return s}(i);return Math.ceil(e/8)}gd.Te=new gd;class kl{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ee(e){const t=e[Symbol.iterator]();let s=t.next();for(;!s.done;)this.Ae(s.value),s=t.next();this.Re()}be(e){const t=e[Symbol.iterator]();let s=t.next();for(;!s.done;)this.Pe(s.value),s=t.next();this.ve()}Ve(e){for(const t of e){const s=t.charCodeAt(0);if(s<128)this.Ae(s);else if(s<2048)this.Ae(960|s>>>6),this.Ae(128|63&s);else if(t<"\ud800"||"\udbff"<t)this.Ae(480|s>>>12),this.Ae(128|63&s>>>6),this.Ae(128|63&s);else{const d=t.codePointAt(0);this.Ae(240|d>>>18),this.Ae(128|63&d>>>12),this.Ae(128|63&d>>>6),this.Ae(128|63&d)}}this.Re()}Se(e){for(const t of e){const s=t.charCodeAt(0);if(s<128)this.Pe(s);else if(s<2048)this.Pe(960|s>>>6),this.Pe(128|63&s);else if(t<"\ud800"||"\udbff"<t)this.Pe(480|s>>>12),this.Pe(128|63&s>>>6),this.Pe(128|63&s);else{const d=t.codePointAt(0);this.Pe(240|d>>>18),this.Pe(128|63&d>>>12),this.Pe(128|63&d>>>6),this.Pe(128|63&d)}}this.ve()}De(e){const t=this.Ce(e),s=Cm(t);this.xe(1+s),this.buffer[this.position++]=255&s;for(let d=t.length-s;d<t.length;++d)this.buffer[this.position++]=255&t[d]}Ne(e){const t=this.Ce(e),s=Cm(t);this.xe(1+s),this.buffer[this.position++]=~(255&s);for(let d=t.length-s;d<t.length;++d)this.buffer[this.position++]=~(255&t[d])}ke(){this.Me(255),this.Me(255)}Oe(){this.Fe(255),this.Fe(255)}reset(){this.position=0}seed(e){this.xe(e.length),this.buffer.set(e,this.position),this.position+=e.length}$e(){return this.buffer.slice(0,this.position)}Ce(e){const t=function(d){const m=new DataView(new ArrayBuffer(8));return m.setFloat64(0,d,!1),new Uint8Array(m.buffer)}(e),s=0!=(128&t[0]);t[0]^=s?255:128;for(let d=1;d<t.length;++d)t[d]^=s?255:0;return t}Ae(e){const t=255&e;0===t?(this.Me(0),this.Me(255)):255===t?(this.Me(255),this.Me(0)):this.Me(t)}Pe(e){const t=255&e;0===t?(this.Fe(0),this.Fe(255)):255===t?(this.Fe(255),this.Fe(0)):this.Fe(e)}Re(){this.Me(0),this.Me(1)}ve(){this.Fe(0),this.Fe(1)}Me(e){this.xe(1),this.buffer[this.position++]=e}Fe(e){this.xe(1),this.buffer[this.position++]=~e}xe(e){const t=e+this.position;if(t<=this.buffer.length)return;let s=2*this.buffer.length;s<t&&(s=t);const d=new Uint8Array(s);d.set(this.buffer),this.buffer=d}}class Np{constructor(e){this.Be=e}me(e){this.Be.Ee(e)}de(e){this.Be.Ve(e)}fe(e){this.Be.De(e)}he(){this.Be.ke()}}class Fp{constructor(e){this.Be=e}me(e){this.Be.be(e)}de(e){this.Be.Se(e)}fe(e){this.Be.Ne(e)}he(){this.Be.Oe()}}class dh{constructor(){this.Be=new kl,this.Le=new Np(this.Be),this.Ue=new Fp(this.Be)}seed(e){this.Be.seed(e)}qe(e){return 0===e?this.Le:this.Ue}$e(){return this.Be.$e()}reset(){this.Be.reset()}}class $c{constructor(e,t,s,d){this.indexId=e,this.documentKey=t,this.arrayValue=s,this.directionalValue=d}Ke(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,s=new Uint8Array(t);return s.set(this.directionalValue,0),t!==e?s.set([0],this.directionalValue.length):++s[s.length-1],new $c(this.indexId,this.documentKey,this.arrayValue,s)}}function Tu(i,e){let t=i.indexId-e.indexId;return 0!==t?t:(t=md(i.arrayValue,e.arrayValue),0!==t?t:(t=md(i.directionalValue,e.directionalValue),0!==t?t:on.comparator(i.documentKey,e.documentKey)))}function md(i,e){for(let t=0;t<i.length&&t<e.length;++t){const s=i[t]-e[t];if(0!==s)return s}return i.length-e.length}class jy{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ge=e.orderBy,this.Qe=[];for(const t of e.filters){const s=t;s.dt()?this.je=s:this.Qe.push(s)}}We(e){const t=tc(e);if(void 0!==t&&!this.ze(t))return!1;const s=ia(e);let d=0,m=0;for(;d<s.length&&this.ze(s[d]);++d);if(d===s.length)return!0;if(void 0!==this.je){const D=s[d];if(!this.He(this.je,D)||!this.Je(this.Ge[m++],D))return!1;++d}for(;d<s.length;++d){const D=s[d];if(m>=this.Ge.length||!this.Je(this.Ge[m++],D))return!1}return!0}ze(e){for(const t of this.Qe)if(this.He(t,e))return!0;return!1}He(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Je(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class Dm{constructor(){this.Ye=new hh}addToCollectionParentIndex(e,t){return this.Ye.add(t),w.resolve()}getCollectionParents(e,t){return w.resolve(this.Ye.getEntries(t))}addFieldIndex(e,t){return w.resolve()}deleteFieldIndex(e,t){return w.resolve()}getDocumentsMatchingTarget(e,t){return w.resolve(null)}getIndexType(e,t){return w.resolve(0)}getFieldIndexes(e,t){return w.resolve([])}getNextCollectionGroupToUpdate(e){return w.resolve(null)}getMinOffset(e,t){return w.resolve(_o.min())}getMinOffsetFromCollectionGroup(e,t){return w.resolve(_o.min())}updateCollectionGroup(e,t,s){return w.resolve()}updateIndexEntries(e,t){return w.resolve()}}class hh{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),d=this.index[t]||new kr(xr.comparator),m=!d.has(s);return this.index[t]=d.add(s),m}has(e){const t=e.lastSegment(),s=e.popLast(),d=this.index[t];return d&&d.has(s)}getEntries(e){return(this.index[e]||new kr(xr.comparator)).toArray()}}const yd=new Uint8Array(0);class Tf{constructor(e,t){this.user=e,this.databaseId=t,this.Xe=new hh,this.Ze=new Sl(s=>xc(s),(s,d)=>Wd(s,d)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Xe.has(t)){const s=t.lastSegment(),d=t.popLast();e.addOnCommittedListener(()=>{this.Xe.add(t)});const m={collectionId:s,parent:$s(d)};return Zc(e).put(m)}return w.resolve()}getCollectionParents(e,t){const s=[],d=IDBKeyRange.bound([t,""],[jo(t),""],!1,!0);return Zc(e).W(d).next(m=>{for(const D of m){if(D.collectionId!==t)break;s.push(hl(D.parent))}return s})}addFieldIndex(e,t){const s=zc(e),d={indexId:(D=t).indexId,collectionGroup:D.collectionGroup,fields:D.fields.map(R=>[R.fieldPath.canonicalString(),R.kind])};var D;delete d.indexId;const m=s.add(d);if(t.indexState){const D=Gc(e);return m.next(R=>{D.put(q_(R,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return m.next()}deleteFieldIndex(e,t){const s=zc(e),d=Gc(e),m=fl(e);return s.delete(t.indexId).next(()=>d.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>m.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const s=fl(e);let d=!0;const m=new Map;return w.forEach(this.tn(t),D=>this.en(e,D).next(R=>{d&&(d=!!R),m.set(D,R)})).next(()=>{if(d){let D=er();const R=[];return w.forEach(m,(K,Q)=>{var se;Kt("IndexedDbIndexManager",`Using index ${se=K,`id=${se.indexId}|cg=${se.collectionGroup}|f=${se.fields.map(tr=>`${tr.fieldPath}:${tr.kind}`).join(",")}`} to execute ${xc(t)}`);const xe=function(tr,ni){const ur=tc(ni);if(void 0===ur)return null;for(const Or of jd(tr,ur.fieldPath))switch(Or.op){case"array-contains-any":return Or.value.arrayValue.values||[];case"array-contains":return[Or.value]}return null}(Q,K),nt=function(tr,ni){const ur=new Map;for(const Or of ia(ni))for(const gr of jd(tr,Or.fieldPath))switch(gr.op){case"==":case"in":ur.set(Or.fieldPath.canonicalString(),gr.value);break;case"not-in":case"!=":return ur.set(Or.fieldPath.canonicalString(),gr.value),Array.from(ur.values())}return null}(Q,K),wt=function(tr,ni){const ur=[];let Or=!0;for(const gr of ia(ni)){const Ju=0===gr.kind?Kd(tr,gr.fieldPath,tr.startAt):ic(tr,gr.fieldPath,tr.startAt);ur.push(Ju.value),Or&&(Or=Ju.inclusive)}return new ll(ur,Or)}(Q,K),St=function(tr,ni){const ur=[];let Or=!0;for(const gr of ia(ni)){const Ju=0===gr.kind?ic(tr,gr.fieldPath,tr.endAt):Kd(tr,gr.fieldPath,tr.endAt);ur.push(Ju.value),Or&&(Or=Ju.inclusive)}return new ll(ur,Or)}(Q,K),yt=this.nn(K,Q,wt),Ft=this.nn(K,Q,St),en=this.sn(K,Q,nt),Tn=this.rn(K.indexId,xe,yt,wt.inclusive,Ft,St.inclusive,en);return w.forEach(Tn,tr=>s.J(tr,t.limit).next(ni=>{ni.forEach(ur=>{const Or=on.fromSegments(ur.documentKey);D.has(Or)||(D=D.add(Or),R.push(Or))})}))}).next(()=>R)}return w.resolve(null)})}tn(e){let t=this.Ze.get(e);return t||(t=[e],this.Ze.set(e,t),t)}rn(e,t,s,d,m,D,R){const K=(null!=t?t.length:1)*Math.max(s.length,m.length),Q=K/(null!=t?t.length:1),se=[];for(let xe=0;xe<K;++xe){const nt=t?this.on(t[xe/Q]):yd,wt=this.un(e,nt,s[xe%Q],d),St=this.cn(e,nt,m[xe%Q],D),yt=R.map(Ft=>this.un(e,nt,Ft,!0));se.push(...this.createRange(wt,St,yt))}return se}un(e,t,s,d){const m=new $c(e,on.empty(),t,s);return d?m:m.Ke()}cn(e,t,s,d){const m=new $c(e,on.empty(),t,s);return d?m.Ke():m}en(e,t){const s=new jy(t),d=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,d).next(m=>{let D=null;for(const R of m)s.We(R)&&(!D||R.fields.length>D.fields.length)&&(D=R);return D})}getIndexType(e,t){let s=2;return w.forEach(this.tn(t),d=>this.en(e,d).next(m=>{m?0!==s&&m.fields.length<function(D){let R=new kr(Di.comparator),K=!1;for(const Q of D.filters){const se=Q;se.field.isKeyField()||("array-contains"===se.op||"array-contains-any"===se.op?K=!0:R=R.add(se.field))}for(const Q of D.orderBy)Q.field.isKeyField()||(R=R.add(Q.field));return R.size+(K?1:0)}(d)&&(s=1):s=0})).next(()=>s)}an(e,t){const s=new dh;for(const d of ia(e)){const m=t.data.field(d.fieldPath);if(null==m)return null;const D=s.qe(d.kind);gd.Te.ce(m,D)}return s.$e()}on(e){const t=new dh;return gd.Te.ce(e,t.qe(0)),t.$e()}hn(e,t){const s=new dh;return gd.Te.ce(js(this.databaseId,t),s.qe(function(d){const m=ia(d);return 0===m.length?0:m[m.length-1].kind}(e))),s.$e()}sn(e,t,s){if(null===s)return[];let d=[];d.push(new dh);let m=0;for(const D of ia(e)){const R=s[m++];for(const K of d)if(this.ln(t,D.fieldPath)&&ms(R))d=this.fn(d,D,R);else{const Q=K.qe(D.kind);gd.Te.ce(R,Q)}}return this.dn(d)}nn(e,t,s){return this.sn(e,t,s.position)}dn(e){const t=[];for(let s=0;s<e.length;++s)t[s]=e[s].$e();return t}fn(e,t,s){const d=[...e],m=[];for(const D of s.arrayValue.values||[])for(const R of d){const K=new dh;K.seed(R.$e()),gd.Te.ce(D,K.qe(t.kind)),m.push(K)}return m}ln(e,t){return!!e.filters.find(s=>s instanceof go&&s.field.isEqual(t)&&("in"===s.op||"not-in"===s.op))}getFieldIndexes(e,t){const s=zc(e),d=Gc(e);return(t?s.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):s.W()).next(m=>{const D=[];return w.forEach(m,R=>d.get([R.indexId,this.uid]).next(K=>{D.push(function(Q,se){const xe=se?new Ba(se.sequenceNumber,new _o(wu(se.readTime),new on(hl(se.documentKey)),se.largestBatchId)):Ba.empty(),nt=Q.fields.map(([wt,St])=>new lu(Di.fromServerFormat(wt),St));return new ec(Q.indexId,Q.collectionGroup,nt,xe)}(R,K))})).next(()=>D)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((s,d)=>{const m=s.indexState.sequenceNumber-d.indexState.sequenceNumber;return 0!==m?m:Hn(s.collectionGroup,d.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,s){const d=zc(e),m=Gc(e);return this._n(e).next(D=>d.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(R=>w.forEach(R,K=>m.put(q_(K.indexId,this.user,D,s)))))}updateIndexEntries(e,t){const s=new Map;return w.forEach(t,(d,m)=>{const D=s.get(d.collectionGroup);return(D?w.resolve(D):this.getFieldIndexes(e,d.collectionGroup)).next(R=>(s.set(d.collectionGroup,R),w.forEach(R,K=>this.wn(e,d,K).next(Q=>{const se=this.mn(m,K);return Q.isEqual(se)?w.resolve():this.gn(e,m,K,Q,se)}))))})}yn(e,t,s,d){return fl(e).put({indexId:d.indexId,uid:this.uid,arrayValue:d.arrayValue,directionalValue:d.directionalValue,orderedDocumentKey:this.hn(s,t.key),documentKey:t.key.path.toArray()})}pn(e,t,s,d){return fl(e).delete([d.indexId,this.uid,d.arrayValue,d.directionalValue,this.hn(s,t.key),t.key.path.toArray()])}wn(e,t,s){const d=fl(e);let m=new kr(Tu);return d.Z({index:"documentKeyIndex",range:IDBKeyRange.only([s.indexId,this.uid,this.hn(s,t)])},(D,R)=>{m=m.add(new $c(s.indexId,t,R.arrayValue,R.directionalValue))}).next(()=>m)}mn(e,t){let s=new kr(Tu);const d=this.an(t,e);if(null==d)return s;const m=tc(t);if(null!=m){const D=e.data.field(m.fieldPath);if(ms(D))for(const R of D.arrayValue.values||[])s=s.add(new $c(t.indexId,e.key,this.on(R),d))}else s=s.add(new $c(t.indexId,e.key,yd,d));return s}gn(e,t,s,d,m){Kt("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const D=[];return function(R,K,Q,se,xe){const nt=R.getIterator(),wt=K.getIterator();let St=sl(nt),yt=sl(wt);for(;St||yt;){let Ft=!1,en=!1;if(St&&yt){const Tn=Q(St,yt);Tn<0?en=!0:Tn>0&&(Ft=!0)}else null!=St?en=!0:Ft=!0;Ft?(se(yt),yt=sl(wt)):en?(xe(St),St=sl(nt)):(St=sl(nt),yt=sl(wt))}}(d,m,Tu,R=>{D.push(this.yn(e,t,s,R))},R=>{D.push(this.pn(e,t,s,R))}),w.waitFor(D)}_n(e){let t=1;return Gc(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(s,d,m)=>{m.done(),t=d.sequenceNumber+1}).next(()=>t)}createRange(e,t,s){s=s.sort((D,R)=>Tu(D,R)).filter((D,R,K)=>!R||0!==Tu(D,K[R-1]));const d=[];d.push(e);for(const D of s){const R=Tu(D,e),K=Tu(D,t);if(0===R)d[0]=e.Ke();else if(R>0&&K<0)d.push(D),d.push(D.Ke());else if(K>0)break}d.push(t);const m=[];for(let D=0;D<d.length;D+=2)m.push(IDBKeyRange.bound([d[D].indexId,this.uid,d[D].arrayValue,d[D].directionalValue,yd,[]],[d[D+1].indexId,this.uid,d[D+1].arrayValue,d[D+1].directionalValue,yd,[]]));return m}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(If)}getMinOffset(e,t){return w.mapArray(this.tn(t),s=>this.en(e,s).next(d=>d||fn())).next(If)}}function Zc(i){return Oo(i,"collectionParents")}function fl(i){return Oo(i,"indexEntries")}function zc(i){return Oo(i,"indexConfiguration")}function Gc(i){return Oo(i,"indexState")}function If(i){_n(0!==i.length);let e=i[0].indexState.offset,t=e.largestBatchId;for(let s=1;s<i.length;s++){const d=i[s].indexState.offset;So(d,e)<0&&(e=d),t<d.largestBatchId&&(t=d.largestBatchId)}return new _o(e.readTime,e.documentKey,t)}const ks={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Zs{constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}static withCacheSize(e){return new Zs(e,Zs.DEFAULT_COLLECTION_PERCENTILE,Zs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Af(i,e,t){const s=i.store("mutations"),d=i.store("documentMutations"),m=[],D=IDBKeyRange.only(t.batchId);let R=0;const K=s.Z({range:D},(se,xe,nt)=>(R++,nt.delete()));m.push(K.next(()=>{_n(1===R)}));const Q=[];for(const se of t.mutations){const xe=Sp(e,se.key.path,t.batchId);m.push(d.delete(xe)),Q.push(se.key)}return w.waitFor(m).next(()=>Q)}function fh(i){if(!i)return 0;let e;if(i.document)e=i.document;else if(i.unknownDocument)e=i.unknownDocument;else{if(!i.noDocument)throw fn();e=i.noDocument}return JSON.stringify(e).length}Zs.DEFAULT_COLLECTION_PERCENTILE=10,Zs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Zs.DEFAULT=new Zs(41943040,Zs.DEFAULT_COLLECTION_PERCENTILE,Zs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Zs.DISABLED=new Zs(-1,0,0);class ph{constructor(e,t,s,d){this.userId=e,this.It=t,this.indexManager=s,this.referenceDelegate=d,this.In={}}static oe(e,t,s,d){_n(""!==e.uid);const m=e.isAuthenticated()?e.uid:"";return new ph(m,t,s,d)}checkEmpty(e){let t=!0;const s=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Iu(e).Z({index:"userMutationsIndex",range:s},(d,m,D)=>{t=!1,D.done()}).next(()=>t)}addMutationBatch(e,t,s,d){const m=Au(e),D=Iu(e);return D.add({}).next(R=>{_n("number"==typeof R);const K=new Ef(R,t,s,d),Q=function(nt,wt,St){const yt=St.baseMutations.map(en=>Ln(nt.re,en)),Ft=St.mutations.map(en=>Ln(nt.re,en));return{userId:wt,batchId:St.batchId,localWriteTimeMs:St.localWriteTime.toMillis(),baseMutations:yt,mutations:Ft}}(this.It,this.userId,K),se=[];let xe=new kr((nt,wt)=>Hn(nt.canonicalString(),wt.canonicalString()));for(const nt of d){const wt=Sp(this.userId,nt.key.path,R);xe=xe.add(nt.key.path.popLast()),se.push(D.put(Q)),se.push(m.put(wt,j_))}return xe.forEach(nt=>{se.push(this.indexManager.addToCollectionParentIndex(e,nt))}),e.addOnCommittedListener(()=>{this.In[R]=K.keys()}),w.waitFor(se).next(()=>K)})}lookupMutationBatch(e,t){return Iu(e).get(t).next(s=>s?(_n(s.userId===this.userId),Mu(this.It,s)):null)}Tn(e,t){return this.In[t]?w.resolve(this.In[t]):this.lookupMutationBatch(e,t).next(s=>{if(s){const d=s.keys();return this.In[t]=d,d}return null})}getNextMutationBatchAfterBatchId(e,t){const s=t+1,d=IDBKeyRange.lowerBound([this.userId,s]);let m=null;return Iu(e).Z({index:"userMutationsIndex",range:d},(D,R,K)=>{R.userId===this.userId&&(_n(R.batchId>=s),m=Mu(this.It,R)),K.done()}).next(()=>m)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let s=-1;return Iu(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(d,m,D)=>{s=m.batchId,D.done()}).next(()=>s)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Iu(e).W("userMutationsIndex",t).next(s=>s.map(d=>Mu(this.It,d)))}getAllMutationBatchesAffectingDocumentKey(e,t){const s=ah(this.userId,t.path),d=IDBKeyRange.lowerBound(s),m=[];return Au(e).Z({range:d},(D,R,K)=>{const[Q,se,xe]=D,nt=hl(se);if(Q===this.userId&&t.path.isEqual(nt))return Iu(e).get(xe).next(wt=>{if(!wt)throw fn();_n(wt.userId===this.userId),m.push(Mu(this.It,wt))});K.done()}).next(()=>m)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new kr(Hn);const d=[];return t.forEach(m=>{const D=ah(this.userId,m.path),R=IDBKeyRange.lowerBound(D),K=Au(e).Z({range:R},(Q,se,xe)=>{const[nt,wt,St]=Q,yt=hl(wt);nt===this.userId&&m.path.isEqual(yt)?s=s.add(St):xe.done()});d.push(K)}),w.waitFor(d).next(()=>this.En(e,s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,d=s.length+1,m=ah(this.userId,s),D=IDBKeyRange.lowerBound(m);let R=new kr(Hn);return Au(e).Z({range:D},(K,Q,se)=>{const[xe,nt,wt]=K,St=hl(nt);xe===this.userId&&s.isPrefixOf(St)?St.length===d&&(R=R.add(wt)):se.done()}).next(()=>this.En(e,R))}En(e,t){const s=[],d=[];return t.forEach(m=>{d.push(Iu(e).get(m).next(D=>{if(null===D)throw fn();_n(D.userId===this.userId),s.push(Mu(this.It,D))}))}),w.waitFor(d).next(()=>s)}removeMutationBatch(e,t){return Af(e.ie,this.userId,t).next(s=>(e.addOnCommittedListener(()=>{this.An(t.batchId)}),w.forEach(s,d=>this.referenceDelegate.markPotentiallyOrphaned(e,d))))}An(e){delete this.In[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return w.resolve();const s=IDBKeyRange.lowerBound([this.userId]),d=[];return Au(e).Z({range:s},(m,D,R)=>{if(m[0]===this.userId){const K=hl(m[1]);d.push(K)}else R.done()}).next(()=>{_n(0===d.length)})})}containsKey(e,t){return Sf(e,this.userId,t)}Rn(e){return Ll(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Sf(i,e,t){const s=ah(e,t.path),d=s[1],m=IDBKeyRange.lowerBound(s);let D=!1;return Au(i).Z({range:m,X:!0},(R,K,Q)=>{const[se,xe,nt]=R;se===e&&xe===d&&(D=!0),Q.done()}).next(()=>D)}function Iu(i){return Oo(i,"mutations")}function Au(i){return Oo(i,"documentMutations")}function Ll(i){return Oo(i,"mutationQueues")}class fc{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new fc(0)}static vn(){return new fc(-1)}}class Bp{constructor(e,t){this.referenceDelegate=e,this.It=t}allocateTargetId(e){return this.Vn(e).next(t=>{const s=new fc(t.highestTargetId);return t.highestTargetId=s.next(),this.Sn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Vn(e).next(t=>rn.fromTimestamp(new Nr(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Vn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,s){return this.Vn(e).next(d=>(d.highestListenSequenceNumber=t,s&&(d.lastRemoteSnapshotVersion=s.toTimestamp()),t>d.highestListenSequenceNumber&&(d.highestListenSequenceNumber=t),this.Sn(e,d)))}addTargetData(e,t){return this.Dn(e,t).next(()=>this.Vn(e).next(s=>(s.targetCount+=1,this.Cn(t,s),this.Sn(e,s))))}updateTargetData(e,t){return this.Dn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>_h(e).delete(t.targetId)).next(()=>this.Vn(e)).next(s=>(_n(s.targetCount>0),s.targetCount-=1,this.Sn(e,s)))}removeTargets(e,t,s){let d=0;const m=[];return _h(e).Z((D,R)=>{const K=pd(R);K.sequenceNumber<=t&&null===s.get(K.targetId)&&(d++,m.push(this.removeTargetData(e,K)))}).next(()=>w.waitFor(m)).next(()=>d)}forEachTarget(e,t){return _h(e).Z((s,d)=>{const m=pd(d);t(m)})}Vn(e){return X_(e).get("targetGlobalKey").next(t=>(_n(null!==t),t))}Sn(e,t){return X_(e).put("targetGlobalKey",t)}Dn(e,t){return _h(e).put(z_(this.It,t))}Cn(e,t){let s=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,s=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,s=!0),s}getTargetCount(e){return this.Vn(e).next(t=>t.targetCount)}getTargetData(e,t){const s=xc(t),d=IDBKeyRange.bound([s,Number.NEGATIVE_INFINITY],[s,Number.POSITIVE_INFINITY]);let m=null;return _h(e).Z({range:d,index:"queryTargetsIndex"},(D,R,K)=>{const Q=pd(R);Wd(t,Q.target)&&(m=Q,K.done())}).next(()=>m)}addMatchingKeys(e,t,s){const d=[],m=Nl(e);return t.forEach(D=>{const R=$s(D.path);d.push(m.put({targetId:s,path:R})),d.push(this.referenceDelegate.addReference(e,s,D))}),w.waitFor(d)}removeMatchingKeys(e,t,s){const d=Nl(e);return w.forEach(t,m=>{const D=$s(m.path);return w.waitFor([d.delete([s,D]),this.referenceDelegate.removeReference(e,s,m)])})}removeMatchingKeysForTargetId(e,t){const s=Nl(e),d=IDBKeyRange.bound([t],[t+1],!1,!0);return s.delete(d)}getMatchingKeysForTargetId(e,t){const s=IDBKeyRange.bound([t],[t+1],!1,!0),d=Nl(e);let m=er();return d.Z({range:s,X:!0},(D,R,K)=>{const Q=hl(D[1]),se=new on(Q);m=m.add(se)}).next(()=>m)}containsKey(e,t){const s=$s(t.path),d=IDBKeyRange.bound([s],[jo(s)],!1,!0);let m=0;return Nl(e).Z({index:"documentTargetsIndex",X:!0,range:d},([D,R],K,Q)=>{0!==D&&(m++,Q.done())}).next(()=>m>0)}se(e,t){return _h(e).get(t).next(s=>s?pd(s):null)}}function _h(i){return Oo(i,"targets")}function X_(i){return Oo(i,"targetGlobal")}function Nl(i){return Oo(i,"targetDocuments")}function xf([i,e],[t,s]){const d=Hn(i,t);return 0===d?Hn(e,s):d}class vd{constructor(e){this.xn=e,this.buffer=new kr(xf),this.Nn=0}kn(){return++this.Nn}Mn(e){const t=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();xf(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Up{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.On=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}stop(){this.On&&(this.On.cancel(),this.On=null)}get started(){return null!==this.On}Fn(e){var t=this;Kt("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.On=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,Re.Z)(function*(){t.On=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(s){J(s)?Kt("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",s):yield Ko(s)}yield t.Fn(3e5)}))}}class Of{constructor(e,t){this.$n=e,this.params=t}calculateTargetCount(e,t){return this.$n.Bn(e).next(s=>Math.floor(t/100*s))}nthSequenceNumber(e,t){if(0===t)return w.resolve(Jn.at);const s=new vd(t);return this.$n.forEachTarget(e,d=>s.Mn(d.sequenceNumber)).next(()=>this.$n.Ln(e,d=>s.Mn(d))).next(()=>s.maxValue)}removeTargets(e,t,s){return this.$n.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.$n.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Kt("LruGarbageCollector","Garbage collection skipped; disabled"),w.resolve(ks)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(Kt("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ks):this.Un(e,t))}getCacheSize(e){return this.$n.getCacheSize(e)}Un(e,t){let s,d,m,D,R,K,Q;const se=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(xe=>(xe>this.params.maximumSequenceNumbersToCollect?(Kt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${xe}`),d=this.params.maximumSequenceNumbersToCollect):d=xe,D=Date.now(),this.nthSequenceNumber(e,d))).next(xe=>(s=xe,R=Date.now(),this.removeTargets(e,s,t))).next(xe=>(m=xe,K=Date.now(),this.removeOrphanedDocuments(e,s))).next(xe=>(Q=Date.now(),ps()<=Me.in.DEBUG&&Kt("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${D-se}ms\n\tDetermined least recently used ${d} in `+(R-D)+`ms\n\tRemoved ${m} targets in `+(K-R)+`ms\n\tRemoved ${xe} documents in `+(Q-K)+`ms\nTotal Duration: ${Q-se}ms`),w.resolve({didRun:!0,sequenceNumbersCollected:d,targetsRemoved:m,documentsRemoved:xe})))}}class wm{constructor(e,t){this.db=e,this.garbageCollector=new Of(this,t)}Bn(e){const t=this.qn(e);return this.db.getTargetCache().getTargetCount(e).next(s=>t.next(d=>s+d))}qn(e){let t=0;return this.Ln(e,s=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Ln(e,t){return this.Kn(e,(s,d)=>t(d))}addReference(e,t,s){return Pf(e,s)}removeReference(e,t,s){return Pf(e,s)}removeTargets(e,t,s){return this.db.getTargetCache().removeTargets(e,t,s)}markPotentiallyOrphaned(e,t){return Pf(e,t)}Gn(e,t){return function(s,d){let m=!1;return Ll(s).tt(D=>Sf(s,D,d).next(R=>(R&&(m=!0),w.resolve(!R)))).next(()=>m)}(e,t)}removeOrphanedDocuments(e,t){const s=this.db.getRemoteDocumentCache().newChangeBuffer(),d=[];let m=0;return this.Kn(e,(D,R)=>{if(R<=t){const K=this.Gn(e,D).next(Q=>{if(!Q)return m++,s.getEntry(e,D).next(()=>(s.removeEntry(D,rn.min()),Nl(e).delete([0,$s(D.path)])))});d.push(K)}}).next(()=>w.waitFor(d)).next(()=>s.apply(e)).next(()=>m)}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,s)}updateLimboDocument(e,t){return Pf(e,t)}Kn(e,t){const s=Nl(e);let d,m=Jn.at;return s.Z({index:"documentTargetsIndex"},([D,R],{path:K,sequenceNumber:Q})=>{0===D?(m!==Jn.at&&t(new on(hl(d)),m),m=Q,d=K):m=Jn.at}).next(()=>{m!==Jn.at&&t(new on(hl(d)),m)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Pf(i,e){return Nl(i).put((s=i.currentSequenceNumber,{targetId:0,path:$s(e.path),sequenceNumber:s}));var s}class gh{constructor(){this.changes=new Sl(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,qr.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return void 0!==s?w.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Vp{constructor(e){this.It=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,s){return Fl(e).put(s)}removeEntry(e,t,s){return Fl(e).delete(function(d,m){const D=d.path.toArray();return[D.slice(0,D.length-2),D[D.length-2],uh(m),D[D.length-1]]}(t,s))}updateMetadata(e,t){return this.getMetadata(e).next(s=>(s.byteSize+=t,this.Qn(e,s)))}getEntry(e,t){let s=qr.newInvalidDocument(t);return Fl(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(qc(t))},(d,m)=>{s=this.jn(t,m)}).next(()=>s)}Wn(e,t){let s={size:0,document:qr.newInvalidDocument(t)};return Fl(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(qc(t))},(d,m)=>{s={document:this.jn(t,m),size:fh(m)}}).next(()=>s)}getEntries(e,t){let s=Ps();return this.zn(e,t,(d,m)=>{const D=this.jn(d,m);s=s.insert(d,D)}).next(()=>s)}Hn(e,t){let s=Ps(),d=new Fr(on.comparator);return this.zn(e,t,(m,D)=>{const R=this.jn(m,D);s=s.insert(m,R),d=d.insert(m,fh(D))}).next(()=>({documents:s,Jn:d}))}zn(e,t,s){if(t.isEmpty())return w.resolve();let d=new kr(Su);t.forEach(K=>d=d.add(K));const m=IDBKeyRange.bound(qc(d.first()),qc(d.last())),D=d.getIterator();let R=D.getNext();return Fl(e).Z({index:"documentKeyIndex",range:m},(K,Q,se)=>{const xe=on.fromSegments([...Q.prefixPath,Q.collectionGroup,Q.documentId]);for(;R&&Su(R,xe)<0;)s(R,null),R=D.getNext();R&&R.isEqual(xe)&&(s(R,Q),R=D.hasNext()?D.getNext():null),R?se.j(qc(R)):se.done()}).next(()=>{for(;R;)s(R,null),R=D.hasNext()?D.getNext():null})}getAllFromCollection(e,t,s){const d=[t.popLast().toArray(),t.lastSegment(),uh(s.readTime),s.documentKey.path.isEmpty()?"":s.documentKey.path.lastSegment()],m=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Fl(e).W(IDBKeyRange.bound(d,m,!0)).next(D=>{let R=Ps();for(const K of D){const Q=this.jn(on.fromSegments(K.prefixPath.concat(K.collectionGroup,K.documentId)),K);R=R.insert(Q.key,Q)}return R})}getAllFromCollectionGroup(e,t,s,d){let m=Ps();const D=Ga(t,s),R=Ga(t,_o.max());return Fl(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(D,R,!0)},(K,Q,se)=>{const xe=this.jn(on.fromSegments(Q.prefixPath.concat(Q.collectionGroup,Q.documentId)),Q);m=m.insert(xe.key,xe),m.size===d&&se.done()}).next(()=>m)}newChangeBuffer(e){return new mh(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return Ed(e).get("remoteDocumentGlobalKey").next(t=>(_n(!!t),t))}Qn(e,t){return Ed(e).put("remoteDocumentGlobalKey",t)}jn(e,t){if(t){const s=function Em(i,e){let t;if(e.document)t=ft(i.re,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const s=on.fromSegments(e.noDocument.path),d=wu(e.noDocument.readTime);t=qr.newNoDocument(s,d),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return fn();{const s=on.fromSegments(e.unknownDocument.path),d=wu(e.unknownDocument.version);t=qr.newUnknownDocument(s,d)}}return e.readTime&&t.setReadTime(function(s){const d=new Nr(s[0],s[1]);return rn.fromTimestamp(d)}(e.readTime)),t}(this.It,t);if(!s.isNoDocument()||!s.version.isEqual(rn.min()))return s}return qr.newInvalidDocument(e)}}function bd(i){return new Vp(i)}class mh extends gh{constructor(e,t){super(),this.Yn=e,this.trackRemovals=t,this.Xn=new Sl(s=>s.toString(),(s,d)=>s.isEqual(d))}applyChanges(e){const t=[];let s=0,d=new kr((m,D)=>Hn(m.canonicalString(),D.canonicalString()));return this.changes.forEach((m,D)=>{const R=this.Xn.get(m);if(t.push(this.Yn.removeEntry(e,m,R.readTime)),D.isValidDocument()){const K=Z_(this.Yn.It,D);d=d.add(m.path.popLast()),s+=fh(K)-R.size,t.push(this.Yn.addEntry(e,m,K))}else if(s-=R.size,this.trackRemovals){const K=Z_(this.Yn.It,D.convertToNoDocument(rn.min()));t.push(this.Yn.addEntry(e,m,K))}}),d.forEach(m=>{t.push(this.Yn.indexManager.addToCollectionParentIndex(e,m))}),t.push(this.Yn.updateMetadata(e,s)),w.waitFor(t)}getFromCache(e,t){return this.Yn.Wn(e,t).next(s=>(this.Xn.set(t,{size:s.size,readTime:s.document.readTime}),s.document))}getAllFromCache(e,t){return this.Yn.Hn(e,t).next(({documents:s,Jn:d})=>(d.forEach((m,D)=>{this.Xn.set(m,{size:D,readTime:s.get(m).readTime})}),s))}}function Ed(i){return Oo(i,"remoteDocumentGlobal")}function Fl(i){return Oo(i,"remoteDocumentsV14")}function qc(i){const e=i.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Ga(i,e){const t=e.documentKey.path.toArray();return[i,uh(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function Su(i,e){const t=i.path.toArray(),s=e.path.toArray();let d=0;for(let m=0;m<t.length-2&&m<s.length-2;++m)if(d=Hn(t[m],s[m]),d)return d;return d=Hn(t.length,s.length),d||(d=Hn(t[t.length-2],s[s.length-2]),d||Hn(t[t.length-1],s[s.length-1]))}class yh{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Rf{constructor(e,t,s,d){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=d}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next(d=>(s=d,this.getBaseDocument(e,t,s))).next(d=>(null!==s&&Si(s.mutation,d,Zo.empty(),Nr.now()),d))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.getLocalViewOfDocuments(e,s,er()).next(()=>s))}getLocalViewOfDocuments(e,t,s=er()){const d=dl();return this.populateOverlays(e,d,t).next(()=>this.computeViews(e,t,d,s).next(m=>{let D=ja();return m.forEach((R,K)=>{D=D.insert(R,K.overlayedDocument)}),D}))}getOverlayedDocuments(e,t){const s=dl();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,er()))}populateOverlays(e,t,s){const d=[];return s.forEach(m=>{t.has(m)||d.push(m)}),this.documentOverlayCache.getOverlays(e,d).next(m=>{m.forEach((D,R)=>{t.set(D,R)})})}computeViews(e,t,s,d){let m=Ps();const D=Ka(),R=Ka();return t.forEach((K,Q)=>{const se=s.get(Q.key);d.has(Q.key)&&(void 0===se||se.mutation instanceof vs)?m=m.insert(Q.key,Q):void 0!==se&&(D.set(Q.key,se.mutation.getFieldMask()),Si(se.mutation,Q,se.mutation.getFieldMask(),Nr.now()))}),this.recalculateAndSaveOverlays(e,m).next(K=>(K.forEach((Q,se)=>D.set(Q,se)),t.forEach((Q,se)=>{var xe;return R.set(Q,new yh(se,null!==(xe=D.get(Q))&&void 0!==xe?xe:null))}),R))}recalculateAndSaveOverlays(e,t){const s=Ka();let d=new Fr((D,R)=>D-R),m=er();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(D=>{for(const R of D)R.keys().forEach(K=>{const Q=t.get(K);if(null===Q)return;let se=s.get(K)||Zo.empty();se=R.applyToLocalView(Q,se),s.set(K,se);const xe=(d.get(R.batchId)||er()).add(K);d=d.insert(R.batchId,xe)})}).next(()=>{const D=[],R=d.getReverseIterator();for(;R.hasNext();){const K=R.getNext(),Q=K.key,se=K.value,xe=Uc();se.forEach(nt=>{if(!m.has(nt)){const wt=Jd(t.get(nt),s.get(nt));null!==wt&&xe.set(nt,wt),m=m.add(nt)}}),D.push(this.documentOverlayCache.saveOverlays(e,Q,xe))}return w.waitFor(D)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,t,s){return on.isDocumentKey((d=t).path)&&null===d.collectionGroup&&0===d.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):du(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s):this.getDocumentsMatchingCollectionQuery(e,t,s);var d}getNextDocuments(e,t,s,d){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,d).next(m=>{const D=d-m.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,d-m.size):w.resolve(dl());let R=-1,K=m;return D.next(Q=>w.forEach(Q,(se,xe)=>(R<xe.largestBatchId&&(R=xe.largestBatchId),m.get(se)?w.resolve():this.getBaseDocument(e,se,xe).next(nt=>{K=K.insert(se,nt)}))).next(()=>this.populateOverlays(e,Q,m)).next(()=>this.computeViews(e,K,Q,er())).next(se=>({batchId:R,changes:Bc(se)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new on(t)).next(s=>{let d=ja();return s.isFoundDocument()&&(d=d.insert(s.key,s)),d})}getDocumentsMatchingCollectionGroupQuery(e,t,s){const d=t.collectionGroup;let m=ja();return this.indexManager.getCollectionParents(e,d).next(D=>w.forEach(D,R=>{const K=(Q=t,se=R.child(d),new Ha(se,null,Q.explicitOrderBy.slice(),Q.filters.slice(),Q.limit,Q.limitType,Q.startAt,Q.endAt));var Q,se;return this.getDocumentsMatchingCollectionQuery(e,K,s).next(Q=>{Q.forEach((se,xe)=>{m=m.insert(se,xe)})})}).next(()=>m))}getDocumentsMatchingCollectionQuery(e,t,s){let d;return this.remoteDocumentCache.getAllFromCollection(e,t.path,s).next(m=>(d=m,this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId))).next(m=>{m.forEach((R,K)=>{const Q=K.getKey();null===d.get(Q)&&(d=d.insert(Q,qr.newInvalidDocument(Q)))});let D=ja();return d.forEach((R,K)=>{const Q=m.get(R);void 0!==Q&&Si(Q.mutation,K,Zo.empty(),Nr.now()),Ml(t,K)&&(D=D.insert(R,K))}),D})}getBaseDocument(e,t,s){return null===s||1===s.mutation.type?this.remoteDocumentCache.getEntry(e,t):w.resolve(qr.newInvalidDocument(t))}}class Cd{constructor(e){this.It=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,t){return w.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){var s;return this.Zn.set(t.id,{id:(s=t).id,version:s.version,createTime:Fi(s.createTime)}),w.resolve()}getNamedQuery(e,t){return w.resolve(this.ts.get(t))}saveNamedQuery(e,t){return this.ts.set(t.name,{name:(s=t).name,query:Lp(s.bundledQuery),readTime:Fi(s.readTime)}),w.resolve();var s}}class kf{constructor(){this.overlays=new Fr(on.comparator),this.es=new Map}getOverlay(e,t){return w.resolve(this.overlays.get(t))}getOverlays(e,t){const s=dl();return w.forEach(t,d=>this.getOverlay(e,d).next(m=>{null!==m&&s.set(d,m)})).next(()=>s)}saveOverlays(e,t,s){return s.forEach((d,m)=>{this.ue(e,t,m)}),w.resolve()}removeOverlaysForBatchId(e,t,s){const d=this.es.get(s);return void 0!==d&&(d.forEach(m=>this.overlays=this.overlays.remove(m)),this.es.delete(s)),w.resolve()}getOverlaysForCollection(e,t,s){const d=dl(),m=t.length+1,D=new on(t.child("")),R=this.overlays.getIteratorFrom(D);for(;R.hasNext();){const K=R.getNext().value,Q=K.getKey();if(!t.isPrefixOf(Q.path))break;Q.path.length===m&&K.largestBatchId>s&&d.set(K.getKey(),K)}return w.resolve(d)}getOverlaysForCollectionGroup(e,t,s,d){let m=new Fr((Q,se)=>Q-se);const D=this.overlays.getIterator();for(;D.hasNext();){const Q=D.getNext().value;if(Q.getKey().getCollectionGroup()===t&&Q.largestBatchId>s){let se=m.get(Q.largestBatchId);null===se&&(se=dl(),m=m.insert(Q.largestBatchId,se)),se.set(Q.getKey(),Q)}}const R=dl(),K=m.getIterator();for(;K.hasNext()&&(K.getNext().value.forEach((Q,se)=>R.set(Q,se)),!(R.size()>=d)););return w.resolve(R)}ue(e,t,s){const d=this.overlays.get(s.key);if(null!==d){const D=this.es.get(d.largestBatchId).delete(s.key);this.es.set(d.largestBatchId,D)}this.overlays=this.overlays.insert(s.key,new rs(t,s));let m=this.es.get(t);void 0===m&&(m=er(),this.es.set(t,m)),this.es.set(t,m.add(s.key))}}class xu{constructor(){this.ns=new kr(zo.ss),this.rs=new kr(zo.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,t){const s=new zo(e,t);this.ns=this.ns.add(s),this.rs=this.rs.add(s)}us(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.cs(new zo(e,t))}hs(e,t){e.forEach(s=>this.removeReference(s,t))}ls(e){const t=new on(new xr([])),s=new zo(t,e),d=new zo(t,e+1),m=[];return this.rs.forEachInRange([s,d],D=>{this.cs(D),m.push(D.key)}),m}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const t=new on(new xr([])),s=new zo(t,e),d=new zo(t,e+1);let m=er();return this.rs.forEachInRange([s,d],D=>{m=m.add(D.key)}),m}containsKey(e){const t=new zo(e,0),s=this.ns.firstAfterOrEqual(t);return null!==s&&e.isEqual(s.key)}}class zo{constructor(e,t){this.key=e,this._s=t}static ss(e,t){return on.comparator(e.key,t.key)||Hn(e._s,t._s)}static os(e,t){return Hn(e._s,t._s)||on.comparator(e.key,t.key)}}class pc{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this.gs=new kr(zo.ss)}checkEmpty(e){return w.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,s,d){const m=this.ws;this.ws++;const D=new Ef(m,t,s,d);this.mutationQueue.push(D);for(const R of d)this.gs=this.gs.add(new zo(R.key,m)),this.indexManager.addToCollectionParentIndex(e,R.key.path.popLast());return w.resolve(D)}lookupMutationBatch(e,t){return w.resolve(this.ys(t))}getNextMutationBatchAfterBatchId(e,t){const d=this.ps(t+1),m=d<0?0:d;return w.resolve(this.mutationQueue.length>m?this.mutationQueue[m]:null)}getHighestUnacknowledgedBatchId(){return w.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return w.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new zo(t,0),d=new zo(t,Number.POSITIVE_INFINITY),m=[];return this.gs.forEachInRange([s,d],D=>{const R=this.ys(D._s);m.push(R)}),w.resolve(m)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new kr(Hn);return t.forEach(d=>{const m=new zo(d,0),D=new zo(d,Number.POSITIVE_INFINITY);this.gs.forEachInRange([m,D],R=>{s=s.add(R._s)})}),w.resolve(this.Is(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,d=s.length+1;let m=s;on.isDocumentKey(m)||(m=m.child(""));const D=new zo(new on(m),0);let R=new kr(Hn);return this.gs.forEachWhile(K=>{const Q=K.key.path;return!!s.isPrefixOf(Q)&&(Q.length===d&&(R=R.add(K._s)),!0)},D),w.resolve(this.Is(R))}Is(e){const t=[];return e.forEach(s=>{const d=this.ys(s);null!==d&&t.push(d)}),t}removeMutationBatch(e,t){_n(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();let s=this.gs;return w.forEach(t.mutations,d=>{const m=new zo(d.key,t.batchId);return s=s.delete(m),this.referenceDelegate.markPotentiallyOrphaned(e,d.key)}).next(()=>{this.gs=s})}An(e){}containsKey(e,t){const s=new zo(t,0),d=this.gs.firstAfterOrEqual(s);return w.resolve(t.isEqual(d&&d.key))}performConsistencyCheck(e){return w.resolve()}Ts(e,t){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class J_{constructor(e){this.Es=e,this.docs=new Fr(on.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,d=this.docs.get(s),m=d?d.size:0,D=this.Es(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:D}),this.size+=D-m,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return w.resolve(s?s.document.mutableCopy():qr.newInvalidDocument(t))}getEntries(e,t){let s=Ps();return t.forEach(d=>{const m=this.docs.get(d);s=s.insert(d,m?m.document.mutableCopy():qr.newInvalidDocument(d))}),w.resolve(s)}getAllFromCollection(e,t,s){let d=Ps();const m=new on(t.child("")),D=this.docs.getIteratorFrom(m);for(;D.hasNext();){const{key:R,value:{document:K}}=D.getNext();if(!t.isPrefixOf(R.path))break;R.path.length>t.length+1||So(Ic(K),s)<=0||(d=d.insert(K.key,K.mutableCopy()))}return w.resolve(d)}getAllFromCollectionGroup(e,t,s,d){fn()}As(e,t){return w.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new eg(this)}getSize(e){return w.resolve(this.size)}}class eg extends gh{constructor(e){super(),this.Yn=e}applyChanges(e){const t=[];return this.changes.forEach((s,d)=>{d.isValidDocument()?t.push(this.Yn.addEntry(e,d)):this.Yn.removeEntry(s)}),w.waitFor(t)}getFromCache(e,t){return this.Yn.getEntry(e,t)}getAllFromCache(e,t){return this.Yn.getEntries(e,t)}}class pl{constructor(e){this.persistence=e,this.Rs=new Sl(t=>xc(t),Wd),this.lastRemoteSnapshotVersion=rn.min(),this.highestTargetId=0,this.bs=0,this.Ps=new xu,this.targetCount=0,this.vs=fc.Pn()}forEachTarget(e,t){return this.Rs.forEach((s,d)=>t(d)),w.resolve()}getLastRemoteSnapshotVersion(e){return w.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return w.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),w.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.bs&&(this.bs=t),w.resolve()}Dn(e){this.Rs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.vs=new fc(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,t){return this.Dn(t),this.targetCount+=1,w.resolve()}updateTargetData(e,t){return this.Dn(t),w.resolve()}removeTargetData(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,w.resolve()}removeTargets(e,t,s){let d=0;const m=[];return this.Rs.forEach((D,R)=>{R.sequenceNumber<=t&&null===s.get(R.targetId)&&(this.Rs.delete(D),m.push(this.removeMatchingKeysForTargetId(e,R.targetId)),d++)}),w.waitFor(m).next(()=>d)}getTargetCount(e){return w.resolve(this.targetCount)}getTargetData(e,t){const s=this.Rs.get(t)||null;return w.resolve(s)}addMatchingKeys(e,t,s){return this.Ps.us(t,s),w.resolve()}removeMatchingKeys(e,t,s){this.Ps.hs(t,s);const d=this.persistence.referenceDelegate,m=[];return d&&t.forEach(D=>{m.push(d.markPotentiallyOrphaned(e,D))}),w.waitFor(m)}removeMatchingKeysForTargetId(e,t){return this.Ps.ls(t),w.resolve()}getMatchingKeysForTargetId(e,t){const s=this.Ps.ds(t);return w.resolve(s)}containsKey(e,t){return w.resolve(this.Ps.containsKey(t))}}class Bl{constructor(e,t){this.Vs={},this.overlays={},this.Ss=new Jn(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new pl(this),this.indexManager=new Dm,this.remoteDocumentCache=new J_(s=>this.referenceDelegate.xs(s)),this.It=new Cf(t),this.Ns=new Cd(this.It)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new kf,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.Vs[e.toKey()];return s||(s=new pc(t,this.referenceDelegate),this.Vs[e.toKey()]=s),s}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,t,s){Kt("MemoryPersistence","Starting transaction:",e);const d=new Dd(this.Ss.next());return this.referenceDelegate.ks(),s(d).next(m=>this.referenceDelegate.Ms(d).next(()=>m)).toPromise().then(m=>(d.raiseOnCommittedEvent(),m))}Os(e,t){return w.or(Object.values(this.Vs).map(s=>()=>s.containsKey(e,t)))}}class Dd extends nc{constructor(e){super(),this.currentSequenceNumber=e}}class Hp{constructor(e){this.persistence=e,this.Fs=new xu,this.$s=null}static Bs(e){return new Hp(e)}get Ls(){if(this.$s)return this.$s;throw fn()}addReference(e,t,s){return this.Fs.addReference(s,t),this.Ls.delete(s.toString()),w.resolve()}removeReference(e,t,s){return this.Fs.removeReference(s,t),this.Ls.add(s.toString()),w.resolve()}markPotentiallyOrphaned(e,t){return this.Ls.add(t.toString()),w.resolve()}removeTarget(e,t){this.Fs.ls(t.targetId).forEach(d=>this.Ls.add(d.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(d=>{d.forEach(m=>this.Ls.add(m.toString()))}).next(()=>s.removeTargetData(e,t))}ks(){this.$s=new Set}Ms(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return w.forEach(this.Ls,s=>{const d=on.fromPath(s);return this.Us(e,d).next(m=>{m||t.removeEntry(d,rn.min())})}).next(()=>(this.$s=null,t.apply(e)))}updateLimboDocument(e,t){return this.Us(e,t).next(s=>{s?this.Ls.delete(t.toString()):this.Ls.add(t.toString())})}xs(e){return 0}Us(e,t){return w.or([()=>w.resolve(this.Fs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Os(e,t)])}}class Lf{constructor(e){this.It=e}$(e,t,s,d){const m=new O("createOrUpgrade",t);var R;s<1&&d>=1&&(e.createObjectStore("owner"),(R=e).createObjectStore("mutationQueues",{keyPath:"userId"}),R.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",vf,{unique:!0}),R.createObjectStore("documentMutations"),Wp(e),function(R){R.createObjectStore("remoteDocuments")}(e));let D=w.resolve();return s<3&&d>=3&&(0!==s&&(function(R){R.deleteObjectStore("targetDocuments"),R.deleteObjectStore("targets"),R.deleteObjectStore("targetGlobal")}(e),Wp(e)),D=D.next(()=>function(R){const K=R.store("targetGlobal"),Q={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:rn.min().toTimestamp(),targetCount:0};return K.put("targetGlobalKey",Q)}(m))),s<4&&d>=4&&(0!==s&&(D=D.next(()=>function(R,K){return K.store("mutations").W().next(Q=>{R.deleteObjectStore("mutations"),R.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",vf,{unique:!0});const se=K.store("mutations"),xe=Q.map(nt=>se.put(nt));return w.waitFor(xe)})}(e,m))),D=D.next(()=>{!function(R){R.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),s<5&&d>=5&&(D=D.next(()=>this.qs(m))),s<6&&d>=6&&(D=D.next(()=>(function(R){R.createObjectStore("remoteDocumentGlobal")}(e),this.Ks(m)))),s<7&&d>=7&&(D=D.next(()=>this.Gs(m))),s<8&&d>=8&&(D=D.next(()=>this.Qs(e,m))),s<9&&d>=9&&(D=D.next(()=>{!function(R){R.objectStoreNames.contains("remoteDocumentChanges")&&R.deleteObjectStore("remoteDocumentChanges")}(e)})),s<10&&d>=10&&(D=D.next(()=>this.js(m))),s<11&&d>=11&&(D=D.next(()=>{(function(R){R.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(R){R.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),s<12&&d>=12&&(D=D.next(()=>{!function(R){const K=R.createObjectStore("documentOverlays",{keyPath:hc});K.createIndex("collectionPathOverlayIndex",Pp,{unique:!1}),K.createIndex("collectionGroupOverlayIndex",Hy,{unique:!1})}(e)})),s<13&&d>=13&&(D=D.next(()=>function(R){const K=R.createObjectStore("remoteDocumentsV14",{keyPath:xp});K.createIndex("documentKeyIndex",pm),K.createIndex("collectionGroupIndex",bf)}(e)).next(()=>this.Ws(e,m)).next(()=>e.deleteObjectStore("remoteDocuments"))),s<14&&d>=14&&(D=D.next(()=>this.zs(e,m))),s<15&&d>=15&&(D=D.next(()=>function(R){R.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),R.createObjectStore("indexState",{keyPath:K_}).createIndex("sequenceNumberIndex",mm,{unique:!1}),R.createObjectStore("indexEntries",{keyPath:ym}).createIndex("documentKeyIndex",vm,{unique:!1})}(e))),D}Ks(e){let t=0;return e.store("remoteDocuments").Z((s,d)=>{t+=fh(d)}).next(()=>{const s={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",s)})}qs(e){const t=e.store("mutationQueues"),s=e.store("mutations");return t.W().next(d=>w.forEach(d,m=>{const D=IDBKeyRange.bound([m.userId,-1],[m.userId,m.lastAcknowledgedBatchId]);return s.W("userMutationsIndex",D).next(R=>w.forEach(R,K=>{_n(K.userId===m.userId);const Q=Mu(this.It,K);return Af(e,m.userId,Q).next(()=>{})}))}))}Gs(e){const t=e.store("targetDocuments"),s=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(d=>{const m=[];return s.Z((D,R)=>{const K=new xr(D),Q=[0,$s(K)];m.push(t.get(Q).next(se=>se?w.resolve():t.put({targetId:0,path:$s(K),sequenceNumber:d.highestListenSequenceNumber})))}).next(()=>w.waitFor(m))})}Qs(e,t){e.createObjectStore("collectionParents",{keyPath:gm});const s=t.store("collectionParents"),d=new hh,m=D=>{if(d.add(D)){const R=D.lastSegment(),K=D.popLast();return s.put({collectionId:R,parent:$s(K)})}};return t.store("remoteDocuments").Z({X:!0},(D,R)=>{const K=new xr(D);return m(K.popLast())}).next(()=>t.store("documentMutations").Z({X:!0},([D,R,K],Q)=>{const se=hl(R);return m(se.popLast())}))}js(e){const t=e.store("targets");return t.Z((s,d)=>{const m=pd(d),D=z_(this.It,m);return t.put(D)})}Ws(e,t){const s=t.store("remoteDocuments"),d=[];return s.Z((m,D)=>{const R=t.store("remoteDocumentsV14"),K=(Q=D,Q.document?new on(xr.fromString(Q.document.name).popFirst(5)):Q.noDocument?on.fromSegments(Q.noDocument.path):Q.unknownDocument?on.fromSegments(Q.unknownDocument.path):fn()).path.toArray();var Q;const se={prefixPath:K.slice(0,K.length-2),collectionGroup:K[K.length-2],documentId:K[K.length-1],readTime:D.readTime||[0,0],unknownDocument:D.unknownDocument,noDocument:D.noDocument,document:D.document,hasCommittedMutations:!!D.hasCommittedMutations};d.push(R.put(se))}).next(()=>w.waitFor(d))}zs(e,t){const s=t.store("mutations"),d=bd(this.It),m=new Bl(Hp.Bs,this.It.re);return s.W().next(D=>{const R=new Map;return D.forEach(K=>{var Q;let se=null!==(Q=R.get(K.userId))&&void 0!==Q?Q:er();Mu(this.It,K).keys().forEach(xe=>se=se.add(xe)),R.set(K.userId,se)}),w.forEach(R,(K,Q)=>{const se=new ui(Q),xe=wf.oe(this.It,se),nt=m.getIndexManager(se),wt=ph.oe(se,this.It,nt,m.referenceDelegate);return new Rf(d,wt,xe,nt).recalculateAndSaveOverlaysForDocumentKeys(new ns(t,Jn.at),K).next()})})}}function Wp(i){i.createObjectStore("targetDocuments",{keyPath:_m}).createIndex("documentTargetsIndex",Op,{unique:!0}),i.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",lh,{unique:!0}),i.createObjectStore("targetGlobal")}const Ou="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class wd{constructor(e,t,s,d,m,D,R,K,Q,se,xe=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=s,this.Hs=m,this.window=D,this.document=R,this.Js=Q,this.Ys=se,this.Xs=xe,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=nt=>Promise.resolve(),!wd.C())throw new kt(dt.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new wm(this,d),this.ii=t+"main",this.It=new Cf(K),this.ri=new I(this.ii,this.Xs,new Lf(this.It)),this.Cs=new Bp(this.referenceDelegate,this.It),this.remoteDocumentCache=bd(this.It),this.Ns=new _d,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===se&&Gr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new kt(dt.FAILED_PRECONDITION,Ou);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Cs.getHighestSequenceNumber(e))}).then(e=>{this.Ss=new Jn(e,this.Js)}).then(()=>{this.Ds=!0}).catch(e=>(this.ri&&this.ri.close(),Promise.reject(e)))}li(e){var t=this;return this.si=function(){var s=(0,Re.Z)(function*(d){if(t.started)return e(d)});return function(d){return s.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ri.L(function(){var t=(0,Re.Z)(function*(s){null===s.newVersion&&(yield e())});return function(s){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget((0,Re.Z)(function*(){t.started&&(yield t.ui())})))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Ls(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(t=>{t||(this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)))})}).next(()=>this.di(e)).next(t=>this.isPrimary&&!t?this._i(e).next(()=>!1):!!t&&this.wi(e).next(()=>!0))).catch(e=>{if(J(e))return Kt("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Kt("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Hs.enqueueRetryable(()=>this.si(e)),this.isPrimary=e})}fi(e){return vh(e).get("owner").next(t=>w.resolve(this.mi(t)))}gi(e){return Ls(e).delete(this.clientId)}yi(){var e=this;return(0,Re.Z)(function*(){if(e.isPrimary&&!e.pi(e.ni,18e5)){e.ni=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",s=>{const d=Oo(s,"clientMetadata");return d.W().next(m=>{const D=e.Ii(m,18e5),R=m.filter(K=>-1===D.indexOf(K));return w.forEach(R,K=>d.delete(K.clientId)).next(()=>R)})}).catch(()=>[]);if(e.oi)for(const s of t)e.oi.removeItem(e.Ti(s.clientId))}})()}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ui().then(()=>this.yi()).then(()=>this.hi()))}mi(e){return!!e&&e.ownerId===this.clientId}di(e){return this.Ys?w.resolve(!0):vh(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)){if(this.mi(t)&&this.networkEnabled)return!0;if(!this.mi(t)){if(!t.allowTabSynchronization)throw new kt(dt.FAILED_PRECONDITION,Ou);return!1}}return!(!this.networkEnabled||!this.inForeground)||Ls(e).W().next(s=>void 0===this.Ii(s,5e3).find(d=>{if(this.clientId!==d.clientId){const D=!this.inForeground&&d.inForeground,R=this.networkEnabled===d.networkEnabled;if(!this.networkEnabled&&d.networkEnabled||D&&R)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Kt("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,Re.Z)(function*(){e.Ds=!1,e.Ai(),e.ei&&(e.ei.cancel(),e.ei=null),e.Ri(),e.bi(),yield e.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const s=new ns(t,Jn.at);return e._i(s).next(()=>e.gi(s))}),e.ri.close(),e.Pi()})()}Ii(e,t){return e.filter(s=>this.pi(s.updateTimeMs,t)&&!this.Ei(s.clientId))}vi(){return this.runTransaction("getActiveClients","readonly",e=>Ls(e).W().next(t=>this.Ii(t,18e5).map(s=>s.clientId)))}get started(){return this.Ds}getMutationQueue(e,t){return ph.oe(e,this.It,t,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Tf(e,this.It.re.databaseId)}getDocumentOverlayCache(e){return wf.oe(this.It,e)}getBundleCache(){return this.Ns}runTransaction(e,t,s){Kt("IndexedDbPersistence","Starting transaction:",e);const d="readonly"===t?"readonly":"readwrite",m=15===(D=this.Xs)?Wy:14===D?kp:13===D?Rp:12===D?bm:11===D?$_:void fn();var D;let R;return this.ri.runTransaction(e,d,m,K=>(R=new ns(K,this.Ss?this.Ss.next():Jn.at),"readwrite-primary"===t?this.fi(R).next(Q=>!!Q||this.di(R)).next(Q=>{if(!Q)throw Gr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)),new kt(dt.FAILED_PRECONDITION,co);return s(R)}).next(Q=>this.wi(R).next(()=>Q)):this.Vi(R).next(()=>s(R)))).then(K=>(R.raiseOnCommittedEvent(),K))}Vi(e){return vh(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)&&!this.mi(t)&&!(this.Ys||this.allowTabSynchronization&&t.allowTabSynchronization))throw new kt(dt.FAILED_PRECONDITION,Ou)})}wi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return vh(e).put("owner",t)}static C(){return I.C()}_i(e){const t=vh(e);return t.get("owner").next(s=>this.mi(s)?(Kt("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):w.resolve())}pi(e,t){const s=Date.now();return!(e<s-t||e>s&&(Gr(`Detected an update time that is in the future: ${e} > ${s}`),1))}ci(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=()=>{this.Hs.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ui()))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=()=>{this.Ai(),(0,$e.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(e){var t;try{const s=null!==(null===(t=this.oi)||void 0===t?void 0:t.getItem(this.Ti(e)));return Kt("IndexedDbPersistence",`Client '${e}' ${s?"is":"is not"} zombied in LocalStorage`),s}catch(s){return Gr("IndexedDbPersistence","Failed to get zombied client id.",s),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(e){Gr("Failed to set zombie client id.",e)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch{}}Ti(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function vh(i){return Oo(i,"owner")}function Ls(i){return Oo(i,"clientMetadata")}function jp(i,e){let t=i.projectId;return i.isDefaultDatabase||(t+="."+i.database),"firestore/"+e+"/"+t+"/"}class Nf{constructor(e,t,s,d){this.targetId=e,this.fromCache=t,this.Si=s,this.Di=d}static Ci(e,t){let s=er(),d=er();for(const m of t.docChanges)switch(m.type){case 0:s=s.add(m.doc.key);break;case 1:d=d.add(m.doc.key)}return new Nf(e,t.fromCache,s,d)}}class tg{constructor(){this.xi=!1}initialize(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}getDocumentsMatchingQuery(e,t,s,d){return this.ki(e,t).next(m=>m||this.Mi(e,t,d,s)).next(m=>m||this.Oi(e,t))}ki(e,t){if(sc(t))return w.resolve(null);let s=ys(t);return this.indexManager.getIndexType(e,s).next(d=>0===d?null:(null!==t.limit&&1===d&&(t=qd(t,null,"F"),s=ys(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next(m=>{const D=er(...m);return this.Ni.getDocuments(e,D).next(R=>this.indexManager.getMinOffset(e,s).next(K=>{const Q=this.Fi(t,R);return this.$i(t,Q,D,K.readTime)?this.ki(e,qd(t,null,"F")):this.Bi(e,Q,t,K)}))})))}Mi(e,t,s,d){return sc(t)||d.isEqual(rn.min())?this.Oi(e,t):this.Ni.getDocuments(e,s).next(m=>{const D=this.Fi(t,m);return this.$i(t,D,s,d)?this.Oi(e,t):(ps()<=Me.in.DEBUG&&Kt("QueryEngine","Re-using previous result from %s to execute query: %s",d.toString(),Yd(t)),this.Bi(e,D,t,Ua(d,-1)))})}Fi(e,t){let s=new kr(Tl(e));return t.forEach((d,m)=>{Ml(e,m)&&(s=s.add(m))}),s}$i(e,t,s,d){if(null===e.limit)return!1;if(s.size!==t.size)return!0;const m="F"===e.limitType?t.last():t.first();return!!m&&(m.hasPendingWrites||m.version.compareTo(d)>0)}Oi(e,t){return ps()<=Me.in.DEBUG&&Kt("QueryEngine","Using full collection scan to execute query:",Yd(t)),this.Ni.getDocumentsMatchingQuery(e,t,_o.min())}Bi(e,t,s,d){return this.Ni.getDocumentsMatchingQuery(e,s,d).next(m=>(t.forEach(D=>{m=m.insert(D.key,D)}),m))}}class Ta{constructor(e,t,s,d){this.persistence=e,this.Li=t,this.It=d,this.Ui=new Fr(Hn),this.qi=new Sl(m=>xc(m),Wd),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(s)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Rf(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ui))}}function Kp(i,e,t,s){return new Ta(i,e,t,s)}function bh(i,e){return Pu.apply(this,arguments)}function Pu(){return Pu=(0,Re.Z)(function*(i,e){const t=qt(i);return yield t.persistence.runTransaction("Handle user change","readonly",s=>{let d;return t.mutationQueue.getAllMutationBatches(s).next(m=>(d=m,t.Qi(e),t.mutationQueue.getAllMutationBatches(s))).next(m=>{const D=[],R=[];let K=er();for(const Q of d){D.push(Q.batchId);for(const se of Q.mutations)K=K.add(se.key)}for(const Q of m){R.push(Q.batchId);for(const se of Q.mutations)K=K.add(se.key)}return t.localDocuments.getDocuments(s,K).next(Q=>({ji:Q,removedBatchIds:D,addedBatchIds:R}))})})}),Pu.apply(this,arguments)}function Mm(i,e){const t=qt(i);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const d=e.batch.keys(),m=t.Gi.newChangeBuffer({trackRemovals:!0});return function(D,R,K,Q){const se=K.batch,xe=se.keys();let nt=w.resolve();return xe.forEach(wt=>{nt=nt.next(()=>Q.getEntry(R,wt)).next(St=>{const yt=K.docVersions.get(wt);_n(null!==yt),St.version.compareTo(yt)<0&&(se.applyToRemoteDocument(St,K),St.isValidDocument()&&(St.setReadTime(K.commitVersion),Q.addEntry(St)))})}),nt.next(()=>D.mutationQueue.removeMutationBatch(R,se))}(t,s,e,m).next(()=>m.apply(s)).next(()=>t.mutationQueue.performConsistencyCheck(s)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(s,d,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(D){let R=er();for(let K=0;K<D.mutationResults.length;++K)D.mutationResults[K].transformResults.length>0&&(R=R.add(D.batch.mutations[K].key));return R}(e))).next(()=>t.localDocuments.getDocuments(s,d))})}function ng(i){const e=qt(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Cs.getLastRemoteSnapshotVersion(t))}function Tm(i,e){const t=qt(i),s=e.snapshotVersion;let d=t.Ui;return t.persistence.runTransaction("Apply remote event","readwrite-primary",m=>{const D=t.Gi.newChangeBuffer({trackRemovals:!0});d=t.Ui;const R=[];e.targetChanges.forEach((se,xe)=>{const nt=d.get(xe);if(!nt)return;R.push(t.Cs.removeMatchingKeys(m,se.removedDocuments,xe).next(()=>t.Cs.addMatchingKeys(m,se.addedDocuments,xe)));let wt=nt.withSequenceNumber(m.currentSequenceNumber);var St,yt,Ft;e.targetMismatches.has(xe)?wt=wt.withResumeToken(Li.EMPTY_BYTE_STRING,rn.min()).withLastLimboFreeSnapshotVersion(rn.min()):se.resumeToken.approximateByteSize()>0&&(wt=wt.withResumeToken(se.resumeToken,s)),d=d.insert(xe,wt),yt=wt,Ft=se,(0===(St=nt).resumeToken.approximateByteSize()||yt.snapshotVersion.toMicroseconds()-St.snapshotVersion.toMicroseconds()>=3e8||Ft.addedDocuments.size+Ft.modifiedDocuments.size+Ft.removedDocuments.size>0)&&R.push(t.Cs.updateTargetData(m,wt))});let K=Ps(),Q=er();if(e.documentUpdates.forEach(se=>{e.resolvedLimboDocuments.has(se)&&R.push(t.persistence.referenceDelegate.updateLimboDocument(m,se))}),R.push(cr(m,D,e.documentUpdates).next(se=>{K=se.Wi,Q=se.zi})),!s.isEqual(rn.min())){const se=t.Cs.getLastRemoteSnapshotVersion(m).next(xe=>t.Cs.setTargetsMetadata(m,m.currentSequenceNumber,s));R.push(se)}return w.waitFor(R).next(()=>D.apply(m)).next(()=>t.localDocuments.getLocalViewOfDocuments(m,K,Q)).next(()=>K)}).then(m=>(t.Ui=d,m))}function cr(i,e,t){let s=er(),d=er();return t.forEach(m=>s=s.add(m)),e.getEntries(i,s).next(m=>{let D=Ps();return t.forEach((R,K)=>{const Q=m.get(R);K.isFoundDocument()!==Q.isFoundDocument()&&(d=d.add(R)),K.isNoDocument()&&K.version.isEqual(rn.min())?(e.removeEntry(R,K.readTime),D=D.insert(R,K)):!Q.isValidDocument()||K.version.compareTo(Q.version)>0||0===K.version.compareTo(Q.version)&&Q.hasPendingWrites?(e.addEntry(K),D=D.insert(R,K)):Kt("LocalStore","Ignoring outdated watch update for ",R,". Current version:",Q.version," Watch version:",K.version)}),{Wi:D,zi:d}})}function Im(i,e){const t=qt(i);return t.persistence.runTransaction("Get next mutation batch","readonly",s=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function Ul(i,e){const t=qt(i);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let d;return t.Cs.getTargetData(s,e).next(m=>m?(d=m,w.resolve(d)):t.Cs.allocateTargetId(s).next(D=>(d=new za(e,D,0,s.currentSequenceNumber),t.Cs.addTargetData(s,d).next(()=>d))))}).then(s=>{const d=t.Ui.get(s.targetId);return(null===d||s.snapshotVersion.compareTo(d.snapshotVersion)>0)&&(t.Ui=t.Ui.insert(s.targetId,s),t.qi.set(e,s.targetId)),s})}function Ru(i,e,t){return $p.apply(this,arguments)}function $p(){return $p=(0,Re.Z)(function*(i,e,t){const s=qt(i),d=s.Ui.get(e),m=t?"readwrite":"readwrite-primary";try{t||(yield s.persistence.runTransaction("Release target",m,D=>s.persistence.referenceDelegate.removeTarget(D,d)))}catch(D){if(!J(D))throw D;Kt("LocalStore",`Failed to update sequence numbers for target ${e}: ${D}`)}s.Ui=s.Ui.remove(e),s.qi.delete(d.target)}),$p.apply(this,arguments)}function Ff(i,e,t){const s=qt(i);let d=rn.min(),m=er();return s.persistence.runTransaction("Execute query","readonly",D=>function(R,K,Q){const se=qt(R),xe=se.qi.get(Q);return void 0!==xe?w.resolve(se.Ui.get(xe)):se.Cs.getTargetData(K,Q)}(s,D,ys(e)).next(R=>{if(R)return d=R.lastLimboFreeSnapshotVersion,s.Cs.getMatchingKeysForTargetId(D,R.targetId).next(K=>{m=K})}).next(()=>s.Li.getDocumentsMatchingQuery(D,e,t?d:rn.min(),t?m:er())).next(R=>(Bf(s,uf(e),R),{documents:R,Hi:m})))}function Md(i,e){const t=qt(i),s=qt(t.Cs),d=t.Ui.get(e);return d?Promise.resolve(d.target):t.persistence.runTransaction("Get target data","readonly",m=>s.se(m,e).next(D=>D?D.target:null))}function Eh(i,e){const t=qt(i),s=t.Ki.get(e)||rn.min();return t.persistence.runTransaction("Get new document changes","readonly",d=>t.Gi.getAllFromCollectionGroup(d,e,Ua(s,-1),Number.MAX_SAFE_INTEGER)).then(d=>(Bf(t,e,d),d))}function Bf(i,e,t){let s=rn.min();t.forEach((d,m)=>{m.readTime.compareTo(s)>0&&(s=m.readTime)}),i.Ki.set(e,s)}function Zp(){return Zp=(0,Re.Z)(function*(i,e,t,s){const d=qt(i);let m=er(),D=Ps();for(const Q of t){const se=e.Ji(Q.metadata.name);Q.document&&(m=m.add(se));const xe=e.Yi(Q);xe.setReadTime(e.Xi(Q.metadata.readTime)),D=D.insert(se,xe)}const R=d.Gi.newChangeBuffer({trackRemovals:!0}),K=yield Ul(d,(Q=s,ys(ts(xr.fromString(`__bundle__/docs/${Q}`)))));var Q;return d.persistence.runTransaction("Apply bundle documents","readwrite",Q=>cr(Q,R,D).next(se=>(R.apply(Q),se)).next(se=>d.Cs.removeMatchingKeysForTargetId(Q,K.targetId).next(()=>d.Cs.addMatchingKeys(Q,m,K.targetId)).next(()=>d.localDocuments.getLocalViewOfDocuments(Q,se.Wi,se.zi)).next(()=>se.Wi)))}),Zp.apply(this,arguments)}function ig(i,e){return Ch.apply(this,arguments)}function Ch(){return Ch=(0,Re.Z)(function*(i,e,t=er()){const s=yield Ul(i,ys(Lp(e.bundledQuery))),d=qt(i);return d.persistence.runTransaction("Save named query","readwrite",m=>{const D=Fi(e.readTime);if(s.snapshotVersion.compareTo(D)>=0)return d.Ns.saveNamedQuery(m,e);const R=s.withResumeToken(Li.EMPTY_BYTE_STRING,D);return d.Ui=d.Ui.insert(R.targetId,R),d.Cs.updateTargetData(m,R).next(()=>d.Cs.removeMatchingKeysForTargetId(m,s.targetId)).next(()=>d.Cs.addMatchingKeys(m,t,s.targetId)).next(()=>d.Ns.saveNamedQuery(m,e))})}),Ch.apply(this,arguments)}function zp(i,e){return`firestore_clients_${i}_${e}`}function Yc(i,e,t){let s=`firestore_mutations_${i}_${t}`;return e.isAuthenticated()&&(s+=`_${e.uid}`),s}function Gp(i,e){return`firestore_targets_${i}_${e}`}class Td{constructor(e,t,s,d){this.user=e,this.batchId=t,this.state=s,this.error=d}static Zi(e,t,s){const d=JSON.parse(s);let m,D="object"==typeof d&&-1!==["pending","acknowledged","rejected"].indexOf(d.state)&&(void 0===d.error||"object"==typeof d.error);return D&&d.error&&(D="string"==typeof d.error.message&&"string"==typeof d.error.code,D&&(m=new kt(d.error.code,d.error.message))),D?new Td(e,t,d.state,m):(Gr("SharedClientState",`Failed to parse mutation state for ID '${t}': ${s}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class ku{constructor(e,t,s){this.targetId=e,this.state=t,this.error=s}static Zi(e,t){const s=JSON.parse(t);let d,m="object"==typeof s&&-1!==["not-current","current","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return m&&s.error&&(m="string"==typeof s.error.message&&"string"==typeof s.error.code,m&&(d=new kt(s.error.code,s.error.message))),m?new ku(e,s.state,d):(Gr("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Uf{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Zi(e,t){const s=JSON.parse(t);let d="object"==typeof s&&s.activeTargetIds instanceof Array,m=cc();for(let D=0;d&&D<s.activeTargetIds.length;++D)d=Ye(s.activeTargetIds[D]),m=m.add(s.activeTargetIds[D]);return d?new Uf(e,m):(Gr("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class Qc{constructor(e,t){this.clientId=e,this.onlineState=t}static Zi(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new Qc(t.clientId,t.onlineState):(Gr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Vf{constructor(){this.activeTargetIds=cc()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Hf{constructor(e,t,s,d,m){this.window=e,this.Hs=t,this.persistenceKey=s,this.sr=d,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new Fr(Hn),this.started=!1,this.cr=[];const D=s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=m,this.ar=zp(this.persistenceKey,this.sr),this.hr=`firestore_sequence_number_${this.persistenceKey}`,this.ur=this.ur.insert(this.sr,new Vf),this.lr=new RegExp(`^firestore_clients_${D}_([^_]*)$`),this.dr=new RegExp(`^firestore_mutations_${D}_(\\d+)(?:_(.*))?$`),this._r=new RegExp(`^firestore_targets_${D}_(\\d+)$`),this.wr=`firestore_online_state_${this.persistenceKey}`,this.mr=function(R){return`firestore_bundle_loaded_v2_${R}`}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}static C(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,Re.Z)(function*(){const t=yield e.syncEngine.vi();for(const d of t){if(d===e.sr)continue;const m=e.getItem(zp(e.persistenceKey,d));if(m){const D=Uf.Zi(d,m);D&&(e.ur=e.ur.insert(D.clientId,D))}}e.gr();const s=e.storage.getItem(e.wr);if(s){const d=e.yr(s);d&&e.pr(d)}for(const d of e.cr)e.rr(d);e.cr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.hr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ir(this.ur)}isActiveQueryTarget(e){let t=!1;return this.ur.forEach((s,d)=>{d.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Tr(e,"pending")}updateMutationState(e,t,s){this.Tr(e,t,s),this.Er(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const s=this.storage.getItem(Gp(this.persistenceKey,e));if(s){const d=ku.Zi(e,s);d&&(t=d.state)}}return this.Ar.er(e),this.gr(),t}removeLocalQueryTarget(e){this.Ar.nr(e),this.gr()}isLocalQueryTarget(e){return this.Ar.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Gp(this.persistenceKey,e))}updateQueryState(e,t,s){this.Rr(e,t,s)}handleUserChange(e,t,s){t.forEach(d=>{this.Er(d)}),this.currentUser=e,s.forEach(d=>{this.addPendingMutation(d)})}setOnlineState(e){this.br(e)}notifyBundleLoaded(e){this.Pr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Kt("SharedClientState","READ",e,t),t}setItem(e,t){Kt("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Kt("SharedClientState","REMOVE",e),this.storage.removeItem(e)}rr(e){var t=this;const s=e;if(s.storageArea===this.storage){if(Kt("SharedClientState","EVENT",s.key,s.newValue),s.key===this.ar)return void Gr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable((0,Re.Z)(function*(){if(t.started){if(null!==s.key)if(t.lr.test(s.key)){if(null==s.newValue){const d=t.vr(s.key);return t.Vr(d,null)}{const d=t.Sr(s.key,s.newValue);if(d)return t.Vr(d.clientId,d)}}else if(t.dr.test(s.key)){if(null!==s.newValue){const d=t.Dr(s.key,s.newValue);if(d)return t.Cr(d)}}else if(t._r.test(s.key)){if(null!==s.newValue){const d=t.Nr(s.key,s.newValue);if(d)return t.kr(d)}}else if(s.key===t.wr){if(null!==s.newValue){const d=t.yr(s.newValue);if(d)return t.pr(d)}}else if(s.key===t.hr){const d=function(m){let D=Jn.at;if(null!=m)try{const R=JSON.parse(m);_n("number"==typeof R),D=R}catch(R){Gr("SharedClientState","Failed to read sequence number from WebStorage",R)}return D}(s.newValue);d!==Jn.at&&t.sequenceNumberHandler(d)}else if(s.key===t.mr){const d=t.Mr(s.newValue);yield Promise.all(d.map(m=>t.syncEngine.Or(m)))}}else t.cr.push(s)}))}}get Ar(){return this.ur.get(this.sr)}gr(){this.setItem(this.ar,this.Ar.tr())}Tr(e,t,s){const d=new Td(this.currentUser,e,t,s),m=Yc(this.persistenceKey,this.currentUser,e);this.setItem(m,d.tr())}Er(e){const t=Yc(this.persistenceKey,this.currentUser,e);this.removeItem(t)}br(e){this.storage.setItem(this.wr,JSON.stringify({clientId:this.sr,onlineState:e}))}Rr(e,t,s){const d=Gp(this.persistenceKey,e),m=new ku(e,t,s);this.setItem(d,m.tr())}Pr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.mr,t)}vr(e){const t=this.lr.exec(e);return t?t[1]:null}Sr(e,t){const s=this.vr(e);return Uf.Zi(s,t)}Dr(e,t){const s=this.dr.exec(e),d=Number(s[1]);return Td.Zi(new ui(void 0!==s[2]?s[2]:null),d,t)}Nr(e,t){const s=this._r.exec(e),d=Number(s[1]);return ku.Zi(d,t)}yr(e){return Qc.Zi(e)}Mr(e){return JSON.parse(e)}Cr(e){var t=this;return(0,Re.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Fr(e.batchId,e.state,e.error);Kt("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}kr(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}Vr(e,t){const s=t?this.ur.insert(e,t):this.ur.remove(e),d=this.Ir(this.ur),m=this.Ir(s),D=[],R=[];return m.forEach(K=>{d.has(K)||D.push(K)}),d.forEach(K=>{m.has(K)||R.push(K)}),this.syncEngine.Br(D,R).then(()=>{this.ur=s})}pr(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ir(e){let t=cc();return e.forEach((s,d)=>{t=t.unionWith(d.activeTargetIds)}),t}}class Dh{constructor(){this.Lr=new Vf,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e){return this.Lr.er(e),this.Ur[e]||"not-current"}updateQueryState(e,t,s){this.Ur[e]=t}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.Ur[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new Vf,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class og{qr(e){}shutdown(){}}class Am{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}qr(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){Kt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){Kt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const Sm={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class Id{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class xm extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.oo=(e.ssl?"https":"http")+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}co(e,t,s,d,m){const D=this.ao(e,t);Kt("RestConnection","Sending: ",D,s);const R={};return this.ho(R,d,m),this.lo(e,D,R,s).then(K=>(Kt("RestConnection","Received: ",K),K),K=>{throw Hs("RestConnection",`${e} failed with error: `,K,"url: ",D,"request:",s),K})}fo(e,t,s,d,m,D){return this.co(e,t,s,d,m)}ho(e,t,s){e["X-Goog-Api-Client"]="gl-js/ fire/"+hs,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((d,m)=>e[m]=d),s&&s.headers.forEach((d,m)=>e[m]=d)}ao(e,t){return`${this.oo}/v1/${t}:${Sm[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}lo(e,t,s,d){return new Promise((m,D)=>{const R=new lo;R.listenOnce(tl.COMPLETE,()=>{try{switch(R.getLastErrorCode()){case As.NO_ERROR:const Q=R.getResponseJson();Kt("Connection","XHR received:",JSON.stringify(Q)),m(Q);break;case As.TIMEOUT:Kt("Connection",'RPC "'+e+'" timed out'),D(new kt(dt.DEADLINE_EXCEEDED,"Request time out"));break;case As.HTTP_ERROR:const se=R.getStatus();if(Kt("Connection",'RPC "'+e+'" failed with status:',se,"response text:",R.getResponseText()),se>0){const xe=R.getResponseJson().error;if(xe&&xe.status&&xe.message){const nt=function(wt){const St=wt.toLowerCase().replace(/_/g,"-");return Object.values(dt).indexOf(St)>=0?St:dt.UNKNOWN}(xe.status);D(new kt(nt,xe.message))}else D(new kt(dt.UNKNOWN,"Server responded with status "+R.getStatus()))}else D(new kt(dt.UNAVAILABLE,"Connection failed."));break;default:fn()}}finally{Kt("Connection",'RPC "'+e+'" completed.')}});const K=JSON.stringify(d);R.send(t,"POST",K,s,15)})}_o(e,t,s){const d=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],m=Is(),D=Na(),R={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(R.xmlHttpFactory=new Xl({})),this.ho(R.initMessageHeaders,t,s),(0,$e.uI)()||(0,$e.b$)()||(0,$e.d)()||(0,$e.w1)()||(0,$e.Mn)()||(0,$e.ru)()||(R.httpHeadersOverwriteParam="$httpHeaders");const K=d.join("");Kt("Connection","Creating WebChannel: "+K,R);const Q=m.createWebChannel(K,R);let se=!1,xe=!1;const nt=new Id({Hr:St=>{xe?Kt("Connection","Not sending because WebChannel is closed:",St):(se||(Kt("Connection","Opening WebChannel transport."),Q.open(),se=!0),Kt("Connection","WebChannel sending:",St),Q.send(St))},Jr:()=>Q.close()}),wt=(St,yt,Ft)=>{St.listen(yt,en=>{try{Ft(en)}catch(Tn){setTimeout(()=>{throw Tn},0)}})};return wt(Q,ci.EventType.OPEN,()=>{xe||Kt("Connection","WebChannel transport opened.")}),wt(Q,ci.EventType.CLOSE,()=>{xe||(xe=!0,Kt("Connection","WebChannel transport closed"),nt.io())}),wt(Q,ci.EventType.ERROR,St=>{xe||(xe=!0,Hs("Connection","WebChannel transport errored:",St),nt.io(new kt(dt.UNAVAILABLE,"The operation could not be completed")))}),wt(Q,ci.EventType.MESSAGE,St=>{var yt;if(!xe){const Ft=St.data[0];_n(!!Ft);const en=Ft,Tn=en.error||(null===(yt=en[0])||void 0===yt?void 0:yt.error);if(Tn){Kt("Connection","WebChannel received error:",Tn);const tr=Tn.status;let ni=function(Or){const gr=uo[Or];if(void 0!==gr)return nh(gr)}(tr),ur=Tn.message;void 0===ni&&(ni=dt.INTERNAL,ur="Unknown error status: "+tr+" with message "+Tn.message),xe=!0,nt.io(new kt(ni,ur)),Q.close()}else Kt("Connection","WebChannel received:",Ft),nt.ro(Ft)}}),wt(D,Hd.STAT_EVENT,St=>{St.stat===Fa.PROXY?Kt("Connection","Detected buffering proxy"):St.stat===Fa.NOPROXY&&Kt("Connection","Detected no buffering proxy")}),setTimeout(()=>{nt.so()},0),nt}}function wh(){return typeof window<"u"?window:null}function Lu(){return typeof document<"u"?document:null}function Xc(i){return new _f(i,!0)}class Ad{constructor(e,t,s=1e3,d=1.5,m=6e4){this.Hs=e,this.timerId=t,this.wo=s,this.mo=d,this.yo=m,this.po=0,this.Io=null,this.To=Date.now(),this.reset()}reset(){this.po=0}Eo(){this.po=this.yo}Ao(e){this.cancel();const t=Math.floor(this.po+this.Ro()),s=Math.max(0,Date.now()-this.To),d=Math.max(0,t-s);d>0&&Kt("ExponentialBackoff",`Backing off for ${d} ms (base delay: ${this.po} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.Io=this.Hs.enqueueAfterDelay(this.timerId,d,()=>(this.To=Date.now(),e())),this.po*=this.mo,this.po<this.wo&&(this.po=this.wo),this.po>this.yo&&(this.po=this.yo)}bo(){null!==this.Io&&(this.Io.skipDelay(),this.Io=null)}cancel(){null!==this.Io&&(this.Io.cancel(),this.Io=null)}Ro(){return(Math.random()-.5)*this.po}}class Mh{constructor(e,t,s,d,m,D,R,K){this.Hs=e,this.Po=s,this.vo=d,this.Vo=m,this.authCredentialsProvider=D,this.appCheckCredentialsProvider=R,this.listener=K,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new Ad(e,t)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Mo()}stop(){var e=this;return(0,Re.Z)(function*(){e.No()&&(yield e.close(0))})()}Oo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.Po,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}$o(){var e=this;return(0,Re.Z)(function*(){if(e.ko())return e.close(0)})()}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}close(e,t){var s=this;return(0,Re.Z)(function*(){s.Lo(),s.Uo(),s.xo.cancel(),s.So++,4!==e?s.xo.reset():t&&t.code===dt.RESOURCE_EXHAUSTED?(Gr(t.toString()),Gr("Using maximum backoff delay to prevent overloading the backend."),s.xo.Eo()):t&&t.code===dt.UNAUTHENTICATED&&3!==s.state&&(s.authCredentialsProvider.invalidateToken(),s.appCheckCredentialsProvider.invalidateToken()),null!==s.stream&&(s.qo(),s.stream.close(),s.stream=null),s.state=e,yield s.listener.Zr(t)})()}qo(){}auth(){this.state=1;const e=this.Ko(this.So),t=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,d])=>{this.So===t&&this.Go(s,d)},s=>{e(()=>{const d=new kt(dt.UNKNOWN,"Fetching auth token failed: "+s.message);return this.Qo(d)})})}Go(e,t){const s=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr(()=>{s(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(d=>{s(()=>this.Qo(d))}),this.stream.onMessage(d=>{s(()=>this.onMessage(d))})}Mo(){var e=this;this.state=5,this.xo.Ao((0,Re.Z)(function*(){e.state=0,e.start()}))}Qo(e){return Kt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return t=>{this.Hs.enqueueAndForget(()=>this.So===e?t():(Kt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Om extends Mh{constructor(e,t,s,d,m,D){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,d,D),this.It=m}jo(e,t){return this.Vo._o("Listen",e,t)}onMessage(e){this.xo.reset();const t=function vn(i,e){let t;if("targetChange"in e){const s="NO_CHANGE"===(K=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===K?1:"REMOVE"===K?2:"CURRENT"===K?3:"RESET"===K?4:fn(),d=e.targetChange.targetIds||[],m=function(K,Q){return K.gt?(_n(void 0===Q||"string"==typeof Q),Li.fromBase64String(Q||"")):(_n(void 0===Q||Q instanceof Uint8Array),Li.fromUint8Array(Q||new Uint8Array))}(i,e.targetChange.resumeToken),D=e.targetChange.cause,R=D&&function(K){const Q=void 0===K.code?dt.UNKNOWN:nh(K.code);return new kt(Q,K.message||"")}(D);t=new no(s,d,m,R||null)}else if("documentChange"in e){const s=e.documentChange,d=g(i,s.document.name),m=Fi(s.document.updateTime),D=new xo({mapValue:{fields:s.document.fields}}),R=qr.newFoundDocument(d,m,D);t=new Vc(s.targetIds||[],s.removedTargetIds||[],R.key,R)}else if("documentDelete"in e){const s=e.documentDelete,d=g(i,s.document),m=s.readTime?Fi(s.readTime):rn.min(),D=qr.newNoDocument(d,m);t=new Vc([],s.removedTargetIds||[],D.key,D)}else if("documentRemove"in e){const s=e.documentRemove,d=g(i,s.document);t=new Vc([],s.removedTargetIds||[],d,null)}else{if(!("filter"in e))return fn();{const s=e.filter,m=new V_(s.count||0);t=new uc(s.targetId,m)}}var K;return t}(this.It,e),s=function(d){if(!("targetChange"in d))return rn.min();const m=d.targetChange;return m.targetIds&&m.targetIds.length?rn.min():m.readTime?Fi(m.readTime):rn.min()}(e);return this.listener.Wo(t,s)}zo(e){const t={};t.database=G(this.It),t.addTarget=function(d,m){let D;const R=m.target;return D=Oc(R)?{documents:ha(d,R)}:{query:Wc(d,R)},D.targetId=m.targetId,m.resumeToken.approximateByteSize()>0?D.resumeToken=vu(d,m.resumeToken):m.snapshotVersion.compareTo(rn.min())>0&&(D.readTime=Hc(d,m.snapshotVersion.toTimestamp())),D}(this.It,e);const s=function jc(i,e){const t=function(s,d){switch(d){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return fn()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);s&&(t.labels=s),this.Bo(t)}Ho(e){const t={};t.database=G(this.It),t.removeTarget=e,this.Bo(t)}}class sg extends Mh{constructor(e,t,s,d,m,D){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,d,D),this.It=m,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}qo(){this.Jo&&this.Xo([])}jo(e,t){return this.Vo._o("Write",e,t)}onMessage(e){if(_n(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const t=function mo(i,e){return i&&i.length>0?(_n(void 0!==e),i.map(t=>function(s,d){let m=Fi(s.updateTime?s.updateTime:d);return m.isEqual(rn.min())&&(m=Fi(d)),new U_(m,s.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),s=Fi(e.commitTime);return this.listener.Zo(s,t)}return _n(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=G(this.It),this.Bo(e)}Xo(e){const t={streamToken:this.lastStreamToken,writes:e.map(s=>Ln(this.It,s))};this.Bo(t)}}class Pm extends class{}{constructor(e,t,s,d){super(),this.authCredentials=e,this.appCheckCredentials=t,this.Vo=s,this.It=d,this.nu=!1}su(){if(this.nu)throw new kt(dt.FAILED_PRECONDITION,"The client has already been terminated.")}co(e,t,s){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,m])=>this.Vo.co(e,t,s,d,m)).catch(d=>{throw"FirebaseError"===d.name?(d.code===dt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new kt(dt.UNKNOWN,d.toString())})}fo(e,t,s,d){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([m,D])=>this.Vo.fo(e,t,s,m,D,d)).catch(m=>{throw"FirebaseError"===m.name?(m.code===dt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),m):new kt(dt.UNKNOWN,m.toString())})}terminate(){this.nu=!0}}class Ky{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(Gr(t),this.ou=!1):Kt("OnlineStateTracker",t)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class Wf{constructor(e,t,s,d,m){var D=this;this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=m,this.mu.qr(R=>{s.enqueueAndForget((0,Re.Z)(function*(){var K;_c(D)&&(Kt("RemoteStore","Restarting streams for network reachability change."),yield(K=(0,Re.Z)(function*(Q){const se=qt(Q);se._u.add(4),yield Nu(se),se.gu.set("Unknown"),se._u.delete(4),yield jf(se)}),function(Q){return K.apply(this,arguments)})(D))}))}),this.gu=new Ky(s,d)}}function jf(i){return Kf.apply(this,arguments)}function Kf(){return Kf=(0,Re.Z)(function*(i){if(_c(i))for(const e of i.wu)yield e(!0)}),Kf.apply(this,arguments)}function Nu(i){return Sd.apply(this,arguments)}function Sd(){return Sd=(0,Re.Z)(function*(i){for(const e of i.wu)yield e(!1)}),Sd.apply(this,arguments)}function Th(i,e){const t=qt(i);t.du.has(e.targetId)||(t.du.set(e.targetId,e),$f(t)?eu(t):bs(t).ko()&&ag(t,e))}function Jc(i,e){const t=qt(i),s=bs(t);t.du.delete(e),s.ko()&&Rm(t,e),0===t.du.size&&(s.ko()?s.Fo():_c(t)&&t.gu.set("Unknown"))}function ag(i,e){i.yu.Ot(e.targetId),bs(i).zo(e)}function Rm(i,e){i.yu.Ot(e),bs(i).Ho(e)}function eu(i){i.yu=new mu({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),se:e=>i.du.get(e)||null}),bs(i).start(),i.gu.uu()}function $f(i){return _c(i)&&!bs(i).No()&&i.du.size>0}function _c(i){return 0===qt(i)._u.size}function Ih(i){i.yu=void 0}function _l(i){return Ah.apply(this,arguments)}function Ah(){return Ah=(0,Re.Z)(function*(i){i.du.forEach((e,t)=>{ag(i,e)})}),Ah.apply(this,arguments)}function km(i,e){return Sh.apply(this,arguments)}function Sh(){return Sh=(0,Re.Z)(function*(i,e){Ih(i),$f(i)?(i.gu.hu(e),eu(i)):i.gu.set("Unknown")}),Sh.apply(this,arguments)}function Vl(i,e,t){return xh.apply(this,arguments)}function xh(){return xh=(0,Re.Z)(function*(i,e,t){if(i.gu.set("Online"),e instanceof no&&2===e.state&&e.cause)try{yield(s=(0,Re.Z)(function*(d,m){const D=m.cause;for(const R of m.targetIds)d.du.has(R)&&(yield d.remoteSyncer.rejectListen(R,D),d.du.delete(R),d.yu.removeTarget(R))}),function(d,m){return s.apply(this,arguments)})(i,e)}catch(s){Kt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),yield Fu(i,s)}else if(e instanceof Vc?i.yu.Gt(e):e instanceof uc?i.yu.Yt(e):i.yu.Wt(e),!t.isEqual(rn.min()))try{const s=yield ng(i.localStore);t.compareTo(s)>=0&&(yield function(d,m){const D=d.yu.te(m);return D.targetChanges.forEach((R,K)=>{if(R.resumeToken.approximateByteSize()>0){const Q=d.du.get(K);Q&&d.du.set(K,Q.withResumeToken(R.resumeToken,m))}}),D.targetMismatches.forEach(R=>{const K=d.du.get(R);if(!K)return;d.du.set(R,K.withResumeToken(Li.EMPTY_BYTE_STRING,K.snapshotVersion)),Rm(d,R);const Q=new za(K.target,R,1,K.sequenceNumber);ag(d,Q)}),d.remoteSyncer.applyRemoteEvent(D)}(i,t))}catch(s){Kt("RemoteStore","Failed to raise snapshot:",s),yield Fu(i,s)}var s}),xh.apply(this,arguments)}function Fu(i,e,t){return Oh.apply(this,arguments)}function Oh(){return Oh=(0,Re.Z)(function*(i,e,t){if(!J(e))throw e;i._u.add(1),yield Nu(i),i.gu.set("Offline"),t||(t=()=>ng(i.localStore)),i.asyncQueue.enqueueRetryable((0,Re.Z)(function*(){Kt("RemoteStore","Retrying IndexedDB access"),yield t(),i._u.delete(1),yield jf(i)}))}),Oh.apply(this,arguments)}function Lm(i,e){return e().catch(t=>Fu(i,t,e))}function Bu(i){return lg.apply(this,arguments)}function lg(){return lg=(0,Re.Z)(function*(i){const e=qt(i),t=Gs(e);let s=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;Ph(e);)try{const d=yield Im(e.localStore,s);if(null===d){0===e.fu.length&&t.Fo();break}s=d.batchId,Zf(e,d)}catch(d){yield Fu(e,d)}zs(e)&&xd(e)}),lg.apply(this,arguments)}function Ph(i){return _c(i)&&i.fu.length<10}function Zf(i,e){i.fu.push(e);const t=Gs(i);t.ko()&&t.Yo&&t.Xo(e.mutations)}function zs(i){return _c(i)&&!Gs(i).No()&&i.fu.length>0}function xd(i){Gs(i).start()}function Uu(i){return zf.apply(this,arguments)}function zf(){return zf=(0,Re.Z)(function*(i){Gs(i).eu()}),zf.apply(this,arguments)}function Nm(i){return qp.apply(this,arguments)}function qp(){return qp=(0,Re.Z)(function*(i){const e=Gs(i);for(const t of i.fu)e.Xo(t.mutations)}),qp.apply(this,arguments)}function Yp(i,e,t){return Qp.apply(this,arguments)}function Qp(){return Qp=(0,Re.Z)(function*(i,e,t){const s=i.fu.shift(),d=ch.from(s,e,t);yield Lm(i,()=>i.remoteSyncer.applySuccessfulWrite(d)),yield Bu(i)}),Qp.apply(this,arguments)}function cg(i,e){return Rh.apply(this,arguments)}function Rh(){return Rh=(0,Re.Z)(function*(i,e){var t;e&&Gs(i).Yo&&(yield(t=(0,Re.Z)(function*(s,d){if(_u(m=d.code)&&m!==dt.ABORTED){const D=s.fu.shift();Gs(s).Oo(),yield Lm(s,()=>s.remoteSyncer.rejectFailedWrite(D.batchId,d)),yield Bu(s)}var m}),function(s,d){return t.apply(this,arguments)})(i,e)),zs(i)&&xd(i)}),Rh.apply(this,arguments)}function ug(i,e){return Xp.apply(this,arguments)}function Xp(){return Xp=(0,Re.Z)(function*(i,e){const t=qt(i);t.asyncQueue.verifyOperationInProgress(),Kt("RemoteStore","RemoteStore received new credentials");const s=_c(t);t._u.add(3),yield Nu(t),s&&t.gu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t._u.delete(3),yield jf(t)}),Xp.apply(this,arguments)}function kh(i,e){return Lh.apply(this,arguments)}function Lh(){return Lh=(0,Re.Z)(function*(i,e){const t=qt(i);e?(t._u.delete(2),yield jf(t)):e||(t._u.add(2),yield Nu(t),t.gu.set("Unknown"))}),Lh.apply(this,arguments)}function bs(i){return i.pu||(i.pu=function(e,t,s){const d=qt(e);return d.su(),new Om(t,d.Vo,d.authCredentials,d.appCheckCredentials,d.It,s)}(i.datastore,i.asyncQueue,{Yr:_l.bind(null,i),Zr:km.bind(null,i),Wo:Vl.bind(null,i)}),i.wu.push(function(){var e=(0,Re.Z)(function*(t){t?(i.pu.Oo(),$f(i)?eu(i):i.gu.set("Unknown")):(yield i.pu.stop(),Ih(i))});return function(t){return e.apply(this,arguments)}}())),i.pu}function Gs(i){return i.Iu||(i.Iu=function(e,t,s){const d=qt(e);return d.su(),new sg(t,d.Vo,d.authCredentials,d.appCheckCredentials,d.It,s)}(i.datastore,i.asyncQueue,{Yr:Uu.bind(null,i),Zr:cg.bind(null,i),tu:Nm.bind(null,i),Zo:Yp.bind(null,i)}),i.wu.push(function(){var e=(0,Re.Z)(function*(t){t?(i.Iu.Oo(),yield Bu(i)):(yield i.Iu.stop(),i.fu.length>0&&(Kt("RemoteStore",`Stopping write stream with ${i.fu.length} pending writes`),i.fu=[]))});return function(t){return e.apply(this,arguments)}}())),i.Iu}class dg{constructor(e,t,s,d,m){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=d,this.removalCallback=m,this.deferred=new yi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(D=>{})}static createAndSchedule(e,t,s,d,m){const D=Date.now()+s,R=new dg(e,t,D,d,m);return R.start(s),R}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new kt(dt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Nh(i,e){if(Gr("AsyncQueue",`${e}: ${i}`),J(i))return new kt(dt.UNAVAILABLE,`${e}: ${i}`);throw i}class Od{constructor(e){this.comparator=e?(t,s)=>e(t,s)||on.comparator(t.key,s.key):(t,s)=>on.comparator(t.key,s.key),this.keyedMap=ja(),this.sortedSet=new Fr(this.comparator)}static emptySet(e){return new Od(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Od)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const d=t.getNext().key,m=s.getNext().key;if(!d.isEqual(m))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const s=new Od;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}class Fm{constructor(){this.Tu=new Fr(on.comparator)}track(e){const t=e.doc.key,s=this.Tu.get(t);s?0!==e.type&&3===s.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==s.type?this.Tu=this.Tu.insert(t,{type:s.type,doc:e.doc}):2===e.type&&2===s.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===s.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===s.type?this.Tu=this.Tu.remove(t):1===e.type&&2===s.type?this.Tu=this.Tu.insert(t,{type:1,doc:s.doc}):0===e.type&&1===s.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):fn():this.Tu=this.Tu.insert(t,e)}Eu(){const e=[];return this.Tu.inorderTraversal((t,s)=>{e.push(s)}),e}}class Pd{constructor(e,t,s,d,m,D,R,K){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=d,this.mutatedKeys=m,this.fromCache=D,this.syncStateChanged=R,this.excludesMetadataChanges=K}static fromInitialDocuments(e,t,s,d){const m=[];return t.forEach(D=>{m.push({type:0,doc:D})}),new Pd(e,t,Od.emptySet(t),m,s,d,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ma(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let d=0;d<t.length;d++)if(t[d].type!==s[d].type||!t[d].doc.isEqual(s[d].doc))return!1;return!0}}class Jp{constructor(){this.Au=void 0,this.listeners=[]}}class $y{constructor(){this.queries=new Sl(e=>cf(e),Ma),this.onlineState="Unknown",this.Ru=new Set}}function hg(i,e){return Gf.apply(this,arguments)}function Gf(){return Gf=(0,Re.Z)(function*(i,e){const t=qt(i),s=e.query;let d=!1,m=t.queries.get(s);if(m||(d=!0,m=new Jp),d)try{m.Au=yield t.onListen(s)}catch(D){const R=Nh(D,`Initialization of query '${Yd(e.query)}' failed`);return void e.onError(R)}t.queries.set(s,m),m.listeners.push(e),e.bu(t.onlineState),m.Au&&e.Pu(m.Au)&&qf(t)}),Gf.apply(this,arguments)}function fg(i,e){return gl.apply(this,arguments)}function gl(){return gl=(0,Re.Z)(function*(i,e){const t=qt(i),s=e.query;let d=!1;const m=t.queries.get(s);if(m){const D=m.listeners.indexOf(e);D>=0&&(m.listeners.splice(D,1),d=0===m.listeners.length)}if(d)return t.queries.delete(s),t.onUnlisten(s)}),gl.apply(this,arguments)}function e_(i,e){const t=qt(i);let s=!1;for(const d of e){const D=t.queries.get(d.query);if(D){for(const R of D.listeners)R.Pu(d)&&(s=!0);D.Au=d}}s&&qf(t)}function Bm(i,e,t){const s=qt(i),d=s.queries.get(e);if(d)for(const m of d.listeners)m.onError(t);s.queries.delete(e)}function qf(i){i.Ru.forEach(e=>{e.next()})}class Fh{constructor(e,t,s){this.query=e,this.vu=t,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=s||{}}Pu(e){if(!this.options.includeMetadataChanges){const s=[];for(const d of e.docChanges)3!==d.type&&s.push(d);e=new Pd(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),t=!0):this.Cu(e,this.onlineState)&&(this.xu(e),t=!0),this.Su=e,t}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}Cu(e,t){return!e.fromCache||!(this.options.Nu&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}Du(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}xu(e){e=Pd.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Vu=!0,this.vu.next(e)}}class t_{constructor(e,t){this.payload=e,this.byteLength=t}ku(){return"metadata"in this.payload}}class Vu{constructor(e){this.It=e}Ji(e){return g(this.It,e)}Yi(e){return e.metadata.exists?ft(this.It,e.document,!1):qr.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}Xi(e){return Fi(e)}}class pg{constructor(e,t,s){this.Mu=e,this.localStore=t,this.It=s,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=gc(e)}Ou(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;const s=xr.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(s.get(s.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Fu(e){const t=new Map,s=new Vu(this.It);for(const d of e)if(d.metadata.queries){const m=s.Ji(d.metadata.name);for(const D of d.metadata.queries){const R=(t.get(D)||er()).add(m);t.set(D,R)}}return t}complete(){var e=this;return(0,Re.Z)(function*(){const t=yield function rg(i,e,t,s){return Zp.apply(this,arguments)}(e.localStore,new Vu(e.It),e.documents,e.Mu.id),s=e.Fu(e.documents);for(const d of e.queries)yield ig(e.localStore,d,s.get(d.name));return e.progress.taskState="Success",{progress:e.progress,$u:e.collectionGroups,Bu:t}})()}}function gc(i){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:i.totalDocuments,totalBytes:i.totalBytes}}class Yf{constructor(e){this.key=e}}class _g{constructor(e){this.key=e}}class gg{constructor(e,t){this.query=e,this.Lu=t,this.Uu=null,this.current=!1,this.qu=er(),this.mutatedKeys=er(),this.Ku=Tl(e),this.Gu=new Od(this.Ku)}get Qu(){return this.Lu}ju(e,t){const s=t?t.Wu:new Fm,d=t?t.Gu:this.Gu;let m=t?t.mutatedKeys:this.mutatedKeys,D=d,R=!1;const K="F"===this.query.limitType&&d.size===this.query.limit?d.last():null,Q="L"===this.query.limitType&&d.size===this.query.limit?d.first():null;if(e.inorderTraversal((se,xe)=>{const nt=d.get(se),wt=Ml(this.query,xe)?xe:null,St=!!nt&&this.mutatedKeys.has(nt.key),yt=!!wt&&(wt.hasLocalMutations||this.mutatedKeys.has(wt.key)&&wt.hasCommittedMutations);let Ft=!1;nt&&wt?nt.data.isEqual(wt.data)?St!==yt&&(s.track({type:3,doc:wt}),Ft=!0):this.zu(nt,wt)||(s.track({type:2,doc:wt}),Ft=!0,(K&&this.Ku(wt,K)>0||Q&&this.Ku(wt,Q)<0)&&(R=!0)):!nt&&wt?(s.track({type:0,doc:wt}),Ft=!0):nt&&!wt&&(s.track({type:1,doc:nt}),Ft=!0,(K||Q)&&(R=!0)),Ft&&(wt?(D=D.add(wt),m=yt?m.add(se):m.delete(se)):(D=D.delete(se),m=m.delete(se)))}),null!==this.query.limit)for(;D.size>this.query.limit;){const se="F"===this.query.limitType?D.last():D.first();D=D.delete(se.key),m=m.delete(se.key),s.track({type:1,doc:se})}return{Gu:D,Wu:s,$i:R,mutatedKeys:m}}zu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s){const d=this.Gu;this.Gu=e.Gu,this.mutatedKeys=e.mutatedKeys;const m=e.Wu.Eu();m.sort((Q,se)=>function(xe,nt){const wt=St=>{switch(St){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return fn()}};return wt(xe)-wt(nt)}(Q.type,se.type)||this.Ku(Q.doc,se.doc)),this.Hu(s);const D=t?this.Ju():[],R=0===this.qu.size&&this.current?1:0,K=R!==this.Uu;return this.Uu=R,0!==m.length||K?{snapshot:new Pd(this.query,e.Gu,d,m,e.mutatedKeys,0===R,K,!1),Yu:D}:{Yu:D}}bu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Gu:this.Gu,Wu:new Fm,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Yu:[]}}Xu(e){return!this.Lu.has(e)&&!!this.Gu.has(e)&&!this.Gu.get(e).hasLocalMutations}Hu(e){e&&(e.addedDocuments.forEach(t=>this.Lu=this.Lu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Lu=this.Lu.delete(t)),this.current=e.current)}Ju(){if(!this.current)return[];const e=this.qu;this.qu=er(),this.Gu.forEach(s=>{this.Xu(s.key)&&(this.qu=this.qu.add(s.key))});const t=[];return e.forEach(s=>{this.qu.has(s)||t.push(new _g(s))}),this.qu.forEach(s=>{e.has(s)||t.push(new Yf(s))}),t}Zu(e){this.Lu=e.Hi,this.qu=er();const t=this.ju(e.documents);return this.applyChanges(t,!0)}tc(){return Pd.fromInitialDocuments(this.query,this.Gu,this.mutatedKeys,0===this.Uu)}}class mg{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class Um{constructor(e){this.key=e,this.ec=!1}}class Vm{constructor(e,t,s,d,m,D){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=d,this.currentUser=m,this.maxConcurrentLimboResolutions=D,this.nc={},this.sc=new Sl(R=>cf(R),Ma),this.ic=new Map,this.rc=new Set,this.oc=new Fr(on.comparator),this.uc=new Map,this.cc=new xu,this.ac={},this.hc=new Map,this.lc=fc.vn(),this.onlineState="Unknown",this.fc=void 0}get isPrimaryClient(){return!0===this.fc}}function Qf(i,e){return mc.apply(this,arguments)}function mc(){return mc=(0,Re.Z)(function*(i,e){const t=Ag(i);let s,d;const m=t.sc.get(e);if(m)s=m.targetId,t.sharedClientState.addLocalQueryTarget(s),d=m.view.tc();else{const D=yield Ul(t.localStore,ys(e));t.isPrimaryClient&&Th(t.remoteStore,D);const R=t.sharedClientState.addLocalQueryTarget(D.targetId);s=D.targetId,d=yield Hu(t,e,s,"current"===R)}return d}),mc.apply(this,arguments)}function Hu(i,e,t,s){return yc.apply(this,arguments)}function yc(){return yc=(0,Re.Z)(function*(i,e,t,s){i.dc=(se,xe,nt)=>{return(wt=(0,Re.Z)(function*(St,yt,Ft,en){let Tn=yt.view.ju(Ft);Tn.$i&&(Tn=yield Ff(St.localStore,yt.query,!1).then(({documents:ur})=>yt.view.ju(ur,Tn)));const tr=en&&en.targetChanges.get(yt.targetId),ni=yt.view.applyChanges(Tn,St.isPrimaryClient,tr);return Eg(St,yt.targetId,ni.Yu),ni.snapshot}),function(St,yt,Ft,en){return wt.apply(this,arguments)})(i,se,xe,nt);var wt};const d=yield Ff(i.localStore,e,!0),m=new gg(e,d.Hi),D=m.ju(d.documents),R=gu.createSynthesizedTargetChangeForCurrentChange(t,s&&"Offline"!==i.onlineState),K=m.applyChanges(D,i.isPrimaryClient,R);Eg(i,t,K.Yu);const Q=new mg(e,t,m);return i.sc.set(e,Q),i.ic.has(t)?i.ic.get(t).push(e):i.ic.set(t,[e]),K.snapshot}),yc.apply(this,arguments)}function Xf(i,e){return Rd.apply(this,arguments)}function Rd(){return Rd=(0,Re.Z)(function*(i,e){const t=qt(i),s=t.sc.get(e),d=t.ic.get(s.targetId);if(d.length>1)return t.ic.set(s.targetId,d.filter(m=>!Ma(m,e))),void t.sc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(s.targetId),t.sharedClientState.isActiveQueryTarget(s.targetId)||(yield Ru(t.localStore,s.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(s.targetId),Jc(t.remoteStore,s.targetId),is(t,s.targetId)}).catch(Ko))):(is(t,s.targetId),yield Ru(t.localStore,s.targetId,!0))}),Rd.apply(this,arguments)}function n_(){return n_=(0,Re.Z)(function*(i,e,t){const s=rp(i);try{const d=yield function(m,D){const R=qt(m),K=Nr.now(),Q=D.reduce((nt,wt)=>nt.add(wt.key),er());let se,xe;return R.persistence.runTransaction("Locally write mutations","readwrite",nt=>{let wt=Ps(),St=er();return R.Gi.getEntries(nt,Q).next(yt=>{wt=yt,wt.forEach((Ft,en)=>{en.isValidDocument()||(St=St.add(Ft))})}).next(()=>R.localDocuments.getOverlayedDocuments(nt,wt)).next(yt=>{se=yt;const Ft=[];for(const en of D){const Tn=Tp(en,se.get(en.key).overlayedDocument);null!=Tn&&Ft.push(new vs(en.key,Tn,Sc(Tn.value.mapValue),vi.exists(!0)))}return R.mutationQueue.addMutationBatch(nt,K,Ft,D)}).next(yt=>{xe=yt;const Ft=yt.applyToLocalDocumentSet(se,St);return R.documentOverlayCache.saveOverlays(nt,yt.batchId,Ft)})}).then(()=>({batchId:xe.batchId,changes:Bc(se)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(d.batchId),function(m,D,R){let K=m.ac[m.currentUser.toKey()];K||(K=new Fr(Hn)),K=K.insert(D,R),m.ac[m.currentUser.toKey()]=K}(s,d.batchId,t),yield Hl(s,d.changes),yield Bu(s.remoteStore)}catch(d){const m=Nh(d,"Failed to persist write");t.reject(m)}}),n_.apply(this,arguments)}function r_(i,e){return Jf.apply(this,arguments)}function Jf(){return Jf=(0,Re.Z)(function*(i,e){const t=qt(i);try{const s=yield Tm(t.localStore,e);e.targetChanges.forEach((d,m)=>{const D=t.uc.get(m);D&&(_n(d.addedDocuments.size+d.modifiedDocuments.size+d.removedDocuments.size<=1),d.addedDocuments.size>0?D.ec=!0:d.modifiedDocuments.size>0?_n(D.ec):d.removedDocuments.size>0&&(_n(D.ec),D.ec=!1))}),yield Hl(t,s,e)}catch(s){yield Ko(s)}}),Jf.apply(this,arguments)}function i_(i,e,t){const s=qt(i);if(s.isPrimaryClient&&0===t||!s.isPrimaryClient&&1===t){const d=[];s.sc.forEach((m,D)=>{const R=D.view.bu(e);R.snapshot&&d.push(R.snapshot)}),function(m,D){const R=qt(m);R.onlineState=D;let K=!1;R.queries.forEach((Q,se)=>{for(const xe of se.listeners)xe.bu(D)&&(K=!0)}),K&&qf(R)}(s.eventManager,e),d.length&&s.nc.Wo(d),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}function Hm(i,e,t){return ep.apply(this,arguments)}function ep(){return ep=(0,Re.Z)(function*(i,e,t){const s=qt(i);s.sharedClientState.updateQueryState(e,"rejected",t);const d=s.uc.get(e),m=d&&d.key;if(m){let D=new Fr(on.comparator);D=D.insert(m,qr.newNoDocument(m,rn.min()));const R=er().add(m),K=new xl(rn.min(),new Map,new kr(Hn),D,R);yield r_(s,K),s.oc=s.oc.remove(m),s.uc.delete(e),Cg(s)}else yield Ru(s.localStore,e,!1).then(()=>is(s,e,t)).catch(Ko)}),ep.apply(this,arguments)}function zy(i,e){return yg.apply(this,arguments)}function yg(){return yg=(0,Re.Z)(function*(i,e){const t=qt(i),s=e.batch.batchId;try{const d=yield Mm(t.localStore,e);vg(t,s,null),s_(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),yield Hl(t,d)}catch(d){yield Ko(d)}}),yg.apply(this,arguments)}function Wm(i,e,t){return tp.apply(this,arguments)}function tp(){return tp=(0,Re.Z)(function*(i,e,t){const s=qt(i);try{const d=yield function(m,D){const R=qt(m);return R.persistence.runTransaction("Reject batch","readwrite-primary",K=>{let Q;return R.mutationQueue.lookupMutationBatch(K,D).next(se=>(_n(null!==se),Q=se.keys(),R.mutationQueue.removeMutationBatch(K,se))).next(()=>R.mutationQueue.performConsistencyCheck(K)).next(()=>R.documentOverlayCache.removeOverlaysForBatchId(K,Q,D)).next(()=>R.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(K,Q)).next(()=>R.localDocuments.getDocuments(K,Q))})}(s.localStore,e);vg(s,e,t),s_(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),yield Hl(s,d)}catch(d){yield Ko(d)}}),tp.apply(this,arguments)}function o_(){return o_=(0,Re.Z)(function*(i,e){const t=qt(i);_c(t.remoteStore)||Kt("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const s=yield function(m){const D=qt(m);return D.persistence.runTransaction("Get highest unacknowledged batch id","readonly",R=>D.mutationQueue.getHighestUnacknowledgedBatchId(R))}(t.localStore);if(-1===s)return void e.resolve();const d=t.hc.get(s)||[];d.push(e),t.hc.set(s,d)}catch(s){const d=Nh(s,"Initialization of waitForPendingWrites() operation failed");e.reject(d)}}),o_.apply(this,arguments)}function s_(i,e){(i.hc.get(e)||[]).forEach(t=>{t.resolve()}),i.hc.delete(e)}function vg(i,e,t){const s=qt(i);let d=s.ac[s.currentUser.toKey()];if(d){const m=d.get(e);m&&(t?m.reject(t):m.resolve(),d=d.remove(e)),s.ac[s.currentUser.toKey()]=d}}function is(i,e,t=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.ic.get(e))i.sc.delete(s),t&&i.nc._c(s,t);i.ic.delete(e),i.isPrimaryClient&&i.cc.ls(e).forEach(s=>{i.cc.containsKey(s)||bg(i,s)})}function bg(i,e){i.rc.delete(e.path.canonicalString());const t=i.oc.get(e);null!==t&&(Jc(i.remoteStore,t),i.oc=i.oc.remove(e),i.uc.delete(t),Cg(i))}function Eg(i,e,t){for(const s of t)s instanceof Yf?(i.cc.addReference(s.key,e),Sv(i,s)):s instanceof _g?(Kt("SyncEngine","Document no longer in limbo: "+s.key),i.cc.removeReference(s.key,e),i.cc.containsKey(s.key)||bg(i,s.key)):fn()}function Sv(i,e){const t=e.key,s=t.path.canonicalString();i.oc.get(t)||i.rc.has(s)||(Kt("SyncEngine","New document in limbo: "+t),i.rc.add(s),Cg(i))}function Cg(i){for(;i.rc.size>0&&i.oc.size<i.maxConcurrentLimboResolutions;){const e=i.rc.values().next().value;i.rc.delete(e);const t=new on(xr.fromString(e)),s=i.lc.next();i.uc.set(s,new Um(t)),i.oc=i.oc.insert(t,s),Th(i.remoteStore,new za(ys(ts(t.path)),s,2,Jn.at))}}function Hl(i,e,t){return a_.apply(this,arguments)}function a_(){return a_=(0,Re.Z)(function*(i,e,t){const s=qt(i),d=[],m=[],D=[];var R;s.sc.isEmpty()||(s.sc.forEach((R,K)=>{D.push(s.dc(K,e,t).then(Q=>{if(Q){s.isPrimaryClient&&s.sharedClientState.updateQueryState(K.targetId,Q.fromCache?"not-current":"current"),d.push(Q);const se=Nf.Ci(K.targetId,Q);m.push(se)}}))}),yield Promise.all(D),s.nc.Wo(d),yield(R=(0,Re.Z)(function*(K,Q){const se=qt(K);try{yield se.persistence.runTransaction("notifyLocalViewChanges","readwrite",xe=>w.forEach(Q,nt=>w.forEach(nt.Si,wt=>se.persistence.referenceDelegate.addReference(xe,nt.targetId,wt)).next(()=>w.forEach(nt.Di,wt=>se.persistence.referenceDelegate.removeReference(xe,nt.targetId,wt)))))}catch(xe){if(!J(xe))throw xe;Kt("LocalStore","Failed to update sequence numbers: "+xe)}for(const xe of Q){const nt=xe.targetId;if(!xe.fromCache){const wt=se.Ui.get(nt),yt=wt.withLastLimboFreeSnapshotVersion(wt.snapshotVersion);se.Ui=se.Ui.insert(nt,yt)}}}),function(K,Q){return R.apply(this,arguments)})(s.localStore,m))}),a_.apply(this,arguments)}function qy(i,e){return Dg.apply(this,arguments)}function Dg(){return Dg=(0,Re.Z)(function*(i,e){const t=qt(i);if(!t.currentUser.isEqual(e)){Kt("SyncEngine","User change. New user:",e.toKey());const s=yield bh(t.localStore,e);t.currentUser=e,(d=t).hc.forEach(D=>{D.forEach(R=>{R.reject(new kt(dt.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),d.hc.clear(),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),yield Hl(t,s.ji)}var d}),Dg.apply(this,arguments)}function Yy(i,e){const t=qt(i),s=t.uc.get(e);if(s&&s.ec)return er().add(s.key);{let d=er();const m=t.ic.get(e);if(!m)return d;for(const D of m){const R=t.sc.get(D);d=d.unionWith(R.view.Qu)}return d}}function jm(i,e){return wg.apply(this,arguments)}function wg(){return wg=(0,Re.Z)(function*(i,e){const t=qt(i),s=yield Ff(t.localStore,e.query,!0),d=e.view.Zu(s);return t.isPrimaryClient&&Eg(t,e.targetId,d.Yu),d}),wg.apply(this,arguments)}function Km(i,e){return Mg.apply(this,arguments)}function Mg(){return Mg=(0,Re.Z)(function*(i,e){const t=qt(i);return Eh(t.localStore,e).then(s=>Hl(t,s))}),Mg.apply(this,arguments)}function Qy(i,e,t,s){return l_.apply(this,arguments)}function l_(){return l_=(0,Re.Z)(function*(i,e,t,s){const d=qt(i),m=yield function(D,R){const K=qt(D),Q=qt(K.mutationQueue);return K.persistence.runTransaction("Lookup mutation documents","readonly",se=>Q.Tn(se,R).next(xe=>xe?K.localDocuments.getDocuments(se,xe):w.resolve(null)))}(d.localStore,e);var R;null!==m?("pending"===t?yield Bu(d.remoteStore):"acknowledged"===t||"rejected"===t?(vg(d,e,s||null),s_(d,e),R=e,qt(qt(d.localStore).mutationQueue).An(R)):fn(),yield Hl(d,m)):Kt("SyncEngine","Cannot apply mutation batch with id: "+e)}),l_.apply(this,arguments)}function Tg(){return Tg=(0,Re.Z)(function*(i,e){const t=qt(i);if(Ag(t),rp(t),!0===e&&!0!==t.fc){const s=t.sharedClientState.getAllActiveQueryTargets(),d=yield Wl(t,s.toArray());t.fc=!0,yield kh(t.remoteStore,!0);for(const m of d)Th(t.remoteStore,m)}else if(!1===e&&!1!==t.fc){const s=[];let d=Promise.resolve();t.ic.forEach((m,D)=>{t.sharedClientState.isLocalQueryTarget(D)?s.push(D):d=d.then(()=>(is(t,D),Ru(t.localStore,D,!0))),Jc(t.remoteStore,D)}),yield d,yield Wl(t,s),function(m){const D=qt(m);D.uc.forEach((R,K)=>{Jc(D.remoteStore,K)}),D.cc.fs(),D.uc=new Map,D.oc=new Fr(on.comparator)}(t),t.fc=!1,yield kh(t.remoteStore,!1)}}),Tg.apply(this,arguments)}function Wl(i,e,t){return np.apply(this,arguments)}function np(){return np=(0,Re.Z)(function*(i,e,t){const s=qt(i),d=[],m=[];for(const D of e){let R;const K=s.ic.get(D);if(K&&0!==K.length){R=yield Ul(s.localStore,ys(K[0]));for(const Q of K){const se=s.sc.get(Q),xe=yield jm(s,se);xe.snapshot&&m.push(xe.snapshot)}}else{const Q=yield Md(s.localStore,D);R=yield Ul(s.localStore,Q),yield Hu(s,Zm(Q),D,!1)}d.push(R)}return s.nc.Wo(m),d}),np.apply(this,arguments)}function Zm(i){return zd(i.path,i.collectionGroup,i.orderBy,i.filters,i.limit,"F",i.startAt,i.endAt)}function Xy(i){const e=qt(i);return qt(qt(e.localStore).persistence).vi()}function xv(i,e,t,s){return c_.apply(this,arguments)}function c_(){return c_=(0,Re.Z)(function*(i,e,t,s){const d=qt(i);if(d.fc)return void Kt("SyncEngine","Ignoring unexpected query state notification.");const m=d.ic.get(e);if(m&&m.length>0)switch(t){case"current":case"not-current":{const D=yield Eh(d.localStore,uf(m[0])),R=xl.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield Hl(d,D,R);break}case"rejected":yield Ru(d.localStore,e,!0),is(d,e,s);break;default:fn()}}),c_.apply(this,arguments)}function Jy(i,e,t){return Ig.apply(this,arguments)}function Ig(){return Ig=(0,Re.Z)(function*(i,e,t){const s=Ag(i);if(s.fc){for(const d of e){if(s.ic.has(d)){Kt("SyncEngine","Adding an already active target "+d);continue}const m=yield Md(s.localStore,d),D=yield Ul(s.localStore,m);yield Hu(s,Zm(m),D.targetId,!1),Th(s.remoteStore,D)}for(const d of t)s.ic.has(d)&&(yield Ru(s.localStore,d,!1).then(()=>{Jc(s.remoteStore,d),is(s,d)}).catch(Ko))}}),Ig.apply(this,arguments)}function Ag(i){const e=qt(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=r_.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Yy.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Hm.bind(null,e),e.nc.Wo=e_.bind(null,e.eventManager),e.nc._c=Bm.bind(null,e.eventManager),e}function rp(i){const e=qt(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=zy.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Wm.bind(null,e),e}class zm{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,Re.Z)(function*(){t.It=Xc(e.databaseInfo.databaseId),t.sharedClientState=t.mc(e),t.persistence=t.gc(e),yield t.persistence.start(),t.localStore=t.yc(e),t.gcScheduler=t.Ic(e,t.localStore),t.indexBackfillerScheduler=t.Tc(e,t.localStore)})()}Ic(e,t){return null}Tc(e,t){return null}yc(e){return Kp(this.persistence,new tg,e.initialUser,this.It)}gc(e){return new Bl(Hp.Bs,this.It)}mc(e){return new Dh}terminate(){var e=this;return(0,Re.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class ip extends zm{constructor(e,t,s){super(),this.Ec=e,this.cacheSizeBytes=t,this.forceOwnership=s,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,s=this;return(0,Re.Z)(function*(){yield t().call(s,e),yield s.Ec.initialize(s,e),yield rp(s.Ec.syncEngine),yield Bu(s.Ec.remoteStore),yield s.persistence.li(()=>(s.gcScheduler&&!s.gcScheduler.started&&s.gcScheduler.start(),s.indexBackfillerScheduler&&!s.indexBackfillerScheduler.started&&s.indexBackfillerScheduler.start(),Promise.resolve()))})()}yc(e){return Kp(this.persistence,new tg,e.initialUser,this.It)}Ic(e,t){return new Up(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}Tc(e,t){const s=new yn(t,this.persistence);return new Xn(e.asyncQueue,s)}gc(e){const t=jp(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),s=void 0!==this.cacheSizeBytes?Zs.withCacheSize(this.cacheSizeBytes):Zs.DEFAULT;return new wd(this.synchronizeTabs,t,e.clientId,s,e.asyncQueue,wh(),Lu(),this.It,this.sharedClientState,!!this.forceOwnership)}mc(e){return new Dh}}class xg extends ip{constructor(e,t){super(e,t,!1),this.Ec=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,s=this;return(0,Re.Z)(function*(){yield t().call(s,e);const d=s.Ec.syncEngine;s.sharedClientState instanceof Hf&&(s.sharedClientState.syncEngine={Fr:Qy.bind(null,d),$r:xv.bind(null,d),Br:Jy.bind(null,d),vi:Xy.bind(null,d),Or:Km.bind(null,d)},yield s.sharedClientState.start()),yield s.persistence.li(function(){var m=(0,Re.Z)(function*(D){yield function $m(i,e){return Tg.apply(this,arguments)}(s.Ec.syncEngine,D),s.gcScheduler&&(D&&!s.gcScheduler.started?s.gcScheduler.start():D||s.gcScheduler.stop()),s.indexBackfillerScheduler&&(D&&!s.indexBackfillerScheduler.started?s.indexBackfillerScheduler.start():D||s.indexBackfillerScheduler.stop())});return function(D){return m.apply(this,arguments)}}())})()}mc(e){const t=wh();if(!Hf.C(t))throw new kt(dt.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const s=jp(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Hf(t,e.asyncQueue,s,e.clientId,e.initialUser)}}class Og{initialize(e,t){var s=this;return(0,Re.Z)(function*(){s.localStore||(s.localStore=e.localStore,s.sharedClientState=e.sharedClientState,s.datastore=s.createDatastore(t),s.remoteStore=s.createRemoteStore(t),s.eventManager=s.createEventManager(t),s.syncEngine=s.createSyncEngine(t,!e.synchronizeTabs),s.sharedClientState.onlineStateHandler=d=>i_(s.syncEngine,d,1),s.remoteStore.remoteSyncer.handleCredentialChange=qy.bind(null,s.syncEngine),yield kh(s.remoteStore,s.syncEngine.isPrimaryClient))})()}createEventManager(e){return new $y}createDatastore(e){const t=Xc(e.databaseInfo.databaseId),s=new xm(e.databaseInfo);return new Pm(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return t=this.localStore,s=this.datastore,d=e.asyncQueue,m=R=>i_(this.syncEngine,R,0),D=Am.C()?new Am:new og,new Wf(t,s,d,m,D);var t,s,d,m,D}createSyncEngine(e,t){return function(s,d,m,D,R,K,Q){const se=new Vm(s,d,m,D,R,K);return Q&&(se.fc=!0),se}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,Re.Z)(function*(t){const s=qt(t);Kt("RemoteStore","RemoteStore shutting down."),s._u.add(5),yield Nu(s),s.mu.shutdown(),s.gu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function u_(i,e=10240){let t=0;return{read:()=>(0,Re.Z)(function*(){if(t<i.byteLength){const s={value:i.slice(t,t+e),done:!1};return t+=e,s}return{done:!0}})(),cancel:()=>(0,Re.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class op{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ac(this.observer.next,e)}error(e){this.observer.error?this.Ac(this.observer.error,e):Gr("Uncaught Error in snapshot listener:",e)}Rc(){this.muted=!0}Ac(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class Ov{constructor(e,t){this.bc=e,this.It=t,this.metadata=new yi,this.buffer=new Uint8Array,this.Pc=new TextDecoder("utf-8"),this.vc().then(s=>{s&&s.ku()?this.metadata.resolve(s.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(s?.payload)}`))},s=>this.metadata.reject(s))}close(){return this.bc.cancel()}getMetadata(){var e=this;return(0,Re.Z)(function*(){return e.metadata.promise})()}wc(){var e=this;return(0,Re.Z)(function*(){return yield e.getMetadata(),e.vc()})()}vc(){var e=this;return(0,Re.Z)(function*(){const t=yield e.Vc();if(null===t)return null;const s=e.Pc.decode(t),d=Number(s);isNaN(d)&&e.Sc(`length string (${s}) is not valid number`);const m=yield e.Dc(d);return new t_(JSON.parse(m),t.length+d)})()}Cc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Vc(){var e=this;return(0,Re.Z)(function*(){for(;e.Cc()<0&&!(yield e.xc()););if(0===e.buffer.length)return null;const t=e.Cc();t<0&&e.Sc("Reached the end of bundle when a length string is expected.");const s=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),s})()}Dc(e){var t=this;return(0,Re.Z)(function*(){for(;t.buffer.length<e;)(yield t.xc())&&t.Sc("Reached the end of bundle when more is expected.");const s=t.Pc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),s})()}Sc(e){throw this.bc.cancel(),new Error(`Invalid bundle format: ${e}`)}xc(){var e=this;return(0,Re.Z)(function*(){const t=yield e.bc.read();if(!t.done){const s=new Uint8Array(e.buffer.length+t.value.length);s.set(e.buffer),s.set(t.value,e.buffer.length),e.buffer=s}return t.done})()}}class Pv{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,Re.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new kt(dt.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const s=yield(d=(0,Re.Z)(function*(m,D){const R=qt(m),K=G(R.It)+"/documents",Q={documents:D.map(wt=>M(R.It,wt))},se=yield R.fo("BatchGetDocuments",K,Q,D.length),xe=new Map;se.forEach(wt=>{const St=function Jt(i,e){return"found"in e?function(t,s){_n(!!s.found);const d=g(t,s.found.name),m=Fi(s.found.updateTime),D=new xo({mapValue:{fields:s.found.fields}});return qr.newFoundDocument(d,m,D)}(i,e):"missing"in e?function(t,s){_n(!!s.missing),_n(!!s.readTime);const d=g(t,s.missing),m=Fi(s.readTime);return qr.newNoDocument(d,m)}(i,e):fn()}(R.It,wt);xe.set(St.key.toString(),St)});const nt=[];return D.forEach(wt=>{const St=xe.get(wt.toString());_n(!!St),nt.push(St)}),nt}),function(m,D){return d.apply(this,arguments)})(t.datastore,e);var d;return s.forEach(d=>t.recordVersion(d)),s})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(s){this.lastWriteError=s}this.writtenDocs.add(e.toString())}delete(e){this.write(new Fc(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,Re.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var s;e.mutations.forEach(s=>{t.delete(s.key.toString())}),t.forEach((s,d)=>{const m=on.fromPath(d);e.mutations.push(new th(m,e.precondition(m)))}),yield(s=(0,Re.Z)(function*(d,m){const D=qt(d),R=G(D.It)+"/documents",K={writes:m.map(Q=>Ln(D.It,Q))};yield D.co("Commit",R,K)}),function(d,m){return s.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw fn();t=rn.min()}const s=this.readVersions.get(e.key.toString());if(s){if(!t.isEqual(s))throw new kt(dt.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(rn.min())?vi.exists(!1):vi.updateTime(t):vi.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(rn.min()))throw new kt(dt.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return vi.updateTime(t)}return vi.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class Pg{constructor(e,t,s,d,m){this.asyncQueue=e,this.datastore=t,this.options=s,this.updateFunction=d,this.deferred=m,this.Nc=s.maxAttempts,this.xo=new Ad(this.asyncQueue,"transaction_retry")}run(){this.Nc-=1,this.kc()}kc(){var e=this;this.xo.Ao((0,Re.Z)(function*(){const t=new Pv(e.datastore),s=e.Mc(t);s&&s.then(d=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(d)}).catch(m=>{e.Oc(m)}))}).catch(d=>{e.Oc(d)})}))}Mc(e){try{const t=this.updateFunction(e);return!X(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Oc(e){this.Nc>0&&this.Fc(e)?(this.Nc-=1,this.asyncQueue.enqueueAndForget(()=>(this.kc(),Promise.resolve()))):this.deferred.reject(e)}Fc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!_u(t)}return!1}}class Rv{constructor(e,t,s,d){var m=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=d,this.user=ui.UNAUTHENTICATED,this.clientId=_s.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(s,function(){var D=(0,Re.Z)(function*(R){Kt("FirestoreClient","Received user=",R.uid),yield m.authCredentialListener(R),m.user=R});return function(R){return D.apply(this,arguments)}}()),this.appCheckCredentials.start(s,D=>(Kt("FirestoreClient","Received new app check token=",D),this.appCheckCredentialListener(D,this.user)))}getConfiguration(){var e=this;return(0,Re.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new kt(dt.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new yi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Re.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(s){const d=Nh(s,"Failed to shutdown persistence");t.reject(d)}})),t.promise}}function Rg(i,e){return d_.apply(this,arguments)}function d_(){return d_=(0,Re.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress(),Kt("FirestoreClient","Initializing OfflineComponentProvider");const t=yield i.getConfiguration();yield e.initialize(t);let s=t.initialUser;i.setCredentialChangeListener(function(){var d=(0,Re.Z)(function*(m){s.isEqual(m)||(yield bh(e.localStore,m),s=m)});return function(m){return d.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i.offlineComponents=e}),d_.apply(this,arguments)}function h_(i,e){return sp.apply(this,arguments)}function sp(){return sp=(0,Re.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress();const t=yield Bh(i);Kt("FirestoreClient","Initializing OnlineComponentProvider");const s=yield i.getConfiguration();yield e.initialize(t,s),i.setCredentialChangeListener(d=>ug(e.remoteStore,d)),i.setAppCheckTokenChangeListener((d,m)=>ug(e.remoteStore,m)),i.onlineComponents=e}),sp.apply(this,arguments)}function Bh(i){return jl.apply(this,arguments)}function jl(){return jl=(0,Re.Z)(function*(i){return i.offlineComponents||(Kt("FirestoreClient","Using default OfflineComponentProvider"),yield Rg(i,new zm)),i.offlineComponents}),jl.apply(this,arguments)}function kd(i){return Uh.apply(this,arguments)}function Uh(){return Uh=(0,Re.Z)(function*(i){return i.onlineComponents||(Kt("FirestoreClient","Using default OnlineComponentProvider"),yield h_(i,new Og)),i.onlineComponents}),Uh.apply(this,arguments)}function Vh(i){return Bh(i).then(e=>e.persistence)}function ap(i){return Bh(i).then(e=>e.localStore)}function f_(i){return kd(i).then(e=>e.remoteStore)}function p_(i){return kd(i).then(e=>e.syncEngine)}function Hh(i){return kg.apply(this,arguments)}function kg(){return kg=(0,Re.Z)(function*(i){const e=yield kd(i),t=e.eventManager;return t.onListen=Qf.bind(null,e.syncEngine),t.onUnlisten=Xf.bind(null,e.syncEngine),t}),kg.apply(this,arguments)}function Gm(i,e,t={}){const s=new yi;return i.asyncQueue.enqueueAndForget((0,Re.Z)(function*(){return function(d,m,D,R,K){const Q=new op({next:xe=>{m.enqueueAndForget(()=>fg(d,se));const nt=xe.docs.has(D);!nt&&xe.fromCache?K.reject(new kt(dt.UNAVAILABLE,"Failed to get document because the client is offline.")):nt&&xe.fromCache&&R&&"server"===R.source?K.reject(new kt(dt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):K.resolve(xe)},error:xe=>K.reject(xe)}),se=new Fh(ts(D.path),Q,{includeMetadataChanges:!0,Nu:!0});return hg(d,se)}(yield Hh(i),i.asyncQueue,e,t,s)})),s.promise}function qm(i,e,t={}){const s=new yi;return i.asyncQueue.enqueueAndForget((0,Re.Z)(function*(){return function(d,m,D,R,K){const Q=new op({next:xe=>{m.enqueueAndForget(()=>fg(d,se)),xe.fromCache&&"server"===R.source?K.reject(new kt(dt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):K.resolve(xe)},error:xe=>K.reject(xe)}),se=new Fh(D,Q,{includeMetadataChanges:!0,Nu:!0});return hg(d,se)}(yield Hh(i),i.asyncQueue,e,t,s)})),s.promise}const __=new Map;function Lg(i,e,t){if(!t)throw new kt(dt.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function g_(i,e,t,s){if(!0===e&&!0===s)throw new kt(dt.INVALID_ARGUMENT,`${i} and ${t} cannot be used together.`)}function Qm(i){if(!on.isDocumentKey(i))throw new kt(dt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function Xm(i){if(on.isDocumentKey(i))throw new kt(dt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function m_(i){if(void 0===i)return"undefined";if(null===i)return"null";if("string"==typeof i)return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if("number"==typeof i||"boolean"==typeof i)return""+i;if("object"==typeof i){if(i instanceof Array)return"an array";{const e=(t=i).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof i?"a function":fn()}function $r(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new kt(dt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=m_(i);throw new kt(dt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return i}function Jm(i,e){if(e<=0)throw new kt(dt.INVALID_ARGUMENT,`Function ${i}() requires a positive number, but it was: ${e}.`)}class ey{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new kt(dt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new kt(dt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,g_("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Wu{constructor(e,t,s,d){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=d,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ey({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new kt(dt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new kt(dt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ey(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new Tc;switch(t.type){case"gapi":return new il(t.client,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new kt(dt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=__.get(e);t&&(Kt("ComponentProvider","Removing Datastore"),__.delete(e),t.terminate())}(this),Promise.resolve()}}class ro{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new vc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ro(this.firestore,e,this._key)}}class Go{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Go(this.firestore,e,this._query)}}class vc extends Go{constructor(e,t,s){super(e,t,ts(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ro(this.firestore,null,new on(e))}withConverter(e){return new vc(this.firestore,e,this._path)}}function ty(i,e,...t){if(i=(0,$e.m9)(i),Lg("collection","path",e),i instanceof Wu){const s=xr.fromString(e,...t);return Xm(s),new vc(i,null,s)}{if(!(i instanceof ro||i instanceof vc))throw new kt(dt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(xr.fromString(e,...t));return Xm(s),new vc(i.firestore,null,s)}}function y_(i,e,...t){if(i=(0,$e.m9)(i),1===arguments.length&&(e=_s.R()),Lg("doc","path",e),i instanceof Wu){const s=xr.fromString(e,...t);return Qm(s),new ro(i,null,new on(s))}{if(!(i instanceof ro||i instanceof vc))throw new kt(dt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(xr.fromString(e,...t));return Qm(s),new ro(i.firestore,i instanceof vc?i.converter:null,new on(s))}}function Kl(i,e){return i=(0,$e.m9)(i),e=(0,$e.m9)(e),(i instanceof ro||i instanceof vc)&&(e instanceof ro||e instanceof vc)&&i.firestore===e.firestore&&i.path===e.path&&i.converter===e.converter}function Wh(i,e){return i=(0,$e.m9)(i),e=(0,$e.m9)(e),i instanceof Go&&e instanceof Go&&i.firestore===e.firestore&&Ma(i._query,e._query)&&i.converter===e.converter}class qs{constructor(){this.$c=Promise.resolve(),this.Bc=[],this.Lc=!1,this.Uc=[],this.qc=null,this.Kc=!1,this.Gc=!1,this.Qc=[],this.xo=new Ad(this,"async_queue_retry"),this.jc=()=>{const t=Lu();t&&Kt("AsyncQueue","Visibility state changed to "+t.visibilityState),this.xo.bo()};const e=Lu();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.jc)}get isShuttingDown(){return this.Lc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Wc(),this.zc(e)}enterRestrictedMode(e){if(!this.Lc){this.Lc=!0,this.Gc=e||!1;const t=Lu();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.jc)}}enqueue(e){if(this.Wc(),this.Lc)return new Promise(()=>{});const t=new yi;return this.zc(()=>this.Lc&&this.Gc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Bc.push(e),this.Hc()))}Hc(){var e=this;return(0,Re.Z)(function*(){if(0!==e.Bc.length){try{yield e.Bc[0](),e.Bc.shift(),e.xo.reset()}catch(t){if(!J(t))throw t;Kt("AsyncQueue","Operation failed with retryable error: "+t)}e.Bc.length>0&&e.xo.Ao(()=>e.Hc())}})()}zc(e){const t=this.$c.then(()=>(this.Kc=!0,e().catch(s=>{throw this.qc=s,this.Kc=!1,Gr("INTERNAL UNHANDLED ERROR: ",function(m){let D=m.message||"";return m.stack&&(D=m.stack.includes(m.message)?m.stack:m.message+"\n"+m.stack),D}(s)),s}).then(s=>(this.Kc=!1,s))));return this.$c=t,t}enqueueAfterDelay(e,t,s){this.Wc(),this.Qc.indexOf(e)>-1&&(t=0);const d=dg.createAndSchedule(this,e,t,s,m=>this.Jc(m));return this.Uc.push(d),d}Wc(){this.qc&&fn()}verifyOperationInProgress(){}Yc(){var e=this;return(0,Re.Z)(function*(){let t;do{t=e.$c,yield t}while(t!==e.$c)})()}Xc(e){for(const t of this.Uc)if(t.timerId===e)return!0;return!1}Zc(e){return this.Yc().then(()=>{this.Uc.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this.Uc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Yc()})}ta(e){this.Qc.push(e)}Jc(e){const t=this.Uc.indexOf(e);this.Uc.splice(t,1)}}function tu(i){return function(e,t){if("object"!=typeof e||null===e)return!1;const s=e;for(const d of["next","error","complete"])if(d in s&&"function"==typeof s[d])return!0;return!1}(i)}class cp{constructor(){this._progressObserver={},this._taskCompletionResolver=new yi,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,s){this._progressObserver={next:e,error:t,complete:s}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class xi extends Wu{constructor(e,t,s,d){super(e,t,s,d),this.type="firestore",this._queue=new qs,this._persistenceKey=d?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||bc(this),this._firestoreClient.terminate()}}function Oi(i){return i._firestoreClient||bc(i),i._firestoreClient.verifyNotTerminated(),i._firestoreClient}function bc(i){var e;const t=i._freezeSettings(),s=(m=(null===(e=i._app)||void 0===e?void 0:e.options.appId)||"",new B(i._databaseId,m,i._persistenceKey,(R=t).host,R.ssl,R.experimentalForceLongPolling,R.experimentalAutoDetectLongPolling,R.useFetchStreams));var m,R;i._firestoreClient=new Rv(i._authCredentials,i._appCheckCredentials,i._queue,s)}function Ku(i,e,t){const s=new yi;return i.asyncQueue.enqueue((0,Re.Z)(function*(){try{yield Rg(i,t),yield h_(i,e),s.resolve()}catch(d){const m=d;if(!("FirebaseError"===(D=m).name?D.code===dt.FAILED_PRECONDITION||D.code===dt.UNIMPLEMENTED:!(typeof DOMException<"u"&&D instanceof DOMException)||22===D.code||20===D.code||11===D.code))throw m;Hs("Error enabling offline persistence. Falling back to persistence disabled: "+m),s.reject(m)}var D})).then(()=>s.promise)}function b_(i){if(i._initialized||i._terminated)throw new kt(dt.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class $l{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new kt(dt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Di(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class ml{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ml(Li.fromBase64String(e))}catch(t){throw new kt(dt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new ml(Li.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class nu{constructor(e){this._methodName=e}}class dp{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new kt(dt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new kt(dt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Hn(this._lat,e._lat)||Hn(this._long,e._long)}}const Ug=/^__.*__$/;class $u{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return null!==this.fieldMask?new vs(e,this.data,this.fieldMask,t,this.fieldTransforms):new da(e,this.data,t,this.fieldTransforms)}}class hp{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new vs(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function $h(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw fn()}}class Zh{constructor(e,t,s,d,m,D){this.settings=e,this.databaseId=t,this.It=s,this.ignoreUndefinedProperties=d,void 0===m&&this.ea(),this.fieldTransforms=m||[],this.fieldMask=D||[]}get path(){return this.settings.path}get na(){return this.settings.na}sa(e){return new Zh(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ia(e){var t;const s=null===(t=this.path)||void 0===t?void 0:t.child(e),d=this.sa({path:s,ra:!1});return d.oa(e),d}ua(e){var t;const s=null===(t=this.path)||void 0===t?void 0:t.child(e),d=this.sa({path:s,ra:!1});return d.ea(),d}ca(e){return this.sa({path:void 0,ra:!0})}aa(e){return T_(e,this.settings.methodName,this.settings.ha||!1,this.path,this.settings.la)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ea(){if(this.path)for(let e=0;e<this.path.length;e++)this.oa(this.path.get(e))}oa(e){if(0===e.length)throw this.aa("Document fields must not be empty");if($h(this.na)&&Ug.test(e))throw this.aa('Document fields cannot begin and end with "__"')}}class ov{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.It=s||Xc(e)}fa(e,t,s,d=!1){return new Zh({na:e,methodName:t,la:s,path:Di.emptyPath(),ra:!1,ha:d},this.databaseId,this.It,this.ignoreUndefinedProperties)}}function yl(i){const e=i._freezeSettings(),t=Xc(i._databaseId);return new ov(i._databaseId,!!e.ignoreUndefinedProperties,t)}function Zu(i,e,t,s,d,m={}){const D=i.fa(m.merge||m.mergeFields?2:0,e,t,d);w_("Data must be an object, but it was:",D,s);const R=D_(s,D);let K,Q;if(m.merge)K=new Zo(D.fieldMask),Q=D.fieldTransforms;else if(m.mergeFields){const se=[];for(const xe of m.mergeFields){const nt=M_(e,xe,t);if(!D.contains(nt))throw new kt(dt.INVALID_ARGUMENT,`Field '${nt}' is specified in your field mask but missing from your input data.`);jg(se,nt)||se.push(nt)}K=new Zo(se),Q=D.fieldTransforms.filter(xe=>K.covers(xe.field))}else K=null,Q=D.fieldTransforms;return new $u(new xo(R),K,Q)}class zu extends nu{_toFieldTransform(e){if(2!==e.na)throw e.aa(1===e.na?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof zu}}function Vg(i,e,t){return new Zh({na:3,la:e.settings.la,methodName:i._methodName,ra:t},e.databaseId,e.It,e.ignoreUndefinedProperties)}class ru extends nu{_toFieldTransform(e){return new ac(e.path,new cd)}isEqual(e){return e instanceof ru}}class E_ extends nu{constructor(e,t){super(e),this.da=t}_toFieldTransform(e){const t=Vg(this,e,!0),s=this.da.map(m=>Ec(m,t)),d=new Al(s);return new ac(e.path,d)}isEqual(e){return this===e}}class Hg extends nu{constructor(e,t){super(e),this.da=t}_toFieldTransform(e){const t=Vg(this,e,!0),s=this.da.map(m=>Ec(m,t)),d=new ul(s);return new ac(e.path,d)}isEqual(e){return this===e}}class iy extends nu{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=new fu(e.It,Qd(e.It,this._a));return new ac(e.path,t)}isEqual(e){return this===e}}function fp(i,e,t,s){const d=i.fa(1,e,t);w_("Data must be an object, but it was:",d,s);const m=[],D=xo.empty();$o(s,(K,Q)=>{const se=zh(e,K,t);Q=(0,$e.m9)(Q);const xe=d.ua(se);if(Q instanceof zu)m.push(se);else{const nt=Ec(Q,xe);null!=nt&&(m.push(se),D.set(se,nt))}});const R=new Zo(m);return new hp(D,R,d.fieldTransforms)}function pp(i,e,t,s,d,m){const D=i.fa(1,e,t),R=[M_(e,s,t)],K=[d];if(m.length%2!=0)throw new kt(dt.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let nt=0;nt<m.length;nt+=2)R.push(M_(e,m[nt])),K.push(m[nt+1]);const Q=[],se=xo.empty();for(let nt=R.length-1;nt>=0;--nt)if(!jg(Q,R[nt])){const wt=R[nt];let St=K[nt];St=(0,$e.m9)(St);const yt=D.ua(wt);if(St instanceof zu)Q.push(wt);else{const Ft=Ec(St,yt);null!=Ft&&(Q.push(wt),se.set(wt,Ft))}}const xe=new Zo(Q);return new hp(se,xe,D.fieldTransforms)}function C_(i,e,t,s=!1){return Ec(t,i.fa(s?4:3,e))}function Ec(i,e){if(oy(i=(0,$e.m9)(i)))return w_("Unsupported field value:",e,i),D_(i,e);if(i instanceof nu)return function(t,s){if(!$h(s.na))throw s.aa(`${t._methodName}() can only be used with update() and set()`);if(!s.path)throw s.aa(`${t._methodName}() is not currently supported inside arrays`);const d=t._toFieldTransform(s);d&&s.fieldTransforms.push(d)}(i,e),null;if(void 0===i&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.ra&&4!==e.na)throw e.aa("Nested arrays are not supported");return function(t,s){const d=[];let m=0;for(const D of t){let R=Ec(D,s.ca(m));null==R&&(R={nullValue:"NULL_VALUE"}),d.push(R),m++}return{arrayValue:{values:d}}}(i,e)}return function(t,s){if(null===(t=(0,$e.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Qd(s.It,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const d=Nr.fromDate(t);return{timestampValue:Hc(s.It,d)}}if(t instanceof Nr){const d=new Nr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Hc(s.It,d)}}if(t instanceof dp)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof ml)return{bytesValue:vu(s.It,t._byteString)};if(t instanceof ro){const d=s.databaseId,m=t.firestore._databaseId;if(!m.isEqual(d))throw s.aa(`Document reference is for database ${m.projectId}/${m.database} but should be for database ${d.projectId}/${d.database}`);return{referenceValue:oh(t.firestore._databaseId||s.databaseId,t._key.path)}}throw s.aa(`Unsupported field value: ${m_(t)}`)}(i,e)}function D_(i,e){const t={};return oa(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):$o(i,(s,d)=>{const m=Ec(d,e.ia(s));null!=m&&(t[s]=m)}),{mapValue:{fields:t}}}function oy(i){return!("object"!=typeof i||null===i||i instanceof Array||i instanceof Date||i instanceof Nr||i instanceof dp||i instanceof ml||i instanceof ro||i instanceof nu)}function w_(i,e,t){if(!oy(t)||"object"!=typeof(s=t)||null===s||Object.getPrototypeOf(s)!==Object.prototype&&null!==Object.getPrototypeOf(s)){const s=m_(t);throw e.aa("an object"===s?i+" a custom object":i+" "+s)}var s}function M_(i,e,t){if((e=(0,$e.m9)(e))instanceof $l)return e._internalPath;if("string"==typeof e)return zh(i,e);throw T_("Field path arguments must be of type string or ",i,!1,void 0,t)}const Wg=new RegExp("[~\\*/\\[\\]]");function zh(i,e,t){if(e.search(Wg)>=0)throw T_(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,t);try{return new $l(...e.split("."))._internalPath}catch{throw T_(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,t)}}function T_(i,e,t,s,d){const m=s&&!s.isEmpty(),D=void 0!==d;let R=`Function ${e}() called with invalid data`;t&&(R+=" (via `toFirestore()`)"),R+=". ";let K="";return(m||D)&&(K+=" (found",m&&(K+=` in field ${s}`),D&&(K+=` in document ${d}`),K+=")"),new kt(dt.INVALID_ARGUMENT,R+i+K)}function jg(i,e){return i.some(t=>t.isEqual(e))}class Gh{constructor(e,t,s,d,m){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=d,this._converter=m}get id(){return this._key.path.lastSegment()}get ref(){return new ro(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Kg(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(qh("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Kg extends Gh{data(){return super.data()}}function qh(i,e){return"string"==typeof e?zh(i,e):e instanceof $l?e._internalPath:e._delegate._internalPath}class Gu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Cc extends Gh{constructor(e,t,s,d,m,D){super(e,t,s,d,D),this._firestore=e,this._firestoreImpl=e,this.metadata=m}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Yh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(qh("DocumentSnapshot.get",e));if(null!==s)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}}class Yh extends Cc{data(e={}){return super.data(e)}}class iu{constructor(e,t,s,d){this._firestore=e,this._userDataWriter=t,this._snapshot=d,this.metadata=new Gu(d.hasPendingWrites,d.fromCache),this.query=s}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(s=>{e.call(t,new Yh(this._firestore,this._userDataWriter,s.key,s,new Gu(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new kt(dt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(s,d){if(s._snapshot.oldDocs.isEmpty()){let m=0;return s._snapshot.docChanges.map(D=>({type:"added",doc:new Yh(s._firestore,s._userDataWriter,D.doc.key,D.doc,new Gu(s._snapshot.mutatedKeys.has(D.doc.key),s._snapshot.fromCache),s.query.converter),oldIndex:-1,newIndex:m++}))}{let m=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(D=>d||3!==D.type).map(D=>{const R=new Yh(s._firestore,s._userDataWriter,D.doc.key,D.doc,new Gu(s._snapshot.mutatedKeys.has(D.doc.key),s._snapshot.fromCache),s.query.converter);let K=-1,Q=-1;return 0!==D.type&&(K=m.indexOf(D.doc.key),m=m.delete(D.doc.key)),1!==D.type&&(m=m.add(D.doc),Q=m.indexOf(D.doc.key)),{type:sy(D.type),doc:R,oldIndex:K,newIndex:Q}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function sy(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return fn()}}function _p(i,e){return i instanceof Cc&&e instanceof Cc?i._firestore===e._firestore&&i._key.isEqual(e._key)&&(null===i._document?null===e._document:i._document.isEqual(e._document))&&i._converter===e._converter:i instanceof iu&&e instanceof iu&&i._firestore===e._firestore&&Wh(i.query,e.query)&&i.metadata.isEqual(e.metadata)&&i._snapshot.isEqual(e._snapshot)}function $g(i){if("L"===i.limitType&&0===i.explicitOrderBy.length)throw new kt(dt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Qh{}function Bd(i,...e){for(const t of e)i=t._apply(i);return i}class sv extends Qh{constructor(e,t,s){super(),this.wa=e,this.ma=t,this.ga=s,this.type="where"}_apply(e){const t=yl(e.firestore),s=function(d,m,D,R,K,Q,se){let xe;if(K.isKeyField()){if("array-contains"===Q||"array-contains-any"===Q)throw new kt(dt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${Q}' queries on documentId().`);if("in"===Q||"not-in"===Q){qg(se,Q);const wt=[];for(const St of se)wt.push(hy(R,d,St));xe={arrayValue:{values:wt}}}else xe=hy(R,d,se)}else"in"!==Q&&"not-in"!==Q&&"array-contains-any"!==Q||qg(se,Q),xe=C_(D,"where",se,"in"===Q||"not-in"===Q);const nt=go.create(K,Q,xe);return function(wt,St){if(St.dt()){const Ft=ad(wt);if(null!==Ft&&!Ft.isEqual(St.field))throw new kt(dt.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${Ft.toString()}' and '${St.field.toString()}'`);const en=Gd(wt);null!==en&&fy(0,St.field,en)}const yt=function(Ft,en){for(const Tn of Ft.filters)if(en.indexOf(Tn.op)>=0)return Tn.op;return null}(wt,function(Ft){switch(Ft){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(St.op));if(null!==yt)throw new kt(dt.INVALID_ARGUMENT,yt===St.op?`Invalid query. You cannot use more than one '${St.op.toString()}' filter.`:`Invalid query. You cannot use '${St.op.toString()}' filters with '${yt.toString()}' filters.`)}(d,nt),nt}(e._query,0,t,e.firestore._databaseId,this.wa,this.ma,this.ga);return new Go(e.firestore,e.converter,function(d,m){const D=d.filters.concat([m]);return new Ha(d.path,d.collectionGroup,d.explicitOrderBy.slice(),D,d.limit,d.limitType,d.startAt,d.endAt)}(e._query,s))}}class Zg extends Qh{constructor(e,t){super(),this.wa=e,this.ya=t,this.type="orderBy"}_apply(e){const t=function(s,d,m){if(null!==s.startAt)throw new kt(dt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==s.endAt)throw new kt(dt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const D=new Os(d,m);return function(R,K){if(null===Gd(R)){const Q=ad(R);null!==Q&&fy(0,Q,K.field)}}(s,D),D}(e._query,this.wa,this.ya);return new Go(e.firestore,e.converter,function(s,d){const m=s.explicitOrderBy.concat([d]);return new Ha(s.path,s.collectionGroup,m,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,t))}}class Po extends Qh{constructor(e,t,s){super(),this.type=e,this.pa=t,this.Ia=s}_apply(e){return new Go(e.firestore,e.converter,qd(e._query,this.pa,this.Ia))}}class cy extends Qh{constructor(e,t,s){super(),this.type=e,this.Ta=t,this.Ea=s}_apply(e){const t=dy(e,this.type,this.Ta,this.Ea);return new Go(e.firestore,e.converter,(d=t,new Ha((s=e._query).path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,d,s.endAt)));var s,d}}class zg extends Qh{constructor(e,t,s){super(),this.type=e,this.Ta=t,this.Ea=s}_apply(e){const t=dy(e,this.type,this.Ta,this.Ea);return new Go(e.firestore,e.converter,(d=t,new Ha((s=e._query).path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,s.startAt,d)));var s,d}}function dy(i,e,t,s){if(t[0]=(0,$e.m9)(t[0]),t[0]instanceof Gh)return function(d,m,D,R,K){if(!R)throw new kt(dt.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${D}().`);const Q=[];for(const se of cl(d))if(se.field.isKeyField())Q.push(js(m,R.key));else{const xe=R.data.field(se.field);if(Ac(xe))throw new kt(dt.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+se.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===xe){const nt=se.field.canonicalString();throw new kt(dt.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${nt}' (used as the orderBy) does not exist.`)}Q.push(xe)}return new ll(Q,K)}(i._query,i.firestore._databaseId,e,t[0]._document,s);{const d=yl(i.firestore);return function(m,D,R,K,Q,se){const xe=m.explicitOrderBy;if(Q.length>xe.length)throw new kt(dt.INVALID_ARGUMENT,`Too many arguments provided to ${K}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const nt=[];for(let wt=0;wt<Q.length;wt++){const St=Q[wt];if(xe[wt].field.isKeyField()){if("string"!=typeof St)throw new kt(dt.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${K}(), but got a ${typeof St}`);if(!du(m)&&-1!==St.indexOf("/"))throw new kt(dt.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${K}() must be a plain document ID, but '${St}' contains a slash.`);const yt=m.path.child(xr.fromString(St));if(!on.isDocumentKey(yt))throw new kt(dt.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${K}() must result in a valid document path, but '${yt}' is not because it contains an odd number of segments.`);const Ft=new on(yt);nt.push(js(D,Ft))}else{const yt=C_(R,K,St);nt.push(yt)}}return new ll(nt,se)}(i._query,i.firestore._databaseId,d,e,t,s)}}function hy(i,e,t){if("string"==typeof(t=(0,$e.m9)(t))){if(""===t)throw new kt(dt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!du(e)&&-1!==t.indexOf("/"))throw new kt(dt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(xr.fromString(t));if(!on.isDocumentKey(s))throw new kt(dt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return js(i,new on(s))}if(t instanceof ro)return js(i,t._key);throw new kt(dt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${m_(t)}.`)}function qg(i,e){if(!Array.isArray(i)||0===i.length)throw new kt(dt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(i.length>10)throw new kt(dt.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function fy(i,e,t){if(!t.isEqual(e))throw new kt(dt.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}const py={maxAttempts:5};class _y{convertValue(e,t="none"){switch(Xt(e)){case 0:return null;case 1:return e.booleanValue;case 2:return hi(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(es(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw fn()}}convertObject(e,t){const s={};return $o(e.fields,(d,m)=>{s[d]=this.convertValue(m,t)}),s}convertGeoPoint(e){return new dp(hi(e.latitude),hi(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=Ni(e);return null==s?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(rc(e));default:return null}}convertTimestamp(e){const t=Nt(e);return new Nr(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=xr.fromString(e);_n(sh(s));const d=new j(s.get(1),s.get(3)),m=new on(s.popFirst(5));return d.isEqual(t)||Gr(`Document ${m} contains a document reference within a different database (${d.projectId}/${d.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),m}}function Jh(i,e,t){let s;return s=i?t&&(t.merge||t.mergeFields)?i.toFirestore(e,t):i.toFirestore(e):e,s}class Yg extends _y{constructor(e){super(),this.firestore=e}convertBytes(e){return new ml(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ro(this.firestore,null,t)}}class Zl{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=yl(e)}set(e,t,s){this._verifyNotCommitted();const d=qu(e,this._firestore),m=Jh(d.converter,t,s),D=Zu(this._dataReader,"WriteBatch.set",d._key,m,null!==d.converter,s);return this._mutations.push(D.toMutation(d._key,vi.none())),this}update(e,t,s,...d){this._verifyNotCommitted();const m=qu(e,this._firestore);let D;return D="string"==typeof(t=(0,$e.m9)(t))||t instanceof $l?pp(this._dataReader,"WriteBatch.update",m._key,t,s,d):fp(this._dataReader,"WriteBatch.update",m._key,t),this._mutations.push(D.toMutation(m._key,vi.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=qu(e,this._firestore);return this._mutations=this._mutations.concat(new Fc(t._key,vi.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new kt(dt.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function qu(i,e){if((i=(0,$e.m9)(i)).firestore!==e)throw new kt(dt.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}class Ys extends _y{constructor(e){super(),this.firestore=e}convertBytes(e){return new ml(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ro(this.firestore,null,t)}}function vy(i,e,t){i=$r(i,ro);const s=$r(i.firestore,xi),d=Jh(i.converter,e,t);return Ud(s,[Zu(yl(s),"setDoc",i._key,d,null!==i.converter,t).toMutation(i._key,vi.none())])}function by(i,e,t,...s){i=$r(i,ro);const d=$r(i.firestore,xi),m=yl(d);let D;return D="string"==typeof(e=(0,$e.m9)(e))||e instanceof $l?pp(m,"updateDoc",i._key,e,t,s):fp(m,"updateDoc",i._key,e),Ud(d,[D.toMutation(i._key,vi.exists(!0))])}function ef(i,...e){var t,s,d;i=(0,$e.m9)(i);let m={includeMetadataChanges:!1},D=0;"object"!=typeof e[D]||tu(e[D])||(m=e[D],D++);const R={includeMetadataChanges:m.includeMetadataChanges};if(tu(e[D])){const xe=e[D];e[D]=null===(t=xe.next)||void 0===t?void 0:t.bind(xe),e[D+1]=null===(s=xe.error)||void 0===s?void 0:s.bind(xe),e[D+2]=null===(d=xe.complete)||void 0===d?void 0:d.bind(xe)}let K,Q,se;if(i instanceof ro)Q=$r(i.firestore,xi),se=ts(i._key.path),K={next:xe=>{e[D]&&e[D](Xg(Q,i,xe))},error:e[D+1],complete:e[D+2]};else{const xe=$r(i,Go);Q=$r(xe.firestore,xi),se=xe._query;const nt=new Ys(Q);K={next:wt=>{e[D]&&e[D](new iu(Q,nt,xe,wt))},error:e[D+1],complete:e[D+2]},$g(i._query)}return function(xe,nt,wt,St){const yt=new op(St),Ft=new Fh(nt,yt,wt);return xe.asyncQueue.enqueueAndForget((0,Re.Z)(function*(){return hg(yield Hh(xe),Ft)})),()=>{yt.Rc(),xe.asyncQueue.enqueueAndForget((0,Re.Z)(function*(){return fg(yield Hh(xe),Ft)}))}}(Oi(Q),se,R,K)}function Ud(i,e){return function(t,s){const d=new yi;return t.asyncQueue.enqueueAndForget((0,Re.Z)(function*(){return function Zy(i,e,t){return n_.apply(this,arguments)}(yield p_(t),s,d)})),d.promise}(Oi(i),e)}function Xg(i,e,t){const s=t.docs.get(e._key),d=new Ys(i);return new Cc(i,d,e._key,s,new Gu(t.hasPendingWrites,t.fromCache),e.converter)}class Cy extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=yl(e)}get(e){const t=qu(e,this._firestore),s=new Yg(this._firestore);return this._transaction.lookup([t._key]).then(d=>{if(!d||1!==d.length)return fn();const m=d[0];if(m.isFoundDocument())return new Gh(this._firestore,s,m.key,m,t.converter);if(m.isNoDocument())return new Gh(this._firestore,s,t._key,null,t.converter);throw fn()})}set(e,t,s){const d=qu(e,this._firestore),m=Jh(d.converter,t,s),D=Zu(this._dataReader,"Transaction.set",d._key,m,null!==d.converter,s);return this._transaction.set(d._key,D),this}update(e,t,s,...d){const m=qu(e,this._firestore);let D;return D="string"==typeof(t=(0,$e.m9)(t))||t instanceof $l?pp(this._dataReader,"Transaction.update",m._key,t,s,d):fp(this._dataReader,"Transaction.update",m._key,t),this._transaction.update(m._key,D),this}delete(e){const t=qu(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=qu(e,this._firestore),s=new Ys(this._firestore);return super.get(e).then(d=>new Cc(this._firestore,s,t._key,d._document,new Gu(!1,!1),t.converter))}}function gp(i,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new kt("invalid-argument",`Invalid options passed to function ${i}(): You cannot specify both "merge" and "mergeFields".`);return e}function nm(){if(typeof Uint8Array>"u")throw new kt("unimplemented","Uint8Arrays are not available in this environment.")}function rm(){if(!function la(){return typeof atob<"u"}())throw new kt("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(i,e=!0){hs=Wt.SDK_VERSION,(0,Wt._registerComponent)(new Ne.wA("firestore",(t,{instanceIdentifier:s,options:d})=>{const m=t.getProvider("app").getImmediate(),D=new xi(new wl(t.getProvider("auth-internal")),new eo(t.getProvider("app-check-internal")),function(R,K){if(!Object.prototype.hasOwnProperty.apply(R.options,["projectId"]))throw new kt(dt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new j(R.options.projectId,K)}(m,s),m);return d=Object.assign({useFetchStreams:e},d),D._setSettings(d),D},"PUBLIC").setMultipleInstances(!0)),(0,Wt.registerVersion)(Vs,"3.4.15",i),(0,Wt.registerVersion)(Vs,"3.4.15","esm2017")}();class tf{constructor(e){this._delegate=e}static fromBase64String(e){return rm(),new tf(ml.fromBase64String(e))}static fromUint8Array(e){return nm(),new tf(ml.fromUint8Array(e))}toBase64(){return rm(),this._delegate.toBase64()}toUint8Array(){return nm(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function im(i){return function pv(i,e){if("object"!=typeof i||null===i)return!1;const t=i;for(const s of e)if(s in t&&"function"==typeof t[s])return!0;return!1}(i,["next","error","complete"])}class Ty{enableIndexedDbPersistence(e,t){return function ju(i,e){b_(i=$r(i,xi));const t=Oi(i),s=i._freezeSettings(),d=new Og;return Ku(t,d,new ip(d,s.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function Nd(i){b_(i=$r(i,xi));const e=Oi(i),t=i._freezeSettings(),s=new Og;return Ku(e,s,new xg(s,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function Fd(i){if(i._initialized&&!i._terminated)throw new kt(dt.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new yi;return i._queue.enqueueAndForgetEvenWhileRestricted((0,Re.Z)(function*(){try{yield(t=(0,Re.Z)(function*(s){if(!I.C())return Promise.resolve();const d=s+"main";yield I.delete(d)}),function(s){return t.apply(this,arguments)})(jp(i._databaseId,i._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class Iy{constructor(e,t,s){this._delegate=t,this._persistenceProvider=s,this.INTERNAL={delete:()=>this.terminate()},e instanceof j||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Hs("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,s={}){!function Ld(i,e,t,s={}){var d;const m=(i=$r(i,Wu))._getSettings();if("firestore.googleapis.com"!==m.host&&m.host!==e&&Hs("Host has been set in both settings() and useEmulator(), emulator host will be used"),i._setSettings(Object.assign(Object.assign({},m),{host:`${e}:${t}`,ssl:!1})),s.mockUserToken){let D,R;if("string"==typeof s.mockUserToken)D=s.mockUserToken,R=ui.MOCK_USER;else{D=(0,$e.Sg)(s.mockUserToken,null===(d=i._app)||void 0===d?void 0:d.options.projectId);const K=s.mockUserToken.sub||s.mockUserToken.user_id;if(!K)throw new kt(dt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");R=new ui(K)}i._authCredentials=new td(new ra(D,R))}}(this._delegate,e,t,s)}enableNetwork(){return function ny(i){return function lp(i){return i.asyncQueue.enqueue((0,Re.Z)(function*(){const e=yield Vh(i),t=yield f_(i);return e.setNetworkEnabled(!0),function(s){const d=qt(s);return d._u.delete(0),jf(d)}(t)}))}(Oi(i=$r(i,xi)))}(this._delegate)}disableNetwork(){return function Fg(i){return function ev(i){return i.asyncQueue.enqueue((0,Re.Z)(function*(){const e=yield Vh(i),t=yield f_(i);return e.setNetworkEnabled(!1),(s=(0,Re.Z)(function*(d){const m=qt(d);m._u.add(0),yield Nu(m),m.gu.set("Offline")}),function(d){return s.apply(this,arguments)})(t);var s}))}(Oi(i=$r(i,xi)))}(this._delegate)}enablePersistence(e){let t=!1,s=!1;return e&&(t=!!e.synchronizeTabs,s=!!e.experimentalForceOwningTab,g_("synchronizeTabs",t,"experimentalForceOwningTab",s)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,s)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function Kh(i){return function(e){const t=new yi;return e.asyncQueue.enqueueAndForget((0,Re.Z)(function*(){return function Gy(i,e){return o_.apply(this,arguments)}(yield p_(e),t)})),t.promise}(Oi(i=$r(i,xi)))}(this._delegate)}onSnapshotsInSync(e){return function dv(i,e){return function tv(i,e){const t=new op(e);return i.asyncQueue.enqueueAndForget((0,Re.Z)(function*(){return s=yield Hh(i),d=t,qt(s).Ru.add(d),void d.next();var s,d})),()=>{t.Rc(),i.asyncQueue.enqueueAndForget((0,Re.Z)(function*(){return s=yield Hh(i),d=t,void qt(s).Ru.delete(d);var s,d}))}}(Oi(i=$r(i,xi)),tu(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new kt("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Yu(this,ty(this._delegate,e))}catch(t){throw Qs(t,"collection()","Firestore.collection()")}}doc(e){try{return new Aa(this,y_(this._delegate,e))}catch(t){throw Qs(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new fa(this,function Ng(i,e){if(i=$r(i,Wu),Lg("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new kt(dt.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Go(i,null,(t=e,new Ha(xr.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Qs(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function Dy(i,e,t){i=$r(i,xi);const s=Object.assign(Object.assign({},py),t);return function(d){if(d.maxAttempts<1)throw new kt(dt.INVALID_ARGUMENT,"Max attempts must be at least 1")}(s),function nv(i,e,t){const s=new yi;return i.asyncQueue.enqueueAndForget((0,Re.Z)(function*(){const d=yield(m=i,kd(m).then(D=>D.datastore));var m;new Pg(i.asyncQueue,d,t,e,s).run()})),s.promise}(Oi(i),d=>e(new Cy(i,d)),s)}(this._delegate,t=>e(new O_(this,t)))}batch(){return Oi(this._delegate),new om(new Zl(this._delegate,e=>Ud(this._delegate,e)))}loadBundle(e){return function ry(i,e){const t=Oi(i=$r(i,xi)),s=new cp;return function rv(i,e,t,s){const d=function(m,D){let R;return R="string"==typeof m?(new TextEncoder).encode(m):m,K=function(K,Q){if(K instanceof Uint8Array)return u_(K,Q);if(K instanceof ArrayBuffer)return u_(new Uint8Array(K),Q);if(K instanceof ReadableStream)return K.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(R),new Ov(K,D);var K}(t,Xc(e));i.asyncQueue.enqueueAndForget((0,Re.Z)(function*(){!function Sg(i,e,t){const s=qt(i);var d;(d=(0,Re.Z)(function*(m,D,R){try{const K=yield D.getMetadata();if(yield function(nt,wt){const St=qt(nt),yt=Fi(wt.createTime);return St.persistence.runTransaction("hasNewerBundle","readonly",Ft=>St.Ns.getBundleMetadata(Ft,wt.id)).then(Ft=>!!Ft&&Ft.createTime.compareTo(yt)>=0)}(m.localStore,K))return yield D.close(),R._completeWith({taskState:"Success",documentsLoaded:(nt=K).totalDocuments,bytesLoaded:nt.totalBytes,totalDocuments:nt.totalDocuments,totalBytes:nt.totalBytes}),Promise.resolve(new Set);R._updateProgress(gc(K));const Q=new pg(K,m.localStore,D.It);let se=yield D.wc();for(;se;){const nt=yield Q.Ou(se);nt&&R._updateProgress(nt),se=yield D.wc()}const xe=yield Q.complete();return yield Hl(m,xe.Bu,void 0),yield function(nt,wt){const St=qt(nt);return St.persistence.runTransaction("Save bundle","readwrite",yt=>St.Ns.saveBundleMetadata(yt,wt))}(m.localStore,K),R._completeWith(xe.progress),Promise.resolve(xe.$u)}catch(K){return Hs("SyncEngine",`Loading bundle failed with ${K}`),R._failWith(K),Promise.resolve(new Set)}var nt}),function(m,D,R){return d.apply(this,arguments)})(s,e,t).then(d=>{s.sharedClientState.notifyBundleLoaded(d)})}(yield p_(i),d,s)}))}(t,i._databaseId,e,s),s}(this._delegate,e)}namedQuery(e){return function v_(i,e){return function Ym(i,e){return i.asyncQueue.enqueue((0,Re.Z)(function*(){return function(t,s){const d=qt(t);return d.persistence.runTransaction("Get named query","readonly",m=>d.Ns.getNamedQuery(m,s))}(yield ap(i),e)}))}(Oi(i=$r(i,xi)),e).then(t=>t?new Go(i,null,t.query):null)}(this._delegate,e).then(t=>t?new fa(this,t):null)}}class x_ extends _y{constructor(e){super(),this.firestore=e}convertBytes(e){return new tf(new ml(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Aa.forKey(t,this.firestore,null)}}class O_{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new x_(e)}get(e){const t=Qu(e);return this._delegate.get(t).then(s=>new mp(this._firestore,new Cc(this._firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,t.converter)))}set(e,t,s){const d=Qu(e);return s?(gp("Transaction.set",s),this._delegate.set(d,t,s)):this._delegate.set(d,t),this}update(e,t,s,...d){const m=Qu(e);return 2===arguments.length?this._delegate.update(m,t):this._delegate.update(m,t,s,...d),this}delete(e){const t=Qu(e);return this._delegate.delete(t),this}}class om{constructor(e){this._delegate=e}set(e,t,s){const d=Qu(e);return s?(gp("WriteBatch.set",s),this._delegate.set(d,t,s)):this._delegate.set(d,t),this}update(e,t,s,...d){const m=Qu(e);return 2===arguments.length?this._delegate.update(m,t):this._delegate.update(m,t,s,...d),this}delete(e){const t=Qu(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class ou{constructor(e,t,s){this._firestore=e,this._userDataWriter=t,this._delegate=s}fromFirestore(e,t){const s=new Yh(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new yp(this._firestore,s),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const s=ou.INSTANCES;let d=s.get(e);d||(d=new WeakMap,s.set(e,d));let m=d.get(t);return m||(m=new ou(e,new x_(e),t),d.set(t,m)),m}}ou.INSTANCES=new WeakMap;class Aa{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new x_(e)}static forPath(e,t,s){if(e.length%2!=0)throw new kt("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Aa(t,new ro(t._delegate,s,new on(e)))}static forKey(e,t,s){return new Aa(t,new ro(t._delegate,s,e))}get id(){return this._delegate.id}get parent(){return new Yu(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Yu(this.firestore,ty(this._delegate,e))}catch(t){throw Qs(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,$e.m9)(e))instanceof ro&&Kl(this._delegate,e)}set(e,t){t=gp("DocumentReference.set",t);try{return t?vy(this._delegate,e,t):vy(this._delegate,e)}catch(s){throw Qs(s,"setDoc()","DocumentReference.set()")}}update(e,t,...s){try{return 1===arguments.length?by(this._delegate,e):by(this._delegate,e,t,...s)}catch(d){throw Qs(d,"updateDoc()","DocumentReference.update()")}}delete(){return function Ey(i){return Ud($r(i.firestore,xi),[new Fc(i._key,vi.none())])}(this._delegate)}onSnapshot(...e){const t=Sy(e),s=sm(e,d=>new mp(this.firestore,new Cc(this.firestore._delegate,this._userDataWriter,d._key,d._document,d.metadata,this._delegate.converter)));return ef(this._delegate,t,s)}get(e){let t;return t="cache"===e?.source?function zl(i){i=$r(i,ro);const e=$r(i.firestore,xi),t=Oi(e),s=new Ys(e);return function kv(i,e){const t=new yi;return i.asyncQueue.enqueueAndForget((0,Re.Z)(function*(){return(s=(0,Re.Z)(function*(d,m,D){try{const R=yield function(K,Q){const se=qt(K);return se.persistence.runTransaction("read document","readonly",xe=>se.localDocuments.getDocument(xe,Q))}(d,m);R.isFoundDocument()?D.resolve(R):R.isNoDocument()?D.resolve(null):D.reject(new kt(dt.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(R){const K=Nh(R,`Failed to get document '${m} from cache`);D.reject(K)}}),function(d,m,D){return s.apply(this,arguments)})(yield ap(i),e,t);var s})),t.promise}(t,i._key).then(d=>new Cc(e,s,i._key,d,new Gu(null!==d&&d.hasLocalMutations,!0),i.converter))}(this._delegate):"server"===e?.source?function Gl(i){i=$r(i,ro);const e=$r(i.firestore,xi);return Gm(Oi(e),i._key,{source:"server"}).then(t=>Xg(e,i,t))}(this._delegate):function gy(i){i=$r(i,ro);const e=$r(i.firestore,xi);return Gm(Oi(e),i._key).then(t=>Xg(e,i,t))}(this._delegate),t.then(s=>new mp(this.firestore,new Cc(this.firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,this._delegate.converter)))}withConverter(e){return new Aa(this.firestore,this._delegate.withConverter(e?ou.getInstance(this.firestore,e):null))}}function Qs(i,e,t){return i.message=i.message.replace(e,t),i}function Sy(i){for(const e of i)if("object"==typeof e&&!im(e))return e;return{}}function sm(i,e){var t,s;let d;return d=im(i[0])?i[0]:im(i[1])?i[1]:"function"==typeof i[0]?{next:i[0],error:i[1],complete:i[2]}:{next:i[1],error:i[2],complete:i[3]},{next:m=>{d.next&&d.next(e(m))},error:null===(t=d.error)||void 0===t?void 0:t.bind(d),complete:null===(s=d.complete)||void 0===s?void 0:s.bind(d)}}class mp{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Aa(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return _p(this._delegate,e._delegate)}}class yp extends mp{data(e){const t=this._delegate.data(e);return function nl(i,e){i||fn()}(void 0!==t),t}}class fa{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new x_(e)}where(e,t,s){try{return new fa(this.firestore,Bd(this._delegate,function ay(i,e,t){const s=e,d=qh("where",i);return new sv(d,s,t)}(e,t,s)))}catch(d){throw Qs(d,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new fa(this.firestore,Bd(this._delegate,function av(i,e="asc"){const t=e,s=qh("orderBy",i);return new Zg(s,t)}(e,t)))}catch(s){throw Qs(s,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new fa(this.firestore,Bd(this._delegate,function ly(i){return Jm("limit",i),new Po("limit",i,"F")}(e)))}catch(t){throw Qs(t,"limit()","Query.limit()")}}limitToLast(e){try{return new fa(this.firestore,Bd(this._delegate,function lv(i){return Jm("limitToLast",i),new Po("limitToLast",i,"L")}(e)))}catch(t){throw Qs(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new fa(this.firestore,Bd(this._delegate,function uy(...i){return new cy("startAt",i,!0)}(...e)))}catch(t){throw Qs(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new fa(this.firestore,Bd(this._delegate,function cv(...i){return new cy("startAfter",i,!1)}(...e)))}catch(t){throw Qs(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new fa(this.firestore,Bd(this._delegate,function Gg(...i){return new zg("endBefore",i,!1)}(...e)))}catch(t){throw Qs(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new fa(this.firestore,Bd(this._delegate,function Xh(...i){return new zg("endAt",i,!0)}(...e)))}catch(t){throw Qs(t,"endAt()","Query.endAt()")}}isEqual(e){return Wh(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function yy(i){i=$r(i,Go);const e=$r(i.firestore,xi),t=Oi(e),s=new Ys(e);return function Lv(i,e){const t=new yi;return i.asyncQueue.enqueueAndForget((0,Re.Z)(function*(){return(s=(0,Re.Z)(function*(d,m,D){try{const R=yield Ff(d,m,!0),K=new gg(m,R.Hi),Q=K.ju(R.documents),se=K.applyChanges(Q,!1);D.resolve(se.snapshot)}catch(R){const K=Nh(R,`Failed to execute query '${m} against cache`);D.reject(K)}}),function(d,m,D){return s.apply(this,arguments)})(yield ap(i),e,t);var s})),t.promise}(t,i._query).then(d=>new iu(e,s,i,d))}(this._delegate):"server"===e?.source?function uv(i){i=$r(i,Go);const e=$r(i.firestore,xi),t=Oi(e),s=new Ys(e);return qm(t,i._query,{source:"server"}).then(d=>new iu(e,s,i,d))}(this._delegate):function my(i){i=$r(i,Go);const e=$r(i.firestore,xi),t=Oi(e),s=new Ys(e);return $g(i._query),qm(t,i._query).then(d=>new iu(e,s,i,d))}(this._delegate),t.then(s=>new R_(this.firestore,new iu(this.firestore._delegate,this._userDataWriter,this._delegate,s._snapshot)))}onSnapshot(...e){const t=Sy(e),s=sm(e,d=>new R_(this.firestore,new iu(this.firestore._delegate,this._userDataWriter,this._delegate,d._snapshot)));return ef(this._delegate,t,s)}withConverter(e){return new fa(this.firestore,this._delegate.withConverter(e?ou.getInstance(this.firestore,e):null))}}class P_{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new yp(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class R_{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new fa(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new yp(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new P_(this._firestore,t))}forEach(e,t){this._delegate.forEach(s=>{e.call(t,new yp(this._firestore,s))})}isEqual(e){return _p(this._delegate,e._delegate)}}class Yu extends fa{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Aa(this.firestore,e):null}doc(e){try{return new Aa(this.firestore,void 0===e?y_(this._delegate):y_(this._delegate,e))}catch(t){throw Qs(t,"doc()","CollectionReference.doc()")}}add(e){return function Qg(i,e){const t=$r(i.firestore,xi),s=y_(i),d=Jh(i.converter,e);return Ud(t,[Zu(yl(i.firestore),"addDoc",s._key,d,null!==i.converter,{}).toMutation(s._key,vi.exists(!1))]).then(()=>s)}(this._delegate,e).then(t=>new Aa(this.firestore,t))}isEqual(e){return Kl(this._delegate,e._delegate)}withConverter(e){return new Yu(this.firestore,this._delegate.withConverter(e?ou.getInstance(this.firestore,e):null))}}function Qu(i){return $r(i,ro)}class k_{constructor(...e){this._delegate=new $l(...e)}static documentId(){return new k_(Di.keyField().canonicalString())}isEqual(e){return(e=(0,$e.m9)(e))instanceof $l&&this._delegate._internalPath.isEqual(e._internalPath)}}class su{constructor(e){this._delegate=e}static serverTimestamp(){const e=function hv(){return new ru("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new su(e)}static delete(){const e=function I_(){return new zu("deleteField")}();return e._methodName="FieldValue.delete",new su(e)}static arrayUnion(...e){const t=function wy(...i){return new E_("arrayUnion",i)}(...e);return t._methodName="FieldValue.arrayUnion",new su(t)}static arrayRemove(...e){const t=function My(...i){return new Hg("arrayRemove",i)}(...e);return t._methodName="FieldValue.arrayRemove",new su(t)}static increment(e){const t=function Jg(i){return new iy("increment",i)}(e);return t._methodName="FieldValue.increment",new su(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const am={Firestore:Iy,GeoPoint:dp,Timestamp:Nr,Blob:tf,Transaction:O_,WriteBatch:om,DocumentReference:Aa,DocumentSnapshot:mp,Query:fa,QueryDocumentSnapshot:yp,QuerySnapshot:R_,CollectionReference:Yu,FieldPath:k_,FieldValue:su,setLogLevel:function Ay(i){!function na(i){fs.setLogLevel(i)}(i)},CACHE_SIZE_UNLIMITED:-1};!function Oy(i){(function xy(i,e){i.INTERNAL.registerComponent(new Ne.wA("firestore-compat",t=>{const s=t.getProvider("app-compat").getImmediate(),d=t.getProvider("firestore").getImmediate();return e(s,d)},"PUBLIC").setServiceProps(Object.assign({},am)))})(i,(e,t)=>new Iy(e,t,new Ty)),i.registerVersion("@firebase/firestore-compat","0.1.24")}(We.Z);var Dc=k(1205),Py=k(440);function Xu(i,e){return function lm(i,e=h.z){return new q.y(t=>{let s;return null!=e?e.schedule(()=>{s=i.onSnapshot({includeMetadataChanges:!0},t)}):s=i.onSnapshot({includeMetadataChanges:!0},t),()=>{s?.()}})}(i,e)}function L_(i,e){return Xu(i,e).pipe((0,ge.U)(t=>({payload:t,type:"query"})))}function wc(i,e){return L_(i,e).pipe((0,Ue.O)(void 0),he(),(0,ge.U)(([t,s])=>{const d=s.payload.docChanges(),m=d.map(D=>({type:D.type,payload:D}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(s.payload.metadata)&&s.payload.docs.forEach((D,R)=>{const K=d.find(se=>se.doc.ref.isEqual(D.ref)),Q=t?.payload.docs.find(se=>se.ref.isEqual(D.ref));K&&JSON.stringify(K.doc.metadata)===JSON.stringify(D.metadata)||!K&&Q&&JSON.stringify(Q.metadata)===JSON.stringify(D.metadata)||m.push({type:"modified",payload:{oldIndex:R,newIndex:R,type:"modified",doc:D}})}),m}))}function ky(i,e,t){return wc(i,t).pipe((0,Pe.R)((s,d)=>function p(i,e,t){return e.forEach(s=>{t.indexOf(s.type)>-1&&(i=function o(i,e){switch(e.type){case"added":if(!i[e.newIndex]||!i[e.newIndex].doc.ref.isEqual(e.doc.ref))return l(i,e.newIndex,0,e);break;case"modified":if(null==i[e.oldIndex]||i[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=i.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return l(i,e.newIndex,1,e)}break;case"removed":if(i[e.oldIndex]&&i[e.oldIndex].doc.ref.isEqual(e.doc.ref))return l(i,e.oldIndex,1)}return i}(i,s))}),i}(s,d.map(m=>m.payload),e),[]),(0,Et.x)(),(0,ge.U)(s=>s.map(d=>({type:d.type,payload:d}))))}function l(i,e,t,...s){const d=i.slice();return d.splice(e,t,...s),d}function f(i){return(!i||0===i.length)&&(i=["added","removed","modified"]),i}k(127);class C{constructor(e,t,s){this.ref=e,this.query=t,this.afs=s}stateChanges(e){let t=wc(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,ge.U)(s=>s.filter(d=>e.indexOf(d.type)>-1)))),t.pipe((0,Ue.O)(void 0),he(),(0,st.h)(([s,d])=>d.length>0||!s),(0,ge.U)(([s,d])=>d),Le.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,Pe.R)((t,s)=>[...t,...s],[]))}snapshotChanges(e){const t=f(e);return ky(this.query,t,this.afs.schedulers.outsideAngular).pipe(Le.iC)}valueChanges(e={}){return L_(this.query,this.afs.schedulers.outsideAngular).pipe((0,ge.U)(t=>t.payload.docs.map(s=>e.idField?Object.assign(Object.assign({},s.data()),{[e.idField]:s.id}):s.data())),Le.iC)}get(e){return(0,_e.D)(this.query.get(e)).pipe(Le.iC)}add(e){return this.ref.add(e)}doc(e){return new S(this.ref.doc(e),this.afs)}}class S{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const s=this.ref.collection(e),{ref:d,query:m}=Pt(s,t);return new C(d,m,this.afs)}snapshotChanges(){return function Ry(i,e){return Xu(i,e).pipe((0,Ue.O)(void 0),he(),(0,ge.U)(([t,s])=>s.exists?t?.exists?{payload:s,type:"modified"}:{payload:s,type:"added"}:{payload:s,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Le.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,ge.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,_e.D)(this.ref.get(e)).pipe(Le.iC)}}class Z{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?wc(this.query,this.afs.schedulers.outsideAngular).pipe((0,ge.U)(t=>t.filter(s=>e.indexOf(s.type)>-1)),(0,st.h)(t=>t.length>0),Le.iC):wc(this.query,this.afs.schedulers.outsideAngular).pipe(Le.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,Pe.R)((t,s)=>[...t,...s],[]))}snapshotChanges(e){const t=f(e);return ky(this.query,t,this.afs.schedulers.outsideAngular).pipe(Le.iC)}valueChanges(e={}){return L_(this.query,this.afs.schedulers.outsideAngular).pipe((0,ge.U)(s=>s.payload.docs.map(d=>e.idField?Object.assign({[e.idField]:d.id},d.data()):d.data())),Le.iC)}get(e){return(0,_e.D)(this.query.get(e)).pipe(Le.iC)}}const ee=new y.OlP("angularfire2.enableFirestorePersistence"),ue=new y.OlP("angularfire2.firestore.persistenceSettings"),ke=new y.OlP("angularfire2.firestore.settings"),qe=new y.OlP("angularfire2.firestore.use-emulator");function Pt(i,e=(t=>t)){return{query:e(i),ref:i}}let Bn=(()=>{class i{constructor(t,s,d,m,D,R,K,Q,se,xe,nt,wt,St,yt,Ft,en,Tn){this.schedulers=K;const tr=(0,tt.on)(t,R,s),ni=se;xe&&(0,Dc.nw)(tr,R,nt,St,yt,Ft,wt,en),[this.firestore,this.persistenceEnabled$]=(0,tt.cc)(`${tr.name}.firestore`,"AngularFirestore",tr.name,()=>{const ur=R.runOutsideAngular(()=>tr.firestore());if(m&&ur.settings(m),ni&&ur.useEmulator(...ni),d&&!(0,Bt.PM)(D)){const Or=()=>{try{return(0,_e.D)(ur.enablePersistence(Q||void 0).then(()=>!0,()=>!1))}catch(gr){return typeof console<"u"&&console.warn(gr),(0,Ae.of)(!1)}};return[ur,R.runOutsideAngular(Or)]}return[ur,(0,Ae.of)(!1)]},[m,ni,d])}collection(t,s){let d;d="string"==typeof t?this.firestore.collection(t):t;const{ref:m,query:D}=Pt(d,s),R=this.schedulers.ngZone.run(()=>m);return new C(R,D,this)}collectionGroup(t,s){const d=s||(D=>D),m=this.firestore.collectionGroup(t);return new Z(d(m),this)}doc(t){let s;s="string"==typeof t?this.firestore.doc(t):t;const d=this.schedulers.ngZone.run(()=>s);return new S(d,this)}createId(){return this.firestore.collection("_").doc().id}}return i.\u0275fac=function(t){return new(t||i)(y.LFG(tt.Dh),y.LFG(tt.xv,8),y.LFG(ee,8),y.LFG(ke,8),y.LFG(y.Lbi),y.LFG(y.R0b),y.LFG(Le.HU),y.LFG(ue,8),y.LFG(qe,8),y.LFG(Dc.zQ,8),y.LFG(Dc.Qv,8),y.LFG(Dc.L6,8),y.LFG(Dc._Q,8),y.LFG(Dc.rT,8),y.LFG(Dc.lh,8),y.LFG(Dc.f7,8),y.LFG(Py.nm,8))},i.\u0275prov=y.Yz7({token:i,factory:i.\u0275fac,providedIn:"any"}),i})();var bn=k(7185),Cn=k(184);let Mr=(()=>{class i{constructor(t,s,d,m){this.firestore=t,this.auth=s,this.toast=d,this.loader=m,this.UserUpdateEvent=new y.vpe,this.users=this.firestore.collection("users"),this.toast.toastrConfig.progressBar=!0,this.toast.toastrConfig.positionClass="toast-bottom-right",this.toast.toastrConfig.timeOut=1e4,this.onAuthStateChanged()}onAuthStateChanged(){this.auth.authState.subscribe(t=>{null!=t?(console.log("FirestoreService: Auth State Changed ",t),this.users?.doc(t.email).get().subscribe(s=>{this.user=s.data(),console.log("FirestoreService: User Updated ",this.user),this.UserUpdateEvent.emit(this.user)})):this.UserUpdateEvent.emit(void 0)})}register(t){!t.password||(this.loader.show(),this.auth.createUserWithEmailAndPassword(t.email,t.password).then(s=>{t.password="",this.firestore.collection("users").doc(t.email).set(t).then(d=>{this.loader.hide(),this.toast.success(t.email,"User Registration Success"),this.user=t},d=>{this.loader.hide(),console.error("FirestoreService",d),this.toast.error("Unable to register User","Registration Error")})},s=>{this.loader.hide(),console.error("FirestoreService",s),this.handleRegisterError(s.code,t)}))}handleRegisterError(t,s){this.toast.error("auth/email-already-in-use"===t?s.id+" is already registered in our system.":"Unable to register "+s.id+" "+t,"Registration Error")}}return i.\u0275fac=function(t){return new(t||i)(y.LFG(Bn),y.LFG(Dc.zQ),y.LFG(bn._W),y.LFG(Cn.D))},i.\u0275prov=y.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})()},2596:(ut,Be,k)=>{k.d(Be,{n:()=>y});const y=[{ctrl:"companyname",chcks:[{chck:"this.companyname==null || this.companyname==''",msg:"Company Name is required"},{chck:"this.companyname.length<3",msg:"Company Name should have min 3 characters"}]},{ctrl:"firstname",chcks:[{chck:"this.firstname==null || this.firstname==''",msg:"First Name is required"},{chck:"this.firstname.length<3",msg:"First Name should have min 3 characters"}]},{ctrl:"lastname",chcks:[{chck:"this.lastname==null || this.lastname==''",msg:"Last Name is required"}]},{ctrl:"industry",chcks:[{chck:"this.industry==null || this.industry==''",msg:"Industry is required"}]},{ctrl:"address",chcks:[{chck:"this.address==null || this.address==''",msg:"Address is required"}]},{ctrl:"country",chcks:[{chck:"this.country==null || this.country==''",msg:"Country is required"}]},{ctrl:"state",chcks:[{chck:"this.state==null || this.state==''",msg:"State is required"}]},{ctrl:"city",chcks:[{chck:"this.city==null || this.city==''",msg:"City is required"}]},{ctrl:"pincode",chcks:[{chck:"this.pincode==null || this.pincode==''",msg:"Pincode is required"}]},{ctrl:"userid",chcks:[{chck:"this.userid==null || this.userid==''",msg:"User ID is required"},{chck:"!validateEmail(this.userid)",msg:"Enter valid email address"}]},{ctrl:"contact",chcks:[{chck:"this.contact==null || this.contact==''",msg:"Contact Number is required"},{chck:"this.contact.length<10",msg:"Enter 10 digits contact number"}]},{ctrl:"password",chcks:[{chck:"this.password==null || this.password==''",msg:"Password is required"},{chck:"this.password.length<8",msg:"Password should be min 8 characters"}]},{ctrl:"cpassword",chcks:[{chck:"this.cpassword==null || this.cpassword==''",msg:"Confirm password is required"},{chck:"this.cpassword!=this.password",msg:"Confirm password does not match with password"}]},{ctrl:"comment",chcks:[{chck:"this.comment==null || this.comment==''",msg:"Please enter your message in comment"}]},{ctrl:"email",chcks:[{chck:"this.email==null || this.email==''",msg:"Please enter your Email ID"},{chck:"!validateEmail(this.email)",msg:"Enter valid email address"}]}]},9780:(ut,Be,k)=>{var y=k(1481),h=k(4650),q=k(4006),_e=k(1779);let Pe=(()=>{class p{constructor(){this._listeners=[]}notify(o,f){for(let C of this._listeners)C(o,f)}listen(o){return this._listeners.push(o),()=>{this._listeners=this._listeners.filter(f=>o!==f)}}ngOnDestroy(){this._listeners=[]}}return p.\u0275fac=function(o){return new(o||p)},p.\u0275prov=h.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"}),p})();function st(p){return null!=p&&"false"!=`${p}`}function tt(p,l=0){return function Bt(p){return!isNaN(parseFloat(p))&&!isNaN(Number(p))}(p)?Number(p):l}function rt(p){return Array.isArray(p)?p:[p]}function We(p){return null==p?"":"string"==typeof p?p:`${p}px`}function Re(p){return p instanceof h.SBq?p.nativeElement:p}var Ne=k(7579),Me=k(727);let $e=0;const Mt=new h.OlP("CdkAccordion");let It=(()=>{class p{constructor(){this._stateChanges=new Ne.x,this._openCloseAllActions=new Ne.x,this.id="cdk-accordion-"+$e++,this._multi=!1}get multi(){return this._multi}set multi(o){this._multi=st(o)}openAll(){this._multi&&this._openCloseAllActions.next(!0)}closeAll(){this._openCloseAllActions.next(!1)}ngOnChanges(o){this._stateChanges.next(o)}ngOnDestroy(){this._stateChanges.complete(),this._openCloseAllActions.complete()}}return p.\u0275fac=function(o){return new(o||p)},p.\u0275dir=h.lG2({type:p,selectors:[["cdk-accordion"],["","cdkAccordion",""]],inputs:{multi:"multi"},exportAs:["cdkAccordion"],features:[h._Bn([{provide:Mt,useExisting:p}]),h.TTD]}),p})(),oe=0,Je=(()=>{class p{constructor(o,f,C){this.accordion=o,this._changeDetectorRef=f,this._expansionDispatcher=C,this._openCloseAllSubscription=Me.w0.EMPTY,this.closed=new h.vpe,this.opened=new h.vpe,this.destroyed=new h.vpe,this.expandedChange=new h.vpe,this.id="cdk-accordion-child-"+oe++,this._expanded=!1,this._disabled=!1,this._removeUniqueSelectionListener=()=>{},this._removeUniqueSelectionListener=C.listen((S,Z)=>{this.accordion&&!this.accordion.multi&&this.accordion.id===Z&&this.id!==S&&(this.expanded=!1)}),this.accordion&&(this._openCloseAllSubscription=this._subscribeToOpenCloseAllActions())}get expanded(){return this._expanded}set expanded(o){o=st(o),this._expanded!==o&&(this._expanded=o,this.expandedChange.emit(o),o?(this.opened.emit(),this._expansionDispatcher.notify(this.id,this.accordion?this.accordion.id:this.id)):this.closed.emit(),this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(o){this._disabled=st(o)}ngOnDestroy(){this.opened.complete(),this.closed.complete(),this.destroyed.emit(),this.destroyed.complete(),this._removeUniqueSelectionListener(),this._openCloseAllSubscription.unsubscribe()}toggle(){this.disabled||(this.expanded=!this.expanded)}close(){this.disabled||(this.expanded=!1)}open(){this.disabled||(this.expanded=!0)}_subscribeToOpenCloseAllActions(){return this.accordion._openCloseAllActions.subscribe(o=>{this.disabled||(this.expanded=o)})}}return p.\u0275fac=function(o){return new(o||p)(h.Y36(Mt,12),h.Y36(h.sBO),h.Y36(Pe))},p.\u0275dir=h.lG2({type:p,selectors:[["cdk-accordion-item"],["","cdkAccordionItem",""]],inputs:{expanded:"expanded",disabled:"disabled"},outputs:{closed:"closed",opened:"opened",destroyed:"destroyed",expandedChange:"expandedChange"},exportAs:["cdkAccordionItem"],features:[h._Bn([{provide:Mt,useValue:void 0}])]}),p})(),de=(()=>{class p{}return p.\u0275fac=function(o){return new(o||p)},p.\u0275mod=h.oAB({type:p}),p.\u0275inj=h.cJS({}),p})();var fe=k(6895);class ln{attach(l){return this._attachedHost=l,l.attach(this)}detach(){let l=this._attachedHost;null!=l&&(this._attachedHost=null,l.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(l){this._attachedHost=l}}class Dt extends ln{constructor(l,o,f,C){super(),this.component=l,this.viewContainerRef=o,this.injector=f,this.componentFactoryResolver=C}}class Dn extends ln{constructor(l,o,f,C){super(),this.templateRef=l,this.viewContainerRef=o,this.context=f,this.injector=C}get origin(){return this.templateRef.elementRef}attach(l,o=this.context){return this.context=o,super.attach(l)}detach(){return this.context=void 0,super.detach()}}class gn extends ln{constructor(l){super(),this.element=l instanceof h.SBq?l.nativeElement:l}}class it{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(l){return l instanceof Dt?(this._attachedPortal=l,this.attachComponentPortal(l)):l instanceof Dn?(this._attachedPortal=l,this.attachTemplatePortal(l)):this.attachDomPortal&&l instanceof gn?(this._attachedPortal=l,this.attachDomPortal(l)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(l){this._disposeFn=l}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class Te extends it{constructor(l,o,f,C,S){super(),this.outletElement=l,this._componentFactoryResolver=o,this._appRef=f,this._defaultInjector=C,this.attachDomPortal=Z=>{const ee=Z.element,ue=this._document.createComment("dom-portal");ee.parentNode.insertBefore(ue,ee),this.outletElement.appendChild(ee),this._attachedPortal=Z,super.setDisposeFn(()=>{ue.parentNode&&ue.parentNode.replaceChild(ee,ue)})},this._document=S}attachComponentPortal(l){const f=(l.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(l.component);let C;return l.viewContainerRef?(C=l.viewContainerRef.createComponent(f,l.viewContainerRef.length,l.injector||l.viewContainerRef.injector),this.setDisposeFn(()=>C.destroy())):(C=f.create(l.injector||this._defaultInjector||h.zs3.NULL),this._appRef.attachView(C.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(C.hostView),C.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(C)),this._attachedPortal=l,C}attachTemplatePortal(l){let o=l.viewContainerRef,f=o.createEmbeddedView(l.templateRef,l.context,{injector:l.injector});return f.rootNodes.forEach(C=>this.outletElement.appendChild(C)),f.detectChanges(),this.setDisposeFn(()=>{let C=o.indexOf(f);-1!==C&&o.remove(C)}),this._attachedPortal=l,f}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(l){return l.hostView.rootNodes[0]}}let Mn,rr=(()=>{class p extends it{constructor(o,f,C){super(),this._componentFactoryResolver=o,this._viewContainerRef=f,this._isInitialized=!1,this.attached=new h.vpe,this.attachDomPortal=S=>{const Z=S.element,ee=this._document.createComment("dom-portal");S.setAttachedHost(this),Z.parentNode.insertBefore(ee,Z),this._getRootNode().appendChild(Z),this._attachedPortal=S,super.setDisposeFn(()=>{ee.parentNode&&ee.parentNode.replaceChild(Z,ee)})},this._document=C}get portal(){return this._attachedPortal}set portal(o){this.hasAttached()&&!o&&!this._isInitialized||(this.hasAttached()&&super.detach(),o&&super.attach(o),this._attachedPortal=o||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(o){o.setAttachedHost(this);const f=null!=o.viewContainerRef?o.viewContainerRef:this._viewContainerRef,S=(o.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(o.component),Z=f.createComponent(S,f.length,o.injector||f.injector);return f!==this._viewContainerRef&&this._getRootNode().appendChild(Z.hostView.rootNodes[0]),super.setDisposeFn(()=>Z.destroy()),this._attachedPortal=o,this._attachedRef=Z,this.attached.emit(Z),Z}attachTemplatePortal(o){o.setAttachedHost(this);const f=this._viewContainerRef.createEmbeddedView(o.templateRef,o.context,{injector:o.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=o,this._attachedRef=f,this.attached.emit(f),f}_getRootNode(){const o=this._viewContainerRef.element.nativeElement;return o.nodeType===o.ELEMENT_NODE?o:o.parentNode}}return p.\u0275fac=function(o){return new(o||p)(h.Y36(h._Vd),h.Y36(h.s_b),h.Y36(fe.K0))},p.\u0275dir=h.lG2({type:p,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[h.qOj]}),p})(),Kn=(()=>{class p{}return p.\u0275fac=function(o){return new(o||p)},p.\u0275mod=h.oAB({type:p}),p.\u0275inj=h.cJS({}),p})();try{Mn=typeof Intl<"u"&&Intl.v8BreakIterator}catch{Mn=!1}let br,Wr,mr,ye,Nn=(()=>{class p{constructor(o){this._platformId=o,this.isBrowser=this._platformId?(0,fe.NF)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Mn)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return p.\u0275fac=function(o){return new(o||p)(h.LFG(h.Lbi))},p.\u0275prov=h.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"}),p})();function Yr(p){return function Tr(){if(null==br&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>br=!0}))}finally{br=br||!1}return br}()?p:!!p.capture}function gt(){if(null==mr){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return mr=!1,mr;if("scrollBehavior"in document.documentElement.style)mr=!0;else{const p=Element.prototype.scrollTo;mr=!!p&&!/\{\s*\[native code\]\s*\}/.test(p.toString())}}return mr}function Se(){if("object"!=typeof document||!document)return 0;if(null==Wr){const p=document.createElement("div"),l=p.style;p.dir="rtl",l.width="1px",l.overflow="auto",l.visibility="hidden",l.pointerEvents="none",l.position="absolute";const o=document.createElement("div"),f=o.style;f.width="2px",f.height="1px",p.appendChild(o),document.body.appendChild(p),Wr=0,0===p.scrollLeft&&(p.scrollLeft=1,Wr=0===p.scrollLeft?1:2),p.remove()}return Wr}function vt(p){if(function lt(){if(null==ye){const p=typeof document<"u"?document.head:null;ye=!(!p||!p.createShadowRoot&&!p.attachShadow)}return ye}()){const l=p.getRootNode?p.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&l instanceof ShadowRoot)return l}return null}function Ht(p){return p.composedPath?p.composedPath()[0]:p.target}function On(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}var Gt=k(1135),Wn=k(9646);function Ii(p,...l){return l.length?l.some(o=>p[o]):p.altKey||p.shiftKey||p.ctrlKey||p.metaKey}var Qi=k(8505),Xi=k(4986),xt=k(4482),zn=k(5403);function Io(p,l=Xi.z){return(0,xt.e)((o,f)=>{let C=null,S=null,Z=null;const ee=()=>{if(C){C.unsubscribe(),C=null;const ke=S;S=null,f.next(ke)}};function ue(){const ke=Z+p,qe=l.now();if(qe<ke)return C=this.schedule(void 0,ke-qe),void f.add(C);ee()}o.subscribe((0,zn.x)(f,ke=>{S=ke,Z=l.now(),C||(C=l.schedule(ue,p),f.add(C))},()=>{ee(),f.complete()},void 0,()=>{S=C=null}))})}var pi=k(9300),Ir=k(4004),$=k(5698);function H(p){return(0,pi.h)((l,o)=>p<=o)}var U=k(1884),re=k(8421),pt=k(5032);function cn(p){return(0,xt.e)((l,o)=>{(0,re.Xf)(p).subscribe((0,zn.x)(o,()=>o.complete(),pt.Z)),!o.closed&&l.subscribe(o)})}let ei=(()=>{class p{create(o){return typeof MutationObserver>"u"?null:new MutationObserver(o)}}return p.\u0275fac=function(o){return new(o||p)},p.\u0275prov=h.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"}),p})(),Pr=(()=>{class p{}return p.\u0275fac=function(o){return new(o||p)},p.\u0275mod=h.oAB({type:p}),p.\u0275inj=h.cJS({providers:[ei]}),p})();var Jo=k(9841),Ya=k(7272),Uo=k(9751),Wi=k(8675);const ls=new Set;let Us,Ra=(()=>{class p{constructor(o){this._platform=o,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):us}matchMedia(o){return(this._platform.WEBKIT||this._platform.BLINK)&&function cs(p){if(!ls.has(p))try{Us||(Us=document.createElement("style"),Us.setAttribute("type","text/css"),document.head.appendChild(Us)),Us.sheet&&(Us.sheet.insertRule(`@media ${p} {body{ }}`,0),ls.add(p))}catch(l){console.error(l)}}(o),this._matchMedia(o)}}return p.\u0275fac=function(o){return new(o||p)(h.LFG(Nn))},p.\u0275prov=h.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"}),p})();function us(p){return{matches:"all"===p||""===p,media:p,addListener:()=>{},removeListener:()=>{}}}let ya=(()=>{class p{constructor(o,f){this._mediaMatcher=o,this._zone=f,this._queries=new Map,this._destroySubject=new Ne.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(o){return Kr(rt(o)).some(C=>this._registerQuery(C).mql.matches)}observe(o){const C=Kr(rt(o)).map(Z=>this._registerQuery(Z).observable);let S=(0,Jo.a)(C);return S=(0,Ya.z)(S.pipe((0,$.q)(1)),S.pipe(H(1),Io(0))),S.pipe((0,Ir.U)(Z=>{const ee={matches:!1,breakpoints:{}};return Z.forEach(({matches:ue,query:ke})=>{ee.matches=ee.matches||ue,ee.breakpoints[ke]=ue}),ee}))}_registerQuery(o){if(this._queries.has(o))return this._queries.get(o);const f=this._mediaMatcher.matchMedia(o),S={observable:new Uo.y(Z=>{const ee=ue=>this._zone.run(()=>Z.next(ue));return f.addListener(ee),()=>{f.removeListener(ee)}}).pipe((0,Wi.O)(f),(0,Ir.U)(({matches:Z})=>({query:o,matches:Z})),cn(this._destroySubject)),mql:f};return this._queries.set(o,S),S}}return p.\u0275fac=function(o){return new(o||p)(h.LFG(Ra),h.LFG(h.R0b))},p.\u0275prov=h.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"}),p})();function Kr(p){return p.map(l=>l.split(",")).reduce((l,o)=>l.concat(o)).map(l=>l.trim())}class lr extends class mt{constructor(l){this._items=l,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new Ne.x,this._typeaheadSubscription=Me.w0.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=o=>o.disabled,this._pressedLetters=[],this.tabOut=new Ne.x,this.change=new Ne.x,l instanceof h.n_E&&l.changes.subscribe(o=>{if(this._activeItem){const C=o.toArray().indexOf(this._activeItem);C>-1&&C!==this._activeItemIndex&&(this._activeItemIndex=C)}})}skipPredicate(l){return this._skipPredicateFn=l,this}withWrap(l=!0){return this._wrap=l,this}withVerticalOrientation(l=!0){return this._vertical=l,this}withHorizontalOrientation(l){return this._horizontal=l,this}withAllowedModifierKeys(l){return this._allowedModifierKeys=l,this}withTypeAhead(l=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,Qi.b)(o=>this._pressedLetters.push(o)),Io(l),(0,pi.h)(()=>this._pressedLetters.length>0),(0,Ir.U)(()=>this._pressedLetters.join(""))).subscribe(o=>{const f=this._getItemsArray();for(let C=1;C<f.length+1;C++){const S=(this._activeItemIndex+C)%f.length,Z=f[S];if(!this._skipPredicateFn(Z)&&0===Z.getLabel().toUpperCase().trim().indexOf(o)){this.setActiveItem(S);break}}this._pressedLetters=[]}),this}withHomeAndEnd(l=!0){return this._homeAndEnd=l,this}setActiveItem(l){const o=this._activeItem;this.updateActiveItem(l),this._activeItem!==o&&this.change.next(this._activeItemIndex)}onKeydown(l){const o=l.keyCode,C=["altKey","ctrlKey","metaKey","shiftKey"].every(S=>!l[S]||this._allowedModifierKeys.indexOf(S)>-1);switch(o){case 9:return void this.tabOut.next();case 40:if(this._vertical&&C){this.setNextItemActive();break}return;case 38:if(this._vertical&&C){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&C){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&C){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&C){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&C){this.setLastItemActive();break}return;default:return void((C||Ii(l,"shiftKey"))&&(l.key&&1===l.key.length?this._letterKeyStream.next(l.key.toLocaleUpperCase()):(o>=65&&o<=90||o>=48&&o<=57)&&this._letterKeyStream.next(String.fromCharCode(o))))}this._pressedLetters=[],l.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(l){const o=this._getItemsArray(),f="number"==typeof l?l:o.indexOf(l);this._activeItem=o[f]??null,this._activeItemIndex=f}_setActiveItemByDelta(l){this._wrap?this._setActiveInWrapMode(l):this._setActiveInDefaultMode(l)}_setActiveInWrapMode(l){const o=this._getItemsArray();for(let f=1;f<=o.length;f++){const C=(this._activeItemIndex+l*f+o.length)%o.length;if(!this._skipPredicateFn(o[C]))return void this.setActiveItem(C)}}_setActiveInDefaultMode(l){this._setActiveItemByIndex(this._activeItemIndex+l,l)}_setActiveItemByIndex(l,o){const f=this._getItemsArray();if(f[l]){for(;this._skipPredicateFn(f[l]);)if(!f[l+=o])return;this.setActiveItem(l)}}_getItemsArray(){return this._items instanceof h.n_E?this._items.toArray():this._items}}{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(l){return this._origin=l,this}setActiveItem(l){super.setActiveItem(l),this.activeItem&&this.activeItem.focus(this._origin)}}let _r=(()=>{class p{constructor(o){this._platform=o}isDisabled(o){return o.hasAttribute("disabled")}isVisible(o){return function Ai(p){return!!(p.offsetWidth||p.offsetHeight||"function"==typeof p.getClientRects&&p.getClientRects().length)}(o)&&"visible"===getComputedStyle(o).visibility}isTabbable(o){if(!this._platform.isBrowser)return!1;const f=function or(p){try{return p.frameElement}catch{return null}}(function el(p){return p.ownerDocument&&p.ownerDocument.defaultView||window}(o));if(f&&(-1===Ao(f)||!this.isVisible(f)))return!1;let C=o.nodeName.toLowerCase(),S=Ao(o);return o.hasAttribute("contenteditable")?-1!==S:!("iframe"===C||"object"===C||this._platform.WEBKIT&&this._platform.IOS&&!function Ho(p){let l=p.nodeName.toLowerCase(),o="input"===l&&p.type;return"text"===o||"password"===o||"select"===l||"textarea"===l}(o))&&("audio"===C?!!o.hasAttribute("controls")&&-1!==S:"video"===C?-1!==S&&(null!==S||this._platform.FIREFOX||o.hasAttribute("controls")):o.tabIndex>=0)}isFocusable(o,f){return function Wo(p){return!function ti(p){return function Vo(p){return"input"==p.nodeName.toLowerCase()}(p)&&"hidden"==p.type}(p)&&(function wr(p){let l=p.nodeName.toLowerCase();return"input"===l||"select"===l||"button"===l||"textarea"===l}(p)||function Ts(p){return function ao(p){return"a"==p.nodeName.toLowerCase()}(p)&&p.hasAttribute("href")}(p)||p.hasAttribute("contenteditable")||ds(p))}(o)&&!this.isDisabled(o)&&(f?.ignoreVisibility||this.isVisible(o))}}return p.\u0275fac=function(o){return new(o||p)(h.LFG(Nn))},p.\u0275prov=h.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"}),p})();function ds(p){if(!p.hasAttribute("tabindex")||void 0===p.tabIndex)return!1;let l=p.getAttribute("tabindex");return!(!l||isNaN(parseInt(l,10)))}function Ao(p){if(!ds(p))return null;const l=parseInt(p.getAttribute("tabindex")||"",10);return isNaN(l)?-1:l}class ai{constructor(l,o,f,C,S=!1){this._element=l,this._checker=o,this._ngZone=f,this._document=C,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,S||this.attachAnchors()}get enabled(){return this._enabled}set enabled(l){this._enabled=l,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(l,this._startAnchor),this._toggleAnchorTabIndex(l,this._endAnchor))}destroy(){const l=this._startAnchor,o=this._endAnchor;l&&(l.removeEventListener("focus",this.startAnchorListener),l.remove()),o&&(o.removeEventListener("focus",this.endAnchorListener),o.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(l){return new Promise(o=>{this._executeOnStable(()=>o(this.focusInitialElement(l)))})}focusFirstTabbableElementWhenReady(l){return new Promise(o=>{this._executeOnStable(()=>o(this.focusFirstTabbableElement(l)))})}focusLastTabbableElementWhenReady(l){return new Promise(o=>{this._executeOnStable(()=>o(this.focusLastTabbableElement(l)))})}_getRegionBoundary(l){const o=this._element.querySelectorAll(`[cdk-focus-region-${l}], [cdkFocusRegion${l}], [cdk-focus-${l}]`);return"start"==l?o.length?o[0]:this._getFirstTabbableElement(this._element):o.length?o[o.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(l){const o=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(o){if(!this._checker.isFocusable(o)){const f=this._getFirstTabbableElement(o);return f?.focus(l),!!f}return o.focus(l),!0}return this.focusFirstTabbableElement(l)}focusFirstTabbableElement(l){const o=this._getRegionBoundary("start");return o&&o.focus(l),!!o}focusLastTabbableElement(l){const o=this._getRegionBoundary("end");return o&&o.focus(l),!!o}hasAttached(){return this._hasAttached}_getFirstTabbableElement(l){if(this._checker.isFocusable(l)&&this._checker.isTabbable(l))return l;const o=l.children;for(let f=0;f<o.length;f++){const C=o[f].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(o[f]):null;if(C)return C}return null}_getLastTabbableElement(l){if(this._checker.isFocusable(l)&&this._checker.isTabbable(l))return l;const o=l.children;for(let f=o.length-1;f>=0;f--){const C=o[f].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(o[f]):null;if(C)return C}return null}_createAnchor(){const l=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,l),l.classList.add("cdk-visually-hidden"),l.classList.add("cdk-focus-trap-anchor"),l.setAttribute("aria-hidden","true"),l}_toggleAnchorTabIndex(l,o){l?o.setAttribute("tabindex","0"):o.removeAttribute("tabindex")}toggleAnchors(l){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(l,this._startAnchor),this._toggleAnchorTabIndex(l,this._endAnchor))}_executeOnStable(l){this._ngZone.isStable?l():this._ngZone.onStable.pipe((0,$.q)(1)).subscribe(l)}}let La=(()=>{class p{constructor(o,f,C){this._checker=o,this._ngZone=f,this._document=C}create(o,f=!1){return new ai(o,this._checker,this._ngZone,this._document,f)}}return p.\u0275fac=function(o){return new(o||p)(h.LFG(_r),h.LFG(h.R0b),h.LFG(fe.K0))},p.\u0275prov=h.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"}),p})();function Ca(p){return 0===p.buttons||0===p.offsetX&&0===p.offsetY}function Ji(p){const l=p.touches&&p.touches[0]||p.changedTouches&&p.changedTouches[0];return!(!l||-1!==l.identifier||null!=l.radiusX&&1!==l.radiusX||null!=l.radiusY&&1!==l.radiusY)}const Ql=new h.OlP("cdk-input-modality-detector-options"),Dl={ignoreKeys:[18,17,224,91,16]},Is=Yr({passive:!0,capture:!0});let Na=(()=>{class p{constructor(o,f,C,S){this._platform=o,this._mostRecentTarget=null,this._modality=new Gt.X(null),this._lastTouchMs=0,this._onKeydown=Z=>{this._options?.ignoreKeys?.some(ee=>ee===Z.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=Ht(Z))},this._onMousedown=Z=>{Date.now()-this._lastTouchMs<650||(this._modality.next(Ca(Z)?"keyboard":"mouse"),this._mostRecentTarget=Ht(Z))},this._onTouchstart=Z=>{Ji(Z)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Ht(Z))},this._options={...Dl,...S},this.modalityDetected=this._modality.pipe(H(1)),this.modalityChanged=this.modalityDetected.pipe((0,U.x)()),o.isBrowser&&f.runOutsideAngular(()=>{C.addEventListener("keydown",this._onKeydown,Is),C.addEventListener("mousedown",this._onMousedown,Is),C.addEventListener("touchstart",this._onTouchstart,Is)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Is),document.removeEventListener("mousedown",this._onMousedown,Is),document.removeEventListener("touchstart",this._onTouchstart,Is))}}return p.\u0275fac=function(o){return new(o||p)(h.LFG(Nn),h.LFG(h.R0b),h.LFG(fe.K0),h.LFG(Ql,8))},p.\u0275prov=h.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"}),p})();const ci=new h.OlP("cdk-focus-monitor-default-options"),lo=Yr({passive:!0,capture:!0});let Vs=(()=>{class p{constructor(o,f,C,S,Z){this._ngZone=o,this._platform=f,this._inputModalityDetector=C,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Ne.x,this._rootNodeFocusAndBlurListener=ee=>{for(let ke=Ht(ee);ke;ke=ke.parentElement)"focus"===ee.type?this._onFocus(ee,ke):this._onBlur(ee,ke)},this._document=S,this._detectionMode=Z?.detectionMode||0}monitor(o,f=!1){const C=Re(o);if(!this._platform.isBrowser||1!==C.nodeType)return(0,Wn.of)(null);const S=vt(C)||this._getDocument(),Z=this._elementInfo.get(C);if(Z)return f&&(Z.checkChildren=!0),Z.subject;const ee={checkChildren:f,subject:new Ne.x,rootNode:S};return this._elementInfo.set(C,ee),this._registerGlobalListeners(ee),ee.subject}stopMonitoring(o){const f=Re(o),C=this._elementInfo.get(f);C&&(C.subject.complete(),this._setClasses(f),this._elementInfo.delete(f),this._removeGlobalListeners(C))}focusVia(o,f,C){const S=Re(o);S===this._getDocument().activeElement?this._getClosestElementsInfo(S).forEach(([ee,ue])=>this._originChanged(ee,f,ue)):(this._setOrigin(f),"function"==typeof S.focus&&S.focus(C))}ngOnDestroy(){this._elementInfo.forEach((o,f)=>this.stopMonitoring(f))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(o){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(o)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:o&&this._isLastInteractionFromInputLabel(o)?"mouse":"program"}_shouldBeAttributedToTouch(o){return 1===this._detectionMode||!!o?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(o,f){o.classList.toggle("cdk-focused",!!f),o.classList.toggle("cdk-touch-focused","touch"===f),o.classList.toggle("cdk-keyboard-focused","keyboard"===f),o.classList.toggle("cdk-mouse-focused","mouse"===f),o.classList.toggle("cdk-program-focused","program"===f)}_setOrigin(o,f=!1){this._ngZone.runOutsideAngular(()=>{this._origin=o,this._originFromTouchInteraction="touch"===o&&f,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(o,f){const C=this._elementInfo.get(f),S=Ht(o);!C||!C.checkChildren&&f!==S||this._originChanged(f,this._getFocusOrigin(S),C)}_onBlur(o,f){const C=this._elementInfo.get(f);!C||C.checkChildren&&o.relatedTarget instanceof Node&&f.contains(o.relatedTarget)||(this._setClasses(f),this._emitOrigin(C,null))}_emitOrigin(o,f){o.subject.observers.length&&this._ngZone.run(()=>o.subject.next(f))}_registerGlobalListeners(o){if(!this._platform.isBrowser)return;const f=o.rootNode,C=this._rootNodeFocusListenerCount.get(f)||0;C||this._ngZone.runOutsideAngular(()=>{f.addEventListener("focus",this._rootNodeFocusAndBlurListener,lo),f.addEventListener("blur",this._rootNodeFocusAndBlurListener,lo)}),this._rootNodeFocusListenerCount.set(f,C+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(cn(this._stopInputModalityDetector)).subscribe(S=>{this._setOrigin(S,!0)}))}_removeGlobalListeners(o){const f=o.rootNode;if(this._rootNodeFocusListenerCount.has(f)){const C=this._rootNodeFocusListenerCount.get(f);C>1?this._rootNodeFocusListenerCount.set(f,C-1):(f.removeEventListener("focus",this._rootNodeFocusAndBlurListener,lo),f.removeEventListener("blur",this._rootNodeFocusAndBlurListener,lo),this._rootNodeFocusListenerCount.delete(f))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(o,f,C){this._setClasses(o,f),this._emitOrigin(C,f),this._lastFocusOrigin=f}_getClosestElementsInfo(o){const f=[];return this._elementInfo.forEach((C,S)=>{(S===o||C.checkChildren&&S.contains(o))&&f.push([S,C])}),f}_isLastInteractionFromInputLabel(o){const{_mostRecentTarget:f,mostRecentModality:C}=this._inputModalityDetector;if("mouse"!==C||!f||f===o||"INPUT"!==o.nodeName&&"TEXTAREA"!==o.nodeName||o.disabled)return!1;const S=o.labels;if(S)for(let Z=0;Z<S.length;Z++)if(S[Z].contains(f))return!0;return!1}}return p.\u0275fac=function(o){return new(o||p)(h.LFG(h.R0b),h.LFG(Nn),h.LFG(Na),h.LFG(fe.K0,8),h.LFG(ci,8))},p.\u0275prov=h.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"}),p})();const hs="cdk-high-contrast-black-on-white",fs="cdk-high-contrast-white-on-black",ps="cdk-high-contrast-active";let na=(()=>{class p{constructor(o,f){this._platform=o,this._document=f,this._breakpointSubscription=(0,h.f3M)(ya).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const o=this._document.createElement("div");o.style.backgroundColor="rgb(1,2,3)",o.style.position="absolute",this._document.body.appendChild(o);const f=this._document.defaultView||window,C=f&&f.getComputedStyle?f.getComputedStyle(o):null,S=(C&&C.backgroundColor||"").replace(/ /g,"");switch(o.remove(),S){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const o=this._document.body.classList;o.remove(ps,hs,fs),this._hasCheckedHighContrastMode=!0;const f=this.getHighContrastMode();1===f?o.add(ps,hs):2===f&&o.add(ps,fs)}}}return p.\u0275fac=function(o){return new(o||p)(h.LFG(Nn),h.LFG(fe.K0))},p.\u0275prov=h.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"}),p})(),Kt=(()=>{class p{constructor(o){o._applyBodyHighContrastModeCssClasses()}}return p.\u0275fac=function(o){return new(o||p)(h.LFG(na))},p.\u0275mod=h.oAB({type:p}),p.\u0275inj=h.cJS({imports:[Pr]}),p})();const Gr=new h.OlP("cdk-dir-doc",{providedIn:"root",factory:function Hs(){return(0,h.f3M)(fe.K0)}}),Ss=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let _n=(()=>{class p{constructor(o){if(this.value="ltr",this.change=new h.vpe,o){const C=o.documentElement?o.documentElement.dir:null;this.value=function fn(p){const l=p?.toLowerCase()||"";return"auto"===l&&typeof navigator<"u"&&navigator?.language?Ss.test(navigator.language)?"rtl":"ltr":"rtl"===l?"rtl":"ltr"}((o.body?o.body.dir:null)||C||"ltr")}}ngOnDestroy(){this.change.complete()}}return p.\u0275fac=function(o){return new(o||p)(h.LFG(Gr,8))},p.\u0275prov=h.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"}),p})(),qt=(()=>{class p{}return p.\u0275fac=function(o){return new(o||p)},p.\u0275mod=h.oAB({type:p}),p.\u0275inj=h.cJS({}),p})();const eo=new h.OlP("mat-sanity-checks",{providedIn:"root",factory:function ol(){return!0}});let Rr=(()=>{class p{constructor(o,f,C){this._sanityChecks=f,this._document=C,this._hasDoneGlobalChecks=!1,o._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(o){return!On()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[o])}}return p.\u0275fac=function(o){return new(o||p)(h.LFG(na),h.LFG(eo,8),h.LFG(fe.K0))},p.\u0275mod=h.oAB({type:p}),p.\u0275inj=h.cJS({imports:[qt,qt]}),p})();function gs(p){return class extends p{constructor(...l){super(...l),this._disabled=!1}get disabled(){return this._disabled}set disabled(l){this._disabled=st(l)}}}function jo(p,l){return class extends p{constructor(...o){super(...o),this.defaultColor=l,this.color=l}get color(){return this._color}set color(o){const f=o||this.defaultColor;f!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),f&&this._elementRef.nativeElement.classList.add(`mat-${f}`),this._color=f)}}}function Nr(p){return class extends p{constructor(...l){super(...l),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(l){this._disableRipple=st(l)}}}function rn(p,l=0){return class extends p{constructor(...o){super(...o),this._tabIndex=l,this.defaultTabIndex=l}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(o){this._tabIndex=null!=o?tt(o):this.defaultTabIndex}}}let Ic=(()=>{class p{isErrorState(o,f){return!!(o&&o.invalid&&(o.touched||f&&f.submitted))}}return p.\u0275fac=function(o){return new(o||p)},p.\u0275prov=h.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"}),p})();class Ko{constructor(l,o,f,C=!1){this._renderer=l,this.element=o,this.config=f,this._animationForciblyDisabledThroughCss=C,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const xs={enterDuration:225,exitDuration:150},O=Yr({passive:!0}),I=["mousedown","touchstart"],F=["mouseup","mouseleave","touchend","touchcancel"];class W{constructor(l,o,f,C){this._target=l,this._ngZone=o,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,C.isBrowser&&(this._containerElement=Re(f))}fadeInRipple(l,o,f={}){const C=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),S={...xs,...f.animation};f.centered&&(l=C.left+C.width/2,o=C.top+C.height/2);const Z=f.radius||function J(p,l,o){const f=Math.max(Math.abs(p-o.left),Math.abs(p-o.right)),C=Math.max(Math.abs(l-o.top),Math.abs(l-o.bottom));return Math.sqrt(f*f+C*C)}(l,o,C),ee=l-C.left,ue=o-C.top,ke=S.enterDuration,qe=document.createElement("div");qe.classList.add("mat-ripple-element"),qe.style.left=ee-Z+"px",qe.style.top=ue-Z+"px",qe.style.height=2*Z+"px",qe.style.width=2*Z+"px",null!=f.color&&(qe.style.backgroundColor=f.color),qe.style.transitionDuration=`${ke}ms`,this._containerElement.appendChild(qe);const Pt=window.getComputedStyle(qe),an=Pt.transitionDuration,bn="none"===Pt.transitionProperty||"0s"===an||"0s, 0s"===an,Cn=new Ko(this,qe,f,bn);qe.style.transform="scale3d(1, 1, 1)",Cn.state=0,f.persistent||(this._mostRecentTransientRipple=Cn);let Mr=null;return!bn&&(ke||S.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const i=()=>this._finishRippleTransition(Cn),e=()=>this._destroyRipple(Cn);qe.addEventListener("transitionend",i),qe.addEventListener("transitioncancel",e),Mr={onTransitionEnd:i,onTransitionCancel:e}}),this._activeRipples.set(Cn,Mr),(bn||!ke)&&this._finishRippleTransition(Cn),Cn}fadeOutRipple(l){if(2===l.state||3===l.state)return;const o=l.element,f={...xs,...l.config.animation};o.style.transitionDuration=`${f.exitDuration}ms`,o.style.opacity="0",l.state=2,(l._animationForciblyDisabledThroughCss||!f.exitDuration)&&this._finishRippleTransition(l)}fadeOutAll(){this._getActiveRipples().forEach(l=>l.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(l=>{l.config.persistent||l.fadeOut()})}setupTriggerEvents(l){const o=Re(l);!o||o===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=o,this._registerEvents(I))}handleEvent(l){"mousedown"===l.type?this._onMousedown(l):"touchstart"===l.type?this._onTouchStart(l):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(F),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(l){0===l.state?this._startFadeOutTransition(l):2===l.state&&this._destroyRipple(l)}_startFadeOutTransition(l){const o=l===this._mostRecentTransientRipple,{persistent:f}=l.config;l.state=1,!f&&(!o||!this._isPointerDown)&&l.fadeOut()}_destroyRipple(l){const o=this._activeRipples.get(l)??null;this._activeRipples.delete(l),this._activeRipples.size||(this._containerRect=null),l===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),l.state=3,null!==o&&(l.element.removeEventListener("transitionend",o.onTransitionEnd),l.element.removeEventListener("transitioncancel",o.onTransitionCancel)),l.element.remove()}_onMousedown(l){const o=Ca(l),f=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!o&&!f&&(this._isPointerDown=!0,this.fadeInRipple(l.clientX,l.clientY,this._target.rippleConfig))}_onTouchStart(l){if(!this._target.rippleDisabled&&!Ji(l)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const o=l.changedTouches;for(let f=0;f<o.length;f++)this.fadeInRipple(o[f].clientX,o[f].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._getActiveRipples().forEach(l=>{!l.config.persistent&&(1===l.state||l.config.terminateOnPointerUp&&0===l.state)&&l.fadeOut()}))}_registerEvents(l){this._ngZone.runOutsideAngular(()=>{l.forEach(o=>{this._triggerElement.addEventListener(o,this,O)})})}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){this._triggerElement&&(I.forEach(l=>{this._triggerElement.removeEventListener(l,this,O)}),this._pointerUpEventsRegistered&&F.forEach(l=>{this._triggerElement.removeEventListener(l,this,O)}))}}const ce=new h.OlP("mat-ripple-global-options");let De=(()=>{class p{constructor(o,f,C,S,Z){this._elementRef=o,this._animationMode=Z,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=S||{},this._rippleRenderer=new W(this,f,o,C)}get disabled(){return this._disabled}set disabled(o){o&&this.fadeOutAllNonPersistent(),this._disabled=o,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(o){this._trigger=o,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(o,f=0,C){return"number"==typeof o?this._rippleRenderer.fadeInRipple(o,f,{...this.rippleConfig,...C}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...o})}}return p.\u0275fac=function(o){return new(o||p)(h.Y36(h.SBq),h.Y36(h.R0b),h.Y36(Nn),h.Y36(ce,8),h.Y36(h.QbO,8))},p.\u0275dir=h.lG2({type:p,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(o,f){2&o&&h.ekj("mat-ripple-unbounded",f.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),p})(),ht=(()=>{class p{}return p.\u0275fac=function(o){return new(o||p)},p.\u0275mod=h.oAB({type:p}),p.\u0275inj=h.cJS({imports:[Rr,Rr]}),p})(),Xn=(()=>{class p{}return p.\u0275fac=function(o){return new(o||p)},p.\u0275mod=h.oAB({type:p}),p.\u0275inj=h.cJS({imports:[Rr]}),p})(),la=(()=>{class p{}return p.\u0275fac=function(o){return new(o||p)},p.\u0275mod=h.oAB({type:p}),p.\u0275inj=h.cJS({imports:[ht,fe.ez,Rr,Xn]}),p})();var Li=k(515),Ws=k(6451),Nt=k(7340);const hi=["body"];function es(p,l){}const Ac=[[["mat-expansion-panel-header"]],"*",[["mat-action-row"]]],Ni=["mat-expansion-panel-header","*","mat-action-row"];function rc(p,l){if(1&p&&h._UZ(0,"span",2),2&p){const o=h.oxw();h.Q6J("@indicatorRotate",o._getExpandedState())}}const B=[[["mat-panel-title"]],[["mat-panel-description"]],"*"],j=["mat-panel-title","mat-panel-description","*"],X=new h.OlP("MAT_ACCORDION"),pe="225ms cubic-bezier(0.4,0.0,0.2,1)",Ye={indicatorRotate:(0,Nt.X$)("indicatorRotate",[(0,Nt.SB)("collapsed, void",(0,Nt.oB)({transform:"rotate(0deg)"})),(0,Nt.SB)("expanded",(0,Nt.oB)({transform:"rotate(180deg)"})),(0,Nt.eR)("expanded <=> collapsed, void => collapsed",(0,Nt.jt)(pe))]),bodyExpansion:(0,Nt.X$)("bodyExpansion",[(0,Nt.SB)("collapsed, void",(0,Nt.oB)({height:"0px",visibility:"hidden"})),(0,Nt.SB)("expanded",(0,Nt.oB)({height:"*",visibility:"visible"})),(0,Nt.eR)("expanded <=> collapsed, void => collapsed",(0,Nt.jt)(pe))])},ct=new h.OlP("MAT_EXPANSION_PANEL");let Lt=(()=>{class p{constructor(o,f){this._template=o,this._expansionPanel=f}}return p.\u0275fac=function(o){return new(o||p)(h.Y36(h.Rgc),h.Y36(ct,8))},p.\u0275dir=h.lG2({type:p,selectors:[["ng-template","matExpansionPanelContent",""]]}),p})(),Xt=0;const En=new h.OlP("MAT_EXPANSION_PANEL_DEFAULT_OPTIONS");let Pn=(()=>{class p extends Je{constructor(o,f,C,S,Z,ee,ue){super(o,f,C),this._viewContainerRef=S,this._animationMode=ee,this._hideToggle=!1,this.afterExpand=new h.vpe,this.afterCollapse=new h.vpe,this._inputChanges=new Ne.x,this._headerId="mat-expansion-panel-header-"+Xt++,this._bodyAnimationDone=new Ne.x,this.accordion=o,this._document=Z,this._bodyAnimationDone.pipe((0,U.x)((ke,qe)=>ke.fromState===qe.fromState&&ke.toState===qe.toState)).subscribe(ke=>{"void"!==ke.fromState&&("expanded"===ke.toState?this.afterExpand.emit():"collapsed"===ke.toState&&this.afterCollapse.emit())}),ue&&(this.hideToggle=ue.hideToggle)}get hideToggle(){return this._hideToggle||this.accordion&&this.accordion.hideToggle}set hideToggle(o){this._hideToggle=st(o)}get togglePosition(){return this._togglePosition||this.accordion&&this.accordion.togglePosition}set togglePosition(o){this._togglePosition=o}_hasSpacing(){return!!this.accordion&&this.expanded&&"default"===this.accordion.displayMode}_getExpandedState(){return this.expanded?"expanded":"collapsed"}toggle(){this.expanded=!this.expanded}close(){this.expanded=!1}open(){this.expanded=!0}ngAfterContentInit(){this._lazyContent&&this._lazyContent._expansionPanel===this&&this.opened.pipe((0,Wi.O)(null),(0,pi.h)(()=>this.expanded&&!this._portal),(0,$.q)(1)).subscribe(()=>{this._portal=new Dn(this._lazyContent._template,this._viewContainerRef)})}ngOnChanges(o){this._inputChanges.next(o)}ngOnDestroy(){super.ngOnDestroy(),this._bodyAnimationDone.complete(),this._inputChanges.complete()}_containsFocus(){if(this._body){const o=this._document.activeElement,f=this._body.nativeElement;return o===f||f.contains(o)}return!1}}return p.\u0275fac=function(o){return new(o||p)(h.Y36(X,12),h.Y36(h.sBO),h.Y36(Pe),h.Y36(h.s_b),h.Y36(fe.K0),h.Y36(h.QbO,8),h.Y36(En,8))},p.\u0275cmp=h.Xpm({type:p,selectors:[["mat-expansion-panel"]],contentQueries:function(o,f,C){if(1&o&&h.Suo(C,Lt,5),2&o){let S;h.iGM(S=h.CRH())&&(f._lazyContent=S.first)}},viewQuery:function(o,f){if(1&o&&h.Gf(hi,5),2&o){let C;h.iGM(C=h.CRH())&&(f._body=C.first)}},hostAttrs:[1,"mat-expansion-panel"],hostVars:6,hostBindings:function(o,f){2&o&&h.ekj("mat-expanded",f.expanded)("_mat-animation-noopable","NoopAnimations"===f._animationMode)("mat-expansion-panel-spacing",f._hasSpacing())},inputs:{disabled:"disabled",expanded:"expanded",hideToggle:"hideToggle",togglePosition:"togglePosition"},outputs:{opened:"opened",closed:"closed",expandedChange:"expandedChange",afterExpand:"afterExpand",afterCollapse:"afterCollapse"},exportAs:["matExpansionPanel"],features:[h._Bn([{provide:X,useValue:void 0},{provide:ct,useExisting:p}]),h.qOj,h.TTD],ngContentSelectors:Ni,decls:7,vars:4,consts:[["role","region",1,"mat-expansion-panel-content",3,"id"],["body",""],[1,"mat-expansion-panel-body"],[3,"cdkPortalOutlet"]],template:function(o,f){1&o&&(h.F$t(Ac),h.Hsn(0),h.TgZ(1,"div",0,1),h.NdJ("@bodyExpansion.done",function(S){return f._bodyAnimationDone.next(S)}),h.TgZ(3,"div",2),h.Hsn(4,1),h.YNc(5,es,0,0,"ng-template",3),h.qZA(),h.Hsn(6,2),h.qZA()),2&o&&(h.xp6(1),h.Q6J("@bodyExpansion",f._getExpandedState())("id",f.id),h.uIk("aria-labelledby",f._headerId),h.xp6(4),h.Q6J("cdkPortalOutlet",f._portal))},dependencies:[rr],styles:['.mat-expansion-panel{box-sizing:content-box;display:block;margin:0;border-radius:4px;overflow:hidden;transition:margin 225ms cubic-bezier(0.4, 0, 0.2, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);position:relative}.mat-accordion .mat-expansion-panel:not(.mat-expanded),.mat-accordion .mat-expansion-panel:not(.mat-expansion-panel-spacing){border-radius:0}.mat-accordion .mat-expansion-panel:first-of-type{border-top-right-radius:4px;border-top-left-radius:4px}.mat-accordion .mat-expansion-panel:last-of-type{border-bottom-right-radius:4px;border-bottom-left-radius:4px}.cdk-high-contrast-active .mat-expansion-panel{outline:solid 1px}.mat-expansion-panel.ng-animate-disabled,.ng-animate-disabled .mat-expansion-panel,.mat-expansion-panel._mat-animation-noopable{transition:none}.mat-expansion-panel-content{display:flex;flex-direction:column;overflow:visible}.mat-expansion-panel-content[style*="visibility: hidden"] *{visibility:hidden !important}.mat-expansion-panel-body{padding:0 24px 16px}.mat-expansion-panel-spacing{margin:16px 0}.mat-accordion>.mat-expansion-panel-spacing:first-child,.mat-accordion>*:first-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-top:0}.mat-accordion>.mat-expansion-panel-spacing:last-child,.mat-accordion>*:last-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-bottom:0}.mat-action-row{border-top-style:solid;border-top-width:1px;display:flex;flex-direction:row;justify-content:flex-end;padding:16px 8px 16px 24px}.mat-action-row .mat-button-base,.mat-action-row .mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-action-row .mat-button-base,[dir=rtl] .mat-action-row .mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2,data:{animation:[Ye.bodyExpansion]},changeDetection:0}),p})();class kn{}const fi=rn(kn);let Ki=(()=>{class p extends fi{constructor(o,f,C,S,Z,ee,ue){super(),this.panel=o,this._element=f,this._focusMonitor=C,this._changeDetectorRef=S,this._animationMode=ee,this._parentChangeSubscription=Me.w0.EMPTY;const ke=o.accordion?o.accordion._stateChanges.pipe((0,pi.h)(qe=>!(!qe.hideToggle&&!qe.togglePosition))):Li.E;this.tabIndex=parseInt(ue||"")||0,this._parentChangeSubscription=(0,Ws.T)(o.opened,o.closed,ke,o._inputChanges.pipe((0,pi.h)(qe=>!!(qe.hideToggle||qe.disabled||qe.togglePosition)))).subscribe(()=>this._changeDetectorRef.markForCheck()),o.closed.pipe((0,pi.h)(()=>o._containsFocus())).subscribe(()=>C.focusVia(f,"program")),Z&&(this.expandedHeight=Z.expandedHeight,this.collapsedHeight=Z.collapsedHeight)}get disabled(){return this.panel.disabled}_toggle(){this.disabled||this.panel.toggle()}_isExpanded(){return this.panel.expanded}_getExpandedState(){return this.panel._getExpandedState()}_getPanelId(){return this.panel.id}_getTogglePosition(){return this.panel.togglePosition}_showToggle(){return!this.panel.hideToggle&&!this.panel.disabled}_getHeaderHeight(){const o=this._isExpanded();return o&&this.expandedHeight?this.expandedHeight:!o&&this.collapsedHeight?this.collapsedHeight:null}_keydown(o){switch(o.keyCode){case 32:case 13:Ii(o)||(o.preventDefault(),this._toggle());break;default:return void(this.panel.accordion&&this.panel.accordion._handleHeaderKeydown(o))}}focus(o,f){o?this._focusMonitor.focusVia(this._element,o,f):this._element.nativeElement.focus(f)}ngAfterViewInit(){this._focusMonitor.monitor(this._element).subscribe(o=>{o&&this.panel.accordion&&this.panel.accordion._handleHeaderFocus(this)})}ngOnDestroy(){this._parentChangeSubscription.unsubscribe(),this._focusMonitor.stopMonitoring(this._element)}}return p.\u0275fac=function(o){return new(o||p)(h.Y36(Pn,1),h.Y36(h.SBq),h.Y36(Vs),h.Y36(h.sBO),h.Y36(En,8),h.Y36(h.QbO,8),h.$8M("tabindex"))},p.\u0275cmp=h.Xpm({type:p,selectors:[["mat-expansion-panel-header"]],hostAttrs:["role","button",1,"mat-expansion-panel-header","mat-focus-indicator"],hostVars:15,hostBindings:function(o,f){1&o&&h.NdJ("click",function(){return f._toggle()})("keydown",function(S){return f._keydown(S)}),2&o&&(h.uIk("id",f.panel._headerId)("tabindex",f.tabIndex)("aria-controls",f._getPanelId())("aria-expanded",f._isExpanded())("aria-disabled",f.panel.disabled),h.Udp("height",f._getHeaderHeight()),h.ekj("mat-expanded",f._isExpanded())("mat-expansion-toggle-indicator-after","after"===f._getTogglePosition())("mat-expansion-toggle-indicator-before","before"===f._getTogglePosition())("_mat-animation-noopable","NoopAnimations"===f._animationMode))},inputs:{tabIndex:"tabIndex",expandedHeight:"expandedHeight",collapsedHeight:"collapsedHeight"},features:[h.qOj],ngContentSelectors:j,decls:5,vars:3,consts:[[1,"mat-content"],["class","mat-expansion-indicator",4,"ngIf"],[1,"mat-expansion-indicator"]],template:function(o,f){1&o&&(h.F$t(B),h.TgZ(0,"span",0),h.Hsn(1),h.Hsn(2,1),h.Hsn(3,2),h.qZA(),h.YNc(4,rc,1,1,"span",1)),2&o&&(h.ekj("mat-content-hide-toggle",!f._showToggle()),h.xp6(4),h.Q6J("ngIf",f._showToggle()))},dependencies:[fe.O5],styles:['.mat-expansion-panel-header{display:flex;flex-direction:row;align-items:center;padding:0 24px;border-radius:inherit;transition:height 225ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-expansion-panel-header._mat-animation-noopable{transition:none}.mat-expansion-panel-header:focus,.mat-expansion-panel-header:hover{outline:none}.mat-expansion-panel-header.mat-expanded:focus,.mat-expansion-panel-header.mat-expanded:hover{background:inherit}.mat-expansion-panel-header:not([aria-disabled=true]){cursor:pointer}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before{flex-direction:row-reverse}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 16px 0 0}[dir=rtl] .mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 0 0 16px}.mat-content{display:flex;flex:1;flex-direction:row;overflow:hidden}.mat-content.mat-content-hide-toggle{margin-right:8px}[dir=rtl] .mat-content.mat-content-hide-toggle{margin-right:0;margin-left:8px}.mat-expansion-toggle-indicator-before .mat-content.mat-content-hide-toggle{margin-left:24px;margin-right:0}[dir=rtl] .mat-expansion-toggle-indicator-before .mat-content.mat-content-hide-toggle{margin-right:24px;margin-left:0}.mat-expansion-panel-header-title,.mat-expansion-panel-header-description{display:flex;flex-grow:1;flex-basis:0;margin-right:16px;align-items:center}[dir=rtl] .mat-expansion-panel-header-title,[dir=rtl] .mat-expansion-panel-header-description{margin-right:0;margin-left:16px}.mat-expansion-panel-header-description{flex-grow:2}.mat-expansion-indicator::after{border-style:solid;border-width:0 2px 2px 0;content:"";display:inline-block;padding:3px;transform:rotate(45deg);vertical-align:middle}.cdk-high-contrast-active .mat-expansion-panel-content{border-top:1px solid;border-top-left-radius:0;border-top-right-radius:0}'],encapsulation:2,data:{animation:[Ye.indicatorRotate]},changeDetection:0}),p})(),wa=(()=>{class p{}return p.\u0275fac=function(o){return new(o||p)},p.\u0275dir=h.lG2({type:p,selectors:[["mat-panel-title"]],hostAttrs:[1,"mat-expansion-panel-header-title"]}),p})(),ms=(()=>{class p extends It{constructor(){super(...arguments),this._ownHeaders=new h.n_E,this._hideToggle=!1,this.displayMode="default",this.togglePosition="after"}get hideToggle(){return this._hideToggle}set hideToggle(o){this._hideToggle=st(o)}ngAfterContentInit(){this._headers.changes.pipe((0,Wi.O)(this._headers)).subscribe(o=>{this._ownHeaders.reset(o.filter(f=>f.panel.accordion===this)),this._ownHeaders.notifyOnChanges()}),this._keyManager=new lr(this._ownHeaders).withWrap().withHomeAndEnd()}_handleHeaderKeydown(o){this._keyManager.onKeydown(o)}_handleHeaderFocus(o){this._keyManager.updateActiveItem(o)}ngOnDestroy(){super.ngOnDestroy(),this._ownHeaders.destroy()}}return p.\u0275fac=function(){let l;return function(f){return(l||(l=h.n5z(p)))(f||p)}}(),p.\u0275dir=h.lG2({type:p,selectors:[["mat-accordion"]],contentQueries:function(o,f,C){if(1&o&&h.Suo(C,Ki,5),2&o){let S;h.iGM(S=h.CRH())&&(f._headers=S)}},hostAttrs:[1,"mat-accordion"],hostVars:2,hostBindings:function(o,f){2&o&&h.ekj("mat-accordion-multi",f.multi)},inputs:{multi:"multi",hideToggle:"hideToggle",displayMode:"displayMode",togglePosition:"togglePosition"},exportAs:["matAccordion"],features:[h._Bn([{provide:X,useExisting:p}]),h.qOj]}),p})(),al=(()=>{class p{}return p.\u0275fac=function(o){return new(o||p)},p.\u0275mod=h.oAB({type:p}),p.\u0275inj=h.cJS({imports:[fe.ez,Rr,de,Kn]}),p})(),ca=(()=>{class p{constructor(){}ngOnInit(){}}return p.\u0275fac=function(o){return new(o||p)},p.\u0275cmp=h.Xpm({type:p,selectors:[["app-our-services"]],decls:140,vars:0,consts:[[1,"container"],[1,"mt-1"],[1,"mt-2"]],template:function(o,f){1&o&&(h.TgZ(0,"div",0)(1,"div",1)(2,"h2"),h._uU(3,"Our Services"),h.qZA(),h.TgZ(4,"mat-accordion")(5,"mat-expansion-panel",2)(6,"mat-expansion-panel-header")(7,"mat-panel-title"),h._uU(8," Transfer Pricing Compliances "),h.qZA()(),h.TgZ(9,"ul")(10,"li"),h._uU(11,"Transfer Pricing Compliances"),h.qZA(),h.TgZ(12,"li"),h._uU(13,"Transfer Pricing Documentation"),h.qZA(),h.TgZ(14,"li"),h._uU(15,"Accountant's Report - Form No. 3CEB"),h.qZA(),h.TgZ(16,"li"),h._uU(17,"Master File"),h.qZA(),h.TgZ(18,"li"),h._uU(19,"Country-by-Country Report"),h.qZA(),h.TgZ(20,"li"),h._uU(21,"Global Transfer Pricing Compliance - Regional/Country comparable studies & filings adhering to OECD guidelines and local regulations. (SBC has access to all major Indian and Global databases/software - Prowess, CapitalineTP, AceTP, Amadeus, Compustat, Kt-Mine, RoyaltyRange, RoyaltyStat, Orbis, Osiris, IBISWorld, Factiva, One Source, Loan Connector, etc.)"),h.qZA(),h.TgZ(22,"li"),h._uU(23,"Transfer Pricing Comfort Letters/Memos for Statutory Auditors"),h.qZA(),h.TgZ(24,"li"),h._uU(25,"FIN 48 Assistance - Quantification & Opinion on Transfer Pricing exposure and uncertain tax positions"),h.qZA(),h.TgZ(26,"li"),h._uU(27,"Transfer Pricing analysis and Board meeting presentations for Listed Companies from SEBI Regulations and Companies Act perspective."),h.qZA()()(),h.TgZ(28,"mat-expansion-panel",2)(29,"mat-expansion-panel-header")(30,"mat-panel-title"),h._uU(31," Transfer Pricing Advisory On "),h.qZA()(),h.TgZ(32,"ul")(33,"li"),h._uU(34,"Transfer Pricing Policy & Price Setting"),h.qZA(),h.TgZ(35,"li"),h._uU(36,"Drafting/Review of Inter-Company Agreements"),h.qZA(),h.TgZ(37,"li"),h._uU(38,"Alternative Business and Remuneration Models that are sustainable"),h.qZA(),h.TgZ(39,"li"),h._uU(40,"Comparable Studies and Benchmarking analyses"),h.qZA(),h.TgZ(41,"li"),h._uU(42,"Operational Transfer Pricing"),h.qZA(),h.TgZ(43,"li"),h._uU(44,"Group Profit & Effective Tax Planning"),h.qZA(),h.TgZ(45,"li"),h._uU(46,"Tax efficient structuring of international transactions & transaction flows"),h.qZA(),h.TgZ(47,"li"),h._uU(48,"Supplementary analyses to strengthen the documentation from litigation perspective"),h.qZA(),h.TgZ(49,"li"),h._uU(50,"Voluntary Transfer Pricing Adjustments"),h.qZA(),h.TgZ(51,"li"),h._uU(52,"Secondary Adjustments"),h.qZA(),h.TgZ(53,"li"),h._uU(54,"Transfer Pricing Health Check-Up to avoid/mitigate risks"),h.qZA(),h.TgZ(55,"li"),h._uU(56,"Transfer Pricing Due Diligence"),h.qZA(),h.TgZ(57,"li"),h._uU(58,"Drawing Segmental P&L for Transfer Pricing Purposes"),h.qZA(),h.TgZ(59,"li"),h._uU(60,"Economic adjustments computation - Risk, Working Capital, Forex, Capacity Utilisation, Depreciation, Cash PLI adjustments"),h.qZA()()(),h.TgZ(61,"mat-expansion-panel",2)(62,"mat-expansion-panel-header")(63,"mat-panel-title"),h._uU(64," Complex inter-company transactions - Planning, Implementation & Compliance support for: "),h.qZA()(),h.TgZ(65,"ul")(66,"li"),h._uU(67,"Intangibles - Structuring, Royalty & Licencing rates, Withholding implications, Agreements "),h.qZA(),h.TgZ(68,"li"),h._uU(69,"Financial Transactions - Interest rates, Withholding implications, Agreements"),h.qZA(),h.TgZ(70,"li"),h._uU(71,"Intra-Group Services, Management Charges, Cost Contribution Arrangements - Charging/mark-up rates, Agreements, Cost pooling & allocation"),h.qZA(),h.TgZ(72,"li"),h._uU(73,"Business Restructurings - Transfer Pricing implications, Agreements & Contracts review"),h.qZA(),h.TgZ(74,"li"),h._uU(75,"General Anti Avoidance Rules (GAAR) implications"),h.qZA(),h.TgZ(76,"li"),h._uU(77,"Permanent Establishment (PE) Exposure for existing/proposed transactions"),h.qZA()()(),h.TgZ(78,"mat-expansion-panel",2)(79,"mat-expansion-panel-header")(80,"mat-panel-title"),h._uU(81," Transfer Pricing Litigation support & Representations before "),h.qZA()(),h.TgZ(82,"ul")(83,"li"),h._uU(84,"First level authorities - Transfer Pricing Officers (TPO)/ Assessing Officers (AO)"),h.qZA(),h.TgZ(85,"li"),h._uU(86,"Dispute Resolution Panel (DRP)"),h.qZA(),h.TgZ(87,"li"),h._uU(88,"Appellate authorities - Commissioner of Income Tax (Appeals) [CIT(A)], Income Tax Appellate Tribunals (ITAT), High Court, Supreme Court"),h.qZA(),h.TgZ(89,"li"),h._uU(90,"Penalty, Rectification, Re-assessment, Revision, Remand, Order giving effect, Stay of demand proceedings"),h.qZA()()(),h.TgZ(91,"mat-expansion-panel",2)(92,"mat-expansion-panel-header")(93,"mat-panel-title"),h._uU(94," Alternate Dispute Resolution Routes - Advance Pricing Agreement (APA), Mutual Agreement Procedure (MAP), Safe Harbour Rules (SHR) "),h.qZA()(),h.TgZ(95,"ul")(96,"li"),h._uU(97,"Cost Benefit Analysis for decision making"),h.qZA(),h.TgZ(98,"li"),h._uU(99,"Filing of Applications in prescribed Forms"),h.qZA(),h.TgZ(100,"li"),h._uU(101,"Representations & Submissions"),h.qZA(),h.TgZ(102,"li"),h._uU(103,"Application Renewals"),h.qZA(),h.TgZ(104,"li"),h._uU(105,"APAs - both unilateral & bilateral"),h.qZA()()(),h.TgZ(106,"mat-expansion-panel",2)(107,"mat-expansion-panel-header")(108,"mat-panel-title"),h._uU(109," BEPS Advisory - Readiness, Implementation, Impact on International Tax Structures: "),h.qZA()(),h.TgZ(110,"ul")(111,"li"),h._uU(112,"BEPS Contract Analysis"),h.qZA(),h.TgZ(113,"li"),h._uU(114,"Value Chain Analysis and Management"),h.qZA(),h.TgZ(115,"li"),h._uU(116,"OECD Pillar 1 & 2 \u2013 Readiness, Implementation & Impact"),h.qZA(),h.TgZ(117,"li"),h._uU(118,"Supply Chain Restructuring"),h.qZA(),h.TgZ(119,"li"),h._uU(120,"Three Tier Documentation support in line with Action 13"),h.qZA(),h.TgZ(121,"li"),h._uU(122,"IP Structuring /DEMPE analysis in view of Action 8"),h.qZA(),h.TgZ(123,"li"),h._uU(124,"Financial Transactions planning factoring in Action 4 and 9 and OECD guidelines on Financial Transactions"),h.qZA(),h.TgZ(125,"li"),h._uU(126,"High risk transactions structuring in coherence with Action 10"),h.qZA(),h.TgZ(127,"li"),h._uU(128,"Profit Split Method \u2013 applicability, implementation, splitting factors, projections, segmentation, planning/price setting as per BEPS"),h.qZA()()(),h.TgZ(129,"mat-expansion-panel",2)(130,"mat-expansion-panel-header")(131,"mat-panel-title"),h._uU(132," Valuations for arm's length determination for Transfer Pricing purposes: "),h.qZA()(),h.TgZ(133,"ul")(134,"li"),h._uU(135,"Assets (tangibles & intangibles) transfer between related parties"),h.qZA(),h.TgZ(136,"li"),h._uU(137,"Capital/financial transactions (equity, debt & hybrid instruments, guarantees) - issue, sale, buybacks between related parties"),h.qZA(),h.TgZ(138,"li"),h._uU(139,"Mergers & Acquisitions transactions - selling, buying, combining, restructuring involving related parties "),h.qZA()()()()()())},dependencies:[ms,Pn,Ki,wa],styles:[".container[_ngcontent-%COMP%]{text-align:left;padding:3em}h2[_ngcontent-%COMP%]{font-size:30px;color:#34568b;text-decoration:underline}.mat-expansion-panel-header-title[_ngcontent-%COMP%]{font-size:20px;font-weight:500}  .mat-expansion-panel-body{background:white;color:#000;padding-top:25px!important}mat-expansion-panel[_ngcontent-%COMP%]{background:cadetblue;color:#fff}@media only screen and (max-width: 500px){.container[_ngcontent-%COMP%]{padding:1em}}"]}),p})(),Ks=(()=>{class p{constructor(){}ngOnInit(){}}return p.\u0275fac=function(o){return new(o||p)},p.\u0275cmp=h.Xpm({type:p,selectors:[["app-workflow"]],decls:51,vars:0,consts:[[1,"container"],[1,"text-center"],["id","s8-templatessection5",1,"content-services","s8-templates-section"],[1,"s8-templates-section-background"],[1,"s8-templates-section-content","s8-templates-section-contentsize-md","s8-templates-section-content-paddingleft","s8-templates-section-content-paddingright",2,"position","relative","padding-left","1rem","padding-right","1rem","padding-top","2rem","padding-bottom","1rem"],[1,"row"],[1,"services-box","col-sm-3"],[1,"price-box"],[1,"price-details"],[1,"services-box","prices-box","col-sm-3"]],template:function(o,f){1&o&&(h.TgZ(0,"div",0)(1,"h2"),h._uU(2,"Our Workflow"),h.qZA(),h.TgZ(3,"div",1)(4,"p"),h._uU(5," The benchmarking process starts after the analysis of identifying and characterising the international related party transaction has already be performed. Please contact us if you require assistance with this area and we can quote separately. If you have already performed this analysis, you are ready for benchmarking. Our benchmarking process can be summarised as follows: "),h.qZA()(),h.TgZ(6,"section",2),h._UZ(7,"div",3),h.TgZ(8,"div",4)(9,"div",5)(10,"div",6)(11,"h3"),h._uU(12,"Step One"),h.qZA(),h.TgZ(13,"div",7)(14,"h4"),h._uU(15,"Data Gathering"),h.qZA(),h.TgZ(16,"div",8)(17,"p"),h._uU(18," Complete the online questionnaire regarding the company, industry and transaction information. We are willing to sign confidentiality agreements if required. "),h.qZA()()()(),h.TgZ(19,"div",9)(20,"h3"),h._uU(21,"Step Two"),h.qZA(),h.TgZ(22,"div",7)(23,"h4"),h._uU(24,"Benchmarking Analysis"),h.qZA(),h.TgZ(25,"div",8)(26,"p"),h._uU(27," Transfer Pricing Benchmarking performs the benchmarking analysis. The analysis itself has many steps in the process before a final comparable set is identified. "),h.qZA()()()(),h.TgZ(28,"div",9)(29,"h3"),h._uU(30,"Step Three"),h.qZA(),h.TgZ(31,"div",7)(32,"h4"),h._uU(33,"Draft Report"),h.qZA(),h.TgZ(34,"div",8)(35,"p"),h._uU(36,"Transfer Pricing Solutions finalises the benchmarking analysis and provides a draft report for discussion."),h.qZA(),h.TgZ(37,"p"),h._UZ(38,"br"),h.qZA(),h._UZ(39,"p"),h.qZA()()(),h.TgZ(40,"div",9)(41,"h3"),h._uU(42,"Step Four"),h.qZA(),h.TgZ(43,"div",7)(44,"h4"),h._uU(45,"Final Report"),h.qZA(),h.TgZ(46,"div",8)(47,"p"),h._uU(48," The final report includes the full search write up, the benchmarking analysis, the elimination chart and financials of the final comparable companies."),h._UZ(49,"br")(50,"br"),h.qZA()()()()()()()())},styles:[".container[_ngcontent-%COMP%]{text-align:left;padding:3em}h2[_ngcontent-%COMP%]{font-size:30px;color:#34568b;text-decoration:underline}.services-box[_ngcontent-%COMP%] > h3[_ngcontent-%COMP%]{text-align:center;font-size:20px;font-weight:500;margin-bottom:5px}div.price-box[_ngcontent-%COMP%]{padding-bottom:20px;background:teal;color:#fff;text-align:center;min-height:200px}div.price-box[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{text-align:center;text-transform:uppercase;font-size:15px;font-weight:500;background:lightgray;color:#000;padding-top:5px}@media only screen and (max-width: 500px){.div.container[_ngcontent-%COMP%] > div.text-center[_ngcontent-%COMP%]{padding:5px}}"]}),p})();function ua(p,l){if(1&p&&(h.TgZ(0,"div",2)(1,"div",3)(2,"div",4),h._UZ(3,"img",5),h.qZA(),h.TgZ(4,"div",6)(5,"h4"),h._uU(6),h.qZA()(),h.TgZ(7,"div",7)(8,"button",8),h._uU(9),h.qZA()()()()),2&p){const o=l.$implicit;h.xp6(3),h.Q6J("src",o.image,h.LSH),h.xp6(3),h.Oqu(o.head),h.xp6(2),h.Q6J("routerLink",o.route),h.xp6(1),h.Oqu(o.action)}}let Va=(()=>{class p{constructor(){this.cards=[],this.cards.push({image:"assets/icons/company.png",head:"Are you company",content:"",action:"Get Started",route:"/register/company"}),this.cards.push({image:"assets/icons/consultant.png",head:"Are you consultant",content:"",action:"Get Started",route:"/register/consultant"}),this.cards.push({image:"assets/icons/support.png",head:"Talk to our Team",content:"",action:"Get Started",route:"/contact-us"})}ngOnInit(){}}return p.\u0275fac=function(o){return new(o||p)},p.\u0275cmp=h.Xpm({type:p,selectors:[["app-section-cards"]],decls:2,vars:1,consts:[[1,"row",2,"justify-content","center"],["class","col-xs-12 col-sm-4 col-md-3 mx-3",4,"ngFor","ngForOf"],[1,"col-xs-12","col-sm-4","col-md-3","mx-3"],[1,"card"],[1,"card-image"],["height","200","width","auto",3,"src"],[1,"card-content"],[1,"card-actions"],[1,"btn-action",3,"routerLink"]],template:function(o,f){1&o&&(h.TgZ(0,"div",0),h.YNc(1,ua,10,4,"div",1),h.qZA()),2&o&&(h.xp6(1),h.Q6J("ngForOf",f.cards))},dependencies:[fe.sg,_e.rH],styles:[".card[_ngcontent-%COMP%]{box-shadow:0 4px 6px #000b281a;width:100%;display:inline-block;margin:10px}.card-content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-weight:600;font-size:22px}.btn-action[_ngcontent-%COMP%]{color:#b64b4d;border-width:1px!important;border-color:#b64b4d;border-radius:50px;margin-bottom:10px;padding:10px 30px!important;border:2px solid}.btn-action[_ngcontent-%COMP%]:hover{color:#fff!important;background-color:#b64b4d!important;border-color:#b64b4d!important;border-radius:50px}"]}),p})(),id=(()=>{class p{constructor(){}ngOnInit(){}}return p.\u0275fac=function(o){return new(o||p)},p.\u0275cmp=h.Xpm({type:p,selectors:[["app-home"]],decls:15,vars:0,consts:[[1,"container"],[1,"main","text-center"],[1,"top"],[1,"head1"],[1,"head2"],[1,"link1"],[1,"bottom"]],template:function(o,f){1&o&&(h.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),h._uU(4,"TRANSFER PRICING 'MADE EASY'"),h.qZA(),h.TgZ(5,"div",4)(6,"span",5),h._uU(7,"Transferpricing.in"),h.qZA(),h._uU(8," is the one-stop solution for creating & managing Transfer Pricing documentation, including Local Files, Master Files, CbCR, Benchmarks, Inter Company Agreements and much more. "),h.qZA()(),h.TgZ(9,"div",6),h._UZ(10,"app-section-cards"),h.qZA()(),h.TgZ(11,"div"),h._UZ(12,"app-our-services"),h.qZA(),h.TgZ(13,"div"),h._UZ(14,"app-workflow"),h.qZA()())},dependencies:[ca,Ks,Va],styles:["h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%]{color:#071f4d}h2[_ngcontent-%COMP%], .h2[_ngcontent-%COMP%]{font-size:30px}h1[_ngcontent-%COMP%], .h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], .h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], .h3[_ngcontent-%COMP%]{margin-top:20px;margin-bottom:10px}.main[_ngcontent-%COMP%]{padding:20px;margin-top:2%}.main[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]{display:inline-block;max-width:700px}.main[_ngcontent-%COMP%]   .bottom[_ngcontent-%COMP%]{margin-top:20px}.proceed-login[_ngcontent-%COMP%]{font-size:20px}.head1[_ngcontent-%COMP%]{font-family:Montserrat,Helvetica,Arial,Lucida,sans-serif;font-weight:500;font-size:35px;line-height:1.5em}.head2[_ngcontent-%COMP%]{font-size:18px;line-height:35px}.link1[_ngcontent-%COMP%]{color:red;text-decoration:underline;cursor:pointer;font-weight:700}@media only screen and (max-width: 500px){.head1[_ngcontent-%COMP%]{font-size:30px}}"]}),p})();function sf(p,l){if(1&p){const o=h.EpF();h.TgZ(0,"button",10),h.NdJ("click",function(){h.CHM(o);const C=h.oxw();return h.KtG(C.previous())}),h._uU(1,"Previous"),h.qZA()}}function af(p,l){if(1&p){const o=h.EpF();h.TgZ(0,"button",11),h.NdJ("click",function(){h.CHM(o);const C=h.oxw();return h.KtG(C.next())}),h._uU(1,"Next"),h.qZA()}}const od=function(p){return{active:p}};let xo=(()=>{class p{constructor(){this.step=1}ngOnInit(){}validate(){return!0}next(){this.validate()&&this.step++}previous(){this.step--}}return p.\u0275fac=function(o){return new(o||p)},p.\u0275cmp=h.Xpm({type:p,selectors:[["app-dashboard"]],decls:23,vars:11,consts:[[1,"container","mt-3"],[1,"steps-container"],[1,"step",2,"width","33.3333%",3,"ngClass"],[1,"step-index"],[1,"step-circle"],[1,"step-text"],[1,"step","inactive",2,"width","33.3333%",3,"ngClass"],[1,"step-main"],["class","btn btn-secondary",3,"click",4,"ngIf"],["class","btn btn-primary",3,"click",4,"ngIf"],[1,"btn","btn-secondary",3,"click"],[1,"btn","btn-primary",3,"click"]],template:function(o,f){1&o&&(h.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"span",4),h._uU(5,"1"),h.qZA()(),h.TgZ(6,"div",5),h._uU(7," Provide Company Information "),h.qZA()(),h.TgZ(8,"div",6)(9,"div",3)(10,"span",4),h._uU(11,"2"),h.qZA()(),h.TgZ(12,"div",5),h._uU(13," Upload Required Documents "),h.qZA()(),h.TgZ(14,"div",6)(15,"div",3)(16,"span",4),h._uU(17,"3"),h.qZA()(),h.TgZ(18,"div",5),h._uU(19," Place Order "),h.qZA()()(),h.TgZ(20,"div",7),h.YNc(21,sf,2,0,"button",8),h.YNc(22,af,2,0,"button",9),h.qZA()()),2&o&&(h.xp6(2),h.Q6J("ngClass",h.VKq(5,od,1==f.step)),h.xp6(6),h.Q6J("ngClass",h.VKq(7,od,2==f.step)),h.xp6(6),h.Q6J("ngClass",h.VKq(9,od,3==f.step)),h.xp6(7),h.Q6J("ngIf",f.step>1),h.xp6(1),h.Q6J("ngIf",f.step<3))},dependencies:[fe.mk,fe.O5],styles:[".steps-container[_ngcontent-%COMP%]{display:block;width:100%}.step.active[_ngcontent-%COMP%]{background:#eee;border-bottom:5px solid #eee}.step[_ngcontent-%COMP%]{display:inline-block;position:relative;padding-top:10px;border-right:5px solid #fff;border-bottom:5px solid #fff;background:#ccc}.step.active[_ngcontent-%COMP%]   .step-text[_ngcontent-%COMP%]{color:teal}.step-main[_ngcontent-%COMP%]{background:#eee;border-right:5px solid #fff}.step[_ngcontent-%COMP%]   .step-text[_ngcontent-%COMP%]{margin-top:10px}.step-text[_ngcontent-%COMP%]{font-size:18px!important;font-weight:400!important}.step-index[_ngcontent-%COMP%], .step-text[_ngcontent-%COMP%]{width:100%;text-align:center}.step.active[_ngcontent-%COMP%]   .step-index[_ngcontent-%COMP%]   .step-circle[_ngcontent-%COMP%], .step.completed[_ngcontent-%COMP%]   .step-index[_ngcontent-%COMP%]   .step-circle[_ngcontent-%COMP%]{border:1px solid teal;background-color:teal;color:#fff}.step.inactive[_ngcontent-%COMP%]   .step-index[_ngcontent-%COMP%]   .step-circle[_ngcontent-%COMP%]{border:1px solid #000;background:#fff;color:#000}.step-circle[_ngcontent-%COMP%]{font-size:18px!important;font-weight:400!important;display:inline-block;padding-top:7px;border-radius:1em;width:2em;height:2em}@media only screen and (max-width: 800px){.step[_ngcontent-%COMP%]{min-height:127px;vertical-align:top}}@media only screen and (max-width: 800px){.step-text[_ngcontent-%COMP%]{font-size:16px!important}}"]}),p})();var Sc=k(3261),qr=k(7185);let bp=(()=>{class p{constructor(o,f){this.firestore=o,this.toaster=f,this.editing=!1}ngOnInit(){}update(){}}return p.\u0275fac=function(o){return new(o||p)(h.Y36(Sc.C),h.Y36(qr._W))},p.\u0275cmp=h.Xpm({type:p,selectors:[["app-profile"]],decls:0,vars:0,template:function(o,f){},styles:[".header[_ngcontent-%COMP%]{text-align:center;margin:10px;font-size:23px}.content[_ngcontent-%COMP%]{padding:30px}.content[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{vertical-align:middle;text-align:center}.actions[_ngcontent-%COMP%]{text-align:center}.image[_ngcontent-%COMP%]{width:100px;height:100px;border-radius:50px!important}"]}),p})();var sd=k(8458),xc=k(5116);let lf=(()=>{class p{constructor(){}ngOnInit(){console.log("Hello klkkl"),console.log(this.accordion),this.accordion?.openAll()}}return p.\u0275fac=function(o){return new(o||p)},p.\u0275cmp=h.Xpm({type:p,selectors:[["app-faq"]],viewQuery:function(o,f){if(1&o&&h.Gf(ms,5),2&o){let C;h.iGM(C=h.CRH())&&(f.accordion=C.first)}},decls:146,vars:0,consts:[[1,"container","mt-1","p-5"],[1,"mt-2"],["multi",""],["expanded","true"],[2,"list-style-type","lower-alpha"],[2,"list-style-type","lower-roman"]],template:function(o,f){1&o&&(h.TgZ(0,"div",0)(1,"h2"),h._uU(2,"FAQ on Transfer Pricing"),h.qZA(),h.TgZ(3,"div",1)(4,"mat-accordion",2)(5,"mat-expansion-panel",3)(6,"mat-expansion-panel-header")(7,"mat-panel-title"),h._uU(8," 1. What is Transfer pricing? "),h.qZA()(),h.TgZ(9,"p"),h._uU(10," Transfer pricing (\u201cTP\u201d) are the charges made when a company supplies goods, services or finance to another company to which it is related. It is an internationally accepted principle that transactions between related parties (associated enterprises) should be based upon the same terms as between unrelated parties. Thus, both tax treaties entered into between countries and domestic tax legislation of various countries have adopted the arm's length principle. "),h.qZA(),h.TgZ(11,"p"),h._uU(12," In other words, when two companies that are part of the same group trade with each other, they need to establish a price for that transaction. That price will be termed as transfer price and the transfer pricing shall be done at arm's length basis (similar to third party/unrelated terms) "),h.qZA()(),h.TgZ(13,"mat-expansion-panel",3)(14,"mat-expansion-panel-header")(15,"mat-panel-title"),h._uU(16," 2. Is it mandatory to comply with TP provisions as per Income Tax Act? "),h.qZA()(),h.TgZ(17,"p"),h._uU(18," Section 92E of the Income Tax Act is mandating every person (Individual, Partnership Firm, LLP or Company) who has entered into an international transaction or specified domestic transaction during the previous year to obtain and furnish a report as per the Transfer pricing provisions "),h.qZA()(),h.TgZ(19,"mat-expansion-panel",3)(20,"mat-expansion-panel-header")(21,"mat-panel-title"),h._uU(22," 3. Whether TP provisions will be applicable to my company/entity (or to my client)? "),h.qZA()(),h.TgZ(23,"p"),h._uU(24," If any one or more activities of the below activities are performed by the Indian entity with its Associated Enterprise1 during the previous year TP provisions will be applicable "),h.qZA(),h.TgZ(25,"ol",4)(26,"li"),h._uU(27,"Sale of goods (or services) to related party which is located in foreign country."),h.qZA(),h.TgZ(28,"li"),h._uU(29,"Purchase of goods (or services) from related party which is located in foreign country."),h.qZA(),h.TgZ(30,"li"),h._uU(31,"Sale/purchase of Fixed Assets to/from related party which is located in foreign country."),h.qZA(),h.TgZ(32,"li"),h._uU(33,"Royalty payment for use of intangible asset."),h.qZA(),h.TgZ(34,"li"),h._uU(35,"Loan to related party entities, interest on loans to related parties."),h.qZA(),h.TgZ(36,"li"),h._uU(37,"Issuing of SBLC or Guarantee to related parties."),h.qZA(),h.TgZ(38,"li"),h._uU(39,"Equity Investment in shares of AEs."),h.qZA(),h.TgZ(40,"li"),h._uU(41,"Issuing of Compulsory Convertible Debentures, Preference shares etc."),h.qZA(),h.TgZ(42,"li"),h._uU(43,"Reimbursement of expenses (on behalf payments)."),h.qZA(),h.TgZ(44,"li"),h._uU(45,"Any other transaction with foreign AEs."),h.qZA()(),h.TgZ(46,"p")(47,"b"),h._uU(48,"Note:"),h.qZA(),h._uU(49," The above list is non exhaustive. Therefore, in simple words any transaction with associated enterprise will be covered under transfer pricing provisions "),h.qZA()(),h.TgZ(50,"mat-expansion-panel",3)(51,"mat-expansion-panel-header")(52,"mat-panel-title"),h._uU(53," 4. Whether TP provisions applicable to domestic related party transactions as well? "),h.qZA()(),h.TgZ(54,"p"),h._uU(55," Not all transactions with domestic related parties will fall under Domestic Transfer Pricing provisions (\u201cDTP\u201d)2 only the following transactions will fall under TP provisions "),h.qZA(),h.TgZ(56,"ol",4)(57,"li"),h._uU(58,"Sale of goods (or services) to tax holiday units of the Assessee in India."),h.qZA(),h.TgZ(59,"li"),h._uU(60,"Purchase of goods (or services) from the tax holiday units of the Assessee in India."),h.qZA(),h.TgZ(61,"li"),h._uU(62,"Allocation of Head office expenses and Exchange fluctuations to Tax Holiday unit."),h.qZA(),h.TgZ(63,"li"),h._uU(64,"Allocation of Salary expenses to tax holiday units."),h.qZA()(),h.TgZ(65,"p"),h._uU(66," However, the above list of transactions is non-exhaustive3 therefore if the company (or any other entity) having a tax holiday unit or dealing with its "),h.TgZ(67,"u"),h._uU(68,"Tax Holiday Units"),h.qZA(),h._uU(69," shall check if they are falling under DTP "),h.qZA(),h.TgZ(70,"p"),h._uU(71," Tax Holiday beneficiaries that are impacted by Domestic Transfer Pricing (\u201cDTP\u201d) are as follows: "),h.qZA(),h.TgZ(72,"ol",5)(73,"li"),h._uU(74,"80IA - undertakings engaged in "),h.TgZ(75,"ol",4)(76,"li"),h._uU(77,"developing, operating and maintaining Infrastructure"),h.qZA(),h.TgZ(78,"li"),h._uU(79,"generation, transmission of distribution of power"),h.qZA(),h.TgZ(80,"li"),h._uU(81,"Reconstruction/ revival of power generating plants"),h.qZA()()(),h.TgZ(82,"li"),h._uU(83,"80IAB - Undertakings engaged in development of SEZ's"),h.qZA(),h.TgZ(84,"li"),h._uU(85,"80IB - undertakings located/engaged in "),h.TgZ(86,"ol",4)(87,"li"),h._uU(88,"Industrially backward districts as notified;"),h.qZA(),h.TgZ(89,"li"),h._uU(90,"Scientific research & development"),h.qZA(),h.TgZ(91,"li"),h._uU(92,"Refining of mineral oil/ commercial production of natural gas"),h.qZA(),h.TgZ(93,"li"),h._uU(94,"Operating cold chain facility for agricultural produce"),h.qZA(),h.TgZ(95,"li"),h._uU(96,"Processing, preservation and packing of meat/ meat products or poultry/ marine / dairy products"),h.qZA(),h.TgZ(97,"li"),h._uU(98,"Operating and maintaining a hospital of specified capacity"),h.qZA()()(),h.TgZ(99,"li"),h._uU(100,"80IC - Industrial Undertakings or enterprises established in special categories state."),h.qZA(),h.TgZ(101,"li"),h._uU(102,"80ID - Industrial Undertakings engaged in development of hotels and convention centre in specified areas"),h.qZA(),h.TgZ(103,"li"),h._uU(104,"80IE - Undertakings in North-eastern States"),h.qZA(),h.TgZ(105,"li"),h._uU(106,"80JJA - Undertakings engaged in collection and processing of bio-degradable wastes"),h.qZA(),h.TgZ(107,"li"),h._uU(108,"80JJAA - Undertakings engaged in employment of new workmen "),h.qZA(),h.TgZ(109,"li"),h._uU(110,"80LA - Offshore Banking Units and International Financial Service Centres"),h.qZA(),h.TgZ(111,"li"),h._uU(112,"80P - Co-operative Societies"),h.qZA(),h.TgZ(113,"li"),h._uU(114,"115BAB - Domestic company engaged in manufacturing/ production"),h.qZA()()(),h.TgZ(115,"mat-expansion-panel",3)(116,"mat-expansion-panel-header")(117,"mat-panel-title"),h._uU(118," 5. What is TP documentation? Is it mandatory to maintain TP documentation as per Law? "),h.qZA()(),h.TgZ(119,"p"),h._uU(120," TP documentation is a record of transactions entered with associated enterprises (\u201cAEs\u201d) and act as record for basis of arriving at arm's length price at which the entity has entered into transactions with AEs. "),h.qZA(),h.TgZ(121,"p"),h._uU(122," As per the Rule 10D of Income Tax Rules, 1962 the TP documentation shall have the following information: "),h.qZA(),h.TgZ(123,"ol",4)(124,"li"),h._uU(125,"a description of the ownership structure"),h.qZA(),h.TgZ(126,"li"),h._uU(127,"a profile of the multinational group"),h.qZA(),h.TgZ(128,"li"),h._uU(129,"a broad description of the business of Assessee and AEs"),h.qZA(),h.TgZ(130,"li"),h._uU(131,"the nature and terms (including prices) of international transactions"),h.qZA(),h.TgZ(132,"li"),h._uU(133,"FAR analysis (Functional, Assets and Risk analysis)"),h.qZA(),h.TgZ(134,"li"),h._uU(135,"a record of the economic and market analyses, forecasts, budgets or any other financial estimates prepared by the assessee"),h.qZA(),h.TgZ(136,"li"),h._uU(137,"a record of uncontrolled transactions taken into account for analyzing their comparability with the international transactions"),h.qZA(),h.TgZ(138,"li"),h._uU(139,"a record of the analysis performed to evaluate comparability of uncontrolled transactions"),h.qZA(),h.TgZ(140,"li"),h._uU(141,"a description of the methods considered for determining the arm's length price in relation to each international transaction"),h.qZA(),h.TgZ(142,"li"),h._uU(143,"the assumptions, policies and price negotiations, if any"),h.qZA(),h.TgZ(144,"li"),h._uU(145,"any other information, data or document, including information or data relating to the associated enterprise"),h.qZA()()()()()())},dependencies:[ms,Pn,Ki,wa],styles:["h2[_ngcontent-%COMP%]{font-size:30px;color:#34568b;text-decoration:underline}.mat-expansion-panel-header-title[_ngcontent-%COMP%]{font-size:20px;font-weight:500}  .mat-expansion-panel-body{background:white;color:#000;padding-top:25px!important}"]}),p})();var Oc=k(9087);const Kd=[{path:"",pathMatch:"full",redirectTo:"home"},{path:"home",component:id},{path:"about-us",component:(()=>{class p{constructor(){}ngOnInit(){}}return p.\u0275fac=function(o){return new(o||p)},p.\u0275cmp=h.Xpm({type:p,selectors:[["app-about-us"]],decls:81,vars:0,consts:[[1,"container"],[1,"mt-1"],[1,"contact-block"],[1,"material-icons","align-top","mx-1"],["routerLink","/contact-us",1,"link"]],template:function(o,f){1&o&&(h.TgZ(0,"div",0)(1,"div",1)(2,"h2"),h._uU(3,"About Us"),h.qZA()(),h.TgZ(4,"div")(5,"h3"),h._uU(6,"WHAT WE DO"),h.qZA(),h.TgZ(7,"p"),h._uU(8," We Specialize in international tax and transfer pricing for companies with an international footprint. "),h.qZA(),h.TgZ(9,"p"),h._uU(10," We primarily focus on helping companies in the $1M USD - $100M USD revenue range legally saving millions of dollars in tax. "),h.qZA(),h.TgZ(11,"p"),h._uU(12," We ensure full compliance with local regulators and tax authorities. The end goal is to ensure more cash is returned to shareholders. "),h.qZA()(),h.TgZ(13,"div")(14,"h3"),h._uU(15,"HOW WE DO IT"),h.qZA(),h.TgZ(16,"p"),h._uU(17," T = Total analysis of your current situation"),h._UZ(18,"br"),h._uU(19," R = Report on potential avenues for cross border tax savings"),h._UZ(20,"br"),h._uU(21," A = Assess the tax savings"),h._UZ(22,"br"),h._uU(23," N = Negate regulatory and audit risks"),h._UZ(24,"br"),h._uU(25," S = Strategies to ensure minimal tax exposure"),h._UZ(26,"br"),h._uU(27," F = Full implementation support"),h._UZ(28,"br"),h._uU(29," E = Effective compliance controls"),h._UZ(30,"br"),h._uU(31," R = Realize the cash savings"),h._UZ(32,"br"),h.qZA()(),h.TgZ(33,"div")(34,"p"),h._uU(35," We have over 6 years experience in transfer pricing and international tax where we helped to lead the largest MNCs transfer pricing practice in India. "),h.qZA(),h.TgZ(36,"p"),h._uU(37," Our experience also includes being the engagement lead for transfer pricing on a number of India's largest companies, with particular emphasis on Pharma, technology, Marine, Consumer & Industrial products and Automotive. "),h.qZA(),h.TgZ(38,"p"),h._uU(39," We have considerable experience in transfer pricing matters, including establishing transfer pricing framework and policies, negotiating APAs and making successful competent authority applications. "),h.qZA(),h.TgZ(40,"p"),h._uU(41," A particular focus where we have spent considerable time in recent years has been transfer pricing controversy matters, where we have worked on some large transfer pricing disputes. "),h.qZA()(),h.TgZ(42,"div")(43,"h3"),h._uU(44,"WHAT WE OFFER TO BEGIN WITH"),h.qZA(),h.TgZ(45,"ul")(46,"li"),h._uU(47,"Assessing your current situation."),h.qZA(),h.TgZ(48,"li"),h._uU(49,"Identifying key challenges."),h.qZA(),h.TgZ(50,"li"),h._uU(51,"Determining a high level approach to a customized transfer pricing strategy."),h.qZA(),h.TgZ(52,"li"),h._uU(53,"Creating a tailored action plan for you and helping to execute on it from A to Z."),h.qZA()(),h.TgZ(54,"div",2)(55,"b"),h._uU(56,"Phone:"),h.qZA(),h._uU(57," + 91 9441446087"),h._UZ(58,"br"),h.TgZ(59,"b"),h._uU(60,"Email:"),h.qZA(),h._uU(61," chaitanya@bcktax.com"),h._UZ(62,"br"),h.TgZ(63,"b"),h._uU(64,"Website"),h.qZA(),h._uU(65,"www.transferpricing.in "),h.qZA()(),h.TgZ(66,"div",1)(67,"h3")(68,"span",3),h._uU(69,"star"),h.qZA(),h._uU(70,"PLEASE "),h.TgZ(71,"span",4),h._uU(72,"CONTACT US"),h.qZA(),h._uU(73," WHEN YOU ARE READY:"),h.qZA(),h.TgZ(74,"ol")(75,"li"),h._uU(76,"To assess your current situation and measure where are you standing"),h.qZA(),h.TgZ(77,"li"),h._uU(78,"To get a tailored plan of action created for you"),h.qZA(),h.TgZ(79,"li"),h._uU(80,"To become educated on the millions of dollars that can be saved through implementation of a successful transfer pricing strategy"),h.qZA()()()())},dependencies:[_e.rH],styles:[".container[_ngcontent-%COMP%]{text-align:left;padding:3em}h2[_ngcontent-%COMP%]{font-size:30px;color:#34568b;text-decoration:underline}h3[_ngcontent-%COMP%]{font-weight:600;margin-bottom:3px}.contact-block[_ngcontent-%COMP%]{margin-left:20px;margin-bottom:15px}.link[_ngcontent-%COMP%]{cursor:pointer;color:#4169e1;text-decoration:underline}"]}),p})()},{path:"our-services",component:ca},{path:"contact-us",component:xc.A},{path:"faq",component:lf},{path:"workflow",component:Ks},{path:"register/:type",component:Oc.y},{path:"login",component:sd.G},{path:"profile",component:bp},{path:"dashboard",component:xo},{path:"login",component:sd.G}];let ic=(()=>{class p{}return p.\u0275fac=function(o){return new(o||p)},p.\u0275mod=h.oAB({type:p}),p.\u0275inj=h.cJS({imports:[_e.Bz.forRoot(Kd),_e.Bz]}),p})();var go=k(5577),Pc=k(1144),oc=k(576),Ep=k(3268);const Cp=["addListener","removeListener"],cu=["addEventListener","removeEventListener"],$d=["on","off"];function Rc(p,l,o,f){if((0,oc.m)(o)&&(f=o,o=void 0),f)return Rc(p,l,o).pipe((0,Ep.Z)(f));const[C,S]=function Dp(p){return(0,oc.m)(p.addEventListener)&&(0,oc.m)(p.removeEventListener)}(p)?cu.map(Z=>ee=>p[Z](l,ee,o)):function ll(p){return(0,oc.m)(p.addListener)&&(0,oc.m)(p.removeListener)}(p)?Cp.map(Zd(p,l)):function Os(p){return(0,oc.m)(p.on)&&(0,oc.m)(p.off)}(p)?$d.map(Zd(p,l)):[];if(!C&&(0,Pc.z)(p))return(0,go.z)(Z=>Rc(Z,l,o))((0,re.Xf)(p));if(!C)throw new TypeError("Invalid event target");return new Uo.y(Z=>{const ee=(...ue)=>Z.next(1<ue.length?ue:ue[0]);return C(ee),()=>S(ee)})}function Zd(p,l){return o=>f=>p[o](l,f)}var uu=k(4408);const kc={schedule(p){let l=requestAnimationFrame,o=cancelAnimationFrame;const{delegate:f}=kc;f&&(l=f.requestAnimationFrame,o=f.cancelAnimationFrame);const C=l(S=>{o=void 0,p(S)});return new Me.w0(()=>o?.(C))},requestAnimationFrame(...p){const{delegate:l}=kc;return(l?.requestAnimationFrame||requestAnimationFrame)(...p)},cancelAnimationFrame(...p){const{delegate:l}=kc;return(l?.cancelAnimationFrame||cancelAnimationFrame)(...p)},delegate:void 0};var zd=k(7565);new class ts extends zd.v{flush(l){this._active=!0;const o=this._scheduled;this._scheduled=void 0;const{actions:f}=this;let C;l=l||f.shift();do{if(C=l.execute(l.state,l.delay))break}while((l=f[0])&&l.id===o&&f.shift());if(this._active=!1,C){for(;(l=f[0])&&l.id===o&&f.shift();)l.unsubscribe();throw C}}}(class Ha extends uu.o{constructor(l,o){super(l,o),this.scheduler=l,this.work=o}requestAsyncId(l,o,f=0){return null!==f&&f>0?super.requestAsyncId(l,o,f):(l.actions.push(this),l._scheduled||(l._scheduled=kc.requestAnimationFrame(()=>l.flush(void 0))))}recycleAsyncId(l,o,f=0){if(null!=f&&f>0||null==f&&this.delay>0)return super.recycleAsyncId(l,o,f);l.actions.some(C=>C.id===o)||(kc.cancelAnimationFrame(o),l._scheduled=void 0)}});let du,ad=1;const cl={};function ys(p){return p in cl&&(delete cl[p],!0)}const qd={setImmediate(p){const l=ad++;return cl[l]=!0,du||(du=Promise.resolve()),du.then(()=>ys(l)&&p()),l},clearImmediate(p){ys(p)}},{setImmediate:cf,clearImmediate:Yd}=qd,Ml={setImmediate(...p){const{delegate:l}=Ml;return(l?.setImmediate||cf)(...p)},clearImmediate(p){const{delegate:l}=Ml;return(l?.clearImmediate||Yd)(p)},delegate:void 0};new class Tl extends zd.v{flush(l){this._active=!0;const o=this._scheduled;this._scheduled=void 0;const{actions:f}=this;let C;l=l||f.shift();do{if(C=l.execute(l.state,l.delay))break}while((l=f[0])&&l.id===o&&f.shift());if(this._active=!1,C){for(;(l=f[0])&&l.id===o&&f.shift();)l.unsubscribe();throw C}}}(class uf extends uu.o{constructor(l,o){super(l,o),this.scheduler=l,this.work=o}requestAsyncId(l,o,f=0){return null!==f&&f>0?super.requestAsyncId(l,o,f):(l.actions.push(this),l._scheduled||(l._scheduled=Ml.setImmediate(l.flush.bind(l,void 0))))}recycleAsyncId(l,o,f=0){if(null!=f&&f>0||null==f&&this.delay>0)return super.recycleAsyncId(l,o,f);l.actions.some(C=>C.id===o)||(Ml.clearImmediate(o),l._scheduled=void 0)}});var Qd=k(3532);function wp(p,l=Xi.z){return function Il(p){return(0,xt.e)((l,o)=>{let f=!1,C=null,S=null,Z=!1;const ee=()=>{if(S?.unsubscribe(),S=null,f){f=!1;const ke=C;C=null,o.next(ke)}Z&&o.complete()},ue=()=>{S=null,Z&&o.complete()};l.subscribe((0,zn.x)(o,ke=>{f=!0,C=ke,S||(0,re.Xf)(p(ke)).subscribe(S=(0,zn.x)(o,ee,ue))},()=>{Z=!0,(!f||!S||S.closed)&&o.complete()}))})}(()=>function ld(p=0,l,o=Xi.P){let f=-1;return null!=l&&((0,Qd.K)(l)?o=l:f=l),new Uo.y(C=>{let S=function hu(p){return p instanceof Date&&!isNaN(p)}(p)?+p-o.now():p;S<0&&(S=0);let Z=0;return o.schedule(function(){C.closed||(C.next(Z++),0<=f?this.schedule(void 0,f):C.complete())},S)})}(p,l))}let pu=(()=>{class p{constructor(o,f,C){this._ngZone=o,this._platform=f,this._scrolled=new Ne.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=C}register(o){this.scrollContainers.has(o)||this.scrollContainers.set(o,o.elementScrolled().subscribe(()=>this._scrolled.next(o)))}deregister(o){const f=this.scrollContainers.get(o);f&&(f.unsubscribe(),this.scrollContainers.delete(o))}scrolled(o=20){return this._platform.isBrowser?new Uo.y(f=>{this._globalSubscription||this._addGlobalListener();const C=o>0?this._scrolled.pipe(wp(o)).subscribe(f):this._scrolled.subscribe(f);return this._scrolledCount++,()=>{C.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,Wn.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((o,f)=>this.deregister(f)),this._scrolled.complete()}ancestorScrolled(o,f){const C=this.getAncestorScrollContainers(o);return this.scrolled(f).pipe((0,pi.h)(S=>!S||C.indexOf(S)>-1))}getAncestorScrollContainers(o){const f=[];return this.scrollContainers.forEach((C,S)=>{this._scrollableContainsElement(S,o)&&f.push(S)}),f}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(o,f){let C=Re(f),S=o.getElementRef().nativeElement;do{if(C==S)return!0}while(C=C.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Rc(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return p.\u0275fac=function(o){return new(o||p)(h.LFG(h.R0b),h.LFG(Nn),h.LFG(fe.K0,8))},p.\u0275prov=h.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"}),p})(),Lc=(()=>{class p{constructor(o,f,C,S){this.elementRef=o,this.scrollDispatcher=f,this.ngZone=C,this.dir=S,this._destroyed=new Ne.x,this._elementScrolled=new Uo.y(Z=>this.ngZone.runOutsideAngular(()=>Rc(this.elementRef.nativeElement,"scroll").pipe(cn(this._destroyed)).subscribe(Z)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(o){const f=this.elementRef.nativeElement,C=this.dir&&"rtl"==this.dir.value;null==o.left&&(o.left=C?o.end:o.start),null==o.right&&(o.right=C?o.start:o.end),null!=o.bottom&&(o.top=f.scrollHeight-f.clientHeight-o.bottom),C&&0!=Se()?(null!=o.left&&(o.right=f.scrollWidth-f.clientWidth-o.left),2==Se()?o.left=o.right:1==Se()&&(o.left=o.right?-o.right:o.right)):null!=o.right&&(o.left=f.scrollWidth-f.clientWidth-o.right),this._applyScrollToOptions(o)}_applyScrollToOptions(o){const f=this.elementRef.nativeElement;gt()?f.scrollTo(o):(null!=o.top&&(f.scrollTop=o.top),null!=o.left&&(f.scrollLeft=o.left))}measureScrollOffset(o){const f="left",C="right",S=this.elementRef.nativeElement;if("top"==o)return S.scrollTop;if("bottom"==o)return S.scrollHeight-S.clientHeight-S.scrollTop;const Z=this.dir&&"rtl"==this.dir.value;return"start"==o?o=Z?C:f:"end"==o&&(o=Z?f:C),Z&&2==Se()?o==f?S.scrollWidth-S.clientWidth-S.scrollLeft:S.scrollLeft:Z&&1==Se()?o==f?S.scrollLeft+S.scrollWidth-S.clientWidth:-S.scrollLeft:o==f?S.scrollLeft:S.scrollWidth-S.clientWidth-S.scrollLeft}}return p.\u0275fac=function(o){return new(o||p)(h.Y36(h.SBq),h.Y36(pu),h.Y36(h.R0b),h.Y36(_n,8))},p.\u0275dir=h.lG2({type:p,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]}),p})(),ud=(()=>{class p{constructor(o,f,C){this._platform=o,this._change=new Ne.x,this._changeListener=S=>{this._change.next(S)},this._document=C,f.runOutsideAngular(()=>{if(o.isBrowser){const S=this._getWindow();S.addEventListener("resize",this._changeListener),S.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const o=this._getWindow();o.removeEventListener("resize",this._changeListener),o.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const o={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),o}getViewportRect(){const o=this.getViewportScrollPosition(),{width:f,height:C}=this.getViewportSize();return{top:o.top,left:o.left,bottom:o.top+C,right:o.left+f,height:C,width:f}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const o=this._document,f=this._getWindow(),C=o.documentElement,S=C.getBoundingClientRect();return{top:-S.top||o.body.scrollTop||f.scrollY||C.scrollTop||0,left:-S.left||o.body.scrollLeft||f.scrollX||C.scrollLeft||0}}change(o=20){return o>0?this._change.pipe(wp(o)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const o=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:o.innerWidth,height:o.innerHeight}:{width:0,height:0}}}return p.\u0275fac=function(o){return new(o||p)(h.LFG(Nn),h.LFG(h.R0b),h.LFG(fe.K0,8))},p.\u0275prov=h.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"}),p})(),da=(()=>{class p{}return p.\u0275fac=function(o){return new(o||p)},p.\u0275mod=h.oAB({type:p}),p.\u0275inj=h.cJS({}),p})(),vs=(()=>{class p{}return p.\u0275fac=function(o){return new(o||p)},p.\u0275mod=h.oAB({type:p}),p.\u0275inj=h.cJS({imports:[qt,da,qt,da]}),p})();var eh=k(9718);const hd=["*"],ff=["content"];function Fc(p,l){if(1&p){const o=h.EpF();h.TgZ(0,"div",2),h.NdJ("click",function(){h.CHM(o);const C=h.oxw();return h.KtG(C._onBackdropClicked())}),h.qZA()}if(2&p){const o=h.oxw();h.ekj("mat-drawer-shown",o._isShowingBackdrop())}}function th(p,l){1&p&&(h.TgZ(0,"mat-drawer-content"),h.Hsn(1,2),h.qZA())}const V_=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],uo=["mat-drawer","mat-drawer-content","*"],Ps={transformDrawer:(0,Nt.X$)("transform",[(0,Nt.SB)("open, open-instant",(0,Nt.oB)({transform:"none",visibility:"visible"})),(0,Nt.SB)("void",(0,Nt.oB)({"box-shadow":"none",visibility:"hidden"})),(0,Nt.eR)("void => open-instant",(0,Nt.jt)("0ms")),(0,Nt.eR)("void <=> open, open-instant => void",(0,Nt.jt)("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])},ja=new h.OlP("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function dl(){return!1}}),Bc=new h.OlP("MAT_DRAWER_CONTAINER");let Uc=(()=>{class p extends Lc{constructor(o,f,C,S,Z){super(C,S,Z),this._changeDetectorRef=o,this._container=f}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}}return p.\u0275fac=function(o){return new(o||p)(h.Y36(h.sBO),h.Y36((0,h.Gpc)(()=>ih)),h.Y36(h.SBq),h.Y36(pu),h.Y36(h.R0b))},p.\u0275cmp=h.Xpm({type:p,selectors:[["mat-drawer-content"]],hostAttrs:[1,"mat-drawer-content"],hostVars:4,hostBindings:function(o,f){2&o&&h.Udp("margin-left",f._container._contentMargins.left,"px")("margin-right",f._container._contentMargins.right,"px")},features:[h._Bn([{provide:Lc,useExisting:p}]),h.qOj],ngContentSelectors:hd,decls:1,vars:0,template:function(o,f){1&o&&(h.F$t(),h.Hsn(0))},encapsulation:2,changeDetection:0}),p})(),Ka=(()=>{class p{constructor(o,f,C,S,Z,ee,ue,ke){this._elementRef=o,this._focusTrapFactory=f,this._focusMonitor=C,this._platform=S,this._ngZone=Z,this._interactivityChecker=ee,this._doc=ue,this._container=ke,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new Ne.x,this._animationEnd=new Ne.x,this._animationState="void",this.openedChange=new h.vpe(!0),this._openedStream=this.openedChange.pipe((0,pi.h)(qe=>qe),(0,Ir.U)(()=>{})),this.openedStart=this._animationStarted.pipe((0,pi.h)(qe=>qe.fromState!==qe.toState&&0===qe.toState.indexOf("open")),(0,eh.h)(void 0)),this._closedStream=this.openedChange.pipe((0,pi.h)(qe=>!qe),(0,Ir.U)(()=>{})),this.closedStart=this._animationStarted.pipe((0,pi.h)(qe=>qe.fromState!==qe.toState&&"void"===qe.toState),(0,eh.h)(void 0)),this._destroyed=new Ne.x,this.onPositionChanged=new h.vpe,this._modeChanged=new Ne.x,this.openedChange.subscribe(qe=>{qe?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus(this._openedVia||"program")}),this._ngZone.runOutsideAngular(()=>{Rc(this._elementRef.nativeElement,"keydown").pipe((0,pi.h)(qe=>27===qe.keyCode&&!this.disableClose&&!Ii(qe)),cn(this._destroyed)).subscribe(qe=>this._ngZone.run(()=>{this.close(),qe.stopPropagation(),qe.preventDefault()}))}),this._animationEnd.pipe((0,U.x)((qe,Pt)=>qe.fromState===Pt.fromState&&qe.toState===Pt.toState)).subscribe(qe=>{const{fromState:Pt,toState:Bn}=qe;(0===Bn.indexOf("open")&&"void"===Pt||"void"===Bn&&0===Pt.indexOf("open"))&&this.openedChange.emit(this._opened)})}get position(){return this._position}set position(o){(o="end"===o?"end":"start")!==this._position&&(this._isAttached&&this._updatePositionInParent(o),this._position=o,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(o){this._mode=o,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(o){this._disableClose=st(o)}get autoFocus(){return this._autoFocus??("side"===this.mode?"dialog":"first-tabbable")}set autoFocus(o){("true"===o||"false"===o||null==o)&&(o=st(o)),this._autoFocus=o}get opened(){return this._opened}set opened(o){this.toggle(st(o))}_forceFocus(o,f){this._interactivityChecker.isFocusable(o)||(o.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const C=()=>{o.removeEventListener("blur",C),o.removeEventListener("mousedown",C),o.removeAttribute("tabindex")};o.addEventListener("blur",C),o.addEventListener("mousedown",C)})),o.focus(f)}_focusByCssSelector(o,f){let C=this._elementRef.nativeElement.querySelector(o);C&&this._forceFocus(C,f)}_takeFocus(){if(!this._focusTrap)return;const o=this._elementRef.nativeElement;switch(this.autoFocus){case!1:case"dialog":return;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(f=>{!f&&"function"==typeof this._elementRef.nativeElement.focus&&o.focus()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.autoFocus)}}_restoreFocus(o){"dialog"!==this.autoFocus&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,o):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null)}_isFocusWithinDrawer(){const o=this._doc.activeElement;return!!o&&this._elementRef.nativeElement.contains(o)}ngAfterViewInit(){this._isAttached=!0,this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState(),"end"===this._position&&this._updatePositionInParent("end")}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){this._focusTrap&&this._focusTrap.destroy(),this._anchor?.remove(),this._anchor=null,this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(o){return this.toggle(!0,o)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0,"mouse")}toggle(o=!this.opened,f){o&&f&&(this._openedVia=f);const C=this._setOpen(o,!o&&this._isFocusWithinDrawer(),this._openedVia||"program");return o||(this._openedVia=null),C}_setOpen(o,f,C){return this._opened=o,o?this._animationState=this._enableAnimations?"open":"open-instant":(this._animationState="void",f&&this._restoreFocus(C)),this._updateFocusTrapState(),new Promise(S=>{this.openedChange.pipe((0,$.q)(1)).subscribe(Z=>S(Z?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=this.opened&&"side"!==this.mode)}_updatePositionInParent(o){const f=this._elementRef.nativeElement,C=f.parentNode;"end"===o?(this._anchor||(this._anchor=this._doc.createComment("mat-drawer-anchor"),C.insertBefore(this._anchor,f)),C.appendChild(f)):this._anchor&&this._anchor.parentNode.insertBefore(f,this._anchor)}}return p.\u0275fac=function(o){return new(o||p)(h.Y36(h.SBq),h.Y36(La),h.Y36(Vs),h.Y36(Nn),h.Y36(h.R0b),h.Y36(_r),h.Y36(fe.K0,8),h.Y36(Bc,8))},p.\u0275cmp=h.Xpm({type:p,selectors:[["mat-drawer"]],viewQuery:function(o,f){if(1&o&&h.Gf(ff,5),2&o){let C;h.iGM(C=h.CRH())&&(f._content=C.first)}},hostAttrs:["tabIndex","-1",1,"mat-drawer"],hostVars:12,hostBindings:function(o,f){1&o&&h.WFA("@transform.start",function(S){return f._animationStarted.next(S)})("@transform.done",function(S){return f._animationEnd.next(S)}),2&o&&(h.uIk("align",null),h.d8E("@transform",f._animationState),h.ekj("mat-drawer-end","end"===f.position)("mat-drawer-over","over"===f.mode)("mat-drawer-push","push"===f.mode)("mat-drawer-side","side"===f.mode)("mat-drawer-opened",f.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],ngContentSelectors:hd,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(o,f){1&o&&(h.F$t(),h.TgZ(0,"div",0,1),h.Hsn(2),h.qZA())},dependencies:[Lc],encapsulation:2,data:{animation:[Ps.transformDrawer]},changeDetection:0}),p})(),ih=(()=>{class p{constructor(o,f,C,S,Z,ee=!1,ue){this._dir=o,this._element=f,this._ngZone=C,this._changeDetectorRef=S,this._animationMode=ue,this._drawers=new h.n_E,this.backdropClick=new h.vpe,this._destroyed=new Ne.x,this._doCheckSubject=new Ne.x,this._contentMargins={left:null,right:null},this._contentMarginChanges=new Ne.x,o&&o.change.pipe(cn(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),Z.change().pipe(cn(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=ee}get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(o){this._autosize=st(o)}get hasBackdrop(){return this._backdropOverride??(!this._start||"side"!==this._start.mode||!this._end||"side"!==this._end.mode)}set hasBackdrop(o){this._backdropOverride=null==o?null:st(o)}get scrollable(){return this._userContent||this._content}ngAfterContentInit(){this._allDrawers.changes.pipe((0,Wi.O)(this._allDrawers),cn(this._destroyed)).subscribe(o=>{this._drawers.reset(o.filter(f=>!f._container||f._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe((0,Wi.O)(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(o=>{this._watchDrawerToggle(o),this._watchDrawerPosition(o),this._watchDrawerMode(o)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe(Io(10),cn(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(o=>o.open())}close(){this._drawers.forEach(o=>o.close())}updateContentMargins(){let o=0,f=0;if(this._left&&this._left.opened)if("side"==this._left.mode)o+=this._left._getWidth();else if("push"==this._left.mode){const C=this._left._getWidth();o+=C,f-=C}if(this._right&&this._right.opened)if("side"==this._right.mode)f+=this._right._getWidth();else if("push"==this._right.mode){const C=this._right._getWidth();f+=C,o-=C}o=o||null,f=f||null,(o!==this._contentMargins.left||f!==this._contentMargins.right)&&(this._contentMargins={left:o,right:f},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(o){o._animationStarted.pipe((0,pi.h)(f=>f.fromState!==f.toState),cn(this._drawers.changes)).subscribe(f=>{"open-instant"!==f.toState&&"NoopAnimations"!==this._animationMode&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),"side"!==o.mode&&o.openedChange.pipe(cn(this._drawers.changes)).subscribe(()=>this._setContainerClass(o.opened))}_watchDrawerPosition(o){!o||o.onPositionChanged.pipe(cn(this._drawers.changes)).subscribe(()=>{this._ngZone.onMicrotaskEmpty.pipe((0,$.q)(1)).subscribe(()=>{this._validateDrawers()})})}_watchDrawerMode(o){o&&o._modeChanged.pipe(cn((0,Ws.T)(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(o){const f=this._element.nativeElement.classList,C="mat-drawer-container-has-open";o?f.add(C):f.remove(C)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(o=>{"end"==o.position?this._end=o:this._start=o}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(o=>o&&!o.disableClose&&this._canHaveBackdrop(o)).forEach(o=>o._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._canHaveBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._canHaveBackdrop(this._end)}_canHaveBackdrop(o){return"side"!==o.mode||!!this._backdropOverride}_isDrawerOpen(o){return null!=o&&o.opened}}return p.\u0275fac=function(o){return new(o||p)(h.Y36(_n,8),h.Y36(h.SBq),h.Y36(h.R0b),h.Y36(h.sBO),h.Y36(ud),h.Y36(ja),h.Y36(h.QbO,8))},p.\u0275cmp=h.Xpm({type:p,selectors:[["mat-drawer-container"]],contentQueries:function(o,f,C){if(1&o&&(h.Suo(C,Uc,5),h.Suo(C,Ka,5)),2&o){let S;h.iGM(S=h.CRH())&&(f._content=S.first),h.iGM(S=h.CRH())&&(f._allDrawers=S)}},viewQuery:function(o,f){if(1&o&&h.Gf(Uc,5),2&o){let C;h.iGM(C=h.CRH())&&(f._userContent=C.first)}},hostAttrs:[1,"mat-drawer-container"],hostVars:2,hostBindings:function(o,f){2&o&&h.ekj("mat-drawer-container-explicit-backdrop",f._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],features:[h._Bn([{provide:Bc,useExisting:p}])],ngContentSelectors:uo,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(o,f){1&o&&(h.F$t(V_),h.YNc(0,Fc,1,2,"div",0),h.Hsn(1),h.Hsn(2,1),h.YNc(3,th,2,0,"mat-drawer-content",1)),2&o&&(h.Q6J("ngIf",f.hasBackdrop),h.xp6(3),h.Q6J("ngIf",!f._content))},dependencies:[fe.O5,Uc],styles:['.mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}'],encapsulation:2,changeDetection:0}),p})(),cc=(()=>{class p{}return p.\u0275fac=function(o){return new(o||p)},p.\u0275mod=h.oAB({type:p}),p.\u0275inj=h.cJS({imports:[fe.ez,Rr,da,da,Rr]}),p})();var xl=k(2843),gu=k(4128),Vc=k(262),uc=k(8746),no=k(3099),Ol=k(529);const mu=["*"];let yu;function Za(p){return function $a(){if(void 0===yu&&(yu=null,typeof window<"u")){const p=window;void 0!==p.trustedTypes&&(yu=p.trustedTypes.createPolicy("angular#components",{createHTML:l=>l}))}return yu}()?.createHTML(p)||p}function Pl(p){return Error(`Unable to find icon with the name "${p}"`)}function Hc(p){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${p}".`)}function vu(p){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${p}".`)}class dc{constructor(l,o,f){this.url=l,this.svgText=o,this.options=f}}let Fi=(()=>{class p{constructor(o,f,C,S){this._httpClient=o,this._sanitizer=f,this._errorHandler=S,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=C}addSvgIcon(o,f,C){return this.addSvgIconInNamespace("",o,f,C)}addSvgIconLiteral(o,f,C){return this.addSvgIconLiteralInNamespace("",o,f,C)}addSvgIconInNamespace(o,f,C,S){return this._addSvgIconConfig(o,f,new dc(C,null,S))}addSvgIconResolver(o){return this._resolvers.push(o),this}addSvgIconLiteralInNamespace(o,f,C,S){const Z=this._sanitizer.sanitize(h.q3G.HTML,C);if(!Z)throw vu(C);const ee=Za(Z);return this._addSvgIconConfig(o,f,new dc("",ee,S))}addSvgIconSet(o,f){return this.addSvgIconSetInNamespace("",o,f)}addSvgIconSetLiteral(o,f){return this.addSvgIconSetLiteralInNamespace("",o,f)}addSvgIconSetInNamespace(o,f,C){return this._addSvgIconSetConfig(o,new dc(f,null,C))}addSvgIconSetLiteralInNamespace(o,f,C){const S=this._sanitizer.sanitize(h.q3G.HTML,f);if(!S)throw vu(f);const Z=Za(S);return this._addSvgIconSetConfig(o,new dc("",Z,C))}registerFontClassAlias(o,f=o){return this._fontCssClassesByAlias.set(o,f),this}classNameForFontAlias(o){return this._fontCssClassesByAlias.get(o)||o}setDefaultFontSetClass(...o){return this._defaultFontSetClass=o,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(o){const f=this._sanitizer.sanitize(h.q3G.RESOURCE_URL,o);if(!f)throw Hc(o);const C=this._cachedIconsByUrl.get(f);return C?(0,Wn.of)(M(C)):this._loadSvgIconFromConfig(new dc(o,null)).pipe((0,Qi.b)(S=>this._cachedIconsByUrl.set(f,S)),(0,Ir.U)(S=>M(S)))}getNamedSvgIcon(o,f=""){const C=g(f,o);let S=this._svgIconConfigs.get(C);if(S)return this._getSvgFromConfig(S);if(S=this._getIconConfigFromResolvers(f,o),S)return this._svgIconConfigs.set(C,S),this._getSvgFromConfig(S);const Z=this._iconSetConfigs.get(f);return Z?this._getSvgFromIconSetConfigs(o,Z):(0,xl._)(Pl(C))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(o){return o.svgText?(0,Wn.of)(M(this._svgElementFromConfig(o))):this._loadSvgIconFromConfig(o).pipe((0,Ir.U)(f=>M(f)))}_getSvgFromIconSetConfigs(o,f){const C=this._extractIconWithNameFromAnySet(o,f);if(C)return(0,Wn.of)(C);const S=f.filter(Z=>!Z.svgText).map(Z=>this._loadSvgIconSetFromConfig(Z).pipe((0,Vc.K)(ee=>{const ke=`Loading icon set URL: ${this._sanitizer.sanitize(h.q3G.RESOURCE_URL,Z.url)} failed: ${ee.message}`;return this._errorHandler.handleError(new Error(ke)),(0,Wn.of)(null)})));return(0,gu.D)(S).pipe((0,Ir.U)(()=>{const Z=this._extractIconWithNameFromAnySet(o,f);if(!Z)throw Pl(o);return Z}))}_extractIconWithNameFromAnySet(o,f){for(let C=f.length-1;C>=0;C--){const S=f[C];if(S.svgText&&S.svgText.toString().indexOf(o)>-1){const Z=this._svgElementFromConfig(S),ee=this._extractSvgIconFromSet(Z,o,S.options);if(ee)return ee}}return null}_loadSvgIconFromConfig(o){return this._fetchIcon(o).pipe((0,Qi.b)(f=>o.svgText=f),(0,Ir.U)(()=>this._svgElementFromConfig(o)))}_loadSvgIconSetFromConfig(o){return o.svgText?(0,Wn.of)(null):this._fetchIcon(o).pipe((0,Qi.b)(f=>o.svgText=f))}_extractSvgIconFromSet(o,f,C){const S=o.querySelector(`[id="${f}"]`);if(!S)return null;const Z=S.cloneNode(!0);if(Z.removeAttribute("id"),"svg"===Z.nodeName.toLowerCase())return this._setSvgAttributes(Z,C);if("symbol"===Z.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(Z),C);const ee=this._svgElementFromString(Za("<svg></svg>"));return ee.appendChild(Z),this._setSvgAttributes(ee,C)}_svgElementFromString(o){const f=this._document.createElement("DIV");f.innerHTML=o;const C=f.querySelector("svg");if(!C)throw Error("<svg> tag not found");return C}_toSvgElement(o){const f=this._svgElementFromString(Za("<svg></svg>")),C=o.attributes;for(let S=0;S<C.length;S++){const{name:Z,value:ee}=C[S];"id"!==Z&&f.setAttribute(Z,ee)}for(let S=0;S<o.childNodes.length;S++)o.childNodes[S].nodeType===this._document.ELEMENT_NODE&&f.appendChild(o.childNodes[S].cloneNode(!0));return f}_setSvgAttributes(o,f){return o.setAttribute("fit",""),o.setAttribute("height","100%"),o.setAttribute("width","100%"),o.setAttribute("preserveAspectRatio","xMidYMid meet"),o.setAttribute("focusable","false"),f&&f.viewBox&&o.setAttribute("viewBox",f.viewBox),o}_fetchIcon(o){const{url:f,options:C}=o,S=C?.withCredentials??!1;if(!this._httpClient)throw function _f(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==f)throw Error(`Cannot fetch icon from URL "${f}".`);const Z=this._sanitizer.sanitize(h.q3G.RESOURCE_URL,f);if(!Z)throw Hc(f);const ee=this._inProgressUrlFetches.get(Z);if(ee)return ee;const ue=this._httpClient.get(Z,{responseType:"text",withCredentials:S}).pipe((0,Ir.U)(ke=>Za(ke)),(0,uc.x)(()=>this._inProgressUrlFetches.delete(Z)),(0,no.B)());return this._inProgressUrlFetches.set(Z,ue),ue}_addSvgIconConfig(o,f,C){return this._svgIconConfigs.set(g(o,f),C),this}_addSvgIconSetConfig(o,f){const C=this._iconSetConfigs.get(o);return C?C.push(f):this._iconSetConfigs.set(o,[f]),this}_svgElementFromConfig(o){if(!o.svgElement){const f=this._svgElementFromString(o.svgText);this._setSvgAttributes(f,o.options),o.svgElement=f}return o.svgElement}_getIconConfigFromResolvers(o,f){for(let C=0;C<this._resolvers.length;C++){const S=this._resolvers[C](f,o);if(S)return E(S)?new dc(S.url,null,S.options):new dc(S,null)}}}return p.\u0275fac=function(o){return new(o||p)(h.LFG(Ol.eN,8),h.LFG(y.H7),h.LFG(fe.K0,8),h.LFG(h.qLn))},p.\u0275prov=h.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"}),p})();function M(p){return p.cloneNode(!0)}function g(p,l){return p+":"+l}function E(p){return!(!p.url||!p.options)}const x=jo(class{constructor(p){this._elementRef=p}}),G=new h.OlP("MAT_ICON_DEFAULT_OPTIONS"),ie=new h.OlP("mat-icon-location",{providedIn:"root",factory:function Ve(){const p=(0,h.f3M)(fe.K0),l=p?p.location:null;return{getPathname:()=>l?l.pathname+l.search:""}}}),ft=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],Jt=ft.map(p=>`[${p}]`).join(", "),vn=/^url\(['"]?#(.*?)['"]?\)$/;let Ln=(()=>{class p extends x{constructor(o,f,C,S,Z,ee){super(o),this._iconRegistry=f,this._location=S,this._errorHandler=Z,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=Me.w0.EMPTY,ee&&(ee.color&&(this.color=this.defaultColor=ee.color),ee.fontSet&&(this.fontSet=ee.fontSet)),C||o.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(o){this._inline=st(o)}get svgIcon(){return this._svgIcon}set svgIcon(o){o!==this._svgIcon&&(o?this._updateSvgIcon(o):this._svgIcon&&this._clearSvgElement(),this._svgIcon=o)}get fontSet(){return this._fontSet}set fontSet(o){const f=this._cleanupFontValue(o);f!==this._fontSet&&(this._fontSet=f,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(o){const f=this._cleanupFontValue(o);f!==this._fontIcon&&(this._fontIcon=f,this._updateFontIconClasses())}_splitIconName(o){if(!o)return["",""];const f=o.split(":");switch(f.length){case 1:return["",f[0]];case 2:return f;default:throw Error(`Invalid icon name: "${o}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const o=this._elementsWithExternalReferences;if(o&&o.size){const f=this._location.getPathname();f!==this._previousPath&&(this._previousPath=f,this._prependPathToReferences(f))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(o){this._clearSvgElement();const f=this._location.getPathname();this._previousPath=f,this._cacheChildrenWithExternalReferences(o),this._prependPathToReferences(f),this._elementRef.nativeElement.appendChild(o)}_clearSvgElement(){const o=this._elementRef.nativeElement;let f=o.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();f--;){const C=o.childNodes[f];(1!==C.nodeType||"svg"===C.nodeName.toLowerCase())&&C.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const o=this._elementRef.nativeElement,f=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(C=>C.length>0);this._previousFontSetClass.forEach(C=>o.classList.remove(C)),f.forEach(C=>o.classList.add(C)),this._previousFontSetClass=f,this.fontIcon!==this._previousFontIconClass&&!f.includes("mat-ligature-font")&&(this._previousFontIconClass&&o.classList.remove(this._previousFontIconClass),this.fontIcon&&o.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(o){return"string"==typeof o?o.trim().split(" ")[0]:o}_prependPathToReferences(o){const f=this._elementsWithExternalReferences;f&&f.forEach((C,S)=>{C.forEach(Z=>{S.setAttribute(Z.name,`url('${o}#${Z.value}')`)})})}_cacheChildrenWithExternalReferences(o){const f=o.querySelectorAll(Jt),C=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let S=0;S<f.length;S++)ft.forEach(Z=>{const ee=f[S],ue=ee.getAttribute(Z),ke=ue?ue.match(vn):null;if(ke){let qe=C.get(ee);qe||(qe=[],C.set(ee,qe)),qe.push({name:Z,value:ke[1]})}})}_updateSvgIcon(o){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),o){const[f,C]=this._splitIconName(o);f&&(this._svgNamespace=f),C&&(this._svgName=C),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(C,f).pipe((0,$.q)(1)).subscribe(S=>this._setSvgElement(S),S=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${f}:${C}! ${S.message}`))})}}}return p.\u0275fac=function(o){return new(o||p)(h.Y36(h.SBq),h.Y36(Fi),h.$8M("aria-hidden"),h.Y36(ie),h.Y36(h.qLn),h.Y36(G,8))},p.\u0275cmp=h.Xpm({type:p,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(o,f){2&o&&(h.uIk("data-mat-icon-type",f._usingFontIcon()?"font":"svg")("data-mat-icon-name",f._svgName||f.fontIcon)("data-mat-icon-namespace",f._svgNamespace||f.fontSet),h.ekj("mat-icon-inline",f.inline)("mat-icon-no-color","primary"!==f.color&&"accent"!==f.color&&"warn"!==f.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[h.qOj],ngContentSelectors:mu,decls:1,vars:0,template:function(o,f){1&o&&(h.F$t(),h.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0}),p})(),xn=(()=>{class p{}return p.\u0275fac=function(o){return new(o||p)},p.\u0275mod=h.oAB({type:p}),p.\u0275inj=h.cJS({imports:[Rr,Rr]}),p})();const mo=["*",[["mat-toolbar-row"]]],ha=["*","mat-toolbar-row"],Wc=jo(class{constructor(p){this._elementRef=p}});let fd=(()=>{class p{}return p.\u0275fac=function(o){return new(o||p)},p.\u0275dir=h.lG2({type:p,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),p})(),jc=(()=>{class p extends Wc{constructor(o,f,C){super(o),this._platform=f,this._document=C}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return p.\u0275fac=function(o){return new(o||p)(h.Y36(h.SBq),h.Y36(Nn),h.Y36(fe.K0))},p.\u0275cmp=h.Xpm({type:p,selectors:[["mat-toolbar"]],contentQueries:function(o,f,C){if(1&o&&h.Suo(C,fd,5),2&o){let S;h.iGM(S=h.CRH())&&(f._toolbarRows=S)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(o,f){2&o&&h.ekj("mat-toolbar-multiple-rows",f._toolbarRows.length>0)("mat-toolbar-single-row",0===f._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[h.qOj],ngContentSelectors:ha,decls:2,vars:0,template:function(o,f){1&o&&(h.F$t(mo),h.Hsn(0),h.Hsn(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}"],encapsulation:2,changeDetection:0}),p})(),yf=(()=>{class p{}return p.\u0275fac=function(o){return new(o||p)},p.\u0275mod=h.oAB({type:p}),p.\u0275inj=h.cJS({imports:[Rr,Rr]}),p})();const bu=["mat-button",""],Kc=["*"],Ap=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],H_=jo(gs(Nr(class{constructor(p){this._elementRef=p}})));let sh=(()=>{class p extends H_{constructor(o,f,C){super(o),this._focusMonitor=f,this._animationMode=C,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const S of Ap)this._hasHostAttributes(S)&&this._getHostElement().classList.add(S);o.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(o,f){o?this._focusMonitor.focusVia(this._getHostElement(),o,f):this._getHostElement().focus(f)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...o){return o.some(f=>this._getHostElement().hasAttribute(f))}}return p.\u0275fac=function(o){return new(o||p)(h.Y36(h.SBq),h.Y36(Vs),h.Y36(h.QbO,8))},p.\u0275cmp=h.Xpm({type:p,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(o,f){if(1&o&&h.Gf(De,5),2&o){let C;h.iGM(C=h.CRH())&&(f.ripple=C.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(o,f){2&o&&(h.uIk("disabled",f.disabled||null),h.ekj("_mat-animation-noopable","NoopAnimations"===f._animationMode)("mat-button-disabled",f.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[h.qOj],attrs:bu,ngContentSelectors:Kc,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(o,f){1&o&&(h.F$t(),h.TgZ(0,"span",0),h.Hsn(1),h.qZA(),h._UZ(2,"span",1)(3,"span",2)),2&o&&(h.xp6(2),h.ekj("mat-button-ripple-round",f.isRoundButton||f.isIconButton),h.Q6J("matRippleDisabled",f._isRippleDisabled())("matRippleCentered",f.isIconButton)("matRippleTrigger",f._getHostElement()))},dependencies:[De],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}.mat-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.mat-flat-button::before,.mat-raised-button::before,.mat-fab::before,.mat-mini-fab::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-stroked-button::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px) * -1)}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}"],encapsulation:2,changeDetection:0}),p})(),fm=(()=>{class p{}return p.\u0275fac=function(o){return new(o||p)},p.\u0275mod=h.oAB({type:p}),p.\u0275inj=h.cJS({imports:[ht,Rr,Rr]}),p})();function W_(p,l){if(1&p&&(h.TgZ(0,"button",16),h._uU(1),h.qZA()),2&p){const o=h.oxw().$implicit;h.s9C("routerLinkActive",o.class),h.Q6J("routerLink",o.link),h.xp6(1),h.Oqu(o.name)}}function hl(p,l){if(1&p&&(h.ynx(0),h.YNc(1,W_,2,3,"button",15),h.BQk()),2&p){const o=l.$implicit;h.xp6(1),h.Q6J("ngIf","top"==o.align)}}function vf(p,l){if(1&p&&(h.TgZ(0,"button",16),h._uU(1),h.qZA()),2&p){const o=h.oxw().$implicit;h.s9C("routerLinkActive",o.class),h.Q6J("routerLink",o.link),h.xp6(1),h.Oqu(o.name)}}function ah(p,l){if(1&p&&(h.ynx(0),h.YNc(1,vf,2,3,"button",15),h.BQk()),2&p){const o=l.$implicit;h.xp6(1),h.Q6J("ngIf","bottom"==o.align)}}function Sp(p,l){if(1&p&&(h.TgZ(0,"button",18),h._uU(1),h.qZA()),2&p){const o=h.oxw().$implicit;h.s9C("routerLinkActive",o.class),h.Q6J("routerLink",o.link),h.xp6(1),h.Oqu(o.name)}}function j_(p,l){if(1&p&&(h.TgZ(0,"div"),h.YNc(1,Sp,2,3,"button",17),h.qZA()),2&p){const o=l.$implicit;h.xp6(1),h.Q6J("ngIf","bottom"==o.align)}}let xp=(()=>{class p{constructor(o,f){this.firestore=o,this.router=f,this.menu=[],this.contentScreenHeight=800,this.contentScreenHeight=window.innerHeight-110}ngOnInit(){this.loadMenu(),this.firestore.UserUpdateEvent.subscribe(o=>{this.user=o,this.loadMenu()})}onResize(o){this.contentScreenHeight=window.innerHeight-110}loadMenu(){let o=[];null==this.user?(o.push({name:"Register",link:"/register/consultant",class:"active-link",align:"top"}),o.push({name:"Login",link:"/login",class:"active-link",align:"top"}),o.push({name:"Home",link:"/home",class:"active-link",align:"bottom"}),o.push({name:"About Us",link:"/about-us",class:"active-link",align:"bottom"}),o.push({name:"Services",link:"/our-services",class:"active-link",align:"bottom"}),o.push({name:"Workflow",link:"/workflow",class:"active-link",align:"bottom"}),o.push({name:"Contact",link:"/contact-us",class:"active-link",align:"bottom"}),o.push({name:"FAQ",link:"/faq",class:"active-link",align:"bottom"})):(o.push({name:this.user.email,link:"/dashboard",class:"active",align:"top"}),o.push({name:"Dashboard",link:"/dashboard",class:"active-link",align:"bottom"}),o.push({name:"My Profile",link:"/profile",class:"active-link",align:"bottom"}),o.push({name:"My Orders",link:"/orders",class:"active-link",align:"bottom"}),o.push({name:"Logout",link:"/login",class:"active-link",align:"bottom"})),this.menu=o}}return p.\u0275fac=function(o){return new(o||p)(h.Y36(Sc.C),h.Y36(_e.F0))},p.\u0275cmp=h.Xpm({type:p,selectors:[["app-header"]],hostBindings:function(o,f){1&o&&h.NdJ("resize",function(S){return f.onResize(S)},!1,h.Jf7)},decls:34,vars:6,consts:[[1,"d-block","d-md-none"],["mat-icon-button","",3,"click"],["src","assets/icons/tp-icon.png","alt","logo",1,"logo"],[1,"title-cap"],[1,"title-sm"],[1,"example-spacer"],[1,"d-none","d-md-block"],[1,"row"],[1,"col","text-end","d-inline"],[4,"ngFor","ngForOf"],[1,"col"],[1,"example-container",3,"hasBackdrop"],["mode","over"],["drawer",""],[2,"margin","0 10px"],["mat-button","",3,"routerLink","routerLinkActive",4,"ngIf"],["mat-button","",3,"routerLink","routerLinkActive"],["mat-button","","class","menu-left",3,"routerLink","routerLinkActive",4,"ngIf"],["mat-button","",1,"menu-left",3,"routerLink","routerLinkActive"]],template:function(o,f){if(1&o){const C=h.EpF();h.TgZ(0,"mat-toolbar")(1,"div",0)(2,"button",1),h.NdJ("click",function(){h.CHM(C);const Z=h.MAs(30);return h.KtG(Z.toggle())}),h.TgZ(3,"mat-icon"),h._uU(4,"menu"),h.qZA()()(),h.TgZ(5,"span"),h._UZ(6,"img",2),h.qZA(),h.TgZ(7,"span")(8,"span",3),h._uU(9,"T"),h.qZA(),h.TgZ(10,"span",4),h._uU(11,"RANSFER "),h.qZA(),h.TgZ(12,"span",3),h._uU(13,"P"),h.qZA(),h.TgZ(14,"span",4),h._uU(15,"RICING "),h.qZA(),h.TgZ(16,"span",3),h._uU(17,".I"),h.qZA(),h.TgZ(18,"span",4),h._uU(19,"N"),h.qZA()(),h._UZ(20,"span",5),h.TgZ(21,"div",6)(22,"div",7)(23,"div",8),h.YNc(24,hl,2,1,"ng-container",9),h.qZA()(),h.TgZ(25,"div",7)(26,"div",10),h.YNc(27,ah,2,1,"ng-container",9),h.qZA()()()(),h.TgZ(28,"mat-drawer-container",11)(29,"mat-drawer",12,13)(31,"div",14),h.YNc(32,j_,2,1,"div",9),h.qZA()(),h._UZ(33,"router-outlet"),h.qZA()}2&o&&(h.xp6(24),h.Q6J("ngForOf",f.menu),h.xp6(3),h.Q6J("ngForOf",f.menu),h.xp6(1),h.Udp("height",f.contentScreenHeight,"px"),h.Q6J("hasBackdrop",!0),h.xp6(4),h.Q6J("ngForOf",f.menu))},dependencies:[fe.sg,fe.O5,_e.lC,_e.rH,_e.Od,Ka,ih,Ln,jc,sh],styles:[".mat-toolbar-row[_ngcontent-%COMP%], .mat-toolbar-single-row[_ngcontent-%COMP%]{height:80px;background-color:#fff;color:#000}.logo[_ngcontent-%COMP%]{height:50px;margin-right:15px}.title-cap[_ngcontent-%COMP%]{font-size:35px;color:red}.title-sm[_ngcontent-%COMP%]{font-size:25px;color:teal}.example-spacer[_ngcontent-%COMP%]{flex:1 1 auto}.mat-drawer[_ngcontent-%COMP%]{min-width:30%}.mat-toolbar[_ngcontent-%COMP%]{box-shadow:0 3px 5px -1px #0003,0 6px 10px #00000024,0 1px 18px #0000001f}button[_ngcontent-%COMP%]{border-bottom:2px solid transparent;border-radius:0;font-weight:600}button.active-link[_ngcontent-%COMP%]{border-bottom:2px solid gold}router-outlet[_ngcontent-%COMP%]{margin-top:10px}.menu-left[_ngcontent-%COMP%]{font-size:18px;font-weight:500;width:100%;text-align:center}.mat-button[_ngcontent-%COMP%]{line-height:30px}@media only screen and (max-width: 500px){.title-cap[_ngcontent-%COMP%]{font-size:30px}.title-sm[_ngcontent-%COMP%]{font-size:20px}.logo[_ngcontent-%COMP%]{height:40px;margin-right:10px}.mat-button[_ngcontent-%COMP%]{line-height:36px}}"]}),p})(),pm=(()=>{class p{constructor(){}ngOnInit(){}}return p.\u0275fac=function(o){return new(o||p)},p.\u0275cmp=h.Xpm({type:p,selectors:[["app-footer"]],decls:5,vars:0,consts:[[1,"example-spacer"]],template:function(o,f){1&o&&(h.TgZ(0,"mat-toolbar"),h._UZ(1,"span",0),h.TgZ(2,"span"),h._uU(3,"\xa9 Design and Developed by V.V.S.K Chaitanya"),h.qZA(),h._UZ(4,"span",0),h.qZA())},dependencies:[jc],styles:["mat-toolbar[_ngcontent-%COMP%]{position:absolute;bottom:0;font-size:15px;height:30px}.example-spacer[_ngcontent-%COMP%]{flex:1 1 auto}"]}),p})();var bf=k(184);function lh(p,l){if(1&p&&(h.O4$(),h._UZ(0,"circle",4)),2&p){const o=h.oxw(),f=h.MAs(1);h.Udp("animation-name","mat-progress-spinner-stroke-rotate-"+o._spinnerAnimationLabel)("stroke-dashoffset",o._getStrokeDashOffset(),"px")("stroke-dasharray",o._getStrokeCircumference(),"px")("stroke-width",o._getCircleStrokeWidth(),"%")("transform-origin",o._getCircleTransformOrigin(f)),h.uIk("r",o._getCircleRadius())}}function _m(p,l){if(1&p&&(h.O4$(),h._UZ(0,"circle",4)),2&p){const o=h.oxw(),f=h.MAs(1);h.Udp("stroke-dashoffset",o._getStrokeDashOffset(),"px")("stroke-dasharray",o._getStrokeCircumference(),"px")("stroke-width",o._getCircleStrokeWidth(),"%")("transform-origin",o._getCircleTransformOrigin(f)),h.uIk("r",o._getCircleRadius())}}const K_=jo(class{constructor(p){this._elementRef=p}},"primary"),mm=new h.OlP("mat-progress-spinner-default-options",{providedIn:"root",factory:function ym(){return{diameter:100}}});class hc extends K_{constructor(l,o,f,C,S,Z,ee,ue){super(l),this._document=f,this._diameter=100,this._value=0,this._resizeSubscription=Me.w0.EMPTY,this.mode="determinate";const ke=hc._diameters;this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),ke.has(f.head)||ke.set(f.head,new Set([100])),this._noopAnimations="NoopAnimations"===C&&!!S&&!S._forceAnimations,"mat-spinner"===l.nativeElement.nodeName.toLowerCase()&&(this.mode="indeterminate"),S&&(S.color&&(this.color=this.defaultColor=S.color),S.diameter&&(this.diameter=S.diameter),S.strokeWidth&&(this.strokeWidth=S.strokeWidth)),o.isBrowser&&o.SAFARI&&ee&&Z&&ue&&(this._resizeSubscription=ee.change(150).subscribe(()=>{"indeterminate"===this.mode&&ue.run(()=>Z.markForCheck())}))}get diameter(){return this._diameter}set diameter(l){this._diameter=tt(l),this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),this._styleRoot&&this._attachStyleNode()}get strokeWidth(){return this._strokeWidth||this.diameter/10}set strokeWidth(l){this._strokeWidth=tt(l)}get value(){return"determinate"===this.mode?this._value:0}set value(l){this._value=Math.max(0,Math.min(100,tt(l)))}ngOnInit(){const l=this._elementRef.nativeElement;this._styleRoot=vt(l)||this._document.head,this._attachStyleNode(),l.classList.add("mat-progress-spinner-indeterminate-animation")}ngOnDestroy(){this._resizeSubscription.unsubscribe()}_getCircleRadius(){return(this.diameter-10)/2}_getViewBox(){const l=2*this._getCircleRadius()+this.strokeWidth;return`0 0 ${l} ${l}`}_getStrokeCircumference(){return 2*Math.PI*this._getCircleRadius()}_getStrokeDashOffset(){return"determinate"===this.mode?this._getStrokeCircumference()*(100-this._value)/100:null}_getCircleStrokeWidth(){return this.strokeWidth/this.diameter*100}_getCircleTransformOrigin(l){const o=50*(l.currentScale??1);return`${o}% ${o}%`}_attachStyleNode(){const l=this._styleRoot,o=this._diameter,f=hc._diameters;let C=f.get(l);if(!C||!C.has(o)){const S=this._document.createElement("style");S.setAttribute("mat-spinner-animation",this._spinnerAnimationLabel),S.textContent=this._getAnimationText(),l.appendChild(S),C||(C=new Set,f.set(l,C)),C.add(o)}}_getAnimationText(){const l=this._getStrokeCircumference();return"\n @keyframes mat-progress-spinner-stroke-rotate-DIAMETER {\n    0%      { stroke-dashoffset: START_VALUE;  transform: rotate(0); }\n    12.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(0); }\n    12.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(72.5deg); }\n    25%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(72.5deg); }\n\n    25.0001%   { stroke-dashoffset: START_VALUE;  transform: rotate(270deg); }\n    37.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(270deg); }\n    37.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(161.5deg); }\n    50%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(161.5deg); }\n\n    50.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(180deg); }\n    62.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(180deg); }\n    62.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(251.5deg); }\n    75%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(251.5deg); }\n\n    75.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(90deg); }\n    87.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(90deg); }\n    87.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(341.5deg); }\n    100%    { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(341.5deg); }\n  }\n".replace(/START_VALUE/g,""+.95*l).replace(/END_VALUE/g,""+.2*l).replace(/DIAMETER/g,`${this._spinnerAnimationLabel}`)}_getSpinnerAnimationLabel(){return this.diameter.toString().replace(".","_")}}hc._diameters=new WeakMap,hc.\u0275fac=function(l){return new(l||hc)(h.Y36(h.SBq),h.Y36(Nn),h.Y36(fe.K0,8),h.Y36(h.QbO,8),h.Y36(mm),h.Y36(h.sBO),h.Y36(ud),h.Y36(h.R0b))},hc.\u0275cmp=h.Xpm({type:hc,selectors:[["mat-progress-spinner"],["mat-spinner"]],hostAttrs:["role","progressbar","tabindex","-1",1,"mat-progress-spinner","mat-spinner"],hostVars:10,hostBindings:function(l,o){2&l&&(h.uIk("aria-valuemin","determinate"===o.mode?0:null)("aria-valuemax","determinate"===o.mode?100:null)("aria-valuenow","determinate"===o.mode?o.value:null)("mode",o.mode),h.Udp("width",o.diameter,"px")("height",o.diameter,"px"),h.ekj("_mat-animation-noopable",o._noopAnimations))},inputs:{color:"color",diameter:"diameter",strokeWidth:"strokeWidth",mode:"mode",value:"value"},exportAs:["matProgressSpinner"],features:[h.qOj],decls:4,vars:8,consts:[["preserveAspectRatio","xMidYMid meet","focusable","false","aria-hidden","true",3,"ngSwitch"],["svg",""],["cx","50%","cy","50%",3,"animation-name","stroke-dashoffset","stroke-dasharray","stroke-width","transform-origin",4,"ngSwitchCase"],["cx","50%","cy","50%",3,"stroke-dashoffset","stroke-dasharray","stroke-width","transform-origin",4,"ngSwitchCase"],["cx","50%","cy","50%"]],template:function(l,o){1&l&&(h.O4$(),h.TgZ(0,"svg",0,1),h.YNc(2,lh,1,11,"circle",2),h.YNc(3,_m,1,9,"circle",3),h.qZA()),2&l&&(h.Udp("width",o.diameter,"px")("height",o.diameter,"px"),h.Q6J("ngSwitch","indeterminate"===o.mode),h.uIk("viewBox",o._getViewBox()),h.xp6(2),h.Q6J("ngSwitchCase",!0),h.xp6(1),h.Q6J("ngSwitchCase",!1))},dependencies:[fe.RF,fe.n9],styles:[".mat-progress-spinner{display:block;position:relative;overflow:hidden}.mat-progress-spinner svg{position:absolute;transform:rotate(-90deg);top:0;left:0;transform-origin:center;overflow:visible}.mat-progress-spinner circle{fill:rgba(0,0,0,0);transition:stroke-dashoffset 225ms linear}.cdk-high-contrast-active .mat-progress-spinner circle{stroke:CanvasText}.mat-progress-spinner[mode=indeterminate] svg{animation:mat-progress-spinner-linear-rotate 2000ms linear infinite}.mat-progress-spinner[mode=indeterminate] circle{transition-property:stroke;animation-duration:4000ms;animation-timing-function:cubic-bezier(0.35, 0, 0.25, 1);animation-iteration-count:infinite}.mat-progress-spinner._mat-animation-noopable svg,.mat-progress-spinner._mat-animation-noopable circle{animation:none;transition:none}@keyframes mat-progress-spinner-linear-rotate{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes mat-progress-spinner-stroke-rotate-100{0%{stroke-dashoffset:268.606171575px;transform:rotate(0)}12.5%{stroke-dashoffset:56.5486677px;transform:rotate(0)}12.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(72.5deg)}25%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(72.5deg)}25.0001%{stroke-dashoffset:268.606171575px;transform:rotate(270deg)}37.5%{stroke-dashoffset:56.5486677px;transform:rotate(270deg)}37.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(161.5deg)}50%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(161.5deg)}50.0001%{stroke-dashoffset:268.606171575px;transform:rotate(180deg)}62.5%{stroke-dashoffset:56.5486677px;transform:rotate(180deg)}62.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(251.5deg)}75%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(251.5deg)}75.0001%{stroke-dashoffset:268.606171575px;transform:rotate(90deg)}87.5%{stroke-dashoffset:56.5486677px;transform:rotate(90deg)}87.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(341.5deg)}100%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(341.5deg)}}"],encapsulation:2,changeDetection:0});let Pp=(()=>{class p{}return p.\u0275fac=function(o){return new(o||p)},p.\u0275mod=h.oAB({type:p}),p.\u0275inj=h.cJS({imports:[Rr,fe.ez,Rr]}),p})();function $_(p,l){if(1&p&&(h.TgZ(0,"div",1),h._UZ(1,"mat-progress-spinner",2),h.qZA()),2&p){const o=h.oxw();h.xp6(1),h.Q6J("color",o.color)}}let bm=(()=>{class p{constructor(o){this.loaderService=o,this.color="primary",this.value=50,this.isLoading=this.loaderService.isLoading}}return p.\u0275fac=function(o){return new(o||p)(h.Y36(bf.D))},p.\u0275cmp=h.Xpm({type:p,selectors:[["app-loader"]],decls:2,vars:3,consts:[["class","overlay",4,"ngIf"],[1,"overlay"],["mode","indeterminate",1,"spinner",3,"color"]],template:function(o,f){1&o&&(h.YNc(0,$_,2,1,"div",0),h.ALo(1,"async")),2&o&&h.Q6J("ngIf",h.lcZ(1,1,f.isLoading))},dependencies:[fe.O5,hc,fe.Ov],styles:[".overlay[_ngcontent-%COMP%]{position:fixed;display:block;width:100%;height:100%;top:0;left:0;background-color:#4a4a4acc;z-index:99999}.spinner[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}"]}),p})(),Rp=(()=>{class p{constructor(){this.title="webedu"}}return p.\u0275fac=function(o){return new(o||p)},p.\u0275cmp=h.Xpm({type:p,selectors:[["app-root"]],decls:4,vars:0,template:function(o,f){1&o&&h._UZ(0,"app-header")(1,"router-outlet")(2,"app-footer")(3,"app-loader")},dependencies:[_e.lC,xp,pm,bm]}),p})();const kp_firebase={apiKey:"AIzaSyC_-QzpiYjm5nZFnekbnStXRcNfpp1C9tA",authDomain:"transfer-pricing-dev.firebaseapp.com",projectId:"transfer-pricing-dev",storageBucket:"transfer-pricing-dev.appspot.com",messagingSenderId:"620960304507",appId:"1:620960304507:web:68b366b199a5a52194c1de"};function ns(p){return new h.vHH(3e3,!1)}function yd(){return typeof window<"u"&&typeof window.document<"u"}function Tf(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function Zc(p){switch(p.length){case 0:return new Nt.ZN;case 1:return p[0];default:return new Nt.ZE(p)}}function fl(p,l,o,f,C=new Map,S=new Map){const Z=[],ee=[];let ue=-1,ke=null;if(f.forEach(qe=>{const Pt=qe.get("offset"),Bn=Pt==ue,an=Bn&&ke||new Map;qe.forEach((bn,Cn)=>{let Mr=Cn,i=bn;if("offset"!==Cn)switch(Mr=l.normalizePropertyName(Mr,Z),i){case Nt.k1:i=C.get(Cn);break;case Nt.l3:i=S.get(Cn);break;default:i=l.normalizeStyleValue(Cn,Mr,i,Z)}an.set(Mr,i)}),Bn||ee.push(an),ke=an,ue=Pt}),Z.length)throw function gd(p){return new h.vHH(3502,!1)}();return ee}function zc(p,l,o,f){switch(l){case"start":p.onStart(()=>f(o&&Gc(o,"start",p)));break;case"done":p.onDone(()=>f(o&&Gc(o,"done",p)));break;case"destroy":p.onDestroy(()=>f(o&&Gc(o,"destroy",p)))}}function Gc(p,l,o){const S=If(p.element,p.triggerName,p.fromState,p.toState,l||p.phaseName,o.totalTime??p.totalTime,!!o.disabled),Z=p._data;return null!=Z&&(S._data=Z),S}function If(p,l,o,f,C="",S=0,Z){return{element:p,triggerName:l,fromState:o,toState:f,phaseName:C,totalTime:S,disabled:!!Z}}function ks(p,l,o){let f=p.get(l);return f||p.set(l,f=o),f}function Zs(p){const l=p.indexOf(":");return[p.substring(1,l),p.slice(l+1)]}let Af=(p,l)=>!1,fh=(p,l,o)=>[],ph=null;function Sf(p){const l=p.parentNode||p.host;return l===ph?null:l}(Tf()||typeof Element<"u")&&(yd()?(ph=(()=>document.documentElement)(),Af=(p,l)=>{for(;l;){if(l===p)return!0;l=Sf(l)}return!1}):Af=(p,l)=>p.contains(l),fh=(p,l,o)=>{if(o)return Array.from(p.querySelectorAll(l));const f=p.querySelector(l);return f?[f]:[]});let Ll=null,fc=!1;const Nl=Af,xf=fh;let Up=(()=>{class p{validateStyleProperty(o){return function Bp(p){Ll||(Ll=function X_(){return typeof document<"u"?document.body:null}()||{},fc=!!Ll.style&&"WebkitAppearance"in Ll.style);let l=!0;return Ll.style&&!function Au(p){return"ebkit"==p.substring(1,6)}(p)&&(l=p in Ll.style,!l&&fc&&(l="Webkit"+p.charAt(0).toUpperCase()+p.slice(1)in Ll.style)),l}(o)}matchesElement(o,f){return!1}containsElement(o,f){return Nl(o,f)}getParentElement(o){return Sf(o)}query(o,f,C){return xf(o,f,C)}computeStyle(o,f,C){return C||""}animate(o,f,C,S,Z,ee=[],ue){return new Nt.ZN(C,S)}}return p.\u0275fac=function(o){return new(o||p)},p.\u0275prov=h.Yz7({token:p,factory:p.\u0275fac}),p})(),Of=(()=>{class p{}return p.NOOP=new Up,p})();const Vp="ng-enter",bd="ng-leave",mh="ng-trigger",Ed=".ng-trigger",Fl="ng-animating",qc=".ng-animating";function Ga(p){if("number"==typeof p)return p;const l=p.match(/^(-?[\.\d]+)(m?s)/);return!l||l.length<2?0:Su(parseFloat(l[1]),l[2])}function Su(p,l){return"s"===l?1e3*p:p}function yh(p,l,o){return p.hasOwnProperty("duration")?p:function Rf(p,l,o){let C,S=0,Z="";if("string"==typeof p){const ee=p.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===ee)return l.push(ns()),{duration:0,delay:0,easing:""};C=Su(parseFloat(ee[1]),ee[2]);const ue=ee[3];null!=ue&&(S=Su(parseFloat(ue),ee[4]));const ke=ee[5];ke&&(Z=ke)}else C=p;if(!o){let ee=!1,ue=l.length;C<0&&(l.push(function Oo(){return new h.vHH(3100,!1)}()),ee=!0),S<0&&(l.push(function Ef(){return new h.vHH(3101,!1)}()),ee=!0),ee&&l.splice(ue,0,ns())}return{duration:C,delay:S,easing:Z}}(p,l,o)}function Cd(p,l={}){return Object.keys(p).forEach(o=>{l[o]=p[o]}),l}function kf(p){const l=new Map;return Object.keys(p).forEach(o=>{l.set(o,p[o])}),l}function pc(p,l=new Map,o){if(o)for(let[f,C]of o)l.set(f,C);for(let[f,C]of p)l.set(f,C);return l}function J_(p,l,o){return o?l+":"+o+";":""}function eg(p){let l="";for(let o=0;o<p.style.length;o++){const f=p.style.item(o);l+=J_(0,f,p.style.getPropertyValue(f))}for(const o in p.style)p.style.hasOwnProperty(o)&&!o.startsWith("_")&&(l+=J_(0,jp(o),p.style[o]));p.setAttribute("style",l)}function pl(p,l,o){p.style&&(l.forEach((f,C)=>{const S=Ls(C);o&&!o.has(C)&&o.set(C,p.style[S]),p.style[S]=f}),Tf()&&eg(p))}function Bl(p,l){p.style&&(l.forEach((o,f)=>{const C=Ls(f);p.style[C]=""}),Tf()&&eg(p))}function Dd(p){return Array.isArray(p)?1==p.length?p[0]:(0,Nt.vP)(p):p}const Lf=new RegExp("{{\\s*(.+?)\\s*}}","g");function Wp(p){let l=[];if("string"==typeof p){let o;for(;o=Lf.exec(p);)l.push(o[1]);Lf.lastIndex=0}return l}function Ou(p,l,o){const f=p.toString(),C=f.replace(Lf,(S,Z)=>{let ee=l[Z];return null==ee&&(o.push(function rs(p){return new h.vHH(3003,!1)}()),ee=""),ee.toString()});return C==f?p:C}function wd(p){const l=[];let o=p.next();for(;!o.done;)l.push(o.value),o=p.next();return l}const vh=/-+([a-z0-9])/g;function Ls(p){return p.replace(vh,(...l)=>l[1].toUpperCase())}function jp(p){return p.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Ta(p,l,o){switch(l.type){case 7:return p.visitTrigger(l,o);case 0:return p.visitState(l,o);case 1:return p.visitTransition(l,o);case 2:return p.visitSequence(l,o);case 3:return p.visitGroup(l,o);case 4:return p.visitAnimate(l,o);case 5:return p.visitKeyframes(l,o);case 6:return p.visitStyle(l,o);case 8:return p.visitReference(l,o);case 9:return p.visitAnimateChild(l,o);case 10:return p.visitAnimateRef(l,o);case 11:return p.visitQuery(l,o);case 12:return p.visitStagger(l,o);default:throw function za(p){return new h.vHH(3004,!1)}()}}function Kp(p,l){return window.getComputedStyle(p)[l]}function Ru(p,l){const o=[];return"string"==typeof p?p.split(/\s*,\s*/).forEach(f=>function $p(p,l,o){if(":"==p[0]){const ue=function Ff(p,l){switch(p){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(o,f)=>parseFloat(f)>parseFloat(o);case":decrement":return(o,f)=>parseFloat(f)<parseFloat(o);default:return l.push(function Rl(p){return new h.vHH(3016,!1)}()),"* => *"}}(p,o);if("function"==typeof ue)return void l.push(ue);p=ue}const f=p.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==f||f.length<4)return o.push(function _d(p){return new h.vHH(3015,!1)}()),l;const C=f[1],S=f[2],Z=f[3];l.push(Bf(C,Z));"<"==S[0]&&!("*"==C&&"*"==Z)&&l.push(Bf(Z,C))}(f,o,l)):o.push(p),o}const Md=new Set(["true","1"]),Eh=new Set(["false","0"]);function Bf(p,l){const o=Md.has(p)||Eh.has(p),f=Md.has(l)||Eh.has(l);return(C,S)=>{let Z="*"==p||p==C,ee="*"==l||l==S;return!Z&&o&&"boolean"==typeof C&&(Z=C?Md.has(p):Eh.has(p)),!ee&&f&&"boolean"==typeof S&&(ee=S?Md.has(l):Eh.has(l)),Z&&ee}}const Zp=new RegExp("s*:selfs*,?","g");function ig(p,l,o,f){return new zp(p).build(l,o,f)}class zp{constructor(l){this._driver=l}build(l,o,f){const C=new Td(o);return this._resetContextStyleTimingState(C),Ta(this,Dd(l),C)}_resetContextStyleTimingState(l){l.currentQuerySelector="",l.collectedStyles=new Map,l.collectedStyles.set("",new Map),l.currentTime=0}visitTrigger(l,o){let f=o.queryCount=0,C=o.depCount=0;const S=[],Z=[];return"@"==l.name.charAt(0)&&o.errors.push(function Em(){return new h.vHH(3006,!1)}()),l.definitions.forEach(ee=>{if(this._resetContextStyleTimingState(o),0==ee.type){const ue=ee,ke=ue.name;ke.toString().split(/\s*,\s*/).forEach(qe=>{ue.name=qe,S.push(this.visitState(ue,o))}),ue.name=ke}else if(1==ee.type){const ue=this.visitTransition(ee,o);f+=ue.queryCount,C+=ue.depCount,Z.push(ue)}else o.errors.push(function Z_(){return new h.vHH(3007,!1)}())}),{type:7,name:l.name,states:S,transitions:Z,queryCount:f,depCount:C,options:null}}visitState(l,o){const f=this.visitStyle(l.styles,o),C=l.options&&l.options.params||null;if(f.containsDynamicStyles){const S=new Set,Z=C||{};f.styles.forEach(ee=>{ee instanceof Map&&ee.forEach(ue=>{Wp(ue).forEach(ke=>{Z.hasOwnProperty(ke)||S.add(ke)})})}),S.size&&(wd(S.values()),o.errors.push(function uh(p,l){return new h.vHH(3008,!1)}()))}return{type:0,name:l.name,style:f,options:C?{params:C}:null}}visitTransition(l,o){o.queryCount=0,o.depCount=0;const f=Ta(this,Dd(l.animation),o);return{type:1,matchers:Ru(l.expr,o.errors),animation:f,queryCount:o.queryCount,depCount:o.depCount,options:Qc(l.options)}}visitSequence(l,o){return{type:2,steps:l.steps.map(f=>Ta(this,f,o)),options:Qc(l.options)}}visitGroup(l,o){const f=o.currentTime;let C=0;const S=l.steps.map(Z=>{o.currentTime=f;const ee=Ta(this,Z,o);return C=Math.max(C,o.currentTime),ee});return o.currentTime=C,{type:3,steps:S,options:Qc(l.options)}}visitAnimate(l,o){const f=function Uf(p,l){if(p.hasOwnProperty("duration"))return p;if("number"==typeof p)return Vf(yh(p,l).duration,0,"");const o=p;if(o.split(/\s+/).some(S=>"{"==S.charAt(0)&&"{"==S.charAt(1))){const S=Vf(0,0,"");return S.dynamic=!0,S.strValue=o,S}const C=yh(o,l);return Vf(C.duration,C.delay,C.easing)}(l.timings,o.errors);o.currentAnimateTimings=f;let C,S=l.styles?l.styles:(0,Nt.oB)({});if(5==S.type)C=this.visitKeyframes(S,o);else{let Z=l.styles,ee=!1;if(!Z){ee=!0;const ke={};f.easing&&(ke.easing=f.easing),Z=(0,Nt.oB)(ke)}o.currentTime+=f.duration+f.delay;const ue=this.visitStyle(Z,o);ue.isEmptyStep=ee,C=ue}return o.currentAnimateTimings=null,{type:4,timings:f,style:C,options:null}}visitStyle(l,o){const f=this._makeStyleAst(l,o);return this._validateStyleAst(f,o),f}_makeStyleAst(l,o){const f=[],C=Array.isArray(l.styles)?l.styles:[l.styles];for(let ee of C)"string"==typeof ee?ee===Nt.l3?f.push(ee):o.errors.push(new h.vHH(3002,!1)):f.push(kf(ee));let S=!1,Z=null;return f.forEach(ee=>{if(ee instanceof Map&&(ee.has("easing")&&(Z=ee.get("easing"),ee.delete("easing")),!S))for(let ue of ee.values())if(ue.toString().indexOf("{{")>=0){S=!0;break}}),{type:6,styles:f,easing:Z,offset:l.offset,containsDynamicStyles:S,options:null}}_validateStyleAst(l,o){const f=o.currentAnimateTimings;let C=o.currentTime,S=o.currentTime;f&&S>0&&(S-=f.duration+f.delay),l.styles.forEach(Z=>{"string"!=typeof Z&&Z.forEach((ee,ue)=>{const ke=o.collectedStyles.get(o.currentQuerySelector),qe=ke.get(ue);let Pt=!0;qe&&(S!=C&&S>=qe.startTime&&C<=qe.endTime&&(o.errors.push(function Mu(p,l,o,f,C){return new h.vHH(3010,!1)}()),Pt=!1),S=qe.startTime),Pt&&ke.set(ue,{startTime:S,endTime:C}),o.options&&function Hp(p,l,o){const f=l.params||{},C=Wp(p);C.length&&C.forEach(S=>{f.hasOwnProperty(S)||o.push(function ch(p){return new h.vHH(3001,!1)}())})}(ee,o.options,o.errors)})})}visitKeyframes(l,o){const f={type:5,styles:[],options:null};if(!o.currentAnimateTimings)return o.errors.push(function pd(){return new h.vHH(3011,!1)}()),f;let S=0;const Z=[];let ee=!1,ue=!1,ke=0;const qe=l.steps.map(i=>{const e=this._makeStyleAst(i,o);let t=null!=e.offset?e.offset:function ku(p){if("string"==typeof p)return null;let l=null;if(Array.isArray(p))p.forEach(o=>{if(o instanceof Map&&o.has("offset")){const f=o;l=parseFloat(f.get("offset")),f.delete("offset")}});else if(p instanceof Map&&p.has("offset")){const o=p;l=parseFloat(o.get("offset")),o.delete("offset")}return l}(e.styles),s=0;return null!=t&&(S++,s=e.offset=t),ue=ue||s<0||s>1,ee=ee||s<ke,ke=s,Z.push(s),e});ue&&o.errors.push(function z_(){return new h.vHH(3012,!1)}()),ee&&o.errors.push(function Lp(){return new h.vHH(3200,!1)}());const Pt=l.steps.length;let Bn=0;S>0&&S<Pt?o.errors.push(function Df(){return new h.vHH(3202,!1)}()):0==S&&(Bn=1/(Pt-1));const an=Pt-1,bn=o.currentTime,Cn=o.currentAnimateTimings,Mr=Cn.duration;return qe.forEach((i,e)=>{const t=Bn>0?e==an?1:Bn*e:Z[e],s=t*Mr;o.currentTime=bn+Cn.delay+s,Cn.duration=s,this._validateStyleAst(i,o),i.offset=t,f.styles.push(i)}),f}visitReference(l,o){return{type:8,animation:Ta(this,Dd(l.animation),o),options:Qc(l.options)}}visitAnimateChild(l,o){return o.depCount++,{type:9,options:Qc(l.options)}}visitAnimateRef(l,o){return{type:10,animation:this.visitReference(l.animation,o),options:Qc(l.options)}}visitQuery(l,o){const f=o.currentQuerySelector,C=l.options||{};o.queryCount++,o.currentQuery=l;const[S,Z]=function Yc(p){const l=!!p.split(/\s*,\s*/).find(o=>":self"==o);return l&&(p=p.replace(Zp,"")),p=p.replace(/@\*/g,Ed).replace(/@\w+/g,o=>Ed+"-"+o.slice(1)).replace(/:animating/g,qc),[p,l]}(l.selector);o.currentQuerySelector=f.length?f+" "+S:S,ks(o.collectedStyles,o.currentQuerySelector,new Map);const ee=Ta(this,Dd(l.animation),o);return o.currentQuery=null,o.currentQuerySelector=f,{type:11,selector:S,limit:C.limit||0,optional:!!C.optional,includeSelf:Z,animation:ee,originalSelector:l.selector,options:Qc(l.options)}}visitStagger(l,o){o.currentQuery||o.errors.push(function G_(){return new h.vHH(3013,!1)}());const f="full"===l.timings?{duration:0,delay:0,easing:"full"}:yh(l.timings,o.errors,!0);return{type:12,animation:Ta(this,Dd(l.animation),o),timings:f,options:null}}}class Td{constructor(l){this.errors=l,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Qc(p){return p?(p=Cd(p)).params&&(p.params=function Gp(p){return p?Cd(p):null}(p.params)):p={},p}function Vf(p,l,o){return{duration:p,delay:l,easing:o}}function Hf(p,l,o,f,C,S,Z=null,ee=!1){return{type:1,element:p,keyframes:l,preStyleProps:o,postStyleProps:f,duration:C,delay:S,totalTime:C+S,easing:Z,subTimeline:ee}}class Dh{constructor(){this._map=new Map}get(l){return this._map.get(l)||[]}append(l,o){let f=this._map.get(l);f||this._map.set(l,f=[]),f.push(...o)}has(l){return this._map.has(l)}clear(){this._map.clear()}}const Sm=new RegExp(":enter","g"),xm=new RegExp(":leave","g");function wh(p,l,o,f,C,S=new Map,Z=new Map,ee,ue,ke=[]){return(new Lu).buildKeyframes(p,l,o,f,C,S,Z,ee,ue,ke)}class Lu{buildKeyframes(l,o,f,C,S,Z,ee,ue,ke,qe=[]){ke=ke||new Dh;const Pt=new Ad(l,o,ke,C,S,qe,[]);Pt.options=ue;const Bn=ue.delay?Ga(ue.delay):0;Pt.currentTimeline.delayNextStep(Bn),Pt.currentTimeline.setStyles([Z],null,Pt.errors,ue),Ta(this,f,Pt);const an=Pt.timelines.filter(bn=>bn.containsAnimation());if(an.length&&ee.size){let bn;for(let Cn=an.length-1;Cn>=0;Cn--){const Mr=an[Cn];if(Mr.element===o){bn=Mr;break}}bn&&!bn.allowOnlyTimelineStyles()&&bn.setStyles([ee],null,Pt.errors,ue)}return an.length?an.map(bn=>bn.buildKeyframes()):[Hf(o,[],[],[],0,Bn,"",!1)]}visitTrigger(l,o){}visitState(l,o){}visitTransition(l,o){}visitAnimateChild(l,o){const f=o.subInstructions.get(o.element);if(f){const C=o.createSubContext(l.options),S=o.currentTimeline.currentTime,Z=this._visitSubInstructions(f,C,C.options);S!=Z&&o.transformIntoNewTimeline(Z)}o.previousNode=l}visitAnimateRef(l,o){const f=o.createSubContext(l.options);f.transformIntoNewTimeline(),this.visitReference(l.animation,f),o.transformIntoNewTimeline(f.currentTimeline.currentTime),o.previousNode=l}_visitSubInstructions(l,o,f){let S=o.currentTimeline.currentTime;const Z=null!=f.duration?Ga(f.duration):null,ee=null!=f.delay?Ga(f.delay):null;return 0!==Z&&l.forEach(ue=>{const ke=o.appendInstructionToTimeline(ue,Z,ee);S=Math.max(S,ke.duration+ke.delay)}),S}visitReference(l,o){o.updateOptions(l.options,!0),Ta(this,l.animation,o),o.previousNode=l}visitSequence(l,o){const f=o.subContextCount;let C=o;const S=l.options;if(S&&(S.params||S.delay)&&(C=o.createSubContext(S),C.transformIntoNewTimeline(),null!=S.delay)){6==C.previousNode.type&&(C.currentTimeline.snapshotCurrentStyles(),C.previousNode=Xc);const Z=Ga(S.delay);C.delayNextStep(Z)}l.steps.length&&(l.steps.forEach(Z=>Ta(this,Z,C)),C.currentTimeline.applyStylesToKeyframe(),C.subContextCount>f&&C.transformIntoNewTimeline()),o.previousNode=l}visitGroup(l,o){const f=[];let C=o.currentTimeline.currentTime;const S=l.options&&l.options.delay?Ga(l.options.delay):0;l.steps.forEach(Z=>{const ee=o.createSubContext(l.options);S&&ee.delayNextStep(S),Ta(this,Z,ee),C=Math.max(C,ee.currentTimeline.currentTime),f.push(ee.currentTimeline)}),f.forEach(Z=>o.currentTimeline.mergeTimelineCollectedStyles(Z)),o.transformIntoNewTimeline(C),o.previousNode=l}_visitTiming(l,o){if(l.dynamic){const f=l.strValue;return yh(o.params?Ou(f,o.params,o.errors):f,o.errors)}return{duration:l.duration,delay:l.delay,easing:l.easing}}visitAnimate(l,o){const f=o.currentAnimateTimings=this._visitTiming(l.timings,o),C=o.currentTimeline;f.delay&&(o.incrementTime(f.delay),C.snapshotCurrentStyles());const S=l.style;5==S.type?this.visitKeyframes(S,o):(o.incrementTime(f.duration),this.visitStyle(S,o),C.applyStylesToKeyframe()),o.currentAnimateTimings=null,o.previousNode=l}visitStyle(l,o){const f=o.currentTimeline,C=o.currentAnimateTimings;!C&&f.hasCurrentStyleProperties()&&f.forwardFrame();const S=C&&C.easing||l.easing;l.isEmptyStep?f.applyEmptyStep(S):f.setStyles(l.styles,S,o.errors,o.options),o.previousNode=l}visitKeyframes(l,o){const f=o.currentAnimateTimings,C=o.currentTimeline.duration,S=f.duration,ee=o.createSubContext().currentTimeline;ee.easing=f.easing,l.styles.forEach(ue=>{ee.forwardTime((ue.offset||0)*S),ee.setStyles(ue.styles,ue.easing,o.errors,o.options),ee.applyStylesToKeyframe()}),o.currentTimeline.mergeTimelineCollectedStyles(ee),o.transformIntoNewTimeline(C+S),o.previousNode=l}visitQuery(l,o){const f=o.currentTimeline.currentTime,C=l.options||{},S=C.delay?Ga(C.delay):0;S&&(6===o.previousNode.type||0==f&&o.currentTimeline.hasCurrentStyleProperties())&&(o.currentTimeline.snapshotCurrentStyles(),o.previousNode=Xc);let Z=f;const ee=o.invokeQuery(l.selector,l.originalSelector,l.limit,l.includeSelf,!!C.optional,o.errors);o.currentQueryTotal=ee.length;let ue=null;ee.forEach((ke,qe)=>{o.currentQueryIndex=qe;const Pt=o.createSubContext(l.options,ke);S&&Pt.delayNextStep(S),ke===o.element&&(ue=Pt.currentTimeline),Ta(this,l.animation,Pt),Pt.currentTimeline.applyStylesToKeyframe(),Z=Math.max(Z,Pt.currentTimeline.currentTime)}),o.currentQueryIndex=0,o.currentQueryTotal=0,o.transformIntoNewTimeline(Z),ue&&(o.currentTimeline.mergeTimelineCollectedStyles(ue),o.currentTimeline.snapshotCurrentStyles()),o.previousNode=l}visitStagger(l,o){const f=o.parentContext,C=o.currentTimeline,S=l.timings,Z=Math.abs(S.duration),ee=Z*(o.currentQueryTotal-1);let ue=Z*o.currentQueryIndex;switch(S.duration<0?"reverse":S.easing){case"reverse":ue=ee-ue;break;case"full":ue=f.currentStaggerTime}const qe=o.currentTimeline;ue&&qe.delayNextStep(ue);const Pt=qe.currentTime;Ta(this,l.animation,o),o.previousNode=l,f.currentStaggerTime=C.currentTime-Pt+(C.startTime-f.currentTimeline.startTime)}}const Xc={};class Ad{constructor(l,o,f,C,S,Z,ee,ue){this._driver=l,this.element=o,this.subInstructions=f,this._enterClassName=C,this._leaveClassName=S,this.errors=Z,this.timelines=ee,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Xc,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=ue||new Mh(this._driver,o,0),ee.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(l,o){if(!l)return;const f=l;let C=this.options;null!=f.duration&&(C.duration=Ga(f.duration)),null!=f.delay&&(C.delay=Ga(f.delay));const S=f.params;if(S){let Z=C.params;Z||(Z=this.options.params={}),Object.keys(S).forEach(ee=>{(!o||!Z.hasOwnProperty(ee))&&(Z[ee]=Ou(S[ee],Z,this.errors))})}}_copyOptions(){const l={};if(this.options){const o=this.options.params;if(o){const f=l.params={};Object.keys(o).forEach(C=>{f[C]=o[C]})}}return l}createSubContext(l=null,o,f){const C=o||this.element,S=new Ad(this._driver,C,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(C,f||0));return S.previousNode=this.previousNode,S.currentAnimateTimings=this.currentAnimateTimings,S.options=this._copyOptions(),S.updateOptions(l),S.currentQueryIndex=this.currentQueryIndex,S.currentQueryTotal=this.currentQueryTotal,S.parentContext=this,this.subContextCount++,S}transformIntoNewTimeline(l){return this.previousNode=Xc,this.currentTimeline=this.currentTimeline.fork(this.element,l),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(l,o,f){const C={duration:o??l.duration,delay:this.currentTimeline.currentTime+(f??0)+l.delay,easing:""},S=new Om(this._driver,l.element,l.keyframes,l.preStyleProps,l.postStyleProps,C,l.stretchStartingKeyframe);return this.timelines.push(S),C}incrementTime(l){this.currentTimeline.forwardTime(this.currentTimeline.duration+l)}delayNextStep(l){l>0&&this.currentTimeline.delayNextStep(l)}invokeQuery(l,o,f,C,S,Z){let ee=[];if(C&&ee.push(this.element),l.length>0){l=(l=l.replace(Sm,"."+this._enterClassName)).replace(xm,"."+this._leaveClassName);let ke=this._driver.query(this.element,l,1!=f);0!==f&&(ke=f<0?ke.slice(ke.length+f,ke.length):ke.slice(0,f)),ee.push(...ke)}return!S&&0==ee.length&&Z.push(function q_(p){return new h.vHH(3014,!1)}()),ee}}class Mh{constructor(l,o,f,C){this._driver=l,this.element=o,this.startTime=f,this._elementTimelineStylesLookup=C,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(o),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(o,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(l){const o=1===this._keyframes.size&&this._pendingStyles.size;this.duration||o?(this.forwardTime(this.currentTime+l),o&&this.snapshotCurrentStyles()):this.startTime+=l}fork(l,o){return this.applyStylesToKeyframe(),new Mh(this._driver,l,o||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(l){this.applyStylesToKeyframe(),this.duration=l,this._loadKeyframe()}_updateStyle(l,o){this._localTimelineStyles.set(l,o),this._globalTimelineStyles.set(l,o),this._styleSummary.set(l,{time:this.currentTime,value:o})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(l){l&&this._previousKeyframe.set("easing",l);for(let[o,f]of this._globalTimelineStyles)this._backFill.set(o,f||Nt.l3),this._currentKeyframe.set(o,Nt.l3);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(l,o,f,C){o&&this._previousKeyframe.set("easing",o);const S=C&&C.params||{},Z=function Pm(p,l){const o=new Map;let f;return p.forEach(C=>{if("*"===C){f=f||l.keys();for(let S of f)o.set(S,Nt.l3)}else pc(C,o)}),o}(l,this._globalTimelineStyles);for(let[ee,ue]of Z){const ke=Ou(ue,S,f);this._pendingStyles.set(ee,ke),this._localTimelineStyles.has(ee)||this._backFill.set(ee,this._globalTimelineStyles.get(ee)??Nt.l3),this._updateStyle(ee,ke)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((l,o)=>{this._currentKeyframe.set(o,l)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((l,o)=>{this._currentKeyframe.has(o)||this._currentKeyframe.set(o,l)}))}snapshotCurrentStyles(){for(let[l,o]of this._localTimelineStyles)this._pendingStyles.set(l,o),this._updateStyle(l,o)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const l=[];for(let o in this._currentKeyframe)l.push(o);return l}mergeTimelineCollectedStyles(l){l._styleSummary.forEach((o,f)=>{const C=this._styleSummary.get(f);(!C||o.time>C.time)&&this._updateStyle(f,o.value)})}buildKeyframes(){this.applyStylesToKeyframe();const l=new Set,o=new Set,f=1===this._keyframes.size&&0===this.duration;let C=[];this._keyframes.forEach((ee,ue)=>{const ke=pc(ee,new Map,this._backFill);ke.forEach((qe,Pt)=>{qe===Nt.k1?l.add(Pt):qe===Nt.l3&&o.add(Pt)}),f||ke.set("offset",ue/this.duration),C.push(ke)});const S=l.size?wd(l.values()):[],Z=o.size?wd(o.values()):[];if(f){const ee=C[0],ue=new Map(ee);ee.set("offset",0),ue.set("offset",1),C=[ee,ue]}return Hf(this.element,C,S,Z,this.duration,this.startTime,this.easing,!1)}}class Om extends Mh{constructor(l,o,f,C,S,Z,ee=!1){super(l,o,Z.delay),this.keyframes=f,this.preStyleProps=C,this.postStyleProps=S,this._stretchStartingKeyframe=ee,this.timings={duration:Z.duration,delay:Z.delay,easing:Z.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let l=this.keyframes,{delay:o,duration:f,easing:C}=this.timings;if(this._stretchStartingKeyframe&&o){const S=[],Z=f+o,ee=o/Z,ue=pc(l[0]);ue.set("offset",0),S.push(ue);const ke=pc(l[0]);ke.set("offset",sg(ee)),S.push(ke);const qe=l.length-1;for(let Pt=1;Pt<=qe;Pt++){let Bn=pc(l[Pt]);const an=Bn.get("offset");Bn.set("offset",sg((o+an*f)/Z)),S.push(Bn)}f=Z,o=0,C="",l=S}return Hf(this.element,l,this.preStyleProps,this.postStyleProps,f,o,C,!0)}}function sg(p,l=3){const o=Math.pow(10,l-1);return Math.round(p*o)/o}class Wf{}const Kf=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Nu extends Wf{normalizePropertyName(l,o){return Ls(l)}normalizeStyleValue(l,o,f,C){let S="";const Z=f.toString().trim();if(Kf.has(o)&&0!==f&&"0"!==f)if("number"==typeof f)S="px";else{const ee=f.match(/^[+-]?[\d\.]+([a-z]*)$/);ee&&0==ee[1].length&&C.push(function Cf(p,l){return new h.vHH(3005,!1)}())}return Z+S}}function Sd(p,l,o,f,C,S,Z,ee,ue,ke,qe,Pt,Bn){return{type:0,element:p,triggerName:l,isRemovalTransition:C,fromState:o,fromStyles:S,toState:f,toStyles:Z,timelines:ee,queriedElements:ue,preStyleProps:ke,postStyleProps:qe,totalTime:Pt,errors:Bn}}const Th={};class Jc{constructor(l,o,f){this._triggerName=l,this.ast=o,this._stateStyles=f}match(l,o,f,C){return function Rm(p,l,o,f,C){return p.some(S=>S(l,o,f,C))}(this.ast.matchers,l,o,f,C)}buildStyles(l,o,f){let C=this._stateStyles.get("*");return void 0!==l&&(C=this._stateStyles.get(l?.toString())||C),C?C.buildStyles(o,f):new Map}build(l,o,f,C,S,Z,ee,ue,ke,qe){const Pt=[],Bn=this.ast.options&&this.ast.options.params||Th,bn=this.buildStyles(f,ee&&ee.params||Th,Pt),Cn=ue&&ue.params||Th,Mr=this.buildStyles(C,Cn,Pt),i=new Set,e=new Map,t=new Map,s="void"===C,d={params:eu(Cn,Bn),delay:this.ast.options?.delay},m=qe?[]:wh(l,o,this.ast.animation,S,Z,bn,Mr,d,ke,Pt);let D=0;if(m.forEach(K=>{D=Math.max(K.duration+K.delay,D)}),Pt.length)return Sd(o,this._triggerName,f,C,s,bn,Mr,[],[],e,t,D,Pt);m.forEach(K=>{const Q=K.element,se=ks(e,Q,new Set);K.preStyleProps.forEach(nt=>se.add(nt));const xe=ks(t,Q,new Set);K.postStyleProps.forEach(nt=>xe.add(nt)),Q!==o&&i.add(Q)});const R=wd(i.values());return Sd(o,this._triggerName,f,C,s,bn,Mr,m,R,e,t,D)}}function eu(p,l){const o=Cd(l);for(const f in p)p.hasOwnProperty(f)&&null!=p[f]&&(o[f]=p[f]);return o}class $f{constructor(l,o,f){this.styles=l,this.defaultParams=o,this.normalizer=f}buildStyles(l,o){const f=new Map,C=Cd(this.defaultParams);return Object.keys(l).forEach(S=>{const Z=l[S];null!==Z&&(C[S]=Z)}),this.styles.styles.forEach(S=>{"string"!=typeof S&&S.forEach((Z,ee)=>{Z&&(Z=Ou(Z,C,o));const ue=this.normalizer.normalizePropertyName(ee,o);Z=this.normalizer.normalizeStyleValue(ee,ue,Z,o),f.set(ue,Z)})}),f}}class Ih{constructor(l,o,f){this.name=l,this.ast=o,this._normalizer=f,this.transitionFactories=[],this.states=new Map,o.states.forEach(C=>{this.states.set(C.name,new $f(C.style,C.options&&C.options.params||{},f))}),Ah(this.states,"true","1"),Ah(this.states,"false","0"),o.transitions.forEach(C=>{this.transitionFactories.push(new Jc(l,C,this.states))}),this.fallbackTransition=function _l(p,l,o){return new Jc(p,{type:1,animation:{type:2,steps:[],options:null},matchers:[(Z,ee)=>!0],options:null,queryCount:0,depCount:0},l)}(l,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(l,o,f,C){return this.transitionFactories.find(Z=>Z.match(l,o,f,C))||null}matchStyles(l,o,f){return this.fallbackTransition.buildStyles(l,o,f)}}function Ah(p,l,o){p.has(l)?p.has(o)||p.set(o,p.get(l)):p.has(o)&&p.set(l,p.get(o))}const km=new Dh;class Sh{constructor(l,o,f){this.bodyNode=l,this._driver=o,this._normalizer=f,this._animations=new Map,this._playersById=new Map,this.players=[]}register(l,o){const f=[],S=ig(this._driver,o,f,[]);if(f.length)throw function Q_(p){return new h.vHH(3503,!1)}();this._animations.set(l,S)}_buildPlayer(l,o,f){const C=l.element,S=fl(0,this._normalizer,0,l.keyframes,o,f);return this._driver.animate(C,S,l.duration,l.delay,l.easing,[],!0)}create(l,o,f={}){const C=[],S=this._animations.get(l);let Z;const ee=new Map;if(S?(Z=wh(this._driver,o,S,Vp,bd,new Map,new Map,f,km,C),Z.forEach(qe=>{const Pt=ks(ee,qe.element,new Map);qe.postStyleProps.forEach(Bn=>Pt.set(Bn,null))})):(C.push(function Cm(){return new h.vHH(3300,!1)}()),Z=[]),C.length)throw function kl(p){return new h.vHH(3504,!1)}();ee.forEach((qe,Pt)=>{qe.forEach((Bn,an)=>{qe.set(an,this._driver.computeStyle(Pt,an,Nt.l3))})});const ke=Zc(Z.map(qe=>{const Pt=ee.get(qe.element);return this._buildPlayer(qe,new Map,Pt)}));return this._playersById.set(l,ke),ke.onDestroy(()=>this.destroy(l)),this.players.push(ke),ke}destroy(l){const o=this._getPlayer(l);o.destroy(),this._playersById.delete(l);const f=this.players.indexOf(o);f>=0&&this.players.splice(f,1)}_getPlayer(l){const o=this._playersById.get(l);if(!o)throw function Np(p){return new h.vHH(3301,!1)}();return o}listen(l,o,f,C){const S=If(o,"","","");return zc(this._getPlayer(l),f,S,C),()=>{}}command(l,o,f,C){if("register"==f)return void this.register(l,C[0]);if("create"==f)return void this.create(l,o,C[0]||{});const S=this._getPlayer(l);switch(f){case"play":S.play();break;case"pause":S.pause();break;case"reset":S.reset();break;case"restart":S.restart();break;case"finish":S.finish();break;case"init":S.init();break;case"setPosition":S.setPosition(parseFloat(C[0]));break;case"destroy":this.destroy(l)}}}const Vl="ng-animate-queued",Fu="ng-animate-disabled",lg=[],Ph={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Zf={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},zs="__ng_removed";class xd{constructor(l,o=""){this.namespaceId=o;const f=l&&l.hasOwnProperty("value");if(this.value=function cg(p){return p??null}(f?l.value:l),f){const S=Cd(l);delete S.value,this.options=S}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(l){const o=l.params;if(o){const f=this.options.params;Object.keys(o).forEach(C=>{null==f[C]&&(f[C]=o[C])})}}}const Uu="void",zf=new xd(Uu);class Nm{constructor(l,o,f){this.id=l,this.hostElement=o,this._engine=f,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+l,bs(o,this._hostClassName)}listen(l,o,f,C){if(!this._triggers.has(o))throw function Fp(p,l){return new h.vHH(3302,!1)}();if(null==f||0==f.length)throw function dh(p){return new h.vHH(3303,!1)}();if(!function ug(p){return"start"==p||"done"==p}(f))throw function $c(p,l){return new h.vHH(3400,!1)}();const S=ks(this._elementListeners,l,[]),Z={name:o,phase:f,callback:C};S.push(Z);const ee=ks(this._engine.statesByElement,l,new Map);return ee.has(o)||(bs(l,mh),bs(l,mh+"-"+o),ee.set(o,zf)),()=>{this._engine.afterFlush(()=>{const ue=S.indexOf(Z);ue>=0&&S.splice(ue,1),this._triggers.has(o)||ee.delete(o)})}}register(l,o){return!this._triggers.has(l)&&(this._triggers.set(l,o),!0)}_getTrigger(l){const o=this._triggers.get(l);if(!o)throw function Tu(p){return new h.vHH(3401,!1)}();return o}trigger(l,o,f,C=!0){const S=this._getTrigger(o),Z=new Yp(this.id,o,l);let ee=this._engine.statesByElement.get(l);ee||(bs(l,mh),bs(l,mh+"-"+o),this._engine.statesByElement.set(l,ee=new Map));let ue=ee.get(o);const ke=new xd(f,this.id);if(!(f&&f.hasOwnProperty("value"))&&ue&&ke.absorbOptions(ue.options),ee.set(o,ke),ue||(ue=zf),ke.value!==Uu&&ue.value===ke.value){if(!function Fm(p,l){const o=Object.keys(p),f=Object.keys(l);if(o.length!=f.length)return!1;for(let C=0;C<o.length;C++){const S=o[C];if(!l.hasOwnProperty(S)||p[S]!==l[S])return!1}return!0}(ue.params,ke.params)){const Cn=[],Mr=S.matchStyles(ue.value,ue.params,Cn),i=S.matchStyles(ke.value,ke.params,Cn);Cn.length?this._engine.reportError(Cn):this._engine.afterFlush(()=>{Bl(l,Mr),pl(l,i)})}return}const Bn=ks(this._engine.playersByElement,l,[]);Bn.forEach(Cn=>{Cn.namespaceId==this.id&&Cn.triggerName==o&&Cn.queued&&Cn.destroy()});let an=S.matchTransition(ue.value,ke.value,l,ke.params),bn=!1;if(!an){if(!C)return;an=S.fallbackTransition,bn=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:l,triggerName:o,transition:an,fromState:ue,toState:ke,player:Z,isFallbackTransition:bn}),bn||(bs(l,Vl),Z.onStart(()=>{Gs(l,Vl)})),Z.onDone(()=>{let Cn=this.players.indexOf(Z);Cn>=0&&this.players.splice(Cn,1);const Mr=this._engine.playersByElement.get(l);if(Mr){let i=Mr.indexOf(Z);i>=0&&Mr.splice(i,1)}}),this.players.push(Z),Bn.push(Z),Z}deregister(l){this._triggers.delete(l),this._engine.statesByElement.forEach(o=>o.delete(l)),this._elementListeners.forEach((o,f)=>{this._elementListeners.set(f,o.filter(C=>C.name!=l))})}clearElementCache(l){this._engine.statesByElement.delete(l),this._elementListeners.delete(l);const o=this._engine.playersByElement.get(l);o&&(o.forEach(f=>f.destroy()),this._engine.playersByElement.delete(l))}_signalRemovalForInnerTriggers(l,o){const f=this._engine.driver.query(l,Ed,!0);f.forEach(C=>{if(C[zs])return;const S=this._engine.fetchNamespacesByElement(C);S.size?S.forEach(Z=>Z.triggerLeaveAnimation(C,o,!1,!0)):this.clearElementCache(C)}),this._engine.afterFlushAnimationsDone(()=>f.forEach(C=>this.clearElementCache(C)))}triggerLeaveAnimation(l,o,f,C){const S=this._engine.statesByElement.get(l),Z=new Map;if(S){const ee=[];if(S.forEach((ue,ke)=>{if(Z.set(ke,ue.value),this._triggers.has(ke)){const qe=this.trigger(l,ke,Uu,C);qe&&ee.push(qe)}}),ee.length)return this._engine.markElementAsRemoved(this.id,l,!0,o,Z),f&&Zc(ee).onDone(()=>this._engine.processLeaveNode(l)),!0}return!1}prepareLeaveAnimationListeners(l){const o=this._elementListeners.get(l),f=this._engine.statesByElement.get(l);if(o&&f){const C=new Set;o.forEach(S=>{const Z=S.name;if(C.has(Z))return;C.add(Z);const ue=this._triggers.get(Z).fallbackTransition,ke=f.get(Z)||zf,qe=new xd(Uu),Pt=new Yp(this.id,Z,l);this._engine.totalQueuedPlayers++,this._queue.push({element:l,triggerName:Z,transition:ue,fromState:ke,toState:qe,player:Pt,isFallbackTransition:!0})})}}removeNode(l,o){const f=this._engine;if(l.childElementCount&&this._signalRemovalForInnerTriggers(l,o),this.triggerLeaveAnimation(l,o,!0))return;let C=!1;if(f.totalAnimations){const S=f.players.length?f.playersByQueriedElement.get(l):[];if(S&&S.length)C=!0;else{let Z=l;for(;Z=Z.parentNode;)if(f.statesByElement.get(Z)){C=!0;break}}}if(this.prepareLeaveAnimationListeners(l),C)f.markElementAsRemoved(this.id,l,!1,o);else{const S=l[zs];(!S||S===Ph)&&(f.afterFlush(()=>this.clearElementCache(l)),f.destroyInnerAnimations(l),f._onRemovalComplete(l,o))}}insertNode(l,o){bs(l,this._hostClassName)}drainQueuedTransitions(l){const o=[];return this._queue.forEach(f=>{const C=f.player;if(C.destroyed)return;const S=f.element,Z=this._elementListeners.get(S);Z&&Z.forEach(ee=>{if(ee.name==f.triggerName){const ue=If(S,f.triggerName,f.fromState.value,f.toState.value);ue._data=l,zc(f.player,ee.phase,ue,ee.callback)}}),C.markedForDestroy?this._engine.afterFlush(()=>{C.destroy()}):o.push(f)}),this._queue=[],o.sort((f,C)=>{const S=f.transition.ast.depCount,Z=C.transition.ast.depCount;return 0==S||0==Z?S-Z:this._engine.driver.containsElement(f.element,C.element)?1:-1})}destroy(l){this.players.forEach(o=>o.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,l)}elementContainsData(l){let o=!1;return this._elementListeners.has(l)&&(o=!0),o=!!this._queue.find(f=>f.element===l)||o,o}}class qp{constructor(l,o,f){this.bodyNode=l,this.driver=o,this._normalizer=f,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(C,S)=>{}}_onRemovalComplete(l,o){this.onRemovalComplete(l,o)}get queuedPlayers(){const l=[];return this._namespaceList.forEach(o=>{o.players.forEach(f=>{f.queued&&l.push(f)})}),l}createNamespace(l,o){const f=new Nm(l,o,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,o)?this._balanceNamespaceList(f,o):(this.newHostElements.set(o,f),this.collectEnterElement(o)),this._namespaceLookup[l]=f}_balanceNamespaceList(l,o){const f=this._namespaceList,C=this.namespacesByHostElement;if(f.length-1>=0){let Z=!1,ee=this.driver.getParentElement(o);for(;ee;){const ue=C.get(ee);if(ue){const ke=f.indexOf(ue);f.splice(ke+1,0,l),Z=!0;break}ee=this.driver.getParentElement(ee)}Z||f.unshift(l)}else f.push(l);return C.set(o,l),l}register(l,o){let f=this._namespaceLookup[l];return f||(f=this.createNamespace(l,o)),f}registerTrigger(l,o,f){let C=this._namespaceLookup[l];C&&C.register(o,f)&&this.totalAnimations++}destroy(l,o){if(!l)return;const f=this._fetchNamespace(l);this.afterFlush(()=>{this.namespacesByHostElement.delete(f.hostElement),delete this._namespaceLookup[l];const C=this._namespaceList.indexOf(f);C>=0&&this._namespaceList.splice(C,1)}),this.afterFlushAnimationsDone(()=>f.destroy(o))}_fetchNamespace(l){return this._namespaceLookup[l]}fetchNamespacesByElement(l){const o=new Set,f=this.statesByElement.get(l);if(f)for(let C of f.values())if(C.namespaceId){const S=this._fetchNamespace(C.namespaceId);S&&o.add(S)}return o}trigger(l,o,f,C){if(Rh(o)){const S=this._fetchNamespace(l);if(S)return S.trigger(o,f,C),!0}return!1}insertNode(l,o,f,C){if(!Rh(o))return;const S=o[zs];if(S&&S.setForRemoval){S.setForRemoval=!1,S.setForMove=!0;const Z=this.collectedLeaveElements.indexOf(o);Z>=0&&this.collectedLeaveElements.splice(Z,1)}if(l){const Z=this._fetchNamespace(l);Z&&Z.insertNode(o,f)}C&&this.collectEnterElement(o)}collectEnterElement(l){this.collectedEnterElements.push(l)}markElementAsDisabled(l,o){o?this.disabledNodes.has(l)||(this.disabledNodes.add(l),bs(l,Fu)):this.disabledNodes.has(l)&&(this.disabledNodes.delete(l),Gs(l,Fu))}removeNode(l,o,f,C){if(Rh(o)){const S=l?this._fetchNamespace(l):null;if(S?S.removeNode(o,C):this.markElementAsRemoved(l,o,!1,C),f){const Z=this.namespacesByHostElement.get(o);Z&&Z.id!==l&&Z.removeNode(o,C)}}else this._onRemovalComplete(o,C)}markElementAsRemoved(l,o,f,C,S){this.collectedLeaveElements.push(o),o[zs]={namespaceId:l,setForRemoval:C,hasAnimation:f,removedBeforeQueried:!1,previousTriggersValues:S}}listen(l,o,f,C,S){return Rh(o)?this._fetchNamespace(l).listen(o,f,C,S):()=>{}}_buildInstruction(l,o,f,C,S){return l.transition.build(this.driver,l.element,l.fromState.value,l.toState.value,f,C,l.fromState.options,l.toState.options,o,S)}destroyInnerAnimations(l){let o=this.driver.query(l,Ed,!0);o.forEach(f=>this.destroyActiveAnimationsForElement(f)),0!=this.playersByQueriedElement.size&&(o=this.driver.query(l,qc,!0),o.forEach(f=>this.finishActiveQueriedAnimationOnElement(f)))}destroyActiveAnimationsForElement(l){const o=this.playersByElement.get(l);o&&o.forEach(f=>{f.queued?f.markedForDestroy=!0:f.destroy()})}finishActiveQueriedAnimationOnElement(l){const o=this.playersByQueriedElement.get(l);o&&o.forEach(f=>f.finish())}whenRenderingDone(){return new Promise(l=>{if(this.players.length)return Zc(this.players).onDone(()=>l());l()})}processLeaveNode(l){const o=l[zs];if(o&&o.setForRemoval){if(l[zs]=Ph,o.namespaceId){this.destroyInnerAnimations(l);const f=this._fetchNamespace(o.namespaceId);f&&f.clearElementCache(l)}this._onRemovalComplete(l,o.setForRemoval)}l.classList?.contains(Fu)&&this.markElementAsDisabled(l,!1),this.driver.query(l,".ng-animate-disabled",!0).forEach(f=>{this.markElementAsDisabled(f,!1)})}flush(l=-1){let o=[];if(this.newHostElements.size&&(this.newHostElements.forEach((f,C)=>this._balanceNamespaceList(f,C)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let f=0;f<this.collectedEnterElements.length;f++)bs(this.collectedEnterElements[f],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const f=[];try{o=this._flushAnimations(f,l)}finally{for(let C=0;C<f.length;C++)f[C]()}}else for(let f=0;f<this.collectedLeaveElements.length;f++)this.processLeaveNode(this.collectedLeaveElements[f]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(f=>f()),this._flushFns=[],this._whenQuietFns.length){const f=this._whenQuietFns;this._whenQuietFns=[],o.length?Zc(o).onDone(()=>{f.forEach(C=>C())}):f.forEach(C=>C())}}reportError(l){throw function md(p){return new h.vHH(3402,!1)}()}_flushAnimations(l,o){const f=new Dh,C=[],S=new Map,Z=[],ee=new Map,ue=new Map,ke=new Map,qe=new Set;this.disabledNodes.forEach(yt=>{qe.add(yt);const Ft=this.driver.query(yt,".ng-animate-queued",!0);for(let en=0;en<Ft.length;en++)qe.add(Ft[en])});const Pt=this.bodyNode,Bn=Array.from(this.statesByElement.keys()),an=Lh(Bn,this.collectedEnterElements),bn=new Map;let Cn=0;an.forEach((yt,Ft)=>{const en=Vp+Cn++;bn.set(Ft,en),yt.forEach(Tn=>bs(Tn,en))});const Mr=[],i=new Set,e=new Set;for(let yt=0;yt<this.collectedLeaveElements.length;yt++){const Ft=this.collectedLeaveElements[yt],en=Ft[zs];en&&en.setForRemoval&&(Mr.push(Ft),i.add(Ft),en.hasAnimation?this.driver.query(Ft,".ng-star-inserted",!0).forEach(Tn=>i.add(Tn)):e.add(Ft))}const t=new Map,s=Lh(Bn,Array.from(i));s.forEach((yt,Ft)=>{const en=bd+Cn++;t.set(Ft,en),yt.forEach(Tn=>bs(Tn,en))}),l.push(()=>{an.forEach((yt,Ft)=>{const en=bn.get(Ft);yt.forEach(Tn=>Gs(Tn,en))}),s.forEach((yt,Ft)=>{const en=t.get(Ft);yt.forEach(Tn=>Gs(Tn,en))}),Mr.forEach(yt=>{this.processLeaveNode(yt)})});const d=[],m=[];for(let yt=this._namespaceList.length-1;yt>=0;yt--)this._namespaceList[yt].drainQueuedTransitions(o).forEach(en=>{const Tn=en.player,tr=en.element;if(d.push(Tn),this.collectedEnterElements.length){const Xs=tr[zs];if(Xs&&Xs.setForMove){if(Xs.previousTriggersValues&&Xs.previousTriggersValues.has(en.triggerName)){const nf=Xs.previousTriggersValues.get(en.triggerName),ql=this.statesByElement.get(en.element);if(ql&&ql.has(en.triggerName)){const Ly=ql.get(en.triggerName);Ly.value=nf,ql.set(en.triggerName,Ly)}}return void Tn.destroy()}}const ni=!Pt||!this.driver.containsElement(Pt,tr),ur=t.get(tr),Or=bn.get(tr),gr=this._buildInstruction(en,f,Or,ur,ni);if(gr.errors&&gr.errors.length)return void m.push(gr);if(ni)return Tn.onStart(()=>Bl(tr,gr.fromStyles)),Tn.onDestroy(()=>pl(tr,gr.toStyles)),void C.push(Tn);if(en.isFallbackTransition)return Tn.onStart(()=>Bl(tr,gr.fromStyles)),Tn.onDestroy(()=>pl(tr,gr.toStyles)),void C.push(Tn);const Ju=[];gr.timelines.forEach(Xs=>{Xs.stretchStartingKeyframe=!0,this.disabledNodes.has(Xs.element)||Ju.push(Xs)}),gr.timelines=Ju,f.append(tr,gr.timelines),Z.push({instruction:gr,player:Tn,element:tr}),gr.queriedElements.forEach(Xs=>ks(ee,Xs,[]).push(Tn)),gr.preStyleProps.forEach((Xs,nf)=>{if(Xs.size){let ql=ue.get(nf);ql||ue.set(nf,ql=new Set),Xs.forEach((Ly,gv)=>ql.add(gv))}}),gr.postStyleProps.forEach((Xs,nf)=>{let ql=ke.get(nf);ql||ke.set(nf,ql=new Set),Xs.forEach((Ly,gv)=>ql.add(gv))})});if(m.length){const yt=[];m.forEach(Ft=>{yt.push(function Dm(p,l){return new h.vHH(3505,!1)}())}),d.forEach(Ft=>Ft.destroy()),this.reportError(yt)}const D=new Map,R=new Map;Z.forEach(yt=>{const Ft=yt.element;f.has(Ft)&&(R.set(Ft,Ft),this._beforeAnimationBuild(yt.player.namespaceId,yt.instruction,D))}),C.forEach(yt=>{const Ft=yt.element;this._getPreviousPlayers(Ft,!1,yt.namespaceId,yt.triggerName,null).forEach(Tn=>{ks(D,Ft,[]).push(Tn),Tn.destroy()})});const K=Mr.filter(yt=>Pd(yt,ue,ke)),Q=new Map;kh(Q,this.driver,e,ke,Nt.l3).forEach(yt=>{Pd(yt,ue,ke)&&K.push(yt)});const xe=new Map;an.forEach((yt,Ft)=>{kh(xe,this.driver,new Set(yt),ue,Nt.k1)}),K.forEach(yt=>{const Ft=Q.get(yt),en=xe.get(yt);Q.set(yt,new Map([...Array.from(Ft?.entries()??[]),...Array.from(en?.entries()??[])]))});const nt=[],wt=[],St={};Z.forEach(yt=>{const{element:Ft,player:en,instruction:Tn}=yt;if(f.has(Ft)){if(qe.has(Ft))return en.onDestroy(()=>pl(Ft,Tn.toStyles)),en.disabled=!0,en.overrideTotalTime(Tn.totalTime),void C.push(en);let tr=St;if(R.size>1){let ur=Ft;const Or=[];for(;ur=ur.parentNode;){const gr=R.get(ur);if(gr){tr=gr;break}Or.push(ur)}Or.forEach(gr=>R.set(gr,tr))}const ni=this._buildAnimation(en.namespaceId,Tn,D,S,xe,Q);if(en.setRealPlayer(ni),tr===St)nt.push(en);else{const ur=this.playersByElement.get(tr);ur&&ur.length&&(en.parentPlayer=Zc(ur)),C.push(en)}}else Bl(Ft,Tn.fromStyles),en.onDestroy(()=>pl(Ft,Tn.toStyles)),wt.push(en),qe.has(Ft)&&C.push(en)}),wt.forEach(yt=>{const Ft=S.get(yt.element);if(Ft&&Ft.length){const en=Zc(Ft);yt.setRealPlayer(en)}}),C.forEach(yt=>{yt.parentPlayer?yt.syncPlayerEvents(yt.parentPlayer):yt.destroy()});for(let yt=0;yt<Mr.length;yt++){const Ft=Mr[yt],en=Ft[zs];if(Gs(Ft,bd),en&&en.hasAnimation)continue;let Tn=[];if(ee.size){let ni=ee.get(Ft);ni&&ni.length&&Tn.push(...ni);let ur=this.driver.query(Ft,qc,!0);for(let Or=0;Or<ur.length;Or++){let gr=ee.get(ur[Or]);gr&&gr.length&&Tn.push(...gr)}}const tr=Tn.filter(ni=>!ni.destroyed);tr.length?dg(this,Ft,tr):this.processLeaveNode(Ft)}return Mr.length=0,nt.forEach(yt=>{this.players.push(yt),yt.onDone(()=>{yt.destroy();const Ft=this.players.indexOf(yt);this.players.splice(Ft,1)}),yt.play()}),nt}elementContainsData(l,o){let f=!1;const C=o[zs];return C&&C.setForRemoval&&(f=!0),this.playersByElement.has(o)&&(f=!0),this.playersByQueriedElement.has(o)&&(f=!0),this.statesByElement.has(o)&&(f=!0),this._fetchNamespace(l).elementContainsData(o)||f}afterFlush(l){this._flushFns.push(l)}afterFlushAnimationsDone(l){this._whenQuietFns.push(l)}_getPreviousPlayers(l,o,f,C,S){let Z=[];if(o){const ee=this.playersByQueriedElement.get(l);ee&&(Z=ee)}else{const ee=this.playersByElement.get(l);if(ee){const ue=!S||S==Uu;ee.forEach(ke=>{ke.queued||!ue&&ke.triggerName!=C||Z.push(ke)})}}return(f||C)&&(Z=Z.filter(ee=>!(f&&f!=ee.namespaceId||C&&C!=ee.triggerName))),Z}_beforeAnimationBuild(l,o,f){const S=o.element,Z=o.isRemovalTransition?void 0:l,ee=o.isRemovalTransition?void 0:o.triggerName;for(const ue of o.timelines){const ke=ue.element,qe=ke!==S,Pt=ks(f,ke,[]);this._getPreviousPlayers(ke,qe,Z,ee,o.toState).forEach(an=>{const bn=an.getRealPlayer();bn.beforeDestroy&&bn.beforeDestroy(),an.destroy(),Pt.push(an)})}Bl(S,o.fromStyles)}_buildAnimation(l,o,f,C,S,Z){const ee=o.triggerName,ue=o.element,ke=[],qe=new Set,Pt=new Set,Bn=o.timelines.map(bn=>{const Cn=bn.element;qe.add(Cn);const Mr=Cn[zs];if(Mr&&Mr.removedBeforeQueried)return new Nt.ZN(bn.duration,bn.delay);const i=Cn!==ue,e=function Nh(p){const l=[];return Od(p,l),l}((f.get(Cn)||lg).map(D=>D.getRealPlayer())).filter(D=>!!D.element&&D.element===Cn),t=S.get(Cn),s=Z.get(Cn),d=fl(0,this._normalizer,0,bn.keyframes,t,s),m=this._buildPlayer(bn,d,e);if(bn.subTimeline&&C&&Pt.add(Cn),i){const D=new Yp(l,ee,Cn);D.setRealPlayer(m),ke.push(D)}return m});ke.forEach(bn=>{ks(this.playersByQueriedElement,bn.element,[]).push(bn),bn.onDone(()=>function Qp(p,l,o){let f=p.get(l);if(f){if(f.length){const C=f.indexOf(o);f.splice(C,1)}0==f.length&&p.delete(l)}return f}(this.playersByQueriedElement,bn.element,bn))}),qe.forEach(bn=>bs(bn,Fl));const an=Zc(Bn);return an.onDestroy(()=>{qe.forEach(bn=>Gs(bn,Fl)),pl(ue,o.toStyles)}),Pt.forEach(bn=>{ks(C,bn,[]).push(an)}),an}_buildPlayer(l,o,f){return o.length>0?this.driver.animate(l.element,o,l.duration,l.delay,l.easing,f):new Nt.ZN(l.duration,l.delay)}}class Yp{constructor(l,o,f){this.namespaceId=l,this.triggerName=o,this.element=f,this._player=new Nt.ZN,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(l){this._containsRealPlayer||(this._player=l,this._queuedCallbacks.forEach((o,f)=>{o.forEach(C=>zc(l,f,void 0,C))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(l.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(l){this.totalTime=l}syncPlayerEvents(l){const o=this._player;o.triggerCallback&&l.onStart(()=>o.triggerCallback("start")),l.onDone(()=>this.finish()),l.onDestroy(()=>this.destroy())}_queueEvent(l,o){ks(this._queuedCallbacks,l,[]).push(o)}onDone(l){this.queued&&this._queueEvent("done",l),this._player.onDone(l)}onStart(l){this.queued&&this._queueEvent("start",l),this._player.onStart(l)}onDestroy(l){this.queued&&this._queueEvent("destroy",l),this._player.onDestroy(l)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(l){this.queued||this._player.setPosition(l)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(l){const o=this._player;o.triggerCallback&&o.triggerCallback(l)}}function Rh(p){return p&&1===p.nodeType}function Xp(p,l){const o=p.style.display;return p.style.display=l??"none",o}function kh(p,l,o,f,C){const S=[];o.forEach(ue=>S.push(Xp(ue)));const Z=[];f.forEach((ue,ke)=>{const qe=new Map;ue.forEach(Pt=>{const Bn=l.computeStyle(ke,Pt,C);qe.set(Pt,Bn),(!Bn||0==Bn.length)&&(ke[zs]=Zf,Z.push(ke))}),p.set(ke,qe)});let ee=0;return o.forEach(ue=>Xp(ue,S[ee++])),Z}function Lh(p,l){const o=new Map;if(p.forEach(ee=>o.set(ee,[])),0==l.length)return o;const C=new Set(l),S=new Map;function Z(ee){if(!ee)return 1;let ue=S.get(ee);if(ue)return ue;const ke=ee.parentNode;return ue=o.has(ke)?ke:C.has(ke)?1:Z(ke),S.set(ee,ue),ue}return l.forEach(ee=>{const ue=Z(ee);1!==ue&&o.get(ue).push(ee)}),o}function bs(p,l){p.classList?.add(l)}function Gs(p,l){p.classList?.remove(l)}function dg(p,l,o){Zc(o).onDone(()=>p.processLeaveNode(l))}function Od(p,l){for(let o=0;o<p.length;o++){const f=p[o];f instanceof Nt.ZE?Od(f.players,l):l.push(f)}}function Pd(p,l,o){const f=o.get(p);if(!f)return!1;let C=l.get(p);return C?f.forEach(S=>C.add(S)):l.set(p,f),o.delete(p),!0}class Jp{constructor(l,o,f){this.bodyNode=l,this._driver=o,this._normalizer=f,this._triggerCache={},this.onRemovalComplete=(C,S)=>{},this._transitionEngine=new qp(l,o,f),this._timelineEngine=new Sh(l,o,f),this._transitionEngine.onRemovalComplete=(C,S)=>this.onRemovalComplete(C,S)}registerTrigger(l,o,f,C,S){const Z=l+"-"+C;let ee=this._triggerCache[Z];if(!ee){const ue=[],qe=ig(this._driver,S,ue,[]);if(ue.length)throw function Mf(p,l){return new h.vHH(3404,!1)}();ee=function _c(p,l,o){return new Ih(p,l,o)}(C,qe,this._normalizer),this._triggerCache[Z]=ee}this._transitionEngine.registerTrigger(o,C,ee)}register(l,o){this._transitionEngine.register(l,o)}destroy(l,o){this._transitionEngine.destroy(l,o)}onInsert(l,o,f,C){this._transitionEngine.insertNode(l,o,f,C)}onRemove(l,o,f,C){this._transitionEngine.removeNode(l,o,C||!1,f)}disableAnimations(l,o){this._transitionEngine.markElementAsDisabled(l,o)}process(l,o,f,C){if("@"==f.charAt(0)){const[S,Z]=Zs(f);this._timelineEngine.command(S,o,Z,C)}else this._transitionEngine.trigger(l,o,f,C)}listen(l,o,f,C,S){if("@"==f.charAt(0)){const[Z,ee]=Zs(f);return this._timelineEngine.listen(Z,o,ee,S)}return this._transitionEngine.listen(l,o,f,C,S)}flush(l=-1){this._transitionEngine.flush(l)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let hg=(()=>{class p{constructor(o,f,C){this._element=o,this._startStyles=f,this._endStyles=C,this._state=0;let S=p.initialStylesByElement.get(o);S||p.initialStylesByElement.set(o,S=new Map),this._initialStyles=S}start(){this._state<1&&(this._startStyles&&pl(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(pl(this._element,this._initialStyles),this._endStyles&&(pl(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(p.initialStylesByElement.delete(this._element),this._startStyles&&(Bl(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Bl(this._element,this._endStyles),this._endStyles=null),pl(this._element,this._initialStyles),this._state=3)}}return p.initialStylesByElement=new WeakMap,p})();function Gf(p){let l=null;return p.forEach((o,f)=>{(function fg(p){return"display"===p||"position"===p})(f)&&(l=l||new Map,l.set(f,o))}),l}class gl{constructor(l,o,f,C){this.element=l,this.keyframes=o,this.options=f,this._specialStyles=C,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=f.duration,this._delay=f.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(l=>l()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const l=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,l,this.options),this._finalKeyframe=l.length?l[l.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(l){const o=[];return l.forEach(f=>{o.push(Object.fromEntries(f))}),o}_triggerWebAnimation(l,o,f){return l.animate(this._convertKeyframesToObject(o),f)}onStart(l){this._originalOnStartFns.push(l),this._onStartFns.push(l)}onDone(l){this._originalOnDoneFns.push(l),this._onDoneFns.push(l)}onDestroy(l){this._onDestroyFns.push(l)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(l=>l()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(l=>l()),this._onDestroyFns=[])}setPosition(l){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=l*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const l=new Map;this.hasStarted()&&this._finalKeyframe.forEach((f,C)=>{"offset"!==C&&l.set(C,this._finished?f:Kp(this.element,C))}),this.currentSnapshot=l}triggerCallback(l){const o="start"===l?this._onStartFns:this._onDoneFns;o.forEach(f=>f()),o.length=0}}class e_{validateStyleProperty(l){return!0}validateAnimatableStyleProperty(l){return!0}matchesElement(l,o){return!1}containsElement(l,o){return Nl(l,o)}getParentElement(l){return Sf(l)}query(l,o,f){return xf(l,o,f)}computeStyle(l,o,f){return window.getComputedStyle(l)[o]}animate(l,o,f,C,S,Z=[]){const ue={duration:f,delay:C,fill:0==C?"both":"forwards"};S&&(ue.easing=S);const ke=new Map,qe=Z.filter(an=>an instanceof gl);(function Nf(p,l){return 0===p||0===l})(f,C)&&qe.forEach(an=>{an.currentSnapshot.forEach((bn,Cn)=>ke.set(Cn,bn))});let Pt=function xu(p){return p.length?p[0]instanceof Map?p:p.map(l=>kf(l)):[]}(o).map(an=>pc(an));Pt=function tg(p,l,o){if(o.size&&l.length){let f=l[0],C=[];if(o.forEach((S,Z)=>{f.has(Z)||C.push(Z),f.set(Z,S)}),C.length)for(let S=1;S<l.length;S++){let Z=l[S];C.forEach(ee=>Z.set(ee,Kp(p,ee)))}}return l}(l,Pt,ke);const Bn=function $y(p,l){let o=null,f=null;return Array.isArray(l)&&l.length?(o=Gf(l[0]),l.length>1&&(f=Gf(l[l.length-1]))):l instanceof Map&&(o=Gf(l)),o||f?new hg(p,o,f):null}(l,Pt);return new gl(l,Pt,ue,Bn)}}let Bm=(()=>{class p extends Nt._j{constructor(o,f){super(),this._nextAnimationId=0,this._renderer=o.createRenderer(f.body,{id:"0",encapsulation:h.ifc.None,styles:[],data:{animation:[]}})}build(o){const f=this._nextAnimationId.toString();this._nextAnimationId++;const C=Array.isArray(o)?(0,Nt.vP)(o):o;return t_(this._renderer,null,f,"register",[C]),new qf(f,this._renderer)}}return p.\u0275fac=function(o){return new(o||p)(h.LFG(h.FYo),h.LFG(fe.K0))},p.\u0275prov=h.Yz7({token:p,factory:p.\u0275fac}),p})();class qf extends Nt.LC{constructor(l,o){super(),this._id=l,this._renderer=o}create(l,o){return new Fh(this._id,l,o||{},this._renderer)}}class Fh{constructor(l,o,f,C){this.id=l,this.element=o,this._renderer=C,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",f)}_listen(l,o){return this._renderer.listen(this.element,`@@${this.id}:${l}`,o)}_command(l,...o){return t_(this._renderer,this.element,this.id,l,o)}onDone(l){this._listen("done",l)}onStart(l){this._listen("start",l)}onDestroy(l){this._listen("destroy",l)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(l){this._command("setPosition",l)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function t_(p,l,o,f,C){return p.setProperty(l,`@@${o}:${f}`,C)}const pg="@.disabled";let gc=(()=>{class p{constructor(o,f,C){this.delegate=o,this.engine=f,this._zone=C,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),f.onRemovalComplete=(S,Z)=>{const ee=Z?.parentNode(S);ee&&Z.removeChild(ee,S)}}createRenderer(o,f){const S=this.delegate.createRenderer(o,f);if(!(o&&f&&f.data&&f.data.animation)){let qe=this._rendererCache.get(S);return qe||(qe=new Yf("",S,this.engine),this._rendererCache.set(S,qe)),qe}const Z=f.id,ee=f.id+"-"+this._currentId;this._currentId++,this.engine.register(ee,o);const ue=qe=>{Array.isArray(qe)?qe.forEach(ue):this.engine.registerTrigger(Z,ee,o,qe.name,qe)};return f.data.animation.forEach(ue),new _g(this,ee,S,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(o,f,C){o>=0&&o<this._microtaskId?this._zone.run(()=>f(C)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(S=>{const[Z,ee]=S;Z(ee)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([f,C]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return p.\u0275fac=function(o){return new(o||p)(h.LFG(h.FYo),h.LFG(Jp),h.LFG(h.R0b))},p.\u0275prov=h.Yz7({token:p,factory:p.\u0275fac}),p})();class Yf{constructor(l,o,f){this.namespaceId=l,this.delegate=o,this.engine=f,this.destroyNode=this.delegate.destroyNode?C=>o.destroyNode(C):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(l,o){return this.delegate.createElement(l,o)}createComment(l){return this.delegate.createComment(l)}createText(l){return this.delegate.createText(l)}appendChild(l,o){this.delegate.appendChild(l,o),this.engine.onInsert(this.namespaceId,o,l,!1)}insertBefore(l,o,f,C=!0){this.delegate.insertBefore(l,o,f),this.engine.onInsert(this.namespaceId,o,l,C)}removeChild(l,o,f){this.engine.onRemove(this.namespaceId,o,this.delegate,f)}selectRootElement(l,o){return this.delegate.selectRootElement(l,o)}parentNode(l){return this.delegate.parentNode(l)}nextSibling(l){return this.delegate.nextSibling(l)}setAttribute(l,o,f,C){this.delegate.setAttribute(l,o,f,C)}removeAttribute(l,o,f){this.delegate.removeAttribute(l,o,f)}addClass(l,o){this.delegate.addClass(l,o)}removeClass(l,o){this.delegate.removeClass(l,o)}setStyle(l,o,f,C){this.delegate.setStyle(l,o,f,C)}removeStyle(l,o,f){this.delegate.removeStyle(l,o,f)}setProperty(l,o,f){"@"==o.charAt(0)&&o==pg?this.disableAnimations(l,!!f):this.delegate.setProperty(l,o,f)}setValue(l,o){this.delegate.setValue(l,o)}listen(l,o,f){return this.delegate.listen(l,o,f)}disableAnimations(l,o){this.engine.disableAnimations(l,o)}}class _g extends Yf{constructor(l,o,f,C){super(o,f,C),this.factory=l,this.namespaceId=o}setProperty(l,o,f){"@"==o.charAt(0)?"."==o.charAt(1)&&o==pg?this.disableAnimations(l,f=void 0===f||!!f):this.engine.process(this.namespaceId,l,o.slice(1),f):this.delegate.setProperty(l,o,f)}listen(l,o,f){if("@"==o.charAt(0)){const C=function gg(p){switch(p){case"body":return document.body;case"document":return document;case"window":return window;default:return p}}(l);let S=o.slice(1),Z="";return"@"!=S.charAt(0)&&([S,Z]=function mg(p){const l=p.indexOf(".");return[p.substring(0,l),p.slice(l+1)]}(S)),this.engine.listen(this.namespaceId,C,S,Z,ee=>{this.factory.scheduleListenerCallback(ee._data||-1,f,ee)})}return this.delegate.listen(l,o,f)}}const mc=[{provide:Nt._j,useClass:Bm},{provide:Wf,useFactory:function Vm(){return new Nu}},{provide:Jp,useClass:(()=>{class p extends Jp{constructor(o,f,C,S){super(o.body,f,C)}ngOnDestroy(){this.flush()}}return p.\u0275fac=function(o){return new(o||p)(h.LFG(fe.K0),h.LFG(Of),h.LFG(Wf),h.LFG(h.z2F))},p.\u0275prov=h.Yz7({token:p,factory:p.\u0275fac}),p})()},{provide:h.FYo,useFactory:function Qf(p,l,o){return new gc(p,l,o)},deps:[y.se,Jp,h.R0b]}],Hu=[{provide:Of,useFactory:()=>new e_},{provide:h.QbO,useValue:"BrowserAnimations"},...mc],yc=[{provide:Of,useClass:Up},{provide:h.QbO,useValue:"NoopAnimations"},...mc];let Xf=(()=>{class p{static withConfig(o){return{ngModule:p,providers:o.disableAnimations?yc:Hu}}}return p.\u0275fac=function(o){return new(o||p)},p.\u0275mod=h.oAB({type:p}),p.\u0275inj=h.cJS({providers:Hu,imports:[y.b2]}),p})();var r_=k(2011);let Sg=(()=>{class p{}return p.\u0275fac=function(o){return new(o||p)},p.\u0275mod=h.oAB({type:p}),p.\u0275inj=h.cJS({imports:[fe.ez,Rr,Pr,Rr]}),p})(),cp=(()=>{class p{}return p.\u0275fac=function(o){return new(o||p)},p.\u0275mod=h.oAB({type:p}),p.\u0275inj=h.cJS({imports:[fe.ez,Rr,Kn,ht,Pr,Kt,Rr]}),p})();const Ia=gt();class xi{constructor(l,o){this._viewportRuler=l,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=o}attach(){}enable(){if(this._canBeEnabled()){const l=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=l.style.left||"",this._previousHTMLStyles.top=l.style.top||"",l.style.left=We(-this._previousScrollPosition.left),l.style.top=We(-this._previousScrollPosition.top),l.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const l=this._document.documentElement,f=l.style,C=this._document.body.style,S=f.scrollBehavior||"",Z=C.scrollBehavior||"";this._isEnabled=!1,f.left=this._previousHTMLStyles.left,f.top=this._previousHTMLStyles.top,l.classList.remove("cdk-global-scrollblock"),Ia&&(f.scrollBehavior=C.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),Ia&&(f.scrollBehavior=S,C.scrollBehavior=Z)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const o=this._document.body,f=this._viewportRuler.getViewportSize();return o.scrollHeight>f.height||o.scrollWidth>f.width}}class jh{constructor(l,o,f,C){this._scrollDispatcher=l,this._ngZone=o,this._viewportRuler=f,this._config=C,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(l){this._overlayRef=l}enable(){if(this._scrollSubscription)return;const l=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=l.subscribe(()=>{const o=this._viewportRuler.getViewportScrollPosition().top;Math.abs(o-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=l.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class Oi{enable(){}disable(){}attach(){}}function bc(p,l){return l.some(o=>p.bottom<o.top||p.top>o.bottom||p.right<o.left||p.left>o.right)}function ju(p,l){return l.some(o=>p.top<o.top||p.bottom>o.bottom||p.left<o.left||p.right>o.right)}class Nd{constructor(l,o,f,C){this._scrollDispatcher=l,this._viewportRuler=o,this._ngZone=f,this._config=C,this._scrollSubscription=null}attach(l){this._overlayRef=l}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const o=this._overlayRef.overlayElement.getBoundingClientRect(),{width:f,height:C}=this._viewportRuler.getViewportSize();bc(o,[{width:f,height:C,bottom:C,right:f,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let Ku=(()=>{class p{constructor(o,f,C,S){this._scrollDispatcher=o,this._viewportRuler=f,this._ngZone=C,this.noop=()=>new Oi,this.close=Z=>new jh(this._scrollDispatcher,this._ngZone,this._viewportRuler,Z),this.block=()=>new xi(this._viewportRuler,this._document),this.reposition=Z=>new Nd(this._scrollDispatcher,this._viewportRuler,this._ngZone,Z),this._document=S}}return p.\u0275fac=function(o){return new(o||p)(h.LFG(pu),h.LFG(ud),h.LFG(h.R0b),h.LFG(fe.K0))},p.\u0275prov=h.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"}),p})();class Fd{constructor(l){if(this.scrollStrategy=new Oi,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,l){const o=Object.keys(l);for(const f of o)void 0!==l[f]&&(this[f]=l[f])}}}class Fg{constructor(l,o){this.connectionPair=l,this.scrollableViewProperties=o}}let v_=(()=>{class p{constructor(o){this._attachedOverlays=[],this._document=o}ngOnDestroy(){this.detach()}add(o){this.remove(o),this._attachedOverlays.push(o)}remove(o){const f=this._attachedOverlays.indexOf(o);f>-1&&this._attachedOverlays.splice(f,1),0===this._attachedOverlays.length&&this.detach()}}return p.\u0275fac=function(o){return new(o||p)(h.LFG(fe.K0))},p.\u0275prov=h.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"}),p})(),b_=(()=>{class p extends v_{constructor(o,f){super(o),this._ngZone=f,this._keydownListener=C=>{const S=this._attachedOverlays;for(let Z=S.length-1;Z>-1;Z--)if(S[Z]._keydownEvents.observers.length>0){const ee=S[Z]._keydownEvents;this._ngZone?this._ngZone.run(()=>ee.next(C)):ee.next(C);break}}}add(o){super.add(o),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return p.\u0275fac=function(o){return new(o||p)(h.LFG(fe.K0),h.LFG(h.R0b,8))},p.\u0275prov=h.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"}),p})(),$l=(()=>{class p extends v_{constructor(o,f,C){super(o),this._platform=f,this._ngZone=C,this._cursorStyleIsSet=!1,this._pointerDownListener=S=>{this._pointerDownEventTarget=Ht(S)},this._clickListener=S=>{const Z=Ht(S),ee="click"===S.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:Z;this._pointerDownEventTarget=null;const ue=this._attachedOverlays.slice();for(let ke=ue.length-1;ke>-1;ke--){const qe=ue[ke];if(qe._outsidePointerEvents.observers.length<1||!qe.hasAttached())continue;if(qe.overlayElement.contains(Z)||qe.overlayElement.contains(ee))break;const Pt=qe._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>Pt.next(S)):Pt.next(S)}}}add(o){if(super.add(o),!this._isAttached){const f=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(f)):this._addEventListeners(f),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=f.style.cursor,f.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const o=this._document.body;o.removeEventListener("pointerdown",this._pointerDownListener,!0),o.removeEventListener("click",this._clickListener,!0),o.removeEventListener("auxclick",this._clickListener,!0),o.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(o.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(o){o.addEventListener("pointerdown",this._pointerDownListener,!0),o.addEventListener("click",this._clickListener,!0),o.addEventListener("auxclick",this._clickListener,!0),o.addEventListener("contextmenu",this._clickListener,!0)}}return p.\u0275fac=function(o){return new(o||p)(h.LFG(fe.K0),h.LFG(Nn),h.LFG(h.R0b,8))},p.\u0275prov=h.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"}),p})(),Bg=(()=>{class p{constructor(o,f){this._platform=f,this._document=o}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const o="cdk-overlay-container";if(this._platform.isBrowser||On()){const C=this._document.querySelectorAll(`.${o}[platform="server"], .${o}[platform="test"]`);for(let S=0;S<C.length;S++)C[S].remove()}const f=this._document.createElement("div");f.classList.add(o),On()?f.setAttribute("platform","test"):this._platform.isBrowser||f.setAttribute("platform","server"),this._document.body.appendChild(f),this._containerElement=f}}return p.\u0275fac=function(o){return new(o||p)(h.LFG(fe.K0),h.LFG(Nn))},p.\u0275prov=h.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"}),p})();class ml{constructor(l,o,f,C,S,Z,ee,ue,ke,qe=!1){this._portalOutlet=l,this._host=o,this._pane=f,this._config=C,this._ngZone=S,this._keyboardDispatcher=Z,this._document=ee,this._location=ue,this._outsideClickDispatcher=ke,this._animationsDisabled=qe,this._backdropElement=null,this._backdropClick=new Ne.x,this._attachments=new Ne.x,this._detachments=new Ne.x,this._locationChanges=Me.w0.EMPTY,this._backdropClickHandler=Pt=>this._backdropClick.next(Pt),this._backdropTransitionendHandler=Pt=>{this._disposeBackdrop(Pt.target)},this._keydownEvents=new Ne.x,this._outsidePointerEvents=new Ne.x,C.scrollStrategy&&(this._scrollStrategy=C.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=C.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(l){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const o=this._portalOutlet.attach(l);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe((0,$.q)(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof o?.onDestroy&&o.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),o}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const l=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),l}dispose(){const l=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,l&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(l){l!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=l,this.hasAttached()&&(l.attach(this),this.updatePosition()))}updateSize(l){this._config={...this._config,...l},this._updateElementSize()}setDirection(l){this._config={...this._config,direction:l},this._updateElementDirection()}addPanelClass(l){this._pane&&this._toggleClasses(this._pane,l,!0)}removePanelClass(l){this._pane&&this._toggleClasses(this._pane,l,!1)}getDirection(){const l=this._config.direction;return l?"string"==typeof l?l:l.value:"ltr"}updateScrollStrategy(l){l!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=l,this.hasAttached()&&(l.attach(this),l.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const l=this._pane.style;l.width=We(this._config.width),l.height=We(this._config.height),l.minWidth=We(this._config.minWidth),l.minHeight=We(this._config.minHeight),l.maxWidth=We(this._config.maxWidth),l.maxHeight=We(this._config.maxHeight)}_togglePointerEvents(l){this._pane.style.pointerEvents=l?"":"none"}_attachBackdrop(){const l="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(l)})}):this._backdropElement.classList.add(l)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const l=this._backdropElement;if(l){if(this._animationsDisabled)return void this._disposeBackdrop(l);l.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{l.addEventListener("transitionend",this._backdropTransitionendHandler)}),l.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(l)},500))}}_toggleClasses(l,o,f){const C=rt(o||[]).filter(S=>!!S);C.length&&(f?l.classList.add(...C):l.classList.remove(...C))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const l=this._ngZone.onStable.pipe(cn((0,Ws.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),l.unsubscribe())})})}_disposeScrollStrategy(){const l=this._scrollStrategy;l&&(l.disable(),l.detach&&l.detach())}_disposeBackdrop(l){l&&(l.removeEventListener("click",this._backdropClickHandler),l.removeEventListener("transitionend",this._backdropTransitionendHandler),l.remove(),this._backdropElement===l&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const nu="cdk-overlay-connected-position-bounding-box",dp=/([A-Za-z%]+)$/;class Ug{constructor(l,o,f,C,S){this._viewportRuler=o,this._document=f,this._platform=C,this._overlayContainer=S,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Ne.x,this._resizeSubscription=Me.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(l)}get positions(){return this._preferredPositions}attach(l){this._validatePositions(),l.hostElement.classList.add(nu),this._overlayRef=l,this._boundingBox=l.hostElement,this._pane=l.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const l=this._originRect,o=this._overlayRect,f=this._viewportRect,C=this._containerRect,S=[];let Z;for(let ee of this._preferredPositions){let ue=this._getOriginPoint(l,C,ee),ke=this._getOverlayPoint(ue,o,ee),qe=this._getOverlayFit(ke,o,f,ee);if(qe.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(ee,ue);this._canFitWithFlexibleDimensions(qe,ke,f)?S.push({position:ee,origin:ue,overlayRect:o,boundingBoxRect:this._calculateBoundingBoxRect(ue,ee)}):(!Z||Z.overlayFit.visibleArea<qe.visibleArea)&&(Z={overlayFit:qe,overlayPoint:ke,originPoint:ue,position:ee,overlayRect:o})}if(S.length){let ee=null,ue=-1;for(const ke of S){const qe=ke.boundingBoxRect.width*ke.boundingBoxRect.height*(ke.position.weight||1);qe>ue&&(ue=qe,ee=ke)}return this._isPushed=!1,void this._applyPosition(ee.position,ee.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(Z.position,Z.originPoint);this._applyPosition(Z.position,Z.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&$u(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(nu),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const l=this._lastPosition;if(l){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const o=this._getOriginPoint(this._originRect,this._containerRect,l);this._applyPosition(l,o)}else this.apply()}withScrollableContainers(l){return this._scrollables=l,this}withPositions(l){return this._preferredPositions=l,-1===l.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(l){return this._viewportMargin=l,this}withFlexibleDimensions(l=!0){return this._hasFlexibleDimensions=l,this}withGrowAfterOpen(l=!0){return this._growAfterOpen=l,this}withPush(l=!0){return this._canPush=l,this}withLockedPosition(l=!0){return this._positionLocked=l,this}setOrigin(l){return this._origin=l,this}withDefaultOffsetX(l){return this._offsetX=l,this}withDefaultOffsetY(l){return this._offsetY=l,this}withTransformOriginOn(l){return this._transformOriginSelector=l,this}_getOriginPoint(l,o,f){let C,S;if("center"==f.originX)C=l.left+l.width/2;else{const Z=this._isRtl()?l.right:l.left,ee=this._isRtl()?l.left:l.right;C="start"==f.originX?Z:ee}return o.left<0&&(C-=o.left),S="center"==f.originY?l.top+l.height/2:"top"==f.originY?l.top:l.bottom,o.top<0&&(S-=o.top),{x:C,y:S}}_getOverlayPoint(l,o,f){let C,S;return C="center"==f.overlayX?-o.width/2:"start"===f.overlayX?this._isRtl()?-o.width:0:this._isRtl()?0:-o.width,S="center"==f.overlayY?-o.height/2:"top"==f.overlayY?0:-o.height,{x:l.x+C,y:l.y+S}}_getOverlayFit(l,o,f,C){const S=$h(o);let{x:Z,y:ee}=l,ue=this._getOffset(C,"x"),ke=this._getOffset(C,"y");ue&&(Z+=ue),ke&&(ee+=ke);let Bn=0-ee,an=ee+S.height-f.height,bn=this._subtractOverflows(S.width,0-Z,Z+S.width-f.width),Cn=this._subtractOverflows(S.height,Bn,an),Mr=bn*Cn;return{visibleArea:Mr,isCompletelyWithinViewport:S.width*S.height===Mr,fitsInViewportVertically:Cn===S.height,fitsInViewportHorizontally:bn==S.width}}_canFitWithFlexibleDimensions(l,o,f){if(this._hasFlexibleDimensions){const C=f.bottom-o.y,S=f.right-o.x,Z=hp(this._overlayRef.getConfig().minHeight),ee=hp(this._overlayRef.getConfig().minWidth),ke=l.fitsInViewportHorizontally||null!=ee&&ee<=S;return(l.fitsInViewportVertically||null!=Z&&Z<=C)&&ke}return!1}_pushOverlayOnScreen(l,o,f){if(this._previousPushAmount&&this._positionLocked)return{x:l.x+this._previousPushAmount.x,y:l.y+this._previousPushAmount.y};const C=$h(o),S=this._viewportRect,Z=Math.max(l.x+C.width-S.width,0),ee=Math.max(l.y+C.height-S.height,0),ue=Math.max(S.top-f.top-l.y,0),ke=Math.max(S.left-f.left-l.x,0);let qe=0,Pt=0;return qe=C.width<=S.width?ke||-Z:l.x<this._viewportMargin?S.left-f.left-l.x:0,Pt=C.height<=S.height?ue||-ee:l.y<this._viewportMargin?S.top-f.top-l.y:0,this._previousPushAmount={x:qe,y:Pt},{x:l.x+qe,y:l.y+Pt}}_applyPosition(l,o){if(this._setTransformOrigin(l),this._setOverlayElementStyles(o,l),this._setBoundingBoxStyles(o,l),l.panelClass&&this._addPanelClasses(l.panelClass),this._lastPosition=l,this._positionChanges.observers.length){const f=this._getScrollVisibility(),C=new Fg(l,f);this._positionChanges.next(C)}this._isInitialRender=!1}_setTransformOrigin(l){if(!this._transformOriginSelector)return;const o=this._boundingBox.querySelectorAll(this._transformOriginSelector);let f,C=l.overlayY;f="center"===l.overlayX?"center":this._isRtl()?"start"===l.overlayX?"right":"left":"start"===l.overlayX?"left":"right";for(let S=0;S<o.length;S++)o[S].style.transformOrigin=`${f} ${C}`}_calculateBoundingBoxRect(l,o){const f=this._viewportRect,C=this._isRtl();let S,Z,ee,qe,Pt,Bn;if("top"===o.overlayY)Z=l.y,S=f.height-Z+this._viewportMargin;else if("bottom"===o.overlayY)ee=f.height-l.y+2*this._viewportMargin,S=f.height-ee+this._viewportMargin;else{const an=Math.min(f.bottom-l.y+f.top,l.y),bn=this._lastBoundingBoxSize.height;S=2*an,Z=l.y-an,S>bn&&!this._isInitialRender&&!this._growAfterOpen&&(Z=l.y-bn/2)}if("end"===o.overlayX&&!C||"start"===o.overlayX&&C)Bn=f.width-l.x+this._viewportMargin,qe=l.x-this._viewportMargin;else if("start"===o.overlayX&&!C||"end"===o.overlayX&&C)Pt=l.x,qe=f.right-l.x;else{const an=Math.min(f.right-l.x+f.left,l.x),bn=this._lastBoundingBoxSize.width;qe=2*an,Pt=l.x-an,qe>bn&&!this._isInitialRender&&!this._growAfterOpen&&(Pt=l.x-bn/2)}return{top:Z,left:Pt,bottom:ee,right:Bn,width:qe,height:S}}_setBoundingBoxStyles(l,o){const f=this._calculateBoundingBoxRect(l,o);!this._isInitialRender&&!this._growAfterOpen&&(f.height=Math.min(f.height,this._lastBoundingBoxSize.height),f.width=Math.min(f.width,this._lastBoundingBoxSize.width));const C={};if(this._hasExactPosition())C.top=C.left="0",C.bottom=C.right=C.maxHeight=C.maxWidth="",C.width=C.height="100%";else{const S=this._overlayRef.getConfig().maxHeight,Z=this._overlayRef.getConfig().maxWidth;C.height=We(f.height),C.top=We(f.top),C.bottom=We(f.bottom),C.width=We(f.width),C.left=We(f.left),C.right=We(f.right),C.alignItems="center"===o.overlayX?"center":"end"===o.overlayX?"flex-end":"flex-start",C.justifyContent="center"===o.overlayY?"center":"bottom"===o.overlayY?"flex-end":"flex-start",S&&(C.maxHeight=We(S)),Z&&(C.maxWidth=We(Z))}this._lastBoundingBoxSize=f,$u(this._boundingBox.style,C)}_resetBoundingBoxStyles(){$u(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){$u(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(l,o){const f={},C=this._hasExactPosition(),S=this._hasFlexibleDimensions,Z=this._overlayRef.getConfig();if(C){const qe=this._viewportRuler.getViewportScrollPosition();$u(f,this._getExactOverlayY(o,l,qe)),$u(f,this._getExactOverlayX(o,l,qe))}else f.position="static";let ee="",ue=this._getOffset(o,"x"),ke=this._getOffset(o,"y");ue&&(ee+=`translateX(${ue}px) `),ke&&(ee+=`translateY(${ke}px)`),f.transform=ee.trim(),Z.maxHeight&&(C?f.maxHeight=We(Z.maxHeight):S&&(f.maxHeight="")),Z.maxWidth&&(C?f.maxWidth=We(Z.maxWidth):S&&(f.maxWidth="")),$u(this._pane.style,f)}_getExactOverlayY(l,o,f){let C={top:"",bottom:""},S=this._getOverlayPoint(o,this._overlayRect,l);return this._isPushed&&(S=this._pushOverlayOnScreen(S,this._overlayRect,f)),"bottom"===l.overlayY?C.bottom=this._document.documentElement.clientHeight-(S.y+this._overlayRect.height)+"px":C.top=We(S.y),C}_getExactOverlayX(l,o,f){let Z,C={left:"",right:""},S=this._getOverlayPoint(o,this._overlayRect,l);return this._isPushed&&(S=this._pushOverlayOnScreen(S,this._overlayRect,f)),Z=this._isRtl()?"end"===l.overlayX?"left":"right":"end"===l.overlayX?"right":"left","right"===Z?C.right=this._document.documentElement.clientWidth-(S.x+this._overlayRect.width)+"px":C.left=We(S.x),C}_getScrollVisibility(){const l=this._getOriginRect(),o=this._pane.getBoundingClientRect(),f=this._scrollables.map(C=>C.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:ju(l,f),isOriginOutsideView:bc(l,f),isOverlayClipped:ju(o,f),isOverlayOutsideView:bc(o,f)}}_subtractOverflows(l,...o){return o.reduce((f,C)=>f-Math.max(C,0),l)}_getNarrowedViewportRect(){const l=this._document.documentElement.clientWidth,o=this._document.documentElement.clientHeight,f=this._viewportRuler.getViewportScrollPosition();return{top:f.top+this._viewportMargin,left:f.left+this._viewportMargin,right:f.left+l-this._viewportMargin,bottom:f.top+o-this._viewportMargin,width:l-2*this._viewportMargin,height:o-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(l,o){return"x"===o?l.offsetX??this._offsetX:l.offsetY??this._offsetY}_validatePositions(){}_addPanelClasses(l){this._pane&&rt(l).forEach(o=>{""!==o&&-1===this._appliedPanelClasses.indexOf(o)&&(this._appliedPanelClasses.push(o),this._pane.classList.add(o))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(l=>{this._pane.classList.remove(l)}),this._appliedPanelClasses=[])}_getOriginRect(){const l=this._origin;if(l instanceof h.SBq)return l.nativeElement.getBoundingClientRect();if(l instanceof Element)return l.getBoundingClientRect();const o=l.width||0,f=l.height||0;return{top:l.y,bottom:l.y+f,left:l.x,right:l.x+o,height:f,width:o}}}function $u(p,l){for(let o in l)l.hasOwnProperty(o)&&(p[o]=l[o]);return p}function hp(p){if("number"!=typeof p&&null!=p){const[l,o]=p.split(dp);return o&&"px"!==o?null:parseFloat(l)}return p||null}function $h(p){return{top:Math.floor(p.top),right:Math.floor(p.right),bottom:Math.floor(p.bottom),left:Math.floor(p.left),width:Math.floor(p.width),height:Math.floor(p.height)}}const yl="cdk-global-overlay-wrapper";class Zu{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(l){const o=l.getConfig();this._overlayRef=l,this._width&&!o.width&&l.updateSize({width:this._width}),this._height&&!o.height&&l.updateSize({height:this._height}),l.hostElement.classList.add(yl),this._isDisposed=!1}top(l=""){return this._bottomOffset="",this._topOffset=l,this._alignItems="flex-start",this}left(l=""){return this._xOffset=l,this._xPosition="left",this}bottom(l=""){return this._topOffset="",this._bottomOffset=l,this._alignItems="flex-end",this}right(l=""){return this._xOffset=l,this._xPosition="right",this}start(l=""){return this._xOffset=l,this._xPosition="start",this}end(l=""){return this._xOffset=l,this._xPosition="end",this}width(l=""){return this._overlayRef?this._overlayRef.updateSize({width:l}):this._width=l,this}height(l=""){return this._overlayRef?this._overlayRef.updateSize({height:l}):this._height=l,this}centerHorizontally(l=""){return this.left(l),this._xPosition="center",this}centerVertically(l=""){return this.top(l),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const l=this._overlayRef.overlayElement.style,o=this._overlayRef.hostElement.style,f=this._overlayRef.getConfig(),{width:C,height:S,maxWidth:Z,maxHeight:ee}=f,ue=!("100%"!==C&&"100vw"!==C||Z&&"100%"!==Z&&"100vw"!==Z),ke=!("100%"!==S&&"100vh"!==S||ee&&"100%"!==ee&&"100vh"!==ee),qe=this._xPosition,Pt=this._xOffset,Bn="rtl"===this._overlayRef.getConfig().direction;let an="",bn="",Cn="";ue?Cn="flex-start":"center"===qe?(Cn="center",Bn?bn=Pt:an=Pt):Bn?"left"===qe||"end"===qe?(Cn="flex-end",an=Pt):("right"===qe||"start"===qe)&&(Cn="flex-start",bn=Pt):"left"===qe||"start"===qe?(Cn="flex-start",an=Pt):("right"===qe||"end"===qe)&&(Cn="flex-end",bn=Pt),l.position=this._cssPosition,l.marginLeft=ue?"0":an,l.marginTop=ke?"0":this._topOffset,l.marginBottom=this._bottomOffset,l.marginRight=ue?"0":bn,o.justifyContent=Cn,o.alignItems=ke?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const l=this._overlayRef.overlayElement.style,o=this._overlayRef.hostElement,f=o.style;o.classList.remove(yl),f.justifyContent=f.alignItems=l.marginTop=l.marginBottom=l.marginLeft=l.marginRight=l.position="",this._overlayRef=null,this._isDisposed=!0}}let zu=(()=>{class p{constructor(o,f,C,S){this._viewportRuler=o,this._document=f,this._platform=C,this._overlayContainer=S}global(){return new Zu}flexibleConnectedTo(o){return new Ug(o,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return p.\u0275fac=function(o){return new(o||p)(h.LFG(ud),h.LFG(fe.K0),h.LFG(Nn),h.LFG(Bg))},p.\u0275prov=h.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"}),p})(),Vg=0,ru=(()=>{class p{constructor(o,f,C,S,Z,ee,ue,ke,qe,Pt,Bn,an){this.scrollStrategies=o,this._overlayContainer=f,this._componentFactoryResolver=C,this._positionBuilder=S,this._keyboardDispatcher=Z,this._injector=ee,this._ngZone=ue,this._document=ke,this._directionality=qe,this._location=Pt,this._outsideClickDispatcher=Bn,this._animationsModuleType=an}create(o){const f=this._createHostElement(),C=this._createPaneElement(f),S=this._createPortalOutlet(C),Z=new Fd(o);return Z.direction=Z.direction||this._directionality.value,new ml(S,f,C,Z,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(o){const f=this._document.createElement("div");return f.id="cdk-overlay-"+Vg++,f.classList.add("cdk-overlay-pane"),o.appendChild(f),f}_createHostElement(){const o=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(o),o}_createPortalOutlet(o){return this._appRef||(this._appRef=this._injector.get(h.z2F)),new Te(o,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return p.\u0275fac=function(o){return new(o||p)(h.LFG(Ku),h.LFG(Bg),h.LFG(h._Vd),h.LFG(zu),h.LFG(b_),h.LFG(h.zs3),h.LFG(h.R0b),h.LFG(fe.K0),h.LFG(_n),h.LFG(fe.Ye),h.LFG($l),h.LFG(h.QbO,8))},p.\u0275prov=h.Yz7({token:p,factory:p.\u0275fac}),p})();const C_={provide:new h.OlP("cdk-connected-overlay-scroll-strategy"),deps:[ru],useFactory:function pp(p){return()=>p.scrollStrategies.reposition()}};let Ec=(()=>{class p{}return p.\u0275fac=function(o){return new(o||p)},p.\u0275mod=h.oAB({type:p}),p.\u0275inj=h.cJS({providers:[ru,C_],imports:[qt,Kn,vs,vs]}),p})();const Po={provide:new h.OlP("mat-select-scroll-strategy"),deps:[ru],useFactory:function Zg(p){return()=>p.scrollStrategies.reposition()}};let Gg=(()=>{class p{}return p.\u0275fac=function(o){return new(o||p)},p.\u0275mod=h.oAB({type:p}),p.\u0275inj=h.cJS({providers:[Po],imports:[fe.ez,Ec,la,Rr,da,Sg,la,Rr]}),p})(),Ey=(()=>{class p{}return p.\u0275fac=function(o){return new(o||p)},p.\u0275mod=h.oAB({type:p}),p.\u0275inj=h.cJS({imports:[Rr,Rr]}),p})(),A_=(()=>{class p{}return p.\u0275fac=function(o){return new(o||p)},p.\u0275mod=h.oAB({type:p}),p.\u0275inj=h.cJS({imports:[qt]}),p})(),P_=(()=>{class p{constructor(){this.changes=new Ne.x,this.optionalLabel="Optional",this.completedLabel="Completed",this.editableLabel="Editable"}}return p.\u0275fac=function(o){return new(o||p)},p.\u0275prov=h.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"}),p})();const Yu={provide:P_,deps:[[new h.FiY,new h.tp0,P_]],useFactory:function R_(p){return p||new P_}};let Ry=(()=>{class p{}return p.\u0275fac=function(o){return new(o||p)},p.\u0275mod=h.oAB({type:p}),p.\u0275inj=h.cJS({providers:[Yu,Ic],imports:[Rr,fe.ez,Kn,fm,A_,xn,ht,Rr]}),p})(),L_=(()=>{class p{}return p.\u0275fac=function(o){return new(o||p)},p.\u0275mod=h.oAB({type:p}),p.\u0275inj=h.cJS({imports:[cc,xn,yf,cp,fm,al,Sg,Ey,Gg,Pp,Ry]}),p})(),wc=(()=>{class p{constructor(o){this.loaderService=o}intercept(o,f){return this.loaderService.show(),f.handle(o).pipe((0,uc.x)(()=>this.loaderService.hide()))}}return p.\u0275fac=function(o){return new(o||p)(h.LFG(bf.D))},p.\u0275prov=h.Yz7({token:p,factory:p.\u0275fac}),p})(),ky=(()=>{class p{}return p.\u0275fac=function(o){return new(o||p)},p.\u0275mod=h.oAB({type:p,bootstrap:[Rp]}),p.\u0275inj=h.cJS({providers:[{provide:Ol.TP,useClass:wc,multi:!0}],imports:[y.b2,q.u5,ic,r_.hO.initializeApp(kp_firebase),Xf,L_,qr.Rh.forRoot(),Ol.JF]}),p})();(0,h.G48)(),y.q6().bootstrapModule(ky).catch(p=>console.error(p))},5867:(ut,Be,k)=>{k.d(Be,{C6:()=>y.getApps,Mq:()=>y.getApp});var y=k(9681);(0,y.registerVersion)("firebase","9.9.4","app")},127:(ut,Be,k)=>{k.d(Be,{Z:()=>y.Z});var y=k(3942);y.Z.registerVersion("firebase","9.9.4","app-compat")},2274:(ut,Be,k)=>{k.r(Be);var y=k(5861),h=k(3942),q=k(2090),_e=k(9681),Ae=k(655),Le=k(1877),Ue=k(4859);const tt=function Et(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Bt=function st(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},rt=new q.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Re=new Le.Yd("@firebase/auth");function Wt(M,...g){Re.logLevel<=Le.in.ERROR&&Re.error(`Auth (${_e.SDK_VERSION}): ${M}`,...g)}function Ne(M,...g){throw It(M,...g)}function Me(M,...g){return It(M,...g)}function $e(M,g,E){const x=Object.assign(Object.assign({},Bt()),{[g]:E});return new q.LL("auth","Firebase",x).create(g,{appName:M.name})}function Mt(M,g,E){if(!(g instanceof E))throw E.name!==g.constructor.name&&Ne(M,"argument-error"),$e(M,"argument-error",`Type of ${g.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function It(M,...g){if("string"!=typeof M){const E=g[0],x=[...g.slice(1)];return x[0]&&(x[0].appName=M.name),M._errorFactory.create(E,...x)}return rt.create(M,...g)}function oe(M,g,...E){if(!M)throw It(g,...E)}function Je(M){const g="INTERNAL ASSERTION FAILED: "+M;throw Wt(g),new Error(g)}function de(M,g){M||Je(g)}const fe=new Map;function Ze(M){de(M instanceof Function,"Expected a class definition");let g=fe.get(M);return g?(de(g instanceof M,"Instance stored in cache mismatched with class"),g):(g=new M,fe.set(M,g),g)}function Ut(){var M;return typeof self<"u"&&(null===(M=self.location)||void 0===M?void 0:M.href)||""}function zt(){return"http:"===un()||"https:"===un()}function un(){var M;return typeof self<"u"&&(null===(M=self.location)||void 0===M?void 0:M.protocol)||null}class Dn{constructor(g,E){this.shortDelay=g,this.longDelay=E,de(E>g,"Short delay should be less than long delay!"),this.isMobile=(0,q.uI)()||(0,q.b$)()}get(){return function ln(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(zt()||(0,q.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function gn(M,g){de(M.emulator,"Emulator should always be set here");const{url:E}=M.emulator;return g?`${E}${g.startsWith("/")?g.slice(1):g}`:E}class it{static initialize(g,E,x){this.fetchImpl=g,E&&(this.headersImpl=E),x&&(this.responseImpl=x)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Je("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Je("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Je("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const _t={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Te=new Dn(3e4,6e4);function ze(M,g){return M.tenantId&&!g.tenantId?Object.assign(Object.assign({},g),{tenantId:M.tenantId}):g}function Vt(M,g,E,x){return wn.apply(this,arguments)}function wn(){return(wn=(0,y.Z)(function*(M,g,E,x,G={}){return rr(M,G,(0,y.Z)(function*(){let ie={},Ve={};x&&("GET"===g?Ve=x:ie={body:JSON.stringify(x)});const ft=(0,q.xO)(Object.assign({key:M.config.apiKey},Ve)).slice(1),Jt=yield M._getAdditionalHeaders();return Jt["Content-Type"]="application/json",M.languageCode&&(Jt["X-Firebase-Locale"]=M.languageCode),it.fetch()(Mn(M,M.config.apiHost,E,ft),Object.assign({method:g,headers:Jt,referrerPolicy:"no-referrer"},ie))}))})).apply(this,arguments)}function rr(M,g,E){return dr.apply(this,arguments)}function dr(){return(dr=(0,y.Z)(function*(M,g,E){M._canInitEmulator=!1;const x=Object.assign(Object.assign({},_t),g);try{const G=new Nn(M),ie=yield Promise.race([E(),G.promise]);G.clearNetworkTimeout();const Ve=yield ie.json();if("needConfirmation"in Ve)throw sr(M,"account-exists-with-different-credential",Ve);if(ie.ok&&!("errorMessage"in Ve))return Ve;{const ft=ie.ok?Ve.errorMessage:Ve.error.message,[Jt,vn]=ft.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Jt)throw sr(M,"credential-already-in-use",Ve);if("EMAIL_EXISTS"===Jt)throw sr(M,"email-already-in-use",Ve);if("USER_DISABLED"===Jt)throw sr(M,"user-disabled",Ve);const Ln=x[Jt]||Jt.toLowerCase().replace(/[_\s]+/g,"-");if(vn)throw $e(M,Ln,vn);Ne(M,Ln)}}catch(G){if(G instanceof q.ZR)throw G;Ne(M,"network-request-failed")}})).apply(this,arguments)}function Kn(M,g,E,x){return Yn.apply(this,arguments)}function Yn(){return(Yn=(0,y.Z)(function*(M,g,E,x,G={}){const ie=yield Vt(M,g,E,x,G);return"mfaPendingCredential"in ie&&Ne(M,"multi-factor-auth-required",{_serverResponse:ie}),ie})).apply(this,arguments)}function Mn(M,g,E,x){const G=`${g}${E}?${x}`;return M.config.emulator?gn(M.config,G):`${M.config.apiScheme}://${G}`}class Nn{constructor(g){this.auth=g,this.timer=null,this.promise=new Promise((E,x)=>{this.timer=setTimeout(()=>x(Me(this.auth,"network-request-failed")),Te.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function sr(M,g,E){const x={appName:M.name};E.email&&(x.email=E.email),E.phoneNumber&&(x.phoneNumber=E.phoneNumber);const G=Me(M,g,x);return G.customData._tokenResponse=E,G}function Ot(){return(Ot=(0,y.Z)(function*(M,g){return Vt(M,"POST","/v1/accounts:delete",g)})).apply(this,arguments)}function Qn(M,g){return br.apply(this,arguments)}function br(){return(br=(0,y.Z)(function*(M,g){return Vt(M,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function Tr(M,g){return Yr.apply(this,arguments)}function Yr(){return(Yr=(0,y.Z)(function*(M,g){return Vt(M,"POST","/v1/accounts:lookup",g)})).apply(this,arguments)}function Wr(M){if(M)try{const g=new Date(Number(M));if(!isNaN(g.getTime()))return g.toUTCString()}catch{}}function Se(){return(Se=(0,y.Z)(function*(M,g=!1){const E=(0,q.m9)(M),x=yield E.getIdToken(g),G=lt(x);oe(G&&G.exp&&G.auth_time&&G.iat,E.auth,"internal-error");const ie="object"==typeof G.firebase?G.firebase:void 0,Ve=ie?.sign_in_provider;return{claims:G,token:x,authTime:Wr(ye(G.auth_time)),issuedAtTime:Wr(ye(G.iat)),expirationTime:Wr(ye(G.exp)),signInProvider:Ve||null,signInSecondFactor:ie?.sign_in_second_factor||null}})).apply(this,arguments)}function ye(M){return 1e3*Number(M)}function lt(M){var g;const[E,x,G]=M.split(".");if(void 0===E||void 0===x||void 0===G)return Wt("JWT malformed, contained fewer than 3 sections"),null;try{const ie=(0,q.tV)(x);return ie?JSON.parse(ie):(Wt("Failed to decode base64 JWT payload"),null)}catch(ie){return Wt("Caught error parsing JWT payload as JSON",null===(g=ie)||void 0===g?void 0:g.toString()),null}}function tn(M,g){return Ht.apply(this,arguments)}function Ht(){return(Ht=(0,y.Z)(function*(M,g,E=!1){if(E)return g;try{return yield g}catch(x){throw x instanceof q.ZR&&On(x)&&M.auth.currentUser===M&&(yield M.auth.signOut()),x}})).apply(this,arguments)}function On({code:M}){return"auth/user-disabled"===M||"auth/user-token-expired"===M}class Gt{constructor(g){this.user=g,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(g){var E;if(g){const x=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),x}{this.errorBackoff=3e4;const G=(null!==(E=this.user.stsTokenManager.expirationTime)&&void 0!==E?E:0)-Date.now()-3e5;return Math.max(0,G)}}schedule(g=!1){var E=this;if(!this.isRunning)return;const x=this.getInterval(g);this.timerId=setTimeout((0,y.Z)(function*(){yield E.iteration()}),x)}iteration(){var g=this;return(0,y.Z)(function*(){var E;try{yield g.user.getIdToken(!0)}catch(x){return void("auth/network-request-failed"===(null===(E=x)||void 0===E?void 0:E.code)&&g.schedule(!0))}g.schedule()})()}}class Wn{constructor(g,E){this.createdAt=g,this.lastLoginAt=E,this._initializeTime()}_initializeTime(){this.lastSignInTime=Wr(this.lastLoginAt),this.creationTime=Wr(this.createdAt)}_copy(g){this.createdAt=g.createdAt,this.lastLoginAt=g.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function $n(M){return Zr.apply(this,arguments)}function Zr(){return(Zr=(0,y.Z)(function*(M){var g;const E=M.auth,x=yield M.getIdToken(),G=yield tn(M,Tr(E,{idToken:x}));oe(G?.users.length,E,"internal-error");const ie=G.users[0];M._notifyReloadListener(ie);const Ve=null!==(g=ie.providerUserInfo)&&void 0!==g&&g.length?me(ie.providerUserInfo):[],ft=ve(M.providerData,Ve),Ln=!!M.isAnonymous&&!(M.email&&ie.passwordHash||ft?.length),xn={uid:ie.localId,displayName:ie.displayName||null,photoURL:ie.photoUrl||null,email:ie.email||null,emailVerified:ie.emailVerified||!1,phoneNumber:ie.phoneNumber||null,tenantId:ie.tenantId||null,providerData:ft,metadata:new Wn(ie.createdAt,ie.lastLoginAt),isAnonymous:Ln};Object.assign(M,xn)})).apply(this,arguments)}function Ie(){return(Ie=(0,y.Z)(function*(M){const g=(0,q.m9)(M);yield $n(g),yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)})).apply(this,arguments)}function ve(M,g){return[...M.filter(x=>!g.some(G=>G.providerId===x.providerId)),...g]}function me(M){return M.map(g=>{var{providerId:E}=g,x=(0,Ae._T)(g,["providerId"]);return{providerId:E,uid:x.rawId||"",displayName:x.displayName||null,email:x.email||null,phoneNumber:x.phoneNumber||null,photoURL:x.photoUrl||null}})}function be(){return(be=(0,y.Z)(function*(M,g){const E=yield rr(M,{},(0,y.Z)(function*(){const x=(0,q.xO)({grant_type:"refresh_token",refresh_token:g}).slice(1),{tokenApiHost:G,apiKey:ie}=M.config,Ve=Mn(M,G,"/v1/token",`key=${ie}`),ft=yield M._getAdditionalHeaders();return ft["Content-Type"]="application/x-www-form-urlencoded",it.fetch()(Ve,{method:"POST",headers:ft,body:x})}));return{accessToken:E.access_token,expiresIn:E.expires_in,refreshToken:E.refresh_token}})).apply(this,arguments)}class Ct{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(g){oe(g.idToken,"internal-error"),oe(typeof g.idToken<"u","internal-error"),oe(typeof g.refreshToken<"u","internal-error");const E="expiresIn"in g&&typeof g.expiresIn<"u"?Number(g.expiresIn):function vt(M){const g=lt(M);return oe(g,"internal-error"),oe(typeof g.exp<"u","internal-error"),oe(typeof g.iat<"u","internal-error"),Number(g.exp)-Number(g.iat)}(g.idToken);this.updateTokensAndExpiration(g.idToken,g.refreshToken,E)}getToken(g,E=!1){var x=this;return(0,y.Z)(function*(){return oe(!x.accessToken||x.refreshToken,g,"user-token-expired"),E||!x.accessToken||x.isExpired?x.refreshToken?(yield x.refresh(g,x.refreshToken),x.accessToken):null:x.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(g,E){var x=this;return(0,y.Z)(function*(){const{accessToken:G,refreshToken:ie,expiresIn:Ve}=yield function Oe(M,g){return be.apply(this,arguments)}(g,E);x.updateTokensAndExpiration(G,ie,Number(Ve))})()}updateTokensAndExpiration(g,E,x){this.refreshToken=E||null,this.accessToken=g||null,this.expirationTime=Date.now()+1e3*x}static fromJSON(g,E){const{refreshToken:x,accessToken:G,expirationTime:ie}=E,Ve=new Ct;return x&&(oe("string"==typeof x,"internal-error",{appName:g}),Ve.refreshToken=x),G&&(oe("string"==typeof G,"internal-error",{appName:g}),Ve.accessToken=G),ie&&(oe("number"==typeof ie,"internal-error",{appName:g}),Ve.expirationTime=ie),Ve}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(g){this.accessToken=g.accessToken,this.refreshToken=g.refreshToken,this.expirationTime=g.expirationTime}_clone(){return Object.assign(new Ct,this.toJSON())}_performRefresh(){return Je("not implemented")}}function jt(M,g){oe("string"==typeof M||typeof M>"u","internal-error",{appName:g})}class nn{constructor(g){var{uid:E,auth:x,stsTokenManager:G}=g,ie=(0,Ae._T)(g,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Gt(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=E,this.auth=x,this.stsTokenManager=G,this.accessToken=G.accessToken,this.displayName=ie.displayName||null,this.email=ie.email||null,this.emailVerified=ie.emailVerified||!1,this.phoneNumber=ie.phoneNumber||null,this.photoURL=ie.photoURL||null,this.isAnonymous=ie.isAnonymous||!1,this.tenantId=ie.tenantId||null,this.providerData=ie.providerData?[...ie.providerData]:[],this.metadata=new Wn(ie.createdAt||void 0,ie.lastLoginAt||void 0)}getIdToken(g){var E=this;return(0,y.Z)(function*(){const x=yield tn(E,E.stsTokenManager.getToken(E.auth,g));return oe(x,E.auth,"internal-error"),E.accessToken!==x&&(E.accessToken=x,yield E.auth._persistUserIfCurrent(E),E.auth._notifyListenersIfCurrent(E)),x})()}getIdTokenResult(g){return function gt(M){return Se.apply(this,arguments)}(this,g)}reload(){return function An(M){return Ie.apply(this,arguments)}(this)}_assign(g){this!==g&&(oe(this.uid===g.uid,this.auth,"internal-error"),this.displayName=g.displayName,this.photoURL=g.photoURL,this.email=g.email,this.emailVerified=g.emailVerified,this.phoneNumber=g.phoneNumber,this.isAnonymous=g.isAnonymous,this.tenantId=g.tenantId,this.providerData=g.providerData.map(E=>Object.assign({},E)),this.metadata._copy(g.metadata),this.stsTokenManager._assign(g.stsTokenManager))}_clone(g){return new nn(Object.assign(Object.assign({},this),{auth:g,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(g){oe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=g,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(g){this.reloadListener?this.reloadListener(g):this.reloadUserInfo=g}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(g,E=!1){var x=this;return(0,y.Z)(function*(){let G=!1;g.idToken&&g.idToken!==x.stsTokenManager.accessToken&&(x.stsTokenManager.updateFromServerResponse(g),G=!0),E&&(yield $n(x)),yield x.auth._persistUserIfCurrent(x),G&&x.auth._notifyListenersIfCurrent(x)})()}delete(){var g=this;return(0,y.Z)(function*(){const E=yield g.getIdToken();return yield tn(g,function Un(M,g){return Ot.apply(this,arguments)}(g.auth,{idToken:E})),g.stsTokenManager.clearRefreshToken(),g.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(g=>Object.assign({},g)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(g,E){var x,G,ie,Ve,ft,Jt,vn,Ln;const xn=null!==(x=E.displayName)&&void 0!==x?x:void 0,mo=null!==(G=E.email)&&void 0!==G?G:void 0,ha=null!==(ie=E.phoneNumber)&&void 0!==ie?ie:void 0,Wc=null!==(Ve=E.photoURL)&&void 0!==Ve?Ve:void 0,fd=null!==(ft=E.tenantId)&&void 0!==ft?ft:void 0,jc=null!==(Jt=E._redirectEventId)&&void 0!==Jt?Jt:void 0,mf=null!==(vn=E.createdAt)&&void 0!==vn?vn:void 0,yf=null!==(Ln=E.lastLoginAt)&&void 0!==Ln?Ln:void 0,{uid:bu,emailVerified:Kc,isAnonymous:Eu,providerData:Cu,stsTokenManager:Ap}=E;oe(bu&&Ap,g,"internal-error");const H_=Ct.fromJSON(this.name,Ap);oe("string"==typeof bu,g,"internal-error"),jt(xn,g.name),jt(mo,g.name),oe("boolean"==typeof Kc,g,"internal-error"),oe("boolean"==typeof Eu,g,"internal-error"),jt(ha,g.name),jt(Wc,g.name),jt(fd,g.name),jt(jc,g.name),jt(mf,g.name),jt(yf,g.name);const sh=new nn({uid:bu,auth:g,email:mo,emailVerified:Kc,displayName:xn,isAnonymous:Eu,photoURL:Wc,phoneNumber:ha,tenantId:fd,stsTokenManager:H_,createdAt:mf,lastLoginAt:yf});return Cu&&Array.isArray(Cu)&&(sh.providerData=Cu.map($s=>Object.assign({},$s))),jc&&(sh._redirectEventId=jc),sh}static _fromIdTokenResponse(g,E,x=!1){return(0,y.Z)(function*(){const G=new Ct;G.updateFromServerResponse(E);const ie=new nn({uid:E.localId,auth:g,stsTokenManager:G,isAnonymous:x});return yield $n(ie),ie})()}}const ar=(()=>{class M{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,y.Z)(function*(){return!0})()}_set(E,x){var G=this;return(0,y.Z)(function*(){G.storage[E]=x})()}_get(E){var x=this;return(0,y.Z)(function*(){const G=x.storage[E];return void 0===G?null:G})()}_remove(E){var x=this;return(0,y.Z)(function*(){delete x.storage[E]})()}_addListener(E,x){}_removeListener(E,x){}}return M.type="NONE",M})();function Br(M,g,E){return`firebase:${M}:${g}:${E}`}class Vn{constructor(g,E,x){this.persistence=g,this.auth=E,this.userKey=x;const{config:G,name:ie}=this.auth;this.fullUserKey=Br(this.userKey,G.apiKey,ie),this.fullPersistenceKey=Br("persistence",G.apiKey,ie),this.boundEventHandler=E._onStorageEvent.bind(E),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(g){return this.persistence._set(this.fullUserKey,g.toJSON())}getCurrentUser(){var g=this;return(0,y.Z)(function*(){const E=yield g.persistence._get(g.fullUserKey);return E?nn._fromJSON(g.auth,E):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(g){var E=this;return(0,y.Z)(function*(){if(E.persistence===g)return;const x=yield E.getCurrentUser();return yield E.removeCurrentUser(),E.persistence=g,x?E.setCurrentUser(x):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(g,E,x="authUser"){return(0,y.Z)(function*(){if(!E.length)return new Vn(Ze(ar),g,x);const G=(yield Promise.all(E.map(function(){var vn=(0,y.Z)(function*(Ln){if(yield Ln._isAvailable())return Ln});return function(Ln){return vn.apply(this,arguments)}}()))).filter(vn=>vn);let ie=G[0]||Ze(ar);const Ve=Br(x,g.config.apiKey,g.name);let ft=null;for(const vn of E)try{const Ln=yield vn._get(Ve);if(Ln){const xn=nn._fromJSON(g,Ln);vn!==ie&&(ft=xn),ie=vn;break}}catch{}const Jt=G.filter(vn=>vn._shouldAllowMigration);return ie._shouldAllowMigration&&Jt.length?(ie=Jt[0],ft&&(yield ie._set(Ve,ft.toJSON())),yield Promise.all(E.map(function(){var vn=(0,y.Z)(function*(Ln){if(Ln!==ie)try{yield Ln._remove(Ve)}catch{}});return function(Ln){return vn.apply(this,arguments)}}())),new Vn(ie,g,x)):new Vn(ie,g,x)})()}}function Fn(M){const g=M.toLowerCase();if(g.includes("opera/")||g.includes("opr/")||g.includes("opios/"))return"Opera";if(_i(g))return"IEMobile";if(g.includes("msie")||g.includes("trident/"))return"IE";if(g.includes("edge/"))return"Edge";if(Er(g))return"Firefox";if(g.includes("silk/"))return"Silk";if(we(g))return"Blackberry";if(Ee(g))return"Webos";if(Ur(g))return"Safari";if((g.includes("chrome/")||wi(g))&&!g.includes("edge/"))return"Chrome";if(Vr(g))return"Android";{const x=M.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===x?.length)return x[1]}return"Other"}function Er(M=(0,q.z$)()){return/firefox\//i.test(M)}function Ur(M=(0,q.z$)()){const g=M.toLowerCase();return g.includes("safari/")&&!g.includes("chrome/")&&!g.includes("crios/")&&!g.includes("android")}function wi(M=(0,q.z$)()){return/crios\//i.test(M)}function _i(M=(0,q.z$)()){return/iemobile/i.test(M)}function Vr(M=(0,q.z$)()){return/android/i.test(M)}function we(M=(0,q.z$)()){return/blackberry/i.test(M)}function Ee(M=(0,q.z$)()){return/webos/i.test(M)}function ae(M=(0,q.z$)()){return/iphone|ipad|ipod/i.test(M)||/macintosh/i.test(M)&&/mobile/i.test(M)}function jn(M=(0,q.z$)()){return ae(M)||Vr(M)||Ee(M)||we(M)||/windows phone/i.test(M)||_i(M)}function Hr(M,g=[]){let E;switch(M){case"Browser":E=Fn((0,q.z$)());break;case"Worker":E=`${Fn((0,q.z$)())}-${M}`;break;default:E=M}const x=g.length?g.join(","):"FirebaseCore-web";return`${E}/JsCore/${_e.SDK_VERSION}/${x}`}class Ar{constructor(g){this.auth=g,this.queue=[]}pushCallback(g,E){const x=ie=>new Promise((Ve,ft)=>{try{Ve(g(ie))}catch(Jt){ft(Jt)}});x.onAbort=E,this.queue.push(x);const G=this.queue.length-1;return()=>{this.queue[G]=()=>Promise.resolve()}}runMiddleware(g){var E=this;return(0,y.Z)(function*(){var x;if(E.auth.currentUser===g)return;const G=[];try{for(const ie of E.queue)yield ie(g),ie.onAbort&&G.push(ie.onAbort)}catch(ie){G.reverse();for(const Ve of G)try{Ve()}catch{}throw E.auth._errorFactory.create("login-blocked",{originalMessage:null===(x=ie)||void 0===x?void 0:x.message})}})()}}class pn{constructor(g,E,x){this.app=g,this.heartbeatServiceProvider=E,this.config=x,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Mi(this),this.idTokenSubscription=new Mi(this),this.beforeStateQueue=new Ar(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=rt,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=g.name,this.clientVersion=x.sdkClientVersion}_initializeWithPersistence(g,E){var x=this;return E&&(this._popupRedirectResolver=Ze(E)),this._initializationPromise=this.queue((0,y.Z)(function*(){var G,ie;if(!x._deleted&&(x.persistenceManager=yield Vn.create(x,g),!x._deleted)){if(null!==(G=x._popupRedirectResolver)&&void 0!==G&&G._shouldInitProactively)try{yield x._popupRedirectResolver._initialize(x)}catch{}yield x.initializeCurrentUser(E),x.lastNotifiedUid=(null===(ie=x.currentUser)||void 0===ie?void 0:ie.uid)||null,!x._deleted&&(x._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var g=this;return(0,y.Z)(function*(){if(g._deleted)return;const E=yield g.assertedPersistence.getCurrentUser();if(g.currentUser||E){if(g.currentUser&&E&&g.currentUser.uid===E.uid)return g._currentUser._assign(E),void(yield g.currentUser.getIdToken());yield g._updateCurrentUser(E,!0)}})()}initializeCurrentUser(g){var E=this;return(0,y.Z)(function*(){var x;const G=yield E.assertedPersistence.getCurrentUser();let ie=G,Ve=!1;if(g&&E.config.authDomain){yield E.getOrInitRedirectPersistenceManager();const ft=null===(x=E.redirectUser)||void 0===x?void 0:x._redirectEventId,Jt=ie?._redirectEventId,vn=yield E.tryRedirectSignIn(g);(!ft||ft===Jt)&&vn?.user&&(ie=vn.user,Ve=!0)}if(!ie)return E.directlySetCurrentUser(null);if(!ie._redirectEventId){if(Ve)try{yield E.beforeStateQueue.runMiddleware(ie)}catch(ft){ie=G,E._popupRedirectResolver._overrideRedirectResult(E,()=>Promise.reject(ft))}return ie?E.reloadAndSetCurrentUserOrClear(ie):E.directlySetCurrentUser(null)}return oe(E._popupRedirectResolver,E,"argument-error"),yield E.getOrInitRedirectPersistenceManager(),E.redirectUser&&E.redirectUser._redirectEventId===ie._redirectEventId?E.directlySetCurrentUser(ie):E.reloadAndSetCurrentUserOrClear(ie)})()}tryRedirectSignIn(g){var E=this;return(0,y.Z)(function*(){let x=null;try{x=yield E._popupRedirectResolver._completeRedirectFn(E,g,!0)}catch{yield E._setRedirectUser(null)}return x})()}reloadAndSetCurrentUserOrClear(g){var E=this;return(0,y.Z)(function*(){var x;try{yield $n(g)}catch(G){if("auth/network-request-failed"!==(null===(x=G)||void 0===x?void 0:x.code))return E.directlySetCurrentUser(null)}return E.directlySetCurrentUser(g)})()}useDeviceLanguage(){this.languageCode=function Dt(){if(typeof navigator>"u")return null;const M=navigator;return M.languages&&M.languages[0]||M.language||null}()}_delete(){var g=this;return(0,y.Z)(function*(){g._deleted=!0})()}updateCurrentUser(g){var E=this;return(0,y.Z)(function*(){const x=g?(0,q.m9)(g):null;return x&&oe(x.auth.config.apiKey===E.config.apiKey,E,"invalid-user-token"),E._updateCurrentUser(x&&x._clone(E))})()}_updateCurrentUser(g,E=!1){var x=this;return(0,y.Z)(function*(){if(!x._deleted)return g&&oe(x.tenantId===g.tenantId,x,"tenant-id-mismatch"),E||(yield x.beforeStateQueue.runMiddleware(g)),x.queue((0,y.Z)(function*(){yield x.directlySetCurrentUser(g),x.notifyAuthListeners()}))})()}signOut(){var g=this;return(0,y.Z)(function*(){return yield g.beforeStateQueue.runMiddleware(null),(g.redirectPersistenceManager||g._popupRedirectResolver)&&(yield g._setRedirectUser(null)),g._updateCurrentUser(null,!0)})()}setPersistence(g){var E=this;return this.queue((0,y.Z)(function*(){yield E.assertedPersistence.setPersistence(Ze(g))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(g){this._errorFactory=new q.LL("auth","Firebase",g())}onAuthStateChanged(g,E,x){return this.registerStateListener(this.authStateSubscription,g,E,x)}beforeAuthStateChanged(g,E){return this.beforeStateQueue.pushCallback(g,E)}onIdTokenChanged(g,E,x){return this.registerStateListener(this.idTokenSubscription,g,E,x)}toJSON(){var g;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(g=this._currentUser)||void 0===g?void 0:g.toJSON()}}_setRedirectUser(g,E){var x=this;return(0,y.Z)(function*(){const G=yield x.getOrInitRedirectPersistenceManager(E);return null===g?G.removeCurrentUser():G.setCurrentUser(g)})()}getOrInitRedirectPersistenceManager(g){var E=this;return(0,y.Z)(function*(){if(!E.redirectPersistenceManager){const x=g&&Ze(g)||E._popupRedirectResolver;oe(x,E,"argument-error"),E.redirectPersistenceManager=yield Vn.create(E,[Ze(x._redirectPersistence)],"redirectUser"),E.redirectUser=yield E.redirectPersistenceManager.getCurrentUser()}return E.redirectPersistenceManager})()}_redirectUserForId(g){var E=this;return(0,y.Z)(function*(){var x,G;return E._isInitialized&&(yield E.queue((0,y.Z)(function*(){}))),(null===(x=E._currentUser)||void 0===x?void 0:x._redirectEventId)===g?E._currentUser:(null===(G=E.redirectUser)||void 0===G?void 0:G._redirectEventId)===g?E.redirectUser:null})()}_persistUserIfCurrent(g){var E=this;return(0,y.Z)(function*(){if(g===E.currentUser)return E.queue((0,y.Z)(function*(){return E.directlySetCurrentUser(g)}))})()}_notifyListenersIfCurrent(g){g===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var g,E;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const x=null!==(E=null===(g=this.currentUser)||void 0===g?void 0:g.uid)&&void 0!==E?E:null;this.lastNotifiedUid!==x&&(this.lastNotifiedUid=x,this.authStateSubscription.next(this.currentUser))}registerStateListener(g,E,x,G){if(this._deleted)return()=>{};const ie="function"==typeof E?E:E.next.bind(E),Ve=this._isInitialized?Promise.resolve():this._initializationPromise;return oe(Ve,this,"internal-error"),Ve.then(()=>ie(this.currentUser)),"function"==typeof E?g.addObserver(E,x,G):g.addObserver(E)}directlySetCurrentUser(g){var E=this;return(0,y.Z)(function*(){E.currentUser&&E.currentUser!==g&&E._currentUser._stopProactiveRefresh(),g&&E.isProactiveRefreshEnabled&&g._startProactiveRefresh(),E.currentUser=g,g?yield E.assertedPersistence.setCurrentUser(g):yield E.assertedPersistence.removeCurrentUser()})()}queue(g){return this.operations=this.operations.then(g,g),this.operations}get assertedPersistence(){return oe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(g){!g||this.frameworks.includes(g)||(this.frameworks.push(g),this.frameworks.sort(),this.clientVersion=Hr(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var g=this;return(0,y.Z)(function*(){var E;const x={"X-Client-Version":g.clientVersion};g.app.options.appId&&(x["X-Firebase-gmpid"]=g.app.options.appId);const G=yield null===(E=g.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===E?void 0:E.getHeartbeatsHeader();return G&&(x["X-Firebase-Client"]=G),x})()}}function pr(M){return(0,q.m9)(M)}class Mi{constructor(g){this.auth=g,this.observer=null,this.addObserver=(0,q.ne)(E=>this.observer=E)}get next(){return oe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Bi(M){const g=M.indexOf(":");return g<0?"":M.substr(0,g+1)}function Pi(M){if(!M)return null;const g=Number(M);return isNaN(g)?null:g}class gi{constructor(g,E){this.providerId=g,this.signInMethod=E}toJSON(){return Je("not implemented")}_getIdTokenResponse(g){return Je("not implemented")}_linkToIdToken(g,E){return Je("not implemented")}_getReauthenticationResolver(g){return Je("not implemented")}}function jr(M,g){return os.apply(this,arguments)}function os(){return(os=(0,y.Z)(function*(M,g){return Vt(M,"POST","/v1/accounts:resetPassword",ze(M,g))})).apply(this,arguments)}function yr(M,g){return Ro.apply(this,arguments)}function Ro(){return(Ro=(0,y.Z)(function*(M,g){return Vt(M,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function ko(M,g){return Ti.apply(this,arguments)}function Ti(){return(Ti=(0,y.Z)(function*(M,g){return Vt(M,"POST","/v1/accounts:update",ze(M,g))})).apply(this,arguments)}function Ui(){return(Ui=(0,y.Z)(function*(M,g){return Kn(M,"POST","/v1/accounts:signInWithPassword",ze(M,g))})).apply(this,arguments)}function $i(M,g){return bi.apply(this,arguments)}function bi(){return(bi=(0,y.Z)(function*(M,g){return Vt(M,"POST","/v1/accounts:sendOobCode",ze(M,g))})).apply(this,arguments)}function Lr(M,g){return ho.apply(this,arguments)}function ho(){return(ho=(0,y.Z)(function*(M,g){return $i(M,g)})).apply(this,arguments)}function ii(M,g){return Ri.apply(this,arguments)}function Ri(){return(Ri=(0,y.Z)(function*(M,g){return $i(M,g)})).apply(this,arguments)}function qo(M,g){return Cs.apply(this,arguments)}function Cs(){return(Cs=(0,y.Z)(function*(M,g){return $i(M,g)})).apply(this,arguments)}function pa(M,g){return oi.apply(this,arguments)}function oi(){return(oi=(0,y.Z)(function*(M,g){return $i(M,g)})).apply(this,arguments)}function _a(){return(_a=(0,y.Z)(function*(M,g){return Kn(M,"POST","/v1/accounts:signInWithEmailLink",ze(M,g))})).apply(this,arguments)}function Ns(){return(Ns=(0,y.Z)(function*(M,g){return Kn(M,"POST","/v1/accounts:signInWithEmailLink",ze(M,g))})).apply(this,arguments)}class Ds extends gi{constructor(g,E,x,G=null){super("password",x),this._email=g,this._password=E,this._tenantId=G}static _fromEmailAndPassword(g,E){return new Ds(g,E,"password")}static _fromEmailAndCode(g,E,x=null){return new Ds(g,E,"emailLink",x)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(g){const E="string"==typeof g?JSON.parse(g):g;if(E?.email&&E?.password){if("password"===E.signInMethod)return this._fromEmailAndPassword(E.email,E.password);if("emailLink"===E.signInMethod)return this._fromEmailAndCode(E.email,E.password,E.tenantId)}return null}_getIdTokenResponse(g){var E=this;return(0,y.Z)(function*(){switch(E.signInMethod){case"password":return function bo(M,g){return Ui.apply(this,arguments)}(g,{returnSecureToken:!0,email:E._email,password:E._password});case"emailLink":return function Sa(M,g){return _a.apply(this,arguments)}(g,{email:E._email,oobCode:E._password});default:Ne(g,"internal-error")}})()}_linkToIdToken(g,E){var x=this;return(0,y.Z)(function*(){switch(x.signInMethod){case"password":return yr(g,{idToken:E,returnSecureToken:!0,email:x._email,password:x._password});case"emailLink":return function Lo(M,g){return Ns.apply(this,arguments)}(g,{idToken:E,email:x._email,oobCode:x._password});default:Ne(g,"internal-error")}})()}_getReauthenticationResolver(g){return this._getIdTokenResponse(g)}}function si(M,g){return Ke.apply(this,arguments)}function Ke(){return(Ke=(0,y.Z)(function*(M,g){return Kn(M,"POST","/v1/accounts:signInWithIdp",ze(M,g))})).apply(this,arguments)}class et extends gi{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(g){const E=new et(g.providerId,g.signInMethod);return g.idToken||g.accessToken?(g.idToken&&(E.idToken=g.idToken),g.accessToken&&(E.accessToken=g.accessToken),g.nonce&&!g.pendingToken&&(E.nonce=g.nonce),g.pendingToken&&(E.pendingToken=g.pendingToken)):g.oauthToken&&g.oauthTokenSecret?(E.accessToken=g.oauthToken,E.secret=g.oauthTokenSecret):Ne("argument-error"),E}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(g){const E="string"==typeof g?JSON.parse(g):g,{providerId:x,signInMethod:G}=E,ie=(0,Ae._T)(E,["providerId","signInMethod"]);if(!x||!G)return null;const Ve=new et(x,G);return Ve.idToken=ie.idToken||void 0,Ve.accessToken=ie.accessToken||void 0,Ve.secret=ie.secret,Ve.nonce=ie.nonce,Ve.pendingToken=ie.pendingToken||null,Ve}_getIdTokenResponse(g){return si(g,this.buildRequest())}_linkToIdToken(g,E){const x=this.buildRequest();return x.idToken=E,si(g,x)}_getReauthenticationResolver(g){const E=this.buildRequest();return E.autoCreate=!1,si(g,E)}buildRequest(){const g={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)g.pendingToken=this.pendingToken;else{const E={};this.idToken&&(E.id_token=this.idToken),this.accessToken&&(E.access_token=this.accessToken),this.secret&&(E.oauth_token_secret=this.secret),E.providerId=this.providerId,this.nonce&&!this.pendingToken&&(E.nonce=this.nonce),g.postBody=(0,q.xO)(E)}return g}}function Tt(M,g){return Zt.apply(this,arguments)}function Zt(){return(Zt=(0,y.Z)(function*(M,g){return Vt(M,"POST","/v1/accounts:sendVerificationCode",ze(M,g))})).apply(this,arguments)}function Sn(){return(Sn=(0,y.Z)(function*(M,g){return Kn(M,"POST","/v1/accounts:signInWithPhoneNumber",ze(M,g))})).apply(this,arguments)}function fr(){return(fr=(0,y.Z)(function*(M,g){const E=yield Kn(M,"POST","/v1/accounts:signInWithPhoneNumber",ze(M,g));if(E.temporaryProof)throw sr(M,"account-exists-with-different-credential",E);return E})).apply(this,arguments)}const Zi={USER_NOT_FOUND:"user-not-found"};function Vi(){return(Vi=(0,y.Z)(function*(M,g){return Kn(M,"POST","/v1/accounts:signInWithPhoneNumber",ze(M,Object.assign(Object.assign({},g),{operation:"REAUTH"})),Zi)})).apply(this,arguments)}class zi extends gi{constructor(g){super("phone","phone"),this.params=g}static _fromVerification(g,E){return new zi({verificationId:g,verificationCode:E})}static _fromTokenResponse(g,E){return new zi({phoneNumber:g,temporaryProof:E})}_getIdTokenResponse(g){return function dn(M,g){return Sn.apply(this,arguments)}(g,this._makeVerificationRequest())}_linkToIdToken(g,E){return function Xr(M,g){return fr.apply(this,arguments)}(g,Object.assign({idToken:E},this._makeVerificationRequest()))}_getReauthenticationResolver(g){return function Yo(M,g){return Vi.apply(this,arguments)}(g,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:g,phoneNumber:E,verificationId:x,verificationCode:G}=this.params;return g&&E?{temporaryProof:g,phoneNumber:E}:{sessionInfo:x,code:G}}toJSON(){const g={providerId:this.providerId};return this.params.phoneNumber&&(g.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(g.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(g.verificationCode=this.params.verificationCode),this.params.verificationId&&(g.verificationId=this.params.verificationId),g}static fromJSON(g){"string"==typeof g&&(g=JSON.parse(g));const{verificationId:E,verificationCode:x,phoneNumber:G,temporaryProof:ie}=g;return x||E||G||ie?new zi({verificationId:E,verificationCode:x,phoneNumber:G,temporaryProof:ie}):null}}class Eo{constructor(g){var E,x,G,ie,Ve,ft;const Jt=(0,q.zd)((0,q.pd)(g)),vn=null!==(E=Jt.apiKey)&&void 0!==E?E:null,Ln=null!==(x=Jt.oobCode)&&void 0!==x?x:null,xn=function io(M){switch(M){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(G=Jt.mode)&&void 0!==G?G:null);oe(vn&&Ln&&xn,"argument-error"),this.apiKey=vn,this.operation=xn,this.code=Ln,this.continueUrl=null!==(ie=Jt.continueUrl)&&void 0!==ie?ie:null,this.languageCode=null!==(Ve=Jt.languageCode)&&void 0!==Ve?Ve:null,this.tenantId=null!==(ft=Jt.tenantId)&&void 0!==ft?ft:null}static parseLink(g){const E=function ss(M){const g=(0,q.zd)((0,q.pd)(M)).link,E=g?(0,q.zd)((0,q.pd)(g)).deep_link_id:null,x=(0,q.zd)((0,q.pd)(M)).deep_link_id;return(x?(0,q.zd)((0,q.pd)(x)).link:null)||x||E||g||M}(g);try{return new Eo(E)}catch{return null}}}let Co=(()=>{class M{constructor(){this.providerId=M.PROVIDER_ID}static credential(E,x){return Ds._fromEmailAndPassword(E,x)}static credentialWithLink(E,x){const G=Eo.parseLink(x);return oe(G,"argument-error"),Ds._fromEmailAndCode(E,G.code,G.tenantId)}}return M.PROVIDER_ID="password",M.EMAIL_PASSWORD_SIGN_IN_METHOD="password",M.EMAIL_LINK_SIGN_IN_METHOD="emailLink",M})();class Gi{constructor(g){this.providerId=g,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(g){this.defaultLanguageCode=g}setCustomParameters(g){return this.customParameters=g,this}getCustomParameters(){return this.customParameters}}class qi extends Gi{constructor(){super(...arguments),this.scopes=[]}addScope(g){return this.scopes.includes(g)||this.scopes.push(g),this}getScopes(){return[...this.scopes]}}class No extends qi{static credentialFromJSON(g){const E="string"==typeof g?JSON.parse(g):g;return oe("providerId"in E&&"signInMethod"in E,"argument-error"),et._fromParams(E)}credential(g){return this._credential(Object.assign(Object.assign({},g),{nonce:g.rawNonce}))}_credential(g){return oe(g.idToken||g.accessToken,"argument-error"),et._fromParams(Object.assign(Object.assign({},g),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(g){return No.oauthCredentialFromTaggedObject(g)}static credentialFromError(g){return No.oauthCredentialFromTaggedObject(g.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:E,oauthAccessToken:x,oauthTokenSecret:G,pendingToken:ie,nonce:Ve,providerId:ft}=g;if(!x&&!G&&!E&&!ie||!ft)return null;try{return new No(ft)._credential({idToken:E,accessToken:x,nonce:Ve,pendingToken:ie})}catch{return null}}}let Fo=(()=>{class M extends qi{constructor(){super("facebook.com")}static credential(E){return et._fromParams({providerId:M.PROVIDER_ID,signInMethod:M.FACEBOOK_SIGN_IN_METHOD,accessToken:E})}static credentialFromResult(E){return M.credentialFromTaggedObject(E)}static credentialFromError(E){return M.credentialFromTaggedObject(E.customData||{})}static credentialFromTaggedObject({_tokenResponse:E}){if(!E||!("oauthAccessToken"in E)||!E.oauthAccessToken)return null;try{return M.credential(E.oauthAccessToken)}catch{return null}}}return M.FACEBOOK_SIGN_IN_METHOD="facebook.com",M.PROVIDER_ID="facebook.com",M})(),as=(()=>{class M extends qi{constructor(){super("google.com"),this.addScope("profile")}static credential(E,x){return et._fromParams({providerId:M.PROVIDER_ID,signInMethod:M.GOOGLE_SIGN_IN_METHOD,idToken:E,accessToken:x})}static credentialFromResult(E){return M.credentialFromTaggedObject(E)}static credentialFromError(E){return M.credentialFromTaggedObject(E.customData||{})}static credentialFromTaggedObject({_tokenResponse:E}){if(!E)return null;const{oauthIdToken:x,oauthAccessToken:G}=E;if(!x&&!G)return null;try{return M.credential(x,G)}catch{return null}}}return M.GOOGLE_SIGN_IN_METHOD="google.com",M.PROVIDER_ID="google.com",M})(),ea=(()=>{class M extends qi{constructor(){super("github.com")}static credential(E){return et._fromParams({providerId:M.PROVIDER_ID,signInMethod:M.GITHUB_SIGN_IN_METHOD,accessToken:E})}static credentialFromResult(E){return M.credentialFromTaggedObject(E)}static credentialFromError(E){return M.credentialFromTaggedObject(E.customData||{})}static credentialFromTaggedObject({_tokenResponse:E}){if(!E||!("oauthAccessToken"in E)||!E.oauthAccessToken)return null;try{return M.credential(E.oauthAccessToken)}catch{return null}}}return M.GITHUB_SIGN_IN_METHOD="github.com",M.PROVIDER_ID="github.com",M})();class Do extends gi{constructor(g,E){super(g,g),this.pendingToken=E}_getIdTokenResponse(g){return si(g,this.buildRequest())}_linkToIdToken(g,E){const x=this.buildRequest();return x.idToken=E,si(g,x)}_getReauthenticationResolver(g){const E=this.buildRequest();return E.autoCreate=!1,si(g,E)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(g){const E="string"==typeof g?JSON.parse(g):g,{providerId:x,signInMethod:G,pendingToken:ie}=E;return x&&G&&ie&&x===G?new Do(x,ie):null}static _create(g,E){return new Do(g,E)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Hi extends Gi{constructor(g){oe(g.startsWith("saml."),"argument-error"),super(g)}static credentialFromResult(g){return Hi.samlCredentialFromTaggedObject(g)}static credentialFromError(g){return Hi.samlCredentialFromTaggedObject(g.customData||{})}static credentialFromJSON(g){const E=Do.fromJSON(g);return oe(E,"argument-error"),E}static samlCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{pendingToken:E,providerId:x}=g;if(!E||!x)return null;try{return Do._create(x,E)}catch{return null}}}let mi=(()=>{class M extends qi{constructor(){super("twitter.com")}static credential(E,x){return et._fromParams({providerId:M.PROVIDER_ID,signInMethod:M.TWITTER_SIGN_IN_METHOD,oauthToken:E,oauthTokenSecret:x})}static credentialFromResult(E){return M.credentialFromTaggedObject(E)}static credentialFromError(E){return M.credentialFromTaggedObject(E.customData||{})}static credentialFromTaggedObject({_tokenResponse:E}){if(!E)return null;const{oauthAccessToken:x,oauthTokenSecret:G}=E;if(!x||!G)return null;try{return M.credential(x,G)}catch{return null}}}return M.TWITTER_SIGN_IN_METHOD="twitter.com",M.PROVIDER_ID="twitter.com",M})();function oo(M,g){return Bo.apply(this,arguments)}function Bo(){return(Bo=(0,y.Z)(function*(M,g){return Kn(M,"POST","/v1/accounts:signUp",ze(M,g))})).apply(this,arguments)}class Ei{constructor(g){this.user=g.user,this.providerId=g.providerId,this._tokenResponse=g._tokenResponse,this.operationType=g.operationType}static _fromIdTokenResponse(g,E,x,G=!1){return(0,y.Z)(function*(){const ie=yield nn._fromIdTokenResponse(g,x,G),Ve=Mo(x);return new Ei({user:ie,providerId:Ve,_tokenResponse:x,operationType:E})})()}static _forOperation(g,E,x){return(0,y.Z)(function*(){yield g._updateTokensIfNecessary(x,!0);const G=Mo(x);return new Ei({user:g,providerId:G,_tokenResponse:x,operationType:E})})()}}function Mo(M){return M.providerId?M.providerId:"phoneNumber"in M?"phone":null}function zr(){return(zr=(0,y.Z)(function*(M){var g;const E=pr(M);if(yield E._initializationPromise,null!==(g=E.currentUser)&&void 0!==g&&g.isAnonymous)return new Ei({user:E.currentUser,providerId:null,operationType:"signIn"});const x=yield oo(E,{returnSecureToken:!0}),G=yield Ei._fromIdTokenResponse(E,"signIn",x,!0);return yield E._updateCurrentUser(G.user),G})).apply(this,arguments)}class fo extends q.ZR{constructor(g,E,x,G){var ie;super(E.code,E.message),this.operationType=x,this.user=G,Object.setPrototypeOf(this,fo.prototype),this.customData={appName:g.name,tenantId:null!==(ie=g.tenantId)&&void 0!==ie?ie:void 0,_serverResponse:E.customData._serverResponse,operationType:x}}static _fromErrorAndOperation(g,E,x,G){return new fo(g,E,x,G)}}function ga(M,g,E,x){return("reauthenticate"===g?E._getReauthenticationResolver(M):E._getIdTokenResponse(M)).catch(ie=>{throw"auth/multi-factor-auth-required"===ie.code?fo._fromErrorAndOperation(M,ie,g,x):ie})}function To(M){return new Set(M.map(({providerId:g})=>g).filter(g=>!!g))}function so(){return(so=(0,y.Z)(function*(M,g){const E=(0,q.m9)(M);yield ir(!0,E,g);const{providerUserInfo:x}=yield Qn(E.auth,{idToken:yield E.getIdToken(),deleteProvider:[g]}),G=To(x||[]);return E.providerData=E.providerData.filter(ie=>G.has(ie.providerId)),G.has("phone")||(E.phoneNumber=null),yield E.auth._persistUserIfCurrent(E),E})).apply(this,arguments)}function Qo(M,g){return Yi.apply(this,arguments)}function Yi(){return(Yi=(0,y.Z)(function*(M,g,E=!1){const x=yield tn(M,g._linkToIdToken(M.auth,yield M.getIdToken()),E);return Ei._forOperation(M,"link",x)})).apply(this,arguments)}function ir(M,g,E){return Bs.apply(this,arguments)}function Bs(){return(Bs=(0,y.Z)(function*(M,g,E){yield $n(g);const G=!1===M?"provider-already-linked":"no-such-provider";oe(To(g.providerData).has(E)===M,g.auth,G)})).apply(this,arguments)}function Cr(M,g){return Xo.apply(this,arguments)}function Xo(){return(Xo=(0,y.Z)(function*(M,g,E=!1){var x;const{auth:G}=M,ie="reauthenticate";try{const Ve=yield tn(M,ga(G,ie,g,M),E);oe(Ve.idToken,G,"internal-error");const ft=lt(Ve.idToken);oe(ft,G,"internal-error");const{sub:Jt}=ft;return oe(M.uid===Jt,G,"user-mismatch"),Ei._forOperation(M,ie,Ve)}catch(Ve){throw"auth/user-not-found"===(null===(x=Ve)||void 0===x?void 0:x.code)&&Ne(G,"user-mismatch"),Ve}})).apply(this,arguments)}function Jr(M,g){return ta.apply(this,arguments)}function ta(){return(ta=(0,y.Z)(function*(M,g,E=!1){const x="signIn",G=yield ga(M,x,g),ie=yield Ei._fromIdTokenResponse(M,x,G);return E||(yield M._updateCurrentUser(ie.user)),ie})).apply(this,arguments)}function Dr(M,g){return Rn.apply(this,arguments)}function Rn(){return(Rn=(0,y.Z)(function*(M,g){return Jr(pr(M),g)})).apply(this,arguments)}function Oa(M,g){return qa.apply(this,arguments)}function qa(){return(qa=(0,y.Z)(function*(M,g){const E=(0,q.m9)(M);return yield ir(!1,E,g.providerId),Qo(E,g)})).apply(this,arguments)}function ws(M,g){return ma.apply(this,arguments)}function ma(){return(ma=(0,y.Z)(function*(M,g){return Cr((0,q.m9)(M),g)})).apply(this,arguments)}function Pa(M,g){return Ii.apply(this,arguments)}function Ii(){return(Ii=(0,y.Z)(function*(M,g){return Kn(M,"POST","/v1/accounts:signInWithCustomToken",ze(M,g))})).apply(this,arguments)}function Xi(){return(Xi=(0,y.Z)(function*(M,g){const E=pr(M),x=yield Pa(E,{token:g,returnSecureToken:!0}),G=yield Ei._fromIdTokenResponse(E,"signIn",x);return yield E._updateCurrentUser(G.user),G})).apply(this,arguments)}class xt{constructor(g,E){this.factorId=g,this.uid=E.mfaEnrollmentId,this.enrollmentTime=new Date(E.enrolledAt).toUTCString(),this.displayName=E.displayName}static _fromServerResponse(g,E){return"phoneInfo"in E?zn._fromServerResponse(g,E):Ne(g,"internal-error")}}class zn extends xt{constructor(g){super("phone",g),this.phoneNumber=g.phoneInfo}static _fromServerResponse(g,E){return new zn(E)}}function Io(M,g,E){var x;oe((null===(x=E.url)||void 0===x?void 0:x.length)>0,M,"invalid-continue-uri"),oe(typeof E.dynamicLinkDomain>"u"||E.dynamicLinkDomain.length>0,M,"invalid-dynamic-link-domain"),g.continueUrl=E.url,g.dynamicLinkDomain=E.dynamicLinkDomain,g.canHandleCodeInApp=E.handleCodeInApp,E.iOS&&(oe(E.iOS.bundleId.length>0,M,"missing-ios-bundle-id"),g.iOSBundleId=E.iOS.bundleId),E.android&&(oe(E.android.packageName.length>0,M,"missing-android-pkg-name"),g.androidInstallApp=E.android.installApp,g.androidMinimumVersionCode=E.android.minimumVersion,g.androidPackageName=E.android.packageName)}function Ir(){return(Ir=(0,y.Z)(function*(M,g,E){const x=(0,q.m9)(M),G={requestType:"PASSWORD_RESET",email:g};E&&Io(x,G,E),yield ii(x,G)})).apply(this,arguments)}function H(){return(H=(0,y.Z)(function*(M,g,E){yield jr((0,q.m9)(M),{oobCode:g,newPassword:E})})).apply(this,arguments)}function re(){return(re=(0,y.Z)(function*(M,g){yield ko((0,q.m9)(M),{oobCode:g})})).apply(this,arguments)}function pt(M,g){return cn.apply(this,arguments)}function cn(){return(cn=(0,y.Z)(function*(M,g){const E=(0,q.m9)(M),x=yield jr(E,{oobCode:g}),G=x.requestType;switch(oe(G,E,"internal-error"),G){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":oe(x.newEmail,E,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":oe(x.mfaInfo,E,"internal-error");default:oe(x.email,E,"internal-error")}let ie=null;return x.mfaInfo&&(ie=xt._fromServerResponse(pr(E),x.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===x.requestType?x.newEmail:x.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===x.requestType?x.email:x.newEmail)||null,multiFactorInfo:ie},operation:G}})).apply(this,arguments)}function po(){return(po=(0,y.Z)(function*(M,g){const{data:E}=yield pt((0,q.m9)(M),g);return E.email})).apply(this,arguments)}function Pr(){return(Pr=(0,y.Z)(function*(M,g,E){const x=pr(M),G=yield oo(x,{returnSecureToken:!0,email:g,password:E}),ie=yield Ei._fromIdTokenResponse(x,"signIn",G);return yield x._updateCurrentUser(ie.user),ie})).apply(this,arguments)}function Uo(){return(Uo=(0,y.Z)(function*(M,g,E){const x=(0,q.m9)(M),G={requestType:"EMAIL_SIGNIN",email:g};oe(E.handleCodeInApp,x,"argument-error"),E&&Io(x,G,E),yield qo(x,G)})).apply(this,arguments)}function ls(){return(ls=(0,y.Z)(function*(M,g,E){const x=(0,q.m9)(M),G=Co.credentialWithLink(g,E||Ut());return oe(G._tenantId===(x.tenantId||null),x,"tenant-id-mismatch"),Dr(x,G)})).apply(this,arguments)}function Us(M,g){return Ra.apply(this,arguments)}function Ra(){return(Ra=(0,y.Z)(function*(M,g){return Vt(M,"POST","/v1/accounts:createAuthUri",ze(M,g))})).apply(this,arguments)}function us(){return(us=(0,y.Z)(function*(M,g){const x={identifier:g,continueUri:zt()?Ut():"http://localhost"},{signinMethods:G}=yield Us((0,q.m9)(M),x);return G||[]})).apply(this,arguments)}function Kr(){return(Kr=(0,y.Z)(function*(M,g){const E=(0,q.m9)(M),G={requestType:"VERIFY_EMAIL",idToken:yield M.getIdToken()};g&&Io(E.auth,G,g);const{email:ie}=yield Lr(E.auth,G);ie!==M.email&&(yield M.reload())})).apply(this,arguments)}function Ms(){return(Ms=(0,y.Z)(function*(M,g,E){const x=(0,q.m9)(M),ie={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield M.getIdToken(),newEmail:g};E&&Io(x.auth,ie,E);const{email:Ve}=yield pa(x.auth,ie);Ve!==M.email&&(yield M.reload())})).apply(this,arguments)}function Xa(M,g){return bl.apply(this,arguments)}function bl(){return(bl=(0,y.Z)(function*(M,g){return Vt(M,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function Ja(){return(Ja=(0,y.Z)(function*(M,{displayName:g,photoURL:E}){if(void 0===g&&void 0===E)return;const x=(0,q.m9)(M),ie={idToken:yield x.getIdToken(),displayName:g,photoUrl:E,returnSecureToken:!0},Ve=yield tn(x,Xa(x.auth,ie));x.displayName=Ve.displayName||null,x.photoURL=Ve.photoUrl||null;const ft=x.providerData.find(({providerId:Jt})=>"password"===Jt);ft&&(ft.displayName=x.displayName,ft.photoURL=x.photoURL),yield x._updateTokensIfNecessary(Ve)})).apply(this,arguments)}function V(M,g,E){return te.apply(this,arguments)}function te(){return(te=(0,y.Z)(function*(M,g,E){const{auth:x}=M,ie={idToken:yield M.getIdToken(),returnSecureToken:!0};g&&(ie.email=g),E&&(ie.password=E);const Ve=yield tn(M,yr(x,ie));yield M._updateTokensIfNecessary(Ve,!0)})).apply(this,arguments)}class at{constructor(g,E,x={}){this.isNewUser=g,this.providerId=E,this.profile=x}}class mt extends at{constructor(g,E,x,G){super(g,E,x),this.username=G}}class hn extends at{constructor(g,E){super(g,"facebook.com",E)}}class lr extends mt{constructor(g,E){super(g,"github.com",E,"string"==typeof E?.login?E?.login:null)}}class Sr extends at{constructor(g,E){super(g,"google.com",E)}}class _r extends mt{constructor(g,E,x){super(g,"twitter.com",E,x)}}function or(M){const{user:g,_tokenResponse:E}=M;return g.isAnonymous&&!E?{providerId:null,isNewUser:!1,profile:null}:function Ce(M){var g,E;if(!M)return null;const{providerId:x}=M,G=M.rawUserInfo?JSON.parse(M.rawUserInfo):{},ie=M.isNewUser||"identitytoolkit#SignupNewUserResponse"===M.kind;if(!x&&M?.idToken){const Ve=null===(E=null===(g=lt(M.idToken))||void 0===g?void 0:g.firebase)||void 0===E?void 0:E.sign_in_provider;if(Ve)return new at(ie,"anonymous"!==Ve&&"custom"!==Ve?Ve:null)}if(!x)return null;switch(x){case"facebook.com":return new hn(ie,G);case"github.com":return new lr(ie,G);case"google.com":return new Sr(ie,G);case"twitter.com":return new _r(ie,G,M.screenName||null);case"custom":case"anonymous":return new at(ie,null);default:return new at(ie,x,G)}}(E)}class Wo{constructor(g,E){this.type=g,this.credential=E}static _fromIdtoken(g){return new Wo("enroll",g)}static _fromMfaPendingCredential(g){return new Wo("signin",g)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(g){var E,x;if(g?.multiFactorSession){if(null!==(E=g.multiFactorSession)&&void 0!==E&&E.pendingCredential)return Wo._fromMfaPendingCredential(g.multiFactorSession.pendingCredential);if(null!==(x=g.multiFactorSession)&&void 0!==x&&x.idToken)return Wo._fromIdtoken(g.multiFactorSession.idToken)}return null}}class el{constructor(g,E,x){this.session=g,this.hints=E,this.signInResolver=x}static _fromError(g,E){const x=pr(g),G=E.customData._serverResponse,ie=(G.mfaInfo||[]).map(ft=>xt._fromServerResponse(x,ft));oe(G.mfaPendingCredential,x,"internal-error");const Ve=Wo._fromMfaPendingCredential(G.mfaPendingCredential);return new el(Ve,ie,function(){var ft=(0,y.Z)(function*(Jt){const vn=yield Jt._process(x,Ve);delete G.mfaInfo,delete G.mfaPendingCredential;const Ln=Object.assign(Object.assign({},G),{idToken:vn.idToken,refreshToken:vn.refreshToken});switch(E.operationType){case"signIn":const xn=yield Ei._fromIdTokenResponse(x,E.operationType,Ln);return yield x._updateCurrentUser(xn.user),xn;case"reauthenticate":return oe(E.user,x,"internal-error"),Ei._forOperation(E.user,E.operationType,Ln);default:Ne(x,"internal-error")}});return function(Jt){return ft.apply(this,arguments)}}())}resolveSignIn(g){var E=this;return(0,y.Z)(function*(){return E.signInResolver(g)})()}}function La(M,g){return Vt(M,"POST","/v2/accounts/mfaEnrollment:start",ze(M,g))}class Yl{constructor(g){this.user=g,this.enrolledFactors=[],g._onReload(E=>{E.mfaInfo&&(this.enrolledFactors=E.mfaInfo.map(x=>xt._fromServerResponse(g.auth,x)))})}static _fromUser(g){return new Yl(g)}getSession(){var g=this;return(0,y.Z)(function*(){return Wo._fromIdtoken(yield g.user.getIdToken())})()}enroll(g,E){var x=this;return(0,y.Z)(function*(){const G=g,ie=yield x.getSession(),Ve=yield tn(x.user,G._process(x.user.auth,ie,E));return yield x.user._updateTokensIfNecessary(Ve),x.user.reload()})()}unenroll(g){var E=this;return(0,y.Z)(function*(){var x;const G="string"==typeof g?g:g.uid,ie=yield E.user.getIdToken(),Ve=yield tn(E.user,function ba(M,g){return Vt(M,"POST","/v2/accounts/mfaEnrollment:withdraw",ze(M,g))}(E.user.auth,{idToken:ie,mfaEnrollmentId:G}));E.enrolledFactors=E.enrolledFactors.filter(({uid:ft})=>ft!==G),yield E.user._updateTokensIfNecessary(Ve);try{yield E.user.reload()}catch(ft){if("auth/user-token-expired"!==(null===(x=ft)||void 0===x?void 0:x.code))throw ft}})()}}const El=new WeakMap,Ea="__sak";class Ca{constructor(g,E){this.storageRetriever=g,this.type=E}_isAvailable(){try{return this.storage?(this.storage.setItem(Ea,"1"),this.storage.removeItem(Ea),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(g,E){return this.storage.setItem(g,JSON.stringify(E)),Promise.resolve()}_get(g){const E=this.storage.getItem(g);return Promise.resolve(E?JSON.parse(E):null)}_remove(g){return this.storage.removeItem(g),Promise.resolve()}get storage(){return this.storageRetriever()}}const Is=(()=>{class M extends Ca{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(E,x)=>this.onStorageEvent(E,x),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Ji(){const M=(0,q.z$)();return Ur(M)||ae(M)}()&&function Zn(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=jn(),this._shouldAllowMigration=!0}forAllChangedKeys(E){for(const x of Object.keys(this.listeners)){const G=this.storage.getItem(x),ie=this.localCache[x];G!==ie&&E(x,ie,G)}}onStorageEvent(E,x=!1){if(!E.key)return void this.forAllChangedKeys((ft,Jt,vn)=>{this.notifyListeners(ft,vn)});const G=E.key;if(x?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ft=this.storage.getItem(G);if(E.newValue!==ft)null!==E.newValue?this.storage.setItem(G,E.newValue):this.storage.removeItem(G);else if(this.localCache[G]===E.newValue&&!x)return}const ie=()=>{const ft=this.storage.getItem(G);!x&&this.localCache[G]===ft||this.notifyListeners(G,ft)},Ve=this.storage.getItem(G);!function sn(){return(0,q.w1)()&&10===document.documentMode}()||Ve===E.newValue||E.newValue===E.oldValue?ie():setTimeout(ie,10)}notifyListeners(E,x){this.localCache[E]=x;const G=this.listeners[E];if(G)for(const ie of Array.from(G))ie(x&&JSON.parse(x))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((E,x,G)=>{this.onStorageEvent(new StorageEvent("storage",{key:E,oldValue:x,newValue:G}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(E,x){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[E]||(this.listeners[E]=new Set,this.localCache[E]=this.storage.getItem(E)),this.listeners[E].add(x)}_removeListener(E,x){this.listeners[E]&&(this.listeners[E].delete(x),0===this.listeners[E].size&&delete this.listeners[E]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(E,x){var G=()=>super._set,ie=this;return(0,y.Z)(function*(){yield G().call(ie,E,x),ie.localCache[E]=JSON.stringify(x)})()}_get(E){var x=()=>super._get,G=this;return(0,y.Z)(function*(){const ie=yield x().call(G,E);return G.localCache[E]=JSON.stringify(ie),ie})()}_remove(E){var x=()=>super._remove,G=this;return(0,y.Z)(function*(){yield x().call(G,E),delete G.localCache[E]})()}}return M.type="LOCAL",M})(),As=(()=>{class M extends Ca{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(E,x){}_removeListener(E,x){}}return M.type="SESSION",M})();let Hd=(()=>{class M{constructor(E){this.eventTarget=E,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(E){const x=this.receivers.find(ie=>ie.isListeningto(E));if(x)return x;const G=new M(E);return this.receivers.push(G),G}isListeningto(E){return this.eventTarget===E}handleEvent(E){var x=this;return(0,y.Z)(function*(){const G=E,{eventId:ie,eventType:Ve,data:ft}=G.data,Jt=x.handlersMap[Ve];if(!Jt?.size)return;G.ports[0].postMessage({status:"ack",eventId:ie,eventType:Ve});const vn=Array.from(Jt).map(function(){var xn=(0,y.Z)(function*(mo){return mo(G.origin,ft)});return function(mo){return xn.apply(this,arguments)}}()),Ln=yield function tl(M){return Promise.all(M.map(function(){var g=(0,y.Z)(function*(E){try{return{fulfilled:!0,value:yield E}}catch(x){return{fulfilled:!1,reason:x}}});return function(E){return g.apply(this,arguments)}}()))}(vn);G.ports[0].postMessage({status:"done",eventId:ie,eventType:Ve,response:Ln})})()}_subscribe(E,x){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[E]||(this.handlersMap[E]=new Set),this.handlersMap[E].add(x)}_unsubscribe(E,x){this.handlersMap[E]&&x&&this.handlersMap[E].delete(x),(!x||0===this.handlersMap[E].size)&&delete this.handlersMap[E],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return M.receivers=[],M})();function Fa(M="",g=10){let E="";for(let x=0;x<g;x++)E+=Math.floor(10*Math.random());return M+E}class Xl{constructor(g){this.target=g,this.handlers=new Set}removeMessageHandler(g){g.messageChannel&&(g.messageChannel.port1.removeEventListener("message",g.onMessage),g.messageChannel.port1.close()),this.handlers.delete(g)}_send(g,E,x=50){var G=this;return(0,y.Z)(function*(){const ie=typeof MessageChannel<"u"?new MessageChannel:null;if(!ie)throw new Error("connection_unavailable");let Ve,ft;return new Promise((Jt,vn)=>{const Ln=Fa("",20);ie.port1.start();const xn=setTimeout(()=>{vn(new Error("unsupported_event"))},x);ft={messageChannel:ie,onMessage(mo){const ha=mo;if(ha.data.eventId===Ln)switch(ha.data.status){case"ack":clearTimeout(xn),Ve=setTimeout(()=>{vn(new Error("timeout"))},3e3);break;case"done":clearTimeout(Ve),Jt(ha.data.response);break;default:clearTimeout(xn),clearTimeout(Ve),vn(new Error("invalid_response"))}}},G.handlers.add(ft),ie.port1.addEventListener("message",ft.onMessage),G.target.postMessage({eventType:g,eventId:Ln,data:E},[ie.port2])}).finally(()=>{ft&&G.removeMessageHandler(ft)})})()}}function ci(){return window}function Vs(){return typeof ci().WorkerGlobalScope<"u"&&"function"==typeof ci().importScripts}function hs(){return(hs=(0,y.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const na="firebaseLocalStorageDb",Gr="firebaseLocalStorage",Hs="fbase_key";class Ss{constructor(g){this.request=g}toPromise(){return new Promise((g,E)=>{this.request.addEventListener("success",()=>{g(this.request.result)}),this.request.addEventListener("error",()=>{E(this.request.error)})})}}function fn(M,g){return M.transaction([Gr],g?"readwrite":"readonly").objectStore(Gr)}function nl(){const M=indexedDB.open(na,1);return new Promise((g,E)=>{M.addEventListener("error",()=>{E(M.error)}),M.addEventListener("upgradeneeded",()=>{const x=M.result;try{x.createObjectStore(Gr,{keyPath:Hs})}catch(G){E(G)}}),M.addEventListener("success",(0,y.Z)(function*(){const x=M.result;x.objectStoreNames.contains(Gr)?g(x):(x.close(),yield function _n(){const M=indexedDB.deleteDatabase(na);return new Ss(M).toPromise()}(),g(yield nl()))}))})}function qt(M,g,E){return dt.apply(this,arguments)}function dt(){return(dt=(0,y.Z)(function*(M,g,E){const x=fn(M,!0).put({[Hs]:g,value:E});return new Ss(x).toPromise()})).apply(this,arguments)}function yi(){return(yi=(0,y.Z)(function*(M,g){const E=fn(M,!1).get(g),x=yield new Ss(E).toPromise();return void 0===x?null:x.value})).apply(this,arguments)}function ra(M,g){const E=fn(M,!0).delete(g);return new Ss(E).toPromise()}const rl=(()=>{class M{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var E=this;return(0,y.Z)(function*(){return E.db||(E.db=yield nl()),E.db})()}_withRetries(E){var x=this;return(0,y.Z)(function*(){let G=0;for(;;)try{const ie=yield x._openDb();return yield E(ie)}catch(ie){if(G++>3)throw ie;x.db&&(x.db.close(),x.db=void 0)}})()}initializeServiceWorkerMessaging(){var E=this;return(0,y.Z)(function*(){return Vs()?E.initializeReceiver():E.initializeSender()})()}initializeReceiver(){var E=this;return(0,y.Z)(function*(){E.receiver=Hd._getInstance(function ps(){return Vs()?self:null}()),E.receiver._subscribe("keyChanged",function(){var x=(0,y.Z)(function*(G,ie){return{keyProcessed:(yield E._poll()).includes(ie.key)}});return function(G,ie){return x.apply(this,arguments)}}()),E.receiver._subscribe("ping",function(){var x=(0,y.Z)(function*(G,ie){return["keyChanged"]});return function(G,ie){return x.apply(this,arguments)}}())})()}initializeSender(){var E=this;return(0,y.Z)(function*(){var x,G;if(E.activeServiceWorker=yield function ui(){return hs.apply(this,arguments)}(),!E.activeServiceWorker)return;E.sender=new Xl(E.activeServiceWorker);const ie=yield E.sender._send("ping",{},800);!ie||(null===(x=ie[0])||void 0===x?void 0:x.fulfilled)&&(null===(G=ie[0])||void 0===G?void 0:G.value.includes("keyChanged"))&&(E.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(E){var x=this;return(0,y.Z)(function*(){if(x.sender&&x.activeServiceWorker&&function fs(){var M;return(null===(M=navigator?.serviceWorker)||void 0===M?void 0:M.controller)||null}()===x.activeServiceWorker)try{yield x.sender._send("keyChanged",{key:E},x.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,y.Z)(function*(){try{if(!indexedDB)return!1;const E=yield nl();return yield qt(E,Ea,"1"),yield ra(E,Ea),!0}catch{}return!1})()}_withPendingWrite(E){var x=this;return(0,y.Z)(function*(){x.pendingWrites++;try{yield E()}finally{x.pendingWrites--}})()}_set(E,x){var G=this;return(0,y.Z)(function*(){return G._withPendingWrite((0,y.Z)(function*(){return yield G._withRetries(ie=>qt(ie,E,x)),G.localCache[E]=x,G.notifyServiceWorker(E)}))})()}_get(E){var x=this;return(0,y.Z)(function*(){const G=yield x._withRetries(ie=>function kt(M,g){return yi.apply(this,arguments)}(ie,E));return x.localCache[E]=G,G})()}_remove(E){var x=this;return(0,y.Z)(function*(){return x._withPendingWrite((0,y.Z)(function*(){return yield x._withRetries(G=>ra(G,E)),delete x.localCache[E],x.notifyServiceWorker(E)}))})()}_poll(){var E=this;return(0,y.Z)(function*(){const x=yield E._withRetries(Ve=>{const ft=fn(Ve,!1).getAll();return new Ss(ft).toPromise()});if(!x)return[];if(0!==E.pendingWrites)return[];const G=[],ie=new Set;for(const{fbase_key:Ve,value:ft}of x)ie.add(Ve),JSON.stringify(E.localCache[Ve])!==JSON.stringify(ft)&&(E.notifyListeners(Ve,ft),G.push(Ve));for(const Ve of Object.keys(E.localCache))E.localCache[Ve]&&!ie.has(Ve)&&(E.notifyListeners(Ve,null),G.push(Ve));return G})()}notifyListeners(E,x){this.localCache[E]=x;const G=this.listeners[E];if(G)for(const ie of Array.from(G))ie(x)}startPolling(){var E=this;this.stopPolling(),this.pollTimer=setInterval((0,y.Z)(function*(){return E._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(E,x){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[E]||(this.listeners[E]=new Set,this._get(E)),this.listeners[E].add(x)}_removeListener(E,x){this.listeners[E]&&(this.listeners[E].delete(x),0===this.listeners[E].size&&delete this.listeners[E]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return M.type="LOCAL",M})();function il(M,g){return Vt(M,"POST","/v2/accounts/mfaSignIn:start",ze(M,g))}function Rr(){return(Rr=(0,y.Z)(function*(M){return(yield Vt(M,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function _s(M){return new Promise((g,E)=>{const x=document.createElement("script");x.setAttribute("src",M),x.onload=g,x.onerror=G=>{const ie=Me("internal-error");ie.customData=G,E(ie)},x.type="text/javascript",x.charset="UTF-8",function Da(){var M,g;return null!==(g=null===(M=document.getElementsByTagName("head"))||void 0===M?void 0:M[0])&&void 0!==g?g:document}().appendChild(x)})}function Hn(M){return`__${M}${Math.floor(1e6*Math.random())}`}const Nr=1e12;class rn{constructor(g){this.auth=g,this.counter=Nr,this._widgets=new Map}render(g,E){const x=this.counter;return this._widgets.set(x,new Jl(g,this.auth.name,E||{})),this.counter++,x}reset(g){var E;const x=g||Nr;null===(E=this._widgets.get(x))||void 0===E||E.delete(),this._widgets.delete(x)}getResponse(g){var E;return(null===(E=this._widgets.get(g||Nr))||void 0===E?void 0:E.getResponse())||""}execute(g){var E=this;return(0,y.Z)(function*(){var x;return null===(x=E._widgets.get(g||Nr))||void 0===x||x.execute(),""})()}}class Jl{constructor(g,E,x){this.params=x,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const G="string"==typeof g?document.getElementById(g):g;oe(G,"argument-error",{appName:E}),this.container=G,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function xr(M){const g=[],E="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let x=0;x<M;x++)g.push(E.charAt(Math.floor(Math.random()*E.length)));return g.join("")}(50);const{callback:g,"expired-callback":E}=this.params;if(g)try{g(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,E)try{E()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const nd=Hn("rcb"),Di=new Dn(3e4,6e4);class ec{constructor(){var g;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(g=ci().grecaptcha)||void 0===g||!g.render)}load(g,E=""){return oe(function tc(M){return M.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(M)}(E),g,"argument-error"),this.shouldResolveImmediately(E)?Promise.resolve(ci().grecaptcha):new Promise((x,G)=>{const ie=ci().setTimeout(()=>{G(Me(g,"network-request-failed"))},Di.get());ci()[nd]=()=>{ci().clearTimeout(ie),delete ci()[nd];const ft=ci().grecaptcha;if(!ft)return void G(Me(g,"internal-error"));const Jt=ft.render;ft.render=(vn,Ln)=>{const xn=Jt(vn,Ln);return this.counter++,xn},this.hostLanguage=E,x(ft)},_s(`https://www.google.com/recaptcha/api.js??${(0,q.xO)({onload:nd,render:"explicit",hl:E})}`).catch(()=>{clearTimeout(ie),G(Me(g,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(g){var E;return!(null===(E=ci().grecaptcha)||void 0===E||!E.render)&&(g===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class ia{load(g){return(0,y.Z)(function*(){return new rn(g)})()}clearedOneInstance(){}}const rd="recaptcha",lu={theme:"light",type:"image"};class to{constructor(g,E=Object.assign({},lu),x){this.parameters=E,this.type=rd,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=pr(x),this.isInvisible="invisible"===this.parameters.size,oe(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const G="string"==typeof g?document.getElementById(g):g;oe(G,this.auth,"argument-error"),this.container=G,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new ia:new ec,this.validateStartingState()}verify(){var g=this;return(0,y.Z)(function*(){g.assertNotDestroyed();const E=yield g.render(),x=g.getAssertedRecaptcha();return x.getResponse(E)||new Promise(ie=>{const Ve=ft=>{!ft||(g.tokenChangeListeners.delete(Ve),ie(ft))};g.tokenChangeListeners.add(Ve),g.isInvisible&&x.execute(E)})})()}render(){try{this.assertNotDestroyed()}catch(g){return Promise.reject(g)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(g=>{throw this.renderPromise=null,g})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(g=>{this.container.removeChild(g)})}validateStartingState(){oe(!this.parameters.sitekey,this.auth,"argument-error"),oe(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),oe(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(g){return E=>{if(this.tokenChangeListeners.forEach(x=>x(E)),"function"==typeof g)g(E);else if("string"==typeof g){const x=ci()[g];"function"==typeof x&&x(E)}}}assertNotDestroyed(){oe(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var g=this;return(0,y.Z)(function*(){if(yield g.init(),!g.widgetId){let E=g.container;if(!g.isInvisible){const x=document.createElement("div");E.appendChild(x),E=x}g.widgetId=g.getAssertedRecaptcha().render(E,g.parameters)}return g.widgetId})()}init(){var g=this;return(0,y.Z)(function*(){oe(zt()&&!Vs(),g.auth,"internal-error"),yield function Ba(){let M=null;return new Promise(g=>{"complete"!==document.readyState?(M=()=>g(),window.addEventListener("load",M)):g()}).catch(g=>{throw M&&window.removeEventListener("load",M),g})}(),g.recaptcha=yield g._recaptchaLoader.load(g.auth,g.auth.languageCode||void 0);const E=yield function eo(M){return Rr.apply(this,arguments)}(g.auth);oe(E,g.auth,"internal-error"),g.parameters.sitekey=E})()}getAssertedRecaptcha(){return oe(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Ua{constructor(g,E){this.verificationId=g,this.onConfirmation=E}confirm(g){const E=zi._fromVerification(this.verificationId,g);return this.onConfirmation(E)}}function _o(){return(_o=(0,y.Z)(function*(M,g,E){const x=pr(M),G=yield xs(x,g,(0,q.m9)(E));return new Ua(G,ie=>Dr(x,ie))})).apply(this,arguments)}function co(){return(co=(0,y.Z)(function*(M,g,E){const x=(0,q.m9)(M);yield ir(!1,x,"phone");const G=yield xs(x.auth,g,(0,q.m9)(E));return new Ua(G,ie=>Oa(x,ie))})).apply(this,arguments)}function Ko(){return(Ko=(0,y.Z)(function*(M,g,E){const x=(0,q.m9)(M),G=yield xs(x.auth,g,(0,q.m9)(E));return new Ua(G,ie=>ws(x,ie))})).apply(this,arguments)}function xs(M,g,E){return w.apply(this,arguments)}function w(){return(w=(0,y.Z)(function*(M,g,E){var x;const G=yield E.verify();try{let ie;if(oe("string"==typeof G,M,"argument-error"),oe(E.type===rd,M,"argument-error"),ie="string"==typeof g?{phoneNumber:g}:g,"session"in ie){const Ve=ie.session;if("phoneNumber"in ie)return oe("enroll"===Ve.type,M,"internal-error"),(yield La(M,{idToken:Ve.credential,phoneEnrollmentInfo:{phoneNumber:ie.phoneNumber,recaptchaToken:G}})).phoneSessionInfo.sessionInfo;{oe("signin"===Ve.type,M,"internal-error");const ft=(null===(x=ie.multiFactorHint)||void 0===x?void 0:x.uid)||ie.multiFactorUid;return oe(ft,M,"missing-multi-factor-info"),(yield il(M,{mfaPendingCredential:Ve.credential,mfaEnrollmentId:ft,phoneSignInInfo:{recaptchaToken:G}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Ve}=yield Tt(M,{phoneNumber:ie.phoneNumber,recaptchaToken:G});return Ve}}finally{E._reset()}})).apply(this,arguments)}function I(){return(I=(0,y.Z)(function*(M,g){yield Qo((0,q.m9)(M),g)})).apply(this,arguments)}let F=(()=>{class M{constructor(E){this.providerId=M.PROVIDER_ID,this.auth=pr(E)}verifyPhoneNumber(E,x){return xs(this.auth,E,(0,q.m9)(x))}static credential(E,x){return zi._fromVerification(E,x)}static credentialFromResult(E){return M.credentialFromTaggedObject(E)}static credentialFromError(E){return M.credentialFromTaggedObject(E.customData||{})}static credentialFromTaggedObject({_tokenResponse:E}){if(!E)return null;const{phoneNumber:x,temporaryProof:G}=E;return x&&G?zi._fromTokenResponse(x,G):null}}return M.PROVIDER_ID="phone",M.PHONE_SIGN_IN_METHOD="phone",M})();function W(M,g){return g?Ze(g):(oe(M._popupRedirectResolver,M,"argument-error"),M._popupRedirectResolver)}class J extends gi{constructor(g){super("custom","custom"),this.params=g}_getIdTokenResponse(g){return si(g,this._buildIdpRequest())}_linkToIdToken(g,E){return si(g,this._buildIdpRequest(E))}_getReauthenticationResolver(g){return si(g,this._buildIdpRequest())}_buildIdpRequest(g){const E={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return g&&(E.idToken=g),E}}function ce(M){return Jr(M.auth,new J(M),M.bypassAuthState)}function De(M){const{auth:g,user:E}=M;return oe(E,g,"internal-error"),Cr(E,new J(M),M.bypassAuthState)}function ht(M){return Qt.apply(this,arguments)}function Qt(){return(Qt=(0,y.Z)(function*(M){const{auth:g,user:E}=M;return oe(E,g,"internal-error"),Qo(E,new J(M),M.bypassAuthState)})).apply(this,arguments)}class Xn{constructor(g,E,x,G,ie=!1){this.auth=g,this.resolver=x,this.user=G,this.bypassAuthState=ie,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(E)?E:[E]}execute(){var g=this;return new Promise(function(){var E=(0,y.Z)(function*(x,G){g.pendingPromise={resolve:x,reject:G};try{g.eventManager=yield g.resolver._initialize(g.auth),yield g.onExecution(),g.eventManager.registerConsumer(g)}catch(ie){g.reject(ie)}});return function(x,G){return E.apply(this,arguments)}}())}onAuthEvent(g){var E=this;return(0,y.Z)(function*(){const{urlResponse:x,sessionId:G,postBody:ie,tenantId:Ve,error:ft,type:Jt}=g;if(ft)return void E.reject(ft);const vn={auth:E.auth,requestUri:x,sessionId:G,tenantId:Ve||void 0,postBody:ie||void 0,user:E.user,bypassAuthState:E.bypassAuthState};try{E.resolve(yield E.getIdpTask(Jt)(vn))}catch(Ln){E.reject(Ln)}})()}onError(g){this.reject(g)}getIdpTask(g){switch(g){case"signInViaPopup":case"signInViaRedirect":return ce;case"linkViaPopup":case"linkViaRedirect":return ht;case"reauthViaPopup":case"reauthViaRedirect":return De;default:Ne(this.auth,"internal-error")}}resolve(g){de(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(g),this.unregisterAndCleanUp()}reject(g){de(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(g),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const yn=new Dn(2e3,1e4);function ji(){return(ji=(0,y.Z)(function*(M,g,E){const x=pr(M);Mt(M,g,Gi);const G=W(x,E);return new di(x,"signInViaPopup",g,G).executeNotNull()})).apply(this,arguments)}function oa(){return(oa=(0,y.Z)(function*(M,g,E){const x=(0,q.m9)(M);Mt(x.auth,g,Gi);const G=W(x.auth,E);return new di(x.auth,"reauthViaPopup",g,G,x).executeNotNull()})).apply(this,arguments)}function sa(){return(sa=(0,y.Z)(function*(M,g,E){const x=(0,q.m9)(M);Mt(x.auth,g,Gi);const G=W(x.auth,E);return new di(x.auth,"linkViaPopup",g,G,x).executeNotNull()})).apply(this,arguments)}let di=(()=>{class M extends Xn{constructor(E,x,G,ie,Ve){super(E,x,ie,Ve),this.provider=G,this.authWindow=null,this.pollId=null,M.currentPopupAction&&M.currentPopupAction.cancel(),M.currentPopupAction=this}executeNotNull(){var E=this;return(0,y.Z)(function*(){const x=yield E.execute();return oe(x,E.auth,"internal-error"),x})()}onExecution(){var E=this;return(0,y.Z)(function*(){de(1===E.filter.length,"Popup operations only handle one event");const x=Fa();E.authWindow=yield E.resolver._openPopup(E.auth,E.provider,E.filter[0],x),E.authWindow.associatedEvent=x,E.resolver._originValidation(E.auth).catch(G=>{E.reject(G)}),E.resolver._isIframeWebStorageSupported(E.auth,G=>{G||E.reject(Me(E.auth,"web-storage-unsupported"))}),E.pollUserCancellation()})()}get eventId(){var E;return(null===(E=this.authWindow)||void 0===E?void 0:E.associatedEvent)||null}cancel(){this.reject(Me(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,M.currentPopupAction=null}pollUserCancellation(){const E=()=>{var x,G;this.pollId=null!==(G=null===(x=this.authWindow)||void 0===x?void 0:x.window)&&void 0!==G&&G.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Me(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(E,yn.get())};E()}}return M.currentPopupAction=null,M})();const aa=new Map;class sl extends Xn{constructor(g,E,x=!1){super(g,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],E,void 0,x),this.eventId=null}execute(){var g=()=>super.execute,E=this;return(0,y.Z)(function*(){let x=aa.get(E.auth._key());if(!x){try{const ie=(yield function Zo(M,g){return la.apply(this,arguments)}(E.resolver,E.auth))?yield g().call(E):null;x=()=>Promise.resolve(ie)}catch(G){x=()=>Promise.reject(G)}aa.set(E.auth._key(),x)}return E.bypassAuthState||aa.set(E.auth._key(),()=>Promise.resolve(null)),x()})()}onAuthEvent(g){var E=()=>super.onAuthEvent,x=this;return(0,y.Z)(function*(){if("signInViaRedirect"===g.type)return E().call(x,g);if("unknown"!==g.type){if(g.eventId){const G=yield x.auth._redirectUserForId(g.eventId);if(G)return x.user=G,E().call(x,g);x.resolve(null)}}else x.resolve(null)})()}onExecution(){return(0,y.Z)(function*(){})()}cleanUp(){}}function la(){return(la=(0,y.Z)(function*(M,g){const E=Ac(g),x=es(M);if(!(yield x._isAvailable()))return!1;const G="true"===(yield x._get(E));return yield x._remove(E),G})).apply(this,arguments)}function Li(M,g){return Ws.apply(this,arguments)}function Ws(){return(Ws=(0,y.Z)(function*(M,g){return es(M)._set(Ac(g),"true")})).apply(this,arguments)}function hi(M,g){aa.set(M._key(),g)}function es(M){return Ze(M._redirectPersistence)}function Ac(M){return Br("pendingRedirect",M.config.apiKey,M.name)}function B(){return(B=(0,y.Z)(function*(M,g,E){const x=pr(M);Mt(M,g,Gi);const G=W(x,E);return yield Li(G,x),G._openRedirect(x,g,"signInViaRedirect")})).apply(this,arguments)}function pe(){return(pe=(0,y.Z)(function*(M,g,E){const x=(0,q.m9)(M);Mt(x.auth,g,Gi);const G=W(x.auth,E);yield Li(G,x.auth);const ie=yield kn(x);return G._openRedirect(x.auth,g,"reauthViaRedirect",ie)})).apply(this,arguments)}function Lt(){return(Lt=(0,y.Z)(function*(M,g,E){const x=(0,q.m9)(M);Mt(x.auth,g,Gi);const G=W(x.auth,E);yield ir(!1,x,g.providerId),yield Li(G,x.auth);const ie=yield kn(x);return G._openRedirect(x.auth,g,"linkViaRedirect",ie)})).apply(this,arguments)}function En(){return(En=(0,y.Z)(function*(M,g){return yield pr(M)._initializationPromise,Pn(M,g,!1)})).apply(this,arguments)}function Pn(M,g){return Gn.apply(this,arguments)}function Gn(){return(Gn=(0,y.Z)(function*(M,g,E=!1){const x=pr(M),G=W(x,g),Ve=yield new sl(x,G,E).execute();return Ve&&!E&&(delete Ve.user._redirectEventId,yield x._persistUserIfCurrent(Ve.user),yield x._setRedirectUser(null,g)),Ve})).apply(this,arguments)}function kn(M){return fi.apply(this,arguments)}function fi(){return(fi=(0,y.Z)(function*(M){const g=Fa(`${M.uid}:::`);return M._redirectEventId=g,yield M.auth._setRedirectUser(M),yield M.auth._persistUserIfCurrent(M),g})).apply(this,arguments)}class js{constructor(g){this.auth=g,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(g){this.consumers.add(g),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,g)&&(this.sendToConsumer(this.queuedRedirectEvent,g),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(g){this.consumers.delete(g)}onEvent(g){if(this.hasEventBeenHandled(g))return!1;let E=!1;return this.consumers.forEach(x=>{this.isEventForConsumer(g,x)&&(E=!0,this.sendToConsumer(g,x),this.saveEventToCache(g))}),this.hasHandledPotentialRedirect||!function al(M){switch(M.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ms(M);default:return!1}}(g)||(this.hasHandledPotentialRedirect=!0,E||(this.queuedRedirectEvent=g,E=!0)),E}sendToConsumer(g,E){var x;if(g.error&&!ms(g)){const G=(null===(x=g.error.code)||void 0===x?void 0:x.split("auth/")[1])||"internal-error";E.onError(Me(this.auth,G))}else E.onAuthEvent(g)}isEventForConsumer(g,E){const x=null===E.eventId||!!g.eventId&&g.eventId===E.eventId;return E.filter.includes(g.type)&&x}hasEventBeenHandled(g){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(wa(g))}saveEventToCache(g){this.cachedEventUids.add(wa(g)),this.lastProcessedEventTime=Date.now()}}function wa(M){return[M.type,M.eventId,M.sessionId,M.tenantId].filter(g=>g).join("-")}function ms({type:M,error:g}){return"unknown"===M&&"auth/no-auth-event"===g?.code}function ca(M){return Ks.apply(this,arguments)}function Ks(){return(Ks=(0,y.Z)(function*(M,g={}){return Vt(M,"GET","/v1/projects",g)})).apply(this,arguments)}const ua=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Va=/^https?/;function sf(){return(sf=(0,y.Z)(function*(M){if(M.config.emulator)return;const{authorizedDomains:g}=yield ca(M);for(const E of g)try{if(af(E))return}catch{}Ne(M,"unauthorized-domain")})).apply(this,arguments)}function af(M){const g=Ut(),{protocol:E,hostname:x}=new URL(g);if(M.startsWith("chrome-extension://")){const Ve=new URL(M);return""===Ve.hostname&&""===x?"chrome-extension:"===E&&M.replace("chrome-extension://","")===g.replace("chrome-extension://",""):"chrome-extension:"===E&&Ve.hostname===x}if(!Va.test(E))return!1;if(ua.test(M))return x===M;const G=M.replace(/\./g,"\\.");return new RegExp("^(.+\\."+G+"|"+G+")$","i").test(x)}const od=new Dn(3e4,6e4);function xo(){const M=ci().___jsl;if(M?.H)for(const g of Object.keys(M.H))if(M.H[g].r=M.H[g].r||[],M.H[g].L=M.H[g].L||[],M.H[g].r=[...M.H[g].L],M.CP)for(let E=0;E<M.CP.length;E++)M.CP[E]=null}let qr=null;function bp(M){return qr=qr||function Sc(M){return new Promise((g,E)=>{var x,G,ie;function Ve(){xo(),gapi.load("gapi.iframes",{callback:()=>{g(gapi.iframes.getContext())},ontimeout:()=>{xo(),E(Me(M,"network-request-failed"))},timeout:od.get()})}if(null!==(G=null===(x=ci().gapi)||void 0===x?void 0:x.iframes)&&void 0!==G&&G.Iframe)g(gapi.iframes.getContext());else{if(null===(ie=ci().gapi)||void 0===ie||!ie.load){const ft=Hn("iframefcb");return ci()[ft]=()=>{gapi.load?Ve():E(Me(M,"network-request-failed"))},_s(`https://apis.google.com/js/api.js?onload=${ft}`).catch(Jt=>E(Jt))}Ve()}}).catch(g=>{throw qr=null,g})}(M),qr}const sd=new Dn(5e3,15e3),Wd={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Oc=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function jd(M){const g=M.config;oe(g.authDomain,M,"auth-domain-config-required");const E=g.emulator?gn(g,"emulator/auth/iframe"):`https://${M.config.authDomain}/__/auth/iframe`,x={apiKey:g.apiKey,appName:M.name,v:_e.SDK_VERSION},G=Oc.get(M.config.apiHost);G&&(x.eid=G);const ie=M._getFrameworks();return ie.length&&(x.fw=ie.join(",")),`${E}?${(0,q.xO)(x).slice(1)}`}function ic(){return ic=(0,y.Z)(function*(M){const g=yield bp(M),E=ci().gapi;return oe(E,M,"internal-error"),g.open({where:document.body,url:jd(M),messageHandlersFilter:E.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Wd,dontclear:!0},x=>new Promise(function(){var G=(0,y.Z)(function*(ie,Ve){yield x.restyle({setHideOnLeave:!1});const ft=Me(M,"network-request-failed"),Jt=ci().setTimeout(()=>{Ve(ft)},sd.get());function vn(){ci().clearTimeout(Jt),ie(x)}x.ping(vn).then(vn,()=>{Ve(ft)})});return function(ie,Ve){return G.apply(this,arguments)}}()))}),ic.apply(this,arguments)}const go={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class cu{constructor(g){this.window=g,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Os(M,g,E,x,G,ie){oe(M.config.authDomain,M,"auth-domain-config-required"),oe(M.config.apiKey,M,"invalid-api-key");const Ve={apiKey:M.config.apiKey,appName:M.name,authType:E,redirectUrl:x,v:_e.SDK_VERSION,eventId:G};if(g instanceof Gi){g.setDefaultLanguage(M.languageCode),Ve.providerId=g.providerId||"",(0,q.xb)(g.getCustomParameters())||(Ve.customParameters=JSON.stringify(g.getCustomParameters()));for(const[Jt,vn]of Object.entries(ie||{}))Ve[Jt]=vn}if(g instanceof qi){const Jt=g.getScopes().filter(vn=>""!==vn);Jt.length>0&&(Ve.scopes=Jt.join(","))}M.tenantId&&(Ve.tid=M.tenantId);const ft=Ve;for(const Jt of Object.keys(ft))void 0===ft[Jt]&&delete ft[Jt];return`${function Dp({config:M}){return M.emulator?gn(M,"emulator/auth/handler"):`https://${M.authDomain}/__/auth/handler`}(M)}?${(0,q.xO)(ft).slice(1)}`}const uu="webStorageSupport";class ts extends class zd{constructor(g){this.factorId=g}_process(g,E,x){switch(E.type){case"enroll":return this._finalizeEnroll(g,E.credential,x);case"signin":return this._finalizeSignIn(g,E.credential);default:return Je("unexpected MultiFactorSessionType")}}}{constructor(g){super("phone"),this.credential=g}static _fromCredential(g){return new ts(g)}_finalizeEnroll(g,E,x){return function Mc(M,g){return Vt(M,"POST","/v2/accounts/mfaEnrollment:finalize",ze(M,g))}(g,{idToken:E,displayName:x,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(g,E){return function ol(M,g){return Vt(M,"POST","/v2/accounts/mfaSignIn:finalize",ze(M,g))}(g,{mfaPendingCredential:E,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let sc=(()=>{class M{constructor(){}static assertion(E){return ts._fromCredential(E)}}return M.FACTOR_ID="phone",M})();var Gd="@firebase/auth";class du{constructor(g){this.auth=g,this.internalListeners=new Map}getUid(){var g;return this.assertAuthConfigured(),(null===(g=this.auth.currentUser)||void 0===g?void 0:g.uid)||null}getToken(g){var E=this;return(0,y.Z)(function*(){return E.assertAuthConfigured(),yield E.auth._initializationPromise,E.auth.currentUser?{accessToken:yield E.auth.currentUser.getIdToken(g)}:null})()}addAuthTokenListener(g){if(this.assertAuthConfigured(),this.internalListeners.has(g))return;const E=this.auth.onIdTokenChanged(x=>{var G;g((null===(G=x)||void 0===G?void 0:G.stsTokenManager.accessToken)||null)});this.internalListeners.set(g,E),this.updateProactiveRefresh()}removeAuthTokenListener(g){this.assertAuthConfigured();const E=this.internalListeners.get(g);!E||(this.internalListeners.delete(g),E(),this.updateProactiveRefresh())}assertAuthConfigured(){oe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Ma(){return window}function Ml(){return(Ml=(0,y.Z)(function*(M,g,E){var x;const{BuildInfo:G}=Ma();de(g.sessionId,"AuthEvent did not contain a session ID");const ie=yield hu(g.sessionId),Ve={};return ae()?Ve.ibi=G.packageName:Vr()?Ve.apn=G.packageName:Ne(M,"operation-not-supported-in-this-environment"),G.displayName&&(Ve.appDisplayName=G.displayName),Ve.sessionId=ie,Os(M,E,g.type,void 0,null!==(x=g.eventId)&&void 0!==x?x:void 0,Ve)})).apply(this,arguments)}function Tl(){return(Tl=(0,y.Z)(function*(M){const{BuildInfo:g}=Ma(),E={};ae()?E.iosBundleId=g.packageName:Vr()?E.androidPackageName=g.packageName:Ne(M,"operation-not-supported-in-this-environment"),yield ca(M,E)})).apply(this,arguments)}function Il(){return(Il=(0,y.Z)(function*(M,g,E){const{cordova:x}=Ma();let G=()=>{};try{yield new Promise((ie,Ve)=>{let ft=null;function Jt(){var xn;ie();const mo=null===(xn=x.plugins.browsertab)||void 0===xn?void 0:xn.close;"function"==typeof mo&&mo(),"function"==typeof E?.close&&E.close()}function vn(){ft||(ft=window.setTimeout(()=>{Ve(Me(M,"redirect-cancelled-by-user"))},2e3))}function Ln(){"visible"===document?.visibilityState&&vn()}g.addPassiveListener(Jt),document.addEventListener("resume",vn,!1),Vr()&&document.addEventListener("visibilitychange",Ln,!1),G=()=>{g.removePassiveListener(Jt),document.removeEventListener("resume",vn,!1),document.removeEventListener("visibilitychange",Ln,!1),ft&&window.clearTimeout(ft)}})}finally{G()}})).apply(this,arguments)}function hu(M){return ld.apply(this,arguments)}function ld(){return(ld=(0,y.Z)(function*(M){const g=wp(M),E=yield crypto.subtle.digest("SHA-256",g);return Array.from(new Uint8Array(E)).map(G=>G.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function wp(M){if(de(/[0-9a-zA-Z]+/.test(M),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(M);const g=new ArrayBuffer(M.length),E=new Uint8Array(g);for(let x=0;x<M.length;x++)E[x]=M.charCodeAt(x);return E}!function ys(M){(0,_e._registerComponent)(new Ue.wA("auth",(g,{options:E})=>{const x=g.getProvider("app").getImmediate(),G=g.getProvider("heartbeat"),{apiKey:ie,authDomain:Ve}=x.options;return((ft,Jt)=>{oe(ie&&!ie.includes(":"),"invalid-api-key",{appName:ft.name}),oe(!Ve?.includes(":"),"argument-error",{appName:ft.name});const vn={apiKey:ie,authDomain:Ve,clientPlatform:M,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Hr(M)},Ln=new pn(ft,Jt,vn);return function At(M,g){const E=g?.persistence||[],x=(Array.isArray(E)?E:[E]).map(Ze);g?.errorMap&&M._updateErrorMap(g.errorMap),M._initializeWithPersistence(x,g?.popupRedirectResolver)}(Ln,E),Ln})(x,G)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((g,E,x)=>{g.getProvider("auth-internal").initialize()})),(0,_e._registerComponent)(new Ue.wA("auth-internal",g=>{const E=pr(g.getProvider("auth").getImmediate());return new du(E)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,_e.registerVersion)(Gd,"0.20.6",function cl(M){switch(M){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(M)),(0,_e.registerVersion)(Gd,"0.20.6","esm2017")}("Browser");class cd extends js{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(g=>{this.resolveInialized=g})}addPassiveListener(g){this.passiveListeners.add(g)}removePassiveListener(g){this.passiveListeners.delete(g)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(g){return this.resolveInialized(),this.passiveListeners.forEach(E=>E(g)),super.onEvent(g)}initialized(){var g=this;return(0,y.Z)(function*(){yield g.initPromise})()}}function ul(M){return hf.apply(this,arguments)}function hf(){return(hf=(0,y.Z)(function*(M){const g=yield Lc()._get(ac(M));return g&&(yield Lc()._remove(ac(M))),g})).apply(this,arguments)}function pu(){const M=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let E=0;E<20;E++){const x=Math.floor(Math.random()*g.length);M.push(g.charAt(x))}return M.join("")}function Lc(){return Ze(Is)}function ac(M){return Br("authEvent",M.config.apiKey,M.name)}function vi(M){if(!M?.includes("?"))return{};const[g,...E]=M.split("?");return(0,q.zd)(E.join("?"))}function Mp(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Me("no-auth-event")}}function vs(){var M;return(null===(M=self?.location)||void 0===M?void 0:M.protocol)||null}function hd(M=(0,q.z$)()){return!("file:"!==vs()&&"ionic:"!==vs()&&"capacitor:"!==vs()||!M.toLowerCase().match(/iphone|ipad|ipod|android/))}function uo(){try{const M=self.localStorage,g=Fa();if(M)return M.setItem(g,"1"),M.removeItem(g),!function V_(M=(0,q.z$)()){return function Fc(){return(0,q.w1)()&&11===document?.documentMode}()||function th(M=(0,q.z$)()){return/Edge\/\d+/.test(M)}(M)}()||(0,q.hl)()}catch{return vr()&&(0,q.hl)()}return!1}function vr(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function _u(){return(function eh(){return"http:"===vs()||"https:"===vs()}()||(0,q.ru)()||hd())&&!function ff(){return(0,q.b$)()||(0,q.UG)()}()&&uo()&&!vr()}function nh(){return hd()&&typeof document<"u"}function rh(){return(rh=(0,y.Z)(function*(){return!!nh()&&new Promise(M=>{const g=setTimeout(()=>{M(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(g),M(!0)})})})).apply(this,arguments)}const Rs={LOCAL:"local",NONE:"none",SESSION:"session"},ja=oe,Bc="persistence";function Uc(M){return Ka.apply(this,arguments)}function Ka(){return(Ka=(0,y.Z)(function*(M){yield M._initializationPromise;const g=pf(),E=Br(Bc,M.config.apiKey,M.name);g&&g.setItem(E,M._getPersistence())})).apply(this,arguments)}function pf(){var M;try{return(null===(M=function Ps(){return typeof window<"u"?window:null}())||void 0===M?void 0:M.sessionStorage)||null}catch{return null}}const er=oe;class lc{constructor(){this.browserResolver=Ze(class kc{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=As,this._completeRedirectFn=Pn,this._overrideRedirectResult=hi}_openPopup(g,E,x,G){var ie=this;return(0,y.Z)(function*(){var Ve;de(null===(Ve=ie.eventManagers[g._key()])||void 0===Ve?void 0:Ve.manager,"_initialize() not called before _openPopup()");const ft=Os(g,E,x,Ut(),G);return function $d(M,g,E,x=500,G=600){const ie=Math.max((window.screen.availHeight-G)/2,0).toString(),Ve=Math.max((window.screen.availWidth-x)/2,0).toString();let ft="";const Jt=Object.assign(Object.assign({},go),{width:x.toString(),height:G.toString(),top:ie,left:Ve}),vn=(0,q.z$)().toLowerCase();E&&(ft=wi(vn)?"_blank":E),Er(vn)&&(g=g||"http://localhost",Jt.scrollbars="yes");const Ln=Object.entries(Jt).reduce((mo,[ha,Wc])=>`${mo}${ha}=${Wc},`,"");if(function bt(M=(0,q.z$)()){var g;return ae(M)&&!(null===(g=window.navigator)||void 0===g||!g.standalone)}(vn)&&"_self"!==ft)return function Rc(M,g){const E=document.createElement("a");E.href=M,E.target=g;const x=document.createEvent("MouseEvent");x.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),E.dispatchEvent(x)}(g||"",ft),new cu(null);const xn=window.open(g||"",ft,Ln);oe(xn,M,"popup-blocked");try{xn.focus()}catch{}return new cu(xn)}(g,ft,Fa())})()}_openRedirect(g,E,x,G){var ie=this;return(0,y.Z)(function*(){return yield ie._originValidation(g),function lo(M){ci().location.href=M}(Os(g,E,x,Ut(),G)),new Promise(()=>{})})()}_initialize(g){const E=g._key();if(this.eventManagers[E]){const{manager:G,promise:ie}=this.eventManagers[E];return G?Promise.resolve(G):(de(ie,"If manager is not set, promise should be"),ie)}const x=this.initAndGetManager(g);return this.eventManagers[E]={promise:x},x.catch(()=>{delete this.eventManagers[E]}),x}initAndGetManager(g){var E=this;return(0,y.Z)(function*(){const x=yield function Kd(M){return ic.apply(this,arguments)}(g),G=new js(g);return x.register("authEvent",ie=>(oe(ie?.authEvent,g,"invalid-auth-event"),{status:G.onEvent(ie.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),E.eventManagers[g._key()]={manager:G},E.iframes[g._key()]=x,G})()}_isIframeWebStorageSupported(g,E){this.iframes[g._key()].send(uu,{type:uu},G=>{var ie;const Ve=null===(ie=G?.[0])||void 0===ie?void 0:ie[uu];void 0!==Ve&&E(!!Ve),Ne(g,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(g){const E=g._key();return this.originValidationPromises[E]||(this.originValidationPromises[E]=function id(M){return sf.apply(this,arguments)}(g)),this.originValidationPromises[E]}get _shouldInitProactively(){return jn()||Ur()||ae()}}),this.cordovaResolver=Ze(class dd{constructor(){this._redirectPersistence=As,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Pn,this._overrideRedirectResult=hi}_initialize(g){var E=this;return(0,y.Z)(function*(){const x=g._key();let G=E.eventManagers.get(x);return G||(G=new cd(g),E.eventManagers.set(x,G),E.attachCallbackListeners(g,G)),G})()}_openPopup(g){Ne(g,"operation-not-supported-in-this-environment")}_openRedirect(g,E,x,G){var ie=this;return(0,y.Z)(function*(){!function Qd(M){var g,E,x,G,ie,Ve,ft,Jt,vn,Ln;const xn=Ma();oe("function"==typeof(null===(g=xn?.universalLinks)||void 0===g?void 0:g.subscribe),M,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),oe(typeof(null===(E=xn?.BuildInfo)||void 0===E?void 0:E.packageName)<"u",M,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),oe("function"==typeof(null===(ie=null===(G=null===(x=xn?.cordova)||void 0===x?void 0:x.plugins)||void 0===G?void 0:G.browsertab)||void 0===ie?void 0:ie.openUrl),M,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),oe("function"==typeof(null===(Jt=null===(ft=null===(Ve=xn?.cordova)||void 0===Ve?void 0:Ve.plugins)||void 0===ft?void 0:ft.browsertab)||void 0===Jt?void 0:Jt.isAvailable),M,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),oe("function"==typeof(null===(Ln=null===(vn=xn?.cordova)||void 0===vn?void 0:vn.InAppBrowser)||void 0===Ln?void 0:Ln.open),M,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(g);const Ve=yield ie._initialize(g);yield Ve.initialized(),Ve.resetRedirect(),function Nt(){aa.clear()}(),yield ie._originValidation(g);const ft=function Al(M,g,E=null){return{type:g,eventId:E,urlResponse:null,sessionId:pu(),postBody:null,tenantId:M.tenantId,error:Me(M,"no-auth-event")}}(g,x,G);yield function Xd(M,g){return Lc()._set(ac(M),g)}(g,ft);const Jt=yield function Yd(M,g,E){return Ml.apply(this,arguments)}(g,ft,E),vn=yield function df(M){const{cordova:g}=Ma();return new Promise(E=>{g.plugins.browsertab.isAvailable(x=>{let G=null;x?g.plugins.browsertab.openUrl(M):G=g.InAppBrowser.open(M,function Ge(M=(0,q.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(M)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(M)}()?"_blank":"_system","location=yes"),E(G)})})}(Jt);return function Wa(M,g,E){return Il.apply(this,arguments)}(g,Ve,vn)})()}_isIframeWebStorageSupported(g,E){throw new Error("Method not implemented.")}_originValidation(g){const E=g._key();return this.originValidationPromises[E]||(this.originValidationPromises[E]=function uf(M){return Tl.apply(this,arguments)}(g)),this.originValidationPromises[E]}attachCallbackListeners(g,E){const{universalLinks:x,handleOpenURL:G,BuildInfo:ie}=Ma(),Ve=setTimeout((0,y.Z)(function*(){yield ul(g),E.onEvent(Mp())}),500),ft=function(){var Ln=(0,y.Z)(function*(xn){clearTimeout(Ve);const mo=yield ul(g);let ha=null;mo&&xn?.url&&(ha=function fu(M,g){var E,x;const G=function U_(M){const g=vi(M),E=g.link?decodeURIComponent(g.link):void 0,x=vi(E).link,G=g.deep_link_id?decodeURIComponent(g.deep_link_id):void 0;return vi(G).link||G||x||E||M}(g);if(G.includes("/__/auth/callback")){const ie=vi(G),Ve=ie.firebaseError?function ud(M){try{return JSON.parse(M)}catch{return null}}(decodeURIComponent(ie.firebaseError)):null,ft=null===(x=null===(E=Ve?.code)||void 0===E?void 0:E.split("auth/"))||void 0===x?void 0:x[1],Jt=ft?Me(ft):null;return Jt?{type:M.type,eventId:M.eventId,tenantId:M.tenantId,error:Jt,urlResponse:null,sessionId:null,postBody:null}:{type:M.type,eventId:M.eventId,tenantId:M.tenantId,sessionId:M.sessionId,urlResponse:G,postBody:null}}return null}(mo,xn.url)),E.onEvent(ha||Mp())});return function(mo){return Ln.apply(this,arguments)}}();typeof x<"u"&&"function"==typeof x.subscribe&&x.subscribe(null,ft);const Jt=G,vn=`${ie.packageName.toLowerCase()}://`;Ma().handleOpenURL=function(){var Ln=(0,y.Z)(function*(xn){if(xn.toLowerCase().startsWith(vn)&&ft({url:xn}),"function"==typeof Jt)try{Jt(xn)}catch(mo){console.error(mo)}});return function(xn){return Ln.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=As,this._completeRedirectFn=Pn,this._overrideRedirectResult=hi}_initialize(g){var E=this;return(0,y.Z)(function*(){return yield E.selectUnderlyingResolver(),E.assertedUnderlyingResolver._initialize(g)})()}_openPopup(g,E,x,G){var ie=this;return(0,y.Z)(function*(){return yield ie.selectUnderlyingResolver(),ie.assertedUnderlyingResolver._openPopup(g,E,x,G)})()}_openRedirect(g,E,x,G){var ie=this;return(0,y.Z)(function*(){return yield ie.selectUnderlyingResolver(),ie.assertedUnderlyingResolver._openRedirect(g,E,x,G)})()}_isIframeWebStorageSupported(g,E){this.assertedUnderlyingResolver._isIframeWebStorageSupported(g,E)}_originValidation(g){return this.assertedUnderlyingResolver._originValidation(g)}get _shouldInitProactively(){return nh()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return er(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var g=this;return(0,y.Z)(function*(){if(g.underlyingResolver)return;const E=yield function Sl(){return rh.apply(this,arguments)}();g.underlyingResolver=E?g.cordovaResolver:g.browserResolver})()}}function cc(M){return M.unwrap()}function gu(M){return uc(M)}function uc(M){const{_tokenResponse:g}=M instanceof q.ZR?M.customData:M;if(!g)return null;if(!(M instanceof q.ZR)&&"temporaryProof"in g&&"phoneNumber"in g)return F.credentialFromResult(M);const E=g.providerId;if(!E||"password"===E)return null;let x;switch(E){case"google.com":x=as;break;case"facebook.com":x=Fo;break;case"github.com":x=ea;break;case"twitter.com":x=mi;break;default:const{oauthIdToken:G,oauthAccessToken:ie,oauthTokenSecret:Ve,pendingToken:ft,nonce:Jt}=g;return ie||Ve||G||ft?ft?E.startsWith("saml.")?Do._create(E,ft):et._fromParams({providerId:E,signInMethod:E,pendingToken:ft,idToken:G,accessToken:ie}):new No(E).credential({idToken:G,accessToken:ie,rawNonce:Jt}):null}return M instanceof q.ZR?x.credentialFromError(M):x.credentialFromResult(M)}function no(M,g){return g.catch(E=>{throw E instanceof q.ZR&&function Vc(M,g){var E,x;const G=null===(E=g.customData)||void 0===E?void 0:E._tokenResponse;if("auth/multi-factor-auth-required"===(null===(x=g)||void 0===x?void 0:x.code))g.resolver=new yu(M,function ai(M,g){var E;const x=(0,q.m9)(M),G=g;return oe(g.customData.operationType,x,"argument-error"),oe(null===(E=G.customData._serverResponse)||void 0===E?void 0:E.mfaPendingCredential,x,"argument-error"),el._fromError(x,G)}(M,g));else if(G){const ie=uc(g),Ve=g;ie&&(Ve.credential=ie,Ve.tenantId=G.tenantId||void 0,Ve.email=G.email||void 0,Ve.phoneNumber=G.phoneNumber||void 0)}}(M,E),E}).then(E=>{const G=E.user;return{operationType:E.operationType,credential:gu(E),additionalUserInfo:or(E),user:$a.getOrCreate(G)}})}function Ol(M,g){return mu.apply(this,arguments)}function mu(){return(mu=(0,y.Z)(function*(M,g){const E=yield g;return{verificationId:E.verificationId,confirm:x=>no(M,E.confirm(x))}})).apply(this,arguments)}class yu{constructor(g,E){this.resolver=E,this.auth=function xl(M){return M.wrapped()}(g)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(g){return no(cc(this.auth),this.resolver.resolveSignIn(g))}}class $a{constructor(g){this._delegate=g,this.multiFactor=function Cl(M){const g=(0,q.m9)(M);return El.has(g)||El.set(g,Yl._fromUser(g)),El.get(g)}(g)}static getOrCreate(g){return $a.USER_MAP.has(g)||$a.USER_MAP.set(g,new $a(g)),$a.USER_MAP.get(g)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(g){return this._delegate.getIdTokenResult(g)}getIdToken(g){return this._delegate.getIdToken(g)}linkAndRetrieveDataWithCredential(g){return this.linkWithCredential(g)}linkWithCredential(g){var E=this;return(0,y.Z)(function*(){return no(E.auth,Oa(E._delegate,g))})()}linkWithPhoneNumber(g,E){var x=this;return(0,y.Z)(function*(){return Ol(x.auth,function So(M,g,E){return co.apply(this,arguments)}(x._delegate,g,E))})()}linkWithPopup(g){var E=this;return(0,y.Z)(function*(){return no(E.auth,function Fr(M,g,E){return sa.apply(this,arguments)}(E._delegate,g,lc))})()}linkWithRedirect(g){var E=this;return(0,y.Z)(function*(){return yield Uc(pr(E.auth)),function Ye(M,g,E){return function ct(M,g,E){return Lt.apply(this,arguments)}(M,g,E)}(E._delegate,g,lc)})()}reauthenticateAndRetrieveDataWithCredential(g){return this.reauthenticateWithCredential(g)}reauthenticateWithCredential(g){var E=this;return(0,y.Z)(function*(){return no(E.auth,ws(E._delegate,g))})()}reauthenticateWithPhoneNumber(g,E){return Ol(this.auth,function nc(M,g,E){return Ko.apply(this,arguments)}(this._delegate,g,E))}reauthenticateWithPopup(g){return no(this.auth,function $o(M,g,E){return oa.apply(this,arguments)}(this._delegate,g,lc))}reauthenticateWithRedirect(g){var E=this;return(0,y.Z)(function*(){return yield Uc(pr(E.auth)),function j(M,g,E){return function X(M,g,E){return pe.apply(this,arguments)}(M,g,E)}(E._delegate,g,lc)})()}sendEmailVerification(g){return function ya(M,g){return Kr.apply(this,arguments)}(this._delegate,g)}unlink(g){var E=this;return(0,y.Z)(function*(){return yield function Ci(M,g){return so.apply(this,arguments)}(E._delegate,g),E})()}updateEmail(g){return function N(M,g){return V((0,q.m9)(M),g,null)}(this._delegate,g)}updatePassword(g){return function Y(M,g){return V((0,q.m9)(M),null,g)}(this._delegate,g)}updatePhoneNumber(g){return function O(M,g){return I.apply(this,arguments)}(this._delegate,g)}updateProfile(g){return function ka(M,g){return Ja.apply(this,arguments)}(this._delegate,g)}verifyBeforeUpdateEmail(g,E){return function va(M,g,E){return Ms.apply(this,arguments)}(this._delegate,g,E)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}$a.USER_MAP=new WeakMap;const Za=oe;let Pl=(()=>{class M{constructor(E,x){if(this.app=E,x.isInitialized())return this._delegate=x.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:G}=E.options;Za(G,"invalid-api-key",{appName:E.name}),Za(G,"invalid-api-key",{appName:E.name});const ie=typeof window<"u"?lc:void 0;this._delegate=x.initialize({options:{persistence:Hc(G,E.name),popupRedirectResolver:ie}}),this._delegate._updateErrorMap(tt),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?$a.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(E){this._delegate.languageCode=E}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(E){this._delegate.tenantId=E}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(E,x){!function Es(M,g,E){const x=pr(M);oe(x._canInitEmulator,x,"emulator-config-failed"),oe(/^https?:\/\//.test(g),x,"invalid-emulator-scheme");const G=!!E?.disableWarnings,ie=Bi(g),{host:Ve,port:ft}=function Qr(M){const g=Bi(M),E=/(\/\/)?([^?#/]+)/.exec(M.substr(g.length));if(!E)return{host:"",port:null};const x=E[2].split("@").pop()||"",G=/^(\[[^\]]+\])(:|$)/.exec(x);if(G){const ie=G[1];return{host:ie,port:Pi(x.substr(ie.length+1))}}{const[ie,Ve]=x.split(":");return{host:ie,port:Pi(Ve)}}}(g);x.config.emulator={url:`${ie}//${Ve}${null===ft?"":`:${ft}`}/`},x.settings.appVerificationDisabledForTesting=!0,x.emulatorConfig=Object.freeze({host:Ve,port:ft,protocol:ie.replace(":",""),options:Object.freeze({disableWarnings:G})}),G||function vo(){function M(){const g=document.createElement("p"),E=g.style;g.innerText="Running in emulator mode. Do not use with production credentials.",E.position="fixed",E.width="100%",E.backgroundColor="#ffffff",E.border=".1em solid #000000",E.color="#b50000",E.bottom="0px",E.left="0px",E.margin="0px",E.zIndex="10000",E.textAlign="center",g.classList.add("firebase-emulator-warning"),document.body.appendChild(g)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",M):M())}()}(this._delegate,E,x)}applyActionCode(E){return function U(M,g){return re.apply(this,arguments)}(this._delegate,E)}checkActionCode(E){return pt(this._delegate,E)}confirmPasswordReset(E,x){return function $(M,g,E){return H.apply(this,arguments)}(this._delegate,E,x)}createUserWithEmailAndPassword(E,x){var G=this;return(0,y.Z)(function*(){return no(G._delegate,function ki(M,g,E){return Pr.apply(this,arguments)}(G._delegate,E,x))})()}fetchProvidersForEmail(E){return this.fetchSignInMethodsForEmail(E)}fetchSignInMethodsForEmail(E){return function cs(M,g){return us.apply(this,arguments)}(this._delegate,E)}isSignInWithEmailLink(E){return function Wi(M,g){return"EMAIL_SIGNIN"===Eo.parseLink(g)?.operation}(0,E)}getRedirectResult(){var E=this;return(0,y.Z)(function*(){Za(_u(),E._delegate,"operation-not-supported-in-this-environment");const x=yield function Xt(M,g){return En.apply(this,arguments)}(E._delegate,lc);return x?no(E._delegate,Promise.resolve(x)):{credential:null,user:null}})()}addFrameworkForLogging(E){!function Si(M,g){pr(M)._logFramework(g)}(this._delegate,E)}onAuthStateChanged(E,x,G){const{next:ie,error:Ve,complete:ft}=_f(E,x,G);return this._delegate.onAuthStateChanged(ie,Ve,ft)}onIdTokenChanged(E,x,G){const{next:ie,error:Ve,complete:ft}=_f(E,x,G);return this._delegate.onIdTokenChanged(ie,Ve,ft)}sendSignInLinkToEmail(E,x){return function Ya(M,g,E){return Uo.apply(this,arguments)}(this._delegate,E,x)}sendPasswordResetEmail(E,x){return function pi(M,g,E){return Ir.apply(this,arguments)}(this._delegate,E,x||void 0)}setPersistence(E){var x=this;return(0,y.Z)(function*(){let G;switch(function dl(M,g){ja(Object.values(Rs).includes(g),M,"invalid-persistence-type"),(0,q.b$)()?ja(g!==Rs.SESSION,M,"unsupported-persistence-type"):(0,q.UG)()?ja(g===Rs.NONE,M,"unsupported-persistence-type"):vr()?ja(g===Rs.NONE||g===Rs.LOCAL&&(0,q.hl)(),M,"unsupported-persistence-type"):ja(g===Rs.NONE||uo(),M,"unsupported-persistence-type")}(x._delegate,E),E){case Rs.SESSION:G=As;break;case Rs.LOCAL:G=(yield Ze(rl)._isAvailable())?rl:Is;break;case Rs.NONE:G=ar;break;default:return Ne("argument-error",{appName:x._delegate.name})}return x._delegate.setPersistence(G)})()}signInAndRetrieveDataWithCredential(E){return this.signInWithCredential(E)}signInAnonymously(){return no(this._delegate,function Fs(M){return zr.apply(this,arguments)}(this._delegate))}signInWithCredential(E){return no(this._delegate,Dr(this._delegate,E))}signInWithCustomToken(E){return no(this._delegate,function Qi(M,g){return Xi.apply(this,arguments)}(this._delegate,E))}signInWithEmailAndPassword(E,x){return no(this._delegate,function Jo(M,g,E){return Dr((0,q.m9)(M),Co.credential(g,E))}(this._delegate,E,x))}signInWithEmailLink(E,x){return no(this._delegate,function Qa(M,g,E){return ls.apply(this,arguments)}(this._delegate,E,x))}signInWithPhoneNumber(E,x){return Ol(this._delegate,function Ic(M,g,E){return _o.apply(this,arguments)}(this._delegate,E,x))}signInWithPopup(E){var x=this;return(0,y.Z)(function*(){return Za(_u(),x._delegate,"operation-not-supported-in-this-environment"),no(x._delegate,function Jn(M,g,E){return ji.apply(this,arguments)}(x._delegate,E,lc))})()}signInWithRedirect(E){var x=this;return(0,y.Z)(function*(){return Za(_u(),x._delegate,"operation-not-supported-in-this-environment"),yield Uc(x._delegate),function Ni(M,g,E){return function rc(M,g,E){return B.apply(this,arguments)}(M,g,E)}(x._delegate,E,lc)})()}updateCurrentUser(E){return this._delegate.updateCurrentUser(E)}verifyPasswordResetCode(E){return function ei(M,g){return po.apply(this,arguments)}(this._delegate,E)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return M.Persistence=Rs,M})();function _f(M,g,E){let x=M;"function"!=typeof M&&({next:x,error:g,complete:E}=M);const G=x;return{next:Ve=>G(Ve&&$a.getOrCreate(Ve)),error:g,complete:E}}function Hc(M,g){const E=function ih(M,g){const E=pf();if(!E)return[];const x=Br(Bc,M,g);switch(E.getItem(x)){case Rs.NONE:return[ar];case Rs.LOCAL:return[rl,As];case Rs.SESSION:return[As];default:return[]}}(M,g);if(typeof self<"u"&&!E.includes(rl)&&E.push(rl),typeof window<"u")for(const x of[Is,As])E.includes(x)||E.push(x);return E.includes(ar)||E.push(ar),E}class vu{constructor(){this.providerId="phone",this._delegate=new F(cc(h.Z.auth()))}static credential(g,E){return F.credential(g,E)}verifyPhoneNumber(g,E){return this._delegate.verifyPhoneNumber(g,E)}unwrap(){return this._delegate}}vu.PHONE_SIGN_IN_METHOD=F.PHONE_SIGN_IN_METHOD,vu.PROVIDER_ID=F.PROVIDER_ID;const dc=oe;class Fi{constructor(g,E,x=h.Z.app()){var G;dc(null===(G=x.options)||void 0===G?void 0:G.apiKey,"invalid-api-key",{appName:x.name}),this._delegate=new to(g,E,x.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function gf(M){M.INTERNAL.registerComponent(new Ue.wA("auth-compat",g=>{const E=g.getProvider("app-compat").getImmediate(),x=g.getProvider("auth");return new Pl(E,x)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Co,FacebookAuthProvider:Fo,GithubAuthProvider:ea,GoogleAuthProvider:as,OAuthProvider:No,SAMLAuthProvider:Hi,PhoneAuthProvider:vu,PhoneMultiFactorGenerator:sc,RecaptchaVerifier:Fi,TwitterAuthProvider:mi,Auth:Pl,AuthCredential:gi,Error:q.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),M.registerVersion("@firebase/auth-compat","0.2.19")}(h.Z)},1135:(ut,Be,k)=>{k.d(Be,{X:()=>h});var y=k(7579);class h extends y.x{constructor(_e){super(),this._value=_e}get value(){return this.getValue()}_subscribe(_e){const Ae=super._subscribe(_e);return!Ae.closed&&_e.next(this._value),Ae}getValue(){const{hasError:_e,thrownError:Ae,_value:Le}=this;if(_e)throw Ae;return this._throwIfClosed(),Le}next(_e){super.next(this._value=_e)}}},9751:(ut,Be,k)=>{k.d(Be,{y:()=>Fe});var y=k(930),h=k(727),q=k(8822),_e=k(9635),Ae=k(2416),Le=k(576),Ue=k(2806);let Fe=(()=>{class Pe{constructor(st){st&&(this._subscribe=st)}lift(st){const tt=new Pe;return tt.source=this,tt.operator=st,tt}subscribe(st,tt,Bt){const rt=function ge(Pe){return Pe&&Pe instanceof y.Lv||function he(Pe){return Pe&&(0,Le.m)(Pe.next)&&(0,Le.m)(Pe.error)&&(0,Le.m)(Pe.complete)}(Pe)&&(0,h.Nn)(Pe)}(st)?st:new y.Hp(st,tt,Bt);return(0,Ue.x)(()=>{const{operator:We,source:Re}=this;rt.add(We?We.call(rt,Re):Re?this._subscribe(rt):this._trySubscribe(rt))}),rt}_trySubscribe(st){try{return this._subscribe(st)}catch(tt){st.error(tt)}}forEach(st,tt){return new(tt=Qe(tt))((Bt,rt)=>{const We=new y.Hp({next:Re=>{try{st(Re)}catch(Wt){rt(Wt),We.unsubscribe()}},error:rt,complete:Bt});this.subscribe(We)})}_subscribe(st){var tt;return null===(tt=this.source)||void 0===tt?void 0:tt.subscribe(st)}[q.L](){return this}pipe(...st){return(0,_e.U)(st)(this)}toPromise(st){return new(st=Qe(st))((tt,Bt)=>{let rt;this.subscribe(We=>rt=We,We=>Bt(We),()=>tt(rt))})}}return Pe.create=Et=>new Pe(Et),Pe})();function Qe(Pe){var Et;return null!==(Et=Pe??Ae.v.Promise)&&void 0!==Et?Et:Promise}},7579:(ut,Be,k)=>{k.d(Be,{x:()=>Ue});var y=k(9751),h=k(727);const _e=(0,k(3888).d)(Qe=>function(){Qe(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ae=k(8737),Le=k(2806);let Ue=(()=>{class Qe extends y.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(ge){const Pe=new Fe(this,this);return Pe.operator=ge,Pe}_throwIfClosed(){if(this.closed)throw new _e}next(ge){(0,Le.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Pe of this.currentObservers)Pe.next(ge)}})}error(ge){(0,Le.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=ge;const{observers:Pe}=this;for(;Pe.length;)Pe.shift().error(ge)}})}complete(){(0,Le.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:ge}=this;for(;ge.length;)ge.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var ge;return(null===(ge=this.observers)||void 0===ge?void 0:ge.length)>0}_trySubscribe(ge){return this._throwIfClosed(),super._trySubscribe(ge)}_subscribe(ge){return this._throwIfClosed(),this._checkFinalizedStatuses(ge),this._innerSubscribe(ge)}_innerSubscribe(ge){const{hasError:Pe,isStopped:Et,observers:st}=this;return Pe||Et?h.Lc:(this.currentObservers=null,st.push(ge),new h.w0(()=>{this.currentObservers=null,(0,Ae.P)(st,ge)}))}_checkFinalizedStatuses(ge){const{hasError:Pe,thrownError:Et,isStopped:st}=this;Pe?ge.error(Et):st&&ge.complete()}asObservable(){const ge=new y.y;return ge.source=this,ge}}return Qe.create=(he,ge)=>new Fe(he,ge),Qe})();class Fe extends Ue{constructor(he,ge){super(),this.destination=he,this.source=ge}next(he){var ge,Pe;null===(Pe=null===(ge=this.destination)||void 0===ge?void 0:ge.next)||void 0===Pe||Pe.call(ge,he)}error(he){var ge,Pe;null===(Pe=null===(ge=this.destination)||void 0===ge?void 0:ge.error)||void 0===Pe||Pe.call(ge,he)}complete(){var he,ge;null===(ge=null===(he=this.destination)||void 0===he?void 0:he.complete)||void 0===ge||ge.call(he)}_subscribe(he){var ge,Pe;return null!==(Pe=null===(ge=this.source)||void 0===ge?void 0:ge.subscribe(he))&&void 0!==Pe?Pe:h.Lc}}},930:(ut,Be,k)=>{k.d(Be,{Hp:()=>Bt,Lv:()=>Pe});var y=k(576),h=k(727),q=k(2416),_e=k(7849),Ae=k(5032);const Le=Qe("C",void 0,void 0);function Qe(Ne,Me,$e){return{kind:Ne,value:Me,error:$e}}var he=k(3410),ge=k(2806);class Pe extends h.w0{constructor(Me){super(),this.isStopped=!1,Me?(this.destination=Me,(0,h.Nn)(Me)&&Me.add(this)):this.destination=Wt}static create(Me,$e,Mt){return new Bt(Me,$e,Mt)}next(Me){this.isStopped?Re(function Fe(Ne){return Qe("N",Ne,void 0)}(Me),this):this._next(Me)}error(Me){this.isStopped?Re(function Ue(Ne){return Qe("E",void 0,Ne)}(Me),this):(this.isStopped=!0,this._error(Me))}complete(){this.isStopped?Re(Le,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Me){this.destination.next(Me)}_error(Me){try{this.destination.error(Me)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Et=Function.prototype.bind;function st(Ne,Me){return Et.call(Ne,Me)}class tt{constructor(Me){this.partialObserver=Me}next(Me){const{partialObserver:$e}=this;if($e.next)try{$e.next(Me)}catch(Mt){rt(Mt)}}error(Me){const{partialObserver:$e}=this;if($e.error)try{$e.error(Me)}catch(Mt){rt(Mt)}else rt(Me)}complete(){const{partialObserver:Me}=this;if(Me.complete)try{Me.complete()}catch($e){rt($e)}}}class Bt extends Pe{constructor(Me,$e,Mt){let It;if(super(),(0,y.m)(Me)||!Me)It={next:Me??void 0,error:$e??void 0,complete:Mt??void 0};else{let oe;this&&q.v.useDeprecatedNextContext?(oe=Object.create(Me),oe.unsubscribe=()=>this.unsubscribe(),It={next:Me.next&&st(Me.next,oe),error:Me.error&&st(Me.error,oe),complete:Me.complete&&st(Me.complete,oe)}):It=Me}this.destination=new tt(It)}}function rt(Ne){q.v.useDeprecatedSynchronousErrorHandling?(0,ge.O)(Ne):(0,_e.h)(Ne)}function Re(Ne,Me){const{onStoppedNotification:$e}=q.v;$e&&he.z.setTimeout(()=>$e(Ne,Me))}const Wt={closed:!0,next:Ae.Z,error:function We(Ne){throw Ne},complete:Ae.Z}},727:(ut,Be,k)=>{k.d(Be,{Lc:()=>Le,w0:()=>Ae,Nn:()=>Ue});var y=k(576);const q=(0,k(3888).d)(Qe=>function(ge){Qe(this),this.message=ge?`${ge.length} errors occurred during unsubscription:\n${ge.map((Pe,Et)=>`${Et+1}) ${Pe.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ge});var _e=k(8737);class Ae{constructor(he){this.initialTeardown=he,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let he;if(!this.closed){this.closed=!0;const{_parentage:ge}=this;if(ge)if(this._parentage=null,Array.isArray(ge))for(const st of ge)st.remove(this);else ge.remove(this);const{initialTeardown:Pe}=this;if((0,y.m)(Pe))try{Pe()}catch(st){he=st instanceof q?st.errors:[st]}const{_finalizers:Et}=this;if(Et){this._finalizers=null;for(const st of Et)try{Fe(st)}catch(tt){he=he??[],tt instanceof q?he=[...he,...tt.errors]:he.push(tt)}}if(he)throw new q(he)}}add(he){var ge;if(he&&he!==this)if(this.closed)Fe(he);else{if(he instanceof Ae){if(he.closed||he._hasParent(this))return;he._addParent(this)}(this._finalizers=null!==(ge=this._finalizers)&&void 0!==ge?ge:[]).push(he)}}_hasParent(he){const{_parentage:ge}=this;return ge===he||Array.isArray(ge)&&ge.includes(he)}_addParent(he){const{_parentage:ge}=this;this._parentage=Array.isArray(ge)?(ge.push(he),ge):ge?[ge,he]:he}_removeParent(he){const{_parentage:ge}=this;ge===he?this._parentage=null:Array.isArray(ge)&&(0,_e.P)(ge,he)}remove(he){const{_finalizers:ge}=this;ge&&(0,_e.P)(ge,he),he instanceof Ae&&he._removeParent(this)}}Ae.EMPTY=(()=>{const Qe=new Ae;return Qe.closed=!0,Qe})();const Le=Ae.EMPTY;function Ue(Qe){return Qe instanceof Ae||Qe&&"closed"in Qe&&(0,y.m)(Qe.remove)&&(0,y.m)(Qe.add)&&(0,y.m)(Qe.unsubscribe)}function Fe(Qe){(0,y.m)(Qe)?Qe():Qe.unsubscribe()}},2416:(ut,Be,k)=>{k.d(Be,{v:()=>y});const y={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},9841:(ut,Be,k)=>{k.d(Be,{a:()=>he});var y=k(9751),h=k(4742),q=k(8996),_e=k(4671),Ae=k(3268),Le=k(3269),Ue=k(1810),Fe=k(5403),Qe=k(9672);function he(...Et){const st=(0,Le.yG)(Et),tt=(0,Le.jO)(Et),{args:Bt,keys:rt}=(0,h.D)(Et);if(0===Bt.length)return(0,q.D)([],st);const We=new y.y(function ge(Et,st,tt=_e.y){return Bt=>{Pe(st,()=>{const{length:rt}=Et,We=new Array(rt);let Re=rt,Wt=rt;for(let Ne=0;Ne<rt;Ne++)Pe(st,()=>{const Me=(0,q.D)(Et[Ne],st);let $e=!1;Me.subscribe((0,Fe.x)(Bt,Mt=>{We[Ne]=Mt,$e||($e=!0,Wt--),Wt||Bt.next(tt(We.slice()))},()=>{--Re||Bt.complete()}))},Bt)},Bt)}}(Bt,st,rt?Re=>(0,Ue.n)(rt,Re):_e.y));return tt?We.pipe((0,Ae.Z)(tt)):We}function Pe(Et,st,tt){Et?(0,Qe.f)(tt,Et,st):st()}},7272:(ut,Be,k)=>{k.d(Be,{z:()=>Ae});var y=k(8189),q=k(3269),_e=k(8996);function Ae(...Le){return function h(){return(0,y.J)(1)}()((0,_e.D)(Le,(0,q.yG)(Le)))}},515:(ut,Be,k)=>{k.d(Be,{E:()=>h});const h=new(k(9751).y)(Ae=>Ae.complete())},4128:(ut,Be,k)=>{k.d(Be,{D:()=>Fe});var y=k(9751),h=k(4742),q=k(8421),_e=k(3269),Ae=k(5403),Le=k(3268),Ue=k(1810);function Fe(...Qe){const he=(0,_e.jO)(Qe),{args:ge,keys:Pe}=(0,h.D)(Qe),Et=new y.y(st=>{const{length:tt}=ge;if(!tt)return void st.complete();const Bt=new Array(tt);let rt=tt,We=tt;for(let Re=0;Re<tt;Re++){let Wt=!1;(0,q.Xf)(ge[Re]).subscribe((0,Ae.x)(st,Ne=>{Wt||(Wt=!0,We--),Bt[Re]=Ne},()=>rt--,void 0,()=>{(!rt||!Wt)&&(We||st.next(Pe?(0,Ue.n)(Pe,Bt):Bt),st.complete())}))}});return he?Et.pipe((0,Le.Z)(he)):Et}},8996:(ut,Be,k)=>{k.d(Be,{D:()=>Me});var y=k(8421),h=k(5363),q=k(9468),Le=k(9751),Fe=k(2202),Qe=k(576),he=k(9672);function Pe($e,Mt){if(!$e)throw new Error("Iterable cannot be null");return new Le.y(It=>{(0,he.f)(It,Mt,()=>{const oe=$e[Symbol.asyncIterator]();(0,he.f)(It,Mt,()=>{oe.next().then(Je=>{Je.done?It.complete():It.next(Je.value)})},0,!0)})})}var Et=k(3670),st=k(8239),tt=k(1144),Bt=k(6495),rt=k(2206),We=k(4532),Re=k(3260);function Me($e,Mt){return Mt?function Ne($e,Mt){if(null!=$e){if((0,Et.c)($e))return function _e($e,Mt){return(0,y.Xf)($e).pipe((0,q.R)(Mt),(0,h.Q)(Mt))}($e,Mt);if((0,tt.z)($e))return function Ue($e,Mt){return new Le.y(It=>{let oe=0;return Mt.schedule(function(){oe===$e.length?It.complete():(It.next($e[oe++]),It.closed||this.schedule())})})}($e,Mt);if((0,st.t)($e))return function Ae($e,Mt){return(0,y.Xf)($e).pipe((0,q.R)(Mt),(0,h.Q)(Mt))}($e,Mt);if((0,rt.D)($e))return Pe($e,Mt);if((0,Bt.T)($e))return function ge($e,Mt){return new Le.y(It=>{let oe;return(0,he.f)(It,Mt,()=>{oe=$e[Fe.h](),(0,he.f)(It,Mt,()=>{let Je,de;try{({value:Je,done:de}=oe.next())}catch(fe){return void It.error(fe)}de?It.complete():It.next(Je)},0,!0)}),()=>(0,Qe.m)(oe?.return)&&oe.return()})}($e,Mt);if((0,Re.L)($e))return function Wt($e,Mt){return Pe((0,Re.Q)($e),Mt)}($e,Mt)}throw(0,We.z)($e)}($e,Mt):(0,y.Xf)($e)}},8421:(ut,Be,k)=>{k.d(Be,{Xf:()=>Et});var y=k(655),h=k(1144),q=k(8239),_e=k(9751),Ae=k(3670),Le=k(2206),Ue=k(4532),Fe=k(6495),Qe=k(3260),he=k(576),ge=k(7849),Pe=k(8822);function Et(Ne){if(Ne instanceof _e.y)return Ne;if(null!=Ne){if((0,Ae.c)(Ne))return function st(Ne){return new _e.y(Me=>{const $e=Ne[Pe.L]();if((0,he.m)($e.subscribe))return $e.subscribe(Me);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ne);if((0,h.z)(Ne))return function tt(Ne){return new _e.y(Me=>{for(let $e=0;$e<Ne.length&&!Me.closed;$e++)Me.next(Ne[$e]);Me.complete()})}(Ne);if((0,q.t)(Ne))return function Bt(Ne){return new _e.y(Me=>{Ne.then($e=>{Me.closed||(Me.next($e),Me.complete())},$e=>Me.error($e)).then(null,ge.h)})}(Ne);if((0,Le.D)(Ne))return We(Ne);if((0,Fe.T)(Ne))return function rt(Ne){return new _e.y(Me=>{for(const $e of Ne)if(Me.next($e),Me.closed)return;Me.complete()})}(Ne);if((0,Qe.L)(Ne))return function Re(Ne){return We((0,Qe.Q)(Ne))}(Ne)}throw(0,Ue.z)(Ne)}function We(Ne){return new _e.y(Me=>{(function Wt(Ne,Me){var $e,Mt,It,oe;return(0,y.mG)(this,void 0,void 0,function*(){try{for($e=(0,y.KL)(Ne);!(Mt=yield $e.next()).done;)if(Me.next(Mt.value),Me.closed)return}catch(Je){It={error:Je}}finally{try{Mt&&!Mt.done&&(oe=$e.return)&&(yield oe.call($e))}finally{if(It)throw It.error}}Me.complete()})})(Ne,Me).catch($e=>Me.error($e))})}},6451:(ut,Be,k)=>{k.d(Be,{T:()=>Le});var y=k(8189),h=k(8421),q=k(515),_e=k(3269),Ae=k(8996);function Le(...Ue){const Fe=(0,_e.yG)(Ue),Qe=(0,_e._6)(Ue,1/0),he=Ue;return he.length?1===he.length?(0,h.Xf)(he[0]):(0,y.J)(Qe)((0,Ae.D)(he,Fe)):q.E}},9646:(ut,Be,k)=>{k.d(Be,{of:()=>q});var y=k(3269),h=k(8996);function q(..._e){const Ae=(0,y.yG)(_e);return(0,h.D)(_e,Ae)}},2843:(ut,Be,k)=>{k.d(Be,{_:()=>q});var y=k(9751),h=k(576);function q(_e,Ae){const Le=(0,h.m)(_e)?_e:()=>_e,Ue=Fe=>Fe.error(Le());return new y.y(Ae?Fe=>Ae.schedule(Ue,0,Fe):Ue)}},5403:(ut,Be,k)=>{k.d(Be,{x:()=>h});var y=k(930);function h(_e,Ae,Le,Ue,Fe){return new q(_e,Ae,Le,Ue,Fe)}class q extends y.Lv{constructor(Ae,Le,Ue,Fe,Qe,he){super(Ae),this.onFinalize=Qe,this.shouldUnsubscribe=he,this._next=Le?function(ge){try{Le(ge)}catch(Pe){Ae.error(Pe)}}:super._next,this._error=Fe?function(ge){try{Fe(ge)}catch(Pe){Ae.error(Pe)}finally{this.unsubscribe()}}:super._error,this._complete=Ue?function(){try{Ue()}catch(ge){Ae.error(ge)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var Ae;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Le}=this;super.unsubscribe(),!Le&&(null===(Ae=this.onFinalize)||void 0===Ae||Ae.call(this))}}}},262:(ut,Be,k)=>{k.d(Be,{K:()=>_e});var y=k(8421),h=k(5403),q=k(4482);function _e(Ae){return(0,q.e)((Le,Ue)=>{let he,Fe=null,Qe=!1;Fe=Le.subscribe((0,h.x)(Ue,void 0,void 0,ge=>{he=(0,y.Xf)(Ae(ge,_e(Ae)(Le))),Fe?(Fe.unsubscribe(),Fe=null,he.subscribe(Ue)):Qe=!0})),Qe&&(Fe.unsubscribe(),Fe=null,he.subscribe(Ue))})}},4351:(ut,Be,k)=>{k.d(Be,{b:()=>q});var y=k(5577),h=k(576);function q(_e,Ae){return(0,h.m)(Ae)?(0,y.z)(_e,Ae,1):(0,y.z)(_e,1)}},6590:(ut,Be,k)=>{k.d(Be,{d:()=>q});var y=k(4482),h=k(5403);function q(_e){return(0,y.e)((Ae,Le)=>{let Ue=!1;Ae.subscribe((0,h.x)(Le,Fe=>{Ue=!0,Le.next(Fe)},()=>{Ue||Le.next(_e),Le.complete()}))})}},1884:(ut,Be,k)=>{k.d(Be,{x:()=>_e});var y=k(4671),h=k(4482),q=k(5403);function _e(Le,Ue=y.y){return Le=Le??Ae,(0,h.e)((Fe,Qe)=>{let he,ge=!0;Fe.subscribe((0,q.x)(Qe,Pe=>{const Et=Ue(Pe);(ge||!Le(he,Et))&&(ge=!1,he=Et,Qe.next(Pe))}))})}function Ae(Le,Ue){return Le===Ue}},9300:(ut,Be,k)=>{k.d(Be,{h:()=>q});var y=k(4482),h=k(5403);function q(_e,Ae){return(0,y.e)((Le,Ue)=>{let Fe=0;Le.subscribe((0,h.x)(Ue,Qe=>_e.call(Ae,Qe,Fe++)&&Ue.next(Qe)))})}},8746:(ut,Be,k)=>{k.d(Be,{x:()=>h});var y=k(4482);function h(q){return(0,y.e)((_e,Ae)=>{try{_e.subscribe(Ae)}finally{Ae.add(q)}})}},590:(ut,Be,k)=>{k.d(Be,{P:()=>Ue});var y=k(6805),h=k(9300),q=k(5698),_e=k(6590),Ae=k(8068),Le=k(4671);function Ue(Fe,Qe){const he=arguments.length>=2;return ge=>ge.pipe(Fe?(0,h.h)((Pe,Et)=>Fe(Pe,Et,ge)):Le.y,(0,q.q)(1),he?(0,_e.d)(Qe):(0,Ae.T)(()=>new y.K))}},4004:(ut,Be,k)=>{k.d(Be,{U:()=>q});var y=k(4482),h=k(5403);function q(_e,Ae){return(0,y.e)((Le,Ue)=>{let Fe=0;Le.subscribe((0,h.x)(Ue,Qe=>{Ue.next(_e.call(Ae,Qe,Fe++))}))})}},9718:(ut,Be,k)=>{k.d(Be,{h:()=>h});var y=k(4004);function h(q){return(0,y.U)(()=>q)}},8189:(ut,Be,k)=>{k.d(Be,{J:()=>q});var y=k(5577),h=k(4671);function q(_e=1/0){return(0,y.z)(h.y,_e)}},5577:(ut,Be,k)=>{k.d(Be,{z:()=>Fe});var y=k(4004),h=k(8421),q=k(4482),_e=k(9672),Ae=k(5403),Ue=k(576);function Fe(Qe,he,ge=1/0){return(0,Ue.m)(he)?Fe((Pe,Et)=>(0,y.U)((st,tt)=>he(Pe,st,Et,tt))((0,h.Xf)(Qe(Pe,Et))),ge):("number"==typeof he&&(ge=he),(0,q.e)((Pe,Et)=>function Le(Qe,he,ge,Pe,Et,st,tt,Bt){const rt=[];let We=0,Re=0,Wt=!1;const Ne=()=>{Wt&&!rt.length&&!We&&he.complete()},Me=Mt=>We<Pe?$e(Mt):rt.push(Mt),$e=Mt=>{st&&he.next(Mt),We++;let It=!1;(0,h.Xf)(ge(Mt,Re++)).subscribe((0,Ae.x)(he,oe=>{Et?.(oe),st?Me(oe):he.next(oe)},()=>{It=!0},void 0,()=>{if(It)try{for(We--;rt.length&&We<Pe;){const oe=rt.shift();tt?(0,_e.f)(he,tt,()=>$e(oe)):$e(oe)}Ne()}catch(oe){he.error(oe)}}))};return Qe.subscribe((0,Ae.x)(he,Me,()=>{Wt=!0,Ne()})),()=>{Bt?.()}}(Pe,Et,Qe,ge)))}},5363:(ut,Be,k)=>{k.d(Be,{Q:()=>_e});var y=k(9672),h=k(4482),q=k(5403);function _e(Ae,Le=0){return(0,h.e)((Ue,Fe)=>{Ue.subscribe((0,q.x)(Fe,Qe=>(0,y.f)(Fe,Ae,()=>Fe.next(Qe),Le),()=>(0,y.f)(Fe,Ae,()=>Fe.complete(),Le),Qe=>(0,y.f)(Fe,Ae,()=>Fe.error(Qe),Le)))})}},5026:(ut,Be,k)=>{k.d(Be,{R:()=>_e});var y=k(4482),h=k(5403);function q(Ae,Le,Ue,Fe,Qe){return(he,ge)=>{let Pe=Ue,Et=Le,st=0;he.subscribe((0,h.x)(ge,tt=>{const Bt=st++;Et=Pe?Ae(Et,tt,Bt):(Pe=!0,tt),Fe&&ge.next(Et)},Qe&&(()=>{Pe&&ge.next(Et),ge.complete()})))}}function _e(Ae,Le){return(0,y.e)(q(Ae,Le,arguments.length>=2,!0))}},3099:(ut,Be,k)=>{k.d(Be,{B:()=>Ae});var y=k(8421),h=k(7579),q=k(930),_e=k(4482);function Ae(Ue={}){const{connector:Fe=(()=>new h.x),resetOnError:Qe=!0,resetOnComplete:he=!0,resetOnRefCountZero:ge=!0}=Ue;return Pe=>{let Et,st,tt,Bt=0,rt=!1,We=!1;const Re=()=>{st?.unsubscribe(),st=void 0},Wt=()=>{Re(),Et=tt=void 0,rt=We=!1},Ne=()=>{const Me=Et;Wt(),Me?.unsubscribe()};return(0,_e.e)((Me,$e)=>{Bt++,!We&&!rt&&Re();const Mt=tt=tt??Fe();$e.add(()=>{Bt--,0===Bt&&!We&&!rt&&(st=Le(Ne,ge))}),Mt.subscribe($e),!Et&&Bt>0&&(Et=new q.Hp({next:It=>Mt.next(It),error:It=>{We=!0,Re(),st=Le(Wt,Qe,It),Mt.error(It)},complete:()=>{rt=!0,Re(),st=Le(Wt,he),Mt.complete()}}),(0,y.Xf)(Me).subscribe(Et))})(Pe)}}function Le(Ue,Fe,...Qe){if(!0===Fe)return void Ue();if(!1===Fe)return;const he=new q.Hp({next:()=>{he.unsubscribe(),Ue()}});return Fe(...Qe).subscribe(he)}},8675:(ut,Be,k)=>{k.d(Be,{O:()=>_e});var y=k(7272),h=k(3269),q=k(4482);function _e(...Ae){const Le=(0,h.yG)(Ae);return(0,q.e)((Ue,Fe)=>{(Le?(0,y.z)(Ae,Ue,Le):(0,y.z)(Ae,Ue)).subscribe(Fe)})}},9468:(ut,Be,k)=>{k.d(Be,{R:()=>h});var y=k(4482);function h(q,_e=0){return(0,y.e)((Ae,Le)=>{Le.add(q.schedule(()=>Ae.subscribe(Le),_e))})}},3900:(ut,Be,k)=>{k.d(Be,{w:()=>_e});var y=k(8421),h=k(4482),q=k(5403);function _e(Ae,Le){return(0,h.e)((Ue,Fe)=>{let Qe=null,he=0,ge=!1;const Pe=()=>ge&&!Qe&&Fe.complete();Ue.subscribe((0,q.x)(Fe,Et=>{Qe?.unsubscribe();let st=0;const tt=he++;(0,y.Xf)(Ae(Et,tt)).subscribe(Qe=(0,q.x)(Fe,Bt=>Fe.next(Le?Le(Et,Bt,tt,st++):Bt),()=>{Qe=null,Pe()}))},()=>{ge=!0,Pe()}))})}},5698:(ut,Be,k)=>{k.d(Be,{q:()=>_e});var y=k(515),h=k(4482),q=k(5403);function _e(Ae){return Ae<=0?()=>y.E:(0,h.e)((Le,Ue)=>{let Fe=0;Le.subscribe((0,q.x)(Ue,Qe=>{++Fe<=Ae&&(Ue.next(Qe),Ae<=Fe&&Ue.complete())}))})}},8505:(ut,Be,k)=>{k.d(Be,{b:()=>Ae});var y=k(576),h=k(4482),q=k(5403),_e=k(4671);function Ae(Le,Ue,Fe){const Qe=(0,y.m)(Le)||Ue||Fe?{next:Le,error:Ue,complete:Fe}:Le;return Qe?(0,h.e)((he,ge)=>{var Pe;null===(Pe=Qe.subscribe)||void 0===Pe||Pe.call(Qe);let Et=!0;he.subscribe((0,q.x)(ge,st=>{var tt;null===(tt=Qe.next)||void 0===tt||tt.call(Qe,st),ge.next(st)},()=>{var st;Et=!1,null===(st=Qe.complete)||void 0===st||st.call(Qe),ge.complete()},st=>{var tt;Et=!1,null===(tt=Qe.error)||void 0===tt||tt.call(Qe,st),ge.error(st)},()=>{var st,tt;Et&&(null===(st=Qe.unsubscribe)||void 0===st||st.call(Qe)),null===(tt=Qe.finalize)||void 0===tt||tt.call(Qe)}))}):_e.y}},8068:(ut,Be,k)=>{k.d(Be,{T:()=>_e});var y=k(6805),h=k(4482),q=k(5403);function _e(Le=Ae){return(0,h.e)((Ue,Fe)=>{let Qe=!1;Ue.subscribe((0,q.x)(Fe,he=>{Qe=!0,Fe.next(he)},()=>Qe?Fe.complete():Fe.error(Le())))})}function Ae(){return new y.K}},4408:(ut,Be,k)=>{k.d(Be,{o:()=>Ae});var y=k(727);class h extends y.w0{constructor(Ue,Fe){super()}schedule(Ue,Fe=0){return this}}const q={setInterval(Le,Ue,...Fe){const{delegate:Qe}=q;return Qe?.setInterval?Qe.setInterval(Le,Ue,...Fe):setInterval(Le,Ue,...Fe)},clearInterval(Le){const{delegate:Ue}=q;return(Ue?.clearInterval||clearInterval)(Le)},delegate:void 0};var _e=k(8737);class Ae extends h{constructor(Ue,Fe){super(Ue,Fe),this.scheduler=Ue,this.work=Fe,this.pending=!1}schedule(Ue,Fe=0){if(this.closed)return this;this.state=Ue;const Qe=this.id,he=this.scheduler;return null!=Qe&&(this.id=this.recycleAsyncId(he,Qe,Fe)),this.pending=!0,this.delay=Fe,this.id=this.id||this.requestAsyncId(he,this.id,Fe),this}requestAsyncId(Ue,Fe,Qe=0){return q.setInterval(Ue.flush.bind(Ue,this),Qe)}recycleAsyncId(Ue,Fe,Qe=0){if(null!=Qe&&this.delay===Qe&&!1===this.pending)return Fe;q.clearInterval(Fe)}execute(Ue,Fe){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Qe=this._execute(Ue,Fe);if(Qe)return Qe;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Ue,Fe){let he,Qe=!1;try{this.work(Ue)}catch(ge){Qe=!0,he=ge||new Error("Scheduled action threw falsy error")}if(Qe)return this.unsubscribe(),he}unsubscribe(){if(!this.closed){const{id:Ue,scheduler:Fe}=this,{actions:Qe}=Fe;this.work=this.state=this.scheduler=null,this.pending=!1,(0,_e.P)(Qe,this),null!=Ue&&(this.id=this.recycleAsyncId(Fe,Ue,null)),this.delay=null,super.unsubscribe()}}}},7565:(ut,Be,k)=>{k.d(Be,{v:()=>q});var y=k(6063);class h{constructor(Ae,Le=h.now){this.schedulerActionCtor=Ae,this.now=Le}schedule(Ae,Le=0,Ue){return new this.schedulerActionCtor(this,Ae).schedule(Ue,Le)}}h.now=y.l.now;class q extends h{constructor(Ae,Le=h.now){super(Ae,Le),this.actions=[],this._active=!1,this._scheduled=void 0}flush(Ae){const{actions:Le}=this;if(this._active)return void Le.push(Ae);let Ue;this._active=!0;do{if(Ue=Ae.execute(Ae.state,Ae.delay))break}while(Ae=Le.shift());if(this._active=!1,Ue){for(;Ae=Le.shift();)Ae.unsubscribe();throw Ue}}}},4986:(ut,Be,k)=>{k.d(Be,{P:()=>_e,z:()=>q});var y=k(4408);const q=new(k(7565).v)(y.o),_e=q},6063:(ut,Be,k)=>{k.d(Be,{l:()=>y});const y={now:()=>(y.delegate||Date).now(),delegate:void 0}},3410:(ut,Be,k)=>{k.d(Be,{z:()=>y});const y={setTimeout(h,q,..._e){const{delegate:Ae}=y;return Ae?.setTimeout?Ae.setTimeout(h,q,..._e):setTimeout(h,q,..._e)},clearTimeout(h){const{delegate:q}=y;return(q?.clearTimeout||clearTimeout)(h)},delegate:void 0}},2202:(ut,Be,k)=>{k.d(Be,{h:()=>h});const h=function y(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(ut,Be,k)=>{k.d(Be,{L:()=>y});const y="function"==typeof Symbol&&Symbol.observable||"@@observable"},6805:(ut,Be,k)=>{k.d(Be,{K:()=>h});const h=(0,k(3888).d)(q=>function(){q(this),this.name="EmptyError",this.message="no elements in sequence"})},3269:(ut,Be,k)=>{k.d(Be,{_6:()=>Le,jO:()=>_e,yG:()=>Ae});var y=k(576),h=k(3532);function q(Ue){return Ue[Ue.length-1]}function _e(Ue){return(0,y.m)(q(Ue))?Ue.pop():void 0}function Ae(Ue){return(0,h.K)(q(Ue))?Ue.pop():void 0}function Le(Ue,Fe){return"number"==typeof q(Ue)?Ue.pop():Fe}},4742:(ut,Be,k)=>{k.d(Be,{D:()=>Ae});const{isArray:y}=Array,{getPrototypeOf:h,prototype:q,keys:_e}=Object;function Ae(Ue){if(1===Ue.length){const Fe=Ue[0];if(y(Fe))return{args:Fe,keys:null};if(function Le(Ue){return Ue&&"object"==typeof Ue&&h(Ue)===q}(Fe)){const Qe=_e(Fe);return{args:Qe.map(he=>Fe[he]),keys:Qe}}}return{args:Ue,keys:null}}},8737:(ut,Be,k)=>{function y(h,q){if(h){const _e=h.indexOf(q);0<=_e&&h.splice(_e,1)}}k.d(Be,{P:()=>y})},3888:(ut,Be,k)=>{function y(h){const _e=h(Ae=>{Error.call(Ae),Ae.stack=(new Error).stack});return _e.prototype=Object.create(Error.prototype),_e.prototype.constructor=_e,_e}k.d(Be,{d:()=>y})},1810:(ut,Be,k)=>{function y(h,q){return h.reduce((_e,Ae,Le)=>(_e[Ae]=q[Le],_e),{})}k.d(Be,{n:()=>y})},2806:(ut,Be,k)=>{k.d(Be,{O:()=>_e,x:()=>q});var y=k(2416);let h=null;function q(Ae){if(y.v.useDeprecatedSynchronousErrorHandling){const Le=!h;if(Le&&(h={errorThrown:!1,error:null}),Ae(),Le){const{errorThrown:Ue,error:Fe}=h;if(h=null,Ue)throw Fe}}else Ae()}function _e(Ae){y.v.useDeprecatedSynchronousErrorHandling&&h&&(h.errorThrown=!0,h.error=Ae)}},9672:(ut,Be,k)=>{function y(h,q,_e,Ae=0,Le=!1){const Ue=q.schedule(function(){_e(),Le?h.add(this.schedule(null,Ae)):this.unsubscribe()},Ae);if(h.add(Ue),!Le)return Ue}k.d(Be,{f:()=>y})},4671:(ut,Be,k)=>{function y(h){return h}k.d(Be,{y:()=>y})},1144:(ut,Be,k)=>{k.d(Be,{z:()=>y});const y=h=>h&&"number"==typeof h.length&&"function"!=typeof h},2206:(ut,Be,k)=>{k.d(Be,{D:()=>h});var y=k(576);function h(q){return Symbol.asyncIterator&&(0,y.m)(q?.[Symbol.asyncIterator])}},576:(ut,Be,k)=>{function y(h){return"function"==typeof h}k.d(Be,{m:()=>y})},3670:(ut,Be,k)=>{k.d(Be,{c:()=>q});var y=k(8822),h=k(576);function q(_e){return(0,h.m)(_e[y.L])}},6495:(ut,Be,k)=>{k.d(Be,{T:()=>q});var y=k(2202),h=k(576);function q(_e){return(0,h.m)(_e?.[y.h])}},8239:(ut,Be,k)=>{k.d(Be,{t:()=>h});var y=k(576);function h(q){return(0,y.m)(q?.then)}},3260:(ut,Be,k)=>{k.d(Be,{L:()=>_e,Q:()=>q});var y=k(655),h=k(576);function q(Ae){return(0,y.FC)(this,arguments,function*(){const Ue=Ae.getReader();try{for(;;){const{value:Fe,done:Qe}=yield(0,y.qq)(Ue.read());if(Qe)return yield(0,y.qq)(void 0);yield yield(0,y.qq)(Fe)}}finally{Ue.releaseLock()}})}function _e(Ae){return(0,h.m)(Ae?.getReader)}},3532:(ut,Be,k)=>{k.d(Be,{K:()=>h});var y=k(576);function h(q){return q&&(0,y.m)(q.schedule)}},4482:(ut,Be,k)=>{k.d(Be,{A:()=>h,e:()=>q});var y=k(576);function h(_e){return(0,y.m)(_e?.lift)}function q(_e){return Ae=>{if(h(Ae))return Ae.lift(function(Le){try{return _e(Le,this)}catch(Ue){this.error(Ue)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(ut,Be,k)=>{k.d(Be,{Z:()=>_e});var y=k(4004);const{isArray:h}=Array;function _e(Ae){return(0,y.U)(Le=>function q(Ae,Le){return h(Le)?Ae(...Le):Ae(Le)}(Ae,Le))}},5032:(ut,Be,k)=>{function y(){}k.d(Be,{Z:()=>y})},9635:(ut,Be,k)=>{k.d(Be,{U:()=>q,z:()=>h});var y=k(4671);function h(..._e){return q(_e)}function q(_e){return 0===_e.length?y.y:1===_e.length?_e[0]:function(Le){return _e.reduce((Ue,Fe)=>Fe(Ue),Le)}}},7849:(ut,Be,k)=>{k.d(Be,{h:()=>q});var y=k(2416),h=k(3410);function q(_e){h.z.setTimeout(()=>{const{onUnhandledError:Ae}=y.v;if(!Ae)throw _e;Ae(_e)})}},4532:(ut,Be,k)=>{function y(h){return new TypeError(`You provided ${null!==h&&"object"==typeof h?"an invalid object":`'${h}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}k.d(Be,{z:()=>y})},655:(ut,Be,k)=>{function _e(de,fe){var Ze={};for(var Xe in de)Object.prototype.hasOwnProperty.call(de,Xe)&&fe.indexOf(Xe)<0&&(Ze[Xe]=de[Xe]);if(null!=de&&"function"==typeof Object.getOwnPropertySymbols){var At=0;for(Xe=Object.getOwnPropertySymbols(de);At<Xe.length;At++)fe.indexOf(Xe[At])<0&&Object.prototype.propertyIsEnumerable.call(de,Xe[At])&&(Ze[Xe[At]]=de[Xe[At]])}return Ze}function Fe(de,fe,Ze,Xe){return new(Ze||(Ze=Promise))(function(Ut,zt){function un(Dn){try{Dt(Xe.next(Dn))}catch(gn){zt(gn)}}function ln(Dn){try{Dt(Xe.throw(Dn))}catch(gn){zt(gn)}}function Dt(Dn){Dn.done?Ut(Dn.value):function At(Ut){return Ut instanceof Ze?Ut:new Ze(function(zt){zt(Ut)})}(Dn.value).then(un,ln)}Dt((Xe=Xe.apply(de,fe||[])).next())})}function rt(de){return this instanceof rt?(this.v=de,this):new rt(de)}function We(de,fe,Ze){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var At,Xe=Ze.apply(de,fe||[]),Ut=[];return At={},zt("next"),zt("throw"),zt("return"),At[Symbol.asyncIterator]=function(){return this},At;function zt(it){Xe[it]&&(At[it]=function(_t){return new Promise(function(Te,ze){Ut.push([it,_t,Te,ze])>1||un(it,_t)})})}function un(it,_t){try{!function ln(it){it.value instanceof rt?Promise.resolve(it.value.v).then(Dt,Dn):gn(Ut[0][2],it)}(Xe[it](_t))}catch(Te){gn(Ut[0][3],Te)}}function Dt(it){un("next",it)}function Dn(it){un("throw",it)}function gn(it,_t){it(_t),Ut.shift(),Ut.length&&un(Ut[0][0],Ut[0][1])}}function Wt(de){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ze,fe=de[Symbol.asyncIterator];return fe?fe.call(de):(de=function Pe(de){var fe="function"==typeof Symbol&&Symbol.iterator,Ze=fe&&de[fe],Xe=0;if(Ze)return Ze.call(de);if(de&&"number"==typeof de.length)return{next:function(){return de&&Xe>=de.length&&(de=void 0),{value:de&&de[Xe++],done:!de}}};throw new TypeError(fe?"Object is not iterable.":"Symbol.iterator is not defined.")}(de),Ze={},Xe("next"),Xe("throw"),Xe("return"),Ze[Symbol.asyncIterator]=function(){return this},Ze);function Xe(Ut){Ze[Ut]=de[Ut]&&function(zt){return new Promise(function(un,ln){!function At(Ut,zt,un,ln){Promise.resolve(ln).then(function(Dt){Ut({value:Dt,done:un})},zt)}(un,ln,(zt=de[Ut](zt)).done,zt.value)})}}}k.d(Be,{FC:()=>We,KL:()=>Wt,_T:()=>_e,mG:()=>Fe,qq:()=>rt})},7340:(ut,Be,k)=>{k.d(Be,{IO:()=>tt,LC:()=>h,SB:()=>Qe,X$:()=>_e,ZE:()=>Re,ZN:()=>We,_j:()=>y,eR:()=>ge,jt:()=>Ae,k1:()=>Wt,l3:()=>q,oB:()=>Fe,pV:()=>Et,vP:()=>Ue});class y{}class h{}const q="*";function _e(Ne,Me){return{type:7,name:Ne,definitions:Me,options:{}}}function Ae(Ne,Me=null){return{type:4,styles:Me,timings:Ne}}function Ue(Ne,Me=null){return{type:2,steps:Ne,options:Me}}function Fe(Ne){return{type:6,styles:Ne,offset:null}}function Qe(Ne,Me,$e){return{type:0,name:Ne,styles:Me,options:$e}}function ge(Ne,Me,$e=null){return{type:1,expr:Ne,animation:Me,options:$e}}function Et(Ne=null){return{type:9,options:Ne}}function tt(Ne,Me,$e=null){return{type:11,selector:Ne,animation:Me,options:$e}}function rt(Ne){Promise.resolve().then(Ne)}class We{constructor(Me=0,$e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=Me+$e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Me=>Me()),this._onDoneFns=[])}onStart(Me){this._originalOnStartFns.push(Me),this._onStartFns.push(Me)}onDone(Me){this._originalOnDoneFns.push(Me),this._onDoneFns.push(Me)}onDestroy(Me){this._onDestroyFns.push(Me)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){rt(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(Me=>Me()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(Me=>Me()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(Me){this._position=this.totalTime?Me*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(Me){const $e="start"==Me?this._onStartFns:this._onDoneFns;$e.forEach(Mt=>Mt()),$e.length=0}}class Re{constructor(Me){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=Me;let $e=0,Mt=0,It=0;const oe=this.players.length;0==oe?rt(()=>this._onFinish()):this.players.forEach(Je=>{Je.onDone(()=>{++$e==oe&&this._onFinish()}),Je.onDestroy(()=>{++Mt==oe&&this._onDestroy()}),Je.onStart(()=>{++It==oe&&this._onStart()})}),this.totalTime=this.players.reduce((Je,de)=>Math.max(Je,de.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Me=>Me()),this._onDoneFns=[])}init(){this.players.forEach(Me=>Me.init())}onStart(Me){this._onStartFns.push(Me)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(Me=>Me()),this._onStartFns=[])}onDone(Me){this._onDoneFns.push(Me)}onDestroy(Me){this._onDestroyFns.push(Me)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(Me=>Me.play())}pause(){this.players.forEach(Me=>Me.pause())}restart(){this.players.forEach(Me=>Me.restart())}finish(){this._onFinish(),this.players.forEach(Me=>Me.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(Me=>Me.destroy()),this._onDestroyFns.forEach(Me=>Me()),this._onDestroyFns=[])}reset(){this.players.forEach(Me=>Me.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(Me){const $e=Me*this.totalTime;this.players.forEach(Mt=>{const It=Mt.totalTime?Math.min(1,$e/Mt.totalTime):1;Mt.setPosition(It)})}getPosition(){const Me=this.players.reduce(($e,Mt)=>null===$e||Mt.totalTime>$e.totalTime?Mt:$e,null);return null!=Me?Me.getPosition():0}beforeDestroy(){this.players.forEach(Me=>{Me.beforeDestroy&&Me.beforeDestroy()})}triggerCallback(Me){const $e="start"==Me?this._onStartFns:this._onDoneFns;$e.forEach(Mt=>Mt()),$e.length=0}}const Wt="!"},6895:(ut,Be,k)=>{k.d(Be,{Do:()=>Wt,EM:()=>fo,HT:()=>Ae,JF:()=>Qo,K0:()=>Ue,Mx:()=>os,NF:()=>Bo,O5:()=>Lr,Ov:()=>Zt,PM:()=>Ei,RF:()=>qo,S$:()=>rt,V_:()=>he,Ye:()=>Ne,b0:()=>Re,bD:()=>wo,ez:()=>Do,mk:()=>yr,n9:()=>Cs,q:()=>q,sg:()=>Ui,w_:()=>Le});var y=k(4650);let h=null;function q(){return h}function Ae(N){h||(h=N)}class Le{}const Ue=new y.OlP("DocumentToken");let Fe=(()=>{class N{historyGo(V){throw new Error("Not implemented")}}return N.\u0275fac=function(V){return new(V||N)},N.\u0275prov=y.Yz7({token:N,factory:function(){return function Qe(){return(0,y.LFG)(ge)}()},providedIn:"platform"}),N})();const he=new y.OlP("Location Initialized");let ge=(()=>{class N extends Fe{constructor(V){super(),this._doc=V,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return q().getBaseHref(this._doc)}onPopState(V){const te=q().getGlobalEventTarget(this._doc,"window");return te.addEventListener("popstate",V,!1),()=>te.removeEventListener("popstate",V)}onHashChange(V){const te=q().getGlobalEventTarget(this._doc,"window");return te.addEventListener("hashchange",V,!1),()=>te.removeEventListener("hashchange",V)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(V){this.location.pathname=V}pushState(V,te,Ce){Pe()?this._history.pushState(V,te,Ce):this.location.hash=Ce}replaceState(V,te,Ce){Pe()?this._history.replaceState(V,te,Ce):this.location.hash=Ce}forward(){this._history.forward()}back(){this._history.back()}historyGo(V=0){this._history.go(V)}getState(){return this._history.state}}return N.\u0275fac=function(V){return new(V||N)(y.LFG(Ue))},N.\u0275prov=y.Yz7({token:N,factory:function(){return function Et(){return new ge((0,y.LFG)(Ue))}()},providedIn:"platform"}),N})();function Pe(){return!!window.history.pushState}function st(N,Y){if(0==N.length)return Y;if(0==Y.length)return N;let V=0;return N.endsWith("/")&&V++,Y.startsWith("/")&&V++,2==V?N+Y.substring(1):1==V?N+Y:N+"/"+Y}function tt(N){const Y=N.match(/#|\?|$/),V=Y&&Y.index||N.length;return N.slice(0,V-("/"===N[V-1]?1:0))+N.slice(V)}function Bt(N){return N&&"?"!==N[0]?"?"+N:N}let rt=(()=>{class N{historyGo(V){throw new Error("Not implemented")}}return N.\u0275fac=function(V){return new(V||N)},N.\u0275prov=y.Yz7({token:N,factory:function(){return(0,y.f3M)(Re)},providedIn:"root"}),N})();const We=new y.OlP("appBaseHref");let Re=(()=>{class N extends rt{constructor(V,te){super(),this._platformLocation=V,this._removeListenerFns=[],this._baseHref=te??this._platformLocation.getBaseHrefFromDOM()??(0,y.f3M)(Ue).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(V){this._removeListenerFns.push(this._platformLocation.onPopState(V),this._platformLocation.onHashChange(V))}getBaseHref(){return this._baseHref}prepareExternalUrl(V){return st(this._baseHref,V)}path(V=!1){const te=this._platformLocation.pathname+Bt(this._platformLocation.search),Ce=this._platformLocation.hash;return Ce&&V?`${te}${Ce}`:te}pushState(V,te,Ce,at){const mt=this.prepareExternalUrl(Ce+Bt(at));this._platformLocation.pushState(V,te,mt)}replaceState(V,te,Ce,at){const mt=this.prepareExternalUrl(Ce+Bt(at));this._platformLocation.replaceState(V,te,mt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(V=0){this._platformLocation.historyGo?.(V)}}return N.\u0275fac=function(V){return new(V||N)(y.LFG(Fe),y.LFG(We,8))},N.\u0275prov=y.Yz7({token:N,factory:N.\u0275fac,providedIn:"root"}),N})(),Wt=(()=>{class N extends rt{constructor(V,te){super(),this._platformLocation=V,this._baseHref="",this._removeListenerFns=[],null!=te&&(this._baseHref=te)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(V){this._removeListenerFns.push(this._platformLocation.onPopState(V),this._platformLocation.onHashChange(V))}getBaseHref(){return this._baseHref}path(V=!1){let te=this._platformLocation.hash;return null==te&&(te="#"),te.length>0?te.substring(1):te}prepareExternalUrl(V){const te=st(this._baseHref,V);return te.length>0?"#"+te:te}pushState(V,te,Ce,at){let mt=this.prepareExternalUrl(Ce+Bt(at));0==mt.length&&(mt=this._platformLocation.pathname),this._platformLocation.pushState(V,te,mt)}replaceState(V,te,Ce,at){let mt=this.prepareExternalUrl(Ce+Bt(at));0==mt.length&&(mt=this._platformLocation.pathname),this._platformLocation.replaceState(V,te,mt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(V=0){this._platformLocation.historyGo?.(V)}}return N.\u0275fac=function(V){return new(V||N)(y.LFG(Fe),y.LFG(We,8))},N.\u0275prov=y.Yz7({token:N,factory:N.\u0275fac}),N})(),Ne=(()=>{class N{constructor(V){this._subject=new y.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=V;const te=this._locationStrategy.getBaseHref();this._baseHref=tt(Mt(te)),this._locationStrategy.onPopState(Ce=>{this._subject.emit({url:this.path(!0),pop:!0,state:Ce.state,type:Ce.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(V=!1){return this.normalize(this._locationStrategy.path(V))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(V,te=""){return this.path()==this.normalize(V+Bt(te))}normalize(V){return N.stripTrailingSlash(function $e(N,Y){return N&&Y.startsWith(N)?Y.substring(N.length):Y}(this._baseHref,Mt(V)))}prepareExternalUrl(V){return V&&"/"!==V[0]&&(V="/"+V),this._locationStrategy.prepareExternalUrl(V)}go(V,te="",Ce=null){this._locationStrategy.pushState(Ce,"",V,te),this._notifyUrlChangeListeners(this.prepareExternalUrl(V+Bt(te)),Ce)}replaceState(V,te="",Ce=null){this._locationStrategy.replaceState(Ce,"",V,te),this._notifyUrlChangeListeners(this.prepareExternalUrl(V+Bt(te)),Ce)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(V=0){this._locationStrategy.historyGo?.(V)}onUrlChange(V){return this._urlChangeListeners.push(V),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(te=>{this._notifyUrlChangeListeners(te.url,te.state)})),()=>{const te=this._urlChangeListeners.indexOf(V);this._urlChangeListeners.splice(te,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(V="",te){this._urlChangeListeners.forEach(Ce=>Ce(V,te))}subscribe(V,te,Ce){return this._subject.subscribe({next:V,error:te,complete:Ce})}}return N.normalizeQueryParams=Bt,N.joinWithSlash=st,N.stripTrailingSlash=tt,N.\u0275fac=function(V){return new(V||N)(y.LFG(rt))},N.\u0275prov=y.Yz7({token:N,factory:function(){return function Me(){return new Ne((0,y.LFG)(rt))}()},providedIn:"root"}),N})();function Mt(N){return N.replace(/\/index.html$/,"")}function os(N,Y){Y=encodeURIComponent(Y);for(const V of N.split(";")){const te=V.indexOf("="),[Ce,at]=-1==te?[V,""]:[V.slice(0,te),V.slice(te+1)];if(Ce.trim()===Y)return decodeURIComponent(at)}return null}let yr=(()=>{class N{constructor(V,te,Ce,at){this._iterableDiffers=V,this._keyValueDiffers=te,this._ngEl=Ce,this._renderer=at,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(V){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof V?V.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(V){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof V?V.split(/\s+/):V,this._rawClass&&((0,y.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const V=this._iterableDiffer.diff(this._rawClass);V&&this._applyIterableChanges(V)}else if(this._keyValueDiffer){const V=this._keyValueDiffer.diff(this._rawClass);V&&this._applyKeyValueChanges(V)}}_applyKeyValueChanges(V){V.forEachAddedItem(te=>this._toggleClass(te.key,te.currentValue)),V.forEachChangedItem(te=>this._toggleClass(te.key,te.currentValue)),V.forEachRemovedItem(te=>{te.previousValue&&this._toggleClass(te.key,!1)})}_applyIterableChanges(V){V.forEachAddedItem(te=>{if("string"!=typeof te.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,y.AaK)(te.item)}`);this._toggleClass(te.item,!0)}),V.forEachRemovedItem(te=>this._toggleClass(te.item,!1))}_applyClasses(V){V&&(Array.isArray(V)||V instanceof Set?V.forEach(te=>this._toggleClass(te,!0)):Object.keys(V).forEach(te=>this._toggleClass(te,!!V[te])))}_removeClasses(V){V&&(Array.isArray(V)||V instanceof Set?V.forEach(te=>this._toggleClass(te,!1)):Object.keys(V).forEach(te=>this._toggleClass(te,!1)))}_toggleClass(V,te){(V=V.trim())&&V.split(/\s+/g).forEach(Ce=>{te?this._renderer.addClass(this._ngEl.nativeElement,Ce):this._renderer.removeClass(this._ngEl.nativeElement,Ce)})}}return N.\u0275fac=function(V){return new(V||N)(y.Y36(y.ZZ4),y.Y36(y.aQg),y.Y36(y.SBq),y.Y36(y.Qsj))},N.\u0275dir=y.lG2({type:N,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),N})();class bo{constructor(Y,V,te,Ce){this.$implicit=Y,this.ngForOf=V,this.index=te,this.count=Ce}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Ui=(()=>{class N{constructor(V,te,Ce){this._viewContainer=V,this._template=te,this._differs=Ce,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(V){this._ngForOf=V,this._ngForOfDirty=!0}set ngForTrackBy(V){this._trackByFn=V}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(V){V&&(this._template=V)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const V=this._ngForOf;!this._differ&&V&&(this._differ=this._differs.find(V).create(this.ngForTrackBy))}if(this._differ){const V=this._differ.diff(this._ngForOf);V&&this._applyChanges(V)}}_applyChanges(V){const te=this._viewContainer;V.forEachOperation((Ce,at,mt)=>{if(null==Ce.previousIndex)te.createEmbeddedView(this._template,new bo(Ce.item,this._ngForOf,-1,-1),null===mt?void 0:mt);else if(null==mt)te.remove(null===at?void 0:at);else if(null!==at){const hn=te.get(at);te.move(hn,mt),$i(hn,Ce)}});for(let Ce=0,at=te.length;Ce<at;Ce++){const hn=te.get(Ce).context;hn.index=Ce,hn.count=at,hn.ngForOf=this._ngForOf}V.forEachIdentityChange(Ce=>{$i(te.get(Ce.currentIndex),Ce)})}static ngTemplateContextGuard(V,te){return!0}}return N.\u0275fac=function(V){return new(V||N)(y.Y36(y.s_b),y.Y36(y.Rgc),y.Y36(y.ZZ4))},N.\u0275dir=y.lG2({type:N,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),N})();function $i(N,Y){N.context.$implicit=Y.item}let Lr=(()=>{class N{constructor(V,te){this._viewContainer=V,this._context=new ho,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=te}set ngIf(V){this._context.$implicit=this._context.ngIf=V,this._updateView()}set ngIfThen(V){ii("ngIfThen",V),this._thenTemplateRef=V,this._thenViewRef=null,this._updateView()}set ngIfElse(V){ii("ngIfElse",V),this._elseTemplateRef=V,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(V,te){return!0}}return N.\u0275fac=function(V){return new(V||N)(y.Y36(y.s_b),y.Y36(y.Rgc))},N.\u0275dir=y.lG2({type:N,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),N})();class ho{constructor(){this.$implicit=null,this.ngIf=null}}function ii(N,Y){if(Y&&!Y.createEmbeddedView)throw new Error(`${N} must be a TemplateRef, but received '${(0,y.AaK)(Y)}'.`)}class Ri{constructor(Y,V){this._viewContainerRef=Y,this._templateRef=V,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(Y){Y&&!this._created?this.create():!Y&&this._created&&this.destroy()}}let qo=(()=>{class N{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(V){this._ngSwitch=V,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(V){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(V)}_matchCase(V){const te=V==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||te,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),te}_updateDefaultCases(V){if(this._defaultViews&&V!==this._defaultUsed){this._defaultUsed=V;for(let te=0;te<this._defaultViews.length;te++)this._defaultViews[te].enforceState(V)}}}return N.\u0275fac=function(V){return new(V||N)},N.\u0275dir=y.lG2({type:N,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),N})(),Cs=(()=>{class N{constructor(V,te,Ce){this.ngSwitch=Ce,Ce._addCase(),this._view=new Ri(V,te)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return N.\u0275fac=function(V){return new(V||N)(y.Y36(y.s_b),y.Y36(y.Rgc),y.Y36(qo,9))},N.\u0275dir=y.lG2({type:N,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),N})();class Ke{createSubscription(Y,V){return Y.subscribe({next:V,error:te=>{throw te}})}dispose(Y){Y.unsubscribe()}}class je{createSubscription(Y,V){return Y.then(V,te=>{throw te})}dispose(Y){}}const et=new je,Tt=new Ke;let Zt=(()=>{class N{constructor(V){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=V}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(V){return this._obj?V!==this._obj?(this._dispose(),this.transform(V)):this._latestValue:(V&&this._subscribe(V),this._latestValue)}_subscribe(V){this._obj=V,this._strategy=this._selectStrategy(V),this._subscription=this._strategy.createSubscription(V,te=>this._updateLatestValue(V,te))}_selectStrategy(V){if((0,y.QGY)(V))return et;if((0,y.F4k)(V))return Tt;throw function si(N,Y){return new y.vHH(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(V,te){V===this._obj&&(this._latestValue=te,this._ref.markForCheck())}}return N.\u0275fac=function(V){return new(V||N)(y.Y36(y.sBO,16))},N.\u0275pipe=y.Yjl({name:"async",type:N,pure:!1,standalone:!0}),N})(),Do=(()=>{class N{}return N.\u0275fac=function(V){return new(V||N)},N.\u0275mod=y.oAB({type:N}),N.\u0275inj=y.cJS({}),N})();const wo="browser";function Bo(N){return N===wo}function Ei(N){return"server"===N}let fo=(()=>{class N{}return N.\u0275prov=(0,y.Yz7)({token:N,providedIn:"root",factory:()=>new ga((0,y.LFG)(Ue),window)}),N})();class ga{constructor(Y,V){this.document=Y,this.window=V,this.offset=()=>[0,0]}setOffset(Y){this.offset=Array.isArray(Y)?()=>Y:Y}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(Y){this.supportsScrolling()&&this.window.scrollTo(Y[0],Y[1])}scrollToAnchor(Y){if(!this.supportsScrolling())return;const V=function Ci(N,Y){const V=N.getElementById(Y)||N.getElementsByName(Y)[0];if(V)return V;if("function"==typeof N.createTreeWalker&&N.body&&(N.body.createShadowRoot||N.body.attachShadow)){const te=N.createTreeWalker(N.body,NodeFilter.SHOW_ELEMENT);let Ce=te.currentNode;for(;Ce;){const at=Ce.shadowRoot;if(at){const mt=at.getElementById(Y)||at.querySelector(`[name="${Y}"]`);if(mt)return mt}Ce=te.nextNode()}}return null}(this.document,Y);V&&(this.scrollToElement(V),V.focus())}setHistoryScrollRestoration(Y){if(this.supportScrollRestoration()){const V=this.window.history;V&&V.scrollRestoration&&(V.scrollRestoration=Y)}}scrollToElement(Y){const V=Y.getBoundingClientRect(),te=V.left+this.window.pageXOffset,Ce=V.top+this.window.pageYOffset,at=this.offset();this.window.scrollTo(te-at[0],Ce-at[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const Y=To(this.window.history)||To(Object.getPrototypeOf(this.window.history));return!(!Y||!Y.writable&&!Y.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function To(N){return Object.getOwnPropertyDescriptor(N,"scrollRestoration")}class Qo{}},529:(ut,Be,k)=>{k.d(Be,{JF:()=>Yr,TP:()=>un,eN:()=>Ut});var y=k(6895),h=k(4650),q=k(9646),_e=k(9751),Ae=k(4351),Le=k(9300),Ue=k(4004);class Fe{}class Qe{}class he{constructor(Se){this.normalizedNames=new Map,this.lazyUpdate=null,Se?this.lazyInit="string"==typeof Se?()=>{this.headers=new Map,Se.split("\n").forEach(ye=>{const lt=ye.indexOf(":");if(lt>0){const vt=ye.slice(0,lt),tn=vt.toLowerCase(),Ht=ye.slice(lt+1).trim();this.maybeSetNormalizedName(vt,tn),this.headers.has(tn)?this.headers.get(tn).push(Ht):this.headers.set(tn,[Ht])}})}:()=>{this.headers=new Map,Object.keys(Se).forEach(ye=>{let lt=Se[ye];const vt=ye.toLowerCase();"string"==typeof lt&&(lt=[lt]),lt.length>0&&(this.headers.set(vt,lt),this.maybeSetNormalizedName(ye,vt))})}:this.headers=new Map}has(Se){return this.init(),this.headers.has(Se.toLowerCase())}get(Se){this.init();const ye=this.headers.get(Se.toLowerCase());return ye&&ye.length>0?ye[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(Se){return this.init(),this.headers.get(Se.toLowerCase())||null}append(Se,ye){return this.clone({name:Se,value:ye,op:"a"})}set(Se,ye){return this.clone({name:Se,value:ye,op:"s"})}delete(Se,ye){return this.clone({name:Se,value:ye,op:"d"})}maybeSetNormalizedName(Se,ye){this.normalizedNames.has(ye)||this.normalizedNames.set(ye,Se)}init(){this.lazyInit&&(this.lazyInit instanceof he?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(Se=>this.applyUpdate(Se)),this.lazyUpdate=null))}copyFrom(Se){Se.init(),Array.from(Se.headers.keys()).forEach(ye=>{this.headers.set(ye,Se.headers.get(ye)),this.normalizedNames.set(ye,Se.normalizedNames.get(ye))})}clone(Se){const ye=new he;return ye.lazyInit=this.lazyInit&&this.lazyInit instanceof he?this.lazyInit:this,ye.lazyUpdate=(this.lazyUpdate||[]).concat([Se]),ye}applyUpdate(Se){const ye=Se.name.toLowerCase();switch(Se.op){case"a":case"s":let lt=Se.value;if("string"==typeof lt&&(lt=[lt]),0===lt.length)return;this.maybeSetNormalizedName(Se.name,ye);const vt=("a"===Se.op?this.headers.get(ye):void 0)||[];vt.push(...lt),this.headers.set(ye,vt);break;case"d":const tn=Se.value;if(tn){let Ht=this.headers.get(ye);if(!Ht)return;Ht=Ht.filter(On=>-1===tn.indexOf(On)),0===Ht.length?(this.headers.delete(ye),this.normalizedNames.delete(ye)):this.headers.set(ye,Ht)}else this.headers.delete(ye),this.normalizedNames.delete(ye)}}forEach(Se){this.init(),Array.from(this.normalizedNames.keys()).forEach(ye=>Se(this.normalizedNames.get(ye),this.headers.get(ye)))}}class Pe{encodeKey(Se){return Bt(Se)}encodeValue(Se){return Bt(Se)}decodeKey(Se){return decodeURIComponent(Se)}decodeValue(Se){return decodeURIComponent(Se)}}const st=/%(\d[a-f0-9])/gi,tt={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Bt(gt){return encodeURIComponent(gt).replace(st,(Se,ye)=>tt[ye]??Se)}function rt(gt){return`${gt}`}class We{constructor(Se={}){if(this.updates=null,this.cloneFrom=null,this.encoder=Se.encoder||new Pe,Se.fromString){if(Se.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Et(gt,Se){const ye=new Map;return gt.length>0&&gt.replace(/^\?/,"").split("&").forEach(vt=>{const tn=vt.indexOf("="),[Ht,On]=-1==tn?[Se.decodeKey(vt),""]:[Se.decodeKey(vt.slice(0,tn)),Se.decodeValue(vt.slice(tn+1))],Gt=ye.get(Ht)||[];Gt.push(On),ye.set(Ht,Gt)}),ye}(Se.fromString,this.encoder)}else Se.fromObject?(this.map=new Map,Object.keys(Se.fromObject).forEach(ye=>{const lt=Se.fromObject[ye],vt=Array.isArray(lt)?lt.map(rt):[rt(lt)];this.map.set(ye,vt)})):this.map=null}has(Se){return this.init(),this.map.has(Se)}get(Se){this.init();const ye=this.map.get(Se);return ye?ye[0]:null}getAll(Se){return this.init(),this.map.get(Se)||null}keys(){return this.init(),Array.from(this.map.keys())}append(Se,ye){return this.clone({param:Se,value:ye,op:"a"})}appendAll(Se){const ye=[];return Object.keys(Se).forEach(lt=>{const vt=Se[lt];Array.isArray(vt)?vt.forEach(tn=>{ye.push({param:lt,value:tn,op:"a"})}):ye.push({param:lt,value:vt,op:"a"})}),this.clone(ye)}set(Se,ye){return this.clone({param:Se,value:ye,op:"s"})}delete(Se,ye){return this.clone({param:Se,value:ye,op:"d"})}toString(){return this.init(),this.keys().map(Se=>{const ye=this.encoder.encodeKey(Se);return this.map.get(Se).map(lt=>ye+"="+this.encoder.encodeValue(lt)).join("&")}).filter(Se=>""!==Se).join("&")}clone(Se){const ye=new We({encoder:this.encoder});return ye.cloneFrom=this.cloneFrom||this,ye.updates=(this.updates||[]).concat(Se),ye}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(Se=>this.map.set(Se,this.cloneFrom.map.get(Se))),this.updates.forEach(Se=>{switch(Se.op){case"a":case"s":const ye=("a"===Se.op?this.map.get(Se.param):void 0)||[];ye.push(rt(Se.value)),this.map.set(Se.param,ye);break;case"d":if(void 0===Se.value){this.map.delete(Se.param);break}{let lt=this.map.get(Se.param)||[];const vt=lt.indexOf(rt(Se.value));-1!==vt&&lt.splice(vt,1),lt.length>0?this.map.set(Se.param,lt):this.map.delete(Se.param)}}}),this.cloneFrom=this.updates=null)}}class Wt{constructor(){this.map=new Map}set(Se,ye){return this.map.set(Se,ye),this}get(Se){return this.map.has(Se)||this.map.set(Se,Se.defaultValue()),this.map.get(Se)}delete(Se){return this.map.delete(Se),this}has(Se){return this.map.has(Se)}keys(){return this.map.keys()}}function Me(gt){return typeof ArrayBuffer<"u"&&gt instanceof ArrayBuffer}function $e(gt){return typeof Blob<"u"&&gt instanceof Blob}function Mt(gt){return typeof FormData<"u"&&gt instanceof FormData}class oe{constructor(Se,ye,lt,vt){let tn;if(this.url=ye,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=Se.toUpperCase(),function Ne(gt){switch(gt){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||vt?(this.body=void 0!==lt?lt:null,tn=vt):tn=lt,tn&&(this.reportProgress=!!tn.reportProgress,this.withCredentials=!!tn.withCredentials,tn.responseType&&(this.responseType=tn.responseType),tn.headers&&(this.headers=tn.headers),tn.context&&(this.context=tn.context),tn.params&&(this.params=tn.params)),this.headers||(this.headers=new he),this.context||(this.context=new Wt),this.params){const Ht=this.params.toString();if(0===Ht.length)this.urlWithParams=ye;else{const On=ye.indexOf("?");this.urlWithParams=ye+(-1===On?"?":On<ye.length-1?"&":"")+Ht}}else this.params=new We,this.urlWithParams=ye}serializeBody(){return null===this.body?null:Me(this.body)||$e(this.body)||Mt(this.body)||function It(gt){return typeof URLSearchParams<"u"&&gt instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof We?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Mt(this.body)?null:$e(this.body)?this.body.type||null:Me(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof We?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(Se={}){const ye=Se.method||this.method,lt=Se.url||this.url,vt=Se.responseType||this.responseType,tn=void 0!==Se.body?Se.body:this.body,Ht=void 0!==Se.withCredentials?Se.withCredentials:this.withCredentials,On=void 0!==Se.reportProgress?Se.reportProgress:this.reportProgress;let Gt=Se.headers||this.headers,Wn=Se.params||this.params;const $n=Se.context??this.context;return void 0!==Se.setHeaders&&(Gt=Object.keys(Se.setHeaders).reduce((Zr,An)=>Zr.set(An,Se.setHeaders[An]),Gt)),Se.setParams&&(Wn=Object.keys(Se.setParams).reduce((Zr,An)=>Zr.set(An,Se.setParams[An]),Wn)),new oe(ye,lt,tn,{params:Wn,headers:Gt,context:$n,reportProgress:On,responseType:vt,withCredentials:Ht})}}var Je=(()=>((Je=Je||{})[Je.Sent=0]="Sent",Je[Je.UploadProgress=1]="UploadProgress",Je[Je.ResponseHeader=2]="ResponseHeader",Je[Je.DownloadProgress=3]="DownloadProgress",Je[Je.Response=4]="Response",Je[Je.User=5]="User",Je))();class de{constructor(Se,ye=200,lt="OK"){this.headers=Se.headers||new he,this.status=void 0!==Se.status?Se.status:ye,this.statusText=Se.statusText||lt,this.url=Se.url||null,this.ok=this.status>=200&&this.status<300}}class fe extends de{constructor(Se={}){super(Se),this.type=Je.ResponseHeader}clone(Se={}){return new fe({headers:Se.headers||this.headers,status:void 0!==Se.status?Se.status:this.status,statusText:Se.statusText||this.statusText,url:Se.url||this.url||void 0})}}class Ze extends de{constructor(Se={}){super(Se),this.type=Je.Response,this.body=void 0!==Se.body?Se.body:null}clone(Se={}){return new Ze({body:void 0!==Se.body?Se.body:this.body,headers:Se.headers||this.headers,status:void 0!==Se.status?Se.status:this.status,statusText:Se.statusText||this.statusText,url:Se.url||this.url||void 0})}}class Xe extends de{constructor(Se){super(Se,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${Se.url||"(unknown url)"}`:`Http failure response for ${Se.url||"(unknown url)"}: ${Se.status} ${Se.statusText}`,this.error=Se.error||null}}function At(gt,Se){return{body:Se,headers:gt.headers,context:gt.context,observe:gt.observe,params:gt.params,reportProgress:gt.reportProgress,responseType:gt.responseType,withCredentials:gt.withCredentials}}let Ut=(()=>{class gt{constructor(ye){this.handler=ye}request(ye,lt,vt={}){let tn;if(ye instanceof oe)tn=ye;else{let Gt,Wn;Gt=vt.headers instanceof he?vt.headers:new he(vt.headers),vt.params&&(Wn=vt.params instanceof We?vt.params:new We({fromObject:vt.params})),tn=new oe(ye,lt,void 0!==vt.body?vt.body:null,{headers:Gt,context:vt.context,params:Wn,reportProgress:vt.reportProgress,responseType:vt.responseType||"json",withCredentials:vt.withCredentials})}const Ht=(0,q.of)(tn).pipe((0,Ae.b)(Gt=>this.handler.handle(Gt)));if(ye instanceof oe||"events"===vt.observe)return Ht;const On=Ht.pipe((0,Le.h)(Gt=>Gt instanceof Ze));switch(vt.observe||"body"){case"body":switch(tn.responseType){case"arraybuffer":return On.pipe((0,Ue.U)(Gt=>{if(null!==Gt.body&&!(Gt.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return Gt.body}));case"blob":return On.pipe((0,Ue.U)(Gt=>{if(null!==Gt.body&&!(Gt.body instanceof Blob))throw new Error("Response is not a Blob.");return Gt.body}));case"text":return On.pipe((0,Ue.U)(Gt=>{if(null!==Gt.body&&"string"!=typeof Gt.body)throw new Error("Response is not a string.");return Gt.body}));default:return On.pipe((0,Ue.U)(Gt=>Gt.body))}case"response":return On;default:throw new Error(`Unreachable: unhandled observe type ${vt.observe}}`)}}delete(ye,lt={}){return this.request("DELETE",ye,lt)}get(ye,lt={}){return this.request("GET",ye,lt)}head(ye,lt={}){return this.request("HEAD",ye,lt)}jsonp(ye,lt){return this.request("JSONP",ye,{params:(new We).append(lt,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(ye,lt={}){return this.request("OPTIONS",ye,lt)}patch(ye,lt,vt={}){return this.request("PATCH",ye,At(vt,lt))}post(ye,lt,vt={}){return this.request("POST",ye,At(vt,lt))}put(ye,lt,vt={}){return this.request("PUT",ye,At(vt,lt))}}return gt.\u0275fac=function(ye){return new(ye||gt)(h.LFG(Fe))},gt.\u0275prov=h.Yz7({token:gt,factory:gt.\u0275fac}),gt})();class zt{constructor(Se,ye){this.next=Se,this.interceptor=ye}handle(Se){return this.interceptor.intercept(Se,this.next)}}const un=new h.OlP("HTTP_INTERCEPTORS");let ln=(()=>{class gt{intercept(ye,lt){return lt.handle(ye)}}return gt.\u0275fac=function(ye){return new(ye||gt)},gt.\u0275prov=h.Yz7({token:gt,factory:gt.\u0275fac}),gt})();const rr=/^\)\]\}',?\n/;let Kn=(()=>{class gt{constructor(ye){this.xhrFactory=ye}handle(ye){if("JSONP"===ye.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new _e.y(lt=>{const vt=this.xhrFactory.build();if(vt.open(ye.method,ye.urlWithParams),ye.withCredentials&&(vt.withCredentials=!0),ye.headers.forEach((Ie,ve)=>vt.setRequestHeader(Ie,ve.join(","))),ye.headers.has("Accept")||vt.setRequestHeader("Accept","application/json, text/plain, */*"),!ye.headers.has("Content-Type")){const Ie=ye.detectContentTypeHeader();null!==Ie&&vt.setRequestHeader("Content-Type",Ie)}if(ye.responseType){const Ie=ye.responseType.toLowerCase();vt.responseType="json"!==Ie?Ie:"text"}const tn=ye.serializeBody();let Ht=null;const On=()=>{if(null!==Ht)return Ht;const Ie=vt.statusText||"OK",ve=new he(vt.getAllResponseHeaders()),me=function dr(gt){return"responseURL"in gt&&gt.responseURL?gt.responseURL:/^X-Request-URL:/m.test(gt.getAllResponseHeaders())?gt.getResponseHeader("X-Request-URL"):null}(vt)||ye.url;return Ht=new fe({headers:ve,status:vt.status,statusText:Ie,url:me}),Ht},Gt=()=>{let{headers:Ie,status:ve,statusText:me,url:Oe}=On(),be=null;204!==ve&&(be=typeof vt.response>"u"?vt.responseText:vt.response),0===ve&&(ve=be?200:0);let Ct=ve>=200&&ve<300;if("json"===ye.responseType&&"string"==typeof be){const jt=be;be=be.replace(rr,"");try{be=""!==be?JSON.parse(be):null}catch(nn){be=jt,Ct&&(Ct=!1,be={error:nn,text:be})}}Ct?(lt.next(new Ze({body:be,headers:Ie,status:ve,statusText:me,url:Oe||void 0})),lt.complete()):lt.error(new Xe({error:be,headers:Ie,status:ve,statusText:me,url:Oe||void 0}))},Wn=Ie=>{const{url:ve}=On(),me=new Xe({error:Ie,status:vt.status||0,statusText:vt.statusText||"Unknown Error",url:ve||void 0});lt.error(me)};let $n=!1;const Zr=Ie=>{$n||(lt.next(On()),$n=!0);let ve={type:Je.DownloadProgress,loaded:Ie.loaded};Ie.lengthComputable&&(ve.total=Ie.total),"text"===ye.responseType&&!!vt.responseText&&(ve.partialText=vt.responseText),lt.next(ve)},An=Ie=>{let ve={type:Je.UploadProgress,loaded:Ie.loaded};Ie.lengthComputable&&(ve.total=Ie.total),lt.next(ve)};return vt.addEventListener("load",Gt),vt.addEventListener("error",Wn),vt.addEventListener("timeout",Wn),vt.addEventListener("abort",Wn),ye.reportProgress&&(vt.addEventListener("progress",Zr),null!==tn&&vt.upload&&vt.upload.addEventListener("progress",An)),vt.send(tn),lt.next({type:Je.Sent}),()=>{vt.removeEventListener("error",Wn),vt.removeEventListener("abort",Wn),vt.removeEventListener("load",Gt),vt.removeEventListener("timeout",Wn),ye.reportProgress&&(vt.removeEventListener("progress",Zr),null!==tn&&vt.upload&&vt.upload.removeEventListener("progress",An)),vt.readyState!==vt.DONE&&vt.abort()}})}}return gt.\u0275fac=function(ye){return new(ye||gt)(h.LFG(y.JF))},gt.\u0275prov=h.Yz7({token:gt,factory:gt.\u0275fac}),gt})();const Yn=new h.OlP("XSRF_COOKIE_NAME"),Mn=new h.OlP("XSRF_HEADER_NAME");class Nn{}let sr=(()=>{class gt{constructor(ye,lt,vt){this.doc=ye,this.platform=lt,this.cookieName=vt,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const ye=this.doc.cookie||"";return ye!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,y.Mx)(ye,this.cookieName),this.lastCookieString=ye),this.lastToken}}return gt.\u0275fac=function(ye){return new(ye||gt)(h.LFG(y.K0),h.LFG(h.Lbi),h.LFG(Yn))},gt.\u0275prov=h.Yz7({token:gt,factory:gt.\u0275fac}),gt})(),Un=(()=>{class gt{constructor(ye,lt){this.tokenService=ye,this.headerName=lt}intercept(ye,lt){const vt=ye.url.toLowerCase();if("GET"===ye.method||"HEAD"===ye.method||vt.startsWith("http://")||vt.startsWith("https://"))return lt.handle(ye);const tn=this.tokenService.getToken();return null!==tn&&!ye.headers.has(this.headerName)&&(ye=ye.clone({headers:ye.headers.set(this.headerName,tn)})),lt.handle(ye)}}return gt.\u0275fac=function(ye){return new(ye||gt)(h.LFG(Nn),h.LFG(Mn))},gt.\u0275prov=h.Yz7({token:gt,factory:gt.\u0275fac}),gt})(),Ot=(()=>{class gt{constructor(ye,lt){this.backend=ye,this.injector=lt,this.chain=null}handle(ye){if(null===this.chain){const lt=this.injector.get(un,[]);this.chain=lt.reduceRight((vt,tn)=>new zt(vt,tn),this.backend)}return this.chain.handle(ye)}}return gt.\u0275fac=function(ye){return new(ye||gt)(h.LFG(Qe),h.LFG(h.zs3))},gt.\u0275prov=h.Yz7({token:gt,factory:gt.\u0275fac}),gt})(),Tr=(()=>{class gt{static disable(){return{ngModule:gt,providers:[{provide:Un,useClass:ln}]}}static withOptions(ye={}){return{ngModule:gt,providers:[ye.cookieName?{provide:Yn,useValue:ye.cookieName}:[],ye.headerName?{provide:Mn,useValue:ye.headerName}:[]]}}}return gt.\u0275fac=function(ye){return new(ye||gt)},gt.\u0275mod=h.oAB({type:gt}),gt.\u0275inj=h.cJS({providers:[Un,{provide:un,useExisting:Un,multi:!0},{provide:Nn,useClass:sr},{provide:Yn,useValue:"XSRF-TOKEN"},{provide:Mn,useValue:"X-XSRF-TOKEN"}]}),gt})(),Yr=(()=>{class gt{}return gt.\u0275fac=function(ye){return new(ye||gt)},gt.\u0275mod=h.oAB({type:gt}),gt.\u0275inj=h.cJS({providers:[Ut,{provide:Fe,useClass:Ot},Kn,{provide:Qe,useExisting:Kn}],imports:[Tr.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]}),gt})()},4650:(ut,Be,k)=>{k.d(Be,{$8M:()=>ol,$Z:()=>$f,AFp:()=>RE,ALo:()=>eE,AaK:()=>Fe,BQk:()=>E_,CHM:()=>Io,CRH:()=>uE,CZH:()=>Dv,CqO:()=>C_,D6c:()=>HD,EJc:()=>nD,EiD:()=>dd,EpF:()=>iy,F$t:()=>jg,F4k:()=>pp,FYo:()=>Ln,FiY:()=>Xt,G48:()=>DD,Gf:()=>lE,GfV:()=>Wc,Gpc:()=>ge,Hsn:()=>Gh,JOm:()=>kl,JVY:()=>ad,Jf7:()=>Df,KtG:()=>pi,L6k:()=>du,LAX:()=>ys,LFG:()=>Ni,LSH:()=>da,Lbi:()=>XC,Lck:()=>Z0,MAs:()=>hp,MMx:()=>Kv,NdJ:()=>Ec,O4$:()=>hn,OlP:()=>rn,Oqu:()=>Jg,PXZ:()=>mD,Q6J:()=>$h,QGY:()=>fp,QP$:()=>wi,QbO:()=>JC,Qsj:()=>xn,R0b:()=>au,RDi:()=>jd,Rgc:()=>Uy,SBq:()=>ft,Sil:()=>iD,Suo:()=>cE,TTD:()=>qi,TgZ:()=>yl,Tol:()=>gy,Udp:()=>Jh,VKq:()=>Gb,WFA:()=>D_,X6Q:()=>CD,XFs:()=>Ot,Xpm:()=>Oe,Xts:()=>_u,Y36:()=>eu,YKP:()=>Ub,YNc:()=>Ug,Yjl:()=>Vn,Yz7:()=>_t,Z0I:()=>wn,ZZ4:()=>pb,_Bn:()=>Bb,_UZ:()=>zu,_Vd:()=>G,_c5:()=>UD,_uU:()=>My,aQg:()=>_b,c2e:()=>eD,cJS:()=>ze,cg1:()=>p,d8E:()=>lm,dDg:()=>fD,dqk:()=>vt,eBb:()=>cl,eFA:()=>ZE,ekj:()=>Yg,eoX:()=>jE,f3M:()=>B,g9A:()=>LE,h0i:()=>um,hGG:()=>VD,hij:()=>A_,iGM:()=>aE,ifc:()=>lt,ip1:()=>PE,jDz:()=>Hb,kL8:()=>o,lG2:()=>Br,lcZ:()=>tE,lqb:()=>no,lri:()=>HE,mCW:()=>Tl,n5z:()=>td,n_E:()=>yv,oAB:()=>nn,oJD:()=>Tp,oxw:()=>zh,pB0:()=>qd,q3G:()=>Si,q4F:()=>fd,qLn:()=>lh,qOj:()=>__,qZA:()=>Zu,qzn:()=>sc,rWj:()=>WE,s9C:()=>Kg,sBO:()=>wD,sIi:()=>Go,s_b:()=>bv,soG:()=>wv,tb:()=>NE,tp0:()=>Pn,uIk:()=>xi,vHH:()=>tt,vpe:()=>Vd,wAp:()=>S,xp6:()=>Im,ynx:()=>ru,z2F:()=>Mv,z3N:()=>ts,zSh:()=>cc,zs3:()=>Yc});var y=k(7579),h=k(727),q=k(9751),_e=k(6451),Ae=k(3099);function Le(n){for(let r in n)if(n[r]===Le)return r;throw Error("Could not find renamed property on target object.")}function Ue(n,r){for(const a in r)r.hasOwnProperty(a)&&!n.hasOwnProperty(a)&&(n[a]=r[a])}function Fe(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Fe).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const r=n.toString();if(null==r)return""+r;const a=r.indexOf("\n");return-1===a?r:r.substring(0,a)}function Qe(n,r){return null==n||""===n?null===r?"":r:null==r||""===r?n:n+" "+r}const he=Le({__forward_ref__:Le});function ge(n){return n.__forward_ref__=ge,n.toString=function(){return Fe(this())},n}function Pe(n){return Et(n)?n():n}function Et(n){return"function"==typeof n&&n.hasOwnProperty(he)&&n.__forward_ref__===ge}class tt extends Error{constructor(r,a){super(function Bt(n,r){return`NG0${Math.abs(n)}${r?": "+r.trim():""}`}(r,a)),this.code=r}}function rt(n){return"string"==typeof n?n:null==n?"":String(n)}function Me(n,r){throw new tt(-201,!1)}function ln(n,r){null==n&&function Dt(n,r,a,u){throw new Error(`ASSERTION ERROR: ${n}`+(null==u?"":` [Expected=> ${a} ${u} ${r} <=Actual]`))}(r,n,null,"!=")}function _t(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function ze(n){return{providers:n.providers||[],imports:n.imports||[]}}function Vt(n){return rr(n,Mn)||rr(n,sr)}function wn(n){return null!==Vt(n)}function rr(n,r){return n.hasOwnProperty(r)?n[r]:null}function Yn(n){return n&&(n.hasOwnProperty(Nn)||n.hasOwnProperty(Un))?n[Nn]:null}const Mn=Le({\u0275prov:Le}),Nn=Le({\u0275inj:Le}),sr=Le({ngInjectableDef:Le}),Un=Le({ngInjectorDef:Le});var Ot=(()=>((Ot=Ot||{})[Ot.Default=0]="Default",Ot[Ot.Host=1]="Host",Ot[Ot.Self=2]="Self",Ot[Ot.SkipSelf=4]="SkipSelf",Ot[Ot.Optional=8]="Optional",Ot))();let Qn;function Tr(n){const r=Qn;return Qn=n,r}function Yr(n,r,a){const u=Vt(n);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:a&Ot.Optional?null:void 0!==r?r:void Me(Fe(n))}function mr(n){return{toString:n}.toString()}var gt=(()=>((gt=gt||{})[gt.OnPush=0]="OnPush",gt[gt.Default=1]="Default",gt))(),lt=(()=>{return(n=lt||(lt={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",lt;var n})();const vt=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),On={},Gt=[],Wn=Le({\u0275cmp:Le}),$n=Le({\u0275dir:Le}),Zr=Le({\u0275pipe:Le}),An=Le({\u0275mod:Le}),Ie=Le({\u0275fac:Le}),ve=Le({__NG_ELEMENT_ID__:Le});let me=0;function Oe(n){return mr(()=>{const a=!0===n.standalone,u={},_={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:u,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===gt.OnPush,directiveDefs:null,pipeDefs:null,standalone:a,dependencies:a&&n.dependencies||null,getStandaloneInjector:null,selectors:n.selectors||Gt,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||lt.Emulated,id:"c"+me++,styles:n.styles||Gt,_:null,setInput:null,schemas:n.schemas||null,tView:null},b=n.dependencies,T=n.features;return _.inputs=ar(n.inputs,u),_.outputs=ar(n.outputs),T&&T.forEach(P=>P(_)),_.directiveDefs=b?()=>("function"==typeof b?b():b).map(Ct).filter(jt):null,_.pipeDefs=b?()=>("function"==typeof b?b():b).map(Ur).filter(jt):null,_})}function Ct(n){return Fn(n)||Er(n)}function jt(n){return null!==n}function nn(n){return mr(()=>({type:n.type,bootstrap:n.bootstrap||Gt,declarations:n.declarations||Gt,imports:n.imports||Gt,exports:n.exports||Gt,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function ar(n,r){if(null==n)return On;const a={};for(const u in n)if(n.hasOwnProperty(u)){let _=n[u],b=_;Array.isArray(_)&&(b=_[1],_=_[0]),a[_]=u,r&&(r[_]=b)}return a}const Br=Oe;function Vn(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function Fn(n){return n[Wn]||null}function Er(n){return n[$n]||null}function Ur(n){return n[Zr]||null}function wi(n){const r=Fn(n)||Er(n)||Ur(n);return null!==r&&r.standalone}function _i(n,r){const a=n[An]||null;if(!a&&!0===r)throw new Error(`Type ${Fe(n)} does not have '\u0275mod' property.`);return a}function ii(n){return Array.isArray(n)&&"object"==typeof n[1]}function Ri(n){return Array.isArray(n)&&!0===n[1]}function qo(n){return 0!=(8&n.flags)}function Cs(n){return 2==(2&n.flags)}function pa(n){return 1==(1&n.flags)}function oi(n){return null!==n.template}function Sa(n){return 0!=(256&n[2])}function Co(n,r){return n.hasOwnProperty(Ie)?n[Ie]:null}class Gi{constructor(r,a,u){this.previousValue=r,this.currentValue=a,this.firstChange=u}isFirstChange(){return this.firstChange}}function qi(){return No}function No(n){return n.type.prototype.ngOnChanges&&(n.setInput=as),Fo}function Fo(){const n=xa(this),r=n?.current;if(r){const a=n.previous;if(a===On)n.previous=r;else for(let u in r)a[u]=r[u];n.current=null,this.ngOnChanges(r)}}function as(n,r,a,u){const _=xa(n)||function Do(n,r){return n[ea]=r}(n,{previous:On,current:null}),b=_.current||(_.current={}),T=_.previous,P=this.declaredInputs[a],L=T[P];b[P]=new Gi(L&&L.currentValue,r,T===On),n[u]=r}qi.ngInherit=!0;const ea="__ngSimpleChanges__";function xa(n){return n[ea]||null}function zr(n){for(;Array.isArray(n);)n=n[0];return n}function To(n,r){return zr(r[n])}function Ci(n,r){return zr(r[n.index])}function Qo(n,r){return n.data[r]}function Yi(n,r){return n[r]}function ir(n,r){const a=r[n];return ii(a)?a:a[0]}function Bs(n){return 4==(4&n[2])}function Cr(n){return 64==(64&n[2])}function Jr(n,r){return null==r?null:n[r]}function ta(n){n[18]=0}function Dr(n,r){n[5]+=r;let a=n,u=n[3];for(;null!==u&&(1===r&&1===a[5]||-1===r&&0===a[5]);)u[5]+=r,a=u,u=u[3]}const Rn={lFrame:ka(null),bindingsEnabled:!0};function Ii(){return Rn.bindingsEnabled}function xt(){return Rn.lFrame.lView}function zn(){return Rn.lFrame.tView}function Io(n){return Rn.lFrame.contextLView=n,n[8]}function pi(n){return Rn.lFrame.contextLView=null,n}function Ir(){let n=$();for(;null!==n&&64===n.type;)n=n.parent;return n}function $(){return Rn.lFrame.currentTNode}function U(n,r){const a=Rn.lFrame;a.currentTNode=n,a.isParent=r}function re(){return Rn.lFrame.isParent}function pt(){Rn.lFrame.isParent=!1}function Pr(){const n=Rn.lFrame;let r=n.bindingRootIndex;return-1===r&&(r=n.bindingRootIndex=n.tView.bindingStartIndex),r}function Uo(){return Rn.lFrame.bindingIndex++}function Wi(n){const r=Rn.lFrame,a=r.bindingIndex;return r.bindingIndex=r.bindingIndex+n,a}function Us(n,r){const a=Rn.lFrame;a.bindingIndex=a.bindingRootIndex=n,cs(r)}function cs(n){Rn.lFrame.currentDirectiveIndex=n}function us(n){const r=Rn.lFrame.currentDirectiveIndex;return-1===r?null:n[r]}function ya(){return Rn.lFrame.currentQueryIndex}function Kr(n){Rn.lFrame.currentQueryIndex=n}function va(n){const r=n[1];return 2===r.type?r.declTNode:1===r.type?n[6]:null}function Ms(n,r,a){if(a&Ot.SkipSelf){let _=r,b=n;for(;!(_=_.parent,null!==_||a&Ot.Host||(_=va(b),null===_||(b=b[15],10&_.type))););if(null===_)return!1;r=_,n=b}const u=Rn.lFrame=bl();return u.currentTNode=r,u.lView=n,!0}function Xa(n){const r=bl(),a=n[1];Rn.lFrame=r,r.currentTNode=a.firstChild,r.lView=n,r.tView=a,r.contextLView=n,r.bindingIndex=a.bindingStartIndex,r.inI18n=!1}function bl(){const n=Rn.lFrame,r=null===n?null:n.child;return null===r?ka(n):r}function ka(n){const r={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=r),r}function Ja(){const n=Rn.lFrame;return Rn.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const N=Ja;function Y(){const n=Ja();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Ce(){return Rn.lFrame.selectedIndex}function at(n){Rn.lFrame.selectedIndex=n}function mt(){const n=Rn.lFrame;return Qo(n.tView,n.selectedIndex)}function hn(){Rn.lFrame.currentNamespace="svg"}function wr(n,r){for(let a=r.directiveStart,u=r.directiveEnd;a<u;a++){const b=n.data[a].type.prototype,{ngAfterContentInit:T,ngAfterContentChecked:P,ngAfterViewInit:L,ngAfterViewChecked:z,ngOnDestroy:ne}=b;T&&(n.contentHooks||(n.contentHooks=[])).push(-a,T),P&&((n.contentHooks||(n.contentHooks=[])).push(a,P),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(a,P)),L&&(n.viewHooks||(n.viewHooks=[])).push(-a,L),z&&((n.viewHooks||(n.viewHooks=[])).push(a,z),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(a,z)),null!=ne&&(n.destroyHooks||(n.destroyHooks=[])).push(a,ne)}}function ti(n,r,a){ao(n,r,3,a)}function Ts(n,r,a,u){(3&n[2])===a&&ao(n,r,a,u)}function Vo(n,r){let a=n[2];(3&a)===r&&(a&=2047,a+=1,n[2]=a)}function ao(n,r,a,u){const b=u??-1,T=r.length-1;let P=0;for(let L=void 0!==u?65535&n[18]:0;L<T;L++)if("number"==typeof r[L+1]){if(P=r[L],null!=u&&P>=u)break}else r[L]<0&&(n[18]+=65536),(P<b||-1==b)&&(ds(n,a,r,L),n[18]=(4294901760&n[18])+L+2),L++}function ds(n,r,a,u){const _=a[u]<0,b=a[u+1],P=n[_?-a[u]:a[u]];if(_){if(n[2]>>11<n[18]>>16&&(3&n[2])===r){n[2]+=2048;try{b.call(P)}finally{}}}else try{b.call(P)}finally{}}class Ho{constructor(r,a,u){this.factory=r,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=u}}function Cl(n,r,a){let u=0;for(;u<a.length;){const _=a[u];if("number"==typeof _){if(0!==_)break;u++;const b=a[u++],T=a[u++],P=a[u++];n.setAttribute(r,T,P,b)}else{const b=_,T=a[++u];Ca(b)?n.setProperty(r,b,T):n.setAttribute(r,b,T),u++}}return u}function Ea(n){return 3===n||4===n||6===n}function Ca(n){return 64===n.charCodeAt(0)}function Ji(n,r){if(null!==r&&0!==r.length)if(null===n||0===n.length)n=r.slice();else{let a=-1;for(let u=0;u<r.length;u++){const _=r[u];"number"==typeof _?a=_:0===a||Ql(n,a,_,null,-1===a||2===a?r[++u]:null)}}return n}function Ql(n,r,a,u,_){let b=0,T=n.length;if(-1===r)T=-1;else for(;b<n.length;){const P=n[b++];if("number"==typeof P){if(P===r){T=-1;break}if(P>r){T=b-1;break}}}for(;b<n.length;){const P=n[b];if("number"==typeof P)break;if(P===a){if(null===u)return void(null!==_&&(n[b+1]=_));if(u===n[b+1])return void(n[b+2]=_)}b++,null!==u&&b++,null!==_&&b++}-1!==T&&(n.splice(T,0,r),b=T+1),n.splice(b++,0,a),null!==u&&n.splice(b++,0,u),null!==_&&n.splice(b++,0,_)}function Dl(n){return-1!==n}function li(n){return 32767&n}function Na(n,r){let a=function Is(n){return n>>16}(n),u=r;for(;a>0;)u=u[15],a--;return u}let As=!0;function tl(n){const r=As;return As=n,r}let ci=0;const lo={};function ui(n,r){const a=fs(n,r);if(-1!==a)return a;const u=r[1];u.firstCreatePass&&(n.injectorIndex=r.length,hs(u.data,n),hs(r,null),hs(u.blueprint,null));const _=ps(n,r),b=n.injectorIndex;if(Dl(_)){const T=li(_),P=Na(_,r),L=P[1].data;for(let z=0;z<8;z++)r[b+z]=P[T+z]|L[T+z]}return r[b+8]=_,b}function hs(n,r){n.push(0,0,0,0,0,0,0,0,r)}function fs(n,r){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===r[n.injectorIndex+8]?-1:n.injectorIndex}function ps(n,r){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let a=0,u=null,_=r;for(;null!==_;){if(u=il(_),null===u)return-1;if(a++,_=_[15],-1!==u.injectorIndex)return u.injectorIndex|a<<16}return-1}function na(n,r,a){!function Vs(n,r,a){let u;"string"==typeof a?u=a.charCodeAt(0)||0:a.hasOwnProperty(ve)&&(u=a[ve]),null==u&&(u=a[ve]=ci++);const _=255&u;r.data[n+(_>>5)]|=1<<_}(n,r,a)}function Gr(n,r,a){if(a&Ot.Optional)return n;Me()}function Hs(n,r,a,u){if(a&Ot.Optional&&void 0===u&&(u=null),0==(a&(Ot.Self|Ot.Host))){const _=n[9],b=Tr(void 0);try{return _?_.get(r,u,a&Ot.Optional):Yr(r,u,a&Ot.Optional)}finally{Tr(b)}}return Gr(u,0,a)}function Ss(n,r,a,u=Ot.Default,_){if(null!==n){if(1024&r[2]){const T=function rl(n,r,a,u,_){let b=n,T=r;for(;null!==b&&null!==T&&1024&T[2]&&!(256&T[2]);){const P=fn(b,T,a,u|Ot.Self,lo);if(P!==lo)return P;let L=b.parent;if(!L){const z=T[21];if(z){const ne=z.get(a,lo,u);if(ne!==lo)return ne}L=il(T),T=T[15]}b=L}return _}(n,r,a,u,lo);if(T!==lo)return T}const b=fn(n,r,a,u,lo);if(b!==lo)return b}return Hs(r,a,u,_)}function fn(n,r,a,u,_){const b=function dt(n){if("string"==typeof n)return n.charCodeAt(0)||0;const r=n.hasOwnProperty(ve)?n[ve]:void 0;return"number"==typeof r?r>=0?255&r:Tc:r}(a);if("function"==typeof b){if(!Ms(r,n,u))return u&Ot.Host?Gr(_,0,u):Hs(r,a,u,_);try{const T=b(u);if(null!=T||u&Ot.Optional)return T;Me()}finally{N()}}else if("number"==typeof b){let T=null,P=fs(n,r),L=-1,z=u&Ot.Host?r[16][6]:null;for((-1===P||u&Ot.SkipSelf)&&(L=-1===P?ps(n,r):r[P+8],-1!==L&&yi(u,!1)?(T=r[1],P=li(L),r=Na(L,r)):P=-1);-1!==P;){const ne=r[1];if(kt(b,P,ne.data)){const le=_n(P,r,a,T,u,z);if(le!==lo)return le}L=r[P+8],-1!==L&&yi(u,r[1].data[P+8]===z)&&kt(b,P,r)?(T=ne,P=li(L),r=Na(L,r)):P=-1}}return _}function _n(n,r,a,u,_,b){const T=r[1],P=T.data[n+8],ne=nl(P,T,a,null==u?Cs(P)&&As:u!=T&&0!=(3&P.type),_&Ot.Host&&b===P);return null!==ne?qt(r,T,ne,P):lo}function nl(n,r,a,u,_){const b=n.providerIndexes,T=r.data,P=1048575&b,L=n.directiveStart,ne=b>>20,He=_?P+ne:n.directiveEnd;for(let ot=u?P:P+ne;ot<He;ot++){const Rt=T[ot];if(ot<L&&a===Rt||ot>=L&&Rt.type===a)return ot}if(_){const ot=T[L];if(ot&&oi(ot)&&ot.type===a)return L}return null}function qt(n,r,a,u){let _=n[a];const b=r.data;if(function Wo(n){return n instanceof Ho}(_)){const T=_;T.resolving&&function Re(n,r){const a=r?`. Dependency path: ${r.join(" > ")} > ${n}`:"";throw new tt(-200,`Circular dependency in DI detected for ${n}${a}`)}(function We(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():rt(n)}(b[a]));const P=tl(T.canSeeViewProviders);T.resolving=!0;const L=T.injectImpl?Tr(T.injectImpl):null;Ms(n,u,Ot.Default);try{_=n[a]=T.factory(void 0,b,n,u),r.firstCreatePass&&a>=u.directiveStart&&function Ai(n,r,a){const{ngOnChanges:u,ngOnInit:_,ngDoCheck:b}=r.type.prototype;if(u){const T=No(r);(a.preOrderHooks||(a.preOrderHooks=[])).push(n,T),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(n,T)}_&&(a.preOrderHooks||(a.preOrderHooks=[])).push(0-n,_),b&&((a.preOrderHooks||(a.preOrderHooks=[])).push(n,b),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(n,b))}(a,b[a],r)}finally{null!==L&&Tr(L),tl(P),T.resolving=!1,N()}}return _}function kt(n,r,a){return!!(a[r+(n>>5)]&1<<n)}function yi(n,r){return!(n&Ot.Self||n&Ot.Host&&r)}class ra{constructor(r,a){this._tNode=r,this._lView=a}get(r,a,u){return Ss(this._tNode,this._lView,r,u,a)}}function Tc(){return new ra(Ir(),xt())}function td(n){return mr(()=>{const r=n.prototype.constructor,a=r[Ie]||wl(r),u=Object.prototype;let _=Object.getPrototypeOf(n.prototype).constructor;for(;_&&_!==u;){const b=_[Ie]||wl(_);if(b&&b!==a)return b;_=Object.getPrototypeOf(_)}return b=>new b})}function wl(n){return Et(n)?()=>{const r=wl(Pe(n));return r&&r()}:Co(n)}function il(n){const r=n[1],a=r.type;return 2===a?r.declTNode:1===a?n[6]:null}function ol(n){return function Kt(n,r){if("class"===r)return n.classes;if("style"===r)return n.styles;const a=n.attrs;if(a){const u=a.length;let _=0;for(;_<u;){const b=a[_];if(Ea(b))break;if(0===b)_+=2;else if("number"==typeof b)for(_++;_<u&&"string"==typeof a[_];)_++;else{if(b===r)return a[_+1];_+=2}}}return null}(Ir(),n)}const Rr="__parameters__";function gs(n,r,a){return mr(()=>{const u=function Hn(n){return function(...a){if(n){const u=n(...a);for(const _ in u)this[_]=u[_]}}}(r);function _(...b){if(this instanceof _)return u.apply(this,b),this;const T=new _(...b);return P.annotation=T,P;function P(L,z,ne){const le=L.hasOwnProperty(Rr)?L[Rr]:Object.defineProperty(L,Rr,{value:[]})[Rr];for(;le.length<=ne;)le.push(null);return(le[ne]=le[ne]||[]).push(T),L}}return a&&(_.prototype=Object.create(a.prototype)),_.prototype.ngMetadataName=n,_.annotationCls=_,_})}class rn{constructor(r,a){this._desc=r,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=_t({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function So(n,r){void 0===r&&(r=n);for(let a=0;a<n.length;a++){let u=n[a];Array.isArray(u)?(r===n&&(r=n.slice(0,a)),So(u,r)):r!==n&&r.push(u)}return r}function co(n,r){n.forEach(a=>Array.isArray(a)?co(a,r):r(a))}function nc(n,r,a){r>=n.length?n.push(a):n.splice(r,0,a)}function Ko(n,r){return r>=n.length-1?n.pop():n.splice(r,1)[0]}function xs(n,r){const a=[];for(let u=0;u<n;u++)a.push(r);return a}function ce(n,r,a){let u=ht(n,r);return u>=0?n[1|u]=a:(u=~u,function I(n,r,a,u){let _=n.length;if(_==r)n.push(a,u);else if(1===_)n.push(u,n[0]),n[0]=a;else{for(_--,n.push(n[_-1],n[_]);_>r;)n[_]=n[_-2],_--;n[r]=a,n[r+1]=u}}(n,u,r,a)),u}function De(n,r){const a=ht(n,r);if(a>=0)return n[1|a]}function ht(n,r){return function Xn(n,r,a){let u=0,_=n.length>>a;for(;_!==u;){const b=u+(_-u>>1),T=n[b<<a];if(r===T)return b<<a;T>r?_=b:u=b+1}return~(_<<a)}(n,r,1)}const aa={},sl="__NG_DI_FLAG__",Zo="ngTempTokenPath",Li=/\n/gm,Nt="__source";let hi;function es(n){const r=hi;return hi=n,r}function Ac(n,r=Ot.Default){if(void 0===hi)throw new tt(-203,!1);return null===hi?Yr(n,void 0,r):hi.get(n,r&Ot.Optional?null:void 0,r)}function Ni(n,r=Ot.Default){return(function br(){return Qn}()||Ac)(Pe(n),r)}function B(n,r=Ot.Default){return"number"!=typeof r&&(r=0|(r.optional&&8)|(r.host&&1)|(r.self&&2)|(r.skipSelf&&4)),Ni(n,r)}function j(n){const r=[];for(let a=0;a<n.length;a++){const u=Pe(n[a]);if(Array.isArray(u)){if(0===u.length)throw new tt(900,!1);let _,b=Ot.Default;for(let T=0;T<u.length;T++){const P=u[T],L=pe(P);"number"==typeof L?-1===L?_=P.token:b|=L:_=P}r.push(Ni(_,b))}else r.push(Ni(u))}return r}function X(n,r){return n[sl]=r,n.prototype[sl]=r,n}function pe(n){return n[sl]}const Xt=X(gs("Optional"),8),Pn=X(gs("SkipSelf"),4);let Oc,ic,cu;function jd(n){Oc=n}function Pc(n){return function go(){if(void 0===ic&&(ic=null,vt.trustedTypes))try{ic=vt.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return ic}()?.createHTML(n)||n}function Rc(n){return function $d(){if(void 0===cu&&(cu=null,vt.trustedTypes))try{cu=vt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return cu}()?.createHTML(n)||n}class Os{constructor(r){this.changingThisBreaksApplicationSecurity=r}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Dp extends Os{getTypeName(){return"HTML"}}class uu extends Os{getTypeName(){return"Style"}}class kc extends Os{getTypeName(){return"Script"}}class Ha extends Os{getTypeName(){return"URL"}}class zd extends Os{getTypeName(){return"ResourceURL"}}function ts(n){return n instanceof Os?n.changingThisBreaksApplicationSecurity:n}function sc(n,r){const a=function Gd(n){return n instanceof Os&&n.getTypeName()||null}(n);if(null!=a&&a!==r){if("ResourceURL"===a&&"URL"===r)return!0;throw new Error(`Required a safe ${r}, got a ${a} (see https://g.co/ng/security#xss)`)}return a===r}function ad(n){return new Dp(n)}function du(n){return new uu(n)}function cl(n){return new kc(n)}function ys(n){return new Ha(n)}function qd(n){return new zd(n)}class cf{constructor(r){this.inertDocumentHelper=r}getInertBodyElement(r){r="<body><remove></remove>"+r;try{const a=(new window.DOMParser).parseFromString(Pc(r),"text/html").body;return null===a?this.inertDocumentHelper.getInertBodyElement(r):(a.removeChild(a.firstChild),a)}catch{return null}}}class Yd{constructor(r){if(this.defaultDoc=r,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const a=this.inertDocument.createElement("html");this.inertDocument.appendChild(a);const u=this.inertDocument.createElement("body");a.appendChild(u)}}getInertBodyElement(r){const a=this.inertDocument.createElement("template");if("content"in a)return a.innerHTML=Pc(r),a;const u=this.inertDocument.createElement("body");return u.innerHTML=Pc(r),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(u),u}stripCustomNsAttrs(r){const a=r.attributes;for(let _=a.length-1;0<_;_--){const T=a.item(_).name;("xmlns:ns1"===T||0===T.indexOf("ns1:"))&&r.removeAttribute(T)}let u=r.firstChild;for(;u;)u.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(u),u=u.nextSibling}}const uf=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function Tl(n){return(n=String(n)).match(uf)?n:"unsafe:"+n}function Wa(n){const r={};for(const a of n.split(","))r[a]=!0;return r}function Il(...n){const r={};for(const a of n)for(const u in a)a.hasOwnProperty(u)&&(r[u]=!0);return r}const Qd=Wa("area,br,col,hr,img,wbr"),hu=Wa("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),ld=Wa("rp,rt"),Al=Il(Qd,Il(hu,Wa("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Il(ld,Wa("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Il(ld,hu)),Xd=Wa("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),ul=Wa("srcset"),pu=Il(Xd,ul,Wa("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Wa("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Lc=Wa("script,style,template");class ac{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(r){let a=r.firstChild,u=!0;for(;a;)if(a.nodeType===Node.ELEMENT_NODE?u=this.startElement(a):a.nodeType===Node.TEXT_NODE?this.chars(a.nodeValue):this.sanitizedSomething=!0,u&&a.firstChild)a=a.firstChild;else for(;a;){a.nodeType===Node.ELEMENT_NODE&&this.endElement(a);let _=this.checkClobberedElement(a,a.nextSibling);if(_){a=_;break}a=this.checkClobberedElement(a,a.parentNode)}return this.buf.join("")}startElement(r){const a=r.nodeName.toLowerCase();if(!Al.hasOwnProperty(a))return this.sanitizedSomething=!0,!Lc.hasOwnProperty(a);this.buf.push("<"),this.buf.push(a);const u=r.attributes;for(let _=0;_<u.length;_++){const b=u.item(_),T=b.name,P=T.toLowerCase();if(!pu.hasOwnProperty(P)){this.sanitizedSomething=!0;continue}let L=b.value;Xd[P]&&(L=Tl(L)),ul[P]&&(n=L,L=(n=String(n)).split(",").map(r=>Tl(r.trim())).join(", ")),this.buf.push(" ",T,'="',vi(L),'"')}var n;return this.buf.push(">"),!0}endElement(r){const a=r.nodeName.toLowerCase();Al.hasOwnProperty(a)&&!Qd.hasOwnProperty(a)&&(this.buf.push("</"),this.buf.push(a),this.buf.push(">"))}chars(r){this.buf.push(vi(r))}checkClobberedElement(r,a){if(a&&(r.compareDocumentPosition(a)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${r.outerHTML}`);return a}}const ud=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,U_=/([^\#-~ |!])/g;function vi(n){return n.replace(/&/g,"&amp;").replace(ud,function(r){return"&#"+(1024*(r.charCodeAt(0)-55296)+(r.charCodeAt(1)-56320)+65536)+";"}).replace(U_,function(r){return"&#"+r.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Nc;function dd(n,r){let a=null;try{Nc=Nc||function Ma(n){const r=new Yd(n);return function Ml(){try{return!!(new window.DOMParser).parseFromString(Pc(""),"text/html")}catch{return!1}}()?new cf(r):r}(n);let u=r?String(r):"";a=Nc.getInertBodyElement(u);let _=5,b=u;do{if(0===_)throw new Error("Failed to sanitize html because the input is unstable");_--,u=b,b=a.innerHTML,a=Nc.getInertBodyElement(u)}while(u!==b);return Pc((new ac).sanitizeChildren(Jd(a)||a))}finally{if(a){const u=Jd(a)||a;for(;u.firstChild;)u.removeChild(u.firstChild)}}}function Jd(n){return"content"in n&&function Mp(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var Si=(()=>((Si=Si||{})[Si.NONE=0]="NONE",Si[Si.HTML=1]="HTML",Si[Si.STYLE=2]="STYLE",Si[Si.SCRIPT=3]="SCRIPT",Si[Si.URL=4]="URL",Si[Si.RESOURCE_URL=5]="RESOURCE_URL",Si))();function Tp(n){const r=vr();return r?Rc(r.sanitize(Si.HTML,n)||""):sc(n,"HTML")?Rc(ts(n)):dd(function Kd(){return void 0!==Oc?Oc:typeof document<"u"?document:void 0}(),rt(n))}function da(n){const r=vr();return r?r.sanitize(Si.URL,n)||"":sc(n,"URL")?ts(n):Tl(rt(n))}function vr(){const n=xt();return n&&n[12]}const _u=new rn("ENVIRONMENT_INITIALIZER"),nh=new rn("INJECTOR",-1),Sl=new rn("INJECTOR_DEF_TYPES");class rh{get(r,a=aa){if(a===aa){const u=new Error(`NullInjectorError: No provider for ${Fe(r)}!`);throw u.name="NullInjectorError",u}return a}}function Ps(...n){return{\u0275providers:Rs(0,n)}}function Rs(n,...r){const a=[],u=new Set;let _;return co(r,b=>{const T=b;Bc(T,a,[],u)&&(_||(_=[]),_.push(T))}),void 0!==_&&ja(_,a),a}function ja(n,r){for(let a=0;a<n.length;a++){const{providers:_}=n[a];co(_,b=>{r.push(b)})}}function Bc(n,r,a,u){if(!(n=Pe(n)))return!1;let _=null,b=Yn(n);const T=!b&&Fn(n);if(b||T){if(T&&!T.standalone)return!1;_=n}else{const L=n.ngModule;if(b=Yn(L),!b)return!1;_=L}const P=u.has(_);if(T){if(P)return!1;if(u.add(_),T.dependencies){const L="function"==typeof T.dependencies?T.dependencies():T.dependencies;for(const z of L)Bc(z,r,a,u)}}else{if(!b)return!1;{if(null!=b.imports&&!P){let z;u.add(_);try{co(b.imports,ne=>{Bc(ne,r,a,u)&&(z||(z=[]),z.push(ne))})}finally{}void 0!==z&&ja(z,r)}if(!P){const z=Co(_)||(()=>new _);r.push({provide:_,useFactory:z,deps:Gt},{provide:Sl,useValue:_,multi:!0},{provide:_u,useValue:()=>Ni(_),multi:!0})}const L=b.providers;null==L||P||co(L,ne=>{r.push(ne)})}}return _!==n&&void 0!==n.providers}const Uc=Le({provide:String,useValue:Le});function Ka(n){return null!==n&&"object"==typeof n&&Uc in n}function er(n){return"function"==typeof n}const cc=new rn("Set Injector scope."),xl={},gu={};let Vc;function uc(){return void 0===Vc&&(Vc=new rh),Vc}class no{}class Ol extends no{constructor(r,a,u,_){super(),this.parent=a,this.source=u,this.scopes=_,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Fi(r,T=>this.processProvider(T)),this.records.set(nh,Pl(void 0,this)),_.has("environment")&&this.records.set(no,Pl(void 0,this));const b=this.records.get(cc);null!=b&&"string"==typeof b.value&&this.scopes.add(b.value),this.injectorDefTypes=new Set(this.get(Sl.multi,Gt,Ot.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const r of this._ngOnDestroyHooks)r.ngOnDestroy();for(const r of this._onDestroyHooks)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(r){this._onDestroyHooks.push(r)}runInContext(r){this.assertNotDestroyed();const a=es(this),u=Tr(void 0);try{return r()}finally{es(a),Tr(u)}}get(r,a=aa,u=Ot.Default){this.assertNotDestroyed();const _=es(this),b=Tr(void 0);try{if(!(u&Ot.SkipSelf)){let P=this.records.get(r);if(void 0===P){const L=function vu(n){return"function"==typeof n||"object"==typeof n&&n instanceof rn}(r)&&Vt(r);P=L&&this.injectableDefInScope(L)?Pl(mu(r),xl):null,this.records.set(r,P)}if(null!=P)return this.hydrate(r,P)}return(u&Ot.Self?uc():this.parent).get(r,a=u&Ot.Optional&&a===aa?null:a)}catch(T){if("NullInjectorError"===T.name){if((T[Zo]=T[Zo]||[]).unshift(Fe(r)),_)throw T;return function Ye(n,r,a,u){const _=n[Zo];throw r[Nt]&&_.unshift(r[Nt]),n.message=function ct(n,r,a,u=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let _=Fe(r);if(Array.isArray(r))_=r.map(Fe).join(" -> ");else if("object"==typeof r){let b=[];for(let T in r)if(r.hasOwnProperty(T)){let P=r[T];b.push(T+":"+("string"==typeof P?JSON.stringify(P):Fe(P)))}_=`{${b.join(", ")}}`}return`${a}${u?"("+u+")":""}[${_}]: ${n.replace(Li,"\n  ")}`}("\n"+n.message,_,a,u),n.ngTokenPath=_,n[Zo]=null,n}(T,r,"R3InjectorError",this.source)}throw T}finally{Tr(b),es(_)}}resolveInjectorInitializers(){const r=es(this),a=Tr(void 0);try{const u=this.get(_u.multi,Gt,Ot.Self);for(const _ of u)_()}finally{es(r),Tr(a)}}toString(){const r=[],a=this.records;for(const u of a.keys())r.push(Fe(u));return`R3Injector[${r.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new tt(205,!1)}processProvider(r){let a=er(r=Pe(r))?r:Pe(r&&r.provide);const u=function $a(n){return Ka(n)?Pl(void 0,n.useValue):Pl(Za(n),xl)}(r);if(er(r)||!0!==r.multi)this.records.get(a);else{let _=this.records.get(a);_||(_=Pl(void 0,xl,!0),_.factory=()=>j(_.multi),this.records.set(a,_)),a=r,_.multi.push(r)}this.records.set(a,u)}hydrate(r,a){return a.value===xl&&(a.value=gu,a.value=a.factory()),"object"==typeof a.value&&a.value&&function Hc(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(a.value)&&this._ngOnDestroyHooks.add(a.value),a.value}injectableDefInScope(r){if(!r.providedIn)return!1;const a=Pe(r.providedIn);return"string"==typeof a?"any"===a||this.scopes.has(a):this.injectorDefTypes.has(a)}}function mu(n){const r=Vt(n),a=null!==r?r.factory:Co(n);if(null!==a)return a;if(n instanceof rn)throw new tt(204,!1);if(n instanceof Function)return function yu(n){const r=n.length;if(r>0)throw xs(r,"?"),new tt(204,!1);const a=function dr(n){const r=n&&(n[Mn]||n[sr]);if(r){const a=function Kn(n){if(n.hasOwnProperty("name"))return n.name;const r=(""+n).match(/^function\s*([^\s(]+)/);return null===r?"":r[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${a}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${a}" class.`),r}return null}(n);return null!==a?()=>a.factory(n):()=>new n}(n);throw new tt(204,!1)}function Za(n,r,a){let u;if(er(n)){const _=Pe(n);return Co(_)||mu(_)}if(Ka(n))u=()=>Pe(n.useValue);else if(function pf(n){return!(!n||!n.useFactory)}(n))u=()=>n.useFactory(...j(n.deps||[]));else if(function ih(n){return!(!n||!n.useExisting)}(n))u=()=>Ni(Pe(n.useExisting));else{const _=Pe(n&&(n.useClass||n.provide));if(!function _f(n){return!!n.deps}(n))return Co(_)||mu(_);u=()=>new _(...j(n.deps))}return u}function Pl(n,r,a=!1){return{factory:n,value:r,multi:a?[]:void 0}}function dc(n){return!!n.\u0275providers}function Fi(n,r){for(const a of n)Array.isArray(a)?Fi(a,r):dc(a)?Fi(a.\u0275providers,r):r(a)}class gf{}class x{resolveComponentFactory(r){throw function M(n){const r=Error(`No component factory found for ${Fe(n)}. Did you add it to @NgModule.entryComponents?`);return r.ngComponent=n,r}(r)}}let G=(()=>{class n{}return n.NULL=new x,n})();function ie(){return Ve(Ir(),xt())}function Ve(n,r){return new ft(Ci(n,r))}let ft=(()=>{class n{constructor(a){this.nativeElement=a}}return n.__NG_ELEMENT_ID__=ie,n})();function Jt(n){return n instanceof ft?n.nativeElement:n}class Ln{}let xn=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function mo(){const n=xt(),a=ir(Ir().index,n);return(ii(a)?a:n)[11]}(),n})(),ha=(()=>{class n{}return n.\u0275prov=_t({token:n,providedIn:"root",factory:()=>null}),n})();class Wc{constructor(r){this.full=r,this.major=r.split(".")[0],this.minor=r.split(".")[1],this.patch=r.split(".").slice(2).join(".")}}const fd=new Wc("14.2.1"),jc={};function bf(n){return n.ngOriginalError}class lh{constructor(){this._console=console}handleError(r){const a=this._findOriginalError(r);this._console.error("ERROR",r),a&&this._console.error("ORIGINAL ERROR",a)}_findOriginalError(r){let a=r&&bf(r);for(;a&&bf(a);)a=bf(a);return a||null}}const Pp=new Map;let Hy=0;const ch="__ngContext__";function rs(n,r){ii(r)?(n[ch]=r[20],function bm(n){Pp.set(n[20],n)}(r)):n[ch]=r}function za(n){const r=n[ch];return"number"==typeof r?function Rp(n){return Pp.get(n)||null}(r):r||null}function Cf(n){const r=za(n);return r?ii(r)?r:r.lView:null}function Df(n){return n.ownerDocument.defaultView}function Rl(n){return n instanceof Function?n():n}var kl=(()=>((kl=kl||{})[kl.Important=1]="Important",kl[kl.DashCase=2]="DashCase",kl))();function Fp(n,r){return undefined(n,r)}function md(n){const r=n[3];return Ri(r)?r[3]:r}function hh(n){return Tf(n[13])}function yd(n){return Tf(n[4])}function Tf(n){for(;null!==n&&!Ri(n);)n=n[4];return n}function fl(n,r,a,u,_){if(null!=u){let b,T=!1;Ri(u)?b=u:ii(u)&&(T=!0,u=u[0]);const P=zr(u);0===n&&null!==a?null==_?Up(r,a,P):vd(r,a,P,_||null,!0):1===n&&null!==a?vd(r,a,P,_||null,!0):2===n?function Cd(n,r,a){const u=gh(n,r);u&&function wm(n,r,a,u){n.removeChild(r,a,u)}(n,u,r,a)}(r,P,T):3===n&&r.destroyNode(P),null!=b&&function J_(n,r,a,u,_){const b=a[7];b!==zr(a)&&fl(r,n,u,b,_);for(let P=10;P<a.length;P++){const L=a[P];xu(L[1],L,n,r,u,b)}}(r,n,b,a,_)}}function ks(n,r,a){return n.createElement(r,a)}function Au(n,r){const a=n[9],u=a.indexOf(r),_=r[3];512&r[2]&&(r[2]&=-513,Dr(_,-1)),a.splice(u,1)}function Ll(n,r){if(n.length<=10)return;const a=10+r,u=n[a];if(u){const _=u[17];null!==_&&_!==n&&Au(_,u),r>0&&(n[a-1][4]=u[4]);const b=Ko(n,10+r);!function Zs(n,r){xu(n,r,r[11],2,null,null),r[0]=null,r[6]=null}(u[1],u);const T=b[19];null!==T&&T.detachView(b[1]),u[3]=null,u[4]=null,u[2]&=-65}return u}function fc(n,r){if(!(128&r[2])){const a=r[11];a.destroyNode&&xu(n,r,a,3,null,null),function ph(n){let r=n[13];if(!r)return Bp(n[1],n);for(;r;){let a=null;if(ii(r))a=r[13];else{const u=r[10];u&&(a=u)}if(!a){for(;r&&!r[4]&&r!==n;)ii(r)&&Bp(r[1],r),r=r[3];null===r&&(r=n),ii(r)&&Bp(r[1],r),a=r&&r[4]}r=a}}(r)}}function Bp(n,r){if(!(128&r[2])){r[2]&=-65,r[2]|=128,function X_(n,r){let a;if(null!=n&&null!=(a=n.destroyHooks))for(let u=0;u<a.length;u+=2){const _=r[a[u]];if(!(_ instanceof Ho)){const b=a[u+1];if(Array.isArray(b))for(let T=0;T<b.length;T+=2){const P=_[b[T]],L=b[T+1];try{L.call(P)}finally{}}else try{b.call(_)}finally{}}}}(n,r),function _h(n,r){const a=n.cleanup,u=r[7];let _=-1;if(null!==a)for(let b=0;b<a.length-1;b+=2)if("string"==typeof a[b]){const T=a[b+1],P="function"==typeof T?T(r):zr(r[T]),L=u[_=a[b+2]],z=a[b+3];"boolean"==typeof z?P.removeEventListener(a[b],L,z):z>=0?u[_=z]():u[_=-z].unsubscribe(),b+=2}else{const T=u[_=a[b+1]];a[b].call(T)}if(null!==u){for(let b=_+1;b<u.length;b++)(0,u[b])();r[7]=null}}(n,r),1===r[1].type&&r[11].destroy();const a=r[17];if(null!==a&&Ri(r[3])){a!==r[3]&&Au(a,r);const u=r[19];null!==u&&u.detachView(n)}!function kp(n){Pp.delete(n[20])}(r)}}function Nl(n,r,a){return function xf(n,r,a){let u=r;for(;null!==u&&40&u.type;)u=(r=u).parent;if(null===u)return a[0];if(2&u.flags){const _=n.data[u.directiveStart].encapsulation;if(_===lt.None||_===lt.Emulated)return null}return Ci(u,a)}(n,r.parent,a)}function vd(n,r,a,u,_){n.insertBefore(r,a,u,_)}function Up(n,r,a){n.appendChild(r,a)}function Of(n,r,a,u,_){null!==u?vd(n,r,a,u,_):Up(n,r,a)}function gh(n,r){return n.parentNode(r)}function bd(n,r,a){return Ed(n,r,a)}let Ed=function mh(n,r,a){return 40&n.type?Ci(n,a):null};function Ga(n,r,a,u){const _=Nl(n,u,r),b=r[11],P=bd(u.parent||r[6],u,r);if(null!=_)if(Array.isArray(a))for(let L=0;L<a.length;L++)Of(b,_,a[L],P,!1);else Of(b,_,a,P,!1)}function Su(n,r){if(null!==r){const a=r.type;if(3&a)return Ci(r,n);if(4&a)return Rf(-1,n[r.index]);if(8&a){const u=r.child;if(null!==u)return Su(n,u);{const _=n[r.index];return Ri(_)?Rf(-1,_):zr(_)}}if(32&a)return Fp(r,n)()||zr(n[r.index]);{const u=yh(n,r);return null!==u?Array.isArray(u)?u[0]:Su(md(n[16]),u):Su(n,r.next)}}return null}function yh(n,r){return null!==r?n[16][6].projection[r.projection]:null}function Rf(n,r){const a=10+n+1;if(a<r.length){const u=r[a],_=u[1].firstChild;if(null!==_)return Su(u,_)}return r[7]}function kf(n,r,a,u,_,b,T){for(;null!=a;){const P=u[a.index],L=a.type;if(T&&0===r&&(P&&rs(zr(P),u),a.flags|=4),64!=(64&a.flags))if(8&L)kf(n,r,a.child,u,_,b,!1),fl(r,n,_,P,b);else if(32&L){const z=Fp(a,u);let ne;for(;ne=z();)fl(r,n,_,ne,b);fl(r,n,_,P,b)}else 16&L?pc(n,r,u,a,_,b):fl(r,n,_,P,b);a=T?a.projectionNext:a.next}}function xu(n,r,a,u,_,b){kf(a,u,n.firstChild,r,_,b,!1)}function pc(n,r,a,u,_,b){const T=a[16],L=T[6].projection[u.projection];if(Array.isArray(L))for(let z=0;z<L.length;z++)fl(r,n,_,L[z],b);else kf(n,r,L,T[3],_,b,!0)}function pl(n,r,a){n.setAttribute(r,"style",a)}function Bl(n,r,a){""===a?n.removeAttribute(r,"class"):n.setAttribute(r,"class",a)}function Dd(n,r,a){let u=n.length;for(;;){const _=n.indexOf(r,a);if(-1===_)return _;if(0===_||n.charCodeAt(_-1)<=32){const b=r.length;if(_+b===u||n.charCodeAt(_+b)<=32)return _}a=_+1}}const Lf="ng-template";function Wp(n,r,a){let u=0;for(;u<n.length;){let _=n[u++];if(a&&"class"===_){if(_=n[u],-1!==Dd(_.toLowerCase(),r,0))return!0}else if(1===_){for(;u<n.length&&"string"==typeof(_=n[u++]);)if(_.toLowerCase()===r)return!0;return!1}}return!1}function Ou(n){return 4===n.type&&n.value!==Lf}function wd(n,r,a){return r===(4!==n.type||a?n.value:Lf)}function vh(n,r,a){let u=4;const _=n.attrs||[],b=function Ta(n){for(let r=0;r<n.length;r++)if(Ea(n[r]))return r;return n.length}(_);let T=!1;for(let P=0;P<r.length;P++){const L=r[P];if("number"!=typeof L){if(!T)if(4&u){if(u=2|1&u,""!==L&&!wd(n,L,a)||""===L&&1===r.length){if(Ls(u))return!1;T=!0}}else{const z=8&u?L:r[++P];if(8&u&&null!==n.attrs){if(!Wp(n.attrs,z,a)){if(Ls(u))return!1;T=!0}continue}const le=jp(8&u?"class":L,_,Ou(n),a);if(-1===le){if(Ls(u))return!1;T=!0;continue}if(""!==z){let He;He=le>b?"":_[le+1].toLowerCase();const ot=8&u?He:null;if(ot&&-1!==Dd(ot,z,0)||2&u&&z!==He){if(Ls(u))return!1;T=!0}}}}else{if(!T&&!Ls(u)&&!Ls(L))return!1;if(T&&Ls(L))continue;T=!1,u=L|1&u}}return Ls(u)||T}function Ls(n){return 0==(1&n)}function jp(n,r,a,u){if(null===r)return-1;let _=0;if(u||!a){let b=!1;for(;_<r.length;){const T=r[_];if(T===n)return _;if(3===T||6===T)b=!0;else{if(1===T||2===T){let P=r[++_];for(;"string"==typeof P;)P=r[++_];continue}if(4===T)break;if(0===T){_+=4;continue}}_+=b?1:2}return-1}return function Kp(n,r){let a=n.indexOf(4);if(a>-1)for(a++;a<n.length;){const u=n[a];if("number"==typeof u)return-1;if(u===r)return a;a++}return-1}(r,n)}function Nf(n,r,a=!1){for(let u=0;u<r.length;u++)if(vh(n,r[u],a))return!0;return!1}function bh(n,r){e:for(let a=0;a<r.length;a++){const u=r[a];if(n.length===u.length){for(let _=0;_<n.length;_++)if(n[_]!==u[_])continue e;return!0}}return!1}function Pu(n,r){return n?":not("+r.trim()+")":r}function Mm(n){let r=n[0],a=1,u=2,_="",b=!1;for(;a<n.length;){let T=n[a];if("string"==typeof T)if(2&u){const P=n[++a];_+="["+T+(P.length>0?'="'+P+'"':"")+"]"}else 8&u?_+="."+T:4&u&&(_+=" "+T);else""!==_&&!Ls(T)&&(r+=Pu(b,_),_=""),u=T,b=b||!Ls(u);a++}return""!==_&&(r+=Pu(b,_)),r}const cr={};function Im(n){Ul(zn(),xt(),Ce()+n,!1)}function Ul(n,r,a,u){if(!u)if(3==(3&r[2])){const b=n.preOrderCheckHooks;null!==b&&ti(r,b,a)}else{const b=n.preOrderHooks;null!==b&&Ts(r,b,0,a)}at(a)}function Ch(n,r=null,a=null,u){const _=zp(n,r,a,u);return _.resolveInjectorInitializers(),_}function zp(n,r=null,a=null,u,_=new Set){const b=[a||Gt,Ps(n)];return u=u||("object"==typeof n?void 0:Fe(n)),new Ol(b,r||uc(),u||null,_)}let Yc=(()=>{class n{static create(a,u){if(Array.isArray(a))return Ch({name:""},u,a,"");{const _=a.name??"";return Ch({name:_},a.parent,a.providers,_)}}}return n.THROW_IF_NOT_FOUND=aa,n.NULL=new rh,n.\u0275prov=_t({token:n,providedIn:"any",factory:()=>Ni(nh)}),n.__NG_ELEMENT_ID__=-1,n})();function eu(n,r=Ot.Default){const a=xt();return null===a?Ni(n,r):Ss(Ir(),a,Pe(n),r)}function $f(){throw new Error("invalid")}function Ih(n,r){return n<<17|r<<2}function _l(n){return n>>17&32767}function Sh(n){return 2|n}function Vl(n){return(131068&n)>>2}function xh(n,r){return-131069&n|r<<2}function Oh(n){return 1|n}function mg(n,r){const a=n.contentQueries;if(null!==a)for(let u=0;u<a.length;u+=2){const _=a[u],b=a[u+1];if(-1!==b){const T=n.data[b];Kr(_),T.contentQueries(2,r[b],b)}}}function Qf(n,r,a,u,_,b,T,P,L,z,ne){const le=r.blueprint.slice();return le[0]=_,le[2]=76|u,(null!==ne||n&&1024&n[2])&&(le[2]|=1024),ta(le),le[3]=le[15]=n,le[8]=a,le[10]=T||n&&n[10],le[11]=P||n&&n[11],le[12]=L||n&&n[12]||null,le[9]=z||n&&n[9]||null,le[6]=b,le[20]=function $_(){return Hy++}(),le[21]=ne,le[16]=2==r.type?n[16]:le,le}function mc(n,r,a,u,_){let b=n.data[r];if(null===b)b=function Hu(n,r,a,u,_){const b=$(),T=re(),L=n.data[r]=function Gy(n,r,a,u,_,b){return{type:a,index:u,insertBeforeIndex:null,injectorIndex:r?r.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:_,attrs:b,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:r,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,T?b:b&&b.parent,a,r,u,_);return null===n.firstChild&&(n.firstChild=L),null!==b&&(T?null==b.child&&null!==L.parent&&(b.child=L):null===b.next&&(b.next=L)),L}(n,r,a,u,_),function Qa(){return Rn.lFrame.inI18n}()&&(b.flags|=64);else if(64&b.type){b.type=a,b.value=u,b.attrs=_;const T=function H(){const n=Rn.lFrame,r=n.currentTNode;return n.isParent?r:r.parent}();b.injectorIndex=null===T?-1:T.injectorIndex}return U(b,!0),b}function yc(n,r,a,u){if(0===a)return-1;const _=r.length;for(let b=0;b<a;b++)r.push(u),n.blueprint.push(u),n.data.push(null);return _}function Xf(n,r,a){Xa(r);try{const u=n.viewQuery;null!==u&&Pg(1,u,a);const _=n.template;null!==_&&n_(n,r,_,1,a),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&mg(n,r),n.staticViewQueries&&Pg(2,n.viewQuery,a);const b=n.components;null!==b&&function Vm(n,r){for(let a=0;a<r.length;a++)Sg(n,r[a])}(r,b)}catch(u){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),u}finally{r[2]&=-5,Y()}}function Rd(n,r,a,u){const _=r[2];if(128!=(128&_)){Xa(r);try{ta(r),function Ya(n){return Rn.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==a&&n_(n,r,a,2,u);const T=3==(3&_);if(T){const z=n.preOrderCheckHooks;null!==z&&ti(r,z,null)}else{const z=n.preOrderHooks;null!==z&&Ts(r,z,0,null),Vo(r,0)}if(function Ig(n){for(let r=hh(n);null!==r;r=yd(r)){if(!r[2])continue;const a=r[9];for(let u=0;u<a.length;u++){const _=a[u],b=_[3];0==(512&_[2])&&Dr(b,1),_[2]|=512}}}(r),function Jy(n){for(let r=hh(n);null!==r;r=yd(r))for(let a=10;a<r.length;a++){const u=r[a],_=u[1];Cr(u)&&Rd(_,u,_.template,u[8])}}(r),null!==n.contentQueries&&mg(n,r),T){const z=n.contentCheckHooks;null!==z&&ti(r,z)}else{const z=n.contentHooks;null!==z&&Ts(r,z,1),Vo(r,1)}!function gg(n,r){const a=n.hostBindingOpCodes;if(null!==a)try{for(let u=0;u<a.length;u++){const _=a[u];if(_<0)at(~_);else{const b=_,T=a[++u],P=a[++u];Us(T,b),P(2,r[b])}}}finally{at(-1)}}(n,r);const P=n.components;null!==P&&function Um(n,r){for(let a=0;a<r.length;a++)Ag(n,r[a])}(r,P);const L=n.viewQuery;if(null!==L&&Pg(2,L,u),T){const z=n.viewCheckHooks;null!==z&&ti(r,z)}else{const z=n.viewHooks;null!==z&&Ts(r,z,2),Vo(r,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),r[2]&=-41,512&r[2]&&(r[2]&=-513,Dr(r[3],-1))}finally{Y()}}}function Zy(n,r,a,u){const _=r[10],T=Bs(r);try{!T&&_.begin&&_.begin(),T&&Xf(n,r,u),Rd(n,r,a,u)}finally{!T&&_.end&&_.end()}}function n_(n,r,a,u,_){const b=Ce(),T=2&u;try{at(-1),T&&r.length>22&&Ul(n,r,22,!1),a(u,_)}finally{at(b)}}function r_(n,r,a){if(qo(r)){const _=r.directiveEnd;for(let b=r.directiveStart;b<_;b++){const T=n.data[b];T.contentQueries&&T.contentQueries(1,a[b],b)}}}function Jf(n,r,a){!Ii()||(function Dg(n,r,a,u){const _=a.directiveStart,b=a.directiveEnd;n.firstCreatePass||ui(a,r),rs(u,r);const T=a.initialInputs;for(let P=_;P<b;P++){const L=n.data[P],z=oi(L);z&&Tg(r,a,L);const ne=qt(r,n,P,a);rs(ne,r),null!==T&&Zm(0,P-_,ne,L,0,T),z&&(ir(a.index,r)[8]=ne)}}(n,r,a,Ci(a,r)),128==(128&a.flags)&&function Yy(n,r,a){const u=a.directiveStart,_=a.directiveEnd,b=a.index,T=function Ra(){return Rn.lFrame.currentDirectiveIndex}();try{at(b);for(let P=u;P<_;P++){const L=n.data[P],z=r[P];cs(P),(null!==L.hostBindings||0!==L.hostVars||null!==L.hostAttrs)&&jm(L,z)}}finally{at(-1),cs(T)}}(n,r,a))}function i_(n,r,a=Ci){const u=r.localNames;if(null!==u){let _=r.index+1;for(let b=0;b<u.length;b+=2){const T=u[b+1],P=-1===T?a(r,n):n[T];n[_++]=P}}}function Hm(n){const r=n.tView;return null===r||r.incompleteFirstPass?n.tView=ep(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):r}function ep(n,r,a,u,_,b,T,P,L,z){const ne=22+u,le=ne+_,He=function zy(n,r){const a=[];for(let u=0;u<r;u++)a.push(u<n?null:cr);return a}(ne,le),ot="function"==typeof z?z():z;return He[1]={type:n,blueprint:He,template:a,queries:null,viewQuery:P,declTNode:r,data:He.slice().fill(null,ne),bindingStartIndex:ne,expandoStartIndex:le,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof b?b():b,pipeRegistry:"function"==typeof T?T():T,firstChild:null,schemas:L,consts:ot,incompleteFirstPass:!1}}function tp(n,r,a,u){const _=Rg(r);null===a?_.push(u):(_.push(a),n.firstCreatePass&&d_(n).push(u,_.length-1))}function o_(n,r,a){for(let u in n)if(n.hasOwnProperty(u)){const _=n[u];(a=null===a?{}:a).hasOwnProperty(u)?a[u].push(r,_):a[u]=[r,_]}return a}function s_(n,r){const u=r.directiveEnd,_=n.data,b=r.attrs,T=[];let P=null,L=null;for(let z=r.directiveStart;z<u;z++){const ne=_[z],le=ne.inputs,He=null===b||Ou(r)?null:Xy(le,b);T.push(He),P=o_(le,z,P),L=o_(ne.outputs,z,L)}null!==P&&(P.hasOwnProperty("class")&&(r.flags|=16),P.hasOwnProperty("style")&&(r.flags|=32)),r.initialInputs=T,r.inputs=P,r.outputs=L}function is(n,r,a,u,_,b,T,P){const L=Ci(r,a);let ne,z=r.inputs;!P&&null!=z&&(ne=z[u])?(Bh(n,a,ne,u,_),Cs(r)&&bg(a,r.index)):3&r.type&&(u=function vg(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(u),_=null!=T?T(_,r.value||"",u):_,b.setProperty(L,u,_))}function bg(n,r){const a=ir(r,n);16&a[2]||(a[2]|=32)}function Hl(n,r,a,u){let _=!1;if(Ii()){const b=function wg(n,r,a){const u=n.directiveRegistry;let _=null;if(u)for(let b=0;b<u.length;b++){const T=u[b];Nf(a,T.selectors,!1)&&(_||(_=[]),na(ui(a,r),n,T.type),oi(T)?(Km(n,a),_.unshift(T)):_.push(T))}return _}(n,r,a),T=null===u?null:{"":-1};if(null!==b){_=!0,l_(a,n.data.length,b.length);for(let ne=0;ne<b.length;ne++){const le=b[ne];le.providersResolver&&le.providersResolver(le)}let P=!1,L=!1,z=yc(n,r,b.length,null);for(let ne=0;ne<b.length;ne++){const le=b[ne];a.mergedAttrs=Ji(a.mergedAttrs,le.hostAttrs),$m(n,a,r,z,le),Qy(z,le,T),null!==le.contentQueries&&(a.flags|=8),(null!==le.hostBindings||null!==le.hostAttrs||0!==le.hostVars)&&(a.flags|=128);const He=le.type.prototype;!P&&(He.ngOnChanges||He.ngOnInit||He.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(a.index),P=!0),!L&&(He.ngOnChanges||He.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(a.index),L=!0),z++}s_(n,a)}T&&function Mg(n,r,a){if(r){const u=n.localNames=[];for(let _=0;_<r.length;_+=2){const b=a[r[_+1]];if(null==b)throw new tt(-301,!1);u.push(r[_],b)}}}(a,u,T)}return a.mergedAttrs=Ji(a.mergedAttrs,a.attrs),_}function a_(n,r,a,u,_,b){const T=b.hostBindings;if(T){let P=n.hostBindingOpCodes;null===P&&(P=n.hostBindingOpCodes=[]);const L=~r.index;(function qy(n){let r=n.length;for(;r>0;){const a=n[--r];if("number"==typeof a&&a<0)return a}return 0})(P)!=L&&P.push(L),P.push(u,_,T)}}function jm(n,r){null!==n.hostBindings&&n.hostBindings(1,r)}function Km(n,r){r.flags|=2,(n.components||(n.components=[])).push(r.index)}function Qy(n,r,a){if(a){if(r.exportAs)for(let u=0;u<r.exportAs.length;u++)a[r.exportAs[u]]=n;oi(r)&&(a[""]=n)}}function l_(n,r,a){n.flags|=1,n.directiveStart=r,n.directiveEnd=r+a,n.providerIndexes=r}function $m(n,r,a,u,_){n.data[u]=_;const b=_.factory||(_.factory=Co(_.type)),T=new Ho(b,oi(_),eu);n.blueprint[u]=T,a[u]=T,a_(n,r,0,u,yc(n,a,_.hostVars,cr),_)}function Tg(n,r,a){const u=Ci(r,n),_=Hm(a),b=n[10],T=ip(n,Qf(n,_,null,a.onPush?32:16,u,r,b,b.createRenderer(u,a),null,null,null));n[r.index]=T}function Wl(n,r,a,u,_,b){const T=Ci(n,r);!function np(n,r,a,u,_,b,T){if(null==b)n.removeAttribute(r,_,a);else{const P=null==T?rt(b):T(b,u||"",_);n.setAttribute(r,_,P,a)}}(r[11],T,b,n.value,a,u,_)}function Zm(n,r,a,u,_,b){const T=b[r];if(null!==T){const P=u.setInput;for(let L=0;L<T.length;){const z=T[L++],ne=T[L++],le=T[L++];null!==P?u.setInput(a,le,z,ne):a[ne]=le}}}function Xy(n,r){let a=null,u=0;for(;u<r.length;){const _=r[u];if(0!==_)if(5!==_){if("number"==typeof _)break;n.hasOwnProperty(_)&&(null===a&&(a=[]),a.push(_,n[_],r[u+1])),u+=2}else u+=2;else u+=4}return a}function c_(n,r,a,u){return new Array(n,!0,!1,r,null,0,u,a,null,null)}function Ag(n,r){const a=ir(r,n);if(Cr(a)){const u=a[1];48&a[2]?Rd(u,a,u.template,a[8]):a[5]>0&&rp(a)}}function rp(n){for(let u=hh(n);null!==u;u=yd(u))for(let _=10;_<u.length;_++){const b=u[_];if(Cr(b))if(512&b[2]){const T=b[1];Rd(T,b,T.template,b[8])}else b[5]>0&&rp(b)}const a=n[1].components;if(null!==a)for(let u=0;u<a.length;u++){const _=ir(a[u],n);Cr(_)&&_[5]>0&&rp(_)}}function Sg(n,r){const a=ir(r,n),u=a[1];(function zm(n,r){for(let a=r.length;a<n.blueprint.length;a++)r.push(n.blueprint[a])})(u,a),Xf(u,a,a[8])}function ip(n,r){return n[13]?n[14][4]=r:n[13]=r,n[14]=r,r}function xg(n){for(;n;){n[2]|=32;const r=md(n);if(Sa(n)&&!r)return n;n=r}return null}function Pg(n,r,a){Kr(0),r(n,a)}function Rg(n){return n[7]||(n[7]=[])}function d_(n){return n.cleanup||(n.cleanup=[])}function h_(n,r,a){return(null===n||oi(n))&&(a=function fo(n){for(;Array.isArray(n);){if("object"==typeof n[1])return n;n=n[0]}return null}(a[r.index])),a[11]}function sp(n,r){const a=n[9],u=a?a.get(lh,null):null;u&&u.handleError(r)}function Bh(n,r,a,u,_){for(let b=0;b<a.length;){const T=a[b++],P=a[b++],L=r[T],z=n.data[T];null!==z.setInput?z.setInput(L,_,u,P):L[P]=_}}function kd(n,r,a){let u=a?n.styles:null,_=a?n.classes:null,b=0;if(null!==r)for(let T=0;T<r.length;T++){const P=r[T];"number"==typeof P?b=P:1==b?_=Qe(_,P):2==b&&(u=Qe(u,P+": "+r[++T]+";"))}a?n.styles=u:n.stylesWithoutHost=u,a?n.classes=_:n.classesWithoutHost=_}function Uh(n,r,a,u,_=!1){for(;null!==a;){const b=r[a.index];if(null!==b&&u.push(zr(b)),Ri(b))for(let P=10;P<b.length;P++){const L=b[P],z=L[1].firstChild;null!==z&&Uh(L[1],L,z,u)}const T=a.type;if(8&T)Uh(n,r,a.child,u);else if(32&T){const P=Fp(a,r);let L;for(;L=P();)u.push(L)}else if(16&T){const P=yh(r,a);if(Array.isArray(P))u.push(...P);else{const L=md(r[16]);Uh(L[1],L,P,u,!0)}}a=_?a.projectionNext:a.next}return u}class Vh{constructor(r,a){this._lView=r,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const r=this._lView,a=r[1];return Uh(a,r,a.firstChild,[])}get context(){return this._lView[8]}set context(r){this._lView[8]=r}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const r=this._lView[3];if(Ri(r)){const a=r[8],u=a?a.indexOf(this):-1;u>-1&&(Ll(r,u),Ko(a,u))}this._attachedToViewContainer=!1}fc(this._lView[1],this._lView)}onDestroy(r){tp(this._lView[1],this._lView,null,r)}markForCheck(){xg(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){!function u_(n,r,a){const u=r[10];u.begin&&u.begin();try{Rd(n,r,n.template,a)}catch(_){throw sp(r,_),_}finally{u.end&&u.end()}}(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new tt(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function fh(n,r){xu(n,r,r[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(r){if(this._attachedToViewContainer)throw new tt(902,!1);this._appRef=r}}class ap extends Vh{constructor(r){super(r),this._view=r}detectChanges(){!function op(n){!function Og(n){for(let r=0;r<n.components.length;r++){const a=n.components[r],u=Cf(a);if(null!==u){const _=u[1];Zy(_,u,_.template,a)}}}(n[8])}(this._view)}checkNoChanges(){}get context(){return null}}class f_ extends G{constructor(r){super(),this.ngModule=r}resolveComponentFactory(r){const a=Fn(r);return new lp(a,this.ngModule)}}function p_(n){const r=[];for(let a in n)n.hasOwnProperty(a)&&r.push({propName:n[a],templateName:a});return r}class kg{constructor(r,a){this.injector=r,this.parentInjector=a}get(r,a,u){const _=this.injector.get(r,jc,u);return _!==jc||a===jc?_:this.parentInjector.get(r,a,u)}}class lp extends gf{constructor(r,a){super(),this.componentDef=r,this.ngModule=a,this.componentType=r.type,this.selector=function ng(n){return n.map(Mm).join(",")}(r.selectors),this.ngContentSelectors=r.ngContentSelectors?r.ngContentSelectors:[],this.isBoundToModule=!!a}get inputs(){return p_(this.componentDef.inputs)}get outputs(){return p_(this.componentDef.outputs)}create(r,a,u,_){let b=(_=_||this.ngModule)instanceof no?_:_?.injector;b&&null!==this.componentDef.getStandaloneInjector&&(b=this.componentDef.getStandaloneInjector(b)||b);const T=b?new kg(r,b):r,P=T.get(Ln,null);if(null===P)throw new tt(407,!1);const L=T.get(ha,null),z=P.createRenderer(null,this.componentDef),ne=this.componentDef.selectors[0][0]||"div",le=u?function Wm(n,r,a){return n.selectRootElement(r,a===lt.ShadowDom)}(z,u,this.componentDef.encapsulation):ks(P.createRenderer(null,this.componentDef),ne,function Hh(n){const r=n.toLowerCase();return"svg"===r?"svg":"math"===r?"math":null}(ne)),He=this.componentDef.onPush?288:272,ot={components:[]},Rt=ep(0,null,null,1,0,null,null,null,null,null),Yt=Qf(null,Rt,ot,He,null,null,P,z,L,T,null);let mn,In;Xa(Yt);try{const nr=function qm(n,r,a,u,_,b){const T=a[1];a[22]=n;const L=mc(T,22,2,"#host",null),z=L.mergedAttrs=r.hostAttrs;null!==z&&(kd(L,z,!0),null!==n&&(Cl(_,n,z),null!==L.classes&&Bl(_,n,L.classes),null!==L.styles&&pl(_,n,L.styles)));const ne=u.createRenderer(n,r),le=Qf(a,Hm(r),null,r.onPush?32:16,a[22],L,u,ne,b||null,null,null);return T.firstCreatePass&&(na(ui(L,a),T,r.type),Km(T,L),l_(L,a.length,1)),ip(a,le),a[22]=le}(le,this.componentDef,Yt,P,z);if(le)if(u)Cl(z,le,["ng-version",fd.full]);else{const{attrs:$t,classes:qn}=function Tm(n){const r=[],a=[];let u=1,_=2;for(;u<n.length;){let b=n[u];if("string"==typeof b)2===_?""!==b&&r.push(b,n[++u]):8===_&&a.push(b);else{if(!Ls(_))break;_=b}u++}return{attrs:r,classes:a}}(this.componentDef.selectors[0]);$t&&Cl(z,le,$t),qn&&qn.length>0&&Bl(z,le,qn.join(" "))}if(In=Qo(Rt,22),void 0!==a){const $t=In.projection=[];for(let qn=0;qn<this.ngContentSelectors.length;qn++){const ri=a[qn];$t.push(null!=ri?Array.from(ri):null)}}mn=function tv(n,r,a,u,_){const b=a[1],T=function Cg(n,r,a){const u=Ir();n.firstCreatePass&&(a.providersResolver&&a.providersResolver(a),$m(n,u,r,yc(n,r,1,null),a),s_(n,u));const _=qt(r,n,u.directiveStart,u);rs(_,r);const b=Ci(u,r);return b&&rs(b,r),_}(b,a,r);if(u.components.push(T),n[8]=T,null!==_)for(const L of _)L(T,r);if(r.contentQueries){const L=Ir();r.contentQueries(1,T,L.directiveStart)}const P=Ir();return!b.firstCreatePass||null===r.hostBindings&&null===r.hostAttrs||(at(P.index),a_(a[1],P,0,P.directiveStart,P.directiveEnd,r),jm(r,T)),T}(nr,this.componentDef,Yt,ot,[rv]),Xf(Rt,Yt,null)}finally{Y()}return new Gm(this.componentType,mn,Ve(In,Yt),Yt,In)}}class Gm extends class oh{}{constructor(r,a,u,_,b){super(),this.location=u,this._rootLView=_,this._tNode=b,this.instance=a,this.hostView=this.changeDetectorRef=new ap(_),this.componentType=r}setInput(r,a){const u=this._tNode.inputs;let _;if(null!==u&&(_=u[r])){const b=this._rootLView;Bh(b[1],b,_,r,a),bg(b,this._tNode.index)}}get injector(){return new ra(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(r){this.hostView.onDestroy(r)}}function rv(){const n=Ir();wr(xt()[1],n)}function __(n){let r=function Ym(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),a=!0;const u=[n];for(;r;){let _;if(oi(n))_=r.\u0275cmp||r.\u0275dir;else{if(r.\u0275cmp)throw new tt(903,!1);_=r.\u0275dir}if(_){if(a){u.push(_);const T=n;T.inputs=g_(n.inputs),T.declaredInputs=g_(n.declaredInputs),T.outputs=g_(n.outputs);const P=_.hostBindings;P&&m_(n,P);const L=_.viewQuery,z=_.contentQueries;if(L&&Qm(n,L),z&&Xm(n,z),Ue(n.inputs,_.inputs),Ue(n.declaredInputs,_.declaredInputs),Ue(n.outputs,_.outputs),oi(_)&&_.data.animation){const ne=n.data;ne.animation=(ne.animation||[]).concat(_.data.animation)}}const b=_.features;if(b)for(let T=0;T<b.length;T++){const P=b[T];P&&P.ngInherit&&P(n),P===__&&(a=!1)}}r=Object.getPrototypeOf(r)}!function Lg(n){let r=0,a=null;for(let u=n.length-1;u>=0;u--){const _=n[u];_.hostVars=r+=_.hostVars,_.hostAttrs=Ji(_.hostAttrs,a=Ji(a,_.hostAttrs))}}(u)}function g_(n){return n===On?{}:n===Gt?[]:n}function Qm(n,r){const a=n.viewQuery;n.viewQuery=a?(u,_)=>{r(u,_),a(u,_)}:r}function Xm(n,r){const a=n.contentQueries;n.contentQueries=a?(u,_,b)=>{r(u,_,b),a(u,_,b)}:r}function m_(n,r){const a=n.hostBindings;n.hostBindings=a?(u,_)=>{r(u,_),a(u,_)}:r}let Wu=null;function Ld(){if(!Wu){const n=vt.Symbol;if(n&&n.iterator)Wu=n.iterator;else{const r=Object.getOwnPropertyNames(Map.prototype);for(let a=0;a<r.length;++a){const u=r[a];"entries"!==u&&"size"!==u&&Map.prototype[u]===Map.prototype.entries&&(Wu=u)}}}return Wu}function Go(n){return!!Ng(n)&&(Array.isArray(n)||!(n instanceof Map)&&Ld()in n)}function Ng(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function qs(n,r,a){return!Object.is(n[r],a)&&(n[r]=a,!0)}function xi(n,r,a,u){const _=xt();return qs(_,Uo(),r)&&(zn(),Wl(mt(),_,n,r,a,u)),xi}function jh(n,r,a,u){return qs(n,Uo(),a)?r+rt(a)+u:cr}function Ug(n,r,a,u,_,b,T,P){const L=xt(),z=zn(),ne=n+22,le=z.firstCreatePass?function dp(n,r,a,u,_,b,T,P,L){const z=r.consts,ne=mc(r,n,4,T||null,Jr(z,P));Hl(r,a,ne,Jr(z,L)),wr(r,ne);const le=ne.tViews=ep(2,ne,u,_,b,r.directiveRegistry,r.pipeRegistry,null,r.schemas,z);return null!==r.queries&&(r.queries.template(r,ne),le.queries=r.queries.embeddedTView(ne)),ne}(ne,z,L,r,a,u,_,b,T):z.data[ne];U(le,!1);const He=L[11].createComment("");Ga(z,L,He,le),rs(He,L),ip(L,L[ne]=c_(He,L,He,le)),pa(le)&&Jf(z,L,le),null!=T&&i_(L,le,P)}function hp(n){return Yi(function ei(){return Rn.lFrame.contextLView}(),22+n)}function $h(n,r,a){const u=xt();return qs(u,Uo(),r)&&is(zn(),mt(),u,n,r,u[11],a,!1),$h}function Zh(n,r,a,u,_){const T=_?"class":"style";Bh(n,a,r.inputs[T],T,u)}function yl(n,r,a,u){const _=xt(),b=zn(),T=22+n,P=_[11],L=_[T]=ks(P,r,function or(){return Rn.lFrame.currentNamespace}()),z=b.firstCreatePass?function ov(n,r,a,u,_,b,T){const P=r.consts,z=mc(r,n,2,_,Jr(P,b));return Hl(r,a,z,Jr(P,T)),null!==z.attrs&&kd(z,z.attrs,!1),null!==z.mergedAttrs&&kd(z,z.mergedAttrs,!0),null!==r.queries&&r.queries.elementStart(r,z),z}(T,b,_,0,r,a,u):b.data[T];U(z,!0);const ne=z.mergedAttrs;null!==ne&&Cl(P,L,ne);const le=z.classes;null!==le&&Bl(P,L,le);const He=z.styles;return null!==He&&pl(P,L,He),64!=(64&z.flags)&&Ga(b,_,L,z),0===function ws(){return Rn.lFrame.elementDepthCount}()&&rs(L,_),function ma(){Rn.lFrame.elementDepthCount++}(),pa(z)&&(Jf(b,_,z),r_(b,z,_)),null!==u&&i_(_,z),yl}function Zu(){let n=Ir();re()?pt():(n=n.parent,U(n,!1));const r=n;!function Pa(){Rn.lFrame.elementDepthCount--}();const a=zn();return a.firstCreatePass&&(wr(a,n),qo(n)&&a.queries.elementEnd(n)),null!=r.classesWithoutHost&&function Mc(n){return 0!=(16&n.flags)}(r)&&Zh(a,r,xt(),r.classesWithoutHost,!0),null!=r.stylesWithoutHost&&function ba(n){return 0!=(32&n.flags)}(r)&&Zh(a,r,xt(),r.stylesWithoutHost,!1),Zu}function zu(n,r,a,u){return yl(n,r,a,u),Zu(),zu}function ru(n,r,a){const u=xt(),_=zn(),b=n+22,T=_.firstCreatePass?function Vg(n,r,a,u,_){const b=r.consts,T=Jr(b,u),P=mc(r,n,8,"ng-container",T);return null!==T&&kd(P,T,!0),Hl(r,a,P,Jr(b,_)),null!==r.queries&&r.queries.elementStart(r,P),P}(b,_,u,r,a):_.data[b];U(T,!0);const P=u[b]=u[11].createComment("");return Ga(_,u,P,T),rs(P,u),pa(T)&&(Jf(_,u,T),r_(_,T,u)),null!=a&&i_(u,T),ru}function E_(){let n=Ir();const r=zn();return re()?pt():(n=n.parent,U(n,!1)),r.firstCreatePass&&(wr(r,n),qo(n)&&r.queries.elementEnd(n)),E_}function iy(){return xt()}function fp(n){return!!n&&"function"==typeof n.then}function pp(n){return!!n&&"function"==typeof n.subscribe}const C_=pp;function Ec(n,r,a,u){const _=xt(),b=zn(),T=Ir();return w_(b,_,_[11],T,n,r,0,u),Ec}function D_(n,r){const a=Ir(),u=xt(),_=zn();return w_(_,u,h_(us(_.data),a,u),a,n,r),D_}function w_(n,r,a,u,_,b,T,P){const L=pa(u),ne=n.firstCreatePass&&d_(n),le=r[8],He=Rg(r);let ot=!0;if(3&u.type||P){const mn=Ci(u,r),In=P?P(mn):mn,nr=He.length,$t=P?ri=>P(zr(ri[u.index])):u.index;let qn=null;if(!P&&L&&(qn=function oy(n,r,a,u){const _=n.cleanup;if(null!=_)for(let b=0;b<_.length-1;b+=2){const T=_[b];if(T===a&&_[b+1]===u){const P=r[7],L=_[b+2];return P.length>L?P[L]:null}"string"==typeof T&&(b+=2)}return null}(n,r,_,u.index)),null!==qn)(qn.__ngLastListenerFn__||qn).__ngNextListenerFn__=b,qn.__ngLastListenerFn__=b,ot=!1;else{b=Wg(u,r,le,b,!1);const ri=a.listen(In,_,b);He.push(b,ri),ne&&ne.push(_,$t,nr,nr+1)}}else b=Wg(u,r,le,b,!1);const Rt=u.outputs;let Yt;if(ot&&null!==Rt&&(Yt=Rt[_])){const mn=Yt.length;if(mn)for(let In=0;In<mn;In+=2){const yo=r[Yt[In]][Yt[In+1]].subscribe(b),F_=He.length;He.push(b,yo),ne&&ne.push(_,u.index,F_,-(F_+1))}}}function M_(n,r,a,u){try{return!1!==a(u)}catch(_){return sp(n,_),!1}}function Wg(n,r,a,u,_){return function b(T){if(T===Function)return u;xg(2&n.flags?ir(n.index,r):r);let L=M_(r,0,u,T),z=b.__ngNextListenerFn__;for(;z;)L=M_(r,0,z,T)&&L,z=z.__ngNextListenerFn__;return _&&!1===L&&(T.preventDefault(),T.returnValue=!1),L}}function zh(n=1){return function V(n){return(Rn.lFrame.contextLView=function te(n,r){for(;n>0;)r=r[15],n--;return r}(n,Rn.lFrame.contextLView))[8]}(n)}function T_(n,r){let a=null;const u=function tg(n){const r=n.attrs;if(null!=r){const a=r.indexOf(5);if(0==(1&a))return r[a+1]}return null}(n);for(let _=0;_<r.length;_++){const b=r[_];if("*"!==b){if(null===u?Nf(n,b,!0):bh(u,b))return _}else a=_}return a}function jg(n){const r=xt()[16][6];if(!r.projection){const u=r.projection=xs(n?n.length:1,null),_=u.slice();let b=r.child;for(;null!==b;){const T=n?T_(b,n):0;null!==T&&(_[T]?_[T].projectionNext=b:u[T]=b,_[T]=b),b=b.next}}}function Gh(n,r=0,a){const u=xt(),_=zn(),b=mc(_,22+n,16,null,a||null);null===b.projection&&(b.projection=r),pt(),64!=(64&b.flags)&&function zo(n,r,a){pc(r[11],0,r,a,Nl(n,a,r),bd(a.parent||r[6],a,r))}(_,u,b)}function Kg(n,r,a){return qh(n,"",r,"",a),Kg}function qh(n,r,a,u,_){const b=xt(),T=jh(b,r,a,u);return T!==cr&&is(zn(),mt(),b,n,T,b[11],_,!1),qh}function Zg(n,r,a,u,_){const b=n[a+1],T=null===r;let P=u?_l(b):Vl(b),L=!1;for(;0!==P&&(!1===L||T);){const ne=n[P+1];av(n[P],r)&&(L=!0,n[P+1]=u?Oh(ne):Sh(ne)),P=u?_l(ne):Vl(ne)}L&&(n[a+1]=u?Sh(b):Oh(b))}function av(n,r){return null===n||null==r||(Array.isArray(n)?n[1]:n)===r||!(!Array.isArray(n)||"string"!=typeof r)&&ht(n,r)>=0}const Po={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function ly(n){return n.substring(Po.key,Po.keyEnd)}function uy(n,r){const a=Po.textEnd;return a===r?-1:(r=Po.keyEnd=function dy(n,r,a){for(;r<a&&n.charCodeAt(r)>32;)r++;return r}(n,Po.key=r,a),Xh(n,r,a))}function Xh(n,r,a){for(;r<a&&n.charCodeAt(r)<=32;)r++;return r}function Jh(n,r,a){return zl(n,r,a,!1),Jh}function Yg(n,r){return zl(n,r,null,!0),Yg}function gy(n){!function Gl(n,r,a,u){const _=zn(),b=Wi(2);_.firstUpdatePass&&yy(_,null,b,u);const T=xt();if(a!==cr&&qs(T,b,a)){const P=_.data[Ce()];if(wy(P,u)&&!my(_,b)){let L=u?P.classesWithoutHost:P.stylesWithoutHost;null!==L&&(a=Qe(L,a||"")),Zh(_,P,T,a,u)}else!function Xg(n,r,a,u,_,b,T,P){_===cr&&(_=Gt);let L=0,z=0,ne=0<_.length?_[0]:null,le=0<b.length?b[0]:null;for(;null!==ne||null!==le;){const He=L<_.length?_[L+1]:void 0,ot=z<b.length?b[z+1]:void 0;let Yt,Rt=null;ne===le?(L+=2,z+=2,He!==ot&&(Rt=le,Yt=ot)):null===le||null!==ne&&ne<le?(L+=2,Rt=ne):(z+=2,Rt=le,Yt=ot),null!==Rt&&Cy(n,r,a,u,Rt,Yt,T,P),ne=L<_.length?_[L]:null,le=z<b.length?b[z]:null}}(_,P,T,T[11],T[b+1],T[b+1]=function dv(n,r,a){if(null==a||""===a)return Gt;const u=[],_=ts(a);if(Array.isArray(_))for(let b=0;b<_.length;b++)n(u,_[b],!0);else if("object"==typeof _)for(const b in _)_.hasOwnProperty(b)&&n(u,b,_[b]);else"string"==typeof _&&r(u,_);return u}(n,r,a),u,b)}}(ce,Ys,n,!0)}function Ys(n,r){for(let a=function cy(n){return function Gg(n){Po.key=0,Po.keyEnd=0,Po.value=0,Po.valueEnd=0,Po.textEnd=n.length}(n),uy(n,Xh(n,0,Po.textEnd))}(r);a>=0;a=uy(r,a))ce(n,ly(r),!0)}function zl(n,r,a,u){const _=xt(),b=zn(),T=Wi(2);b.firstUpdatePass&&yy(b,n,T,u),r!==cr&&qs(_,T,r)&&Cy(b,b.data[Ce()],_,_[11],n,_[T+1]=function hv(n,r){return null==n||("string"==typeof r?n+=r:"object"==typeof n&&(n=Fe(ts(n)))),n}(r,a),u,T)}function my(n,r){return r>=n.expandoStartIndex}function yy(n,r,a,u){const _=n.data;if(null===_[a+1]){const b=_[Ce()],T=my(n,a);wy(b,u)&&null===r&&!T&&(r=!1),r=function uv(n,r,a,u){const _=us(n);let b=u?r.residualClasses:r.residualStyles;if(null===_)0===(u?r.classBindings:r.styleBindings)&&(a=ef(a=Qg(null,n,r,a,u),r.attrs,u),b=null);else{const T=r.directiveStylingLast;if(-1===T||n[T]!==_)if(a=Qg(_,n,r,a,u),null===b){let L=function vy(n,r,a){const u=a?r.classBindings:r.styleBindings;if(0!==Vl(u))return n[_l(u)]}(n,r,u);void 0!==L&&Array.isArray(L)&&(L=Qg(null,n,r,L[1],u),L=ef(L,r.attrs,u),function by(n,r,a,u){n[_l(a?r.classBindings:r.styleBindings)]=u}(n,r,u,L))}else b=function Ey(n,r,a){let u;const _=r.directiveEnd;for(let b=1+r.directiveStylingLast;b<_;b++)u=ef(u,n[b].hostAttrs,a);return ef(u,r.attrs,a)}(n,r,u)}return void 0!==b&&(u?r.residualClasses=b:r.residualStyles=b),a}(_,b,r,u),function sv(n,r,a,u,_,b){let T=b?r.classBindings:r.styleBindings,P=_l(T),L=Vl(T);n[u]=a;let ne,z=!1;if(Array.isArray(a)){const le=a;ne=le[1],(null===ne||ht(le,ne)>0)&&(z=!0)}else ne=a;if(_)if(0!==L){const He=_l(n[P+1]);n[u+1]=Ih(He,P),0!==He&&(n[He+1]=xh(n[He+1],u)),n[P+1]=function km(n,r){return 131071&n|r<<17}(n[P+1],u)}else n[u+1]=Ih(P,0),0!==P&&(n[P+1]=xh(n[P+1],u)),P=u;else n[u+1]=Ih(L,0),0===P?P=u:n[L+1]=xh(n[L+1],u),L=u;z&&(n[u+1]=Sh(n[u+1])),Zg(n,ne,u,!0),Zg(n,ne,u,!1),function ay(n,r,a,u,_){const b=_?n.residualClasses:n.residualStyles;null!=b&&"string"==typeof r&&ht(b,r)>=0&&(a[u+1]=Oh(a[u+1]))}(r,ne,n,u,b),T=Ih(P,L),b?r.classBindings=T:r.styleBindings=T}(_,b,r,a,T,u)}}function Qg(n,r,a,u,_){let b=null;const T=a.directiveEnd;let P=a.directiveStylingLast;for(-1===P?P=a.directiveStart:P++;P<T&&(b=r[P],u=ef(u,b.hostAttrs,_),b!==n);)P++;return null!==n&&(a.directiveStylingLast=P),u}function ef(n,r,a){const u=a?1:2;let _=-1;if(null!==r)for(let b=0;b<r.length;b++){const T=r[b];"number"==typeof T?_=T:_===u&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),ce(n,T,!!a||r[++b]))}return void 0===n?null:n}function Cy(n,r,a,u,_,b,T,P){if(!(3&r.type))return;const L=n.data,z=L[P+1];I_(function Fu(n){return 1==(1&n)}(z)?Dy(L,r,a,_,Vl(z),T):void 0)||(I_(b)||function Ah(n){return 2==(2&n)}(z)&&(b=Dy(L,null,a,_,P,T)),function eg(n,r,a,u,_){if(r)_?n.addClass(a,u):n.removeClass(a,u);else{let b=-1===u.indexOf("-")?void 0:kl.DashCase;null==_?n.removeStyle(a,u,b):("string"==typeof _&&_.endsWith("!important")&&(_=_.slice(0,-10),b|=kl.Important),n.setStyle(a,u,_,b))}}(u,T,To(Ce(),a),_,b))}function Dy(n,r,a,u,_,b){const T=null===r;let P;for(;_>0;){const L=n[_],z=Array.isArray(L),ne=z?L[1]:L,le=null===ne;let He=a[_+1];He===cr&&(He=le?Gt:void 0);let ot=le?De(He,u):ne===u?He:void 0;if(z&&!I_(ot)&&(ot=De(L,u)),I_(ot)&&(P=ot,T))return P;const Rt=n[_+1];_=T?_l(Rt):Vl(Rt)}if(null!==r){let L=b?r.residualClasses:r.residualStyles;null!=L&&(P=De(L,u))}return P}function I_(n){return void 0!==n}function wy(n,r){return 0!=(n.flags&(r?16:32))}function My(n,r=""){const a=xt(),u=zn(),_=n+22,b=u.firstCreatePass?mc(u,_,1,r,null):u.data[_],T=a[_]=function zc(n,r){return n.createText(r)}(a[11],r);Ga(u,a,T,b),U(b,!1)}function Jg(n){return A_("",n,""),Jg}function A_(n,r,a){const u=xt(),_=jh(u,n,r,a);return _!==cr&&function jl(n,r,a){const u=To(r,n);!function Gc(n,r,a){n.setValue(r,a)}(n[11],u,a)}(u,Ce(),_),A_}function lm(n,r,a){const u=xt();if(qs(u,Uo(),r)){const b=zn(),T=mt();is(b,T,u,n,r,h_(us(b.data),T,u),a,!0)}return lm}const Xu=void 0;var L_=["en",[["a","p"],["AM","PM"],Xu],[["AM","PM"],Xu,Xu],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Xu,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Xu,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Xu,"{1} 'at' {0}",Xu],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Ry(n){const a=Math.floor(Math.abs(n)),u=n.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===u?1:5}];let wc={};function p(n){const r=function Z(n){return n.toLowerCase().replace(/_/g,"-")}(n);let a=f(r);if(a)return a;const u=r.split("-")[0];if(a=f(u),a)return a;if("en"===u)return L_;throw new tt(701,!1)}function o(n){return p(n)[S.PluralCase]}function f(n){return n in wc||(wc[n]=vt.ng&&vt.ng.common&&vt.ng.common.locales&&vt.ng.common.locales[n]),wc[n]}var S=(()=>((S=S||{})[S.LocaleId=0]="LocaleId",S[S.DayPeriodsFormat=1]="DayPeriodsFormat",S[S.DayPeriodsStandalone=2]="DayPeriodsStandalone",S[S.DaysFormat=3]="DaysFormat",S[S.DaysStandalone=4]="DaysStandalone",S[S.MonthsFormat=5]="MonthsFormat",S[S.MonthsStandalone=6]="MonthsStandalone",S[S.Eras=7]="Eras",S[S.FirstDayOfWeek=8]="FirstDayOfWeek",S[S.WeekendRange=9]="WeekendRange",S[S.DateFormat=10]="DateFormat",S[S.TimeFormat=11]="TimeFormat",S[S.DateTimeFormat=12]="DateTimeFormat",S[S.NumberSymbols=13]="NumberSymbols",S[S.NumberFormats=14]="NumberFormats",S[S.CurrencyCode=15]="CurrencyCode",S[S.CurrencySymbol=16]="CurrencySymbol",S[S.CurrencyName=17]="CurrencyName",S[S.Currencies=18]="Currencies",S[S.Directionality=19]="Directionality",S[S.PluralCase=20]="PluralCase",S[S.ExtraData=21]="ExtraData",S))();const ke="en-US";let Cn=ke;function Uv(n,r,a,u,_){if(n=Pe(n),Array.isArray(n))for(let b=0;b<n.length;b++)Uv(n[b],r,a,u,_);else{const b=zn(),T=xt();let P=er(n)?n:Pe(n.provide),L=Za(n);const z=Ir(),ne=1048575&z.providerIndexes,le=z.directiveStart,He=z.providerIndexes>>20;if(er(n)||!n.multi){const ot=new Ho(L,_,eu),Rt=Hv(P,r,_?ne:ne+He,le);-1===Rt?(na(ui(z,T),b,P),Vv(b,n,r.length),r.push(P),z.directiveStart++,z.directiveEnd++,_&&(z.providerIndexes+=1048576),a.push(ot),T.push(ot)):(a[Rt]=ot,T[Rt]=ot)}else{const ot=Hv(P,r,ne+He,le),Rt=Hv(P,r,ne,ne+He),Yt=ot>=0&&a[ot],mn=Rt>=0&&a[Rt];if(_&&!mn||!_&&!Yt){na(ui(z,T),b,P);const In=function $0(n,r,a,u,_){const b=new Ho(n,a,eu);return b.multi=[],b.index=r,b.componentProviders=0,Fb(b,_,u&&!a),b}(_?K0:j0,a.length,_,u,L);!_&&mn&&(a[Rt].providerFactory=In),Vv(b,n,r.length,0),r.push(P),z.directiveStart++,z.directiveEnd++,_&&(z.providerIndexes+=1048576),a.push(In),T.push(In)}else Vv(b,n,ot>-1?ot:Rt,Fb(a[_?Rt:ot],L,!_&&u));!_&&u&&mn&&a[Rt].componentProviders++}}}function Vv(n,r,a,u){const _=er(r),b=function lc(n){return!!n.useClass}(r);if(_||b){const L=(b?Pe(r.useClass):r).prototype.ngOnDestroy;if(L){const z=n.destroyHooks||(n.destroyHooks=[]);if(!_&&r.multi){const ne=z.indexOf(a);-1===ne?z.push(a,[u,L]):z[ne+1].push(u,L)}else z.push(a,L)}}}function Fb(n,r,a){return a&&n.componentProviders++,n.multi.push(r)-1}function Hv(n,r,a,u){for(let _=a;_<u;_++)if(r[_]===n)return _;return-1}function j0(n,r,a,u){return Wv(this.multi,[])}function K0(n,r,a,u){const _=this.multi;let b;if(this.providerFactory){const T=this.providerFactory.componentProviders,P=qt(a,a[1],this.providerFactory.index,u);b=P.slice(0,T),Wv(_,b);for(let L=T;L<P.length;L++)b.push(P[L])}else b=[],Wv(_,b);return b}function Wv(n,r){for(let a=0;a<n.length;a++)r.push((0,n[a])());return r}function Bb(n,r=[]){return a=>{a.providersResolver=(u,_)=>function W0(n,r,a){const u=zn();if(u.firstCreatePass){const _=oi(n);Uv(a,u.data,u.blueprint,_,!0),Uv(r,u.data,u.blueprint,_,!1)}}(u,_?_(n):n,r)}}class um{}class Ub{}function Z0(n,r){return new Vb(n,r??null)}class Vb extends um{constructor(r,a){super(),this._parent=a,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new f_(this);const u=_i(r);this._bootstrapComponents=Rl(u.bootstrap),this._r3Injector=zp(r,a,[{provide:um,useValue:this},{provide:G,useValue:this.componentFactoryResolver}],Fe(r),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(r)}get injector(){return this._r3Injector}destroy(){const r=this._r3Injector;!r.destroyed&&r.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(r){this.destroyCbs.push(r)}}class jv extends Ub{constructor(r){super(),this.moduleType=r}create(r){return new Vb(this.moduleType,r)}}class z0 extends um{constructor(r,a,u){super(),this.componentFactoryResolver=new f_(this),this.instance=null;const _=new Ol([...r,{provide:um,useValue:this},{provide:G,useValue:this.componentFactoryResolver}],a||uc(),u,new Set(["environment"]));this.injector=_,_.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(r){this.injector.onDestroy(r)}}function Kv(n,r,a=null){return new z0(n,r,a).injector}let G0=(()=>{class n{constructor(a){this._injector=a,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(a){if(!a.standalone)return null;if(!this.cachedInjectors.has(a.id)){const u=Rs(0,a.type),_=u.length>0?Kv([u],this._injector,`Standalone[${a.type.name}]`):null;this.cachedInjectors.set(a.id,_)}return this.cachedInjectors.get(a.id)}ngOnDestroy(){try{for(const a of this.cachedInjectors.values())null!==a&&a.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=_t({token:n,providedIn:"environment",factory:()=>new n(Ni(no))}),n})();function Hb(n){n.getStandaloneInjector=r=>r.get(G0).getOrCreateStandaloneInjector(n)}function Gb(n,r,a,u){return qb(xt(),Pr(),n,r,a,u)}function qb(n,r,a,u,_,b){const T=r+a;return qs(n,T,_)?function Kl(n,r,a){return n[r]=a}(n,T+1,b?u.call(b,_):u(_)):function Fy(n,r){const a=n[r];return a===cr?void 0:a}(n,T+1)}function eE(n,r){const a=zn();let u;const _=n+22;a.firstCreatePass?(u=function hC(n,r){if(r)for(let a=r.length-1;a>=0;a--){const u=r[a];if(n===u.name)return u}}(r,a.pipeRegistry),a.data[_]=u,u.onDestroy&&(a.destroyHooks||(a.destroyHooks=[])).push(_,u.onDestroy)):u=a.data[_];const b=u.factory||(u.factory=Co(u.type)),T=Tr(eu);try{const P=tl(!1),L=b();return tl(P),function $u(n,r,a,u){a>=n.data.length&&(n.data[a]=null,n.blueprint[a]=null),r[a]=u}(a,xt(),_,L),L}finally{Tr(T)}}function tE(n,r,a){const u=n+22,_=xt(),b=Yi(_,u);return function By(n,r){return n[1].data[r].pure}(_,u)?qb(_,Pr(),r,b.transform,a,b):b.transform(a)}function Zv(n){return r=>{setTimeout(n,void 0,r)}}const Vd=class mC extends y.x{constructor(r=!1){super(),this.__isAsync=r}emit(r){super.next(r)}subscribe(r,a,u){let _=r,b=a||(()=>null),T=u;if(r&&"object"==typeof r){const L=r;_=L.next?.bind(L),b=L.error?.bind(L),T=L.complete?.bind(L)}this.__isAsync&&(b=Zv(b),_&&(_=Zv(_)),T&&(T=Zv(T)));const P=super.subscribe({next:_,error:b,complete:T});return r instanceof h.w0&&r.add(P),P}};function yC(){return this._results[Ld()]()}class yv{constructor(r=!1){this._emitDistinctChangesOnly=r,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=Ld(),u=yv.prototype;u[a]||(u[a]=yC)}get changes(){return this._changes||(this._changes=new Vd)}get(r){return this._results[r]}map(r){return this._results.map(r)}filter(r){return this._results.filter(r)}find(r){return this._results.find(r)}reduce(r,a){return this._results.reduce(r,a)}forEach(r){this._results.forEach(r)}some(r){return this._results.some(r)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(r,a){const u=this;u.dirty=!1;const _=So(r);(this._changesDetected=!function _o(n,r,a){if(n.length!==r.length)return!1;for(let u=0;u<n.length;u++){let _=n[u],b=r[u];if(a&&(_=a(_),b=a(b)),b!==_)return!1}return!0}(u._results,_,a))&&(u._results=_,u.length=_.length,u.last=_[this.length-1],u.first=_[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Uy=(()=>{class n{}return n.__NG_ELEMENT_ID__=EC,n})();const vC=Uy,bC=class extends vC{constructor(r,a,u){super(),this._declarationLView=r,this._declarationTContainer=a,this.elementRef=u}createEmbeddedView(r,a){const u=this._declarationTContainer.tViews,_=Qf(this._declarationLView,u,r,16,null,u.declTNode,null,null,null,null,a||null);_[17]=this._declarationLView[this._declarationTContainer.index];const T=this._declarationLView[19];return null!==T&&(_[19]=T.createEmbeddedView(u)),Xf(u,_,r),new Vh(_)}};function EC(){return vv(Ir(),xt())}function vv(n,r){return 4&n.type?new bC(r,n,Ve(n,r)):null}let bv=(()=>{class n{}return n.__NG_ELEMENT_ID__=CC,n})();function CC(){return iE(Ir(),xt())}const DC=bv,nE=class extends DC{constructor(r,a,u){super(),this._lContainer=r,this._hostTNode=a,this._hostLView=u}get element(){return Ve(this._hostTNode,this._hostLView)}get injector(){return new ra(this._hostTNode,this._hostLView)}get parentInjector(){const r=ps(this._hostTNode,this._hostLView);if(Dl(r)){const a=Na(r,this._hostLView),u=li(r);return new ra(a[1].data[u+8],a)}return new ra(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(r){const a=rE(this._lContainer);return null!==a&&a[r]||null}get length(){return this._lContainer.length-10}createEmbeddedView(r,a,u){let _,b;"number"==typeof u?_=u:null!=u&&(_=u.index,b=u.injector);const T=r.createEmbeddedView(a||{},b);return this.insert(T,_),T}createComponent(r,a,u,_,b){const T=r&&!function Ua(n){return"function"==typeof n}(r);let P;if(T)P=a;else{const le=a||{};P=le.index,u=le.injector,_=le.projectableNodes,b=le.environmentInjector||le.ngModuleRef}const L=T?r:new lp(Fn(r)),z=u||this.parentInjector;if(!b&&null==L.ngModule){const He=(T?z:this.parentInjector).get(no,null);He&&(b=He)}const ne=L.create(z,_,void 0,b);return this.insert(ne.hostView,P),ne}insert(r,a){const u=r._lView,_=u[1];if(function Xo(n){return Ri(n[3])}(u)){const ne=this.indexOf(r);if(-1!==ne)this.detach(ne);else{const le=u[3],He=new nE(le,le[6],le[3]);He.detach(He.indexOf(r))}}const b=this._adjustIndex(a),T=this._lContainer;!function Sf(n,r,a,u){const _=10+u,b=a.length;u>0&&(a[_-1][4]=r),u<b-10?(r[4]=a[_],nc(a,10+u,r)):(a.push(r),r[4]=null),r[3]=a;const T=r[17];null!==T&&a!==T&&function Iu(n,r){const a=n[9];r[16]!==r[3][3][16]&&(n[2]=!0),null===a?n[9]=[r]:a.push(r)}(T,r);const P=r[19];null!==P&&P.insertView(n),r[2]|=64}(_,u,T,b);const P=Rf(b,T),L=u[11],z=gh(L,T[7]);return null!==z&&function Af(n,r,a,u,_,b){u[0]=_,u[6]=r,xu(n,u,a,1,_,b)}(_,T[6],L,u,z,P),r.attachToViewContainerRef(),nc(zv(T),b,r),r}move(r,a){return this.insert(r,a)}indexOf(r){const a=rE(this._lContainer);return null!==a?a.indexOf(r):-1}remove(r){const a=this._adjustIndex(r,-1),u=Ll(this._lContainer,a);u&&(Ko(zv(this._lContainer),a),fc(u[1],u))}detach(r){const a=this._adjustIndex(r,-1),u=Ll(this._lContainer,a);return u&&null!=Ko(zv(this._lContainer),a)?new Vh(u):null}_adjustIndex(r,a=0){return r??this.length+a}};function rE(n){return n[8]}function zv(n){return n[8]||(n[8]=[])}function iE(n,r){let a;const u=r[n.index];if(Ri(u))a=u;else{let _;if(8&n.type)_=zr(u);else{const b=r[11];_=b.createComment("");const T=Ci(n,r);vd(b,gh(b,T),_,function Vp(n,r){return n.nextSibling(r)}(b,T),!1)}r[n.index]=a=c_(u,r,_,n),ip(r,a)}return new nE(a,n,r)}class Gv{constructor(r){this.queryList=r,this.matches=null}clone(){return new Gv(this.queryList)}setDirty(){this.queryList.setDirty()}}class qv{constructor(r=[]){this.queries=r}createEmbeddedView(r){const a=r.queries;if(null!==a){const u=null!==r.contentQueries?r.contentQueries[0]:a.length,_=[];for(let b=0;b<u;b++){const T=a.getByIndex(b);_.push(this.queries[T.indexInDeclarationView].clone())}return new qv(_)}return null}insertView(r){this.dirtyQueriesWithMatches(r)}detachView(r){this.dirtyQueriesWithMatches(r)}dirtyQueriesWithMatches(r){for(let a=0;a<this.queries.length;a++)null!==fE(r,a).matches&&this.queries[a].setDirty()}}class oE{constructor(r,a,u=null){this.predicate=r,this.flags=a,this.read=u}}class Yv{constructor(r=[]){this.queries=r}elementStart(r,a){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(r,a)}elementEnd(r){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(r)}embeddedTView(r){let a=null;for(let u=0;u<this.length;u++){const _=null!==a?a.length:0,b=this.getByIndex(u).embeddedTView(r,_);b&&(b.indexInDeclarationView=u,null!==a?a.push(b):a=[b])}return null!==a?new Yv(a):null}template(r,a){for(let u=0;u<this.queries.length;u++)this.queries[u].template(r,a)}getByIndex(r){return this.queries[r]}get length(){return this.queries.length}track(r){this.queries.push(r)}}class Qv{constructor(r,a=-1){this.metadata=r,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(r,a){this.isApplyingToNode(a)&&this.matchTNode(r,a)}elementEnd(r){this._declarationNodeIndex===r.index&&(this._appliesToNextNode=!1)}template(r,a){this.elementStart(r,a)}embeddedTView(r,a){return this.isApplyingToNode(r)?(this.crossesNgTemplate=!0,this.addMatch(-r.index,a),new Qv(this.metadata)):null}isApplyingToNode(r){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let u=r.parent;for(;null!==u&&8&u.type&&u.index!==a;)u=u.parent;return a===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(r,a){const u=this.metadata.predicate;if(Array.isArray(u))for(let _=0;_<u.length;_++){const b=u[_];this.matchTNodeWithReadOption(r,a,TC(a,b)),this.matchTNodeWithReadOption(r,a,nl(a,r,b,!1,!1))}else u===Uy?4&a.type&&this.matchTNodeWithReadOption(r,a,-1):this.matchTNodeWithReadOption(r,a,nl(a,r,u,!1,!1))}matchTNodeWithReadOption(r,a,u){if(null!==u){const _=this.metadata.read;if(null!==_)if(_===ft||_===bv||_===Uy&&4&a.type)this.addMatch(a.index,-2);else{const b=nl(a,r,_,!1,!1);null!==b&&this.addMatch(a.index,b)}else this.addMatch(a.index,u)}}addMatch(r,a){null===this.matches?this.matches=[r,a]:this.matches.push(r,a)}}function TC(n,r){const a=n.localNames;if(null!==a)for(let u=0;u<a.length;u+=2)if(a[u]===r)return a[u+1];return null}function AC(n,r,a,u){return-1===a?function IC(n,r){return 11&n.type?Ve(n,r):4&n.type?vv(n,r):null}(r,n):-2===a?function SC(n,r,a){return a===ft?Ve(r,n):a===Uy?vv(r,n):a===bv?iE(r,n):void 0}(n,r,u):qt(n,n[1],a,r)}function sE(n,r,a,u){const _=r[19].queries[u];if(null===_.matches){const b=n.data,T=a.matches,P=[];for(let L=0;L<T.length;L+=2){const z=T[L];P.push(z<0?null:AC(r,b[z],T[L+1],a.metadata.read))}_.matches=P}return _.matches}function Xv(n,r,a,u){const _=n.queries.getByIndex(a),b=_.matches;if(null!==b){const T=sE(n,r,_,a);for(let P=0;P<b.length;P+=2){const L=b[P];if(L>0)u.push(T[P/2]);else{const z=b[P+1],ne=r[-L];for(let le=10;le<ne.length;le++){const He=ne[le];He[17]===He[3]&&Xv(He[1],He,z,u)}if(null!==ne[9]){const le=ne[9];for(let He=0;He<le.length;He++){const ot=le[He];Xv(ot[1],ot,z,u)}}}}}return u}function aE(n){const r=xt(),a=zn(),u=ya();Kr(u+1);const _=fE(a,u);if(n.dirty&&Bs(r)===(2==(2&_.metadata.flags))){if(null===_.matches)n.reset([]);else{const b=_.crossesNgTemplate?Xv(a,r,u,[]):sE(a,r,_,u);n.reset(b,Jt),n.notifyOnChanges()}return!0}return!1}function lE(n,r,a){const u=zn();u.firstCreatePass&&(hE(u,new oE(n,r,a),-1),2==(2&r)&&(u.staticViewQueries=!0)),dE(u,xt(),r)}function cE(n,r,a,u){const _=zn();if(_.firstCreatePass){const b=Ir();hE(_,new oE(r,a,u),b.index),function OC(n,r){const a=n.contentQueries||(n.contentQueries=[]);r!==(a.length?a[a.length-1]:-1)&&a.push(n.queries.length-1,r)}(_,n),2==(2&a)&&(_.staticContentQueries=!0)}dE(_,xt(),a)}function uE(){return function xC(n,r){return n[19].queries[r].queryList}(xt(),ya())}function dE(n,r,a){const u=new yv(4==(4&a));tp(n,r,u,u.destroy),null===r[19]&&(r[19]=new qv),r[19].queries.push(new Gv(u))}function hE(n,r,a){null===n.queries&&(n.queries=new Yv),n.queries.track(new Qv(r,a))}function fE(n,r){return n.queries.getByIndex(r)}function Cv(...n){}const PE=new rn("Application Initializer");let Dv=(()=>{class n{constructor(a){this.appInits=a,this.resolve=Cv,this.reject=Cv,this.initialized=!1,this.done=!1,this.donePromise=new Promise((u,_)=>{this.resolve=u,this.reject=_})}runInitializers(){if(this.initialized)return;const a=[],u=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let _=0;_<this.appInits.length;_++){const b=this.appInits[_]();if(fp(b))a.push(b);else if(C_(b)){const T=new Promise((P,L)=>{b.subscribe({complete:P,error:L})});a.push(T)}}Promise.all(a).then(()=>{u()}).catch(_=>{this.reject(_)}),0===a.length&&u(),this.initialized=!0}}return n.\u0275fac=function(a){return new(a||n)(Ni(PE,8))},n.\u0275prov=_t({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const RE=new rn("AppId",{providedIn:"root",factory:function kE(){return`${rb()}${rb()}${rb()}`}});function rb(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const LE=new rn("Platform Initializer"),XC=new rn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),NE=new rn("appBootstrapListener"),JC=new rn("AnimationModuleType");let eD=(()=>{class n{log(a){console.log(a)}warn(a){console.warn(a)}}return n.\u0275fac=function(a){return new(a||n)},n.\u0275prov=_t({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const wv=new rn("LocaleId",{providedIn:"root",factory:()=>B(wv,Ot.Optional|Ot.SkipSelf)||function tD(){return typeof $localize<"u"&&$localize.locale||ke}()}),nD=new rn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class rD{constructor(r,a){this.ngModuleFactory=r,this.componentFactories=a}}let iD=(()=>{class n{compileModuleSync(a){return new jv(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const u=this.compileModuleSync(a),b=Rl(_i(a).declarations).reduce((T,P)=>{const L=Fn(P);return L&&T.push(new lp(L)),T},[]);return new rD(u,b)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return n.\u0275fac=function(a){return new(a||n)},n.\u0275prov=_t({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const aD=(()=>Promise.resolve(0))();function ib(n){typeof Zone>"u"?aD.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class au{constructor({enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Vd(!1),this.onMicrotaskEmpty=new Vd(!1),this.onStable=new Vd(!1),this.onError=new Vd(!1),typeof Zone>"u")throw new tt(908,!1);Zone.assertZonePatched();const _=this;if(_._nesting=0,_._outer=_._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const b=Zone.AsyncStackTaggingZoneSpec;_._inner=_._inner.fork(new b("Angular"))}Zone.TaskTrackingZoneSpec&&(_._inner=_._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(_._inner=_._inner.fork(Zone.longStackTraceZoneSpec)),_.shouldCoalesceEventChangeDetection=!u&&a,_.shouldCoalesceRunChangeDetection=u,_.lastRequestAnimationFrameId=-1,_.nativeRequestAnimationFrame=function lD(){let n=vt.requestAnimationFrame,r=vt.cancelAnimationFrame;if(typeof Zone<"u"&&n&&r){const a=n[Zone.__symbol__("OriginalDelegate")];a&&(n=a);const u=r[Zone.__symbol__("OriginalDelegate")];u&&(r=u)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:r}}().nativeRequestAnimationFrame,function dD(n){const r=()=>{!function uD(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(vt,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,sb(n),n.isCheckStableRunning=!0,ob(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),sb(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,u,_,b,T,P)=>{try{return UE(n),a.invokeTask(_,b,T,P)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===b.type||n.shouldCoalesceRunChangeDetection)&&r(),VE(n)}},onInvoke:(a,u,_,b,T,P,L)=>{try{return UE(n),a.invoke(_,b,T,P,L)}finally{n.shouldCoalesceRunChangeDetection&&r(),VE(n)}},onHasTask:(a,u,_,b)=>{a.hasTask(_,b),u===_&&("microTask"==b.change?(n._hasPendingMicrotasks=b.microTask,sb(n),ob(n)):"macroTask"==b.change&&(n.hasPendingMacrotasks=b.macroTask))},onHandleError:(a,u,_,b)=>(a.handleError(_,b),n.runOutsideAngular(()=>n.onError.emit(b)),!1)})}(_)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!au.isInAngularZone())throw new tt(909,!1)}static assertNotInAngularZone(){if(au.isInAngularZone())throw new tt(909,!1)}run(r,a,u){return this._inner.run(r,a,u)}runTask(r,a,u,_){const b=this._inner,T=b.scheduleEventTask("NgZoneEvent: "+_,r,cD,Cv,Cv);try{return b.runTask(T,a,u)}finally{b.cancelTask(T)}}runGuarded(r,a,u){return this._inner.runGuarded(r,a,u)}runOutsideAngular(r){return this._outer.run(r)}}const cD={};function ob(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function sb(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function UE(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function VE(n){n._nesting--,ob(n)}class hD{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Vd,this.onMicrotaskEmpty=new Vd,this.onStable=new Vd,this.onError=new Vd}run(r,a,u){return r.apply(a,u)}runGuarded(r,a,u){return r.apply(a,u)}runOutsideAngular(r){return r()}runTask(r,a,u,_){return r.apply(a,u)}}const HE=new rn(""),WE=new rn("");let ab,fD=(()=>{class n{constructor(a,u,_){this._ngZone=a,this.registry=u,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,ab||(function pD(n){ab=n}(_),_.addToWindow(u)),this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{au.assertNotInAngularZone(),ib(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())ib(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(a)||(clearTimeout(u.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,u,_){let b=-1;u&&u>0&&(b=setTimeout(()=>{this._callbacks=this._callbacks.filter(T=>T.timeoutId!==b),a(this._didWork,this.getPendingTasks())},u)),this._callbacks.push({doneCb:a,timeoutId:b,updateCb:_})}whenStable(a,u,_){if(_&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,u,_),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(a){this.registry.registerApplication(a,this)}unregisterApplication(a){this.registry.unregisterApplication(a)}findProviders(a,u,_){return[]}}return n.\u0275fac=function(a){return new(a||n)(Ni(au),Ni(jE),Ni(WE))},n.\u0275prov=_t({token:n,factory:n.\u0275fac}),n})(),jE=(()=>{class n{constructor(){this._applications=new Map}registerApplication(a,u){this._applications.set(a,u)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,u=!0){return ab?.findTestabilityInTree(this,a,u)??null}}return n.\u0275fac=function(a){return new(a||n)},n.\u0275prov=_t({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})(),vp=null;const KE=new rn("AllowMultipleToken"),lb=new rn("PlatformDestroyListeners");class mD{constructor(r,a){this.name=r,this.token=a}}function ZE(n,r,a=[]){const u=`Platform: ${r}`,_=new rn(u);return(b=[])=>{let T=cb();if(!T||T.injector.get(KE,!1)){const P=[...a,...b,{provide:_,useValue:!0}];n?n(P):function yD(n){if(vp&&!vp.get(KE,!1))throw new tt(400,!1);vp=n;const r=n.get(GE);(function $E(n){const r=n.get(LE,null);r&&r.forEach(a=>a())})(n)}(function zE(n=[],r){return Yc.create({name:r,providers:[{provide:cc,useValue:"platform"},{provide:lb,useValue:new Set([()=>vp=null])},...n]})}(P,u))}return function bD(n){const r=cb();if(!r)throw new tt(401,!1);return r}()}}function cb(){return vp?.get(GE)??null}let GE=(()=>{class n{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,u){const _=function YE(n,r){let a;return a="noop"===n?new hD:("zone.js"===n?void 0:n)||new au(r),a}(u?.ngZone,function qE(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}(u)),b=[{provide:au,useValue:_}];return _.run(()=>{const T=Yc.create({providers:b,parent:this.injector,name:a.moduleType.name}),P=a.create(T),L=P.injector.get(lh,null);if(!L)throw new tt(402,!1);return _.runOutsideAngular(()=>{const z=_.onError.subscribe({next:ne=>{L.handleError(ne)}});P.onDestroy(()=>{Tv(this._modules,P),z.unsubscribe()})}),function QE(n,r,a){try{const u=a();return fp(u)?u.catch(_=>{throw r.runOutsideAngular(()=>n.handleError(_)),_}):u}catch(u){throw r.runOutsideAngular(()=>n.handleError(u)),u}}(L,_,()=>{const z=P.injector.get(Dv);return z.runInitializers(),z.donePromise.then(()=>(function Mr(n){ln(n,"Expected localeId to be defined"),"string"==typeof n&&(Cn=n.toLowerCase().replace(/_/g,"-"))}(P.injector.get(wv,ke)||ke),this._moduleDoBootstrap(P),P))})})}bootstrapModule(a,u=[]){const _=XE({},u);return function _D(n,r,a){const u=new jv(a);return Promise.resolve(u)}(0,0,a).then(b=>this.bootstrapModuleFactory(b,_))}_moduleDoBootstrap(a){const u=a.injector.get(Mv);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(_=>u.bootstrap(_));else{if(!a.instance.ngDoBootstrap)throw new tt(403,!1);a.instance.ngDoBootstrap(u)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new tt(404,!1);this._modules.slice().forEach(u=>u.destroy()),this._destroyListeners.forEach(u=>u());const a=this._injector.get(lb,null);a&&(a.forEach(u=>u()),a.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(a){return new(a||n)(Ni(Yc))},n.\u0275prov=_t({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function XE(n,r){return Array.isArray(r)?r.reduce(XE,n):{...n,...r}}let Mv=(()=>{class n{constructor(a,u,_){this._zone=a,this._injector=u,this._exceptionHandler=_,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const b=new q.y(P=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{P.next(this._stable),P.complete()})}),T=new q.y(P=>{let L;this._zone.runOutsideAngular(()=>{L=this._zone.onStable.subscribe(()=>{au.assertNotInAngularZone(),ib(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,P.next(!0))})})});const z=this._zone.onUnstable.subscribe(()=>{au.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{P.next(!1)}))});return()=>{L.unsubscribe(),z.unsubscribe()}});this.isStable=(0,_e.T)(b,T.pipe((0,Ae.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(a,u){const _=a instanceof gf;if(!this._injector.get(Dv).done)throw!_&&wi(a),new tt(405,false);let T;T=_?a:this._injector.get(G).resolveComponentFactory(a),this.componentTypes.push(T.componentType);const P=function gD(n){return n.isBoundToModule}(T)?void 0:this._injector.get(um),z=T.create(Yc.NULL,[],u||T.selector,P),ne=z.location.nativeElement,le=z.injector.get(HE,null);return le?.registerApplication(ne),z.onDestroy(()=>{this.detachView(z.hostView),Tv(this.components,z),le?.unregisterApplication(ne)}),this._loadComponent(z),z}tick(){if(this._runningTick)throw new tt(101,!1);try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(a))}finally{this._runningTick=!1}}attachView(a){const u=a;this._views.push(u),u.attachToAppRef(this)}detachView(a){const u=a;Tv(this._views,u),u.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a),this._injector.get(NE,[]).concat(this._bootstrapListeners).forEach(_=>_(a))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(a=>a()),this._views.slice().forEach(a=>a.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(a){return this._destroyListeners.push(a),()=>Tv(this._destroyListeners,a)}destroy(){if(this._destroyed)throw new tt(406,!1);const a=this._injector;a.destroy&&!a.destroyed&&a.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(a){return new(a||n)(Ni(au),Ni(no),Ni(lh))},n.\u0275prov=_t({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Tv(n,r){const a=n.indexOf(r);a>-1&&n.splice(a,1)}let e0=!0,t0=!1;function CD(){return t0=!0,e0}function DD(){if(t0)throw new Error("Cannot enable prod mode after platform setup.");e0=!1}let wD=(()=>{class n{}return n.__NG_ELEMENT_ID__=MD,n})();function MD(n){return function TD(n,r,a){if(Cs(n)&&!a){const u=ir(n.index,r);return new Vh(u,u)}return 47&n.type?new Vh(r[16],r):null}(Ir(),xt(),16==(16&n))}class s0{constructor(){}supports(r){return Go(r)}create(r){return new PD(r)}}const OD=(n,r)=>r;class PD{constructor(r){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=r||OD}forEachItem(r){let a;for(a=this._itHead;null!==a;a=a._next)r(a)}forEachOperation(r){let a=this._itHead,u=this._removalsHead,_=0,b=null;for(;a||u;){const T=!u||a&&a.currentIndex<l0(u,_,b)?a:u,P=l0(T,_,b),L=T.currentIndex;if(T===u)_--,u=u._nextRemoved;else if(a=a._next,null==T.previousIndex)_++;else{b||(b=[]);const z=P-_,ne=L-_;if(z!=ne){for(let He=0;He<z;He++){const ot=He<b.length?b[He]:b[He]=0,Rt=ot+He;ne<=Rt&&Rt<z&&(b[He]=ot+1)}b[T.previousIndex]=ne-z}}P!==L&&r(T,P,L)}}forEachPreviousItem(r){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)r(a)}forEachAddedItem(r){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)r(a)}forEachMovedItem(r){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)r(a)}forEachRemovedItem(r){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)r(a)}forEachIdentityChange(r){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)r(a)}diff(r){if(null==r&&(r=[]),!Go(r))throw new tt(900,!1);return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let _,b,T,a=this._itHead,u=!1;if(Array.isArray(r)){this.length=r.length;for(let P=0;P<this.length;P++)b=r[P],T=this._trackByFn(P,b),null!==a&&Object.is(a.trackById,T)?(u&&(a=this._verifyReinsertion(a,b,T,P)),Object.is(a.item,b)||this._addIdentityChange(a,b)):(a=this._mismatch(a,b,T,P),u=!0),a=a._next}else _=0,function ty(n,r){if(Array.isArray(n))for(let a=0;a<n.length;a++)r(n[a]);else{const a=n[Ld()]();let u;for(;!(u=a.next()).done;)r(u.value)}}(r,P=>{T=this._trackByFn(_,P),null!==a&&Object.is(a.trackById,T)?(u&&(a=this._verifyReinsertion(a,P,T,_)),Object.is(a.item,P)||this._addIdentityChange(a,P)):(a=this._mismatch(a,P,T,_),u=!0),a=a._next,_++}),this.length=_;return this._truncate(a),this.collection=r,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let r;for(r=this._previousItHead=this._itHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._additionsHead;null!==r;r=r._nextAdded)r.previousIndex=r.currentIndex;for(this._additionsHead=this._additionsTail=null,r=this._movesHead;null!==r;r=r._nextMoved)r.previousIndex=r.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(r,a,u,_){let b;return null===r?b=this._itTail:(b=r._prev,this._remove(r)),null!==(r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(r.item,a)||this._addIdentityChange(r,a),this._reinsertAfter(r,b,_)):null!==(r=null===this._linkedRecords?null:this._linkedRecords.get(u,_))?(Object.is(r.item,a)||this._addIdentityChange(r,a),this._moveAfter(r,b,_)):r=this._addAfter(new RD(a,u),b,_),r}_verifyReinsertion(r,a,u,_){let b=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==b?r=this._reinsertAfter(b,r._prev,_):r.currentIndex!=_&&(r.currentIndex=_,this._addToMoves(r,_)),r}_truncate(r){for(;null!==r;){const a=r._next;this._addToRemovals(this._unlink(r)),r=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(r,a,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(r);const _=r._prevRemoved,b=r._nextRemoved;return null===_?this._removalsHead=b:_._nextRemoved=b,null===b?this._removalsTail=_:b._prevRemoved=_,this._insertAfter(r,a,u),this._addToMoves(r,u),r}_moveAfter(r,a,u){return this._unlink(r),this._insertAfter(r,a,u),this._addToMoves(r,u),r}_addAfter(r,a,u){return this._insertAfter(r,a,u),this._additionsTail=null===this._additionsTail?this._additionsHead=r:this._additionsTail._nextAdded=r,r}_insertAfter(r,a,u){const _=null===a?this._itHead:a._next;return r._next=_,r._prev=a,null===_?this._itTail=r:_._prev=r,null===a?this._itHead=r:a._next=r,null===this._linkedRecords&&(this._linkedRecords=new a0),this._linkedRecords.put(r),r.currentIndex=u,r}_remove(r){return this._addToRemovals(this._unlink(r))}_unlink(r){null!==this._linkedRecords&&this._linkedRecords.remove(r);const a=r._prev,u=r._next;return null===a?this._itHead=u:a._next=u,null===u?this._itTail=a:u._prev=a,r}_addToMoves(r,a){return r.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=r:this._movesTail._nextMoved=r),r}_addToRemovals(r){return null===this._unlinkedRecords&&(this._unlinkedRecords=new a0),this._unlinkedRecords.put(r),r.currentIndex=null,r._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=r,r._prevRemoved=null):(r._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=r),r}_addIdentityChange(r,a){return r.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=r:this._identityChangesTail._nextIdentityChange=r,r}}class RD{constructor(r,a){this.item=r,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class kD{constructor(){this._head=null,this._tail=null}add(r){null===this._head?(this._head=this._tail=r,r._nextDup=null,r._prevDup=null):(this._tail._nextDup=r,r._prevDup=this._tail,r._nextDup=null,this._tail=r)}get(r,a){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===a||a<=u.currentIndex)&&Object.is(u.trackById,r))return u;return null}remove(r){const a=r._prevDup,u=r._nextDup;return null===a?this._head=u:a._nextDup=u,null===u?this._tail=a:u._prevDup=a,null===this._head}}class a0{constructor(){this.map=new Map}put(r){const a=r.trackById;let u=this.map.get(a);u||(u=new kD,this.map.set(a,u)),u.add(r)}get(r,a){const _=this.map.get(r);return _?_.get(r,a):null}remove(r){const a=r.trackById;return this.map.get(a).remove(r)&&this.map.delete(a),r}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function l0(n,r,a){const u=n.previousIndex;if(null===u)return u;let _=0;return a&&u<a.length&&(_=a[u]),u+r+_}class c0{constructor(){}supports(r){return r instanceof Map||Ng(r)}create(){return new LD}}class LD{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(r){let a;for(a=this._mapHead;null!==a;a=a._next)r(a)}forEachPreviousItem(r){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)r(a)}forEachChangedItem(r){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)r(a)}forEachAddedItem(r){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)r(a)}forEachRemovedItem(r){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)r(a)}diff(r){if(r){if(!(r instanceof Map||Ng(r)))throw new tt(900,!1)}else r=new Map;return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(r,(u,_)=>{if(a&&a.key===_)this._maybeAddToChanges(a,u),this._appendAfter=a,a=a._next;else{const b=this._getOrCreateRecordForKey(_,u);a=this._insertBeforeOrAppend(a,b)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let u=a;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(r,a){if(r){const u=r._prev;return a._next=r,a._prev=u,r._prev=a,u&&(u._next=a),r===this._mapHead&&(this._mapHead=a),this._appendAfter=r,r}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(r,a){if(this._records.has(r)){const _=this._records.get(r);this._maybeAddToChanges(_,a);const b=_._prev,T=_._next;return b&&(b._next=T),T&&(T._prev=b),_._next=null,_._prev=null,_}const u=new ND(r);return this._records.set(r,u),u.currentValue=a,this._addToAdditions(u),u}_reset(){if(this.isDirty){let r;for(this._previousMapHead=this._mapHead,r=this._previousMapHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._changesHead;null!==r;r=r._nextChanged)r.previousValue=r.currentValue;for(r=this._additionsHead;null!=r;r=r._nextAdded)r.previousValue=r.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(r,a){Object.is(a,r.currentValue)||(r.previousValue=r.currentValue,r.currentValue=a,this._addToChanges(r))}_addToAdditions(r){null===this._additionsHead?this._additionsHead=this._additionsTail=r:(this._additionsTail._nextAdded=r,this._additionsTail=r)}_addToChanges(r){null===this._changesHead?this._changesHead=this._changesTail=r:(this._changesTail._nextChanged=r,this._changesTail=r)}_forEach(r,a){r instanceof Map?r.forEach(a):Object.keys(r).forEach(u=>a(r[u],u))}}class ND{constructor(r){this.key=r,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function u0(){return new pb([new s0])}let pb=(()=>{class n{constructor(a){this.factories=a}static create(a,u){if(null!=u){const _=u.factories.slice();a=a.concat(_)}return new n(a)}static extend(a){return{provide:n,useFactory:u=>n.create(a,u||u0()),deps:[[n,new Pn,new Xt]]}}find(a){const u=this.factories.find(_=>_.supports(a));if(null!=u)return u;throw new tt(901,!1)}}return n.\u0275prov=_t({token:n,providedIn:"root",factory:u0}),n})();function d0(){return new _b([new c0])}let _b=(()=>{class n{constructor(a){this.factories=a}static create(a,u){if(u){const _=u.factories.slice();a=a.concat(_)}return new n(a)}static extend(a){return{provide:n,useFactory:u=>n.create(a,u||d0()),deps:[[n,new Pn,new Xt]]}}find(a){const u=this.factories.find(_=>_.supports(a));if(u)return u;throw new tt(901,!1)}}return n.\u0275prov=_t({token:n,providedIn:"root",factory:d0}),n})();const UD=ZE(null,"core",[]);let VD=(()=>{class n{constructor(a){}}return n.\u0275fac=function(a){return new(a||n)(Ni(Mv))},n.\u0275mod=nn({type:n}),n.\u0275inj=ze({}),n})();function HD(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}},4006:(ut,Be,k)=>{k.d(Be,{EJ:()=>as,F:()=>Ti,Fj:()=>st,JJ:()=>Ot,JL:()=>Qn,Kr:()=>oo,On:()=>Lo,YN:()=>ea,_Y:()=>Ns,u5:()=>ma});var y=k(4650),h=k(6895),q=k(8996),_e=k(4128),Ae=k(4004);let Le=(()=>{class ${constructor(U,re){this._renderer=U,this._elementRef=re,this.onChange=pt=>{},this.onTouched=()=>{}}setProperty(U,re){this._renderer.setProperty(this._elementRef.nativeElement,U,re)}registerOnTouched(U){this.onTouched=U}registerOnChange(U){this.onChange=U}setDisabledState(U){this.setProperty("disabled",U)}}return $.\u0275fac=function(U){return new(U||$)(y.Y36(y.Qsj),y.Y36(y.SBq))},$.\u0275dir=y.lG2({type:$}),$})(),Ue=(()=>{class $ extends Le{}return $.\u0275fac=function(){let H;return function(re){return(H||(H=y.n5z($)))(re||$)}}(),$.\u0275dir=y.lG2({type:$,features:[y.qOj]}),$})();const Fe=new y.OlP("NgValueAccessor"),ge={provide:Fe,useExisting:(0,y.Gpc)(()=>st),multi:!0},Et=new y.OlP("CompositionEventMode");let st=(()=>{class $ extends Le{constructor(U,re,pt){super(U,re),this._compositionMode=pt,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Pe(){const $=(0,h.q)()?(0,h.q)().getUserAgent():"";return/android (\d+)/.test($.toLowerCase())}())}writeValue(U){this.setProperty("value",U??"")}_handleInput(U){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(U)}_compositionStart(){this._composing=!0}_compositionEnd(U){this._composing=!1,this._compositionMode&&this.onChange(U)}}return $.\u0275fac=function(U){return new(U||$)(y.Y36(y.Qsj),y.Y36(y.SBq),y.Y36(Et,8))},$.\u0275dir=y.lG2({type:$,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(U,re){1&U&&y.NdJ("input",function(cn){return re._handleInput(cn.target.value)})("blur",function(){return re.onTouched()})("compositionstart",function(){return re._compositionStart()})("compositionend",function(cn){return re._compositionEnd(cn.target.value)})},features:[y._Bn([ge]),y.qOj]}),$})();const We=new y.OlP("NgValidators"),Re=new y.OlP("NgAsyncValidators");function Xe($){return null!=$}function At($){return(0,y.QGY)($)?(0,q.D)($):$}function Ut($){let H={};return $.forEach(U=>{H=null!=U?{...H,...U}:H}),0===Object.keys(H).length?null:H}function zt($,H){return H.map(U=>U($))}function ln($){return $.map(H=>function un($){return!$.validate}(H)?H:U=>H.validate(U))}function Dn($){return null!=$?function Dt($){if(!$)return null;const H=$.filter(Xe);return 0==H.length?null:function(U){return Ut(zt(U,H))}}(ln($)):null}function it($){return null!=$?function gn($){if(!$)return null;const H=$.filter(Xe);return 0==H.length?null:function(U){const re=zt(U,H).map(At);return(0,_e.D)(re).pipe((0,Ae.U)(Ut))}}(ln($)):null}function _t($,H){return null===$?[H]:Array.isArray($)?[...$,H]:[$,H]}function Vt($){return $?Array.isArray($)?$:[$]:[]}function wn($,H){return Array.isArray($)?$.includes(H):$===H}function rr($,H){const U=Vt(H);return Vt($).forEach(pt=>{wn(U,pt)||U.push(pt)}),U}function dr($,H){return Vt(H).filter(U=>!wn($,U))}class Kn{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(H){this._rawValidators=H||[],this._composedValidatorFn=Dn(this._rawValidators)}_setAsyncValidators(H){this._rawAsyncValidators=H||[],this._composedAsyncValidatorFn=it(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(H){this._onDestroyCallbacks.push(H)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(H=>H()),this._onDestroyCallbacks=[]}reset(H){this.control&&this.control.reset(H)}hasError(H,U){return!!this.control&&this.control.hasError(H,U)}getError(H,U){return this.control?this.control.getError(H,U):null}}class Yn extends Kn{get formDirective(){return null}get path(){return null}}class Mn extends Kn{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Nn{constructor(H){this._cd=H}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Ot=(()=>{class $ extends Nn{constructor(U){super(U)}}return $.\u0275fac=function(U){return new(U||$)(y.Y36(Mn,2))},$.\u0275dir=y.lG2({type:$,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(U,re){2&U&&y.ekj("ng-untouched",re.isUntouched)("ng-touched",re.isTouched)("ng-pristine",re.isPristine)("ng-dirty",re.isDirty)("ng-valid",re.isValid)("ng-invalid",re.isInvalid)("ng-pending",re.isPending)},features:[y.qOj]}),$})(),Qn=(()=>{class $ extends Nn{constructor(U){super(U)}}return $.\u0275fac=function(U){return new(U||$)(y.Y36(Yn,10))},$.\u0275dir=y.lG2({type:$,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(U,re){2&U&&y.ekj("ng-untouched",re.isUntouched)("ng-touched",re.isTouched)("ng-pristine",re.isPristine)("ng-dirty",re.isDirty)("ng-valid",re.isValid)("ng-invalid",re.isInvalid)("ng-pending",re.isPending)("ng-submitted",re.isSubmitted)},features:[y.qOj]}),$})();const Ie="VALID",ve="INVALID",me="PENDING",Oe="DISABLED";function be($){return(hr($)?$.validators:$)||null}function Ct($){return Array.isArray($)?Dn($):$||null}function jt($,H){return(hr(H)?H.asyncValidators:$)||null}function nn($){return Array.isArray($)?it($):$||null}function hr($){return null!=$&&!Array.isArray($)&&"object"==typeof $}class Vn{constructor(H,U){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=H,this._rawAsyncValidators=U,this._composedValidatorFn=Ct(this._rawValidators),this._composedAsyncValidatorFn=nn(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(H){this._rawValidators=this._composedValidatorFn=H}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(H){this._rawAsyncValidators=this._composedAsyncValidatorFn=H}get parent(){return this._parent}get valid(){return this.status===Ie}get invalid(){return this.status===ve}get pending(){return this.status==me}get disabled(){return this.status===Oe}get enabled(){return this.status!==Oe}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(H){this._rawValidators=H,this._composedValidatorFn=Ct(H)}setAsyncValidators(H){this._rawAsyncValidators=H,this._composedAsyncValidatorFn=nn(H)}addValidators(H){this.setValidators(rr(H,this._rawValidators))}addAsyncValidators(H){this.setAsyncValidators(rr(H,this._rawAsyncValidators))}removeValidators(H){this.setValidators(dr(H,this._rawValidators))}removeAsyncValidators(H){this.setAsyncValidators(dr(H,this._rawAsyncValidators))}hasValidator(H){return wn(this._rawValidators,H)}hasAsyncValidator(H){return wn(this._rawAsyncValidators,H)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(H={}){this.touched=!0,this._parent&&!H.onlySelf&&this._parent.markAsTouched(H)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(H=>H.markAllAsTouched())}markAsUntouched(H={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(U=>{U.markAsUntouched({onlySelf:!0})}),this._parent&&!H.onlySelf&&this._parent._updateTouched(H)}markAsDirty(H={}){this.pristine=!1,this._parent&&!H.onlySelf&&this._parent.markAsDirty(H)}markAsPristine(H={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(U=>{U.markAsPristine({onlySelf:!0})}),this._parent&&!H.onlySelf&&this._parent._updatePristine(H)}markAsPending(H={}){this.status=me,!1!==H.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!H.onlySelf&&this._parent.markAsPending(H)}disable(H={}){const U=this._parentMarkedDirty(H.onlySelf);this.status=Oe,this.errors=null,this._forEachChild(re=>{re.disable({...H,onlySelf:!0})}),this._updateValue(),!1!==H.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...H,skipPristineCheck:U}),this._onDisabledChange.forEach(re=>re(!0))}enable(H={}){const U=this._parentMarkedDirty(H.onlySelf);this.status=Ie,this._forEachChild(re=>{re.enable({...H,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:H.emitEvent}),this._updateAncestors({...H,skipPristineCheck:U}),this._onDisabledChange.forEach(re=>re(!1))}_updateAncestors(H){this._parent&&!H.onlySelf&&(this._parent.updateValueAndValidity(H),H.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(H){this._parent=H}getRawValue(){return this.value}updateValueAndValidity(H={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ie||this.status===me)&&this._runAsyncValidator(H.emitEvent)),!1!==H.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!H.onlySelf&&this._parent.updateValueAndValidity(H)}_updateTreeValidity(H={emitEvent:!0}){this._forEachChild(U=>U._updateTreeValidity(H)),this.updateValueAndValidity({onlySelf:!0,emitEvent:H.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Oe:Ie}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(H){if(this.asyncValidator){this.status=me,this._hasOwnPendingAsyncValidator=!0;const U=At(this.asyncValidator(this));this._asyncValidationSubscription=U.subscribe(re=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(re,{emitEvent:H})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(H,U={}){this.errors=H,this._updateControlsErrors(!1!==U.emitEvent)}get(H){let U=H;return null==U||(Array.isArray(U)||(U=U.split(".")),0===U.length)?null:U.reduce((re,pt)=>re&&re._find(pt),this)}getError(H,U){const re=U?this.get(U):this;return re&&re.errors?re.errors[H]:null}hasError(H,U){return!!this.getError(H,U)}get root(){let H=this;for(;H._parent;)H=H._parent;return H}_updateControlsErrors(H){this.status=this._calculateStatus(),H&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(H)}_initObservables(){this.valueChanges=new y.vpe,this.statusChanges=new y.vpe}_calculateStatus(){return this._allControlsDisabled()?Oe:this.errors?ve:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(me)?me:this._anyControlsHaveStatus(ve)?ve:Ie}_anyControlsHaveStatus(H){return this._anyControls(U=>U.status===H)}_anyControlsDirty(){return this._anyControls(H=>H.dirty)}_anyControlsTouched(){return this._anyControls(H=>H.touched)}_updatePristine(H={}){this.pristine=!this._anyControlsDirty(),this._parent&&!H.onlySelf&&this._parent._updatePristine(H)}_updateTouched(H={}){this.touched=this._anyControlsTouched(),this._parent&&!H.onlySelf&&this._parent._updateTouched(H)}_registerOnCollectionChange(H){this._onCollectionChange=H}_setUpdateStrategy(H){hr(H)&&null!=H.updateOn&&(this._updateOn=H.updateOn)}_parentMarkedDirty(H){return!H&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(H){return null}}class Fn extends Vn{constructor(H,U,re){super(be(U),jt(re,U)),this.controls=H,this._initObservables(),this._setUpdateStrategy(U),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(H,U){return this.controls[H]?this.controls[H]:(this.controls[H]=U,U.setParent(this),U._registerOnCollectionChange(this._onCollectionChange),U)}addControl(H,U,re={}){this.registerControl(H,U),this.updateValueAndValidity({emitEvent:re.emitEvent}),this._onCollectionChange()}removeControl(H,U={}){this.controls[H]&&this.controls[H]._registerOnCollectionChange(()=>{}),delete this.controls[H],this.updateValueAndValidity({emitEvent:U.emitEvent}),this._onCollectionChange()}setControl(H,U,re={}){this.controls[H]&&this.controls[H]._registerOnCollectionChange(()=>{}),delete this.controls[H],U&&this.registerControl(H,U),this.updateValueAndValidity({emitEvent:re.emitEvent}),this._onCollectionChange()}contains(H){return this.controls.hasOwnProperty(H)&&this.controls[H].enabled}setValue(H,U={}){(function Br($,H,U){$._forEachChild((re,pt)=>{if(void 0===U[pt])throw new y.vHH(1002,"")})})(this,0,H),Object.keys(H).forEach(re=>{(function ar($,H,U){const re=$.controls;if(!(H?Object.keys(re):re).length)throw new y.vHH(1e3,"");if(!re[U])throw new y.vHH(1001,"")})(this,!0,re),this.controls[re].setValue(H[re],{onlySelf:!0,emitEvent:U.emitEvent})}),this.updateValueAndValidity(U)}patchValue(H,U={}){null!=H&&(Object.keys(H).forEach(re=>{const pt=this.controls[re];pt&&pt.patchValue(H[re],{onlySelf:!0,emitEvent:U.emitEvent})}),this.updateValueAndValidity(U))}reset(H={},U={}){this._forEachChild((re,pt)=>{re.reset(H[pt],{onlySelf:!0,emitEvent:U.emitEvent})}),this._updatePristine(U),this._updateTouched(U),this.updateValueAndValidity(U)}getRawValue(){return this._reduceChildren({},(H,U,re)=>(H[re]=U.getRawValue(),H))}_syncPendingControls(){let H=this._reduceChildren(!1,(U,re)=>!!re._syncPendingControls()||U);return H&&this.updateValueAndValidity({onlySelf:!0}),H}_forEachChild(H){Object.keys(this.controls).forEach(U=>{const re=this.controls[U];re&&H(re,U)})}_setUpControls(){this._forEachChild(H=>{H.setParent(this),H._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(H){for(const[U,re]of Object.entries(this.controls))if(this.contains(U)&&H(re))return!0;return!1}_reduceValue(){return this._reduceChildren({},(U,re,pt)=>((re.enabled||this.disabled)&&(U[pt]=re.value),U))}_reduceChildren(H,U){let re=H;return this._forEachChild((pt,cn)=>{re=U(re,pt,cn)}),re}_allControlsDisabled(){for(const H of Object.keys(this.controls))if(this.controls[H].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(H){return this.controls.hasOwnProperty(H)?this.controls[H]:null}}function we($,H){bt($,H),H.valueAccessor.writeValue($.value),$.disabled&&H.valueAccessor.setDisabledState?.(!0),function jn($,H){H.valueAccessor.registerOnChange(U=>{$._pendingValue=U,$._pendingChange=!0,$._pendingDirty=!0,"change"===$.updateOn&&Hr($,H)})}($,H),function Ar($,H){const U=(re,pt)=>{H.valueAccessor.writeValue(re),pt&&H.viewToModelUpdate(re)};$.registerOnChange(U),H._registerOnDestroy(()=>{$._unregisterOnChange(U)})}($,H),function Zn($,H){H.valueAccessor.registerOnTouched(()=>{$._pendingTouched=!0,"blur"===$.updateOn&&$._pendingChange&&Hr($,H),"submit"!==$.updateOn&&$.markAsTouched()})}($,H),function Ge($,H){if(H.valueAccessor.setDisabledState){const U=re=>{H.valueAccessor.setDisabledState(re)};$.registerOnDisabledChange(U),H._registerOnDestroy(()=>{$._unregisterOnDisabledChange(U)})}}($,H)}function ae($,H){$.forEach(U=>{U.registerOnValidatorChange&&U.registerOnValidatorChange(H)})}function bt($,H){const U=function Te($){return $._rawValidators}($);null!==H.validator?$.setValidators(_t(U,H.validator)):"function"==typeof U&&$.setValidators([U]);const re=function ze($){return $._rawAsyncValidators}($);null!==H.asyncValidator?$.setAsyncValidators(_t(re,H.asyncValidator)):"function"==typeof re&&$.setAsyncValidators([re]);const pt=()=>$.updateValueAndValidity();ae(H._rawValidators,pt),ae(H._rawAsyncValidators,pt)}function Hr($,H){$._pendingDirty&&$.markAsDirty(),$.setValue($._pendingValue,{emitModelToViewChange:!1}),H.viewToModelUpdate($._pendingValue),$._pendingChange=!1}const Ro={provide:Yn,useExisting:(0,y.Gpc)(()=>Ti)},ko=(()=>Promise.resolve())();let Ti=(()=>{class $ extends Yn{constructor(U,re){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new y.vpe,this.form=new Fn({},Dn(U),it(re))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(U){ko.then(()=>{const re=this._findContainer(U.path);U.control=re.registerControl(U.name,U.control),we(U.control,U),U.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(U)})}getControl(U){return this.form.get(U.path)}removeControl(U){ko.then(()=>{const re=this._findContainer(U.path);re&&re.removeControl(U.name),this._directives.delete(U)})}addFormGroup(U){ko.then(()=>{const re=this._findContainer(U.path),pt=new Fn({});(function pn($,H){bt($,H)})(pt,U),re.registerControl(U.name,pt),pt.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(U){ko.then(()=>{const re=this._findContainer(U.path);re&&re.removeControl(U.name)})}getFormGroup(U){return this.form.get(U.path)}updateModel(U,re){ko.then(()=>{this.form.get(U.path).setValue(re)})}setValue(U){this.control.setValue(U)}onSubmit(U){return this.submitted=!0,function gi($,H){$._syncPendingControls(),H.forEach(U=>{const re=U.control;"submit"===re.updateOn&&re._pendingChange&&(U.viewToModelUpdate(re._pendingValue),re._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(U),!1}onReset(){this.resetForm()}resetForm(U){this.form.reset(U),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(U){return U.pop(),U.length?this.form.get(U):this.form}}return $.\u0275fac=function(U){return new(U||$)(y.Y36(We,10),y.Y36(Re,10))},$.\u0275dir=y.lG2({type:$,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(U,re){1&U&&y.NdJ("submit",function(cn){return re.onSubmit(cn)})("reset",function(){return re.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[y._Bn([Ro]),y.qOj]}),$})();function bo($,H){const U=$.indexOf(H);U>-1&&$.splice(U,1)}function Ui($){return"object"==typeof $&&null!==$&&2===Object.keys($).length&&"value"in $&&"disabled"in $}const $i=class extends Vn{constructor(H=null,U,re){super(be(U),jt(re,U)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(H),this._setUpdateStrategy(U),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),hr(U)&&(U.nonNullable||U.initialValueIsDefault)&&(this.defaultValue=Ui(H)?H.value:H)}setValue(H,U={}){this.value=this._pendingValue=H,this._onChange.length&&!1!==U.emitModelToViewChange&&this._onChange.forEach(re=>re(this.value,!1!==U.emitViewToModelChange)),this.updateValueAndValidity(U)}patchValue(H,U={}){this.setValue(H,U)}reset(H=this.defaultValue,U={}){this._applyFormState(H),this.markAsPristine(U),this.markAsUntouched(U),this.setValue(this.value,U),this._pendingChange=!1}_updateValue(){}_anyControls(H){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(H){this._onChange.push(H)}_unregisterOnChange(H){bo(this._onChange,H)}registerOnDisabledChange(H){this._onDisabledChange.push(H)}_unregisterOnDisabledChange(H){bo(this._onDisabledChange,H)}_forEachChild(H){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(H){Ui(H)?(this.value=this._pendingValue=H.value,H.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=H}},Sa={provide:Mn,useExisting:(0,y.Gpc)(()=>Lo)},_a=(()=>Promise.resolve())();let Lo=(()=>{class $ extends Mn{constructor(U,re,pt,cn,ei){super(),this._changeDetectorRef=ei,this.control=new $i,this._registered=!1,this.update=new y.vpe,this._parent=U,this._setValidators(re),this._setAsyncValidators(pt),this.valueAccessor=function jr($,H){if(!H)return null;let U,re,pt;return Array.isArray(H),H.forEach(cn=>{cn.constructor===st?U=cn:function vo($){return Object.getPrototypeOf($.constructor)===Ue}(cn)?re=cn:pt=cn}),pt||re||U||null}(0,cn)}ngOnChanges(U){if(this._checkForErrors(),!this._registered||"name"in U){if(this._registered&&(this._checkName(),this.formDirective)){const re=U.name.previousValue;this.formDirective.removeControl({name:re,path:this._getPath(re)})}this._setUpControl()}"isDisabled"in U&&this._updateDisabled(U),function Pi($,H){if(!$.hasOwnProperty("model"))return!1;const U=$.model;return!!U.isFirstChange()||!Object.is(H,U.currentValue)}(U,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(U){this.viewModel=U,this.update.emit(U)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){we(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(U){_a.then(()=>{this.control.setValue(U,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(U){const re=U.isDisabled.currentValue,pt=0!==re&&(0,y.D6c)(re);_a.then(()=>{pt&&!this.control.disabled?this.control.disable():!pt&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(U){return this._parent?function Vr($,H){return[...H.path,$]}(U,this._parent):[U]}}return $.\u0275fac=function(U){return new(U||$)(y.Y36(Yn,9),y.Y36(We,10),y.Y36(Re,10),y.Y36(Fe,10),y.Y36(y.sBO,8))},$.\u0275dir=y.lG2({type:$,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[y._Bn([Sa]),y.qOj,y.TTD]}),$})(),Ns=(()=>{class ${}return $.\u0275fac=function(U){return new(U||$)},$.\u0275dir=y.lG2({type:$,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),$})(),et=(()=>{class ${}return $.\u0275fac=function(U){return new(U||$)},$.\u0275mod=y.oAB({type:$}),$.\u0275inj=y.cJS({}),$})();const qi={provide:Fe,useExisting:(0,y.Gpc)(()=>as),multi:!0};function No($,H){return null==$?`${H}`:(H&&"object"==typeof H&&(H="Object"),`${$}: ${H}`.slice(0,50))}let as=(()=>{class $ extends Ue{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(U){this._compareWith=U}writeValue(U){this.value=U;const pt=No(this._getOptionId(U),U);this.setProperty("value",pt)}registerOnChange(U){this.onChange=re=>{this.value=this._getOptionValue(re),U(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(U){for(const re of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(re),U))return re;return null}_getOptionValue(U){const re=function Fo($){return $.split(":")[0]}(U);return this._optionMap.has(re)?this._optionMap.get(re):U}}return $.\u0275fac=function(){let H;return function(re){return(H||(H=y.n5z($)))(re||$)}}(),$.\u0275dir=y.lG2({type:$,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(U,re){1&U&&y.NdJ("change",function(cn){return re.onChange(cn.target.value)})("blur",function(){return re.onTouched()})},inputs:{compareWith:"compareWith"},features:[y._Bn([qi]),y.qOj]}),$})(),ea=(()=>{class ${constructor(U,re,pt){this._element=U,this._renderer=re,this._select=pt,this._select&&(this.id=this._select._registerOption())}set ngValue(U){null!=this._select&&(this._select._optionMap.set(this.id,U),this._setElementValue(No(this.id,U)),this._select.writeValue(this._select.value))}set value(U){this._setElementValue(U),this._select&&this._select.writeValue(this._select.value)}_setElementValue(U){this._renderer.setProperty(this._element.nativeElement,"value",U)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return $.\u0275fac=function(U){return new(U||$)(y.Y36(y.SBq),y.Y36(y.Qsj),y.Y36(as,9))},$.\u0275dir=y.lG2({type:$,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),$})();const xa={provide:Fe,useExisting:(0,y.Gpc)(()=>mi),multi:!0};function Do($,H){return null==$?`${H}`:("string"==typeof H&&(H=`'${H}'`),H&&"object"==typeof H&&(H="Object"),`${$}: ${H}`.slice(0,50))}let mi=(()=>{class $ extends Ue{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(U){this._compareWith=U}writeValue(U){let re;if(this.value=U,Array.isArray(U)){const pt=U.map(cn=>this._getOptionId(cn));re=(cn,ei)=>{cn._setSelected(pt.indexOf(ei.toString())>-1)}}else re=(pt,cn)=>{pt._setSelected(!1)};this._optionMap.forEach(re)}registerOnChange(U){this.onChange=re=>{const pt=[],cn=re.selectedOptions;if(void 0!==cn){const ei=cn;for(let po=0;po<ei.length;po++){const Pr=this._getOptionValue(ei[po].value);pt.push(Pr)}}else{const ei=re.options;for(let po=0;po<ei.length;po++){const ki=ei[po];if(ki.selected){const Pr=this._getOptionValue(ki.value);pt.push(Pr)}}}this.value=pt,U(pt)}}_registerOption(U){const re=(this._idCounter++).toString();return this._optionMap.set(re,U),re}_getOptionId(U){for(const re of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(re)._value,U))return re;return null}_getOptionValue(U){const re=function wo($){return $.split(":")[0]}(U);return this._optionMap.has(re)?this._optionMap.get(re)._value:U}}return $.\u0275fac=function(){let H;return function(re){return(H||(H=y.n5z($)))(re||$)}}(),$.\u0275dir=y.lG2({type:$,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(U,re){1&U&&y.NdJ("change",function(cn){return re.onChange(cn.target)})("blur",function(){return re.onTouched()})},inputs:{compareWith:"compareWith"},features:[y._Bn([xa]),y.qOj]}),$})(),oo=(()=>{class ${constructor(U,re,pt){this._element=U,this._renderer=re,this._select=pt,this._select&&(this.id=this._select._registerOption(this))}set ngValue(U){null!=this._select&&(this._value=U,this._setElementValue(Do(this.id,U)),this._select.writeValue(this._select.value))}set value(U){this._select?(this._value=U,this._setElementValue(Do(this.id,U)),this._select.writeValue(this._select.value)):this._setElementValue(U)}_setElementValue(U){this._renderer.setProperty(this._element.nativeElement,"value",U)}_setSelected(U){this._renderer.setProperty(this._element.nativeElement,"selected",U)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return $.\u0275fac=function(U){return new(U||$)(y.Y36(y.SBq),y.Y36(y.Qsj),y.Y36(mi,9))},$.\u0275dir=y.lG2({type:$,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),$})(),ws=(()=>{class ${}return $.\u0275fac=function(U){return new(U||$)},$.\u0275mod=y.oAB({type:$}),$.\u0275inj=y.cJS({imports:[et]}),$})(),ma=(()=>{class ${}return $.\u0275fac=function(U){return new(U||$)},$.\u0275mod=y.oAB({type:$}),$.\u0275inj=y.cJS({imports:[ws]}),$})()},1481:(ut,Be,k)=>{k.d(Be,{Dx:()=>gt,H7:()=>Ur,b2:()=>br,q6:()=>sr,se:()=>Xe});var y=k(6895),h=k(4650);class q extends y.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class _e extends q{static makeCurrent(){(0,y.HT)(new _e)}onAndCancel(Ee,ae,Ge){return Ee.addEventListener(ae,Ge,!1),()=>{Ee.removeEventListener(ae,Ge,!1)}}dispatchEvent(Ee,ae){Ee.dispatchEvent(ae)}remove(Ee){Ee.parentNode&&Ee.parentNode.removeChild(Ee)}createElement(Ee,ae){return(ae=ae||this.getDefaultDocument()).createElement(Ee)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(Ee){return Ee.nodeType===Node.ELEMENT_NODE}isShadowRoot(Ee){return Ee instanceof DocumentFragment}getGlobalEventTarget(Ee,ae){return"window"===ae?window:"document"===ae?Ee:"body"===ae?Ee.body:null}getBaseHref(Ee){const ae=function Le(){return Ae=Ae||document.querySelector("base"),Ae?Ae.getAttribute("href"):null}();return null==ae?null:function Fe(we){Ue=Ue||document.createElement("a"),Ue.setAttribute("href",we);const Ee=Ue.pathname;return"/"===Ee.charAt(0)?Ee:`/${Ee}`}(ae)}resetBaseElement(){Ae=null}getUserAgent(){return window.navigator.userAgent}getCookie(Ee){return(0,y.Mx)(document.cookie,Ee)}}let Ue,Ae=null;const Qe=new h.OlP("TRANSITION_ID"),ge=[{provide:h.ip1,useFactory:function he(we,Ee,ae){return()=>{ae.get(h.CZH).donePromise.then(()=>{const Ge=(0,y.q)(),bt=Ee.querySelectorAll(`style[ng-transition="${we}"]`);for(let sn=0;sn<bt.length;sn++)Ge.remove(bt[sn])})}},deps:[Qe,y.K0,h.zs3],multi:!0}];let Et=(()=>{class we{build(){return new XMLHttpRequest}}return we.\u0275fac=function(ae){return new(ae||we)},we.\u0275prov=h.Yz7({token:we,factory:we.\u0275fac}),we})();const st=new h.OlP("EventManagerPlugins");let tt=(()=>{class we{constructor(ae,Ge){this._zone=Ge,this._eventNameToPlugin=new Map,ae.forEach(bt=>bt.manager=this),this._plugins=ae.slice().reverse()}addEventListener(ae,Ge,bt){return this._findPluginFor(Ge).addEventListener(ae,Ge,bt)}addGlobalEventListener(ae,Ge,bt){return this._findPluginFor(Ge).addGlobalEventListener(ae,Ge,bt)}getZone(){return this._zone}_findPluginFor(ae){const Ge=this._eventNameToPlugin.get(ae);if(Ge)return Ge;const bt=this._plugins;for(let sn=0;sn<bt.length;sn++){const jn=bt[sn];if(jn.supports(ae))return this._eventNameToPlugin.set(ae,jn),jn}throw new Error(`No event manager plugin found for event ${ae}`)}}return we.\u0275fac=function(ae){return new(ae||we)(h.LFG(st),h.LFG(h.R0b))},we.\u0275prov=h.Yz7({token:we,factory:we.\u0275fac}),we})();class Bt{constructor(Ee){this._doc=Ee}addGlobalEventListener(Ee,ae,Ge){const bt=(0,y.q)().getGlobalEventTarget(this._doc,Ee);if(!bt)throw new Error(`Unsupported event target ${bt} for event ${ae}`);return this.addEventListener(bt,ae,Ge)}}let rt=(()=>{class we{constructor(){this._stylesSet=new Set}addStyles(ae){const Ge=new Set;ae.forEach(bt=>{this._stylesSet.has(bt)||(this._stylesSet.add(bt),Ge.add(bt))}),this.onStylesAdded(Ge)}onStylesAdded(ae){}getAllStyles(){return Array.from(this._stylesSet)}}return we.\u0275fac=function(ae){return new(ae||we)},we.\u0275prov=h.Yz7({token:we,factory:we.\u0275fac}),we})(),We=(()=>{class we extends rt{constructor(ae){super(),this._doc=ae,this._hostNodes=new Map,this._hostNodes.set(ae.head,[])}_addStylesToHost(ae,Ge,bt){ae.forEach(sn=>{const jn=this._doc.createElement("style");jn.textContent=sn,bt.push(Ge.appendChild(jn))})}addHost(ae){const Ge=[];this._addStylesToHost(this._stylesSet,ae,Ge),this._hostNodes.set(ae,Ge)}removeHost(ae){const Ge=this._hostNodes.get(ae);Ge&&Ge.forEach(Re),this._hostNodes.delete(ae)}onStylesAdded(ae){this._hostNodes.forEach((Ge,bt)=>{this._addStylesToHost(ae,bt,Ge)})}ngOnDestroy(){this._hostNodes.forEach(ae=>ae.forEach(Re))}}return we.\u0275fac=function(ae){return new(ae||we)(h.LFG(y.K0))},we.\u0275prov=h.Yz7({token:we,factory:we.\u0275fac}),we})();function Re(we){(0,y.q)().remove(we)}const Wt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Ne=/%COMP%/g;function de(we,Ee,ae){for(let Ge=0;Ge<Ee.length;Ge++){let bt=Ee[Ge];Array.isArray(bt)?de(we,bt,ae):(bt=bt.replace(Ne,we),ae.push(bt))}return ae}function fe(we){return Ee=>{if("__ngUnwrap__"===Ee)return we;!1===we(Ee)&&(Ee.preventDefault(),Ee.returnValue=!1)}}let Xe=(()=>{class we{constructor(ae,Ge,bt){this.eventManager=ae,this.sharedStylesHost=Ge,this.appId=bt,this.rendererByCompId=new Map,this.defaultRenderer=new At(ae)}createRenderer(ae,Ge){if(!ae||!Ge)return this.defaultRenderer;switch(Ge.encapsulation){case h.ifc.Emulated:{let bt=this.rendererByCompId.get(Ge.id);return bt||(bt=new ln(this.eventManager,this.sharedStylesHost,Ge,this.appId),this.rendererByCompId.set(Ge.id,bt)),bt.applyToHost(ae),bt}case 1:case h.ifc.ShadowDom:return new Dt(this.eventManager,this.sharedStylesHost,ae,Ge);default:if(!this.rendererByCompId.has(Ge.id)){const bt=de(Ge.id,Ge.styles,[]);this.sharedStylesHost.addStyles(bt),this.rendererByCompId.set(Ge.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return we.\u0275fac=function(ae){return new(ae||we)(h.LFG(tt),h.LFG(We),h.LFG(h.AFp))},we.\u0275prov=h.Yz7({token:we,factory:we.\u0275fac}),we})();class At{constructor(Ee){this.eventManager=Ee,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(Ee,ae){return ae?document.createElementNS(Wt[ae]||ae,Ee):document.createElement(Ee)}createComment(Ee){return document.createComment(Ee)}createText(Ee){return document.createTextNode(Ee)}appendChild(Ee,ae){(un(Ee)?Ee.content:Ee).appendChild(ae)}insertBefore(Ee,ae,Ge){Ee&&(un(Ee)?Ee.content:Ee).insertBefore(ae,Ge)}removeChild(Ee,ae){Ee&&Ee.removeChild(ae)}selectRootElement(Ee,ae){let Ge="string"==typeof Ee?document.querySelector(Ee):Ee;if(!Ge)throw new Error(`The selector "${Ee}" did not match any elements`);return ae||(Ge.textContent=""),Ge}parentNode(Ee){return Ee.parentNode}nextSibling(Ee){return Ee.nextSibling}setAttribute(Ee,ae,Ge,bt){if(bt){ae=bt+":"+ae;const sn=Wt[bt];sn?Ee.setAttributeNS(sn,ae,Ge):Ee.setAttribute(ae,Ge)}else Ee.setAttribute(ae,Ge)}removeAttribute(Ee,ae,Ge){if(Ge){const bt=Wt[Ge];bt?Ee.removeAttributeNS(bt,ae):Ee.removeAttribute(`${Ge}:${ae}`)}else Ee.removeAttribute(ae)}addClass(Ee,ae){Ee.classList.add(ae)}removeClass(Ee,ae){Ee.classList.remove(ae)}setStyle(Ee,ae,Ge,bt){bt&(h.JOm.DashCase|h.JOm.Important)?Ee.style.setProperty(ae,Ge,bt&h.JOm.Important?"important":""):Ee.style[ae]=Ge}removeStyle(Ee,ae,Ge){Ge&h.JOm.DashCase?Ee.style.removeProperty(ae):Ee.style[ae]=""}setProperty(Ee,ae,Ge){Ee[ae]=Ge}setValue(Ee,ae){Ee.nodeValue=ae}listen(Ee,ae,Ge){return"string"==typeof Ee?this.eventManager.addGlobalEventListener(Ee,ae,fe(Ge)):this.eventManager.addEventListener(Ee,ae,fe(Ge))}}function un(we){return"TEMPLATE"===we.tagName&&void 0!==we.content}class ln extends At{constructor(Ee,ae,Ge,bt){super(Ee),this.component=Ge;const sn=de(bt+"-"+Ge.id,Ge.styles,[]);ae.addStyles(sn),this.contentAttr=function oe(we){return"_ngcontent-%COMP%".replace(Ne,we)}(bt+"-"+Ge.id),this.hostAttr=function Je(we){return"_nghost-%COMP%".replace(Ne,we)}(bt+"-"+Ge.id)}applyToHost(Ee){super.setAttribute(Ee,this.hostAttr,"")}createElement(Ee,ae){const Ge=super.createElement(Ee,ae);return super.setAttribute(Ge,this.contentAttr,""),Ge}}class Dt extends At{constructor(Ee,ae,Ge,bt){super(Ee),this.sharedStylesHost=ae,this.hostEl=Ge,this.shadowRoot=Ge.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const sn=de(bt.id,bt.styles,[]);for(let jn=0;jn<sn.length;jn++){const Zn=document.createElement("style");Zn.textContent=sn[jn],this.shadowRoot.appendChild(Zn)}}nodeOrShadowRoot(Ee){return Ee===this.hostEl?this.shadowRoot:Ee}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(Ee,ae){return super.appendChild(this.nodeOrShadowRoot(Ee),ae)}insertBefore(Ee,ae,Ge){return super.insertBefore(this.nodeOrShadowRoot(Ee),ae,Ge)}removeChild(Ee,ae){return super.removeChild(this.nodeOrShadowRoot(Ee),ae)}parentNode(Ee){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(Ee)))}}let Dn=(()=>{class we extends Bt{constructor(ae){super(ae)}supports(ae){return!0}addEventListener(ae,Ge,bt){return ae.addEventListener(Ge,bt,!1),()=>this.removeEventListener(ae,Ge,bt)}removeEventListener(ae,Ge,bt){return ae.removeEventListener(Ge,bt)}}return we.\u0275fac=function(ae){return new(ae||we)(h.LFG(y.K0))},we.\u0275prov=h.Yz7({token:we,factory:we.\u0275fac}),we})();const gn=["alt","control","meta","shift"],it={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},_t={alt:we=>we.altKey,control:we=>we.ctrlKey,meta:we=>we.metaKey,shift:we=>we.shiftKey};let Te=(()=>{class we extends Bt{constructor(ae){super(ae)}supports(ae){return null!=we.parseEventName(ae)}addEventListener(ae,Ge,bt){const sn=we.parseEventName(Ge),jn=we.eventCallback(sn.fullKey,bt,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,y.q)().onAndCancel(ae,sn.domEventName,jn))}static parseEventName(ae){const Ge=ae.toLowerCase().split("."),bt=Ge.shift();if(0===Ge.length||"keydown"!==bt&&"keyup"!==bt)return null;const sn=we._normalizeKey(Ge.pop());let jn="",Zn=Ge.indexOf("code");if(Zn>-1&&(Ge.splice(Zn,1),jn="code."),gn.forEach(Ar=>{const pn=Ge.indexOf(Ar);pn>-1&&(Ge.splice(pn,1),jn+=Ar+".")}),jn+=sn,0!=Ge.length||0===sn.length)return null;const Hr={};return Hr.domEventName=bt,Hr.fullKey=jn,Hr}static matchEventFullKeyCode(ae,Ge){let bt=it[ae.key]||ae.key,sn="";return Ge.indexOf("code.")>-1&&(bt=ae.code,sn="code."),!(null==bt||!bt)&&(bt=bt.toLowerCase()," "===bt?bt="space":"."===bt&&(bt="dot"),gn.forEach(jn=>{jn!==bt&&(0,_t[jn])(ae)&&(sn+=jn+".")}),sn+=bt,sn===Ge)}static eventCallback(ae,Ge,bt){return sn=>{we.matchEventFullKeyCode(sn,ae)&&bt.runGuarded(()=>Ge(sn))}}static _normalizeKey(ae){return"esc"===ae?"escape":ae}}return we.\u0275fac=function(ae){return new(ae||we)(h.LFG(y.K0))},we.\u0275prov=h.Yz7({token:we,factory:we.\u0275fac}),we})();const sr=(0,h.eFA)(h._c5,"browser",[{provide:h.Lbi,useValue:y.bD},{provide:h.g9A,useValue:function Kn(){_e.makeCurrent()},multi:!0},{provide:y.K0,useFactory:function Mn(){return(0,h.RDi)(document),document},deps:[]}]),Un=new h.OlP(""),Ot=[{provide:h.rWj,useClass:class Pe{addToWindow(Ee){h.dqk.getAngularTestability=(Ge,bt=!0)=>{const sn=Ee.findTestabilityInTree(Ge,bt);if(null==sn)throw new Error("Could not find testability for element.");return sn},h.dqk.getAllAngularTestabilities=()=>Ee.getAllTestabilities(),h.dqk.getAllAngularRootElements=()=>Ee.getAllRootElements(),h.dqk.frameworkStabilizers||(h.dqk.frameworkStabilizers=[]),h.dqk.frameworkStabilizers.push(Ge=>{const bt=h.dqk.getAllAngularTestabilities();let sn=bt.length,jn=!1;const Zn=function(Hr){jn=jn||Hr,sn--,0==sn&&Ge(jn)};bt.forEach(function(Hr){Hr.whenStable(Zn)})})}findTestabilityInTree(Ee,ae,Ge){return null==ae?null:Ee.getTestability(ae)??(Ge?(0,y.q)().isShadowRoot(ae)?this.findTestabilityInTree(Ee,ae.host,!0):this.findTestabilityInTree(Ee,ae.parentElement,!0):null)}},deps:[]},{provide:h.lri,useClass:h.dDg,deps:[h.R0b,h.eoX,h.rWj]},{provide:h.dDg,useClass:h.dDg,deps:[h.R0b,h.eoX,h.rWj]}],Qn=[{provide:h.zSh,useValue:"root"},{provide:h.qLn,useFactory:function Yn(){return new h.qLn},deps:[]},{provide:st,useClass:Dn,multi:!0,deps:[y.K0,h.R0b,h.Lbi]},{provide:st,useClass:Te,multi:!0,deps:[y.K0]},{provide:Xe,useClass:Xe,deps:[tt,We,h.AFp]},{provide:h.FYo,useExisting:Xe},{provide:rt,useExisting:We},{provide:We,useClass:We,deps:[y.K0]},{provide:tt,useClass:tt,deps:[st,h.R0b]},{provide:y.JF,useClass:Et,deps:[]},[]];let br=(()=>{class we{constructor(ae){}static withServerTransition(ae){return{ngModule:we,providers:[{provide:h.AFp,useValue:ae.appId},{provide:Qe,useExisting:h.AFp},ge]}}}return we.\u0275fac=function(ae){return new(ae||we)(h.LFG(Un,12))},we.\u0275mod=h.oAB({type:we}),we.\u0275inj=h.cJS({providers:[...Qn,...Ot],imports:[y.ez,h.hGG]}),we})(),gt=(()=>{class we{constructor(ae){this._doc=ae}getTitle(){return this._doc.title}setTitle(ae){this._doc.title=ae||""}}return we.\u0275fac=function(ae){return new(ae||we)(h.LFG(y.K0))},we.\u0275prov=h.Yz7({token:we,factory:function(ae){let Ge=null;return Ge=ae?new ae:function mr(){return new gt((0,h.LFG)(y.K0))}(),Ge},providedIn:"root"}),we})();typeof window<"u"&&window;let Ur=(()=>{class we{}return we.\u0275fac=function(ae){return new(ae||we)},we.\u0275prov=h.Yz7({token:we,factory:function(ae){let Ge=null;return Ge=ae?new(ae||we):h.LFG(_i),Ge},providedIn:"root"}),we})(),_i=(()=>{class we extends Ur{constructor(ae){super(),this._doc=ae}sanitize(ae,Ge){if(null==Ge)return null;switch(ae){case h.q3G.NONE:return Ge;case h.q3G.HTML:return(0,h.qzn)(Ge,"HTML")?(0,h.z3N)(Ge):(0,h.EiD)(this._doc,String(Ge)).toString();case h.q3G.STYLE:return(0,h.qzn)(Ge,"Style")?(0,h.z3N)(Ge):Ge;case h.q3G.SCRIPT:if((0,h.qzn)(Ge,"Script"))return(0,h.z3N)(Ge);throw new Error("unsafe value used in a script context");case h.q3G.URL:return(0,h.qzn)(Ge,"URL")?(0,h.z3N)(Ge):(0,h.mCW)(String(Ge));case h.q3G.RESOURCE_URL:if((0,h.qzn)(Ge,"ResourceURL"))return(0,h.z3N)(Ge);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${ae} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(ae){return(0,h.JVY)(ae)}bypassSecurityTrustStyle(ae){return(0,h.L6k)(ae)}bypassSecurityTrustScript(ae){return(0,h.eBb)(ae)}bypassSecurityTrustUrl(ae){return(0,h.LAX)(ae)}bypassSecurityTrustResourceUrl(ae){return(0,h.pB0)(ae)}}return we.\u0275fac=function(ae){return new(ae||we)(h.LFG(y.K0))},we.\u0275prov=h.Yz7({token:we,factory:function(ae){let Ge=null;return Ge=ae?new ae:function wi(we){return new _i(we.get(y.K0))}(h.LFG(h.zs3)),Ge},providedIn:"root"}),we})()},1779:(ut,Be,k)=>{k.d(Be,{gz:()=>Vi,F0:()=>_n,rH:()=>dt,Od:()=>yi,yS:()=>kt,Bz:()=>Ba,lC:()=>Mo});var y=k(4650),h=k(8996),q=k(9646),_e=k(1135),Ae=k(6805),Le=k(9841),Ue=k(7272),Fe=k(9751),Qe=k(8421);function he(w){return new Fe.y(O=>{(0,Qe.Xf)(w()).subscribe(O)})}var ge=k(9635),Pe=k(2843),Et=k(515),st=k(727),tt=k(4482),Bt=k(5403);function rt(){return(0,tt.e)((w,O)=>{let I=null;w._refCount++;const F=(0,Bt.x)(O,void 0,void 0,void 0,()=>{if(!w||w._refCount<=0||0<--w._refCount)return void(I=null);const W=w._connection,J=I;I=null,W&&(!J||W===J)&&W.unsubscribe(),O.unsubscribe()});w.subscribe(F),F.closed||(I=w.connect())})}class We extends Fe.y{constructor(O,I){super(),this.source=O,this.subjectFactory=I,this._subject=null,this._refCount=0,this._connection=null,(0,tt.A)(O)&&(this.lift=O.lift)}_subscribe(O){return this.getSubject().subscribe(O)}getSubject(){const O=this._subject;return(!O||O.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:O}=this;this._subject=this._connection=null,O?.unsubscribe()}connect(){let O=this._connection;if(!O){O=this._connection=new st.w0;const I=this.getSubject();O.add(this.source.subscribe((0,Bt.x)(I,void 0,()=>{this._teardown(),I.complete()},F=>{this._teardown(),I.error(F)},()=>this._teardown()))),O.closed&&(this._connection=null,O=st.w0.EMPTY)}return O}refCount(){return rt()(this)}}var Re=k(7579),Wt=k(6895),Ne=k(4004),Me=k(3900),$e=k(5698),Mt=k(8675),It=k(9300),oe=k(5577),Je=k(590),de=k(4351),fe=k(8505),Ze=k(262),Xe=k(5026);function At(w){return w<=0?()=>Et.E:(0,tt.e)((O,I)=>{let F=[];O.subscribe((0,Bt.x)(I,W=>{F.push(W),w<F.length&&F.shift()},()=>{for(const W of F)I.next(W);I.complete()},void 0,()=>{F=null}))})}var Ut=k(8068),zt=k(6590),un=k(4671);function ln(w,O){const I=arguments.length>=2;return F=>F.pipe(w?(0,It.h)((W,J)=>w(W,J,F)):un.y,At(1),I?(0,zt.d)(O):(0,Ut.T)(()=>new Ae.K))}var Dn=k(9718),gn=k(8746),it=k(8189),_t=k(1481);const Te="primary",ze=Symbol("RouteTitle");class Vt{constructor(O){this.params=O||{}}has(O){return Object.prototype.hasOwnProperty.call(this.params,O)}get(O){if(this.has(O)){const I=this.params[O];return Array.isArray(I)?I[0]:I}return null}getAll(O){if(this.has(O)){const I=this.params[O];return Array.isArray(I)?I:[I]}return[]}get keys(){return Object.keys(this.params)}}function wn(w){return new Vt(w)}function rr(w,O,I){const F=I.path.split("/");if(F.length>w.length||"full"===I.pathMatch&&(O.hasChildren()||F.length<w.length))return null;const W={};for(let J=0;J<F.length;J++){const ce=F[J],De=w[J];if(ce.startsWith(":"))W[ce.substring(1)]=De;else if(ce!==De.path)return null}return{consumed:w.slice(0,F.length),posParams:W}}function Kn(w,O){const I=w?Object.keys(w):void 0,F=O?Object.keys(O):void 0;if(!I||!F||I.length!=F.length)return!1;let W;for(let J=0;J<I.length;J++)if(W=I[J],!Yn(w[W],O[W]))return!1;return!0}function Yn(w,O){if(Array.isArray(w)&&Array.isArray(O)){if(w.length!==O.length)return!1;const I=[...w].sort(),F=[...O].sort();return I.every((W,J)=>F[J]===W)}return w===O}function Mn(w){return Array.prototype.concat.apply([],w)}function Nn(w){return w.length>0?w[w.length-1]:null}function Un(w,O){for(const I in w)w.hasOwnProperty(I)&&O(w[I],I)}function Ot(w){return(0,y.CqO)(w)?w:(0,y.QGY)(w)?(0,h.D)(Promise.resolve(w)):(0,q.of)(w)}const Tr={exact:function gt(w,O,I){if(!Wn(w.segments,O.segments)||!vt(w.segments,O.segments,I)||w.numberOfChildren!==O.numberOfChildren)return!1;for(const F in O.children)if(!w.children[F]||!gt(w.children[F],O.children[F],I))return!1;return!0},subset:ye},Yr={exact:function mr(w,O){return Kn(w,O)},subset:function Se(w,O){return Object.keys(O).length<=Object.keys(w).length&&Object.keys(O).every(I=>Yn(w[I],O[I]))},ignored:()=>!0};function Wr(w,O,I){return Tr[I.paths](w.root,O.root,I.matrixParams)&&Yr[I.queryParams](w.queryParams,O.queryParams)&&!("exact"===I.fragment&&w.fragment!==O.fragment)}function ye(w,O,I){return lt(w,O,O.segments,I)}function lt(w,O,I,F){if(w.segments.length>I.length){const W=w.segments.slice(0,I.length);return!(!Wn(W,I)||O.hasChildren()||!vt(W,I,F))}if(w.segments.length===I.length){if(!Wn(w.segments,I)||!vt(w.segments,I,F))return!1;for(const W in O.children)if(!w.children[W]||!ye(w.children[W],O.children[W],F))return!1;return!0}{const W=I.slice(0,w.segments.length),J=I.slice(w.segments.length);return!!(Wn(w.segments,W)&&vt(w.segments,W,F)&&w.children[Te])&&lt(w.children[Te],O,J,F)}}function vt(w,O,I){return O.every((F,W)=>Yr[I](w[W].parameters,F.parameters))}class tn{constructor(O,I,F){this.root=O,this.queryParams=I,this.fragment=F}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=wn(this.queryParams)),this._queryParamMap}toString(){return Ie.serialize(this)}}class Ht{constructor(O,I){this.segments=O,this.children=I,this.parent=null,Un(I,(F,W)=>F.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ve(this)}}class On{constructor(O,I){this.path=O,this.parameters=I}get parameterMap(){return this._parameterMap||(this._parameterMap=wn(this.parameters)),this._parameterMap}toString(){return ar(this)}}function Wn(w,O){return w.length===O.length&&w.every((I,F)=>I.path===O[F].path)}let Zr=(()=>{class w{}return w.\u0275fac=function(I){return new(I||w)},w.\u0275prov=y.Yz7({token:w,factory:function(){return new An},providedIn:"root"}),w})();class An{parse(O){const I=new we(O);return new tn(I.parseRootSegment(),I.parseQueryParams(),I.parseFragment())}serialize(O){const I=`/${me(O.root,!0)}`,F=function Vn(w){const O=Object.keys(w).map(I=>{const F=w[I];return Array.isArray(F)?F.map(W=>`${be(I)}=${be(W)}`).join("&"):`${be(I)}=${be(F)}`}).filter(I=>!!I);return O.length?`?${O.join("&")}`:""}(O.queryParams);return`${I}${F}${"string"==typeof O.fragment?`#${function Ct(w){return encodeURI(w)}(O.fragment)}`:""}`}}const Ie=new An;function ve(w){return w.segments.map(O=>ar(O)).join("/")}function me(w,O){if(!w.hasChildren())return ve(w);if(O){const I=w.children[Te]?me(w.children[Te],!1):"",F=[];return Un(w.children,(W,J)=>{J!==Te&&F.push(`${J}:${me(W,!1)}`)}),F.length>0?`${I}(${F.join("//")})`:I}{const I=function $n(w,O){let I=[];return Un(w.children,(F,W)=>{W===Te&&(I=I.concat(O(F,W)))}),Un(w.children,(F,W)=>{W!==Te&&(I=I.concat(O(F,W)))}),I}(w,(F,W)=>W===Te?[me(w.children[Te],!1)]:[`${W}:${me(F,!1)}`]);return 1===Object.keys(w.children).length&&null!=w.children[Te]?`${ve(w)}/${I[0]}`:`${ve(w)}/(${I.join("//")})`}}function Oe(w){return encodeURIComponent(w).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function be(w){return Oe(w).replace(/%3B/gi,";")}function jt(w){return Oe(w).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function nn(w){return decodeURIComponent(w)}function hr(w){return nn(w.replace(/\+/g,"%20"))}function ar(w){return`${jt(w.path)}${function Br(w){return Object.keys(w).map(O=>`;${jt(O)}=${jt(w[O])}`).join("")}(w.parameters)}`}const Fn=/^[^\/()?;=#]+/;function Er(w){const O=w.match(Fn);return O?O[0]:""}const Ur=/^[^=?&#]+/,_i=/^[^&#]+/;class we{constructor(O){this.url=O,this.remaining=O}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ht([],{}):new Ht([],this.parseChildren())}parseQueryParams(){const O={};if(this.consumeOptional("?"))do{this.parseQueryParam(O)}while(this.consumeOptional("&"));return O}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const O=[];for(this.peekStartsWith("(")||O.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),O.push(this.parseSegment());let I={};this.peekStartsWith("/(")&&(this.capture("/"),I=this.parseParens(!0));let F={};return this.peekStartsWith("(")&&(F=this.parseParens(!1)),(O.length>0||Object.keys(I).length>0)&&(F[Te]=new Ht(O,I)),F}parseSegment(){const O=Er(this.remaining);if(""===O&&this.peekStartsWith(";"))throw new y.vHH(4009,!1);return this.capture(O),new On(nn(O),this.parseMatrixParams())}parseMatrixParams(){const O={};for(;this.consumeOptional(";");)this.parseParam(O);return O}parseParam(O){const I=Er(this.remaining);if(!I)return;this.capture(I);let F="";if(this.consumeOptional("=")){const W=Er(this.remaining);W&&(F=W,this.capture(F))}O[nn(I)]=nn(F)}parseQueryParam(O){const I=function wi(w){const O=w.match(Ur);return O?O[0]:""}(this.remaining);if(!I)return;this.capture(I);let F="";if(this.consumeOptional("=")){const ce=function Vr(w){const O=w.match(_i);return O?O[0]:""}(this.remaining);ce&&(F=ce,this.capture(F))}const W=hr(I),J=hr(F);if(O.hasOwnProperty(W)){let ce=O[W];Array.isArray(ce)||(ce=[ce],O[W]=ce),ce.push(J)}else O[W]=J}parseParens(O){const I={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const F=Er(this.remaining),W=this.remaining[F.length];if("/"!==W&&")"!==W&&";"!==W)throw new y.vHH(4010,!1);let J;F.indexOf(":")>-1?(J=F.slice(0,F.indexOf(":")),this.capture(J),this.capture(":")):O&&(J=Te);const ce=this.parseChildren();I[J]=1===Object.keys(ce).length?ce[Te]:new Ht([],ce),this.consumeOptional("//")}return I}peekStartsWith(O){return this.remaining.startsWith(O)}consumeOptional(O){return!!this.peekStartsWith(O)&&(this.remaining=this.remaining.substring(O.length),!0)}capture(O){if(!this.consumeOptional(O))throw new y.vHH(4011,!1)}}function Ee(w){return w.segments.length>0?new Ht([],{[Te]:w}):w}function ae(w){const O={};for(const F of Object.keys(w.children)){const J=ae(w.children[F]);(J.segments.length>0||J.hasChildren())&&(O[F]=J)}return function Ge(w){if(1===w.numberOfChildren&&w.children[Te]){const O=w.children[Te];return new Ht(w.segments.concat(O.segments),O.children)}return w}(new Ht(w.segments,O))}function bt(w){return w instanceof tn}function Ar(w,O,I,F,W){if(0===I.length)return Mi(O.root,O.root,O.root,F,W);const J=function Qr(w){if("string"==typeof w[0]&&1===w.length&&"/"===w[0])return new Bi(!0,0,w);let O=0,I=!1;const F=w.reduce((W,J,ce)=>{if("object"==typeof J&&null!=J){if(J.outlets){const De={};return Un(J.outlets,(ht,Qt)=>{De[Qt]="string"==typeof ht?ht.split("/"):ht}),[...W,{outlets:De}]}if(J.segmentPath)return[...W,J.segmentPath]}return"string"!=typeof J?[...W,J]:0===ce?(J.split("/").forEach((De,ht)=>{0==ht&&"."===De||(0==ht&&""===De?I=!0:".."===De?O++:""!=De&&W.push(De))}),W):[...W,J]},[]);return new Bi(I,O,F)}(I);return J.toRoot()?Mi(O.root,O.root,new Ht([],{}),F,W):function ce(ht){const Qt=function gi(w,O,I,F){if(w.isAbsolute)return new Pi(O.root,!0,0);if(-1===F)return new Pi(I,I===O.root,0);return function jr(w,O,I){let F=w,W=O,J=I;for(;J>W;){if(J-=W,F=F.parent,!F)throw new y.vHH(4005,!1);W=F.segments.length}return new Pi(F,!1,W-J)}(I,F+(pn(w.commands[0])?0:1),w.numberOfDoubleDots)}(J,O,w.snapshot?._urlSegment,ht),Xn=Qt.processChildren?Ro(Qt.segmentGroup,Qt.index,J.commands):yr(Qt.segmentGroup,Qt.index,J.commands);return Mi(O.root,Qt.segmentGroup,Xn,F,W)}(w.snapshot?._lastPathIndex)}function pn(w){return"object"==typeof w&&null!=w&&!w.outlets&&!w.segmentPath}function pr(w){return"object"==typeof w&&null!=w&&w.outlets}function Mi(w,O,I,F,W){let ce,J={};F&&Un(F,(ht,Qt)=>{J[Qt]=Array.isArray(ht)?ht.map(Xn=>`${Xn}`):`${ht}`}),ce=w===O?I:Es(w,O,I);const De=Ee(ae(ce));return new tn(De,J,W)}function Es(w,O,I){const F={};return Un(w.children,(W,J)=>{F[J]=W===O?I:Es(W,O,I)}),new Ht(w.segments,F)}class Bi{constructor(O,I,F){if(this.isAbsolute=O,this.numberOfDoubleDots=I,this.commands=F,O&&F.length>0&&pn(F[0]))throw new y.vHH(4003,!1);const W=F.find(pr);if(W&&W!==Nn(F))throw new y.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Pi{constructor(O,I,F){this.segmentGroup=O,this.processChildren=I,this.index=F}}function yr(w,O,I){if(w||(w=new Ht([],{})),0===w.segments.length&&w.hasChildren())return Ro(w,O,I);const F=function ko(w,O,I){let F=0,W=O;const J={match:!1,pathIndex:0,commandIndex:0};for(;W<w.segments.length;){if(F>=I.length)return J;const ce=w.segments[W],De=I[F];if(pr(De))break;const ht=`${De}`,Qt=F<I.length-1?I[F+1]:null;if(W>0&&void 0===ht)break;if(ht&&Qt&&"object"==typeof Qt&&void 0===Qt.outlets){if(!$i(ht,Qt,ce))return J;F+=2}else{if(!$i(ht,{},ce))return J;F++}W++}return{match:!0,pathIndex:W,commandIndex:F}}(w,O,I),W=I.slice(F.commandIndex);if(F.match&&F.pathIndex<w.segments.length){const J=new Ht(w.segments.slice(0,F.pathIndex),{});return J.children[Te]=new Ht(w.segments.slice(F.pathIndex),w.children),Ro(J,0,W)}return F.match&&0===W.length?new Ht(w.segments,{}):F.match&&!w.hasChildren()?Ti(w,O,I):F.match?Ro(w,0,W):Ti(w,O,I)}function Ro(w,O,I){if(0===I.length)return new Ht(w.segments,{});{const F=function os(w){return pr(w[0])?w[0].outlets:{[Te]:w}}(I),W={};return Un(F,(J,ce)=>{"string"==typeof J&&(J=[J]),null!==J&&(W[ce]=yr(w.children[ce],O,J))}),Un(w.children,(J,ce)=>{void 0===F[ce]&&(W[ce]=J)}),new Ht(w.segments,W)}}function Ti(w,O,I){const F=w.segments.slice(0,O);let W=0;for(;W<I.length;){const J=I[W];if(pr(J)){const ht=bo(J.outlets);return new Ht(F,ht)}if(0===W&&pn(I[0])){F.push(new On(w.segments[O].path,Ui(I[0]))),W++;continue}const ce=pr(J)?J.outlets[Te]:`${J}`,De=W<I.length-1?I[W+1]:null;ce&&De&&pn(De)?(F.push(new On(ce,Ui(De))),W+=2):(F.push(new On(ce,{})),W++)}return new Ht(F,{})}function bo(w){const O={};return Un(w,(I,F)=>{"string"==typeof I&&(I=[I]),null!==I&&(O[F]=Ti(new Ht([],{}),0,I))}),O}function Ui(w){const O={};return Un(w,(I,F)=>O[F]=`${I}`),O}function $i(w,O,I){return w==I.path&&Kn(O,I.parameters)}class bi{constructor(O,I){this.id=O,this.url=I}}class Lr extends bi{constructor(O,I,F="imperative",W=null){super(O,I),this.type=0,this.navigationTrigger=F,this.restoredState=W}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ho extends bi{constructor(O,I,F){super(O,I),this.urlAfterRedirects=F,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class ii extends bi{constructor(O,I,F,W){super(O,I),this.reason=F,this.code=W,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Ri extends bi{constructor(O,I,F,W){super(O,I),this.error=F,this.target=W,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class qo extends bi{constructor(O,I,F,W){super(O,I),this.urlAfterRedirects=F,this.state=W,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Cs extends bi{constructor(O,I,F,W){super(O,I),this.urlAfterRedirects=F,this.state=W,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class pa extends bi{constructor(O,I,F,W,J){super(O,I),this.urlAfterRedirects=F,this.state=W,this.shouldActivate=J,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class oi extends bi{constructor(O,I,F,W){super(O,I),this.urlAfterRedirects=F,this.state=W,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Sa extends bi{constructor(O,I,F,W){super(O,I),this.urlAfterRedirects=F,this.state=W,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class _a{constructor(O){this.route=O,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Lo{constructor(O){this.route=O,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Ns{constructor(O){this.snapshot=O,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ds{constructor(O){this.snapshot=O,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class si{constructor(O){this.snapshot=O,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ke{constructor(O){this.snapshot=O,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class je{constructor(O,I,F){this.routerEvent=O,this.position=I,this.anchor=F,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Tt{constructor(O){this._root=O}get root(){return this._root.value}parent(O){const I=this.pathFromRoot(O);return I.length>1?I[I.length-2]:null}children(O){const I=Zt(O,this._root);return I?I.children.map(F=>F.value):[]}firstChild(O){const I=Zt(O,this._root);return I&&I.children.length>0?I.children[0].value:null}siblings(O){const I=dn(O,this._root);return I.length<2?[]:I[I.length-2].children.map(W=>W.value).filter(W=>W!==O)}pathFromRoot(O){return dn(O,this._root).map(I=>I.value)}}function Zt(w,O){if(w===O.value)return O;for(const I of O.children){const F=Zt(w,I);if(F)return F}return null}function dn(w,O){if(w===O.value)return[O];for(const I of O.children){const F=dn(w,I);if(F.length)return F.unshift(O),F}return[]}class Sn{constructor(O,I){this.value=O,this.children=I}toString(){return`TreeNode(${this.value})`}}function Xr(w){const O={};return w&&w.children.forEach(I=>O[I.value.outlet]=I),O}class fr extends Tt{constructor(O,I){super(O),this.snapshot=I,Js(this,O)}toString(){return this.snapshot.toString()}}function Zi(w,O){const I=function Yo(w,O){const ce=new ss([],{},{},"",{},Te,O,null,w.root,-1,{});return new Eo("",new Sn(ce,[]))}(w,O),F=new _e.X([new On("",{})]),W=new _e.X({}),J=new _e.X({}),ce=new _e.X({}),De=new _e.X(""),ht=new Vi(F,W,ce,De,J,Te,O,I.root);return ht.snapshot=I.root,new fr(new Sn(ht,[]),I)}class Vi{constructor(O,I,F,W,J,ce,De,ht){this.url=O,this.params=I,this.queryParams=F,this.fragment=W,this.data=J,this.outlet=ce,this.component=De,this.title=this.data?.pipe((0,Ne.U)(Qt=>Qt[ze]))??(0,q.of)(void 0),this._futureSnapshot=ht}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Ne.U)(O=>wn(O)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Ne.U)(O=>wn(O)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function zi(w,O="emptyOnly"){const I=w.pathFromRoot;let F=0;if("always"!==O)for(F=I.length-1;F>=1;){const W=I[F],J=I[F-1];if(W.routeConfig&&""===W.routeConfig.path)F--;else{if(J.component)break;F--}}return function io(w){return w.reduce((O,I)=>({params:{...O.params,...I.params},data:{...O.data,...I.data},resolve:{...I.data,...O.resolve,...I.routeConfig?.data,...I._resolvedData}}),{params:{},data:{},resolve:{}})}(I.slice(F))}class ss{constructor(O,I,F,W,J,ce,De,ht,Qt,Xn,yn,Jn){this.url=O,this.params=I,this.queryParams=F,this.fragment=W,this.data=J,this.outlet=ce,this.component=De,this.title=this.data?.[ze],this.routeConfig=ht,this._urlSegment=Qt,this._lastPathIndex=Xn,this._correctedLastPathIndex=Jn??Xn,this._resolve=yn}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=wn(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=wn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(F=>F.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Eo extends Tt{constructor(O,I){super(I),this.url=O,Js(this,I)}toString(){return Co(this._root)}}function Js(w,O){O.value._routerState=w,O.children.forEach(I=>Js(w,I))}function Co(w){const O=w.children.length>0?` { ${w.children.map(Co).join(", ")} } `:"";return`${w.value}${O}`}function Gi(w){if(w.snapshot){const O=w.snapshot,I=w._futureSnapshot;w.snapshot=I,Kn(O.queryParams,I.queryParams)||w.queryParams.next(I.queryParams),O.fragment!==I.fragment&&w.fragment.next(I.fragment),Kn(O.params,I.params)||w.params.next(I.params),function dr(w,O){if(w.length!==O.length)return!1;for(let I=0;I<w.length;++I)if(!Kn(w[I],O[I]))return!1;return!0}(O.url,I.url)||w.url.next(I.url),Kn(O.data,I.data)||w.data.next(I.data)}else w.snapshot=w._futureSnapshot,w.data.next(w._futureSnapshot.data)}function qi(w,O){const I=Kn(w.params,O.params)&&function Gt(w,O){return Wn(w,O)&&w.every((I,F)=>Kn(I.parameters,O[F].parameters))}(w.url,O.url);return I&&!(!w.parent!=!O.parent)&&(!w.parent||qi(w.parent,O.parent))}function Fo(w,O,I){if(I&&w.shouldReuseRoute(O.value,I.value.snapshot)){const F=I.value;F._futureSnapshot=O.value;const W=function as(w,O,I){return O.children.map(F=>{for(const W of I.children)if(w.shouldReuseRoute(F.value,W.value.snapshot))return Fo(w,F,W);return Fo(w,F)})}(w,O,I);return new Sn(F,W)}{if(w.shouldAttach(O.value)){const J=w.retrieve(O.value);if(null!==J){const ce=J.route;return ce.value._futureSnapshot=O.value,ce.children=O.children.map(De=>Fo(w,De)),ce}}const F=function ea(w){return new Vi(new _e.X(w.url),new _e.X(w.params),new _e.X(w.queryParams),new _e.X(w.fragment),new _e.X(w.data),w.outlet,w.component,w)}(O.value),W=O.children.map(J=>Fo(w,J));return new Sn(F,W)}}const xa="ngNavigationCancelingError";function Do(w,O){const{redirectTo:I,navigationBehaviorOptions:F}=bt(O)?{redirectTo:O,navigationBehaviorOptions:void 0}:O,W=wo(!1,0,O);return W.url=I,W.navigationBehaviorOptions=F,W}function wo(w,O,I){const F=new Error("NavigationCancelingError: "+(w||""));return F[xa]=!0,F.cancellationCode=O,I&&(F.url=I),F}function Hi(w){return mi(w)&&bt(w.url)}function mi(w){return w&&w[xa]}class oo{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Bo,this.attachRef=null}}let Bo=(()=>{class w{constructor(){this.contexts=new Map}onChildOutletCreated(I,F){const W=this.getOrCreateContext(I);W.outlet=F,this.contexts.set(I,W)}onChildOutletDestroyed(I){const F=this.getContext(I);F&&(F.outlet=null,F.attachRef=null)}onOutletDeactivated(){const I=this.contexts;return this.contexts=new Map,I}onOutletReAttached(I){this.contexts=I}getOrCreateContext(I){let F=this.getContext(I);return F||(F=new oo,this.contexts.set(I,F)),F}getContext(I){return this.contexts.get(I)||null}}return w.\u0275fac=function(I){return new(I||w)},w.\u0275prov=y.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w})();const Ei=!1;let Mo=(()=>{class w{constructor(I,F,W,J,ce){this.parentContexts=I,this.location=F,this.changeDetector=J,this.environmentInjector=ce,this.activated=null,this._activatedRoute=null,this.activateEvents=new y.vpe,this.deactivateEvents=new y.vpe,this.attachEvents=new y.vpe,this.detachEvents=new y.vpe,this.name=W||Te,I.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const I=this.parentContexts.getContext(this.name);I&&I.route&&(I.attachRef?this.attach(I.attachRef,I.route):this.activateWith(I.route,I.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new y.vHH(4012,Ei);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new y.vHH(4012,Ei);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new y.vHH(4012,Ei);this.location.detach();const I=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(I.instance),I}attach(I,F){this.activated=I,this._activatedRoute=F,this.location.insert(I.hostView),this.attachEvents.emit(I.instance)}deactivate(){if(this.activated){const I=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(I)}}activateWith(I,F){if(this.isActivated)throw new y.vHH(4013,Ei);this._activatedRoute=I;const W=this.location,ce=I._futureSnapshot.component,De=this.parentContexts.getOrCreateContext(this.name).children,ht=new Fs(I,De,W.injector);if(F&&function zr(w){return!!w.resolveComponentFactory}(F)){const Qt=F.resolveComponentFactory(ce);this.activated=W.createComponent(Qt,W.length,ht)}else this.activated=W.createComponent(ce,{index:W.length,injector:ht,environmentInjector:F??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return w.\u0275fac=function(I){return new(I||w)(y.Y36(Bo),y.Y36(y.s_b),y.$8M("name"),y.Y36(y.sBO),y.Y36(y.lqb))},w.\u0275dir=y.lG2({type:w,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),w})();class Fs{constructor(O,I,F){this.route=O,this.childContexts=I,this.parent=F}get(O,I){return O===Vi?this.route:O===Bo?this.childContexts:this.parent.get(O,I)}}let fo=(()=>{class w{}return w.\u0275fac=function(I){return new(I||w)},w.\u0275cmp=y.Xpm({type:w,selectors:[["ng-component"]],standalone:!0,features:[y.jDz],decls:1,vars:0,template:function(I,F){1&I&&y._UZ(0,"router-outlet")},dependencies:[Mo],encapsulation:2}),w})();function ga(w,O){return w.providers&&!w._injector&&(w._injector=(0,y.MMx)(w.providers,O,`Route: ${w.path}`)),w._injector??O}function Xo(w){const O=w.children&&w.children.map(Xo),I=O?{...w,children:O}:{...w};return!I.component&&!I.loadComponent&&(O||I.loadChildren)&&I.outlet&&I.outlet!==Te&&(I.component=fo),I}function Jr(w){return w.outlet||Te}function ta(w,O){const I=w.filter(F=>Jr(F)===O);return I.push(...w.filter(F=>Jr(F)!==O)),I}function Dr(w){if(!w)return null;if(w.routeConfig?._injector)return w.routeConfig._injector;for(let O=w.parent;O;O=O.parent){const I=O.routeConfig;if(I?._loadedInjector)return I._loadedInjector;if(I?._injector)return I._injector}return null}class Oa{constructor(O,I,F,W){this.routeReuseStrategy=O,this.futureState=I,this.currState=F,this.forwardEvent=W}activate(O){const I=this.futureState._root,F=this.currState?this.currState._root:null;this.deactivateChildRoutes(I,F,O),Gi(this.futureState.root),this.activateChildRoutes(I,F,O)}deactivateChildRoutes(O,I,F){const W=Xr(I);O.children.forEach(J=>{const ce=J.value.outlet;this.deactivateRoutes(J,W[ce],F),delete W[ce]}),Un(W,(J,ce)=>{this.deactivateRouteAndItsChildren(J,F)})}deactivateRoutes(O,I,F){const W=O.value,J=I?I.value:null;if(W===J)if(W.component){const ce=F.getContext(W.outlet);ce&&this.deactivateChildRoutes(O,I,ce.children)}else this.deactivateChildRoutes(O,I,F);else J&&this.deactivateRouteAndItsChildren(I,F)}deactivateRouteAndItsChildren(O,I){O.value.component&&this.routeReuseStrategy.shouldDetach(O.value.snapshot)?this.detachAndStoreRouteSubtree(O,I):this.deactivateRouteAndOutlet(O,I)}detachAndStoreRouteSubtree(O,I){const F=I.getContext(O.value.outlet),W=F&&O.value.component?F.children:I,J=Xr(O);for(const ce of Object.keys(J))this.deactivateRouteAndItsChildren(J[ce],W);if(F&&F.outlet){const ce=F.outlet.detach(),De=F.children.onOutletDeactivated();this.routeReuseStrategy.store(O.value.snapshot,{componentRef:ce,route:O,contexts:De})}}deactivateRouteAndOutlet(O,I){const F=I.getContext(O.value.outlet),W=F&&O.value.component?F.children:I,J=Xr(O);for(const ce of Object.keys(J))this.deactivateRouteAndItsChildren(J[ce],W);F&&F.outlet&&(F.outlet.deactivate(),F.children.onOutletDeactivated(),F.attachRef=null,F.resolver=null,F.route=null)}activateChildRoutes(O,I,F){const W=Xr(I);O.children.forEach(J=>{this.activateRoutes(J,W[J.value.outlet],F),this.forwardEvent(new Ke(J.value.snapshot))}),O.children.length&&this.forwardEvent(new Ds(O.value.snapshot))}activateRoutes(O,I,F){const W=O.value,J=I?I.value:null;if(Gi(W),W===J)if(W.component){const ce=F.getOrCreateContext(W.outlet);this.activateChildRoutes(O,I,ce.children)}else this.activateChildRoutes(O,I,F);else if(W.component){const ce=F.getOrCreateContext(W.outlet);if(this.routeReuseStrategy.shouldAttach(W.snapshot)){const De=this.routeReuseStrategy.retrieve(W.snapshot);this.routeReuseStrategy.store(W.snapshot,null),ce.children.onOutletReAttached(De.contexts),ce.attachRef=De.componentRef,ce.route=De.route.value,ce.outlet&&ce.outlet.attach(De.componentRef,De.route.value),Gi(De.route.value),this.activateChildRoutes(O,null,ce.children)}else{const De=Dr(W.snapshot),ht=De?.get(y._Vd)??null;ce.attachRef=null,ce.route=W,ce.resolver=ht,ce.injector=De,ce.outlet&&ce.outlet.activateWith(W,ce.injector),this.activateChildRoutes(O,null,ce.children)}}else this.activateChildRoutes(O,null,F)}}class qa{constructor(O){this.path=O,this.route=this.path[this.path.length-1]}}class ws{constructor(O,I){this.component=O,this.route=I}}function ma(w,O,I){const F=w._root;return Qi(F,O?O._root:null,I,[F.value])}function Ii(w,O){const I=Symbol(),F=O.get(w,I);return F===I?"function"!=typeof w||(0,y.Z0I)(w)?O.get(w):w:F}function Qi(w,O,I,F,W={canDeactivateChecks:[],canActivateChecks:[]}){const J=Xr(O);return w.children.forEach(ce=>{(function Xi(w,O,I,F,W={canDeactivateChecks:[],canActivateChecks:[]}){const J=w.value,ce=O?O.value:null,De=I?I.getContext(w.value.outlet):null;if(ce&&J.routeConfig===ce.routeConfig){const ht=function xt(w,O,I){if("function"==typeof I)return I(w,O);switch(I){case"pathParamsChange":return!Wn(w.url,O.url);case"pathParamsOrQueryParamsChange":return!Wn(w.url,O.url)||!Kn(w.queryParams,O.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!qi(w,O)||!Kn(w.queryParams,O.queryParams);default:return!qi(w,O)}}(ce,J,J.routeConfig.runGuardsAndResolvers);ht?W.canActivateChecks.push(new qa(F)):(J.data=ce.data,J._resolvedData=ce._resolvedData),Qi(w,O,J.component?De?De.children:null:I,F,W),ht&&De&&De.outlet&&De.outlet.isActivated&&W.canDeactivateChecks.push(new ws(De.outlet.component,ce))}else ce&&zn(O,De,W),W.canActivateChecks.push(new qa(F)),Qi(w,null,J.component?De?De.children:null:I,F,W)})(ce,J[ce.value.outlet],I,F.concat([ce.value]),W),delete J[ce.value.outlet]}),Un(J,(ce,De)=>zn(ce,I.getContext(De),W)),W}function zn(w,O,I){const F=Xr(w),W=w.value;Un(F,(J,ce)=>{zn(J,W.component?O?O.children.getContext(ce):null:O,I)}),I.canDeactivateChecks.push(new ws(W.component&&O&&O.outlet&&O.outlet.isActivated?O.outlet.component:null,W))}function Io(w){return"function"==typeof w}function ei(w){return w instanceof Ae.K||"EmptyError"===w?.name}const po=Symbol("INITIAL_VALUE");function ki(){return(0,Me.w)(w=>(0,Le.a)(w.map(O=>O.pipe((0,$e.q)(1),(0,Mt.O)(po)))).pipe((0,Ne.U)(O=>{for(const I of O)if(!0!==I){if(I===po)return po;if(!1===I||I instanceof tn)return I}return!0}),(0,It.h)(O=>O!==po),(0,$e.q)(1)))}function cs(w){return(0,ge.z)((0,fe.b)(O=>{if(bt(O))throw Do(0,O)}),(0,Ne.U)(O=>!0===O))}const ya={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Kr(w,O,I,F,W){const J=va(w,O,I);return J.matched?function us(w,O,I,F){const W=O.canMatch;if(!W||0===W.length)return(0,q.of)(!0);const J=W.map(ce=>{const De=Ii(ce,w);return Ot(function re(w){return w&&Io(w.canMatch)}(De)?De.canMatch(O,I):w.runInContext(()=>De(O,I)))});return(0,q.of)(J).pipe(ki(),cs())}(F=ga(O,F),O,I).pipe((0,Ne.U)(ce=>!0===ce?J:{...ya})):(0,q.of)(J)}function va(w,O,I){if(""===O.path)return"full"===O.pathMatch&&(w.hasChildren()||I.length>0)?{...ya}:{matched:!0,consumedSegments:[],remainingSegments:I,parameters:{},positionalParamSegments:{}};const W=(O.matcher||rr)(I,w,O);if(!W)return{...ya};const J={};Un(W.posParams,(De,ht)=>{J[ht]=De.path});const ce=W.consumed.length>0?{...J,...W.consumed[W.consumed.length-1].parameters}:J;return{matched:!0,consumedSegments:W.consumed,remainingSegments:I.slice(W.consumed.length),parameters:ce,positionalParamSegments:W.posParams??{}}}function Ms(w,O,I,F,W="corrected"){if(I.length>0&&function ka(w,O,I){return I.some(F=>N(w,O,F)&&Jr(F)!==Te)}(w,I,F)){const ce=new Ht(O,function bl(w,O,I,F){const W={};W[Te]=F,F._sourceSegment=w,F._segmentIndexShift=O.length;for(const J of I)if(""===J.path&&Jr(J)!==Te){const ce=new Ht([],{});ce._sourceSegment=w,ce._segmentIndexShift=O.length,W[Jr(J)]=ce}return W}(w,O,F,new Ht(I,w.children)));return ce._sourceSegment=w,ce._segmentIndexShift=O.length,{segmentGroup:ce,slicedSegments:[]}}if(0===I.length&&function Ja(w,O,I){return I.some(F=>N(w,O,F))}(w,I,F)){const ce=new Ht(w.segments,function Xa(w,O,I,F,W,J){const ce={};for(const De of F)if(N(w,I,De)&&!W[Jr(De)]){const ht=new Ht([],{});ht._sourceSegment=w,ht._segmentIndexShift="legacy"===J?w.segments.length:O.length,ce[Jr(De)]=ht}return{...W,...ce}}(w,O,I,F,w.children,W));return ce._sourceSegment=w,ce._segmentIndexShift=O.length,{segmentGroup:ce,slicedSegments:I}}const J=new Ht(w.segments,w.children);return J._sourceSegment=w,J._segmentIndexShift=O.length,{segmentGroup:J,slicedSegments:I}}function N(w,O,I){return(!(w.hasChildren()||O.length>0)||"full"!==I.pathMatch)&&""===I.path}function Y(w,O,I,F){return!!(Jr(w)===F||F!==Te&&N(O,I,w))&&("**"===w.path||va(O,w,I).matched)}function V(w,O,I){return 0===O.length&&!w.children[I]}const te=!1;class Ce{constructor(O){this.segmentGroup=O||null}}class at{constructor(O){this.urlTree=O}}function mt(w){return(0,Pe._)(new Ce(w))}function hn(w){return(0,Pe._)(new at(w))}class or{constructor(O,I,F,W,J){this.injector=O,this.configLoader=I,this.urlSerializer=F,this.urlTree=W,this.config=J,this.allowRedirects=!0}apply(){const O=Ms(this.urlTree.root,[],[],this.config).segmentGroup,I=new Ht(O.segments,O.children);return this.expandSegmentGroup(this.injector,this.config,I,Te).pipe((0,Ne.U)(J=>this.createUrlTree(ae(J),this.urlTree.queryParams,this.urlTree.fragment))).pipe((0,Ze.K)(J=>{if(J instanceof at)return this.allowRedirects=!1,this.match(J.urlTree);throw J instanceof Ce?this.noMatchError(J):J}))}match(O){return this.expandSegmentGroup(this.injector,this.config,O.root,Te).pipe((0,Ne.U)(W=>this.createUrlTree(ae(W),O.queryParams,O.fragment))).pipe((0,Ze.K)(W=>{throw W instanceof Ce?this.noMatchError(W):W}))}noMatchError(O){return new y.vHH(4002,te)}createUrlTree(O,I,F){const W=Ee(O);return new tn(W,I,F)}expandSegmentGroup(O,I,F,W){return 0===F.segments.length&&F.hasChildren()?this.expandChildren(O,I,F).pipe((0,Ne.U)(J=>new Ht([],J))):this.expandSegment(O,F,I,F.segments,W,!0)}expandChildren(O,I,F){const W=[];for(const J of Object.keys(F.children))"primary"===J?W.unshift(J):W.push(J);return(0,h.D)(W).pipe((0,de.b)(J=>{const ce=F.children[J],De=ta(I,J);return this.expandSegmentGroup(O,De,ce,J).pipe((0,Ne.U)(ht=>({segment:ht,outlet:J})))}),(0,Xe.R)((J,ce)=>(J[ce.outlet]=ce.segment,J),{}),ln())}expandSegment(O,I,F,W,J,ce){return(0,h.D)(F).pipe((0,de.b)(De=>this.expandSegmentAgainstRoute(O,I,F,De,W,J,ce).pipe((0,Ze.K)(Qt=>{if(Qt instanceof Ce)return(0,q.of)(null);throw Qt}))),(0,Je.P)(De=>!!De),(0,Ze.K)((De,ht)=>{if(ei(De))return V(I,W,J)?(0,q.of)(new Ht([],{})):mt(I);throw De}))}expandSegmentAgainstRoute(O,I,F,W,J,ce,De){return Y(W,I,J,ce)?void 0===W.redirectTo?this.matchSegmentAgainstRoute(O,I,W,J,ce):De&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(O,I,F,W,J,ce):mt(I):mt(I)}expandSegmentAgainstRouteUsingRedirect(O,I,F,W,J,ce){return"**"===W.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(O,F,W,ce):this.expandRegularSegmentAgainstRouteUsingRedirect(O,I,F,W,J,ce)}expandWildCardWithParamsAgainstRouteUsingRedirect(O,I,F,W){const J=this.applyRedirectCommands([],F.redirectTo,{});return F.redirectTo.startsWith("/")?hn(J):this.lineralizeSegments(F,J).pipe((0,oe.z)(ce=>{const De=new Ht(ce,{});return this.expandSegment(O,De,I,ce,W,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(O,I,F,W,J,ce){const{matched:De,consumedSegments:ht,remainingSegments:Qt,positionalParamSegments:Xn}=va(I,W,J);if(!De)return mt(I);const yn=this.applyRedirectCommands(ht,W.redirectTo,Xn);return W.redirectTo.startsWith("/")?hn(yn):this.lineralizeSegments(W,yn).pipe((0,oe.z)(Jn=>this.expandSegment(O,I,F,Jn.concat(Qt),ce,!1)))}matchSegmentAgainstRoute(O,I,F,W,J){return"**"===F.path?(O=ga(F,O),F.loadChildren?(F._loadedRoutes?(0,q.of)({routes:F._loadedRoutes,injector:F._loadedInjector}):this.configLoader.loadChildren(O,F)).pipe((0,Ne.U)(De=>(F._loadedRoutes=De.routes,F._loadedInjector=De.injector,new Ht(W,{})))):(0,q.of)(new Ht(W,{}))):Kr(I,F,W,O).pipe((0,Me.w)(({matched:ce,consumedSegments:De,remainingSegments:ht})=>ce?this.getChildConfig(O=F._injector??O,F,W).pipe((0,oe.z)(Xn=>{const yn=Xn.injector??O,Jn=Xn.routes,{segmentGroup:ji,slicedSegments:$o}=Ms(I,De,ht,Jn),oa=new Ht(ji.segments,ji.children);if(0===$o.length&&oa.hasChildren())return this.expandChildren(yn,Jn,oa).pipe((0,Ne.U)(kr=>new Ht(De,kr)));if(0===Jn.length&&0===$o.length)return(0,q.of)(new Ht(De,{}));const Fr=Jr(F)===J;return this.expandSegment(yn,oa,Jn,$o,Fr?Te:J,!0).pipe((0,Ne.U)(di=>new Ht(De.concat(di.segments),di.children)))})):mt(I)))}getChildConfig(O,I,F){return I.children?(0,q.of)({routes:I.children,injector:O}):I.loadChildren?void 0!==I._loadedRoutes?(0,q.of)({routes:I._loadedRoutes,injector:I._loadedInjector}):function Ra(w,O,I,F){const W=O.canLoad;if(void 0===W||0===W.length)return(0,q.of)(!0);const J=W.map(ce=>{const De=Ii(ce,w);return Ot(function Ir(w){return w&&Io(w.canLoad)}(De)?De.canLoad(O,I):w.runInContext(()=>De(O,I)))});return(0,q.of)(J).pipe(ki(),cs())}(O,I,F).pipe((0,oe.z)(W=>W?this.configLoader.loadChildren(O,I).pipe((0,fe.b)(J=>{I._loadedRoutes=J.routes,I._loadedInjector=J.injector})):function Sr(w){return(0,Pe._)(wo(te,3))}())):(0,q.of)({routes:[],injector:O})}lineralizeSegments(O,I){let F=[],W=I.root;for(;;){if(F=F.concat(W.segments),0===W.numberOfChildren)return(0,q.of)(F);if(W.numberOfChildren>1||!W.children[Te])return(0,Pe._)(new y.vHH(4e3,te));W=W.children[Te]}}applyRedirectCommands(O,I,F){return this.applyRedirectCreateUrlTree(I,this.urlSerializer.parse(I),O,F)}applyRedirectCreateUrlTree(O,I,F,W){const J=this.createSegmentGroup(O,I.root,F,W);return new tn(J,this.createQueryParams(I.queryParams,this.urlTree.queryParams),I.fragment)}createQueryParams(O,I){const F={};return Un(O,(W,J)=>{if("string"==typeof W&&W.startsWith(":")){const De=W.substring(1);F[J]=I[De]}else F[J]=W}),F}createSegmentGroup(O,I,F,W){const J=this.createSegments(O,I.segments,F,W);let ce={};return Un(I.children,(De,ht)=>{ce[ht]=this.createSegmentGroup(O,De,F,W)}),new Ht(J,ce)}createSegments(O,I,F,W){return I.map(J=>J.path.startsWith(":")?this.findPosParam(O,J,W):this.findOrReturn(J,F))}findPosParam(O,I,F){const W=F[I.path.substring(1)];if(!W)throw new y.vHH(4001,te);return W}findOrReturn(O,I){let F=0;for(const W of I){if(W.path===O.path)return I.splice(F),W;F++}return O}}class ti{}class ao{constructor(O,I,F,W,J,ce,De,ht){this.injector=O,this.rootComponentType=I,this.config=F,this.urlTree=W,this.url=J,this.paramsInheritanceStrategy=ce,this.relativeLinkResolution=De,this.urlSerializer=ht}recognize(){const O=Ms(this.urlTree.root,[],[],this.config.filter(I=>void 0===I.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,O,Te).pipe((0,Ne.U)(I=>{if(null===I)return null;const F=new ss([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Te,this.rootComponentType,null,this.urlTree.root,-1,{}),W=new Sn(F,I),J=new Eo(this.url,W);return this.inheritParamsAndData(J._root),J}))}inheritParamsAndData(O){const I=O.value,F=zi(I,this.paramsInheritanceStrategy);I.params=Object.freeze(F.params),I.data=Object.freeze(F.data),O.children.forEach(W=>this.inheritParamsAndData(W))}processSegmentGroup(O,I,F,W){return 0===F.segments.length&&F.hasChildren()?this.processChildren(O,I,F):this.processSegment(O,I,F,F.segments,W)}processChildren(O,I,F){return(0,h.D)(Object.keys(F.children)).pipe((0,de.b)(W=>{const J=F.children[W],ce=ta(I,W);return this.processSegmentGroup(O,ce,J,W)}),(0,Xe.R)((W,J)=>W&&J?(W.push(...J),W):null),function Dt(w,O=!1){return(0,tt.e)((I,F)=>{let W=0;I.subscribe((0,Bt.x)(F,J=>{const ce=w(J,W++);(ce||O)&&F.next(J),!ce&&F.complete()}))})}(W=>null!==W),(0,zt.d)(null),ln(),(0,Ne.U)(W=>{if(null===W)return null;const J=Wo(W);return function ds(w){w.sort((O,I)=>O.value.outlet===Te?-1:I.value.outlet===Te?1:O.value.outlet.localeCompare(I.value.outlet))}(J),J}))}processSegment(O,I,F,W,J){return(0,h.D)(I).pipe((0,de.b)(ce=>this.processSegmentAgainstRoute(ce._injector??O,ce,F,W,J)),(0,Je.P)(ce=>!!ce),(0,Ze.K)(ce=>{if(ei(ce))return V(F,W,J)?(0,q.of)([]):(0,q.of)(null);throw ce}))}processSegmentAgainstRoute(O,I,F,W,J){if(I.redirectTo||!Y(I,F,W,J))return(0,q.of)(null);let ce;if("**"===I.path){const De=W.length>0?Nn(W).parameters:{},ht=La(F)+W.length,Qt=new ss(W,De,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,ba(I),Jr(I),I.component??I._loadedComponent??null,I,ai(F),ht,Yl(I),ht);ce=(0,q.of)({snapshot:Qt,consumedSegments:[],remainingSegments:[]})}else ce=Kr(F,I,W,O).pipe((0,Ne.U)(({matched:De,consumedSegments:ht,remainingSegments:Qt,parameters:Xn})=>{if(!De)return null;const yn=La(F)+ht.length;return{snapshot:new ss(ht,Xn,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,ba(I),Jr(I),I.component??I._loadedComponent??null,I,ai(F),yn,Yl(I),yn),consumedSegments:ht,remainingSegments:Qt}}));return ce.pipe((0,Me.w)(De=>{if(null===De)return(0,q.of)(null);const{snapshot:ht,consumedSegments:Qt,remainingSegments:Xn}=De;O=I._injector??O;const yn=I._loadedInjector??O,Jn=function Ao(w){return w.children?w.children:w.loadChildren?w._loadedRoutes:[]}(I),{segmentGroup:ji,slicedSegments:$o}=Ms(F,Qt,Xn,Jn.filter(Fr=>void 0===Fr.redirectTo),this.relativeLinkResolution);if(0===$o.length&&ji.hasChildren())return this.processChildren(yn,Jn,ji).pipe((0,Ne.U)(Fr=>null===Fr?null:[new Sn(ht,Fr)]));if(0===Jn.length&&0===$o.length)return(0,q.of)([new Sn(ht,[])]);const oa=Jr(I)===J;return this.processSegment(yn,Jn,ji,$o,oa?Te:J).pipe((0,Ne.U)(Fr=>null===Fr?null:[new Sn(ht,Fr)]))}))}}function Ho(w){const O=w.value.routeConfig;return O&&""===O.path&&void 0===O.redirectTo}function Wo(w){const O=[],I=new Set;for(const F of w){if(!Ho(F)){O.push(F);continue}const W=O.find(J=>F.value.routeConfig===J.value.routeConfig);void 0!==W?(W.children.push(...F.children),I.add(W)):O.push(F)}for(const F of I){const W=Wo(F.children);O.push(new Sn(F.value,W))}return O.filter(F=>!I.has(F))}function ai(w){let O=w;for(;O._sourceSegment;)O=O._sourceSegment;return O}function La(w){let O=w,I=O._segmentIndexShift??0;for(;O._sourceSegment;)O=O._sourceSegment,I+=O._segmentIndexShift??0;return I-1}function ba(w){return w.data||{}}function Yl(w){return w.resolve||{}}function Dl(w){return"string"==typeof w.title||null===w.title}function li(w){return(0,Me.w)(O=>{const I=w(O);return I?(0,h.D)(I).pipe((0,Ne.U)(()=>O)):(0,q.of)(O)})}let Is=(()=>{class w{buildTitle(I){let F,W=I.root;for(;void 0!==W;)F=this.getResolvedTitleForRoute(W)??F,W=W.children.find(J=>J.outlet===Te);return F}getResolvedTitleForRoute(I){return I.data[ze]}}return w.\u0275fac=function(I){return new(I||w)},w.\u0275prov=y.Yz7({token:w,factory:function(){return(0,y.f3M)(Na)},providedIn:"root"}),w})(),Na=(()=>{class w extends Is{constructor(I){super(),this.title=I}updateTitle(I){const F=this.buildTitle(I);void 0!==F&&this.title.setTitle(F)}}return w.\u0275fac=function(I){return new(I||w)(y.LFG(_t.Dx))},w.\u0275prov=y.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w})();class tl{}class Fa extends class Hd{shouldDetach(O){return!1}store(O,I){}shouldAttach(O){return!1}retrieve(O){return null}shouldReuseRoute(O,I){return O.routeConfig===I.routeConfig}}{}const ci=new y.OlP("",{providedIn:"root",factory:()=>({})}),Vs=new y.OlP("ROUTES");let ui=(()=>{class w{constructor(I,F){this.injector=I,this.compiler=F,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(I){if(this.componentLoaders.get(I))return this.componentLoaders.get(I);if(I._loadedComponent)return(0,q.of)(I._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(I);const F=Ot(I.loadComponent()).pipe((0,fe.b)(J=>{this.onLoadEndListener&&this.onLoadEndListener(I),I._loadedComponent=J}),(0,gn.x)(()=>{this.componentLoaders.delete(I)})),W=new We(F,()=>new Re.x).pipe(rt());return this.componentLoaders.set(I,W),W}loadChildren(I,F){if(this.childrenLoaders.get(F))return this.childrenLoaders.get(F);if(F._loadedRoutes)return(0,q.of)({routes:F._loadedRoutes,injector:F._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(F);const J=this.loadModuleFactoryOrRoutes(F.loadChildren).pipe((0,Ne.U)(De=>{this.onLoadEndListener&&this.onLoadEndListener(F);let ht,Qt,Xn=!1;Array.isArray(De)?Qt=De:(ht=De.create(I).injector,Qt=Mn(ht.get(Vs,[],y.XFs.Self|y.XFs.Optional)));return{routes:Qt.map(Xo),injector:ht}}),(0,gn.x)(()=>{this.childrenLoaders.delete(F)})),ce=new We(J,()=>new Re.x).pipe(rt());return this.childrenLoaders.set(F,ce),ce}loadModuleFactoryOrRoutes(I){return Ot(I()).pipe((0,oe.z)(F=>F instanceof y.YKP||Array.isArray(F)?(0,q.of)(F):(0,h.D)(this.compiler.compileModuleAsync(F))))}}return w.\u0275fac=function(I){return new(I||w)(y.LFG(y.zs3),y.LFG(y.Sil))},w.\u0275prov=y.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w})();class hs{}class fs{shouldProcessUrl(O){return!0}extract(O){return O}merge(O,I){return O}}function na(w){throw w}function Kt(w,O,I){return O.parse("/")}const Gr={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Hs={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function fn(){const w=(0,y.f3M)(Zr),O=(0,y.f3M)(Bo),I=(0,y.f3M)(Wt.Ye),F=(0,y.f3M)(y.zs3),W=(0,y.f3M)(y.Sil),J=(0,y.f3M)(Vs,{optional:!0})??[],ce=(0,y.f3M)(ci,{optional:!0})??{},De=(0,y.f3M)(Na),ht=(0,y.f3M)(Is,{optional:!0}),Qt=(0,y.f3M)(hs,{optional:!0}),Xn=(0,y.f3M)(tl,{optional:!0}),yn=new _n(null,w,O,I,F,W,Mn(J));return Qt&&(yn.urlHandlingStrategy=Qt),Xn&&(yn.routeReuseStrategy=Xn),yn.titleStrategy=ht??De,function Ss(w,O){w.errorHandler&&(O.errorHandler=w.errorHandler),w.malformedUriErrorHandler&&(O.malformedUriErrorHandler=w.malformedUriErrorHandler),w.onSameUrlNavigation&&(O.onSameUrlNavigation=w.onSameUrlNavigation),w.paramsInheritanceStrategy&&(O.paramsInheritanceStrategy=w.paramsInheritanceStrategy),w.relativeLinkResolution&&(O.relativeLinkResolution=w.relativeLinkResolution),w.urlUpdateStrategy&&(O.urlUpdateStrategy=w.urlUpdateStrategy),w.canceledNavigationResolution&&(O.canceledNavigationResolution=w.canceledNavigationResolution)}(ce,yn),yn}let _n=(()=>{class w{constructor(I,F,W,J,ce,De,ht){this.rootComponentType=I,this.urlSerializer=F,this.rootContexts=W,this.location=J,this.config=ht,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Re.x,this.errorHandler=na,this.malformedUriErrorHandler=Kt,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>(0,q.of)(void 0),this.urlHandlingStrategy=new fs,this.routeReuseStrategy=new Fa,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=ce.get(ui),this.configLoader.onLoadEndListener=Jn=>this.triggerEvent(new Lo(Jn)),this.configLoader.onLoadStartListener=Jn=>this.triggerEvent(new _a(Jn)),this.ngModule=ce.get(y.h0i),this.console=ce.get(y.c2e);const yn=ce.get(y.R0b);this.isNgZoneEnabled=yn instanceof y.R0b&&y.R0b.isInAngularZone(),this.resetConfig(ht),this.currentUrlTree=function br(){return new tn(new Ht([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Zi(this.currentUrlTree,this.rootComponentType),this.transitions=new _e.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(I){const F=this.events;return I.pipe((0,It.h)(W=>0!==W.id),(0,Ne.U)(W=>({...W,extractedUrl:this.urlHandlingStrategy.extract(W.rawUrl)})),(0,Me.w)(W=>{let J=!1,ce=!1;return(0,q.of)(W).pipe((0,fe.b)(De=>{this.currentNavigation={id:De.id,initialUrl:De.rawUrl,extractedUrl:De.extractedUrl,trigger:De.source,extras:De.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,Me.w)(De=>{const ht=this.browserUrlTree.toString(),Qt=!this.navigated||De.extractedUrl.toString()!==ht||ht!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||Qt)&&this.urlHandlingStrategy.shouldProcessUrl(De.rawUrl))return qt(De.source)&&(this.browserUrlTree=De.extractedUrl),(0,q.of)(De).pipe((0,Me.w)(yn=>{const Jn=this.transitions.getValue();return F.next(new Lr(yn.id,this.serializeUrl(yn.extractedUrl),yn.source,yn.restoredState)),Jn!==this.transitions.getValue()?Et.E:Promise.resolve(yn)}),function Ai(w,O,I,F){return(0,Me.w)(W=>function _r(w,O,I,F,W){return new or(w,O,I,F,W).apply()}(w,O,I,W.extractedUrl,F).pipe((0,Ne.U)(J=>({...W,urlAfterRedirects:J}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,fe.b)(yn=>{this.currentNavigation={...this.currentNavigation,finalUrl:yn.urlAfterRedirects},W.urlAfterRedirects=yn.urlAfterRedirects}),function El(w,O,I,F,W,J){return(0,oe.z)(ce=>function Vo(w,O,I,F,W,J,ce="emptyOnly",De="legacy"){return new ao(w,O,I,F,W,ce,De,J).recognize().pipe((0,Me.w)(ht=>null===ht?function Ts(w){return new Fe.y(O=>O.error(w))}(new ti):(0,q.of)(ht)))}(w,O,I,ce.urlAfterRedirects,F.serialize(ce.urlAfterRedirects),F,W,J).pipe((0,Ne.U)(De=>({...ce,targetSnapshot:De}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,fe.b)(yn=>{if(W.targetSnapshot=yn.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!yn.extras.skipLocationChange){const ji=this.urlHandlingStrategy.merge(yn.urlAfterRedirects,yn.rawUrl);this.setBrowserUrl(ji,yn)}this.browserUrlTree=yn.urlAfterRedirects}const Jn=new qo(yn.id,this.serializeUrl(yn.extractedUrl),this.serializeUrl(yn.urlAfterRedirects),yn.targetSnapshot);F.next(Jn)}));if(Qt&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:Jn,extractedUrl:ji,source:$o,restoredState:oa,extras:Fr}=De,sa=new Lr(Jn,this.serializeUrl(ji),$o,oa);F.next(sa);const di=Zi(ji,this.rootComponentType).snapshot;return W={...De,targetSnapshot:di,urlAfterRedirects:ji,extras:{...Fr,skipLocationChange:!1,replaceUrl:!1}},(0,q.of)(W)}return this.rawUrlTree=De.rawUrl,De.resolve(null),Et.E}),(0,fe.b)(De=>{const ht=new Cs(De.id,this.serializeUrl(De.extractedUrl),this.serializeUrl(De.urlAfterRedirects),De.targetSnapshot);this.triggerEvent(ht)}),(0,Ne.U)(De=>W={...De,guards:ma(De.targetSnapshot,De.currentSnapshot,this.rootContexts)}),function Pr(w,O){return(0,oe.z)(I=>{const{targetSnapshot:F,currentSnapshot:W,guards:{canActivateChecks:J,canDeactivateChecks:ce}}=I;return 0===ce.length&&0===J.length?(0,q.of)({...I,guardsResult:!0}):function Jo(w,O,I,F){return(0,h.D)(w).pipe((0,oe.z)(W=>function Us(w,O,I,F,W){const J=O&&O.routeConfig?O.routeConfig.canDeactivate:null;if(!J||0===J.length)return(0,q.of)(!0);const ce=J.map(De=>{const ht=Dr(O)??W,Qt=Ii(De,ht);return Ot(function U(w){return w&&Io(w.canDeactivate)}(Qt)?Qt.canDeactivate(w,O,I,F):ht.runInContext(()=>Qt(w,O,I,F))).pipe((0,Je.P)())});return(0,q.of)(ce).pipe(ki())}(W.component,W.route,I,O,F)),(0,Je.P)(W=>!0!==W,!0))}(ce,F,W,w).pipe((0,oe.z)(De=>De&&function pi(w){return"boolean"==typeof w}(De)?function Ya(w,O,I,F){return(0,h.D)(O).pipe((0,de.b)(W=>(0,Ue.z)(function Wi(w,O){return null!==w&&O&&O(new Ns(w)),(0,q.of)(!0)}(W.route.parent,F),function Uo(w,O){return null!==w&&O&&O(new si(w)),(0,q.of)(!0)}(W.route,F),function ls(w,O,I){const F=O[O.length-1],J=O.slice(0,O.length-1).reverse().map(ce=>function Pa(w){const O=w.routeConfig?w.routeConfig.canActivateChild:null;return O&&0!==O.length?{node:w,guards:O}:null}(ce)).filter(ce=>null!==ce).map(ce=>he(()=>{const De=ce.guards.map(ht=>{const Qt=Dr(ce.node)??I,Xn=Ii(ht,Qt);return Ot(function H(w){return w&&Io(w.canActivateChild)}(Xn)?Xn.canActivateChild(F,w):Qt.runInContext(()=>Xn(F,w))).pipe((0,Je.P)())});return(0,q.of)(De).pipe(ki())}));return(0,q.of)(J).pipe(ki())}(w,W.path,I),function Qa(w,O,I){const F=O.routeConfig?O.routeConfig.canActivate:null;if(!F||0===F.length)return(0,q.of)(!0);const W=F.map(J=>he(()=>{const ce=Dr(O)??I,De=Ii(J,ce);return Ot(function $(w){return w&&Io(w.canActivate)}(De)?De.canActivate(O,w):ce.runInContext(()=>De(O,w))).pipe((0,Je.P)())}));return(0,q.of)(W).pipe(ki())}(w,W.route,I))),(0,Je.P)(W=>!0!==W,!0))}(F,J,w,O):(0,q.of)(De)),(0,Ne.U)(De=>({...I,guardsResult:De})))})}(this.ngModule.injector,De=>this.triggerEvent(De)),(0,fe.b)(De=>{if(W.guardsResult=De.guardsResult,bt(De.guardsResult))throw Do(0,De.guardsResult);const ht=new pa(De.id,this.serializeUrl(De.extractedUrl),this.serializeUrl(De.urlAfterRedirects),De.targetSnapshot,!!De.guardsResult);this.triggerEvent(ht)}),(0,It.h)(De=>!!De.guardsResult||(this.restoreHistory(De),this.cancelNavigationTransition(De,"",3),!1)),li(De=>{if(De.guards.canActivateChecks.length)return(0,q.of)(De).pipe((0,fe.b)(ht=>{const Qt=new oi(ht.id,this.serializeUrl(ht.extractedUrl),this.serializeUrl(ht.urlAfterRedirects),ht.targetSnapshot);this.triggerEvent(Qt)}),(0,Me.w)(ht=>{let Qt=!1;return(0,q.of)(ht).pipe(function Cl(w,O){return(0,oe.z)(I=>{const{targetSnapshot:F,guards:{canActivateChecks:W}}=I;if(!W.length)return(0,q.of)(I);let J=0;return(0,h.D)(W).pipe((0,de.b)(ce=>function Ea(w,O,I,F){const W=w.routeConfig,J=w._resolve;return void 0!==W?.title&&!Dl(W)&&(J[ze]=W.title),function Ca(w,O,I,F){const W=function Ji(w){return[...Object.keys(w),...Object.getOwnPropertySymbols(w)]}(w);if(0===W.length)return(0,q.of)({});const J={};return(0,h.D)(W).pipe((0,oe.z)(ce=>function Ql(w,O,I,F){const W=Dr(O)??F,J=Ii(w,W);return Ot(J.resolve?J.resolve(O,I):W.runInContext(()=>J(O,I)))}(w[ce],O,I,F).pipe((0,Je.P)(),(0,fe.b)(De=>{J[ce]=De}))),At(1),(0,Dn.h)(J),(0,Ze.K)(ce=>ei(ce)?Et.E:(0,Pe._)(ce)))}(J,w,O,F).pipe((0,Ne.U)(ce=>(w._resolvedData=ce,w.data=zi(w,I).resolve,W&&Dl(W)&&(w.data[ze]=W.title),null)))}(ce.route,F,w,O)),(0,fe.b)(()=>J++),At(1),(0,oe.z)(ce=>J===W.length?(0,q.of)(I):Et.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,fe.b)({next:()=>Qt=!0,complete:()=>{Qt||(this.restoreHistory(ht),this.cancelNavigationTransition(ht,"",2))}}))}),(0,fe.b)(ht=>{const Qt=new Sa(ht.id,this.serializeUrl(ht.extractedUrl),this.serializeUrl(ht.urlAfterRedirects),ht.targetSnapshot);this.triggerEvent(Qt)}))}),li(De=>{const ht=Qt=>{const Xn=[];Qt.routeConfig?.loadComponent&&!Qt.routeConfig._loadedComponent&&Xn.push(this.configLoader.loadComponent(Qt.routeConfig).pipe((0,fe.b)(yn=>{Qt.component=yn}),(0,Ne.U)(()=>{})));for(const yn of Qt.children)Xn.push(...ht(yn));return Xn};return(0,Le.a)(ht(De.targetSnapshot.root)).pipe((0,zt.d)(),(0,$e.q)(1))}),li(()=>this.afterPreactivation()),(0,Ne.U)(De=>{const ht=function No(w,O,I){const F=Fo(w,O._root,I?I._root:void 0);return new fr(F,O)}(this.routeReuseStrategy,De.targetSnapshot,De.currentRouterState);return W={...De,targetRouterState:ht}}),(0,fe.b)(De=>{this.currentUrlTree=De.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(De.urlAfterRedirects,De.rawUrl),this.routerState=De.targetRouterState,"deferred"===this.urlUpdateStrategy&&(De.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,De),this.browserUrlTree=De.urlAfterRedirects)}),((w,O,I)=>(0,Ne.U)(F=>(new Oa(O,F.targetRouterState,F.currentRouterState,I).activate(w),F)))(this.rootContexts,this.routeReuseStrategy,De=>this.triggerEvent(De)),(0,fe.b)({next(){J=!0},complete(){J=!0}}),(0,gn.x)(()=>{J||ce||this.cancelNavigationTransition(W,"",1),this.currentNavigation?.id===W.id&&(this.currentNavigation=null)}),(0,Ze.K)(De=>{if(ce=!0,mi(De)){Hi(De)||(this.navigated=!0,this.restoreHistory(W,!0));const ht=new ii(W.id,this.serializeUrl(W.extractedUrl),De.message,De.cancellationCode);if(F.next(ht),Hi(De)){const Qt=this.urlHandlingStrategy.merge(De.url,this.rawUrlTree),Xn={skipLocationChange:W.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||qt(W.source)};this.scheduleNavigation(Qt,"imperative",null,Xn,{resolve:W.resolve,reject:W.reject,promise:W.promise})}else W.resolve(!1)}else{this.restoreHistory(W,!0);const ht=new Ri(W.id,this.serializeUrl(W.extractedUrl),De,W.targetSnapshot??void 0);F.next(ht);try{W.resolve(this.errorHandler(De))}catch(Qt){W.reject(Qt)}}return Et.E}))}))}resetRootComponentType(I){this.rootComponentType=I,this.routerState.root.component=this.rootComponentType}setTransition(I){this.transitions.next({...this.transitions.value,...I})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(I=>{const F="popstate"===I.type?"popstate":"hashchange";"popstate"===F&&setTimeout(()=>{const W={replaceUrl:!0},J=I.state?.navigationId?I.state:null;if(J){const De={...J};delete De.navigationId,delete De.\u0275routerPageId,0!==Object.keys(De).length&&(W.state=De)}const ce=this.parseUrl(I.url);this.scheduleNavigation(ce,F,J,W)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(I){this.events.next(I)}resetConfig(I){this.config=I.map(Xo),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(I,F={}){const{relativeTo:W,queryParams:J,fragment:ce,queryParamsHandling:De,preserveFragment:ht}=F,Qt=W||this.routerState.root,Xn=ht?this.currentUrlTree.fragment:ce;let yn=null;switch(De){case"merge":yn={...this.currentUrlTree.queryParams,...J};break;case"preserve":yn=this.currentUrlTree.queryParams;break;default:yn=J||null}return null!==yn&&(yn=this.removeEmptyProps(yn)),Ar(Qt,this.currentUrlTree,I,yn,Xn??null)}navigateByUrl(I,F={skipLocationChange:!1}){const W=bt(I)?I:this.parseUrl(I),J=this.urlHandlingStrategy.merge(W,this.rawUrlTree);return this.scheduleNavigation(J,"imperative",null,F)}navigate(I,F={skipLocationChange:!1}){return function nl(w){for(let O=0;O<w.length;O++){if(null==w[O])throw new y.vHH(4008,false)}}(I),this.navigateByUrl(this.createUrlTree(I,F),F)}serializeUrl(I){return this.urlSerializer.serialize(I)}parseUrl(I){let F;try{F=this.urlSerializer.parse(I)}catch(W){F=this.malformedUriErrorHandler(W,this.urlSerializer,I)}return F}isActive(I,F){let W;if(W=!0===F?{...Gr}:!1===F?{...Hs}:F,bt(I))return Wr(this.currentUrlTree,I,W);const J=this.parseUrl(I);return Wr(this.currentUrlTree,J,W)}removeEmptyProps(I){return Object.keys(I).reduce((F,W)=>{const J=I[W];return null!=J&&(F[W]=J),F},{})}processNavigations(){this.navigations.subscribe(I=>{this.navigated=!0,this.lastSuccessfulId=I.id,this.currentPageId=I.targetPageId,this.events.next(new ho(I.id,this.serializeUrl(I.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),I.resolve(!0)},I=>{this.console.warn(`Unhandled Navigation Error: ${I}`)})}scheduleNavigation(I,F,W,J,ce){if(this.disposed)return Promise.resolve(!1);let De,ht,Qt;ce?(De=ce.resolve,ht=ce.reject,Qt=ce.promise):Qt=new Promise((Jn,ji)=>{De=Jn,ht=ji});const Xn=++this.navigationId;let yn;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(W=this.location.getState()),yn=W&&W.\u0275routerPageId?W.\u0275routerPageId:J.replaceUrl||J.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):yn=0,this.setTransition({id:Xn,targetPageId:yn,source:F,restoredState:W,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:I,extras:J,resolve:De,reject:ht,promise:Qt,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Qt.catch(Jn=>Promise.reject(Jn))}setBrowserUrl(I,F){const W=this.urlSerializer.serialize(I),J={...F.extras.state,...this.generateNgRouterState(F.id,F.targetPageId)};this.location.isCurrentPathEqualTo(W)||F.extras.replaceUrl?this.location.replaceState(W,"",J):this.location.go(W,"",J)}restoreHistory(I,F=!1){if("computed"===this.canceledNavigationResolution){const W=this.currentPageId-I.targetPageId;"popstate"!==I.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===W?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===W&&(this.resetState(I),this.browserUrlTree=I.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(W)}else"replace"===this.canceledNavigationResolution&&(F&&this.resetState(I),this.resetUrlToCurrentUrlTree())}resetState(I){this.routerState=I.currentRouterState,this.currentUrlTree=I.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,I.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(I,F,W){const J=new ii(I.id,this.serializeUrl(I.extractedUrl),F,W);this.triggerEvent(J),I.resolve(!1)}generateNgRouterState(I,F){return"computed"===this.canceledNavigationResolution?{navigationId:I,\u0275routerPageId:F}:{navigationId:I}}}return w.\u0275fac=function(I){y.$Z()},w.\u0275prov=y.Yz7({token:w,factory:function(){return fn()},providedIn:"root"}),w})();function qt(w){return"imperative"!==w}let dt=(()=>{class w{constructor(I,F,W,J,ce){this.router=I,this.route=F,this.tabIndexAttribute=W,this.renderer=J,this.el=ce,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.onChanges=new Re.x,this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(I){this._preserveFragment=(0,y.D6c)(I)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(I){this._skipLocationChange=(0,y.D6c)(I)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(I){this._replaceUrl=(0,y.D6c)(I)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(I){if(null!=this.tabIndexAttribute)return;const F=this.renderer,W=this.el.nativeElement;null!==I?F.setAttribute(W,"tabindex",I):F.removeAttribute(W,"tabindex")}ngOnChanges(I){this.onChanges.next(this)}set routerLink(I){null!=I?(this.commands=Array.isArray(I)?I:[I],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){return null===this.urlTree||this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return w.\u0275fac=function(I){return new(I||w)(y.Y36(_n),y.Y36(Vi),y.$8M("tabindex"),y.Y36(y.Qsj),y.Y36(y.SBq))},w.\u0275dir=y.lG2({type:w,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(I,F){1&I&&y.NdJ("click",function(){return F.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[y.TTD]}),w})(),kt=(()=>{class w{constructor(I,F,W){this.router=I,this.route=F,this.locationStrategy=W,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.href=null,this.onChanges=new Re.x,this.subscription=I.events.subscribe(J=>{J instanceof ho&&this.updateTargetUrlAndHref()})}set preserveFragment(I){this._preserveFragment=(0,y.D6c)(I)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(I){this._skipLocationChange=(0,y.D6c)(I)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(I){this._replaceUrl=(0,y.D6c)(I)}get replaceUrl(){return this._replaceUrl}set routerLink(I){this.commands=null!=I?Array.isArray(I)?I:[I]:null}ngOnChanges(I){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(I,F,W,J,ce){return!!(0!==I||F||W||J||ce||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!1)}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return w.\u0275fac=function(I){return new(I||w)(y.Y36(_n),y.Y36(Vi),y.Y36(Wt.S$))},w.\u0275dir=y.lG2({type:w,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(I,F){1&I&&y.NdJ("click",function(J){return F.onClick(J.button,J.ctrlKey,J.shiftKey,J.altKey,J.metaKey)}),2&I&&y.uIk("target",F.target)("href",F.href,y.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[y.TTD]}),w})(),yi=(()=>{class w{constructor(I,F,W,J,ce,De){this.router=I,this.element=F,this.renderer=W,this.cdr=J,this.link=ce,this.linkWithHref=De,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new y.vpe,this.routerEventsSubscription=I.events.subscribe(ht=>{ht instanceof ho&&this.update()})}ngAfterContentInit(){(0,q.of)(this.links.changes,this.linksWithHrefs.changes,(0,q.of)(null)).pipe((0,it.J)()).subscribe(I=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const I=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(F=>!!F).map(F=>F.onChanges);this.linkInputChangesSubscription=(0,h.D)(I).pipe((0,it.J)()).subscribe(F=>{this.isActive!==this.isLinkActive(this.router)(F)&&this.update()})}set routerLinkActive(I){const F=Array.isArray(I)?I:I.split(" ");this.classes=F.filter(W=>!!W)}ngOnChanges(I){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const I=this.hasActiveLinks();this.isActive!==I&&(this.isActive=I,this.cdr.markForCheck(),this.classes.forEach(F=>{I?this.renderer.addClass(this.element.nativeElement,F):this.renderer.removeClass(this.element.nativeElement,F)}),I&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(I))})}isLinkActive(I){const F=function ra(w){return!!w.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return W=>!!W.urlTree&&I.isActive(W.urlTree,F)}hasActiveLinks(){const I=this.isLinkActive(this.router);return this.link&&I(this.link)||this.linkWithHref&&I(this.linkWithHref)||this.links.some(I)||this.linksWithHrefs.some(I)}}return w.\u0275fac=function(I){return new(I||w)(y.Y36(_n),y.Y36(y.SBq),y.Y36(y.Qsj),y.Y36(y.sBO),y.Y36(dt,8),y.Y36(kt,8))},w.\u0275dir=y.lG2({type:w,selectors:[["","routerLinkActive",""]],contentQueries:function(I,F,W){if(1&I&&(y.Suo(W,dt,5),y.Suo(W,kt,5)),2&I){let J;y.iGM(J=y.CRH())&&(F.links=J),y.iGM(J=y.CRH())&&(F.linksWithHrefs=J)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[y.TTD]}),w})();class Tc{}let rl=(()=>{class w{constructor(I,F,W,J,ce){this.router=I,this.injector=W,this.preloadingStrategy=J,this.loader=ce}setUpPreloading(){this.subscription=this.router.events.pipe((0,It.h)(I=>I instanceof ho),(0,de.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(I,F){const W=[];for(const J of F){J.providers&&!J._injector&&(J._injector=(0,y.MMx)(J.providers,I,`Route: ${J.path}`));const ce=J._injector??I,De=J._loadedInjector??ce;J.loadChildren&&!J._loadedRoutes&&void 0===J.canLoad||J.loadComponent&&!J._loadedComponent?W.push(this.preloadConfig(ce,J)):(J.children||J._loadedRoutes)&&W.push(this.processRoutes(De,J.children??J._loadedRoutes))}return(0,h.D)(W).pipe((0,it.J)())}preloadConfig(I,F){return this.preloadingStrategy.preload(F,()=>{let W;W=F.loadChildren&&void 0===F.canLoad?this.loader.loadChildren(I,F):(0,q.of)(null);const J=W.pipe((0,oe.z)(ce=>null===ce?(0,q.of)(void 0):(F._loadedRoutes=ce.routes,F._loadedInjector=ce.injector,this.processRoutes(ce.injector??I,ce.routes))));if(F.loadComponent&&!F._loadedComponent){const ce=this.loader.loadComponent(F);return(0,h.D)([J,ce]).pipe((0,it.J)())}return J})}}return w.\u0275fac=function(I){return new(I||w)(y.LFG(_n),y.LFG(y.Sil),y.LFG(y.lqb),y.LFG(Tc),y.LFG(ui))},w.\u0275prov=y.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w})();const il=new y.OlP("");let ol=(()=>{class w{constructor(I,F,W={}){this.router=I,this.viewportScroller=F,this.options=W,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},W.scrollPositionRestoration=W.scrollPositionRestoration||"disabled",W.anchorScrolling=W.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(I=>{I instanceof Lr?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=I.navigationTrigger,this.restoredId=I.restoredState?I.restoredState.navigationId:0):I instanceof ho&&(this.lastId=I.id,this.scheduleScrollEvent(I,this.router.parseUrl(I.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(I=>{I instanceof je&&(I.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(I.position):I.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(I.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(I,F){this.router.triggerEvent(new je(I,"popstate"===this.lastSource?this.store[this.restoredId]:null,F))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return w.\u0275fac=function(I){y.$Z()},w.\u0275prov=y.Yz7({token:w,factory:w.\u0275fac}),w})();function _s(w,O){return{\u0275kind:w,\u0275providers:O}}function Hn(w){return[{provide:Vs,multi:!0,useValue:w}]}function jo(){const w=(0,y.f3M)(y.zs3);return O=>{const I=w.get(y.z2F);if(O!==I.components[0])return;const F=w.get(_n),W=w.get(Nr);1===w.get(rn)&&F.initialNavigation(),w.get(Di,null,y.XFs.Optional)?.setUpPreloading(),w.get(il,null,y.XFs.Optional)?.init(),F.resetRootComponentType(I.componentTypes[0]),W.next(),W.complete()}}const Nr=new y.OlP("",{factory:()=>new Re.x}),rn=new y.OlP("",{providedIn:"root",factory:()=>1});const Di=new y.OlP("");function on(w){return _s(0,[{provide:Di,useExisting:rl},{provide:Tc,useExisting:w}])}const rd=new y.OlP("ROUTER_FORROOT_GUARD"),lu=[Wt.Ye,{provide:Zr,useClass:An},{provide:_n,useFactory:fn},Bo,{provide:Vi,useFactory:function Da(w){return w.routerState.root},deps:[_n]},ui];function to(){return new y.PXZ("Router",_n)}let Ba=(()=>{class w{constructor(I){}static forRoot(I,F){return{ngModule:w,providers:[lu,[],Hn(I),{provide:rd,useFactory:So,deps:[[_n,new y.FiY,new y.tp0]]},{provide:ci,useValue:F||{}},F?.useHash?{provide:Wt.S$,useClass:Wt.Do}:{provide:Wt.S$,useClass:Wt.b0},{provide:il,useFactory:()=>{const w=(0,y.f3M)(_n),O=(0,y.f3M)(Wt.EM),I=(0,y.f3M)(ci);return I.scrollOffset&&O.setOffset(I.scrollOffset),new ol(w,O,I)}},F?.preloadingStrategy?on(F.preloadingStrategy).\u0275providers:[],{provide:y.PXZ,multi:!0,useFactory:to},F?.initialNavigation?co(F):[],[{provide:nc,useFactory:jo},{provide:y.tb,multi:!0,useExisting:nc}]]}}static forChild(I){return{ngModule:w,providers:[Hn(I)]}}}return w.\u0275fac=function(I){return new(I||w)(y.LFG(rd,8))},w.\u0275mod=y.oAB({type:w}),w.\u0275inj=y.cJS({imports:[fo]}),w})();function So(w){return"guarded"}function co(w){return["disabled"===w.initialNavigation?_s(3,[{provide:y.ip1,multi:!0,useFactory:()=>{const O=(0,y.f3M)(_n);return()=>{O.setUpLocationChangeListener()}}},{provide:rn,useValue:2}]).\u0275providers:[],"enabledBlocking"===w.initialNavigation?_s(2,[{provide:rn,useValue:0},{provide:y.ip1,multi:!0,deps:[y.zs3],useFactory:O=>{const I=O.get(Wt.V_,Promise.resolve());let F=!1;return()=>I.then(()=>new Promise(J=>{const ce=O.get(_n),De=O.get(Nr);(function W(J){O.get(_n).events.pipe((0,It.h)(De=>De instanceof ho||De instanceof ii||De instanceof Ri),(0,Ne.U)(De=>De instanceof ho||De instanceof ii&&(0===De.code||1===De.code)&&null),(0,It.h)(De=>null!==De),(0,$e.q)(1)).subscribe(()=>{J()})})(()=>{J(!0),F=!0}),ce.afterPreactivation=()=>(J(!0),F||De.closed?(0,q.of)(void 0):De),ce.initialNavigation()}))}}]).\u0275providers:[]]}const nc=new y.OlP("")},3942:(ut,Be,k)=>{k.d(Be,{Z:()=>tt});var y=k(2090),h=k(4859),q=k(9681),_e=k(1877);class Ae{constructor(rt,We){this._delegate=rt,this.firebase=We,(0,q._addComponent)(rt,new h.wA("app-compat",()=>this,"PUBLIC")),this.container=rt.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(rt){this._delegate.automaticDataCollectionEnabled=rt}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(rt=>{this._delegate.checkDestroyed(),rt()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,q.deleteApp)(this._delegate)))}_getService(rt,We=q._DEFAULT_ENTRY_NAME){var Re;this._delegate.checkDestroyed();const Wt=this._delegate.container.getProvider(rt);return!Wt.isInitialized()&&"EXPLICIT"===(null===(Re=Wt.getComponent())||void 0===Re?void 0:Re.instantiationMode)&&Wt.initialize(),Wt.getImmediate({identifier:We})}_removeServiceInstance(rt,We=q._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(rt).clearInstance(We)}_addComponent(rt){(0,q._addComponent)(this._delegate,rt)}_addOrOverwriteComponent(rt){(0,q._addOrOverwriteComponent)(this._delegate,rt)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Ue=new y.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),he=function Qe(){const Bt=function Fe(Bt){const rt={},We={__esModule:!0,initializeApp:function Ne(It,oe={}){const Je=q.initializeApp(It,oe);if((0,y.r3)(rt,Je.name))return rt[Je.name];const de=new Bt(Je,We);return rt[Je.name]=de,de},app:Wt,registerVersion:q.registerVersion,setLogLevel:q.setLogLevel,onLog:q.onLog,apps:null,SDK_VERSION:q.SDK_VERSION,INTERNAL:{registerComponent:function $e(It){const oe=It.name,Je=oe.replace("-compat","");if(q._registerComponent(It)&&"PUBLIC"===It.type){const de=(fe=Wt())=>{if("function"!=typeof fe[Je])throw Ue.create("invalid-app-argument",{appName:oe});return fe[Je]()};void 0!==It.serviceProps&&(0,y.ZB)(de,It.serviceProps),We[Je]=de,Bt.prototype[Je]=function(...fe){return this._getService.bind(this,oe).apply(this,It.multipleInstances?fe:[])}}return"PUBLIC"===It.type?We[Je]:null},removeApp:function Re(It){delete rt[It]},useAsService:function Mt(It,oe){return"serverAuth"===oe?null:oe},modularAPIs:q}};function Wt(It){if(!(0,y.r3)(rt,It=It||q._DEFAULT_ENTRY_NAME))throw Ue.create("no-app",{appName:It});return rt[It]}return We.default=We,Object.defineProperty(We,"apps",{get:function Me(){return Object.keys(rt).map(It=>rt[It])}}),Wt.App=Bt,We}(Ae);return Bt.INTERNAL=Object.assign(Object.assign({},Bt.INTERNAL),{createFirebaseNamespace:Qe,extendNamespace:function rt(We){(0,y.ZB)(Bt,We)},createSubscribe:y.ne,ErrorFactory:y.LL,deepExtend:y.ZB}),Bt}(),ge=new _e.Yd("@firebase/app-compat");if((0,y.jU)()&&void 0!==self.firebase){ge.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Bt=self.firebase.SDK_VERSION;Bt&&Bt.indexOf("LITE")>=0&&ge.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const tt=he;!function st(Bt){(0,q.registerVersion)("@firebase/app-compat","0.1.33",Bt)}()},9681:(ut,Be,k)=>{k.r(Be),k.d(Be,{FirebaseError:()=>_e.ZR,SDK_VERSION:()=>Yn,_DEFAULT_ENTRY_NAME:()=>ln,_addComponent:()=>it,_addOrOverwriteComponent:()=>_t,_apps:()=>Dn,_clearComponents:()=>wn,_components:()=>gn,_getProvider:()=>ze,_registerComponent:()=>Te,_removeServiceInstance:()=>Vt,deleteApp:()=>Un,getApp:()=>Nn,getApps:()=>sr,initializeApp:()=>Mn,onLog:()=>br,registerVersion:()=>Qn,setLogLevel:()=>Tr});var y=k(5861),h=k(4859),q=k(1877),_e=k(2090),Ae=k(8766);class Le{constructor(Oe){this.container=Oe}getPlatformInfoString(){return this.container.getProviders().map(be=>{if(function Ue(me){return"VERSION"===me.getComponent()?.type}(be)){const Ct=be.getImmediate();return`${Ct.library}/${Ct.version}`}return null}).filter(be=>be).join(" ")}}const Fe="@firebase/app",he=new q.Yd("@firebase/app"),ln="[DEFAULT]",Dt={[Fe]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Dn=new Map,gn=new Map;function it(me,Oe){try{me.container.addComponent(Oe)}catch(be){he.debug(`Component ${Oe.name} failed to register with FirebaseApp ${me.name}`,be)}}function _t(me,Oe){me.container.addOrOverwriteComponent(Oe)}function Te(me){const Oe=me.name;if(gn.has(Oe))return he.debug(`There were multiple attempts to register component ${Oe}.`),!1;gn.set(Oe,me);for(const be of Dn.values())it(be,me);return!0}function ze(me,Oe){const be=me.container.getProvider("heartbeat").getImmediate({optional:!0});return be&&be.triggerHeartbeat(),me.container.getProvider(Oe)}function Vt(me,Oe,be=ln){ze(me,Oe).clearInstance(be)}function wn(){gn.clear()}const dr=new _e.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Kn{constructor(Oe,be,Ct){this._isDeleted=!1,this._options=Object.assign({},Oe),this._config=Object.assign({},be),this._name=be.name,this._automaticDataCollectionEnabled=be.automaticDataCollectionEnabled,this._container=Ct,this.container.addComponent(new h.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Oe){this.checkDestroyed(),this._automaticDataCollectionEnabled=Oe}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Oe){this._isDeleted=Oe}checkDestroyed(){if(this.isDeleted)throw dr.create("app-deleted",{appName:this._name})}}const Yn="9.9.4";function Mn(me,Oe={}){"object"!=typeof Oe&&(Oe={name:Oe});const be=Object.assign({name:ln,automaticDataCollectionEnabled:!1},Oe),Ct=be.name;if("string"!=typeof Ct||!Ct)throw dr.create("bad-app-name",{appName:String(Ct)});const jt=Dn.get(Ct);if(jt){if((0,_e.vZ)(me,jt.options)&&(0,_e.vZ)(be,jt.config))return jt;throw dr.create("duplicate-app",{appName:Ct})}const nn=new h.H0(Ct);for(const ar of gn.values())nn.addComponent(ar);const hr=new Kn(me,be,nn);return Dn.set(Ct,hr),hr}function Nn(me=ln){const Oe=Dn.get(me);if(!Oe)throw dr.create("no-app",{appName:me});return Oe}function sr(){return Array.from(Dn.values())}function Un(me){return Ot.apply(this,arguments)}function Ot(){return(Ot=(0,y.Z)(function*(me){const Oe=me.name;Dn.has(Oe)&&(Dn.delete(Oe),yield Promise.all(me.container.getProviders().map(be=>be.delete())),me.isDeleted=!0)})).apply(this,arguments)}function Qn(me,Oe,be){var Ct;let jt=null!==(Ct=Dt[me])&&void 0!==Ct?Ct:me;be&&(jt+=`-${be}`);const nn=jt.match(/\s|\//),hr=Oe.match(/\s|\//);if(nn||hr){const ar=[`Unable to register library "${jt}" with version "${Oe}":`];return nn&&ar.push(`library name "${jt}" contains illegal characters (whitespace or "/")`),nn&&hr&&ar.push("and"),hr&&ar.push(`version name "${Oe}" contains illegal characters (whitespace or "/")`),void he.warn(ar.join(" "))}Te(new h.wA(`${jt}-version`,()=>({library:jt,version:Oe}),"VERSION"))}function br(me,Oe){if(null!==me&&"function"!=typeof me)throw dr.create("invalid-log-argument");(0,q.Am)(me,Oe)}function Tr(me){(0,q.Ub)(me)}const mr="firebase-heartbeat-store";let gt=null;function Se(){return gt||(gt=(0,Ae.X3)("firebase-heartbeat-database",1,{upgrade:(me,Oe)=>{0===Oe&&me.createObjectStore(mr)}}).catch(me=>{throw dr.create("idb-open",{originalErrorMessage:me.message})})),gt}function lt(){return(lt=(0,y.Z)(function*(me){var Oe;try{return(yield Se()).transaction(mr).objectStore(mr).get(Ht(me))}catch(be){if(be instanceof _e.ZR)he.warn(be.message);else{const Ct=dr.create("idb-get",{originalErrorMessage:null===(Oe=be)||void 0===Oe?void 0:Oe.message});he.warn(Ct.message)}}})).apply(this,arguments)}function vt(me,Oe){return tn.apply(this,arguments)}function tn(){return(tn=(0,y.Z)(function*(me,Oe){var be;try{const jt=(yield Se()).transaction(mr,"readwrite");return yield jt.objectStore(mr).put(Oe,Ht(me)),jt.done}catch(Ct){if(Ct instanceof _e.ZR)he.warn(Ct.message);else{const jt=dr.create("idb-set",{originalErrorMessage:null===(be=Ct)||void 0===be?void 0:be.message});he.warn(jt.message)}}})).apply(this,arguments)}function Ht(me){return`${me.name}!${me.options.appId}`}class Wn{constructor(Oe){this.container=Oe,this._heartbeatsCache=null;const be=this.container.getProvider("app").getImmediate();this._storage=new An(be),this._heartbeatsCachePromise=this._storage.read().then(Ct=>(this._heartbeatsCache=Ct,Ct))}triggerHeartbeat(){var Oe=this;return(0,y.Z)(function*(){const Ct=Oe.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),jt=$n();if(null===Oe._heartbeatsCache&&(Oe._heartbeatsCache=yield Oe._heartbeatsCachePromise),Oe._heartbeatsCache.lastSentHeartbeatDate!==jt&&!Oe._heartbeatsCache.heartbeats.some(nn=>nn.date===jt))return Oe._heartbeatsCache.heartbeats.push({date:jt,agent:Ct}),Oe._heartbeatsCache.heartbeats=Oe._heartbeatsCache.heartbeats.filter(nn=>{const hr=new Date(nn.date).valueOf();return Date.now()-hr<=2592e6}),Oe._storage.overwrite(Oe._heartbeatsCache)})()}getHeartbeatsHeader(){var Oe=this;return(0,y.Z)(function*(){if(null===Oe._heartbeatsCache&&(yield Oe._heartbeatsCachePromise),null===Oe._heartbeatsCache||0===Oe._heartbeatsCache.heartbeats.length)return"";const be=$n(),{heartbeatsToSend:Ct,unsentEntries:jt}=function Zr(me,Oe=1024){const be=[];let Ct=me.slice();for(const jt of me){const nn=be.find(hr=>hr.agent===jt.agent);if(nn){if(nn.dates.push(jt.date),Ie(be)>Oe){nn.dates.pop();break}}else if(be.push({agent:jt.agent,dates:[jt.date]}),Ie(be)>Oe){be.pop();break}Ct=Ct.slice(1)}return{heartbeatsToSend:be,unsentEntries:Ct}}(Oe._heartbeatsCache.heartbeats),nn=(0,_e.L)(JSON.stringify({version:2,heartbeats:Ct}));return Oe._heartbeatsCache.lastSentHeartbeatDate=be,jt.length>0?(Oe._heartbeatsCache.heartbeats=jt,yield Oe._storage.overwrite(Oe._heartbeatsCache)):(Oe._heartbeatsCache.heartbeats=[],Oe._storage.overwrite(Oe._heartbeatsCache)),nn})()}}function $n(){return(new Date).toISOString().substring(0,10)}class An{constructor(Oe){this.app=Oe,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,y.Z)(function*(){return!!(0,_e.hl)()&&(0,_e.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Oe=this;return(0,y.Z)(function*(){return(yield Oe._canUseIndexedDBPromise)&&(yield function ye(me){return lt.apply(this,arguments)}(Oe.app))||{heartbeats:[]}})()}overwrite(Oe){var be=this;return(0,y.Z)(function*(){var Ct;if(yield be._canUseIndexedDBPromise){const nn=yield be.read();return vt(be.app,{lastSentHeartbeatDate:null!==(Ct=Oe.lastSentHeartbeatDate)&&void 0!==Ct?Ct:nn.lastSentHeartbeatDate,heartbeats:Oe.heartbeats})}})()}add(Oe){var be=this;return(0,y.Z)(function*(){var Ct;if(yield be._canUseIndexedDBPromise){const nn=yield be.read();return vt(be.app,{lastSentHeartbeatDate:null!==(Ct=Oe.lastSentHeartbeatDate)&&void 0!==Ct?Ct:nn.lastSentHeartbeatDate,heartbeats:[...nn.heartbeats,...Oe.heartbeats]})}})()}}function Ie(me){return(0,_e.L)(JSON.stringify({version:2,heartbeats:me})).length}!function ve(me){Te(new h.wA("platform-logger",Oe=>new Le(Oe),"PRIVATE")),Te(new h.wA("heartbeat",Oe=>new Wn(Oe),"PRIVATE")),Qn(Fe,"0.7.32",me),Qn(Fe,"0.7.32","esm2017"),Qn("fire-js","")}("")},4859:(ut,Be,k)=>{k.d(Be,{H0:()=>Fe,wA:()=>q});var y=k(5861),h=k(2090);class q{constructor(he,ge,Pe){this.name=he,this.instanceFactory=ge,this.type=Pe,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(he){return this.instantiationMode=he,this}setMultipleInstances(he){return this.multipleInstances=he,this}setServiceProps(he){return this.serviceProps=he,this}setInstanceCreatedCallback(he){return this.onInstanceCreated=he,this}}const _e="[DEFAULT]";class Ae{constructor(he,ge){this.name=he,this.container=ge,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(he){const ge=this.normalizeInstanceIdentifier(he);if(!this.instancesDeferred.has(ge)){const Pe=new h.BH;if(this.instancesDeferred.set(ge,Pe),this.isInitialized(ge)||this.shouldAutoInitialize())try{const Et=this.getOrInitializeService({instanceIdentifier:ge});Et&&Pe.resolve(Et)}catch{}}return this.instancesDeferred.get(ge).promise}getImmediate(he){var ge;const Pe=this.normalizeInstanceIdentifier(he?.identifier),Et=null!==(ge=he?.optional)&&void 0!==ge&&ge;if(!this.isInitialized(Pe)&&!this.shouldAutoInitialize()){if(Et)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Pe})}catch(st){if(Et)return null;throw st}}getComponent(){return this.component}setComponent(he){if(he.name!==this.name)throw Error(`Mismatching Component ${he.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=he,this.shouldAutoInitialize()){if(function Ue(Qe){return"EAGER"===Qe.instantiationMode}(he))try{this.getOrInitializeService({instanceIdentifier:_e})}catch{}for(const[ge,Pe]of this.instancesDeferred.entries()){const Et=this.normalizeInstanceIdentifier(ge);try{const st=this.getOrInitializeService({instanceIdentifier:Et});Pe.resolve(st)}catch{}}}}clearInstance(he=_e){this.instancesDeferred.delete(he),this.instancesOptions.delete(he),this.instances.delete(he)}delete(){var he=this;return(0,y.Z)(function*(){const ge=Array.from(he.instances.values());yield Promise.all([...ge.filter(Pe=>"INTERNAL"in Pe).map(Pe=>Pe.INTERNAL.delete()),...ge.filter(Pe=>"_delete"in Pe).map(Pe=>Pe._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(he=_e){return this.instances.has(he)}getOptions(he=_e){return this.instancesOptions.get(he)||{}}initialize(he={}){const{options:ge={}}=he,Pe=this.normalizeInstanceIdentifier(he.instanceIdentifier);if(this.isInitialized(Pe))throw Error(`${this.name}(${Pe}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Et=this.getOrInitializeService({instanceIdentifier:Pe,options:ge});for(const[st,tt]of this.instancesDeferred.entries())Pe===this.normalizeInstanceIdentifier(st)&&tt.resolve(Et);return Et}onInit(he,ge){var Pe;const Et=this.normalizeInstanceIdentifier(ge),st=null!==(Pe=this.onInitCallbacks.get(Et))&&void 0!==Pe?Pe:new Set;st.add(he),this.onInitCallbacks.set(Et,st);const tt=this.instances.get(Et);return tt&&he(tt,Et),()=>{st.delete(he)}}invokeOnInitCallbacks(he,ge){const Pe=this.onInitCallbacks.get(ge);if(Pe)for(const Et of Pe)try{Et(he,ge)}catch{}}getOrInitializeService({instanceIdentifier:he,options:ge={}}){let Pe=this.instances.get(he);if(!Pe&&this.component&&(Pe=this.component.instanceFactory(this.container,{instanceIdentifier:(Qe=he,Qe===_e?void 0:Qe),options:ge}),this.instances.set(he,Pe),this.instancesOptions.set(he,ge),this.invokeOnInitCallbacks(Pe,he),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,he,Pe)}catch{}var Qe;return Pe||null}normalizeInstanceIdentifier(he=_e){return this.component?this.component.multipleInstances?he:_e:he}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Fe{constructor(he){this.name=he,this.providers=new Map}addComponent(he){const ge=this.getProvider(he.name);if(ge.isComponentSet())throw new Error(`Component ${he.name} has already been registered with ${this.name}`);ge.setComponent(he)}addOrOverwriteComponent(he){this.getProvider(he.name).isComponentSet()&&this.providers.delete(he.name),this.addComponent(he)}getProvider(he){if(this.providers.has(he))return this.providers.get(he);const ge=new Ae(he,this);return this.providers.set(he,ge),ge}getProviders(){return Array.from(this.providers.values())}}},1877:(ut,Be,k)=>{k.d(Be,{Am:()=>Qe,Ub:()=>Fe,Yd:()=>Ue,in:()=>h});const y=[];var h=(()=>{return(he=h||(h={}))[he.DEBUG=0]="DEBUG",he[he.VERBOSE=1]="VERBOSE",he[he.INFO=2]="INFO",he[he.WARN=3]="WARN",he[he.ERROR=4]="ERROR",he[he.SILENT=5]="SILENT",h;var he})();const q={debug:h.DEBUG,verbose:h.VERBOSE,info:h.INFO,warn:h.WARN,error:h.ERROR,silent:h.SILENT},_e=h.INFO,Ae={[h.DEBUG]:"log",[h.VERBOSE]:"log",[h.INFO]:"info",[h.WARN]:"warn",[h.ERROR]:"error"},Le=(he,ge,...Pe)=>{if(ge<he.logLevel)return;const Et=(new Date).toISOString(),st=Ae[ge];if(!st)throw new Error(`Attempted to log a message with an invalid logType (value: ${ge})`);console[st](`[${Et}]  ${he.name}:`,...Pe)};class Ue{constructor(ge){this.name=ge,this._logLevel=_e,this._logHandler=Le,this._userLogHandler=null,y.push(this)}get logLevel(){return this._logLevel}set logLevel(ge){if(!(ge in h))throw new TypeError(`Invalid value "${ge}" assigned to \`logLevel\``);this._logLevel=ge}setLogLevel(ge){this._logLevel="string"==typeof ge?q[ge]:ge}get logHandler(){return this._logHandler}set logHandler(ge){if("function"!=typeof ge)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ge}get userLogHandler(){return this._userLogHandler}set userLogHandler(ge){this._userLogHandler=ge}debug(...ge){this._userLogHandler&&this._userLogHandler(this,h.DEBUG,...ge),this._logHandler(this,h.DEBUG,...ge)}log(...ge){this._userLogHandler&&this._userLogHandler(this,h.VERBOSE,...ge),this._logHandler(this,h.VERBOSE,...ge)}info(...ge){this._userLogHandler&&this._userLogHandler(this,h.INFO,...ge),this._logHandler(this,h.INFO,...ge)}warn(...ge){this._userLogHandler&&this._userLogHandler(this,h.WARN,...ge),this._logHandler(this,h.WARN,...ge)}error(...ge){this._userLogHandler&&this._userLogHandler(this,h.ERROR,...ge),this._logHandler(this,h.ERROR,...ge)}}function Fe(he){y.forEach(ge=>{ge.setLogLevel(he)})}function Qe(he,ge){for(const Pe of y){let Et=null;ge&&ge.level&&(Et=q[ge.level]),Pe.userLogHandler=null===he?null:(st,tt,...Bt)=>{const rt=Bt.map(We=>{if(null==We)return null;if("string"==typeof We)return We;if("number"==typeof We||"boolean"==typeof We)return We.toString();if(We instanceof Error)return We.message;try{return JSON.stringify(We)}catch{return null}}).filter(We=>We).join(" ");tt>=(Et??st.logLevel)&&he({level:h[tt].toLowerCase(),message:rt,args:Bt,type:st.name})}}}},8766:(ut,Be,k)=>{k.d(Be,{Lj:()=>Ne,X3:()=>Wt});var y=k(5861);let q,_e;const Ue=new WeakMap,Fe=new WeakMap,Qe=new WeakMap,he=new WeakMap,ge=new WeakMap;let st={get(oe,Je,de){if(oe instanceof IDBTransaction){if("done"===Je)return Fe.get(oe);if("objectStoreNames"===Je)return oe.objectStoreNames||Qe.get(oe);if("store"===Je)return de.objectStoreNames[1]?void 0:de.objectStore(de.objectStoreNames[0])}return We(oe[Je])},set:(oe,Je,de)=>(oe[Je]=de,!0),has:(oe,Je)=>oe instanceof IDBTransaction&&("done"===Je||"store"===Je)||Je in oe};function rt(oe){return"function"==typeof oe?function Bt(oe){return oe!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Le(){return _e||(_e=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(oe)?function(...Je){return oe.apply(Re(this),Je),We(Ue.get(this))}:function(...Je){return We(oe.apply(Re(this),Je))}:function(Je,...de){const fe=oe.call(Re(this),Je,...de);return Qe.set(fe,Je.sort?Je.sort():[Je]),We(fe)}}(oe):(oe instanceof IDBTransaction&&function Et(oe){if(Fe.has(oe))return;const Je=new Promise((de,fe)=>{const Ze=()=>{oe.removeEventListener("complete",Xe),oe.removeEventListener("error",At),oe.removeEventListener("abort",At)},Xe=()=>{de(),Ze()},At=()=>{fe(oe.error||new DOMException("AbortError","AbortError")),Ze()};oe.addEventListener("complete",Xe),oe.addEventListener("error",At),oe.addEventListener("abort",At)});Fe.set(oe,Je)}(oe),((oe,Je)=>Je.some(de=>oe instanceof de))(oe,function Ae(){return q||(q=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(oe,st):oe)}function We(oe){if(oe instanceof IDBRequest)return function Pe(oe){const Je=new Promise((de,fe)=>{const Ze=()=>{oe.removeEventListener("success",Xe),oe.removeEventListener("error",At)},Xe=()=>{de(We(oe.result)),Ze()},At=()=>{fe(oe.error),Ze()};oe.addEventListener("success",Xe),oe.addEventListener("error",At)});return Je.then(de=>{de instanceof IDBCursor&&Ue.set(de,oe)}).catch(()=>{}),ge.set(Je,oe),Je}(oe);if(he.has(oe))return he.get(oe);const Je=rt(oe);return Je!==oe&&(he.set(oe,Je),ge.set(Je,oe)),Je}const Re=oe=>ge.get(oe);function Wt(oe,Je,{blocked:de,upgrade:fe,blocking:Ze,terminated:Xe}={}){const At=indexedDB.open(oe,Je),Ut=We(At);return fe&&At.addEventListener("upgradeneeded",zt=>{fe(We(At.result),zt.oldVersion,zt.newVersion,We(At.transaction))}),de&&At.addEventListener("blocked",()=>de()),Ut.then(zt=>{Xe&&zt.addEventListener("close",()=>Xe()),Ze&&zt.addEventListener("versionchange",()=>Ze())}).catch(()=>{}),Ut}function Ne(oe,{blocked:Je}={}){const de=indexedDB.deleteDatabase(oe);return Je&&de.addEventListener("blocked",()=>Je()),We(de).then(()=>{})}const Me=["get","getKey","getAll","getAllKeys","count"],$e=["put","add","delete","clear"],Mt=new Map;function It(oe,Je){if(!(oe instanceof IDBDatabase)||Je in oe||"string"!=typeof Je)return;if(Mt.get(Je))return Mt.get(Je);const de=Je.replace(/FromIndex$/,""),fe=Je!==de,Ze=$e.includes(de);if(!(de in(fe?IDBIndex:IDBObjectStore).prototype)||!Ze&&!Me.includes(de))return;const Xe=function(){var At=(0,y.Z)(function*(Ut,...zt){const un=this.transaction(Ut,Ze?"readwrite":"readonly");let ln=un.store;return fe&&(ln=ln.index(zt.shift())),(yield Promise.all([ln[de](...zt),Ze&&un.done]))[0]});return function(zt){return At.apply(this,arguments)}}();return Mt.set(Je,Xe),Xe}!function tt(oe){st=oe(st)}(oe=>({...oe,get:(Je,de,fe)=>It(Je,de)||oe.get(Je,de,fe),has:(Je,de)=>!!It(Je,de)||oe.has(Je,de)}))},7185:(ut,Be,k)=>{k.d(Be,{Rh:()=>un,_W:()=>At});var y=k(4650),h=k(7340),q=k(7579),_e=k(6895),Ae=k(1481);const Le=["toast-component",""];function Ue(it,_t){if(1&it){const Te=y.EpF();y.TgZ(0,"button",5),y.NdJ("click",function(){y.CHM(Te);const Vt=y.oxw();return y.KtG(Vt.remove())}),y.TgZ(1,"span",6),y._uU(2,"\xd7"),y.qZA()()}}function Fe(it,_t){if(1&it&&(y.ynx(0),y._uU(1),y.BQk()),2&it){const Te=y.oxw(2);y.xp6(1),y.hij("[",Te.duplicatesCount+1,"]")}}function Qe(it,_t){if(1&it&&(y.TgZ(0,"div"),y._uU(1),y.YNc(2,Fe,2,1,"ng-container",4),y.qZA()),2&it){const Te=y.oxw();y.Tol(Te.options.titleClass),y.uIk("aria-label",Te.title),y.xp6(1),y.hij(" ",Te.title," "),y.xp6(1),y.Q6J("ngIf",Te.duplicatesCount)}}function he(it,_t){if(1&it&&y._UZ(0,"div",7),2&it){const Te=y.oxw();y.Tol(Te.options.messageClass),y.Q6J("innerHTML",Te.message,y.oJD)}}function ge(it,_t){if(1&it&&(y.TgZ(0,"div",8),y._uU(1),y.qZA()),2&it){const Te=y.oxw();y.Tol(Te.options.messageClass),y.uIk("aria-label",Te.message),y.xp6(1),y.hij(" ",Te.message," ")}}function Pe(it,_t){if(1&it&&(y.TgZ(0,"div"),y._UZ(1,"div",9),y.qZA()),2&it){const Te=y.oxw();y.xp6(1),y.Udp("width",Te.width+"%")}}class Ne{constructor(_t,Te){this.component=_t,this.injector=Te}attach(_t,Te){return this._attachedHost=_t,_t.attach(this,Te)}detach(){const _t=this._attachedHost;if(_t)return this._attachedHost=void 0,_t.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(_t){this._attachedHost=_t}}class $e{constructor(_t,Te,ze,Vt,wn,rr){this.toastId=_t,this.config=Te,this.message=ze,this.title=Vt,this.toastType=wn,this.toastRef=rr,this._onTap=new q.x,this._onAction=new q.x,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(_t){this._onAction.next(_t)}onAction(){return this._onAction.asObservable()}}const It=new y.OlP("ToastConfig");class oe{constructor(_t){this._overlayRef=_t,this.duplicatesCount=0,this._afterClosed=new q.x,this._activate=new q.x,this._manualClose=new q.x,this._resetTimeout=new q.x,this._countDuplicate=new q.x}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(_t,Te){_t&&this._resetTimeout.next(),Te&&this._countDuplicate.next(++this.duplicatesCount)}}class Je{constructor(_t,Te){this._toastPackage=_t,this._parentInjector=Te}get(_t,Te,ze){return _t===$e?this._toastPackage:this._parentInjector.get(_t,Te,ze)}}class de extends class Me{attach(_t,Te){return this._attachedPortal=_t,this.attachComponentPortal(_t,Te)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(_t){this._disposeFn=_t}}{constructor(_t,Te,ze){super(),this._hostDomElement=_t,this._componentFactoryResolver=Te,this._appRef=ze}attachComponentPortal(_t,Te){const ze=this._componentFactoryResolver.resolveComponentFactory(_t.component);let Vt;return Vt=ze.create(_t.injector),this._appRef.attachView(Vt.hostView),this.setDisposeFn(()=>{this._appRef.detachView(Vt.hostView),Vt.destroy()}),Te?this._hostDomElement.insertBefore(this._getComponentRootNode(Vt),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(Vt)),Vt}_getComponentRootNode(_t){return _t.hostView.rootNodes[0]}}class fe{constructor(_t){this._portalHost=_t}attach(_t,Te=!0){return this._portalHost.attach(_t,Te)}detach(){return this._portalHost.detach()}}let Ze=(()=>{class it{constructor(Te){this._document=Te}ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const Te=this._document.createElement("div");Te.classList.add("overlay-container"),Te.setAttribute("aria-live","polite"),this._document.body.appendChild(Te),this._containerElement=Te}}return it.\u0275fac=function(Te){return new(Te||it)(y.LFG(_e.K0))},it.\u0275prov=y.Yz7({token:it,factory:it.\u0275fac,providedIn:"root"}),it})(),Xe=(()=>{class it{constructor(Te,ze,Vt,wn){this._overlayContainer=Te,this._componentFactoryResolver=ze,this._appRef=Vt,this._document=wn,this._paneElements=new Map}create(Te,ze){return this._createOverlayRef(this.getPaneElement(Te,ze))}getPaneElement(Te="",ze){return this._paneElements.get(ze)||this._paneElements.set(ze,{}),this._paneElements.get(ze)[Te]||(this._paneElements.get(ze)[Te]=this._createPaneElement(Te,ze)),this._paneElements.get(ze)[Te]}_createPaneElement(Te,ze){const Vt=this._document.createElement("div");return Vt.id="toast-container",Vt.classList.add(Te),Vt.classList.add("toast-container"),ze?ze.getContainerElement().appendChild(Vt):this._overlayContainer.getContainerElement().appendChild(Vt),Vt}_createPortalHost(Te){return new de(Te,this._componentFactoryResolver,this._appRef)}_createOverlayRef(Te){return new fe(this._createPortalHost(Te))}}return it.\u0275fac=function(Te){return new(Te||it)(y.LFG(Ze),y.LFG(y._Vd),y.LFG(y.z2F),y.LFG(_e.K0))},it.\u0275prov=y.Yz7({token:it,factory:it.\u0275fac,providedIn:"root"}),it})(),At=(()=>{class it{constructor(Te,ze,Vt,wn,rr){this.overlay=ze,this._injector=Vt,this.sanitizer=wn,this.ngZone=rr,this.currentlyActive=0,this.toasts=[],this.index=0,this.toastrConfig={...Te.default,...Te.config},Te.config.iconClasses&&(this.toastrConfig.iconClasses={...Te.default.iconClasses,...Te.config.iconClasses})}show(Te,ze,Vt={},wn=""){return this._preBuildNotification(wn,Te,ze,this.applyConfig(Vt))}success(Te,ze,Vt={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",Te,ze,this.applyConfig(Vt))}error(Te,ze,Vt={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",Te,ze,this.applyConfig(Vt))}info(Te,ze,Vt={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",Te,ze,this.applyConfig(Vt))}warning(Te,ze,Vt={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",Te,ze,this.applyConfig(Vt))}clear(Te){for(const ze of this.toasts)if(void 0!==Te){if(ze.toastId===Te)return void ze.toastRef.manualClose()}else ze.toastRef.manualClose()}remove(Te){const ze=this._findToast(Te);if(!ze||(ze.activeToast.toastRef.close(),this.toasts.splice(ze.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const Vt=this.toasts[this.currentlyActive].toastRef;Vt.isInactive()||(this.currentlyActive=this.currentlyActive+1,Vt.activate())}return!0}findDuplicate(Te="",ze="",Vt,wn){const{includeTitleDuplicates:rr}=this.toastrConfig;for(const dr of this.toasts){const Kn=rr&&dr.title===Te;if((!rr||Kn)&&dr.message===ze)return dr.toastRef.onDuplicate(Vt,wn),dr}return null}applyConfig(Te={}){return{...this.toastrConfig,...Te}}_findToast(Te){for(let ze=0;ze<this.toasts.length;ze++)if(this.toasts[ze].toastId===Te)return{index:ze,activeToast:this.toasts[ze]};return null}_preBuildNotification(Te,ze,Vt,wn){return wn.onActivateTick?this.ngZone.run(()=>this._buildNotification(Te,ze,Vt,wn)):this._buildNotification(Te,ze,Vt,wn)}_buildNotification(Te,ze,Vt,wn){if(!wn.toastComponent)throw new Error("toastComponent required");const rr=this.findDuplicate(Vt,ze,this.toastrConfig.resetTimeoutOnDuplicate&&wn.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&Vt||ze)&&this.toastrConfig.preventDuplicates&&null!==rr)return rr;this.previousToastMessage=ze;let dr=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(dr=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const Kn=this.overlay.create(wn.positionClass,this.overlayContainer);this.index=this.index+1;let Yn=ze;ze&&wn.enableHtml&&(Yn=this.sanitizer.sanitize(y.q3G.HTML,ze));const Mn=new oe(Kn),Nn=new $e(this.index,wn,Yn,Vt,Te,Mn),sr=new Je(Nn,this._injector),Un=new Ne(wn.toastComponent,sr),Ot=Kn.attach(Un,this.toastrConfig.newestOnTop);Mn.componentInstance=Ot.instance;const Qn={toastId:this.index,title:Vt||"",message:ze||"",toastRef:Mn,onShown:Mn.afterActivate(),onHidden:Mn.afterClosed(),onTap:Nn.onTap(),onAction:Nn.onAction(),portal:Ot};return dr||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{Qn.toastRef.activate()})),this.toasts.push(Qn),Qn}}return it.\u0275fac=function(Te){return new(Te||it)(y.LFG(It),y.LFG(Xe),y.LFG(y.zs3),y.LFG(Ae.H7),y.LFG(y.R0b))},it.\u0275prov=y.Yz7({token:it,factory:it.\u0275fac,providedIn:"root"}),it})();const zt={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing",payload:null,toastComponent:(()=>{class it{constructor(Te,ze,Vt){this.toastrService=Te,this.toastPackage=ze,this.ngZone=Vt,this.width=-1,this.toastClasses="",this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}},this.message=ze.message,this.title=ze.title,this.options=ze.config,this.originalTimeout=ze.config.timeOut,this.toastClasses=`${ze.toastType} ${ze.config.toastClass}`,this.sub=ze.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=ze.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=ze.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=ze.toastRef.countDuplicate().subscribe(wn=>{this.duplicatesCount=wn})}get displayStyle(){if("inactive"===this.state.value)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state={...this.state,value:"active"},!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const Te=(new Date).getTime();this.width=(this.hideTime-Te)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state={...this.state,value:"active"},this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state={...this.state,value:"removed"},this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state.value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(Te,ze){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(Te),ze)):this.timeout=setTimeout(()=>Te(),ze)}outsideInterval(Te,ze){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(Te),ze)):this.intervalId=setInterval(()=>Te(),ze)}runInsideAngular(Te){this.ngZone?this.ngZone.run(()=>Te()):Te()}}return it.\u0275fac=function(Te){return new(Te||it)(y.Y36(At),y.Y36($e),y.Y36(y.R0b))},it.\u0275cmp=y.Xpm({type:it,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(Te,ze){1&Te&&y.NdJ("click",function(){return ze.tapToast()})("mouseenter",function(){return ze.stickAround()})("mouseleave",function(){return ze.delayedHideToast()}),2&Te&&(y.d8E("@flyInOut",ze.state),y.Tol(ze.toastClasses),y.Udp("display",ze.displayStyle))},attrs:Le,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(Te,ze){1&Te&&(y.YNc(0,Ue,3,0,"button",0),y.YNc(1,Qe,3,5,"div",1),y.YNc(2,he,1,3,"div",2),y.YNc(3,ge,2,4,"div",3),y.YNc(4,Pe,2,2,"div",4)),2&Te&&(y.Q6J("ngIf",ze.options.closeButton),y.xp6(1),y.Q6J("ngIf",ze.title),y.xp6(1),y.Q6J("ngIf",ze.message&&ze.options.enableHtml),y.xp6(1),y.Q6J("ngIf",ze.message&&!ze.options.enableHtml),y.xp6(1),y.Q6J("ngIf",ze.options.progressBar))},dependencies:[_e.O5],encapsulation:2,data:{animation:[(0,h.X$)("flyInOut",[(0,h.SB)("inactive",(0,h.oB)({opacity:0})),(0,h.SB)("active",(0,h.oB)({opacity:1})),(0,h.SB)("removed",(0,h.oB)({opacity:0})),(0,h.eR)("inactive => active",(0,h.jt)("{{ easeTime }}ms {{ easing }}")),(0,h.eR)("active => removed",(0,h.jt)("{{ easeTime }}ms {{ easing }}"))])]}}),it})()};let un=(()=>{class it{static forRoot(Te={}){return{ngModule:it,providers:[{provide:It,useValue:{default:zt,config:Te}}]}}}return it.\u0275fac=function(Te){return new(Te||it)},it.\u0275mod=y.oAB({type:it}),it.\u0275inj=y.cJS({imports:[_e.ez]}),it})()},5861:(ut,Be,k)=>{function y(q,_e,Ae,Le,Ue,Fe,Qe){try{var he=q[Fe](Qe),ge=he.value}catch(Pe){return void Ae(Pe)}he.done?_e(ge):Promise.resolve(ge).then(Le,Ue)}function h(q){return function(){var _e=this,Ae=arguments;return new Promise(function(Le,Ue){var Fe=q.apply(_e,Ae);function Qe(ge){y(Fe,Le,Ue,Qe,he,"next",ge)}function he(ge){y(Fe,Le,Ue,Qe,he,"throw",ge)}Qe(void 0)})}}k.d(Be,{Z:()=>h})}},ut=>{ut(ut.s=9780)}]);